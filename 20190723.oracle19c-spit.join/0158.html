<html id='05974.acfs-commands-windows.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This topic provides a summary of the Oracle ACFS file system commands for Windows.">
      <meta name="description" content="This topic provides a summary of the Oracle ACFS file system commands for Windows.">
      <title>Oracle ACFS Command-Line Tools for Windows Environments</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="This topic provides a summary of the Oracle ACFS file system commands for Windows.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="acfs-commands-aix.html" title="Previous" type="text/html">
      <link rel="next" href="acfs-commands-tagging.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="acfs-commands-aix.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="acfs-commands-tagging.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle Automatic Storage Management Cluster File System</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manage-acfs-advm-commands.html" property="item" typeof="WebPage"><span property="name">Managing Oracle ACFS with Command-Line Tools</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle ACFS Command-Line Tools for Windows Environments</li>
            </ol>
            <a id="GUID-0AAA3F88-2466-459A-8723-3EEDEA571DF0" name="GUID-0AAA3F88-2466-459A-8723-3EEDEA571DF0"></a><a id="OSTMG94875"></a><a id="OSTMG94876"></a><a id="OSTMG93000"></a>
            
            <h2 id="OSTMG-GUID-0AAA3F88-2466-459A-8723-3EEDEA571DF0" class="sect2">Oracle ACFS Command-Line Tools for Windows Environments</h2>
         </header>
         <div class="ind">
            <div>
               <p>This topic provides a summary of the Oracle ACFS file system commands for Windows. </p>
               <p><a href="acfs-commands-windows.html#GUID-0AAA3F88-2466-459A-8723-3EEDEA571DF0__BABJBCFB" title="ACFS Windows Command Summary">Table 16-17</a> lists the Oracle ACFS Windows file system commands with brief descriptions. These commands have been extended to support Oracle ACFS. All other Windows file system commands operate without change for Oracle ACFS.
               </p>
               <div class="tblformalwide" id="GUID-0AAA3F88-2466-459A-8723-3EEDEA571DF0__BABJBCFB">
                  <p class="titleintable">Table 16-17 Summary of Oracle ACFS file system commands for Windows</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Summary of Oracle ACFS file system commands for Windows" summary="ACFS Windows Command Summary" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d143986e161">Command</th>
                           <th align="left" valign="bottom" width="63%" id="d143986e164">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e169" headers="d143986e161 ">
                              <p><a href="acfs-commands-windows.html#GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC">acfschkdsk</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e169 d143986e164 ">
                              <p>Checks and repairs an Oracle ACFS file system on Windows.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e177" headers="d143986e161 ">
                              <p><a href="acfs-commands-windows.html#GUID-503B091A-2650-431C-8D4F-3B9C08609D04">acfsdismount</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e177 d143986e164 ">
                              <p>Dismounts an Oracle ACFS on Windows.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e185" headers="d143986e161 ">
                              <p><a href="acfs-commands-windows.html#GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB">acfsformat</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e185 d143986e164 ">
                              <p>Creates an Oracle ACFS file system on Windows.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e193" headers="d143986e161 ">
                              <p><a href="acfs-commands-windows.html#GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D">acfsmountvol</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e193 d143986e164 ">
                              <p>Mounts an Oracle ACFS file system on Windows.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e201" headers="d143986e161 ">
                              <p><a href="acfs-commands-windows.html#GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F">acfsutil detach</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e201 d143986e164 ">
                              <p>Prepares the Oracle ACFS driver for module unload on Windows.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p><a href="acfs-commands-windows.html#GUID-0AAA3F88-2466-459A-8723-3EEDEA571DF0__BABGECIC" title="Summary of Non-Oracle ACFS Windows commands">Table 16-18</a> lists the non-Oracle ACFS Windows file system commands with brief descriptions. 
               </p>
               <div class="tblformalwide" id="GUID-0AAA3F88-2466-459A-8723-3EEDEA571DF0__BABGECIC">
                  <p class="titleintable">Table 16-18 Summary of Non-Oracle ACFS file system commands for Windows</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Summary of Non-Oracle ACFS file system commands for Windows" summary="Summary of Non-Oracle ACFS Windows commands" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d143986e224">Command</th>
                           <th align="left" valign="bottom" width="63%" id="d143986e227">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e232" headers="d143986e224 ">
                              <p><a href="acfs-commands-windows.html#GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC">advmutil dismount</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e232 d143986e227 ">
                              <p>Dismounts Oracle ADVM volume devices for file systems that are not Oracle ACFS on Windows. </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e240" headers="d143986e224 ">
                              <p><a href="acfs-commands-windows.html#GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351">advmutil list</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e240 d143986e227 ">
                              <p>Lists Oracle ADVM volume devices for file systems that are not Oracle ACFS on Windows.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d143986e248" headers="d143986e224 ">
                              <p><a href="acfs-commands-windows.html#GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D">advmutil mount</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d143986e248 d143986e227 ">
                              <p>Mounts Oracle ADVM volume devices for file systems that are not Oracle ACFS on Windows.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="OSTMG94878"></a><a id="OSTMG94879"></a><a id="OSTMG94880"></a><a id="OSTMG94881"></a><a id="OSTMG94882"></a><a id="OSTMG94877"></a><div class="props_rev_3"><a id="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC" name="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC"></a><h3 id="OSTMG-GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC" class="sect3">acfschkdsk</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC__GUID-304EA978-A8CC-44A5-AE92-19AF0D8EB622">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Checks and repairs an Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC__GUID-60281581-492A-40C0-95F2-1E08F98CE988">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfschkdsk /h
acfschkdsk [/a|/f] [/v] [/n|/y] <span class="italic">volume_device</span></pre><p><a href="acfs-commands-windows.html#GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC__BABBEHDB" title="This table lists the options for the ofschkdsk command, along with a description for each option">Table 16-19</a> contains the options available with the <code class="codeph">acfschkdsk</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC__BABBEHDB">
                     <p class="titleintable">Table 16-19 Options for the acfschkdsk command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfschkdsk command" summary="This table lists the options for the ofschkdsk command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d143986e434">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d143986e437">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e442" headers="d143986e434 ">
                                 <p><code class="codeph">/a</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e442 d143986e437 ">
                                 <p>Specifies to automatically repair the file system.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e450" headers="d143986e434 ">
                                 <p><code class="codeph">/f</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e450 d143986e437 ">
                                 <p>Forces the file system into mountable state without completing a file system check or repair.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e458" headers="d143986e434 ">
                                 <p><code class="codeph">/v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e458 d143986e437 ">
                                 <p>Specifies verbose mode. The progress is displayed as the operation occurs. Running in verbose mode can impact performance.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e466" headers="d143986e434 ">
                                 <p><code class="codeph">/h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e466 d143986e437 ">
                                 <p>Displays the usage help text and exits.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e474" headers="d143986e434 ">
                                 <p><code class="codeph">/n</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e474 d143986e437 ">
                                 <p>Answers no to any prompts.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e482" headers="d143986e434 ">
                                 <p><code class="codeph">/y</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e482 d143986e437 ">
                                 <p>Answers yes to any prompts.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e490" headers="d143986e434 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e490 d143986e437 ">
                                 <p>Specifies the Oracle ADVM volume device.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfschkdsk</code> checks and repairs an existing Oracle ACFS. This command can only be run on a file system that has been dismounted clusterwide. 
                     </p>
                     <p>The Oracle ACFS driver must be loaded for <code class="codeph">acfschkdsk</code> to work. If the driver is not loaded, the administrator is prompted to ensure this is intentional. For information about loading drivers, see <span class="q">"<a href="acfs-advanced-topics.html#GUID-86621B17-67AC-4126-AC78-648F1320DDFF">Oracle ACFS Drivers Resource Management</a>"</span>.
                     </p>
                     <p>The Oracle ACFS driver normally ensures that <code class="codeph">acfschkdsk</code> is the only user of the file system clusterwide. In extreme cases it may be necessary to fix a file system without loading the driver if the file system automount causes the system to fail. The verifications that are normally done by the driver for exclusive access are bypassed in this case.
                     </p>
                     <p>By default <code class="codeph">acfschkdsk</code> only checks for and only reports errors. The <code class="codeph">/a</code> flag must be specified to instruct <code class="codeph">acfschkdsk</code> to repair errors in the file system. Do not interrupt <code class="codeph">acfschkdsk</code> during the repair operation.
                     </p>
                     <p>In a few cases, <code class="codeph">acfschkdsk</code> prompts for questions before proceeding to check a file system. For example, if <code class="codeph">acfschkdsk</code> detects that another <code class="codeph">acfschkdsk</code> is in progress on the file system, or if <code class="codeph">acfschkdsk</code> detects that the Oracle ACFS driver is not loaded, or if the file system does not appear to be Oracle ACFS. In checking mode, <code class="codeph">acfschkdsk</code> also prompts if there are transaction logs that have not been processed completely due to an incomplete shutdown. To run in a non-interactive mode, include either the <code class="codeph">/y</code> or <code class="codeph">/n</code> options to answer yes or no to any questions.
                     </p>
                     <p><code class="codeph">acfschkdsk</code> creates working files before it checks a file system. These working files are created in the <code class="codeph">temp</code> directory if space is available. If insufficient space is available, <code class="codeph">acfschkdsk</code> attempts to write in the current working directory. The files <code class="codeph">acfschkdsk</code> creates are roughly the size of the file system being checked divided by 32K. At most three files are allocated. These files are deleted when <code class="codeph">acfschkdsk</code> has finished.
                     </p>
                     <p>In the event that <code class="codeph">acfschkdsk</code> finds a file or directory in the file system for which it cannot determine its name or intended location (possibly due to a corruption in its parent directory), it places this object in the <code class="codeph">\lost+found</code> directory when <code class="codeph">acfschkdsk</code> is run in fix mode. For security reasons, only the Windows <code class="codeph">Administrator</code> can read files in <code class="codeph">\lost+found</code>. If the administrator can later determine the original name and location of the file based on its contents, the file can be moved or copied into its intended location.
                     </p>
                     <p>The file names in the <code class="codeph">\lost+found</code> directory are in the following formats:
                     </p><pre class="oac_no_warn" dir="ltr">parent.<span class="italic">id</span>.file.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
parent.<span class="italic">id</span>.dir.<span class="italic">id</span>.<span class="italic">time-in-sec-since-1970</span>
</pre><p>The <span class="italic"><code class="codeph">id</code></span> fields are the internal Oracle ACFS numeric identifiers for each file and directory in the file system.
                     </p>
                     <p>You can use <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">id</code> <span class="italic"><code class="codeph">id</code></span> <span class="italic"><code class="codeph">mount_point</code></span> to attempt to determine the directory associated with <code class="codeph">parent.</code><span class="italic"><code class="codeph">id</code></span>. This directory is assumed to be where the deleted object originated. For information about <code class="codeph">acfsutil</code> <code class="codeph">info</code>, see <span class="q">"<a href="acfs-commands-utilities.html#GUID-09C9BFDD-DA94-4082-B713-1C8B138E1191">acfsutil info file</a>"</span>.
                     </p>
                     <p>If the parent directory is not known, the parent <span class="italic"><code class="codeph">id</code></span> field is set to <code class="codeph">UNKNOWN</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC__GUID-C8132E16-8CA3-45FA-8CEE-29AFDEA064CB">
                        <p class="notep1">Note:</p>
                        <p>It is not possible to see the contents of the <code class="codeph">\lost+found</code> directory from a snapshot.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC__GUID-EE2938FE-A63D-4C6F-BC77-D180C73D76DB">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example shows how to check an Oracle ACFS file system on Windows.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6377282F-880E-4FBB-A23B-2B2DF4A15FBC__GUID-E210525A-0027-46D0-96FF-91603E0DF93E">
                     <p class="titleinexample">Example 16-16 Using the acfschkdsk command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; acfschkdsk asm-volume1-311</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94884"></a><a id="OSTMG94885"></a><a id="OSTMG94886"></a><a id="OSTMG94887"></a><a id="OSTMG94888"></a><a id="OSTMG94883"></a><div class="props_rev_3"><a id="GUID-503B091A-2650-431C-8D4F-3B9C08609D04" name="GUID-503B091A-2650-431C-8D4F-3B9C08609D04"></a><h3 id="OSTMG-GUID-503B091A-2650-431C-8D4F-3B9C08609D04" class="sect3">acfsdismount</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-503B091A-2650-431C-8D4F-3B9C08609D04__GUID-690709A4-91F1-46D4-BAAA-CFD51437B629">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Dismounts an Oracle ACFS file system and removes its mount point (name space attachment).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-503B091A-2650-431C-8D4F-3B9C08609D04__GUID-3E92B375-56C9-454C-8B1A-0F6803B440ED">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsdismount /h
acfsdismount [/v] {<span class="italic">drive_letter</span> | <span class="italic">mount_point</span>} 
acfsdismount [/v] /all</pre><p><a href="acfs-commands-windows.html#GUID-503B091A-2650-431C-8D4F-3B9C08609D04__BABBFEHC" title="This table lists the options for the ofsdismount command, along with a description for each option">Table 16-20</a> contains the options available with the <code class="codeph">acfsdismount</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-503B091A-2650-431C-8D4F-3B9C08609D04__BABBFEHC">
                     <p class="titleintable">Table 16-20 Options for the acfsdismount command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsdismount command" summary="This table lists the options for the ofsdismount command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d143986e869">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d143986e872">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e877" headers="d143986e869 ">
                                 <p><code class="codeph">/v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e877 d143986e872 ">
                                 <p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e885" headers="d143986e869 ">
                                 <p><code class="codeph">/h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e885 d143986e872 ">
                                 <p>Displays help text and exits.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e893" headers="d143986e869 ">
                                 <p><code class="codeph">/all</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e893 d143986e872 ">
                                 <p>Specifies to dismount all Oracle ACFS file systems on this node.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e901" headers="d143986e869 ">
                                 <p><span class="italic"><code class="codeph">drive_letter</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e901 d143986e872 ">
                                 <p>Specifies the drive letter followed by a colon.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e910" headers="d143986e869 ">
                                 <p><span class="italic"><code class="codeph">mount_point</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e910 d143986e872 ">
                                 <p>Specifies the full path of the mount point including the drive letter.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsdismount</code> removes the mount point (name space attachment) for the specified file system on the current node and dismounts the file system if it is mounted. When the file system is in the dismounted state, the data is preserved on the device and the file system can be re-mounted with the <code class="codeph">acfsmountvol</code> command. 
                     </p>
                     <p><code class="codeph">acfsdismount</code> can fail in some circumstances because there are open file references from various programs, such as a virus scanner, Process Explorer, or Oracle Enterprise Manager.
                     </p>
                     <p>Windows Administrator privileges are required to use the <code class="codeph">acfsdismount</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-503B091A-2650-431C-8D4F-3B9C08609D04__GUID-D0C5AF16-9988-4223-8807-98F270A47E61">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following examples show how to dismount an Oracle ACFS file system. The first example dismounts a file system using only the drive letter. The second example dismounts a file system using the full path name. The third examples dismounts all mounted file systems. All the examples enable the verbose mode.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-503B091A-2650-431C-8D4F-3B9C08609D04__GUID-D50F2DD6-5895-459B-BBE7-D64BDBF87B76">
                     <p class="titleinexample">Example 16-17 Using the acfsdismount command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; acfsdismount /v O:

C:\&gt; acfsdismount /v O:\mnt\

C:\oracle&gt;acfsdismount /v /all
acfsdismount: valid path name: C:\oracle\acfsmounts\acfs1\
acfsdismount: opening handle to volume C:\oracle\acfsmounts\acfs1
acfsdismount: locking volume C:\oracle\acfsmounts\acfs1
acfsdismount: dismounting volume C:\oracle\acfsmounts\acfs1
acfsdismount: removing volume mount point on C:\oracle\acfsmounts\acfs1\
acfsdismount: closing handle to volume C:\oracle\acfsmounts\acfs1 and exiting cleanly</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94890"></a><a id="OSTMG94891"></a><a id="OSTMG94892"></a><a id="OSTMG94893"></a><a id="OSTMG94894"></a><a id="OSTMG94889"></a><div class="props_rev_3"><a id="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB" name="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB"></a><h3 id="OSTMG-GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB" class="sect3">acfsformat</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB__GUID-A5954D98-D7AD-48A0-B8F0-83AC87A342DC">Purpose</p>
                     <p>Creates an Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB__GUID-DD4A0112-60B0-4F1D-BF66-D5DEC21BCBA9">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsformat /h
acfsformat [/v] [/i {512 | 4096}] [/f] [/n <span class="italic">name</span>] <span class="italic">volume_device</span> 
            [/c <span class="italic">release_version</span>] [<span class="italic">blocks</span>]</pre><p><a href="acfs-commands-windows.html#GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB__BABCFJEA" title="This table lists the options for the ofsformat command, along with a description for each option">Table 16-21</a> contains the options available with the <code class="codeph">acfsformat</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB__BABCFJEA">
                     <p class="titleintable">Table 16-21 Options for the acfsformat command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsformat command" summary="This table lists the options for the ofsformat command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d143986e1138">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d143986e1141">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1146" headers="d143986e1138 ">
                                 <p><code class="codeph">/v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1146 d143986e1141 ">
                                 <p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1154" headers="d143986e1138 ">
                                 <p><code class="codeph">/i {512 | 4096}</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1154 d143986e1141 ">
                                 <p>Specifies a file system with metadata block size of 512 or 4096 bytes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1162" headers="d143986e1138 ">
                                 <p><code class="codeph">/n</code> <span class="italic"><code class="codeph">name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1162 d143986e1141 ">
                                 <p>Specifies the name for the file system. This is also known as a volume label. <code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">fs</code> returns the name if one was specified. This can also be displayed from the <code class="codeph">VOL_LABEL</code> column in the <code class="codeph">V$ASM_ACFSVOLUMES</code> view.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1189" headers="d143986e1138 ">
                                 <p><code class="codeph">/f</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1189 d143986e1141 ">
                                 <p>Specifies the force option. This action creates the file system even if there is an existing Oracle ACFS on the device, although only if the file system is dismounted. This option overwrites structures on the original file system. Use this option with caution.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1197" headers="d143986e1138 ">
                                 <p><code class="codeph">/h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1197 d143986e1141 ">
                                 <p>Displays the usage help text.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1205" headers="d143986e1138 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1205 d143986e1141 ">
                                 <p>Specifies an Oracle ADVM device file to be formatted.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1214" headers="d143986e1138 ">
                                 <p><code class="codeph">/c</code> <span class="italic"><code class="codeph">release_version</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1214 d143986e1141 ">
                                 <p>Creates an Oracle ACFS file system with Oracle ACFS release compatibility set to the value of <span class="italic">release_version</span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1229" headers="d143986e1138 ">
                                 <p><span class="italic"><code class="codeph">blocks</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1229 d143986e1141 ">
                                 <p>Specifies the number of blocks that the file system should consume on the named device. The quantity specified can be in units of <code class="codeph">K</code> (kilobytes), <code class="codeph">M</code> (megabytes), <code class="codeph">G</code> (gigabytes), or <code class="codeph">T</code> (terabytes). If a unit is not specified, the default is bytes. If this option is not specified, the entire device is consumed.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsformat</code> creates the on disk structure needed for Oracle ACFS to be mounted. <code class="codeph">acfsformat</code> performs a quick format on the target volume. After <code class="codeph">acfsformat</code> runs successfully, the <code class="codeph">USAGE</code> column in the <code class="codeph">V$ASM_VOLUME</code> view displays <code class="codeph">ACFS</code>.
                     </p>
                     <p>The value specified with the <code class="codeph">/c <span class="codeinlineitalic">release_version</span></code> option must be greater than or equal to the value of <code class="codeph">COMPATIBLE.ADVM</code> for the disk group, and must be less than or equal to the running Oracle Grid infrastructure release version. If <code class="codeph">/c <span class="codeinlineitalic">release_version</span></code> is not specified, the value of <code class="codeph">COMPATIBLE.ADVM</code> is used. After the compatibility is set, it cannot be downgraded. The <code class="codeph">/c <span class="codeinlineitalic">release_version</span></code> option can be used in situations where it is not possible, or desirable, to update <code class="codeph">COMPATIBLE.ADVM</code> and <code class="codeph">COMPATIBLE.ASM</code> for the disk group, but you want to use an Oracle ACFS feature that requires a compatibility increase.  After the Oracle ACFS compatibility is updated, it is no longer possible to mount the file system with an older Oracle Grid infrastructure release. To change the compatibility of an existing file system, refer to “<a href="acfs-commands-utilities.html#GUID-E0898E97-98E4-433D-8CB3-609FD90A2A58">acfsutil compat set</a>”. For information about Oracle ASM disk group compatibility attributes, see <span class="q">"<a href="diskgroup-compatibility.html#GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" title="You cannot revert disk group compatibility to a previous values. Instead you must create a new disk group.Thi topic describes the Oracle ASM features enabled by valid combinations of the disk group compatibility attribute settings.If you advance disk group compatibility, then you could enable the creation of files that are too large to be managed by a previous release of Oracle Database.">Disk Group Compatibility</a>"</span>.
                     </p>
                     <p>The minimum file system size is 200 MB for the 512 byte metadata block size format and 512 MB for the 4 KB metadata block size format. </p>
                     <p>The Oracle ACFS driver must be loaded for <code class="codeph">acfsformat</code> to work. 
                     </p>
                     <p>Windows Administrator privileges are required to run this command.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB__GUID-2FC04C17-F064-4E02-B9D7-288C4EA1BEDE">4 KB Sector/Metadata</p>
                     <p>The following list summarizes the use of the <code class="codeph">/i</code> option and metadata block size based on the value of the <code class="codeph">COMPATIBLE.ADVM</code> disk group attribute.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If <code class="codeph">COMPATIBLE.ADVM</code> is set to <code class="codeph">12.2</code> or greater, then the metadata block size is <code class="codeph">4096</code> bytes by default.
                           </p>
                        </li>
                        <li>
                           <p>If <code class="codeph">COMPATIBLE.ADVM</code> is set to less than <code class="codeph">12.2</code>, then the block size is set to 512 bytes.
                           </p>
                        </li>
                        <li>
                           <p>If <code class="codeph">COMPATIBLE.ADVM</code> is set to less than <code class="codeph">12.2</code> and the logical sector size is not 512 bytes, then the command fails.
                           </p>
                        </li>
                     </ul>
                     <p>User data IO continues to support transfers as small as 512 bytes for normal user IO requests. When the Oracle ADVM volume of the file system has a logical disk sector size of 4 K, user Direct IO requests should be aligned on 4 K file offsets and be a multiple of 4 KB lengths for the best performance. Note that only 4 K metadata block size formats support ADVM volumes with 4 K logical disk sectors.</p>
                     <p>The <code class="codeph">COMPATIBLE.ADVM</code> value must be set to <code class="codeph">12.2</code> or higher to format an Oracle ADVM volume whose logical disk size is 4096 or to use the <code class="codeph">/i 4096</code> option to format an Oracle ADVM volume whose logical disk sector size is 512 bytes.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB__GUID-67C6D591-01B8-43B0-B86F-8E441CC82F38">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This example shows how to create an Oracle ACFS file system. The verbose option is specified in this example.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-ED6D0BB2-4182-4DA0-A50D-9F5B878E2DDB__GUID-6F5D5775-0C5B-4270-AA8B-F70047AE1D24">
                     <p class="titleinexample">Example 16-18 Using the acfsformat command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; acfsformat /v asm-volume1-311</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94896"></a><a id="OSTMG94897"></a><a id="OSTMG94898"></a><a id="OSTMG94899"></a><a id="OSTMG94900"></a><a id="OSTMG94895"></a><div class="props_rev_3"><a id="GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D" name="GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D"></a><h3 id="OSTMG-GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D" class="sect3">acfsmountvol</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D__GUID-428ECE3B-5A2A-43CE-8398-E36392BA5333">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Mounts an Oracle ACFS file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D__GUID-05DD470D-3993-4305-A3C3-4D1164E8601A">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsmountvol /h
acfsmountvol
acfsmountvol [/v]  /all 
acfsmountvol [/v] { <span class="italic">drive_letter</span> |<span class="italic">dir</span> } <span class="italic">volume_device</span></pre><p><a href="acfs-commands-windows.html#GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D__BABBDHFE" title="This table lists the options for the ofsmountvol command, along with a description for each option">Table 16-22</a> contains the options available with the <code class="codeph">acfsmountvol</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D__BABBDHFE">
                     <p class="titleintable">Table 16-22 Options for the acfsmountvol command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the acfsmountvol command" summary="This table lists the options for the ofsmountvol command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d143986e1571">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d143986e1574">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1579" headers="d143986e1571 ">
                                 <p><code class="codeph">/v</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1579 d143986e1574 ">
                                 <p>Specifies verbose mode. The progress is displayed as the operation occurs.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1587" headers="d143986e1571 ">
                                 <p><code class="codeph">/h</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1587 d143986e1574 ">
                                 <p>Displays the help usage text and exits.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1595" headers="d143986e1571 ">
                                 <p><code class="codeph">/all</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1595 d143986e1574 ">
                                 <p>Reads the ACFS mount registry created with <code class="codeph">acfsutil</code> <code class="codeph">registry</code> and mounts the file systems listed in it on this node.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1609" headers="d143986e1571 ">
                                 <p><span class="italic"><code class="codeph">drive_letter</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1609 d143986e1574 ">
                                 <p>The Windows drive letter to link to an Oracle ADVM volume device.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1618" headers="d143986e1571 ">
                                 <p><span class="italic"><code class="codeph">dir</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1618 d143986e1574 ">
                                 <p>Specifies the full directory of the mount point including the drive letter.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e1627" headers="d143986e1571 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e1627 d143986e1574 ">
                                 <p>Specifies an Oracle ADVM volume device file that has been formatted by <code class="codeph">acfsformat</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">acfsmountvol</code> attaches an Oracle ACFS to the file system hierarchy at the specified path name or drive letter. <span class="italic"><code class="codeph">dir</code></span> must be an empty directory. Oracle ACFS mount points can be created on any empty directory and they can be hierarchical (nested). 
                     </p>
                     <p>After <code class="codeph">acfsmountvol</code> runs successfully, the <code class="codeph">MOUNTPATH</code> column in the <code class="codeph">V$ASM_VOLUME</code> view displays the full path or drive letter on which the file system is now mounted. If no arguments are specified, the command lists all mounted Oracle ACFS file systems on this node. 
                     </p>
                     <p>It is not always possible to return the cause of a mount failure to the <code class="codeph">acfsmountvol</code> command. When this happens Oracle ACFS writes the cause of the failure to the Windows system event logger.
                     </p>
                     <p>An Oracle ACFS file system should only be mounted on one mount point. The same mount point name should be used on all cluster members.</p>
                     <p>Windows Administrator privileges are required to mount an Oracle ACFS.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D__GUID-24D8EB8C-77CF-4D7E-93F9-C9FFB7321D24">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The first example shows how to mount <code class="codeph">asm-volume1-311</code> on the mount point identified as the <code class="codeph">F:</code> drive. The second example shows how to mount <code class="codeph">asm-volume1-215</code> on the mount point specified by <code class="codeph">c:\oracle\acfsmounts\acfs1\</code>. The first two examples enable verbose mode. The third example lists all the mounted file systems on the node.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1AD5F2D8-0E85-4566-8296-655DE3EDA42D__GUID-F1DA2C6F-73AA-4E9A-B84F-4A40514D8819">
                     <p class="titleinexample">Example 16-19 Using the acfsmountvol command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; acfsmountvol  /v  F:  asm-volume1-215

C:\&gt; acfsmountvol /v  c:\oracle\acfsmounts\acfs1  asm-volume1-311

C:\oracle&gt;acfsmountvol
   asm-volume1-311
       C:\oracle\acfsmounts\acfs1 </pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94902"></a><a id="OSTMG94903"></a><a id="OSTMG94904"></a><a id="OSTMG94905"></a><a id="OSTMG94901"></a><div class="props_rev_3"><a id="GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F" name="GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F"></a><h3 id="OSTMG-GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F" class="sect3">acfsutil detach</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F__GUID-DBB7A0D7-E590-41D9-915B-565A69A0E65C">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Prepares the Oracle ACFS driver for module unload.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F__GUID-30C7CEA4-21F9-4F10-97FD-BD3F2D6517B4">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">acfsutil detach</pre><p><code class="codeph">acfsutil</code> <code class="codeph">detach</code> prepares Oracle ACFS for having its driver unloaded. Oracle ACFS registers itself as a base file system upon driver load. In order for the Windows service control manager to send a stop command to the driver, Oracle ACFS must unregister itself as a base file system in addition to deleting any device objects associated with the driver. 
                     </p>
                     <p>After <code class="codeph">acfsutil</code> <code class="codeph">detach</code> has completed successfully, and all volumes have been dismounted, then the administrator can run the Windows service control manager's stop command to the Oracle ACFS driver. If the <code class="codeph">acfsutil</code> <code class="codeph">detach</code> command is not used, then the <code class="codeph">stop</code> command does not call the Oracle ACFS driver unload routine. This command can only be run by the Windows <code class="codeph">Administrator</code>. It is called automatically by the Oracle ACFS shutdown scripts.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F__GUID-E8F9BAF8-0C4E-40A3-9CE6-98A565FB1FED">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following examples show how to detach all Oracle ACFS file systems and unload drivers on Windows. The first example dismounts all the Oracle ACFS file systems volume devices. The second example detaches the volume devices.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E7AD2596-1CAD-49CE-8A0E-4A5D1C19912F__GUID-F302D9BA-9AE2-4B38-94F2-DB9098A42458">
                     <p class="titleinexample">Example 16-20 Using the acfsutil detach command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; acfsdismount /all

C:\&gt; acfsutil detach</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94907"></a><a id="OSTMG94908"></a><a id="OSTMG94909"></a><a id="OSTMG94910"></a><a id="OSTMG94911"></a><a id="OSTMG94906"></a><div class="props_rev_3"><a id="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC" name="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC"></a><h3 id="OSTMG-GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC" class="sect3">advmutil dismount</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC__GUID-5D1E3D1D-3199-406C-87D5-32C4562E4623">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">advmutil</code> <code class="codeph">dismount</code> command dismounts Oracle ADVM volume devices for file systems that are not Oracle ACFS. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC__GUID-0C539DE4-4531-468D-BFFE-C6579E720989">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">advmutil dismount [/unregister] {<span class="italic">drive_letter</span> | <span class="italic">dir</span>}
advmutil dismount [/unregister] [/all | /dg=<span class="italic">disk_group</span>]</pre><p><a href="acfs-commands-windows.html#GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC__BABJCJHD" title="This table lists the options for the advutil command, along with a description for each option">Table 16-23</a> contains the options available with the Windows <code class="codeph">advmutil</code> <code class="codeph">dismount</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC__BABJCJHD">
                     <p class="titleintable">Table 16-23 Options for the advmutil dismount command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the advmutil dismount command" summary="This table lists the options for the advutil command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d143986e2082">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d143986e2085">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2090" headers="d143986e2082 ">
                                 <p><span class="italic"><code class="codeph">drive_letter</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2090 d143986e2085 ">
                                 <p>Specifies the drive letter to dismount.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2099" headers="d143986e2082 ">
                                 <p><span class="italic"><code class="codeph">dir</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2099 d143986e2085 ">
                                 <p>Specifies the directory of the mount point, including the drive letter.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2108" headers="d143986e2082 ">
                                 <p><code class="codeph">/a</code>ll
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2108 d143986e2085 ">
                                 <p>Specifies to dismount all file systems on this node.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2117" headers="d143986e2082 ">
                                 <p><code class="codeph">/unregister</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2117 d143986e2085 ">
                                 <p>Optionally unregister an Oracle ADVM volume device and its drive letter from the system registry. Upon startup of the Oracle ASM instance and Oracle ACFS, the unregistered drive letter and Oracle ADVM volume symbolic links are not created.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2125" headers="d143986e2082 ">
                                 <p><code class="codeph">/dg=</code><span class="italic"><code class="codeph">disk_group</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2125 d143986e2085 ">
                                 <p>Optional name of the disk group containing the registered Oracle ADVM volume devices to create drive letters or possibly mount or dismount file systems.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC__GUID-3EA7C78C-B107-4222-BD98-90EAEFC2761C">
                        <p class="notep1">Note:</p>
                        <p>To format an Oracle ADVM volume device with NTFS, it must be mounted on a drive letter. After formatting, Oracle ADVM volume devices with NTFS can be mounted on either a drive letter or a directory.</p>
                     </div>
                     <p>To successfully run this command, the local Oracle ASM instance must be running and the disk groups required by this command must have been created and mounted in the Oracle ASM instance and volumes enabled. </p>
                     <p>The <code class="codeph">advmutil</code> <code class="codeph">dismount</code> command does not return control back to the operating system prompt until the file system has been completely unmounted.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC__GUID-B18D2588-E1FA-4ABB-B98D-625D4B79E3CF">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>These examples show how to dismount a file system that is not Oracle ACFS. </p>
                     <ol>
                        <li>
                           <p>The first example shows how to remove a drive letter for an Oracle ADVM volume device which disallows access to the file system. </p>
                        </li>
                        <li>
                           <p>The second example shows how to remove a drive letter for an Oracle ADVM volume device which disallows access to the file system and removes it from the registry.</p>
                        </li>
                        <li>
                           <p>The third example shows how to remove a drive letter for all registered Oracle ADVM volume devices which disallows access to all file systems.</p>
                        </li>
                        <li>
                           <p>The fourth example shows how to remove a drive letter for all registered Oracle ADVM volume devices in a particular Oracle ASM disk group which disallows access to all related file systems.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-E38FD7A4-8D20-4C06-9C51-E71F75A5DFDC__GUID-0B8C5729-1FEA-4230-963D-0AD54C7C3D5F">
                     <p class="titleinexample">Example 16-21 Using the advmutil dismount command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; advmutil dismount H:

C:\&gt; advmutil dismount H: /unregister

C:\&gt; advmutil dismount /all

C:\&gt; advmutil dismount /dg=data</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94913"></a><a id="OSTMG94914"></a><a id="OSTMG94915"></a><a id="OSTMG94916"></a><a id="OSTMG94917"></a><a id="OSTMG94912"></a><div class="props_rev_3"><a id="GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351" name="GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351"></a><h3 id="OSTMG-GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351" class="sect3">advmutil list</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351__GUID-B4A0602F-097E-4773-AF83-7D8EB6324157">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">advmutil</code> <code class="codeph">list</code> command lists the Oracle ADVM volume devices that were registered with <code class="codeph">advmutil</code> <code class="codeph">mount</code> <code class="codeph">/register.</code></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351__GUID-C3E9A58D-892E-4747-AFB7-F2A93946C646">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">advmutil list /registry</pre><p><a href="acfs-commands-windows.html#GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351__BABGJHEH" title="This table lists the options for the advutil command, along with a description for each option">Table 16-24</a> contains the options available with the Windows <code class="codeph">advmutil</code> <code class="codeph">list</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351__BABGJHEH">
                     <p class="titleintable">Table 16-24 Options for the advmutil list command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the advmutil list command" summary="This table lists the options for the advutil command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d143986e2367">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d143986e2370">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2375" headers="d143986e2367 ">
                                 <p><code class="codeph">list</code> <code class="codeph">/registry</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2375 d143986e2370 ">
                                 <p>Lists the drive letter and corresponding Oracle ADVM volume device name contained in the Windows registry.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>To successfully run this command, the local Oracle ASM instance must be running and the disk groups required by this command must have been created and mounted in the Oracle ASM instance and volumes enabled. </p>
                     <p>For information about listing Oracle ADVM volume devices for Oracle ACFS, see <span class="q">"<a href="acfs-commands-utilities.html#GUID-09C9BFDD-DA94-4082-B713-1C8B138E1191">acfsutil info file</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351__GUID-3AE28959-4740-4FE9-AF83-A48DD720D048">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example shows how to list all entries in the system registry.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A6E582E5-AF0F-46E7-AD08-3979D3C34351__GUID-80ACE18F-51D0-4B47-86E0-FF6054145FC8">
                     <p class="titleinexample">Example 16-22 Using the advmutil list command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; advmutil list /registry

  Drive Letter     Asm Volume
  ===================================
  H:               asm-volume1-123
  K:               asm-volume2-245</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94919"></a><a id="OSTMG94920"></a><a id="OSTMG94921"></a><a id="OSTMG94922"></a><a id="OSTMG94923"></a><a id="OSTMG94918"></a><div class="props_rev_3"><a id="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D" name="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D"></a><h3 id="OSTMG-GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D" class="sect3">advmutil mount</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D__GUID-BF822346-1360-4CF3-A1AB-E2D2DDB6E738">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">advmutil</code> <code class="codeph">mount</code> command mounts Oracle ADVM volume devices for file systems that are not Oracle ACFS.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D__GUID-1CD7BF51-BF71-45F7-BC3B-2D22148EB971">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">advmutil mount [/register] {<span class="italic">drive_letter</span> | <span class="italic">dir</span>} <span class="italic">volume_device</span>
advmutil mount /all</pre><p><a href="acfs-commands-windows.html#GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D__BABEIAFI" title="This table lists the options for the advutil command, along with a description for each option">Table 16-25</a> contains the options available with the Windows <code class="codeph">advmutil</code> <code class="codeph">mount</code> command. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D__BABEIAFI">
                     <p class="titleintable">Table 16-25 Options for the advmutil mount command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the advmutil mount command" summary="This table lists the options for the advutil command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d143986e2602">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d143986e2605">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2610" headers="d143986e2602 ">
                                 <p><span class="italic"><code class="codeph">drive_letter</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2610 d143986e2605 ">
                                 <p>Specifies the drive letter to mount.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2619" headers="d143986e2602 ">
                                 <p><span class="italic"><code class="codeph">dir</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2619 d143986e2605 ">
                                 <p>Specifies the directory of the mount point, including the drive letter.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2628" headers="d143986e2602 ">
                                 <p><span class="italic"><code class="codeph">volume_device</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2628 d143986e2605 ">
                                 <p>Indicates the Oracle ADVM volume device.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2637" headers="d143986e2602 ">
                                 <p><code class="codeph">/a</code>ll
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2637 d143986e2605 ">
                                 <p>Specifies to mount all non-Oracle ACFS file systems on this node.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d143986e2646" headers="d143986e2602 ">
                                 <p><code class="codeph">/register</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d143986e2646 d143986e2605 ">
                                 <p>Optionally register an Oracle ADVM volume device and its drive letter in the Windows system registry. After startup of the Oracle ASM instance and Oracle ACFS, all registered drive letters and Oracle ADVM volume symbolic links are created. This allows for automatic file system mounting by Windows as is also done for Oracle ACFS file systems.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D__GUID-FEC4CDAF-D65F-4FAB-A5A8-831C93557BA7">
                        <p class="notep1">Note:</p>
                        <p>To format an Oracle ADVM volume device with NTFS, it must be mounted on a drive letter. After formatting, Oracle ADVM volume devices with NTFS can be mounted on either a drive letter or a directory.</p>
                     </div>
                     <p>To successfully run this command, the local Oracle ASM instance must be running and the disk groups required by this command must have been created and mounted in the Oracle ASM instance and volumes enabled. </p>
                     <p>For information about registering Oracle ADVM volume devices for Oracle ACFS, see <span class="q">"<a href="acfs-commands-utilities.html#GUID-57DE893C-37A2-4427-8CC3-76EB3196A4A6">acfsutil registry</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D__GUID-C5DA1F30-A91C-41FA-80D3-30AC19CEBF17">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>These examples show how to mount a file system that is not Oracle ACFS. </p>
                     <ol>
                        <li>
                           <p>The first example shows how to create a drive letter for an Oracle ADVM volume device for use as a non-Oracle ACFS access which you could then use to format the volume for use with NTFS.</p>
                        </li>
                        <li>
                           <p>The second example shows how to create a drive letter for an Oracle ADVM volume device for use as a non-Oracle ACFS access which you could then use to format the volume for use with NTFS and save it in the Windows system registry.</p>
                        </li>
                        <li>
                           <p>The third example shows how to create a drive letter for all Oracle ADVM volume devices which were saved in the system registry which also allows a file system to be accessible.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C3576F48-511C-4FD0-BB15-5095EAA8460D__GUID-8FC85A3B-2555-40BE-9DF1-A7CB1B708D09">
                     <p class="titleinexample">Example 16-23 Using the advmutil mount command</p><pre class="oac_no_warn" dir="ltr">C:\&gt; advmutil mount H: asm-volume1-123

C:\&gt; advmutil mount H: asm-volume1-123 /register

C:\&gt; advmutil mount /all</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00578.omg-monitoring.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Monitoring Oracle Messaging Gateway</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="omg-message-conversion.html" title="Previous" type="text/html">
      <link rel="next" href="non-persistent-queues.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="omg-message-conversion.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="non-persistent-queues.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Monitoring Oracle Messaging Gateway</li>
            </ol>
            <a id="GUID-CFB0E5B4-1600-4AA0-AC7C-C9C971199AD6" name="GUID-CFB0E5B4-1600-4AA0-AC7C-C9C971199AD6"></a><a id="ADQUE2100"></a>
            
            <h2 id="ADQUE-GUID-CFB0E5B4-1600-4AA0-AC7C-C9C971199AD6" class="sect2"><span class="enumeration_chapter">21 </span> Monitoring Oracle Messaging Gateway
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics discuss means of monitoring the Oracle Messaging Gateway (MGW) agent, abnormal situations you may experience, several sources of information about Messaging Gateway errors and exceptions, and suggested remedies.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="omg-monitoring.html#GUID-DF719916-282F-4252-87AC-F10349AA7115">Oracle Messaging Gateway Log Files</a></p>
                  </li>
                  <li>
                     <p><a href="omg-monitoring.html#GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2">Monitoring the Oracle Messaging Gateway Agent Status</a></p>
                  </li>
                  <li>
                     <p><a href="omg-monitoring.html#GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35">Monitoring Oracle Messaging Gateway Propagation</a></p>
                  </li>
                  <li>
                     <p><a href="omg-monitoring.html#GUID-278D3D58-6696-4526-A47C-1850E696043D">Oracle Messaging Gateway Agent Error Messages</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3384"></a><div class="props_rev_3"><a id="GUID-DF719916-282F-4252-87AC-F10349AA7115" name="GUID-DF719916-282F-4252-87AC-F10349AA7115"></a><h3 id="ADQUE-GUID-DF719916-282F-4252-87AC-F10349AA7115" class="sect3"><span class="enumeration_section">21.1 </span>Oracle Messaging Gateway Log Files
               </h3>
               <div>
                  <p>Messaging Gateway agent status, history, and errors are recorded in Messaging Gateway log files. A different log file is created each time the Messaging Gateway agent is started. You should monitor the log file because any errors, configuration information read at startup time, or dynamic configuration information is written to the log. </p>
                  <p>The format of the log file name for the default agent is: </p><pre class="oac_no_warn" dir="ltr">oramgw-hostname-timestamp-processid.log
</pre><p>The format of the log file name for a named agent is:</p><pre class="oac_no_warn" dir="ltr">oramgw-AGENTNAME-hostname-timestamp-processid.log
</pre><p>By default the Messaging Gateway log file is in <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/mgw/log</code>. This location can overridden by the parameter <code class="codeph">log_directory</code> in the Messaging Gateway initialization file used by the agent, usually <code class="codeph">mgw.ora</code>.
                  </p>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="omg-monitoring.html#GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F">Sample Oracle Messaging Gateway Log File</a></p>
                     </li>
                     <li>
                        <p><a href="omg-monitoring.html#GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF">Interpreting Exception Messages in an Oracle Messaging Gateway Log File</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3386"></a><a id="ADQUE3385"></a><div class="props_rev_3"><a id="GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F" name="GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F"></a><h4 id="ADQUE-GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F" class="sect4"><span class="enumeration_section">21.1.1 </span>Sample Oracle Messaging Gateway Log File
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following sample log file shows the Messaging Gateway agent starting. The sample log file shows that a messaging link, a registered foreign queue, a propagation job, and a schedule associated with the job have been added. The log file shows that the propagation job has been activated. The last line indicates that the Messaging Gateway is up and running and ready to propagate messages.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F__GUID-CBB74609-34F7-4E33-8798-549E6DDFB9A3">
                        <p class="titleinexample">Example 21-1 Sample Messaging Gateway Log File</p><pre class="oac_no_warn" dir="ltr">&gt;&gt;2007-01-16 15:04:49 MGW C-Bootstrap 0 LOG process-id=11080
Bootstrap program starting
&gt;&gt;2007-01-16 15:04:50 MGW C-Bootstrap 0 LOG process-id=11080
JVM created -- heapsize = 64
&gt;&gt;2007-01-16 15:04:53 MGW Engine 0 200 main
MGW Agent version: 11.1.0.0
&gt;&gt;2007-01-16 15:04:53 MGW AdminMgr 0 LOG main
Connecting to database using connect string = jdbc:oracle:oci:@INST1
&gt;&gt;2007-01-16 15:05:00 MGW Engine 0 200 main
MGW Component version: 11.1.0.3.0
&gt;&gt;2007-01-16 15:05:01 MGW Engine 0 200 main
MGW agent name: DEFAULT_AGENT, MGW job instance id: 273006EC6ED255F1E040578C6D021A8C, MGW database instance: 1
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 1 main
Agent is initializing.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 23 main
The number of worker threads is set to 1.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 22 main
The default polling interval is set to 5000ms.
&gt;&gt;2007-01-16 15:05:09 MGW MQD 0 LOG main
Creating MQSeries messaging link:
link : MQLINK
link type : Base Java interface
queue manager : my.queue.manager
channel : channel1
host : my.machine
port : 1414
user :
ccdt url : 
ssl cipherSuite : 
connections : 1
inbound logQ : logq1
outbound logQ : logq2
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 4 main
Link MQLINK has been added.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 7 main
Queue DESTQ@MQLINK has been registered; provider queue: MGWUSER.MYQUEUE.
&gt;&gt;2007-01-16 15:05:09 MGW Engine 0 9 main
Propagation Schedule JOB_AQ2MQ (MGWUSER.MGW_BASIC_SRC --&gt; DESTQ@MQLINK) has been
added.
&gt;&gt;2007-01-16 15:05:09 MGW AQN 0 LOG main
Creating AQ messaging link:
link : oracleMgwAq
link type : native
database : INST1
user : MGWAGENT
connection type : JDBC OCI
connections : 1
inbound logQ : SYS.MGW_RECV_LOG
outbound logQ : SYS.MGW_SEND_LOG
&gt;&gt;2007-01-16 15:05:10 MGW Engine 0 19 main
MGW propagation job JOB_AQ2MQ has been activated.
&gt;&gt;2007-01-16 15:05:10 MGW Engine 0 14 main
MGW propagation job JOB_AQ2MQ (MGWUSER.MGW_BASIC_SRC --&gt; DESTQ@MQLINK) has been added.
&gt;&gt;2007-01-16 15:05:11 MGW Engine 0 2 main
Agent is up and running.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3388"></a><a id="ADQUE3387"></a><div class="props_rev_3"><a id="GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF" name="GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF"></a><h4 id="ADQUE-GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF" class="sect4"><span class="enumeration_section">21.1.2 </span>Interpreting Exception Messages in an Oracle Messaging Gateway Log File
                  </h4>
                  <div>
                     <div class="section">
                        <p>Exception messages logged to the Messaging Gateway log file may include one or more linked exceptions, identified by <code class="codeph">[Linked-exception]</code> in the log file. These are often the most useful means of determining the cause of a problem. For instance, a linked exception could be a <code class="codeph">java.sql.SQLException</code>, possibly including an Oracle error message, a PL/SQL stack trace, or both.
                        </p>
                        <p>The following example shows entries from a Messaging Gateway log file when an invalid value (<code class="codeph">bad_service_name</code>) was specified for the <code class="codeph">database</code> parameter of <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">CREATE_AGENT</code> or <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">ALTER_AGENT</code>. This resulted in the Messaging Gateway agent being unable to establish database connections.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF__GUID-51E639BE-AFF8-40CE-AF27-B8AACF2704A4">
                        <p class="titleinexample">Example 21-2 Sample Exception Message</p><pre class="oac_no_warn" dir="ltr">&gt;&gt;2003-07-22 15:27:26  MGW  AdminMgr  0  LOG  main
Connecting to database using connect string = jdbc:oracle:oci8:@BAD_SERVICE_NAME
&gt;&gt;2003-07-22 15:27:29  MGW  Engine  0  EXCEPTION  main
oracle.mgw.admin.MgwAdminException: [241]  Failed to connect to database. SQL
error: 12154, connect string: jdbc:oracle:oci8:@BAD_SERVICE_NAME
[ …Java stack trace here…]
[Linked-exception]
java.sql.SQLException: ORA-12154: TNS:could not resolve the connect identifier
specified
[ …Java stack trace here…]
&gt;&gt;2003-07-22 15:27:29  MGW  Engine  0  25  main
Agent is shutting down.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE3389"></a><div class="props_rev_3"><a id="GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2" name="GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2"></a><h3 id="ADQUE-GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2" class="sect3"><span class="enumeration_section">21.2 </span>Monitoring the Oracle Messaging Gateway Agent Status
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="omg-monitoring.html#GUID-E8202663-DA17-40C7-BF70-A95EE963D799">MGW_GATEWAY View</a></p>
                     </li>
                     <li>
                        <p><a href="omg-monitoring.html#GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474">Oracle Messaging Gateway Irrecoverable Error Messages</a></p>
                     </li>
                     <li>
                        <p><a href="omg-monitoring.html#GUID-0490C4F4-829C-4BAC-A733-04A4F299075C">Other Oracle Messaging Gateway Error Conditions</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3390"></a><div class="props_rev_3"><a id="GUID-E8202663-DA17-40C7-BF70-A95EE963D799" name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799"></a><h4 id="ADQUE-GUID-E8202663-DA17-40C7-BF70-A95EE963D799" class="sect4"><span class="enumeration_section">21.2.1 </span>MGW_GATEWAY View
                  </h4>
                  <div>
                     <p>The <code class="codeph">MGW_GATEWAY</code> view monitors the progress of the Messaging Gateway agent. Among the fields that can be used to monitor the agent are:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">AGENT_NAME</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AGENT_INSTANCE</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AGENT_PING</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AGENT_STATUS</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LAST_ERROR_MSG</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SERVICE</code></p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">AGENT_STATUS</code> field shows the status of the agent. This column has the following possible values:
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-C534F465-45EC-49FC-B637-3186DE241B84">
                              <!-- --></a>NOT_STARTED 
                        </dt>
                        <dd>
                           <p>Indicates that the agent is neither running nor scheduled to be run.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-ECA50B8B-0452-467E-9FD0-765735981BE1">
                              <!-- --></a>START_SCHEDULED 
                        </dt>
                        <dd>
                           <p>Indicates that the agent job is waiting to be run by the job scheduler.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-ABF23341-600A-4CF6-A8A3-E8645C1773F8">
                              <!-- --></a>STARTING 
                        </dt>
                        <dd>
                           <p>Indicates that the agent is in the process of starting.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-0B1E6442-C264-43E4-9364-73FE4CC81F47">
                              <!-- --></a>INITIALIZING 
                        </dt>
                        <dd>
                           <p>Indicates that the agent has started and is reading configuration data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-67E252ED-20DF-456A-8A61-11969826ACCA">
                              <!-- --></a>RUNNING 
                        </dt>
                        <dd>
                           <p>Indicates that the agent is ready to propagate any available messages or process dynamic configuration changes.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-A399F9F6-3F00-427E-AF7C-2C98A612FAB1">
                              <!-- --></a>SHUTTING_DOWN 
                        </dt>
                        <dd>
                           <p>Indicates that the agent is in the process of shutting down.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-289A273F-A8FC-4582-81C1-C2878353D8A2">
                              <!-- --></a>BROKEN 
                        </dt>
                        <dd>
                           <p>Indicates that, while attempting to start an agent process, Messaging Gateway has detected another agent already running. This situation should never occur under normal usage.</p>
                        </dd>
                     </dl>
                     <p>Querying the <code class="codeph">AGENT_PING</code> field pings the Messaging Gateway agent. Its value is either <code class="codeph">REACHABLE</code> or <code class="codeph">UNREACHABLE</code>. An agent with status of <code class="codeph">RUNNING</code> should almost always be <code class="codeph">REACHABLE</code>.
                     </p>
                     <p>The columns <code class="codeph">LAST_ERROR_MSG</code>, <code class="codeph">LAST_ERROR_DATE</code>, and <code class="codeph">LAST_ERROR_TIME</code> give valuable information if an error in starting or running the Messaging Gateway agent occurs. <code class="codeph">AGENT_INSTANCE</code> indicates the Oracle Database instance on which the Messaging Gateway instance was started.
                     </p>
                     <div class="infoboxnotealso" id="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-3DDB0C25-5643-4EB1-87C6-7B0560EA07AF">
                        <p class="notep1">See Also:</p>
                        <p>"DBMS_MGWADM" in <a href="../arpls/DBMS_MGWADM.html#ARPLS364" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the <code class="codeph">MGW_GATEWAY</code> view
                        </p>
                     </div>
                  </div>
               </div><a id="ADQUE3392"></a><a id="ADQUE3393"></a><a id="ADQUE3394"></a><a id="ADQUE3395"></a><a id="ADQUE3396"></a><a id="ADQUE3397"></a><a id="ADQUE3398"></a><a id="ADQUE3399"></a><a id="ADQUE3400"></a><a id="ADQUE3401"></a><a id="ADQUE3402"></a><a id="ADQUE3403"></a><a id="ADQUE3404"></a><a id="ADQUE3405"></a><a id="ADQUE3406"></a><a id="ADQUE3407"></a><a id="ADQUE3408"></a><a id="ADQUE3391"></a><div class="props_rev_3"><a id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474" name="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474"></a><h4 id="ADQUE-GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474" class="sect4"><span class="enumeration_section">21.2.2 </span>Oracle Messaging Gateway Irrecoverable Error Messages
                  </h4>
                  <div>
                     <p>A status of <code class="codeph">NOT_STARTED</code> in the <code class="codeph">AGENT_STATUS</code> field of the <code class="codeph">MGW_GATEWAY</code> view indicates that the Messaging Gateway agent is not running. If the <code class="codeph">AGENT_STATUS</code> is <code class="codeph">NOT_STARTED</code> and the <code class="codeph">LAST_ERROR_MSG</code> field is not NULL, then the Messaging Gateway agent has encountered an irrecoverable error while starting or running. Check if a Messaging Gateway log file has been generated and whether it indicates any errors. If a log file is not present, then the Messaging Gateway agent process was probably not started.
                     </p>
                     <p>This section describes the causes and solutions for some error messages that may appear in the <code class="codeph">LAST_ERROR_MSG</code> field of the <code class="codeph">MGW_GATEWAY</code> view. Unless indicated otherwise, the Messaging Gateway agent will not attempt to restart itself when one of these errors occurs.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-EEEFB148-B285-4615-B4D6-B96E28231B38">ORA-01089: Immediate shutdown in progress - no operations are permitted</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent has shut down because the <code class="codeph">SHUTDOWN IMMEDIATE</code> command was used to shut down a running Oracle Database instance on which the agent was running. The agent will restart itself on the next available database instance on which it is set up to run.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-0B422A74-B8F8-4637-BA9C-281F2072040D">ORA-06520: PL/SQL: Error loading external library</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent process was unable to start because the shared library was not loaded. This may be because the Java shared library was not in the library path. Verify that the library path in <code class="codeph">listener.ora</code> has been set correctly.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-C674DC58-9EFF-4D03-9701-589B94BA766D">ORA-28575: Unable to open RPC connection to external procedure agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent was unable to start. It will attempt to start again automatically. </p>
                        <p>Possible causes include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The listener is not running. If you have modified <code class="codeph">listener.ora</code>, then you must stop and restart the listener before the changes will take effect. 
                              </p>
                           </li>
                           <li>
                              <p>Values in <code class="codeph">tnsnames.ora</code>, <code class="codeph">listener.ora</code>, or both are not correct. 
                              </p>
                              <p>In particular, <code class="codeph">tnsnames.ora</code> must have a net service name entry of <code class="codeph">MGW_AGENT</code>. This entry is not needed for Messaging Gateway on Windows. The SID value specified for <code class="codeph">CONNECT_DATA</code> of the <code class="codeph">MGW_AGENT</code> net service name in <code class="codeph">tnsnames.ora</code> must match the <code class="codeph">SID_NAME</code> value of the <code class="codeph">SID_DESC</code> entry in <code class="codeph">listener.ora</code>. If the <code class="codeph">MGW_AGENT</code> net service name is set up for an <a href="glossary.html#GUID-0318DCE6-62FD-4DF5-88E9-84139310F831"><span class="xrefglossterm">Inter-process Communication</span></a> (IPC) connection, then the <code class="codeph">KEY</code> values for <code class="codeph">ADDRESS</code> in <code class="codeph">tnsnames.ora</code> and <code class="codeph">listener.ora</code> must match. If the <code class="codeph">names.default_domain</code> parameter for <code class="codeph">sqlnet.ora</code> has been used to set a default domain, then that domain must be appended to the <code class="codeph">MGW_AGENT</code> net service name in <code class="codeph">tnsnames.ora</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-BE75C21C-BF7E-4271-88D1-5EEDBB3BDB4A">ORA-28576: Lost RPC connection to external procedure agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent process ended prematurely. This may be because the process was stopped by an outside entity or because an internal error caused a malfunction. The agent will attempt to start again automatically. Check the Messaging Gateway log file to determine if further information is available. If the problem persists, then contact Oracle Support Services for assistance.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-84E3D55E-C2D5-44F3-B4DE-51B80E61296D">ORA-32830: Result code -2 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An error occurred when the Messaging Gateway agent tried to read its initialization file, usually <code class="codeph">mgw</code>.<code class="codeph">ora</code>. Verify that the file is readable.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-E7F5AE4B-21E0-40A2-A8B8-2B93F4E9E7C6">ORA-32830: Result code -3 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An error occurred creating the Messaging Gateway log file. Verify that the log directory can be written to. The default location is <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/mgw/log</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-C6ECC1AD-FBF1-4388-8131-5898CD4B57E4">ORA-32830: Result code -8 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An error occurred starting the Java Virtual Machine (JVM). Verify that:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You are using the correct Java version </p>
                           </li>
                           <li>
                              <p>Your operating system version and patch level are sufficient for the JDK version</p>
                           </li>
                           <li>
                              <p>You are using a reasonable value for the JVM heap size</p>
                              <p>The heap size is specified by the <code class="codeph">max_memory</code> parameter of <code class="codeph">DBMS_MGWADM.ALTER_AGENT</code></p>
                           </li>
                           <li>
                              <p>	On Windows platforms, verify the <code class="codeph">MGW_PRE_PATH</code> set in <code class="codeph">mgw.ora</code> contains the path to the correct JVM library (<code class="codeph">jvm.dll</code>).
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-6CCAA4B9-7676-475F-A6E7-B41613AD1EC1">ORA-32830: Result code -12 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An error occurred writing to the Messaging Gateway log file. Check the free disk space or any other issues that might result in file I/O problems.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-D271962A-9DD5-4CFE-9211-06C3D258E6DA">ORA-32830: Result code -17 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The JVM was successfully created but an error occurred trying to call the MGW Java agent program. Verify that the CLASSPATH set in <code class="codeph">mgw.ora</code> is correct.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-6D06BCCD-0644-4BEE-8FEA-26F39DBF81FB">ORA-32830: Result code -19 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent was configured to use a particular initialization file but that file does not exist. The <code class="codeph">INITFILE</code> field of the <code class="codeph">MGW_GATEWAY</code> view shows the full pathname of the file specified by the administrator. Either create that initialization file, or use <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">ALTER_AGENT</code> to set <code class="codeph">INITFILE</code> to another file or <code class="codeph">NULL</code> to use the default initialization file.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-0DAD166F-2DC5-45A8-BB45-57D17A06E221">ORA-32830: Result code -100 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent JVM encountered a runtime exception or error on startup before it could write to the log file.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-E3B3B57E-B54F-467F-8E6A-A15FE0AC05DB">ORA-32830: Result code -101 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An irrecoverable error caused the Messaging Gateway agent to shut down. Check the Messaging Gateway log file for further information. Verify that the values specified in <code class="codeph">mgw.ora</code> are correct. Incorrect values can cause the Messaging Gateway agent to terminate due to unusual error conditions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-78543847-6AA1-408A-8858-E7F9A9CEC4B5">ORA-32830: Result code -102 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent shut down because the version of file <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/mgw/jlib/mgw.jar</code> does not match the version of the Messaging Gateway PL/SQL packages. Verify that all Messaging Gateway components are from the same release.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-3A6AE6E5-6689-4BE9-91B1-C72DF821E6FC">ORA-32830: Result code -103 returned by Messaging Gateway agent </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent shut down because the database instance on which it was running was shutting down. The agent should restart automatically, either on another instance if set up to do so, or when the instance that shut down is restarted.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-92D1F97F-8465-4541-8474-14507B170EC2">ORA-32830: Result code -104 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>See previous error.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-A64786E6-7AAA-45EB-947D-584D04943ACE">ORA-32830: Result code -105 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent detected that it was running when it should not be. This should not happen. If it does, <code class="codeph">AGENT_STATUS</code> will be <code class="codeph">BROKEN</code> and the agent will shut down automatically. If you encounter this error:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Terminate any Messaging Gateway agent process that may still be running. The process is usually named <code class="codeph">extprocmgwextproc</code>. 
                              </p>
                           </li>
                           <li>
                              <p>Run <code class="codeph">DBMS_MGWADM.CLEANUP_GATEWAY(DBMS_MGWADM.CLEAN_STARTUP_STATE)</code>. 
                              </p>
                           </li>
                           <li>
                              <p>Start the Messaging Gateway agent using <code class="codeph">DBMS_MGWADM.STARTUP</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-F826FCC3-073D-415A-B3B3-48953D8F6A83">ORA-32830: Result code -106 returned by Messaging Gateway agent</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>See previous error.</p>
                        <div class="infoboxnotealso" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-B19D0940-5F0A-4AEE-9C2F-CBE110CDEC75">
                           <p class="notep1">See Also:</p>
                           <p>"DBMS_MGWADM" in <a href="../arpls/DBMS_MGWADM.html#ARPLS364" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3410"></a><a id="ADQUE3411"></a><a id="ADQUE3412"></a><a id="ADQUE3413"></a><a id="ADQUE3409"></a><div class="props_rev_3"><a id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C" name="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C"></a><h4 id="ADQUE-GUID-0490C4F4-829C-4BAC-A733-04A4F299075C" class="sect4"><span class="enumeration_section">21.2.3 </span>Other Oracle Messaging Gateway Error Conditions
                  </h4>
                  <div>
                     <p>This section discusses possible causes for <code class="codeph">AGENT_STATUS</code> remaining <code class="codeph">START_SCHEDULED</code> in <code class="codeph">MGW_GATEWAY</code> view for an extended period.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-AE169175-B381-4004-ACCB-9830F7D595C2">Database Service Not Started</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway uses an Oracle Scheduler job to start the Messaging Gateway agent. Oracle Scheduler allows you to specify a database service under which a job should be run (service affinity). Messaging Gateway allows an administrator to configure the Messaging Gateway agent with a database service that will be used to configure the Scheduler job class associated with that agent.</p>
                        <p>When you shutdown a database Oracle stops all services to that database. You may need to manually restart the services when you start the database. If a Scheduler job is associated with a service then the job will not run until the service is started. If <code class="codeph">AGENT_STATUS</code> for a Messaging Gateway agent remains <code class="codeph">START_SCHEDULED</code> for an extended period that might indicate that the database service is disabled or no database instances associated with the service are running. Use the <code class="codeph">MGW_GATEWAY</code> view, Oracle Scheduler views, and service views to determine how the agent was configured and the current state of the Scheduler job and database service.
                        </p>
                        <div class="infoboxnote" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-62B24B10-3835-4DD1-9909-0A3A5A0C443E">
                           <p class="notep1">Note:</p>
                           <p><a href="omg-working.html#GUID-55AD98C2-B431-4B2F-B2AE-0E686FCEBC22">Oracle Messaging Gateway Agent Scheduler Job</a> for information about Oracle Scheduler objects used by Messaging Gateway.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-6CB2BE44-612E-427F-BE93-0C56BCF06424">Too Few Job Queue Processes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway uses Oracle Scheduler to start the Messaging Gateway external process. When <code class="codeph">AGENT_STATUS</code> is <code class="codeph">START_SCHEDULED</code>, the Messaging Gateway agent Scheduler job is waiting to be run by the Scheduler. The Messaging Gateway job will not run until there is an available job process. Messaging Gateway holds its Scheduler job process for the lifetime of the Messaging Gateway agent session. If multiple Messaging Gateway agents have been started, each agent uses its own Scheduler job and require its own job process.
                        </p>
                        <p>If the value of the database initialization parameter <code class="codeph">JOB_QUEUE_PROCESSES</code> is zero, then no Oracle Scheduler jobs will run. If the value is non-zero, it effectively becomes the maximum number of Scheduler jobs and job queue jobs than can concurrently run.
                        </p>
                        <p>If Messaging Gateway status remains <code class="codeph">START_SCHEDULED</code> for an extended period of time, then it may indicate that the database has been started with a value for <code class="codeph">JOB_QUEUE_PROCESSES</code> that is zero or is too low and that all job slaves are busy. Verify that the value is non-zero and that the database instance has been started with enough job queue processes so that one is available for each Messaging Gateway agent.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-70DEA51C-6EAE-4A18-B756-1D1E42658C17">Scheduler Job Broken or Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The Messaging Gateway agent status will remain <code class="codeph">START_SCHEDULED</code> if the Oracle Scheduler job associated with a Messaging Gateway agent has become disabled or broken for some reason. To determine if this is the case, use the <code class="codeph">DBA_SCHEDULER_JOBS</code> view to look at <code class="codeph">STATE</code> field for the agent's Scheduler job. Normally the Scheduler job state will be <code class="codeph">SCHEDULED</code> when the Messaging Gateway agent's Scheduler job is waiting to be run, or <code class="codeph">RUNNING</code> when the Messaging Gateway agent is running. The agent's Scheduler job should not exist if the Messaging Gateway agent status is <code class="codeph">NOT_STARTED</code>.
                        </p>
                        <p>Check other Scheduler views, such as <code class="codeph">DBA_SCHEDULER_JOB_RUN_DETAILS</code>, for additional information about the Messaging Gateway Scheduler jobs. Also check the <code class="codeph">MGW_GATEWAY</code> view and the Messaging Gateway log file for any error messages that may indicate a problem.
                        </p>
                        <div class="infoboxnote" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-BFE07A02-9204-4804-8E4D-341DD3E88004">
                           <p class="notep1">Note:</p>
                           <p><a href="omg-working.html#GUID-55AD98C2-B431-4B2F-B2AE-0E686FCEBC22">Oracle Messaging Gateway Agent Scheduler Job</a>  for information about Oracle Scheduler objects used by Messaging Gateway
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-7A1AE8FF-02F1-4AE8-BB5F-3294B778F1A4">Oracle Real Application Clusters (Oracle RAC) Environment</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If Messaging Gateway is being used in an Oracle RAC environment and the agent has been configured with a database service but no database instances are running that have the service enabled, then the Messaging Gateway <code class="codeph">AGENT_STATUS</code> will remain <code class="codeph">START_SCHEDULED</code> until the service is started on a running database instance.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3414"></a><div class="props_rev_3"><a id="GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35" name="GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35"></a><h3 id="ADQUE-GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35" class="sect3"><span class="enumeration_section">21.3 </span>Monitoring Oracle Messaging Gateway Propagation
               </h3>
               <div>
                  <div class="section">
                     <p>Messaging Gateway <a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">propagation</span></a> can be monitored using the <code class="codeph">MGW_JOBS</code> view and the Messaging Gateway log file. The view provides information on propagated messages and errors that may have occurred during propagation attempts. The log file can be used to determine the cause of the errors.
                     </p>
                     <p>Besides showing configuration information, the <code class="codeph">MGW_JOBS</code> view also has dynamic information that can be used to monitor <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a> propagation. Applicable fields include <code class="codeph">STATUS</code>,  <code class="codeph">ENABLED</code>, <code class="codeph">PROPAGATED_MSGS</code>, <code class="codeph">EXCEPTIONQ_MSGS</code>, <code class="codeph">FAILURES</code>, <code class="codeph">LAST_ERROR_MSG</code>, <code class="codeph">LAST_ERROR_DATE</code>, and <code class="codeph">LAST_ERROR_TIME</code>.
                     </p>
                     <p>The <code class="codeph">STATUS</code> field indicates current status of the job. <code class="codeph">READY</code> means that the job is ready for propagation (but only if the <code class="codeph">ENABLED</code> field is <code class="codeph">TRUE</code>). <code class="codeph">RETRY</code> means that a propagation failure occurred but that propagation will be retried. <code class="codeph">FAILED</code> means that the agent has stopped propagation for the job due to an unrecoverable error or the maximum number of consecutive propagation failures has been reached. <code class="codeph">DELETE_PENDING</code> means job removal is pending due to <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">REMOVE_JOB</code> being called but certain cleanup tasks pertaining to the job are still outstanding. <code class="codeph">SUBSCRIBER_DELETE_PENDING</code> means that <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">REMOVE_SUBSCRIBER</code> has been called on an old style propagation job but certain cleanup tasks pertaining to the job are still outstanding.
                     </p>
                     <p>The <code class="codeph">ENABLED</code> field indicates whether the propagation job is currently enabled. <code class="codeph">TRUE</code> indicates the job is enabled while <code class="codeph">FALSE</code> indicates the job is disabled. No propagation will occur unless the job is enabled.
                     </p>
                     <p>The <code class="codeph">PROPAGATED_MSGS</code> field of the <code class="codeph">MGW_JOBS</code> view indicates how many messages have been successfully propagated. This field is reset to zero when the Messaging Gateway agent is started.
                     </p>
                     <p>If a Messaging Gateway propagation job has been configured with an <a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">exception queue</span></a>, then the Messaging Gateway agent will move messages to that exception queue the first time the Messaging Gateway agent encounters a propagation failure caused by a message conversion failure. A message conversion failure is indicated by <code class="codeph">oracle.mgw.common.MessageException</code> in the Messaging Gateway log file. The <code class="codeph">EXCEPTIONQ_MSGS</code> field indicates how many messages have been moved to the exception queue. This field is reset to zero when the Messaging Gateway agent is started.
                     </p>
                     <p>If an error occurs during message propagation for a propagation job, a count is incremented in the <code class="codeph">FAILURES</code> field. This field indicates the number of failures encountered since the last successful propagation of messages. Each time a failure occurs, an error message and the time it occurred will be shown by <code class="codeph">LAST_ERROR_MSG</code>, <code class="codeph">LAST_ERROR_DATE</code>, and <code class="codeph">LAST_ERROR_TIME</code>. When the number of failures reaches sixteen, Messaging Gateway halts propagation attempts for this propagation job. To resume propagation attempts you must call <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">RESET_JOB</code> for the propagation job.
                     </p>
                     <p>If an error occurs, then examine the Messaging Gateway log file for further information.</p>
                     <div class="infoboxnotealso" id="GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35__GUID-254A84D6-5B72-45BF-99F2-AA45F71BDEFB">
                        <p class="notep1">See Also:</p>
                        <p>"DBMS_MGWADM" in <a href="../arpls/DBMS_MGWADM.html#ARPLS364" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3416"></a><a id="ADQUE3417"></a><a id="ADQUE3418"></a><a id="ADQUE3419"></a><a id="ADQUE3420"></a><a id="ADQUE3421"></a><a id="ADQUE3422"></a><a id="ADQUE3423"></a><a id="ADQUE3424"></a><a id="ADQUE3426"></a><a id="ADQUE3427"></a><a id="ADQUE3428"></a><a id="ADQUE3430"></a><a id="ADQUE3431"></a><a id="ADQUE3432"></a><a id="ADQUE3433"></a><a id="ADQUE3434"></a><a id="ADQUE3435"></a><a id="ADQUE3415"></a><div class="props_rev_3"><a id="GUID-278D3D58-6696-4526-A47C-1850E696043D" name="GUID-278D3D58-6696-4526-A47C-1850E696043D"></a><h3 id="ADQUE-GUID-278D3D58-6696-4526-A47C-1850E696043D" class="sect3"><span class="enumeration_section">21.4 </span>Oracle Messaging Gateway Agent Error Messages
               </h3>
               <div>
                  <p>This section lists some of the most commonly occurring errors that are shown in the <code class="codeph">LAST_ERROR_MSG</code> column of the <code class="codeph">MGW_JOBS</code> view and logged to the Messaging Gateway agent log file. Also shown are some errors that require special action. When you notice that a failure has occurred, look at the linked exceptions in the log file to determine the root cause of the problem.
                  </p>
                  <p>Two primary types of errors are logged to the Messaging Gateway agent log file:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">oracle.mgw.common.MessageException</code> 
                        </p>
                        <p>This error type is logged when a message conversion failure occurs. The Messaging Gateway agent probably cannot propagate the message causing the failure, and the propagation job will eventually be stopped.</p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.mgw.common.GatewayException</code> 
                        </p>
                        <p>This error type is logged when some failure other than message conversion occurs. Depending on the cause, the problem may fix itself or require user action.</p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-C6BD0F77-79DD-4E4C-B952-BCFFD41E6F62">[221] Failed to access &lt;<span class="italic">messaging_system</span>&gt; queue: &lt;<span class="italic">queue</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>An error occurred while trying to access either an Oracle Database Advanced Queuing queue or a non-Oracle queue. Check the linked exception error code and message in the log file.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-47D08C14-89BD-4ADE-9B7D-58C80CA232D2">[241] Failed to connect to database. SQL error: &lt;<span class="italic">error</span>&gt;, connect string: &lt;<span class="italic">connect_string</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This is probably caused by incorrect MGW agent connection information specified for <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">CREATE_AGENT</code> or <code class="codeph">DBMS_MGWADM</code>.<code class="codeph">ALTER_AGENT</code>. Either the Messaging Gateway agent user or password is incorrect or the database specifier (database parameter) is incorrect. Verify that the connection information is correct for the connection type used by the agent, JDBC OCI or JDBC Thin. 
                     </p>
                     <p>If the <code class="codeph">database</code> parameter is <code class="codeph">NULL</code>, then check the Messaging Gateway log file for the following Oracle linked errors:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-01034: ORACLE not available
ORA-27101: shared memory realm does not exist
</pre><p>These two errors together indicate that the Messaging Gateway agent is attempting to connect to the database using a local IPC connection, but the <code class="codeph">ORACLE_SID</code> value is not correct.
                     </p>
                     <p>A local connection is used when the database parameter is set to <code class="codeph">NULL</code>. If a local connection is desired, the correct <code class="codeph">ORACLE_SID</code> value must be set in the Messaging Gateway agent process. This can be done by adding the following line to the MGW initialization file, usually <code class="codeph">mgw</code>.<code class="codeph">ora</code>:
                     </p><pre class="oac_no_warn" dir="ltr">set ORACLE_SID = <span class="italic">sid_value</span>
</pre><p><code class="codeph">ORACLE_SID</code> need not be set in the MGW initialization file if the database parameter is not <code class="codeph">NULL</code>.
                     </p>
                     <p>If setting <code class="codeph">ORACLE_SID</code> in the MGW initialization file does not work, then the database parameter must be set to a value that is not <code class="codeph">NULL</code>.
                     </p>
                     <p>If the JDBC Thin connection is used, then the database parameter must be not <code class="codeph">NULL</code>. If the JDBC Thin connection is used and the database parameter is a TNSNames alias, make sure that the <code class="codeph">oracle</code>.<code class="codeph">net</code>.<code class="codeph">tns_names</code> Java property is set in the MGW initialization file. The property can be set by adding the following line to the MGW initialization file:
                     </p><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.net.tns_admin=&lt;directory containing tnsnames.ora&gt;</pre><div class="infoboxnote" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-2F5A2404-EFE3-4AA7-8926-E4D593CDE9D6">
                        <p class="notep1">Note:</p>
                        <p><span class="q">"<a href="omg-getting-started.html#GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__BABDFCFI">oracle.net.tns_admin</a>"</span> for more information
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-D9859083-72D2-4E9D-B5C2-00A0F793CD7D">[415] Missing messages from source queue of job &lt;<span class="italic">job_name</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Possible causes include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The agent partially processed persistent messages that were dequeued by someone other than the Messaging Gateway agent.</p>
                        </li>
                        <li>
                           <p>The propagation source queue was purged or re-created.</p>
                        </li>
                        <li>
                           <p>A message was moved to the Oracle Database Advanced Queuing exception queue.</p>
                        </li>
                     </ul>
                     <p>If this error occurs, then call procedure <code class="codeph">CLEANUP_GATEWAY</code> in the <code class="codeph">DBMS_MGWADM</code> package:
                     </p><pre class="oac_no_warn" dir="ltr">DBMS_MGWADM.CLEANUP_GATEWAY (
       action =&gt; DBMS_MGWADM.RESET_SUB_MISSING_MESSAGE, 
       sarg =&gt; &lt;<span class="italic">job_name</span>&gt;);
</pre><p>The call takes effect only if the propagation job has encountered the missing message problem and the agent is running. The agent treats the missing messages as <a href="glossary.html#GUID-A91ACE79-576B-49F6-BE03-D4A792B9B468"><span class="xrefglossterm">nonpersistent</span></a> messages and continues processing the propagation job.
                     </p>
                     <div class="infoboxnotealso" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-7397B791-DA90-4635-8B0F-B7A11F4972C6">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="omg-working.html#GUID-8FCCF044-35E5-4FFC-A14D-C0B91D6624C6">Propagation Job Overview</a>"</span> for more information on Messaging Gateway exception queues
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-8A7D59E6-E5D3-4D66-9DD9-36C884607DB0">[416] Missing log records in receiving log queue for job &lt;<span class="italic">job_name</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Possible causes include: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Log records were dequeued from the log queues by someone other than the Messaging Gateway agent.</p>
                        </li>
                        <li>
                           <p>The log queues were purged or re-created.</p>
                        </li>
                     </ul>
                     <p>If this error occurs, then call procedure <code class="codeph">CLEANUP_GATEWAY</code> in the <code class="codeph">DBMS_MGWADM</code> package:
                     </p><pre class="oac_no_warn" dir="ltr">DBMS_MGWADM.CLEANUP_GATEWAY (
       action =&gt; DBMS_MGWADM.RESET_SUB_MISSING_LOG_REC,  
       sarg =&gt; &lt;job_name&gt;);
</pre><p>The call takes effect only if the propagation job has encountered the missing log records problem and the agent is running.</p>
                     <div class="infoboxnote" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-62F31436-A57C-4381-9D70-093A9A5FB022">
                        <p class="notep1">Note:</p>
                        <p>Calling procedure <code class="codeph">DBMS_MGWADM.CLEANUP_GATEWAY</code> may result in duplicated messages if the missing messages have already been propagated to the destination queue. Users should check the source and destination queues for any messages that exist in both places. If such messages exist, then they should be removed from either the source or destination queue before calling this procedure.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-84BFF75D-6C6C-4A9B-A607-22EBE2A5B609">[417] Missing log records in sending log queue for job &lt;<span class="italic">job_name</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>See previous error.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-0A6C8CD3-F864-4833-B4AA-B7D759CB3021">[421] WARNING: Unable to get connections to recover job &lt;<span class="italic">job_name</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This message is a warning message indicating that the Messaging Gateway agent failed to get a connection to recover the propagation job, because other propagation jobs are using them all. The agent will keep trying to get a connection until it succeeds. </p>
                     <p>If this message is repeated many times for a WebSphere MQ link, then increase the maximum number of connections used by the Messaging Gateway link associated with the propagation job.</p>
                     <div class="infoboxnotealso" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-EC0FD5E0-6251-4811-9D92-A257EF606736">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="omg-working.html#GUID-78F4D486-C0B2-4DE5-A366-110433ED3F8D">Altering a Messaging System Link</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-08C8D81E-6151-45B8-9948-2A16431DEB94">[434] Failed to access queue &lt;<span class="italic">queue</span>&gt;; provider queue &lt;<span class="italic">queue</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This message indicates that a messaging system native queue cannot be accessed. The queue may have been registered by <code class="codeph">DBMS_MGWADM.REGISTER_FOREIGN_QUEUE</code>, or it may be an Oracle Database Advanced Queuing queue. The linked exceptions should give more information.
                     </p>
                     <p>Possible causes include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The foreign queue was registered incorrectly, or the Messaging Gateway link was configured incorrectly.</p>
                           <p>Verify configuration information. If possible, use the same configuration information to run a sample application of the non-Oracle messaging system.</p>
                        </li>
                        <li>
                           <p>The non-Oracle messaging system is not accessible.</p>
                           <p>Check that the non-Oracle messaging system is running and can be accessed using the information supplied in the Messaging Gateway link. </p>
                        </li>
                        <li>
                           <p>The Oracle Database Advanced Queuing queue does not exist. Perhaps the queue was removed after the Messaging Gateway propagation job was created.</p>
                           <p>Check that the Oracle Database Advanced Queuing queue still exists.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-0D8464D0-8B8C-4144-AA28-1F10D85F66E4">[436] LOW MEMORY WARNING: total memory = &lt; &gt;, free_mem = &lt; &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The Messaging Gateway agent JVM is running low on memory. Java garbage collection will be invoked, but this may represent a JVM heap size that is too small. Use the <code class="codeph">max_memory</code> parameter of <code class="codeph">DBMS_MGWADM.ALTER_AGENT</code> to increase the JVM heap size. If the Messaging Gateway agent is running, then it must be restarted for this change to take effect. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-C2B4846D-EDCD-46D8-8C10-3F6E450D99AD">[703] Failed to retrieve information for transformation &lt;<span class="italic">transformation_id</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The Messaging Gateway agent could not obtain all the information it needs about the <a href="glossary.html#GUID-A668A987-B1D3-4330-97FD-0589DB780225"><span class="xrefglossterm">transformation</span></a>. The transformation parameter of <code class="codeph">DBMS_MGWADM.CREATE_JOB</code> must specify the name of the registered transformation and not the name of the transformation function.
                     </p>
                     <p>Possible causes include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The transformation does not exist. Verify that the transformation has been created. You can see this from the following query performed as user SYS:</p><pre class="oac_no_warn" dir="ltr">SELECT TRANSFORMATION_ID, OWNER FROM DBA_TRANSFORMATIONS;
</pre></li>
                        <li>
                           <p>The wrong transformation is registered with Messaging Gateway. Verify that the transformation registered is the one intended.</p>
                        </li>
                        <li>
                           <p>The Messaging Gateway agent user does not have <code class="codeph">EXECUTE</code> privilege on the <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">object type</span></a> used for the <code class="codeph">from_type</code> or the <code class="codeph">to_type</code> of the transformation indicated in the exception. 
                           </p>
                           <p>It is not sufficient to grant <code class="codeph">EXECUTE</code> to <code class="codeph">MGW_AGENT_ROLE</code> and then grant <code class="codeph">MGW_AGENT_ROLE</code> to the agent user. You must grant <code class="codeph">EXECUTE</code> privilege on the object type directly to the agent user or to <code class="codeph">PUBLIC</code>.
                           </p>
                           <p>The following example shows such a case for the <code class="codeph">from_type</code>. It also shows the use of linked exceptions for determining the precise cause of the error.
                           </p>
                           <p><span class="bold">No EXECUTE Privilege on Object Type</span></p><pre class="oac_no_warn" dir="ltr">Errors occurred during processing of job JOB_AQ2MQ_2
oracle.mgw.common.GatewayException: [703] Failed to retrieve information for
transformation mgwuser.SAMPLEADT_TO_MGW_BASIC_MSG
[…Java stack trace here…]
[Linked-exception]
java.sql.SQLException: "from_type" is null
[…Java stack trace here…]</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-8EBC1272-91EC-44FD-B424-5AAC66EAADE0">[720] AQ payload type &lt;<span class="italic">type</span>&gt; not supported; queue: &lt;<span class="italic">queue</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The payload type of the Oracle Database Advanced Queuing queue used by a Messaging Gateway propagation job is not directly supported by Messaging Gateway. For non-JMS propagation, Messaging Gateway directly supports the payload types <code class="codeph">RAW</code>, <code class="codeph">SYS.MGW_BASIC_MSG_T</code> and <code class="codeph">SYS.MGW_TIBRV_MSG_T</code>.
                     </p>
                     <p>Possible actions include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Configure the Messaging Gateway propagation job to use a transformation that converts the queue payload type to a supported type.</p>
                        </li>
                        <li>
                           <p>Remove the Messaging Gateway propagation job and create a new job that uses an Oracle Database Advanced Queuing queue with a supported payload type.</p>
                           <p>For <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java Message Service</span></a> (JMS) propagation, the Messaging Gateway propagation job must be removed and a new job created whose Oracle Database Advanced Queuing payload type is supported by <a href="glossary.html#GUID-9885B911-8AC1-49F3-922E-1F8D64C4501D"><span class="xrefglossterm">Oracle Java Message Service</span></a> (Oracle JMS). Transformations are not supported for JMS propagation.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-1705F06F-5FB7-4C31-9807-DA8AD0E2190F">[721] Transformation type &lt;<span class="italic">type</span>&gt; not supported; queue: &lt;<span class="italic">queue_name</span>&gt;, transform: &lt;<span class="italic">transformation</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>A Messaging Gateway propagation job was configured with a transformation that uses an object type that is not one of the Messaging Gateway <a href="glossary.html#GUID-F4F4838D-1672-4364-A9E8-EF21D7473749"><span class="xrefglossterm">canonical</span></a> types. 
                     </p>
                     <p>For an outbound job, the transformation <code class="codeph">from_type</code> must be the Oracle Database Advanced Queuing payload type, and the <code class="codeph">to_type</code> must be a Messaging Gateway canonical type. For an inbound job, the transformation <code class="codeph">from_type</code> must be a Messaging Gateway canonical type and the <code class="codeph">to_type</code> must be the Oracle Database Advanced Queuing payload type.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-2C23ACD3-24C7-4D3F-A85D-B9562733B0BB">[722] Message transformation failed; queue: &lt;<span class="italic">queue_name</span>&gt;, transform: &lt;<span class="italic">transformation</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>An error occurred while attempting execution of the transformation. ORA-25229 is typically thrown by Oracle Database Advanced Queuing when the transformation function raises a PL/SQL exception or some other Oracle error occurs when attempting to use the transformation.</p>
                     <p>Possible causes include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The Messaging Gateway agent user does not have <code class="codeph">EXECUTE</code> privilege on the transformation function. This is illustrated in the following example.
                           </p>
                           <p>It is not sufficient to grant <code class="codeph">EXECUTE</code> to <code class="codeph">MGW_AGENT_ROLE</code> and then grant <code class="codeph">MGW_AGENT_ROLE</code> to the Messaging Gateway agent user. You must grant <code class="codeph">EXECUTE</code> privilege on the transformation function directly to the Messaging Gateway agent user or to <code class="codeph">PUBLIC</code>. 
                           </p>
                           <p><span class="bold">No EXECUTE Privilege on Transformation Function</span></p><pre class="oac_no_warn" dir="ltr">Errors occurred during processing of job JOB_MQ2AQ_2
oracle.mgw.common.GatewayException: [722] Message transformation failed queue:
MGWUSER.DESTQ_SIMPLEADT, transform: MGWUSER.MGW_BASIC_MSG_TO_SIMPLEADT
[…Java stack trace here…]
[Linked-exception]
oracle.mgw.common.MessageException: [722] Message transformation failed;
queue: MGWUSER.DESTQ_SIMPLEADT, transform: 
MGWUSER.MGW_BASIC_MSG_TO_SIMPLEADT
[…Java stack trace here…]
[Linked-exception]
java.sql.SQLException: ORA-25229: error on transformation of message msgid:
9749DB80C85B0BD4E03408002086745E
ORA-00604: error occurred at recursive SQL level 1
ORA-00904: invalid column name
[…Java stack trace here…]
</pre></li>
                        <li>
                           <p>The transformation function does not exist, even though the registered transformation does. If the transformation function does not exist, it must be re-created.</p>
                        </li>
                        <li>
                           <p>The Messaging Gateway agent user does not have <code class="codeph">EXECUTE</code> privilege on the payload object type for the queue indicated in the exception. 
                           </p>
                           <p>It is not sufficient to grant <code class="codeph">EXECUTE</code> to <code class="codeph">MGW_AGENT_ROLE</code> and then grant <code class="codeph">MGW_AGENT_ROLE</code> to the Messaging Gateway agent user. You must grant <code class="codeph">EXECUTE</code> privilege on the object type directly to the Messaging Gateway agent user or to <code class="codeph">PUBLIC</code>.
                           </p>
                        </li>
                        <li>
                           <p>The transformation function raised the error. Verify that the transformation function can handle all messages it receives.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-A661AE0D-1F0C-4FD9-B13A-6FDF2A042A8F"> [724] Message conversion not supported; to AQ payload type: &lt;<span class="italic">type</span>&gt;, from type: &lt;<span class="italic">type</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>A Messaging Gateway propagation job is configured for inbound propagation where the canonical message type generated by the non-Oracle messaging system link is not compatible with the Oracle Database Advanced Queuing queue payload type. For example, propagation from a TIB/Rendezvous messaging system to an Oracle Database Advanced Queuing queue with a <code class="codeph">SYS.MGW_BASIC_MSG_T</code> payload type, or propagation from WebSphere MQ to an Oracle Database Advanced Queuing queue with a <code class="codeph">SYS.MGW_TIBRV_MSG_T</code> payload type.
                     </p>
                     <p>Possible actions include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Configure the Messaging Gateway propagation job with a transformation that maps the canonical message type generated by the non-Oracle messaging link to the Oracle Database Advanced Queuing payload type.</p>
                        </li>
                        <li>
                           <p>Remove the Messaging Gateway propagation job and create a new job whose Oracle Database Advanced Queuing queue payload type matches the canonical message type generated by the non-Oracle link.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-FC15FE42-C413-46CD-95D9-6D020C2D6EDA">[725] Text message not supported for RAW payload</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>A Messaging Gateway propagation job is configured for inbound propagation to an Oracle Database Advanced Queuing destination having a <code class="codeph">RAW</code> payload type. A text message was received from the source (non-Oracle) queue resulting in a message conversion failure.
                     </p>
                     <p>If support for text data is required, remove the Messaging Gateway propagation job and create a new job to an Oracle Database Advanced Queuing destination whose payload type supports text data.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-64656D8F-CC45-4108-8037-143E8D3C1A73">[726] Message size &lt;<span class="italic">size</span>&gt; too large for RAW payload; maximum size is &lt;<span class="italic">size</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>A Messaging Gateway propagation job is configured for inbound propagation to an Oracle Database Advanced Queuing destination having a <code class="codeph">RAW</code> payload type. A message conversion failure occurred when a message containing a large <code class="codeph">RAW</code> value was received from the source (non-Oracle) queue.
                     </p>
                     <p>If large data support is required, remove the Messaging Gateway propagation job and create a new job to an Oracle Database Advanced Queuing destination whose payload type supports large data, usually in the form of an object type with a <a href="glossary.html#GUID-A62D4CF7-C903-40B3-89DC-0D6E4233D7C9"><span class="xrefglossterm">BLOB</span></a> attribute.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-5E3814E1-EEC0-47AA-B405-E2B120D8939E">[728] Message contains too many large (BLOB) fields</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The source message contains too many fields that must be stored in <code class="codeph">BLOB</code> types. <code class="codeph">SYS.MGW_TIBRV_MSG_T</code> is limited to three <code class="codeph">BLOB</code> fields. Reduce the number of large fields in the message, perhaps by breaking them into smaller fields or combining them into fewer large fields.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-13B569D0-FF35-4E87-A51F-49580C4EBAC1">[729] Message contains too many large (CLOB) fields</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The source message contains too many fields that contain a large text value that must be stored in a <code class="codeph">CLOB</code>. <code class="codeph">SYS.MGW_TIBRV_MSG_T</code> is limited to three <code class="codeph">CLOB</code> fields. Reduce the number of large fields in the message, perhaps by breaking them into smaller fields or combining them into fewer large fields.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-28BD0533-6C2C-4F0F-833F-AB337C881629">[805] MQSeries Message error while enqueuing to queue: &lt;<span class="italic">queue</span>&gt;
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>WebSphere MQ returned an error when an attempt was made to put a message in a WebSphere MQ queue. Check the linked exception error code and message in the log file. Consult WebSphere MQ documentation.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04039.oracle-maps.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">
      <meta name="description" content="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">
      <title>Oracle Maps</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Map Visualization Developer's Guide ">
      <meta property="og:description" content="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Map Visualization Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-map-visualization-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T11:37:22-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94797-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="map-visualization-servers.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-map-builder-tool.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Map Visualization Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JIMPV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="map-visualization-servers.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-map-builder-tool.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Map Visualization Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Maps</li>
            </ol>
            <a id="GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E" name="GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E"></a><a id="JIMPV8000"></a>
            
            <h2 id="JIMPV-GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E" class="sect2"><span class="enumeration_chapter">4 </span>Oracle Maps
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.</p>
               <p><a id="d26950e23" class="indexterm-anchor"></a>Oracle Maps is included with the map visualization component.
               </p>
               <p>The map visualization component allows users who have a valid license and comply with map tile providers’ Terms of Use to display map tiles from those licensed services.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-maps.html#GUID-0D5BC30A-40AC-4347-89FA-E95D44918E32">Oracle Maps JavaScript API</a><br>The Oracle Maps JavaScript client is a browser-based map visualization engine that works on top of the map tile server and that uses HTML5 technology.
                  </li>
                  <li class="ulchildlink"><a href="oracle-maps.html#GUID-B0C3C99C-3D0C-4FB7-BCF5-F924A42B56CC">Developing Oracle Maps Applications</a><br>This topic describes how to develop Oracle Maps applications.
                  </li>
                  <li class="ulchildlink"><a href="oracle-maps.html#GUID-E3A7A484-B021-459C-8AE9-E7ABBDC04C94">Using Google Maps</a><br>Applications can display Google Maps tiles as a built-in map tile layer, by creating and adding to the map window an instance of <code class="codeph">MVGoogleTileLayer</code> .
                  </li>
                  <li class="ulchildlink"><a href="oracle-maps.html#GUID-DB268520-D5AC-4E32-A674-6FB17A21B72B">Transforming Data to a Spherical Mercator Coordinate System</a><br>Popular online map services such as Google Maps use a spherical Mercator projection for their maps.
                  </li>
                  <li class="ulchildlink"><a href="oracle-maps.html#GUID-F1647A8F-CA15-42D2-8037-09B0EA332611">Using Dynamic Tile Layers</a><br>A <span class="bold">dynamic tile layer</span> is a tile layer defined on the client side.
                  </li>
               </ul>
            </div>
            <a id="JIMPV9821"></a><div class="props_rev_3"><a id="GUID-0D5BC30A-40AC-4347-89FA-E95D44918E32" name="GUID-0D5BC30A-40AC-4347-89FA-E95D44918E32"></a><h3 id="JIMPV-GUID-0D5BC30A-40AC-4347-89FA-E95D44918E32" class="sect3"><span class="enumeration_section">4.1 </span>Oracle Maps JavaScript API
               </h3>
               <div>
                  <p>The Oracle Maps JavaScript client is a browser-based map visualization engine that works on top of the map tile server and that uses HTML5 technology.</p>
                  <p>It implements the following functions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Fetching map tiles from the map tile server and displaying them as a map tile layer in the web browser.</p>
                     </li>
                     <li>
                        <p>Controlling user interaction, such as dragging for map navigation, clicking features, drawing rectangles, and redlining.</p>
                        <p>Drawing a rectangle refers to the application user creating a rectangle by clicking and holding the mouse button at one corner of the rectangle, dragging the mouse to the diagonally opposite corner, and releasing the mouse button.</p>
                        <p><span class="bold">Redlining</span> refers to the application user creating a polygon or polyline by clicking the mouse button and then moving the mouse and clicking multiple times, with each click extending the redline by a straight line. (Redline drawings are often rendered in red, although you can specify a line style that uses any color.)
                        </p>
                     </li>
                  </ul>
                  <p>To access these functions, use the JavaScript API, which consists of several JavaScript classes. For detailed information about all classes in the Oracle Maps JavaScript API ), see the Javadoc-style reference documentation, which is included in the <code class="codeph">mvdemo.ear</code> file and is available at the following location: <code class="codeph">http://</code><span class="italic"><code class="codeph">host:port</code></span><code class="codeph">/mvdemo/api/oracle_maps_html5_api.jsp</code></p>
                  <p>Tutorials and demos for the API are available as a standalone packaged application with the root context path <code class="codeph">/mvdemo</code>. The tutorials start with the basics (display a map tile layer, add a navigation panel, display interactive features and information windows) and move on to more complex topics such as registering event listeners, programmatically creating and using styles, and spatial filtering.
                  </p>
                  <p>The tutorials are all based on the MVDEMO sample data set (available from the map visualization component page on the Oracle Technology Network) and assume a data source named <code class="codeph">mvdemo</code>. The tutorial page has three panels. The left one lists the sample code, or demo, titles. Click on one and a map, or the result of executing that sample code, is displayed in the top right panel. The bottom panel has tabs titled JavaScript and HTML, which respectively show the JavaScript and HTML code fragments for the selected demo.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-D915B019-4F89-4648-BD93-53CD42D2690E">About the Oracle Maps JavaScript API</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E" title="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">Oracle Maps</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9960"></a><div class="props_rev_3"><a id="GUID-D915B019-4F89-4648-BD93-53CD42D2690E" name="GUID-D915B019-4F89-4648-BD93-53CD42D2690E"></a><h4 id="JIMPV-GUID-D915B019-4F89-4648-BD93-53CD42D2690E" class="sect4"><span class="enumeration_section">4.1.1 </span>About the Oracle Maps JavaScript API
                  </h4>
                  <div>
                     <p>The Oracle Maps JavaScript API takes advantage of the capabilities of modern browsers and HTML5. Some of its features include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Built-in support of various third party map tile services, such as maps.oracle.com, Nokia Maps, OpenStreet Maps, and other mapping service providers</p>
                        </li>
                        <li>
                           <p>Rich client side rendering of geospatial data with on-the-fly application of rendering styles and effects such as gradients, animation, and drop-shadows</p>
                        </li>
                        <li>
                           <p>Autoclustering of large number of points and client side heat map generation</p>
                        </li>
                        <li>
                           <p>Client side feature filtering based on attribute values as well as spatial predicates (query windows)</p>
                        </li>
                        <li>
                           <p>A rich set of built-in map controls and tools, including a customizable navigation bar and information windows, configurable layer control, and red-lining and distance measurement tools</p>
                        </li>
                     </ul>
                     <p>Existing server-side predefined styles and themes will work with the API. For example, the following code snippet creates an interactive vector layer based on a predefined theme <code class="codeph">mvdemo.customers</code>, which has an associated predefined style:
                     </p><pre class="oac_no_warn" dir="ltr">var baseURL  = "http://"+document.location.host+"/mapviewer";
var layer = new OM.layer.VectorLayer("layer1",  
 {
     def:{
                type:OM.layer.VectorLayer.TYPE_PREDEFINED, 
                dataSource:"mvdemo", 
                theme:"customers", 
                url: baseURL
            }
  });
</pre><p>The API has the following top-level classes and subpackages, all of which are in the namespace <code class="codeph">OM</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">Map</code> class is the main class of the API.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">Feature</code> class represents individual geo features.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">MapContext</code> class a top-level class encapsulating some essential contextual information, such as the current map center point and zoom level. It is typically passed into event listeners.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">control</code> package contains all the map controls, such as navigation bar and overview map.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">event</code> package contains all the map and layer event classes.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">filter</code> package contains all the client-side filters (spatial or relational) for selecting, or subsetting, the displayed vector layer features.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">geometry</code> package contains various geometry classes.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">layer</code> package contains various tile and vector layer classes. The tile layer classes include access to a few online map services such as Oracle, Nokia, and OpenStreetMap. The vector layers are interactive feature layers.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">infowindow</code> package contains the customizable information windows and their styles.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">style</code> package contains styles applicable to vector data on the client side. It also includes visual effects such as animation, gradients, and drop shadows.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">tool</code> package contains various map tools such as for distance measuring, red-lining, and geometry drawing.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">universe</code> package contains built-in, or predefined, <span class="italic">map universes</span>. A map universe defines the bounding box and set of zoom level definitions for the map content.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">util</code> package contains various utility classes.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">visualfilter</code> package provides an interface for the various visual effects, such as gradients and drop shadows.
                           </p>
                        </li>
                     </ul>
                     <p><code class="codeph">OM.Map</code> is the main entry class for all map operations inside the web browser. This and other classes provide interfaces for adding application-specific logic, operations, and interactivity in web mapping applications. The application logic and operations can include the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create a map client instance and associate it with the map container DIV object created in the web page.</p>
                        </li>
                        <li>
                           <p>Configure map parameters such as map center and map zoom level.</p>
                        </li>
                        <li>
                           <p>Optionally, create and manipulate map tile layers. A map tile layer is not required. An application can have only interactive vector layers using a custom Universe that programmatically defines the zoom levels and scales.</p>
                        </li>
                        <li>
                           <p>Create and manipulate vector layers.</p>
                        </li>
                        <li>
                           <p>Display an information window on the map.</p>
                        </li>
                        <li>
                           <p>Create fixed map decorations, such as a map title, a copyright note, and map controls.</p>
                        </li>
                        <li>
                           <p>Access built-in utilities such as a navigation panel, rectangle or circle tool, scale bar, and overview map panel.</p>
                        </li>
                        <li>
                           <p>Use event listeners to customize event handling and thus map interactions.</p>
                        </li>
                     </ul>
                     <p>Other notes and considerations on using the Oracle Maps API:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The "FOI server" in a previous version of the API is now a data server that streams the vector geometries and attributes for features to the client for local rendering. Therefore, the "FOI layers" in a previous version are now called <span class="bold">vector layers</span>.
                           </p>
                        </li>
                        <li>
                           <p>A background map tile layer is not required in order to display interactive vector layers. For example, an application can display a thematic map of states (such as color-filled by population quintile) with no background tile layer.</p>
                        </li>
                        <li>
                           <p>The API depends on and includes <code class="codeph">JQuery</code> and <code class="codeph">JQueryUI</code>. So, <code class="codeph">oraclemapsv2.js</code> includes <code class="codeph">jquery-1.7.2.min.js</code> and <code class="codeph">jquery-ui-1.8.16.min.js</code>. If your application also uses JQuery and JQueryUI and includes them already, then use the file <code class="codeph">oraclemapsv2_core.js</code> in the <code class="codeph">&lt;script&gt;</code> tag instead to load the Oracle Maps library. That is, use the following:
                           </p>
                           <p><code class="codeph">&lt;script src="/mapviewer/jslib/v2/oraclemapsv2_core.js"&gt;&lt;/script&gt;</code></p>
                           <p>instead of:</p>
                           <p><code class="codeph">&lt;script src="/mapviewer/jslib/v2/oraclemapsv2.js"&gt;&lt;/script&gt;</code></p>
                        </li>
                     </ul>
                     <p>For information about developing applications using the API, see <a href="oracle-maps.html#GUID-B0C3C99C-3D0C-4FB7-BCF5-F924A42B56CC" title="This topic describes how to develop Oracle Maps applications.">Developing Oracle Maps Applications</a> and the Oracle-supplied tutorials and demos.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-0D5BC30A-40AC-4347-89FA-E95D44918E32" title="The Oracle Maps JavaScript client is a browser-based map visualization engine that works on top of the map tile server and that uses HTML5 technology.">Oracle Maps JavaScript API</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JIMPV9822"></a><div class="props_rev_3"><a id="GUID-B0C3C99C-3D0C-4FB7-BCF5-F924A42B56CC" name="GUID-B0C3C99C-3D0C-4FB7-BCF5-F924A42B56CC"></a><h3 id="JIMPV-GUID-B0C3C99C-3D0C-4FB7-BCF5-F924A42B56CC" class="sect3"><span class="enumeration_section">4.2 </span>Developing Oracle Maps Applications
               </h3>
               <div>
                  <p>This topic describes how to develop Oracle Maps applications.</p>
                  <p>If the underlying base map and layers are managed in an Oracle database, each map tile layer displayed in the client application must have a corresponding database metadata entry in the USER_SDO_CACHED_MAPS metadata view (described in <a href="map-visualization-concepts.html#GUID-820FD52E-E02D-4371-B85B-88B76FAC50FF">xxx_SDO_CACHED_MAPS Views</a>) . Similarly, if an interactive layer is based on database content, it must have a metadata entry in the USER_SDO_THEMES view (described in <a href="map-visualization-concepts.html#GUID-565BF7E3-C504-4CDC-88B0-E1ACC67300E5" title="The mapping metadata describing base maps, themes, and styles is stored in the global tables SDO_MAPS_TABLE, SDO_THEMES_TABLE, and SDO_STYLES_TABLE, which are owned by MDSYS.">Map Visualizer Metadata Views</a>, especially <a href="map-visualization-concepts.html#GUID-BB3EC523-0FE9-47DD-994F-D3B8726F2347">xxx_SDO_THEMES Views</a>). These tile and interactive layers, and the styles and styling rules for them, can be defined using the Map Builder tool (described in <a href="oracle-map-builder-tool.html#GUID-17324FF4-9AA2-4182-93B7-B7999737FA67" title="This chapter briefly describes the map visualization component Map Builder tool, also referred to as Oracle Map Builder. It does not provide detailed information about the tool's interface; for that you should use see online help available when you use Oracle Map Builder.">Oracle Map Builder Tool</a>).
                  </p>
                  <p>To develop Oracle Maps applications using the API, follow these basic steps:</p>
                  <ol>
                     <li>
                        <p>Import the <code class="codeph">oraclemapsv2.js</code> library.
                        </p>
                        <p>The API is provided in a single JavaScript library packaged as part of the map visualization component EAR archive.</p>
                     </li>
                     <li>
                        <p>After the map visualization component is deployed and started, load the library through a <code class="codeph">&lt;script&gt;</code> tag, for example:
                        </p><pre class="oac_no_warn" dir="ltr">&lt;script  type="text/javascript" url="http://localhost:8080/mapviewer/jslib/v2/oraclemapsv2.js"/&gt;
</pre><div class="infoboxnote" id="GUID-B0C3C99C-3D0C-4FB7-BCF5-F924A42B56CC__GUID-70DFA383-4218-44F0-AFB1-AACA1D9D4B38">
                           <p class="notep1">Note:</p>
                           <p> If you need a specific jQuery version other than the one packaged in <code class="codeph">oraclemapsv2.js</code> (shown in the preceding example), then you can add your preferred jQuery first, followed by a list of libraries. For example:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;script src="<span class="italic">your_preferred_jQuery_library_listed_here_first</span>.js "&gt;&lt;/script&gt;
&lt;script src="v2/jquery/jquery.hammer-full.min.js"&gt;&lt;/script&gt;
&lt;script src="v2/jquery/jquery.i18n.properties-min-1.0.9.js"&gt;&lt;/script&gt;
&lt;script src="v2/jquery/jquery.mousewheel.min.js"&gt;&lt;/script&gt;
&lt;script src="v2/rtree/rtree-min.js"&gt;&lt;/script&gt;
&lt;script src="v2/fortknox-libs/fortknox-canvas.js"&gt;&lt;/script&gt;
&lt;script src="v2/oraclemapsv2_core.js"&gt;&lt;/script&gt;
</pre></div>
                     </li>
                     <li>
                        <p>Create a <code class="codeph">&lt;DIV&gt;</code> tag in the HTML page, which will contain the interactive map.
                        </p>
                     </li>
                     <li>
                        <p>Create a client-side map instance that will handle all map display functions.</p>
                        <p>The class is named <code class="codeph">OM.Map</code> and is the main entry point of the API.
                        </p>
                     </li>
                     <li>
                        <p>Set up a map universe (unless you also do the optional next step).</p>
                        <p>A map universe basically defines the overall map extent, the number of zoom levels, and optionally the resolution (in map units per pixel) at each zoom level. Note that a predefined tile layer is not necessary in order to display interactive vector layers or themes. For example, an interactive thematic map of sales by region does not need to have a background map, or tile layer.</p>
                     </li>
                     <li>
                        <p>(Optional) Add a tile layer that serves as the background map.</p>
                        <p>The tile layer can be from the database, such as <code class="codeph">mvdemo.demo_map</code>, or from a supported service, such as Nokia Maps. Adding a tile layer also implicitly defines a map universe, and therefore the preceding step (setting up a map universe) is not necessary in this case.
                        </p>
                     </li>
                     <li>
                        <p>Add one or more interactive vector layers.</p>
                        <p><code class="codeph">OM.VectorLayer</code> uses HTML5 (Canvas or SVG) technology to render all the data in the browser. So, unless specified otherwise, all vector layer content is loaded once and there are no subsequent database queries, or data fetching, on map zoom or pan operations.
                        </p>
                     </li>
                     <li>
                        <p>Add one or more map controls, tools, and other application-specific UI controls so that users can set the displayed layers, styling, and visual effects.</p>
                     </li>
                  </ol>
                  <p>If you need to prevent themes from being streamed by default, you must protect them is by adding authentication, that is, by adding a security constraint in the map visualization component <code class="codeph">web.xml</code> file and by configuring the <code class="codeph">mds.xml</code> file to authorize access to various themes. For information, see <a href="introduction-to-map-visualization-component.html#GUID-DA9FF5B5-17C1-472C-B6EF-B968869BA21F">Configuring and Securing the Map Data Server for the HTML5 API</a>.
                  </p>
                  <p>For detailed instructions and related information about using the API, see the Oracle-supplied tutorials and demos.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-1030CA92-20CB-4800-A59A-62A8CF065629">Creating the Client Application with the API</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E" title="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">Oracle Maps</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV10133"></a><div class="props_rev_3"><a id="GUID-1030CA92-20CB-4800-A59A-62A8CF065629" name="GUID-1030CA92-20CB-4800-A59A-62A8CF065629"></a><h4 id="JIMPV-GUID-1030CA92-20CB-4800-A59A-62A8CF065629" class="sect4"><span class="enumeration_section">4.2.1 </span>Creating the Client Application with the API
                  </h4>
                  <div>
                     <p>Oracle Maps applications run inside web browsers and require only HTML5 (Canvas) support and JavaScript enabled. No additional plugins are required.</p>
                     <p>The source for an Oracle Maps application is typically packaged in an HTML page, which consists of the following parts:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A <code class="codeph">&lt;script&gt;</code> element that loads the Oracle Maps client library into the browser's JavaScript engine. For example:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;script src="/mapviewer/jslib/v2/oraclemapsv2.js"&gt;&lt;/script&gt;
</pre></li>
                        <li>
                           <p>An HTML <code class="codeph">&lt;div&gt;</code> element that will contain the map. For example:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;div id="map" style="width: 600px; height: 500px"&gt;&lt;/div&gt;
</pre></li>
                        <li>
                           <p>JavaScript code that creates the map client instance and sets the initial map content (tile and vector layer), the initial center and zoom, and map controls. This code should be packaged inside a function which is executed when the HTML page is loaded or ready. The function is specified in the <code class="codeph">onload</code> attribute of the <code class="codeph">&lt;body&gt;</code> element of the HTML page. For example:
                           </p><pre class="oac_no_warn" dir="ltr">function on_load_mapview()
{
  var baseURL  = "http://"+document.location.host+"/mapviewer";
  // Create an OM.Map instance to display the map
  var mapview = new OM.Map(document.getElementById("map"),
                           {
                             mapviewerURL:baseURL
                           });
  // Add a map tile layer as background.
  var tileLayer = new OM.layer.TileLayer(
        "baseMap",
        {
            dataSource:"mvdemo",
            tileLayer:"demo_map",
            tileServerURL:baseURL+"/mcserver"
        });
  mapview.addLayer(tileLayer);
  // Set the initial map center and zoom level
  var mapCenterLon = -122.45;
  var mapCenterLat = 37.7706;
  var mapZoom = 4;
  var mpoint = new OM.geometry.Point(mapCenterLon,mapCenterLat,8307);
  mapview.setMapCenter(mpoint);
  mapview.setMapZoomLevel(mapZoom);
  // Add a theme-based FOI layer to display customers on the map
  customersLayer = new OM.layer.VectorLayer("customers",
        {
            def:
                {
                type:OM.layer.VectorLayer.TYPE_PREDEFINED,
                dataSource:"mvdemo", theme:"customers",
                url: baseURL,
                loadOnDemand: false
                }
        });
  mapview.addLayer(customersLayer);
  // Add a navigation panel on the right side of the map
  var navigationPanelBar = new OM.control.NavigationPanelBar();
  navigationPanelBar.setStyle(
{backgroundColor:"#FFFFFF",buttonColor:"#008000",size:12});
  mapview.addMapDecoration(navigationPanelBar);
  // Add a scale bar
  var mapScaleBar = new OM.control.ScaleBar();
  mapview.addMapDecoration(mapScaleBar);
  // Display the map.
  // The initialization and display is done just once.
  mapview.init();
}
</pre></li>
                        <li>
                           <p>Additional HTML elements and JavaScript code that implement other application-specific user interface and control logic. For example, the HTML <code class="codeph">&lt;input&gt;</code> element and JavaScript function <code class="codeph">setLayerVisible</code> together implement a layer visibility control. The <code class="codeph">setLayerVisible</code> function is coded as follows:
                           </p><pre class="oac_no_warn" dir="ltr">function setLayerVisible(checkBox)
{
  // Show the customers vector layer if the check box is checked and
  // hide it otherwise.
  if(checkBox.checked)
    customersLayer.setVisible(true) ;
  else
    customersLayer.setVisible(false);
}
</pre><p>The function is specified in the <code class="codeph">onclick</code> attribute of the <code class="codeph">&lt;input&gt;</code> element defining the checkbox. In the following example, the function is executed whenever the user clicks on the Show Customers check box:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;INPUT TYPE="checkbox" onclick="setLayerVisible(this)" checked/&gt;Show Customers</pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-B0C3C99C-3D0C-4FB7-BCF5-F924A42B56CC" title="This topic describes how to develop Oracle Maps applications.">Developing Oracle Maps Applications</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JIMPV9942"></a><div class="props_rev_3"><a id="GUID-E3A7A484-B021-459C-8AE9-E7ABBDC04C94" name="GUID-E3A7A484-B021-459C-8AE9-E7ABBDC04C94"></a><h3 id="JIMPV-GUID-E3A7A484-B021-459C-8AE9-E7ABBDC04C94" class="sect3"><span class="enumeration_section">4.3 </span>Using Google Maps
               </h3>
               <div>
                  <p>Applications can display Google Maps tiles as a built-in map tile layer, by creating and adding to the map window an instance of <code class="codeph">MVGoogleTileLayer</code> .
                  </p>
                  <p>Internally, the Oracle Maps client uses the official Google Maps API to display the map that is directly served by the Google Maps server.</p>
                  <p>To use the Google Maps tiles, your usage of the tiles must meet the terms of service specified by Google (see <a href="https://developers.google.com/readme/terms" target="_blank"><code class="codeph">https://developers.google.com/readme/terms</code></a>).
                  </p>
                  <p>If you need to overlay your own spatial data on top of the Google Maps tile layer, see also <a href="oracle-maps.html#GUID-DB268520-D5AC-4E32-A674-6FB17A21B72B" title="Popular online map services such as Google Maps use a spherical Mercator projection for their maps.">Transforming Data to a Spherical Mercator Coordinate System</a>.)
                  </p>
                  <p>The following sections describe the two options for using built-in map tile layers.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-CEBF1805-101D-4B7C-A051-641A71BFBCBC">Defining Google Maps Tile Layers on the Client Side</a><br></li>
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-104759F3-E7AA-41B2-A1E4-6BD76FA66399">Defining the Built-In Map Tile Layers on the Server Side</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E" title="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">Oracle Maps</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9943"></a><div class="props_rev_3"><a id="GUID-CEBF1805-101D-4B7C-A051-641A71BFBCBC" name="GUID-CEBF1805-101D-4B7C-A051-641A71BFBCBC"></a><h4 id="JIMPV-GUID-CEBF1805-101D-4B7C-A051-641A71BFBCBC" class="sect4"><span class="enumeration_section">4.3.1 </span>Defining Google Maps Tile Layers on the Client Side
                  </h4>
                  <div>
                     <p>To define a built-in map tile layer on the client side, you need to create a <code class="codeph">MVGoogleTileLayer</code> object, and add it to the MVMapView object. (As of Oracle Fusion Middleware Release 11.1.1.6, <code class="codeph">MVGoogleTileLayer</code> uses the Google Maps Version 3 API by default.)
                     </p>
                     <p>For example, to use Google tiles, add the Google tile layer to your map:</p><pre class="oac_no_warn" dir="ltr">mapview = new MVMapView(document.getElementById("map"), baseURL);
tileLayer = new MVGoogleTileLayer() ;
mapview.addMapTileLayer(tileLayer);
</pre><p>In your application, you can invoke the method <code class="codeph">MVGoogleTileLayer.setMapType</code> to set the map type to be one of the types supported by the map providers, such as road, satellite, or hybrid.
                     </p>
                     <p>For usage examples and more information, see the JavaScript API documentation for <code class="codeph">MVGoogleTileLayer</code>, and the tutorial demo <span class="italic">Built-in Google Maps Tile Layer</span>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-E3A7A484-B021-459C-8AE9-E7ABBDC04C94" title="Applications can display Google Maps tiles as a built-in map tile layer, by creating and adding to the map window an instance of MVGoogleTileLayer .">Using Google Maps</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="JIMPV9944"></a><div class="props_rev_3"><a id="GUID-104759F3-E7AA-41B2-A1E4-6BD76FA66399" name="GUID-104759F3-E7AA-41B2-A1E4-6BD76FA66399"></a><h4 id="JIMPV-GUID-104759F3-E7AA-41B2-A1E4-6BD76FA66399" class="sect4"><span class="enumeration_section">4.3.2 </span>Defining the Built-In Map Tile Layers on the Server Side
                  </h4>
                  <div>
                     <p>You can define a built-in map tile layer (also called an external tile layer) on the server side in the metadata, and use it as a regular map visualization component tile layer on the client side.&nbsp;To define a built-in map tile layer on the server side, follow these steps:</p>
                     <ol>
                        <li>
                           <p>Log into the map visualization component administration page (explained in <a href="introduction-to-map-visualization-component.html#GUID-2191CCA7-AC00-4E8C-9011-D27CE3E50CDC">Logging in to the Map Visualization Component Administration Page</a>).
                           </p>
                        </li>
                        <li>
                           <p>Select the Admin tab and click<span class="bold">Create tile layer</span>.
                           </p>
                        </li>
                        <li>
                           <p>For <span class="bold">Tile Layer Type</span>, choose&nbsp;Oracle Maps, Google Maps, HERE Maps, OpenStreet Maps, Tomtom Maps, or LocationBox Maps,&nbsp;and click&nbsp;<span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>Provide a name for this external tile layer (such as GOOGLE_MAP), and select the data source where the tile layer definition is to be stored.</p>
                        </li>
                        <li>
                           <p>Set the license key that you have obtained from the map provider and other relevant properties (details are available for specific external tile layers),&nbsp;and click&nbsp;<span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>Review the XML Description of the external tile layer. You may click <span class="bold">Previous</span> to go to the previous page to make changes.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Submit</span> to create the tile layer.
                           </p>
                        </li>
                     </ol>
                     <p>After you have created the built-in map tile layer on the server side, you can use it like any other tile layer served by MapViewer. You do not need to add any <code class="codeph">&lt;script&gt;</code> tag to load the external JavaScript library.
                     </p>
                     <p>The following code snippetshows a Google Maps tile layer defined on the server side:</p><pre class="oac_no_warn" dir="ltr"> var tileLayer = new OM.layer.TileLayer("google1", {
      dataSource:"mvdemo", 
      tileLayer:"GOOGLE_MAP"
      });
	
  map.addLayer(tileLayer) ;
</pre><div class="infoboxnote" id="GUID-104759F3-E7AA-41B2-A1E4-6BD76FA66399__GUID-E6D2FA26-99F4-4B37-A3BF-9FFE1CB5E2D2">
                        <p class="notep1">Note:</p>
                        <p>Each built-in tile layer has its own specific properties. You may need to check with the service provider for requirements.</p>
                        <p>If Google Maps will be used, you may need to provide the following properties:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">key</code>: the key you obtained from Google Maps.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">client</code>: the client ID, an optional property you may obtain from Google Maps. The key property is still needed when the client ID is provided.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">lib_url</code>: the Google Maps API URL, for example: <code class="codeph">http://maps.google.com/maps/api/js?sensor=false</code>. If not provided, a default value will be used.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">version</code>: the current API version is 3.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">mapTyelList</code>, a list of map types may be provided: MVGoogleTileLayer.TYPE_ROAD; MVGoogleTileLayer.TYPE_SHADED; MVGoogleTileLayer.TYPE_SATELLITE; MVGoogleTileLayer.TYPE_HYBRID.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">mapTypeVisible</code>, a Boolean <code class="codeph">true</code> or <code class="codeph">false</code> value to indicate whether to have the map type buttons be displayed for selecting map types.
                              </p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-E3A7A484-B021-459C-8AE9-E7ABBDC04C94" title="Applications can display Google Maps tiles as a built-in map tile layer, by creating and adding to the map window an instance of MVGoogleTileLayer .">Using Google Maps</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="JIMPV9945"></a><div class="props_rev_3"><a id="GUID-DB268520-D5AC-4E32-A674-6FB17A21B72B" name="GUID-DB268520-D5AC-4E32-A674-6FB17A21B72B"></a><h3 id="JIMPV-GUID-DB268520-D5AC-4E32-A674-6FB17A21B72B" class="sect3"><span class="enumeration_section">4.4 </span>Transforming Data to a Spherical Mercator Coordinate System
               </h3>
               <div>
                  <p>Popular online map services such as Google Maps use a spherical Mercator projection for their maps.</p>
                  <p>If you are using an Oracle Database release earlier than 11.1.0.7, and if you need to overlay your own spatial data on top of such a tile layer, such as a Google Maps tile layer, you must set up the database to properly handle coordinate system transformation between the coordinate system of that tile layer and your own data coordinate system, if the two coordinate systems are not the same.</p>
                  <div class="infoboxnote" id="GUID-DB268520-D5AC-4E32-A674-6FB17A21B72B__GUID-5D55AE6D-7924-4B42-A358-DF9F5209DD37">
                     <p class="notep1">Note:</p>
                     <p>To perform the actions in this section, your database must be Release 10.2.0.1 or later.</p>
                  </div>
                  <p>Google Maps uses a Spherical Mercator coordinate system (EPSG: 3785), which is also widely used among commercial API providers such as Yahoo! Maps. This coordinate system (SRID 3785) was not provided with Oracle Spatial and Graph before Release 11.1.0.7. In order to enable the map visualization componentthe map visualization component and Oracle Spatial and Graph to transform your own data to this coordinate system, you must first add this coordinate system definition into your Oracle database if it is not already defined.</p>
                  <p>To check if this coordinate system is defined, you can enter the following statement: </p><pre class="oac_no_warn" dir="ltr">SELECT srid FROM mdsys.cs_srs WHERE srid=3785;
</pre><p>If the preceding statement returns a row, you do not need to perform the actions in this section. If the preceding statement does not return a row, you must perform the actions in this section in order to be able to overlay your own spatial data on top of the tile layer.</p>
                  <p>Follow these steps:</p>
                  <ol>
                     <li>
                        <p>Connect to the database as a privileged user, such as one with the DBA role.</p>
                     </li>
                     <li>
                        <p>Run the <code class="codeph">csdefinition.sql</code> script, as follows. (Replace <span class="italic"><code class="codeph">$MAPVIEWER_HOME</code></span> with the root directory of the WebLogic Server instance where your MapViewer is deployed, and enter the command on a single line.)
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Linux: <span class="italic"><code class="codeph">$MAPVIEWER_HOME</code></span><code class="codeph">/j2ee/home/applications/mapviewer/web/WEB-INF/admin/csdefinition.sql</code></p>
                           </li>
                           <li>
                              <p>Windows: <span class="italic"><code class="codeph">$MAPVIEWER_HOME</code></span><code class="codeph">\j2ee\home\applications\mapviewer\web\WEB-INF\admin\csdefinition.sql</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>If necessary, create a transformation rule to cause Oracle Spatial and Graph to skip datum conversion when transforming data from a specified coordinate system to the Spherical Mercator system. To find out if you need to create such a transformation rule, see <a href="oracle-maps.html#GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A">Creating a Transformation Rule to Skip Datum Conversion</a>.
                        </p>
                     </li>
                     <li>
                        <p>Either pre-transform your spatial data for better performance, or let the map visualization component transform the data at runtime ("on the fly"). Note that if your database release is earlier than 10.2.0.4, pre-transforming is the only option.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To pre-transform all your data into the Spherical Mercator coordinate system, use the SDO_CS.TRANSFORM_LAYER procedure on all the data, and use the transformed data for mapping. (See the SDO_CS.TRANSFORM_LAYER reference section in <a href="../spatl/SDO_CS-reference.html#SPATL1076" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.)
                              </p>
                           </li>
                           <li>
                              <p>To let the map visualization component transform the data at runtime, do not transform the data before using it for mapping.</p>
                           </li>
                        </ul>
                     </li>
                  </ol>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A">Creating a Transformation Rule to Skip Datum Conversion</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E" title="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">Oracle Maps</a></p>
                     </div>
                  </div>
               </div>
               <a id="JIMPV9947"></a><a id="JIMPV9946"></a><div class="props_rev_3"><a id="GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A" name="GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A"></a><h4 id="JIMPV-GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A" class="sect4"><span class="enumeration_section">4.4.1 </span>Creating a Transformation Rule to Skip Datum Conversion
                  </h4>
                  <div>
                     <p>Spatial data is often in a coordinate system based on an ellipsoid datum, such as WGS84 or BNG. In such cases, Oracle Spatial and Graph by default applies datum conversion when transforming the data into the Spherical Mercator system. This will introduce a small amount of mismatch or error between your data and the Google Maps other map service tiles. If you want to address this issue, you can create transformation rules that tell Oracle Spatial and Graph to skip datum conversion when transforming data from a specified coordinate system to the Spherical Mercator system.</p>
                     <p><a href="oracle-maps.html#GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A__BACCFFFA">Example 4-1</a> shows SQL statements that are included in the <code class="codeph">csdefinition.sql</code> script and that create such transformations rules. However, if the coordinate system of your spatial data is not covered by the rules shown in <a href="oracle-maps.html#GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A__BACCFFFA">Example 4-1</a>, you can create your own rule if the coordinate system of your data is not covered by these rules. (For more information about creating coordinate system transformation rules, see <a href="../spatl/coordinate-systems-concepts.html#SPATL054" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.)
                     </p>
                     <div class="example" id="GUID-46480CF4-3E2C-483C-ADD3-410D34E56C8A__BACCFFFA">
                        <p class="titleinexample">Example 4-1 Transformation Rules Defined in the csdefinition.sql Script</p><pre class="oac_no_warn" dir="ltr">-- Create the tfm_plans, that is, the transformation rules.
-- Note: This will result in an incorrect conversion since it ignores a datum
-- datum between the ellipsoid and the sphere. However, the data will match
-- up better on Google Maps.
 
-- For wgs84 (8307)
call sdo_cs.create_pref_concatenated_op( 83073785, 'CONCATENATED OPERATION 8307 3785', TFM_PLAN(SDO_TFM_CHAIN(8307, 1000000000, 4055, 19847, 3785)), NULL);
 
-- For 4326, EPSG equivalent of 8307
call sdo_cs.create_pref_concatenated_op( 43263785, 'CONCATENATED_OPERATION_4326_3785', TFM_PLAN(SDO_TFM_CHAIN(4326, 1000000000, 4055, 19847, 3785)), NULL); 
 
-- For OS BNG, Oracle SRID 81989
call sdo_cs.create_pref_concatenated_op( 819893785, 'CONCATENATED OPERATION 81989 3785', TFM_PLAN(SDO_TFM_CHAIN(81989, -19916, 2000021, 1000000000, 4055, 19847, 3785)), NULL); 
 
-- For 27700, EPSG equivalent of 81989
call sdo_cs.create_pref_concatenated_op( 277003785, 'CONCATENATED_OPERATION_27700_3785', TFM_PLAN(SDO_TFM_CHAIN(27700, -19916, 4277, 1000000000, 4055, 19847, 3785)), NULL);
commit;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-DB268520-D5AC-4E32-A674-6FB17A21B72B" title="Popular online map services such as Google Maps use a spherical Mercator projection for their maps.">Transforming Data to a Spherical Mercator Coordinate System</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" name="GUID-F1647A8F-CA15-42D2-8037-09B0EA332611"></a><h3 id="JIMPV-GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" class="sect3"><span class="enumeration_section">4.5 </span>Using Dynamic Tile Layers
               </h3>
               <div>
                  <p>A <span class="bold">dynamic tile layer</span> is a tile layer defined on the client side.
                  </p>
                  <p>A dynamic tile layer differs from a regular tile layer in the following ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>It is defined by the client application, so it does not need to be predefined in the USER_SDO_CACHED_MAPS metadata.</p>
                     </li>
                     <li>
                        <p>The server does not cache the map tiles.</p>
                     </li>
                     <li>
                        <p>It can use third party maps services, when a map tile image URL generation function is provided.</p>
                     </li>
                  </ul>
                  <p>Thus, a dynamic tile layer can be defined dynamically by a client application, and the map images may come from a map visualization component server or from a third party map service.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-9D06150F-FECD-4982-BDF5-C514F309A1AB">Creating a Universe and Configuration Instance for a Dynamic Tile Layer</a><br></li>
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-B8F07CD7-3B9B-4C8A-9CF1-2E247498ADC1">Creating a Dynamic Tile Layer Using a Base Map</a><br></li>
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-D66B53D6-9F3D-45CA-92F5-4F5E40C0B9C7">Creating a Dynamic Tile Layer Using Predefined Themes</a><br></li>
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-B515D9FC-C99B-4660-B4C2-FFF5570E7054">Creating a Dynamic Tile Layer Using Spatial Tables Directly</a><br></li>
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-66199642-3D36-47F4-BB45-02943A10EF42">Creating a Dynamic Tile Layer Using Third Party Map Services</a><br></li>
                     <li class="ulchildlink"><a href="oracle-maps.html#GUID-31918E3F-96F8-41E6-B835-5796714DC54F">Dynamic Tile Layer Use Case</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-9B4DB4C9-5E4B-4776-92F6-84084F65784E" title="Oracle Maps is the name for a suite of technologies for developing high-performance interactive web-based mapping applications.">Oracle Maps</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-9D06150F-FECD-4982-BDF5-C514F309A1AB" name="GUID-9D06150F-FECD-4982-BDF5-C514F309A1AB"></a><h4 id="JIMPV-GUID-9D06150F-FECD-4982-BDF5-C514F309A1AB" class="sect4"><span class="enumeration_section">4.5.1 </span>Creating a Universe and Configuration Instance for a Dynamic Tile Layer
                  </h4>
                  <div>
                     <p>Before creating a dynamic tile layer instance, you must create a universe and a tile layer configuration for a dynamic tile layer. </p>
                     <p>For example, assume that a variable named baseURL is properly defined (such as http://myapp.mycorp.com/mapviewer) and that the specified data source exists. You must create a tile layer configuration instance and a universe instance. You can use an Oracle Maps JavaScript API built-in universe or create your own. For simplicity, a built-in universe is used here.</p>
                     <p>A tile layer configuration instance only needs to define the dimension of an image tile, and 256 pixels for a tile image's width and height are commonly used. The following code snippet creates this instance:</p><pre class="pre codeblock"><code>  var  myuniv= new OM.universe.LatLonUniverse();  // a built-in universe
  var  myconfig=new OM.layer.TileLayerConfig(  // a tile layer configure instance
          {
	        tileImageWidth: 256,  
	        tileImageHeight: 256
          });
</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" title="A dynamic tile layer is a tile layer defined on the client side.">Using Dynamic Tile Layers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B8F07CD7-3B9B-4C8A-9CF1-2E247498ADC1" name="GUID-B8F07CD7-3B9B-4C8A-9CF1-2E247498ADC1"></a><h4 id="JIMPV-GUID-B8F07CD7-3B9B-4C8A-9CF1-2E247498ADC1" class="sect4"><span class="enumeration_section">4.5.2 </span>Creating a Dynamic Tile Layer Using a Base Map
                  </h4>
                  <div>
                     <p>Creating a dynamic tile layer using a base map is the simplest approach, because the map contents are already defined by a server-side map visualization component  base map. Follow these steps.</p>
                     <ol>
                        <li>
                           <p>Create a <code class="codeph">ServerMapRequest</code> instance and set its properties. For example:
                           </p><pre class="pre codeblock"><code>        var req = new OM.server.ServerMapRequest(baseURL);
        req.setProperties({
            dataSource:"MVDEMO",
            basemap: 'demo_map',  // this basemap property defines the map contents
            transparent:true,
            antialiase:"false"
        });
</code></pre></li>
                        <li>
                           <p>Create an object containing properties of this dynamic tile layer. For example:</p><pre class="pre codeblock"><code>        var dtl_props = {  
            universe: myuniv,            
            tileLayerConfig: myconfig,
            tileServerURL: baseURL + "/omserver",  // map images come from this omserver
            enableUTFGrid: true,  // the UTFGrid is enabled
            enableUTFGridInfoWindow: true,  // the info window for displaying UTFGrid is enabled
            utfGridResolution: 4   // one grid cell represents 16 (4 by 4) image pixels
        };
</code></pre><p>In this example, the string value in variable <code class="codeph">tileServerURL</code> is pointing to a map visualization component server. It could be the same server as where the web application is deployed, or another map visualization component server instance. For example, it can be in either of the following forms:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>From the same Oracle Maps server instance:. For example:</p><pre class="pre codeblock"><code>var baseURL=document.location.protocol+"//"+document.location.host+"/mapviewer";</code></pre></li>
                              <li>
                                 <p>From another Oracle Maps server instance. For example:</p><pre class="pre codeblock"><code>var baseURL="http://myapp.mycorp.com/mapviewer ";</code></pre></li>
                           </ul>
                        </li>
                        <li>
                           <p>Create a dynamic tile layer. For example:</p><pre class="pre codeblock"><code>  var dynamic_tilelayer_1 = new OM.layer.DynamicTileLayer("dtl1", dtl_props, req);</code></pre><p>The dynamic tile layer requests map images from the map visualization component's map server (omserver), which renders a fresh map image and does not cache the images on disk.</p>
                        </li>
                     </ol>
                     <p>From the preceding examples, notice that three statements are given to create a dynamic tile layer: (1) create a map request instance (<code class="codeph">ServerMapRequest</code>);  (2) create an object containing the dynamic tile layer related properties; and (3) instantiate a dynamic tile layer.
                     </p>
                     <p>The dynamic tile layer requests map images from the map visualization component's map server (<code class="codeph">omserver</code>), which renders a fresh map image and does not cache the images on disk.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" title="A dynamic tile layer is a tile layer defined on the client side.">Using Dynamic Tile Layers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-D66B53D6-9F3D-45CA-92F5-4F5E40C0B9C7" name="GUID-D66B53D6-9F3D-45CA-92F5-4F5E40C0B9C7"></a><h4 id="JIMPV-GUID-D66B53D6-9F3D-45CA-92F5-4F5E40C0B9C7" class="sect4"><span class="enumeration_section">4.5.3 </span>Creating a Dynamic Tile Layer Using Predefined Themes
                  </h4>
                  <div>
                     <p>Another approach to creating a dynamic tile layer is to use predefined themes. Follow these steps.</p>
                     <ol>
                        <li>
                           <p>Create a <code class="codeph">ServerMapRequest</code> instance and set its properties. For example:
                           </p><pre class="pre codeblock"><code>        var req = new OM.server.ServerMapRequest(baseURL);
        req.setProperties({
            dataSource:"MVDEMO",
            transparent:true,
            antialiase:"false",
        });
        // the three themes below are defined in the metadata already.
        var t1 = new OM.server.ServerPredefinedTheme("THEME_DEMO_STATES");
        var t2 = new OM.server.ServerPredefinedTheme("THEME_DEMO_HIGHWAYS");
        var t3 = new OM.server.ServerPredefinedTheme("THEME_DEMO_CITIES");
        req.addThemes([t1, t2, t3]);
</code></pre></li>
                        <li>
                           <p>Create an object containing properties of this dynamic tile layer. For example:</p><pre class="pre codeblock"><code>        var dtl_props = {  
            universe: myuniv,            
            tileLayerConfig: myconfig,
            tileServerURL: baseURL + "/omserver",
            enableUTFGrid: true,
            enableUTFGridInfoWindow: true,
            utfGridResolution: 4
        };
</code></pre></li>
                        <li>
                           <p>Create a dynamic tile layer. For example:</p><pre class="pre codeblock"><code>  var dynamic_tilelayer_2 = new OM.layer.DynamicTileLayer("dtl2", dtl_props, req);</code></pre><p>The dynamic tile layer requests map images from the map visualization component's map server (omserver), which renders a fresh map image and does not cache the images on disk.</p>
                        </li>
                     </ol>
                     <p>Instead of specifying a server base map, in this approach the <code class="codeph">ServerMapRequest</code> instance adds some map visualization component server predefined themes. From a practical perspective, this allows the client-side application to create tile layers using the server-side defined themes in the view USER_SDO_THEMES.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" title="A dynamic tile layer is a tile layer defined on the client side.">Using Dynamic Tile Layers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-B515D9FC-C99B-4660-B4C2-FFF5570E7054" name="GUID-B515D9FC-C99B-4660-B4C2-FFF5570E7054"></a><h4 id="JIMPV-GUID-B515D9FC-C99B-4660-B4C2-FFF5570E7054" class="sect4"><span class="enumeration_section">4.5.4 </span>Creating a Dynamic Tile Layer Using Spatial Tables Directly
                  </h4>
                  <div>
                     <p>You can directly use spatial tables for a dynamic tile layer by creating <code class="codeph">ServerJBCTheme</code> instances and adding them into a <code class="codeph">ServerMapRequest</code> instance. Follow these steps.
                     </p>
                     <ol>
                        <li>
                           <p>Create a style. For example: </p><pre class="pre codeblock"><code>        var myc1 = new OM.style.Color({
            styleName: "mycolor1",
            stroke: "#333333", 
            strokeOpacity: 1.0,
            fill: "#F2EFE9", 
            fillOpacity: 1.0
        });
</code></pre></li>
                        <li>
                           <p>Create a JDBC theme and set its properties. Spatial tables are used in a SQL query statement. The statement, as a string type variable, is set as an attribute in the <code class="codeph">OM.server.ServerJDBCTheme</code> instance. For example:
                           </p><pre class="pre codeblock"><code>        var jdbcTStates= new OM.server.ServerJDBCTheme('theme_jdbc_states');
        jdbcTStates.setDataSourceName('mvdemo');
        jdbcTStates.setSRID('8307');
        jdbcTStates.setGeometryColumnName('geom');
        var sql='select totpop, poppsqmi, state, state_abrv, geom from states'; // the query
        jdbcTStates.setQuery(sql);  // set the SQL string
        jdbcTStates.addInfoColumn({column: 'state_abrv', name:'State'});
        jdbcTStates.addInfoColumn({column: 'totpop', name:'Population'});
        jdbcTStates.addInfoColumn({column: 'poppsqmi', name:'Pop. Density'});
        jdbcTStates.setRenderingStyleName('mycolor1');
</code></pre></li>
                        <li>
                           <p>Create a <code class="codeph">ServerMapRequest</code> instance and set its properties. For example:
                           </p><pre class="pre codeblock"><code>        var req = new OM.server.ServerMapRequest(baseURL);
        req.setProperties({
            dataSource:"MVDEMO",
            transparent:true,
            antialiase:"false",
        });
        req.addTheme(jdbcTStates);
        req.addStyle(myc1);
</code></pre></li>
                        <li>
                           <p>Create an object containing properties of this dynamic tile layer. For example:</p><pre class="pre codeblock"><code>        var dtl_props = {  
            universe: myuniv,            
            tileLayerConfig: myconfig,
            tileServerURL: baseURL + "/omserver",
            enableUTFGrid: true,
            enableUTFGridInfoWindow: true,
            utfGridResolution: 4
        };
</code></pre></li>
                        <li>
                           <p>Create a dynamic tile layer. For example:</p><pre class="pre codeblock"><code>  var dynamic_tilelayer_3 = new OM.layer.DynamicTileLayer("dtl3", dtl_props, req);</code></pre></li>
                     </ol>
                     <p>In this example, a dynamically defined style and a <code class="codeph">ServerJDBCTheme</code> object are created first. The <code class="codeph">ServerJDBCTheme</code> can make use the spatial tables directly using a SQL statement. The tables are then used by the <code class="codeph">addTheme</code> and <code class="codeph">addStyle</code> methods of a <code class="codeph">ServerMapRequest</code> object.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" title="A dynamic tile layer is a tile layer defined on the client side.">Using Dynamic Tile Layers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-66199642-3D36-47F4-BB45-02943A10EF42" name="GUID-66199642-3D36-47F4-BB45-02943A10EF42"></a><h4 id="JIMPV-GUID-66199642-3D36-47F4-BB45-02943A10EF42" class="sect4"><span class="enumeration_section">4.5.5 </span>Creating a Dynamic Tile Layer Using Third Party Map Services
                  </h4>
                  <div>
                     <p>Another approach to create a dynamic tile layer is to use third party map services. The map service URL of a third party is provided by a client provided URL generation function. Follow these steps.</p>
                     <ol>
                        <li>
                           <p>Using the third party map service provider's specifications, create a URL construction function for building map image requests by a dynamic tile layer. For example:</p><pre class="pre codeblock"><code>var urlb = function (w, h, minX, minY, maxX, maxY, options){
      var str="http://my.mycorp.com:8080/geoserver/ows?";
      var optParams="";
      str = str+"request=getmap"+
      "&amp;bbox="+minX+","+minY+","+maxX+","+maxY+
      "&amp;width="+w+
      "&amp;height="+h;
      
    if (!OM.isNull(options)) {
      for (var key in options) {
        optParams=optParams +"&amp;"+key +"="+options[key];
      }
    }    
    return str+optParams;
  }
</code></pre></li>
                        <li>
                           <p>Create an object containing properties of this dynamic tile layer. For example:</p><pre class="pre codeblock"><code>var dtl_props = {  
    universe: myuniv,            
    tileLayerConfig: myconfig,
    urlBuilder: urlb,
    urlBuilderOptions: {
              "layers":  "topp:states,sf:sfdem,sf:roads,sf:streams",
              "CRS":     "CRS:84",
              "service": "WMS",
              "version": "1.3.0",
              "format":  "image/png"
        } 
};
</code></pre></li>
                        <li>
                           <p>Create a dynamic tile layer. For example:</p><pre class="pre codeblock"><code>  var dynamic_tilelayer_4 = new OM.layer.DynamicTileLayer("dl4", dtl_props);</code></pre></li>
                     </ol>
                     <p>In this example, a dynamic tile layer instance (<code class="codeph">dynamic_tilelayer_4</code>) contains a <code class="codeph">urlBuilder</code> property to provide a URL generation function (<code class="codeph">iurlb</code>). The URL generation function will be used by the dynamic tile layer for fetching image tiles from the specified map service provider. This example uses a third party map provider, a <code class="codeph">GeoServer</code> instance, to provide map images.
                     </p>
                     <p>Additional map service provider required parameters can be provided in the <code class="codeph">urlBuilderOptions</code> property. This example specifies several additional parameters (<code class="codeph">layers</code>, <code class="codeph">CRS</code>, <code class="codeph">service</code>, <code class="codeph">version</code>, and <code class="codeph">format</code>) needed by the <code class="codeph">GeoServer</code> instance.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" title="A dynamic tile layer is a tile layer defined on the client side.">Using Dynamic Tile Layers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-31918E3F-96F8-41E6-B835-5796714DC54F" name="GUID-31918E3F-96F8-41E6-B835-5796714DC54F"></a><h4 id="JIMPV-GUID-31918E3F-96F8-41E6-B835-5796714DC54F" class="sect4"><span class="enumeration_section">4.5.6 </span>Dynamic Tile Layer Use Case
                  </h4>
                  <div>
                     <p>This topic describes a dynamic tile layer use case.</p>
                     <p>The code examples come from a dynamic tile layer application. The application uses the map visualization component server to provide map image tiles. It uses spatial tables directly via an <code class="codeph">OM.server.ServerJDBCTheme</code> instance.
                     </p>
                     <ol>
                        <li>
                           <p>Obtain the SQL query's "where" clause from an application's user interface using the <code class="codeph">getWhereClauseFromUI()</code> function, assuming that this function is properly defined already in that application and returns expected results. For example:
                           </p><pre class="pre codeblock"><code>    var  wherec = getWhereClauseFromUI();</code></pre></li>
                        <li>
                           <p>Create a JDBC theme and set its properties. For example:</p><pre class="pre codeblock"><code>    var objJDBCTheme= new OM.server.ServerJDBCTheme();
    objJDBCTheme.setDataSourceName('storm');
    objJDBCTheme.setSRID('3857');
    objJDBCTheme.setXColumnName('long_loc');
    objJDBCTheme.setYColumnName('lat_loc');

    objJDBCTheme.addInfoColumn({column: 'YEAR', name:'Year'});
    objJDBCTheme.addInfoColumn({column: 'MONTH', name:'Month'});
    objJDBCTheme.addInfoColumn({column: 'DAY', name:'Day'});
    objJDBCTheme.addInfoColumn({column: 'STATE', name:'State'});
    objJDBCTheme.addInfoColumn({column: 'LOSS', name:'Loss'});
    objJDBCTheme.addInfoColumn({column: 'CROPLOSS', name:'Crop_loss'});
    objJDBCTheme.addInfoColumn({column: 'FATALITIES', name:'Fatalities'});
    objJDBCTheme.addInfoColumn({column: 'INJURIES', name:'Injuries'});

    objJDBCTheme.setName('theme_tornado');
    objJDBCTheme.setQuery("SELECT s.geom.sdo_point.x long_loc,s.geom.sdo_point.y lat_loc,year,month,day,state,fatalities,injuries,loss,croploss from tornado_3857 s"+
(wherec === "" ?"": wherec));
    objJDBCTheme.setRenderingStyleName('V.TORNADO');
</code></pre></li>
                        <li>
                           <p>Create a <code class="codeph">ServerMapRequest</code> instance and set its properties. For example:
                           </p><pre class="pre codeblock"><code>        var req = new OM.server.ServerMapRequest(baseURL);
        req.setProperties({
            dataSource:'storm',
            transparent:true,  // map image is set to be transparent
            antialiase:"false"
        });
        req.addTheme(objJDBCTheme);
</code></pre></li>
                        <li>
                           <p>Create an object containing properties of this dynamic tile layer. For example:</p><pre class="pre codeblock"><code>        var dtl_props = {  
            universe: myuniv,            
            tileLayerConfig: myconfig,
            tileServerURL: baseURL + "/omserver",
            enableUTFGrid: true,
            enableUTFGridInfoWindow: true,
            utfGridResolution: 4
        };
</code></pre></li>
                        <li>
                           <p>Create a dynamic tile layer. For example:</p><pre class="pre codeblock"><code>  var tornado_damage = new OM.layer.DynamicTileLayer("tornado_damage", dtl_props, req);</code></pre></li>
                     </ol>
                     <p>The code examples in the preceding steps illustrate the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The map application fetches map images from a map visualization component server. Therefore, it may use all available features from the map visualization component server.</p>
                        </li>
                        <li>
                           <p>The map image is set to be transparent (that is, the value for property <code class="codeph">transparent</code> is <code class="codeph">true</code>). This setting makes all of the non-overlapping features visible when multiple dynamic tile layers are stacked for display. For example, when you overlay a <code class="codeph">tornado_damage</code> dynamic tile layer on top of a <code class="codeph">hail_damage</code> dynamic tile layer, you may see both layers on the map when such events (as their names suggest) were happening at non-overlapping locations. This setting is more useful for multiple layers containing linear and point features. Note that since the API allows you to turn on/off a layer's visibility, you can always make a layer of interest stand out and be visible in your application.
                           </p>
                        </li>
                        <li>
                           <p>The dynamic tile layer also enables the map visualization component server's <code class="codeph">UTFGrid</code> support (specifically, the value for property <code class="codeph">enableUTFGrid</code> is set to <code class="codeph">true</code>, with a resolution value set to 4 for the <code class="codeph">utfGridResolution</code> property). This setting instructs map visualization component's API to request an additional <code class="codeph">UTFGrid</code> file as a companion of its map tile image. It is a JSON file, and it contains a two-dimensional grid table in UTF encoding, that matches the tile image. It also contains some text attributes for each grid cell.
                           </p>
                           <p>When a mouse event (for example, a mouse click) is triggered at an image pixel, its corresponding grid cell can then be located, its UTF code be obtained, and subsequently, the text attributes associated with that grid cell's UTF code can be retrieved and displayed in a popup info window.</p>
                           <p>The text attributes contained in that JSON file are specified using the <code class="codeph">addInfoColumn()</code> method. Those text attributes will be displayed in an info window for a pixel being clicked on the map.
                           </p>
                           <p>Note that if server-side predefined geometry themes are used by a dynamic tile layer, the text attributes for an info window must have been specified in theme's <code class="codeph">&lt;hidden_info&gt;</code> element. This also applies for the base map-based dynamic tile layers, where the predefined themes are found in the map visualization component's base map definition
                           </p>
                           <p>A resolution value (for example, <code class="codeph">"utfGridResolution":4</code>) indicates the width and height of the grid cell compares with its companion map tile image pixel. In this example, one grid cell in the <code class="codeph">UTFGrid</code> data set represents 16 pixels (4x4=16).
                           </p>
                        </li>
                        <li>
                           <p>This dynamic tile layer makes use of spatial table directly via a <code class="codeph">ServerJDBCTheme</code> to define its map contents. In its embedded SQL statement, the client web application has the flexibility to construct the whole statement, including the tables to use, the columns to select, and the "where" clause to refine the query. In the code snippets, it assumes that a client function, <code class="codeph">getWhereClauseFromUI()</code>, only constructs the 'where' clause in the JDBC theme definition.
                           </p>
                        </li>
                     </ul>
                     <p>The dynamic tile layer supported in the Oracle Maps JavaScript API allows the map visualization component server metadata to be used by the tile layer, and it offers flexibility in how a dynamic tile layer is defined and where to fetch its map images by the client application.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-maps.html#GUID-F1647A8F-CA15-42D2-8037-09B0EA332611" title="A dynamic tile layer is a tile layer defined on the client side.">Using Dynamic Tile Layers</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03637.PRKC-01000.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>PRKC-01000 to PRKC-01218</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Error Messages">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Error Messages">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-error-messages.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T07:32:34-07:00">
      <meta name="dcterms.title" content="Database Error Messages">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95938-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="PRKA-02001.html" title="Previous" type="text/html">
      <link rel="next" href="PRKE-01008.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ERRMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PRKA-02001.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="PRKE-01008.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Error Messages</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> PRKC-01000 to PRKC-01218</li>
            </ol>
            <a id="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546" name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546"></a>
            
            <h2 id="ERRMG-GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546" class="sect2"><span class="enumeration_chapter">128 </span> PRKC-01000 to PRKC-01218
            </h2>
         </header>
         <div class="ind">
            <div>
               <dl>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-AD50111D-F23B-4402-8073-39865AEFE2F1">
                        <!-- --></a>
PRKC-01000: No active nodes detected in the cluster
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The active node list of the cluster could not be retrieved. This could occur if the operating system dependent clusterware was not functioning properly in one or more nodes in the cluster, or because there was no clusterware installed on the system.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the state of the cluster by running 'lsnodes' binary from your ORACLE_HOME/bin and see if it prints the node list correctly.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-E5DC13F1-5F9D-4B5B-B695-C81EC5608CBE">
                        <!-- --></a>
PRKC-01001: Error submitting commands in the buffer
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This is an internal error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-9CBEAF7A-5FBA-4451-A395-59F8561C8CA1">
                        <!-- --></a>
PRKC-01002: Not all the submitted commands completed successfully.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Some of the submitted commands failed to complete on the nodes specified either because the node in question failed or because communication between the nodes was disrupted.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that all the specified nodes are up and running or check the details of the failures on the given nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-88E14AA7-EC13-4F15-8556-359A3C961354">
                        <!-- --></a>
PRKC-01004: Problem in copying file to nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Attempted file copy operation(s) from the local node to one or more nodes in the cluster and one or multiple of those copy file operations failed. Possible causes: 1) One or more file copy operations to nodes in the cluster failed. 2) The destination directory did not have write permission for the user on one or more of the nodes .the source file did not exist. 3) The 'rcp' command to one or more nodes failed on UNIX platforms.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
 1) Check that the source file exists. 2) Check that all nodes in the cluster are up. 3) Check that destination directory has write permission for the user. 4) On UNIX based platforms check that user can do 'rcp' to all the nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-73532258-4A34-4B1B-AEC3-EC00CA3D97B6">
                        <!-- --></a>
PRKC-01005: Problem in removing file from nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Attempted file remove operation(s) from the local node to one or more nodes in the cluster and one or multiple of those file remove operations failed. Possible causes: 1) One or more nodes failed during the operation. 2) The destination directory did not have write permission for the user on one or more of the nodes. 3) The source file did not exist. 4) The 'rcp' command to one or more nodes failed on UNIX platforms.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-E4677D72-6DC2-4C5E-8645-B0B5731A857A">
                        <!-- --></a>
PRKC-01006: Problem in moving file to nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Attempted file move operation(s) from the local node to one or more nodes in the cluster and one or multiple of those move file operations failed. Possible causes: 1)  One or more nodes failed during the operation. 2)  The destination directory did not have write permission for the user on one or more of the nodes. 3)  The source file did not exist. 4)  The 'rcp' command to one or more nodes failed on UNIX platforms.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-3B64FFE4-2F1B-4360-B212-B95B509D26ED">
                        <!-- --></a>
PRKC-01007: Problem in creating directories on the nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Attempted directory create operation(s) from the local node to one or more nodes in the cluster and one or multiple of those directory create operations failed. Possible causes: 1) One or more nodes failed during the operation. 2) The destination directory did not have write permission for the user on one or more of the nodes. 3)  The 'rcp' command to one or more nodes failed on UNIX platforms.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-B701252F-D431-4E3C-AC92-86314C65084C">
                        <!-- --></a>
PRKC-01009: Failed to start the service on all nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The service failed to start on one or more nodes of the cluster.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check if all the nodes in cluster are up and look in the clusterware alert log.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-208D74B7-A21A-46E5-880A-EDFF54E35FDC">
                        <!-- --></a>
PRKC-01010: Failed to stop the service on all nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The service failed to stop on one or more nodes of the cluster.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check if all the nodes in cluster are up and service is still up on failed nodes. Look in the clusterware alert log.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-2257CF69-6783-478C-A9A2-3AD7446BB7DC">
                        <!-- --></a>
PRKC-01011: Failed to delete the service from all nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The service failed to be deleted on one or more nodes of the cluster.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check if all the nodes in cluster are up and service is still registered. Look in the clusterware alert log.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-2C600C84-E1C3-4673-850A-320F4261B585">
                        <!-- --></a>
PRKC-01012: Failed to create the service on all nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The service failed to be created on one or more nodes of the cluster.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check if all the nodes in cluster are up. Look in the clusterware alert log.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-8B142D28-0B7B-440E-94A4-DED81480EFF6">
                        <!-- --></a>
PRKC-01016: Failed to retrieve value of the environment variable "{0}", {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A required environment variable was not defined.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Define the environment variable.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-1D49D9C9-39C8-42FA-9DA6-34180043D683">
                        <!-- --></a>
PRKC-01017: Problem restarting GSD
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
GSD (Global Services Daemon) could not be started on the local node. This could occur if the operating system dependent clusterware was not functioning properly or there is already a running GSD.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the state of your clusterware by running 'lsnodes' from ORACLE_HOME/bin. It should list the nodes in the cluster. Try 'gsdctl stop' and then 'gsdctl start' again.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-E554F14D-CB5A-4F01-A58C-B9C34AEB88D3">
                        <!-- --></a>
PRKC-01018: Error getting coordinator node
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This could occur if the operating system dependent clusterware was not functioning properly.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use 'gsdctl stop' on each node to stop the GSDs. Use 'gsdctl start' on each node in the cluster.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-19DD656A-1A5F-4C80-B2D2-F8DAA22C3CF0">
                        <!-- --></a>
PRKC-01019: Error creating handle to GSD daemon on the node {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Global Services Daemon was not running on the node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use 'gsdctl stat' to check the status of the daemon. Use 'gsdctl start' to start it.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-D17800D4-6221-490E-BD32-D12EFF5D3F94">
                        <!-- --></a>
PRKC-01020: Exception while executing the operation on the remote node {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Attempted to execute an operation on the remote node when the Global Services Daemon was not up on the remote node {0}.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Start the Global Services Daemon on the remote node using 'gsdctl start'.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-12D7AF2C-CE4B-4BD9-95B4-77AF377605EE">
                        <!-- --></a>
PRKC-01021: Problem in the clusterware
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The operating system dependent clusterware could not be contacted. This could occur because the operating system dependent clusterware was not functioning properly.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the state of the operating system dependent clusterware.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-19A9EF8E-5927-409E-B12E-CB033438AB27">
                        <!-- --></a>
PRKC-01022: Could not get node name for node {0} in {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The operating system dependent clusterware could not be contacted. This could occur because the operating system dependent clusterware was not functioning properly.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the state of the operating system dependent clusterware using 'lsnodes -n'.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-1FBBB5D3-3607-47F0-ABF0-BCC2B2C74E96">
                        <!-- --></a>
PRKC-01023: Invalid IP address format: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The provided IP address was neither an IPv4 nor an IPv6 valid address.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the IP address is a valid IPv4 or IPv6 address.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-62B190F3-FC3C-4A24-B650-C32958A1A2C6">
                        <!-- --></a>
PRKC-01025: Failed to create a file under the filepath {0} because the filepath is not executable or writable
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The directory of the specified filepath did not have execute or write permission. So the temporary file could not be created to test whether the filepath was shared among nodes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make the directory of the specified filepath executable and writable.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-57B10CB8-9ACA-4E7C-8FC2-24DA33AD4688">
                        <!-- --></a>
PRKC-01042: The Remote Shell {0} requested by client is not secure and therefore is no longer supported.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to configure remote command execution to use the indicated shell was rejected because that shell is insecure and is no longer supported.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Retry configuration of remote shell execution using SSH.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-98266CB0-2B66-442D-931E-E552BE86B93A">
                        <!-- --></a>
PRKC-01043: The Remote Copy command {0} requested by client is not secure and therefore is no longer supported.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to configure remote copy command execution to use the indicated command was rejected because that command is insecure and is no longer supported.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Retry configuration of remote copy execution using SCP.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-4A9C5FEE-835B-4274-B737-91907DCB7C54">
                        <!-- --></a>
PRKC-01044: Remote command execution setup check for node {0} using shells {1} and {2} failed.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to verify the configuration for remote command execution to the indicated node failed because passwordless Secure Shell (SSH) and Remote Shell (RSH) was not set up properly.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that SSH or RSH is configured properly and that it does not prompt for a password or a key, or print extra messages.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-3E427B44-D531-407C-842A-1C6B9037A7AC">
                        <!-- --></a>
PRKC-01141: Oracle Restart is not supported in version {0}. It is supported from version {1} onwards
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This is an internal error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-AFAC18D1-A81D-4483-8E8D-DA4E3C861C83">
                        <!-- --></a>
PRKC-01144: File "{0}" not found.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The file was not found in the file system.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the file exists in the file system.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-B947AED5-8363-46A0-AC7B-83C25BF49B50">
                        <!-- --></a>
PRKC-01148: Failed to get host name for the local computer
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while attempting to retrieve the TCP/IP host name

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the problem indicated by the accompanying error messages.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-3728D3F9-453D-494F-BB83-2052EB4F3AF8">
                        <!-- --></a>
PRKC-01149: Failed to get OCR locations
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while attempting to retrieve the OCR locations, possibly due to missing or incorrrect OCR locations file, or incomplete OCR configuration, or due to missing or incorrect SRVM shared libraries.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Verify that the Clusterware has been correctly installed and configured. Verify that the ocr.loc file is present and readable in the appropriate location for your platform.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-18A199A5-6628-40DF-A9AC-4697EEEF4447">
                        <!-- --></a>
PRKC-01150: Failed to get drive letters used on following nodes: "{0}" 
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while attempting to retrieve used drive letters on one or more nodes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Look at the accompanying messages and fix the error(s). The messages typically relate to a node not being reachable, or the remote execution service not running on the node, or some permissions issue when attempting to use the remote execution service on the remote node.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-AEB3EFAE-45CE-4A4B-9D41-83C683A2A3C9">
                        <!-- --></a>
PRKC-01151: The given path "{0}" does not exist
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The specified path may not have been created or an incorrect path has been specified.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the given path exists by specifying a correct existing path.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-56B28A0C-A4C6-407D-A18D-CD363B7ECD96">
                        <!-- --></a>
PRKC-01152: The specified path "{0}" is not a directory
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The specified path may be a file, not a directory, or an incorrect path may have been specified.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure to specify a path that is a valid directory path.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-FFEF71CD-113B-485B-B00C-4F0F8F762036">
                        <!-- --></a>
PRKC-01153: No directory is available on the remote node "{0}" to copy the binary RemoteExecService.exe
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Either the path defined by value of registry key HKEY_LOCAL_MACHINE/System/CurrentControlSet/Services/OracleRemExecService is not available on the remote node, or the c:/temp/ directory is not available or not accessible on the specified remote node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the required path is available on the remote node.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-6605309A-AD4B-47C0-A08B-C2C24C9859CB">
                        <!-- --></a>
PRKC-01155: The node list provided had only one entry or had multiple entries that were duplicates of a single nodename entry
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The list of nodes provided for the shared path check was either only one node, or the list included entries that were duplicates of the same single node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Please provide the correct nodelist for the cluster on which the check is being called, making sure that there are at least two distinct entries.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-00D2C217-1488-40AA-938B-3E729E13A441">
                        <!-- --></a>
PRKC-01156: Failed to validate raw device "{0}" -- Details: {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The raw device was not an existing device that could be opened and recognized by the OS as a "raw/character" device type.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure the supplied value identifies a valid raw device that can be opened as a "raw/character" device type.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-5B1C1BD3-0FE2-4AD7-933F-D5714F66E23A">
                        <!-- --></a>
PRKC-01157: Failed to validate raw device "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The raw device was not an existing device that could be opened and recognized by the OS as a "raw/character" device type.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure the supplied value identifies a valid raw device that can be opened as a "raw/character" device type.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-6A836A23-E28C-435E-A353-0DDB31672481">
                        <!-- --></a>
PRKC-01158: Failed to validate raw device "{0}" -- Details: {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The device was not an existing device that could be opened and recognized by the OS as either "raw/character" or a "block" device type.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure the supplied value identifies a valid device that can be opened as a "raw/character" or "block" device type.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-1330662A-7BD3-47B5-9609-D270251C9FE6">
                        <!-- --></a>
PRKC-01159: Failed to validate device "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The device was not an existing device that could be opened and recognized by the OS as either "raw/character" or a "block" device type.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure the supplied value identifies a valid device that can be opened as a "raw/character" or "block" device type.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-27B58F22-F084-4667-A298-FB1CC35FD8FD">
                        <!-- --></a>
PRKC-01160: Failed to retrieve the value of environment variable "{0}" on following nodes: "{1}", [{2}]
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while attempting to retrieve value of environment variable on one or more nodes due to the node not being reachable, or the remote execution service not running on the node, or some permissions issue when attempting to use the remote execution service on the remote node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Look at the accompanying messages and respond accordingly.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-4FB23E36-86D8-4BEF-8093-B020B0AD0CAC">
                        <!-- --></a>
PRKC-01161: Failed to retrieve the Windows domain on following nodes: "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while attempting to retrieve the Windows domain on one or more nodes. The possible causes include:"
- A node is not reachable.
- Remote execution service is not running on the node.
- Permissions problems prevented use of remote execution service on a node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Look at the accompanying messages and respond accordingly.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-656EE2C5-D4B1-49A9-A786-C458A1279151">
                        <!-- --></a>
PRKC-01162: "{0}" is not a file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The indicated object was expected to be a file, but it was not.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the indicated object is a file and not a directory.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-67182B0C-8C73-4B7C-9920-2B8C40CD5216">
                        <!-- --></a>
PRKC-01163: {0} Exception occurred while determining validity of storage type.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while getting storage type of the given path. Null arguments might have been passed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the native api is passing non null arguments.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-FF4F64BA-0ECC-4FBB-9806-8A1F56C02F9A">
                        <!-- --></a>
PRKC-01164: invalid command or arguments
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This is an internal error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-25C00F72-74B7-4138-8B1B-74C4870B5866">
                        <!-- --></a>
PRKC-01165: Failed to set up Windows service OracleRemoteExecService on node '{0}'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while setting up OracleRemoteExecService on the specified nodes."

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Look at the accompanying messages and respond accordingly.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-8A11EFBC-A68A-489C-B083-8408E0F3638C">
                        <!-- --></a>
PRKC-01166: Storage is partially shared. Details: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A subset of the nodes provided shared the given filesystem path with the local node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Mount the NFS filesystem on the node(s) that do not share the filesystem path.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-8D4E332F-E7F5-432C-B46A-032962F810C1">
                        <!-- --></a>
PRKC-01167: Failed to resolve the specified path "{0}" to its physical path on following nodes: "{1}", [{2}]
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while attempting to resolve the path on one or more nodes due to the node not being reachable, the remote execution service not running on the node, or some permissions issue when attempting to use the remote execution service on the remote node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Look at the accompanying messages and respond accordingly.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-61B33AF1-9BE3-42A0-8AD6-7F4A3EE31265">
                        <!-- --></a>
PRKC-01168: The supplied IP address "{0}" is invalid or specifies an unknown host name
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The provided string had an invalid IP address format or could not be resolved to a known host name.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the IP address has a valid IPv4 or IPv6 address format or that it resolves to a known host name.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-3006ACD3-B219-4C0E-AE3D-810918F0BB0F">
                        <!-- --></a>
PRKC-01169: The supplied IPv6 address "{0}" is invalid
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The provided string had not the correct IPv6 address format.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the IP address has a valid IPv6 address format.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-E9374AFC-0C0C-4DD7-8A2E-5CBC1CB54A31">
                        <!-- --></a>
PRKC-01170: The IPv6 prefix length "{0}" is out of the allowed range of 0 to 128
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The specified IPv6 prefix length was out of the allowed range.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the IPv6 prefix length is an integer from 0 to 128.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-A27E52FE-0D6B-4481-8523-4B31E2802493">
                        <!-- --></a>
PRKC-01171: Internal error: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An internal error occurred. The included value is an internal identifier.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Oracle internal error. Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-16481BB9-C424-41D5-83C3-25CFECF82B02">
                        <!-- --></a>
PRKC-01172: The supplied IPv6 prefix length "{0}" is not an integer
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The provided string for the IPv6 prefix length was not an integer.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the IPv6 prefix length is an integer from 0 to 128.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-9BF3ECF1-98CB-4462-9408-826CB433F352">
                        <!-- --></a>
PRKC-01173: VIP name "{0}" does not resolve to an {1} address matching the netmask or prefix length {2}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The VIP name did not resolve to the IP address type specified by the netmask or prefix lengths.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the VIP name resolves to the IP address type which is indirectly specified by the netmask or prefix length.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-5A0FE4D3-4505-40F7-B64C-CAF1DD35636A">
                        <!-- --></a>
PRKC-01174: Failed to verify whether the following IP addresses are reachable or not: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A network error occurred while attempting to reach the specified IP addresses.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use an Operating System command such as 'ping' or 'traceroute' to determine accessibility of the IP address.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-B0B612E4-5AC0-4B0E-945A-09DDD26FB1A4">
                        <!-- --></a>
PRKC-01175: Failed to copy directories "{0}" to one or more nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to copy file system directories from the local node to one or more nodes in the cluster failed. Possible causes: 1) One or more nodes failed during the copy operation. 2) The user does not have write permission for a given destination directory on one or more of the nodes. 3) The user does not have read access to files or directories being copied. 4) On UNIX or Linux platforms, the 'scp' command failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-AC9F7449-CDE2-4170-B021-2B78C4E09188">
                        <!-- --></a>
PRKC-01176: Failed to list contents of directory "{0}" on nodes "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to list the contents of the indicated directory failed. Possible causes:
-  The specified directory does not exist.
-  One or more nodes failed during the operation.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-C4FE4E6D-F1A7-48A8-9379-ADFBFB3702D6">
                        <!-- --></a>
PRKC-01177: The format of the specified version "{0}" is invalid.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to compare the target version against the software version failed because the specified version was not valid.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Specify a version number that is one to five sequences of decimal digits separated by periods.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-7A537D1B-03E7-4BEB-8605-EAF24D854DC2">
                        <!-- --></a>
PRKC-01178: failed to execute the command "{0}" due to the following error:\n{1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to execute the command failed due to the indicated error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Examine the error text displayed in this message and act accordingly.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-5DD9F8A1-1CFC-4F53-BDAC-71A75152A06A">
                        <!-- --></a>
PRKC-01179: Parameter {0} value is not valid.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This is an internal error. The value for the specified parameter was invalid, null or an empty string.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-B686E8B8-5C96-42C4-AFF1-347CCDB734CF">
                        <!-- --></a>
PRKC-01180: unable to validate whether the path is shared on some nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to write or list the contents from the specified path failed because one or more nodes did not share the file system path. Possible causes are:
-  The specified directory did not exist.
-  The user does not have write permission for the given file system path on one or more nodes.
-  One or more nodes failed during the operation.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the file system is mounted on all nodes. Check the accompanying error messages for details and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-582C0F0D-46F0-4B27-A6EB-F9E21E92AE83">
                        <!-- --></a>
PRKC-01181: User equivalence check failed on all nodes.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to connect to nodes in order to execute the shell command using RSH or SSH failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure the following:
- That all nodes are reachable.
- That SSH or RSH is configured properly on the target node.
- That the SSH daemon on the target node is alive.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-599E1993-637A-4025-BFFB-75811F595C41">
                        <!-- --></a>
PRKC-01182: failed to verify whether the nodes are accessible on the network and running
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A network error occurred while attempting to reach the nodes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that all nodes are running normally and reachable on the network.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-0E98AB74-162F-4435-88D4-A195FA49589D">
                        <!-- --></a>
PRKC-01183: Warning: failed to remove the per-node temporary file created under the shared path in some of the nodes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to delete the temporary file from the shared path failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error message for the affected nodes and remove the associated files as indicated.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-E606FAC6-3C93-4C09-B732-467338B889EE">
                        <!-- --></a>
PRKC-01184: File "{0}" is a non-readable file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The user did not have read permissions to open the file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Modify the file permissions so that the file becomes readable or execute the command from an operating system user ID with the required privileges.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-B5FEE866-8A3C-4BAF-9E44-A98FCCEC42E5">
                        <!-- --></a>
PRKC-01185: failed to write to file "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to write to the given file failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Modify the file permissions so that the file becomes writable or execute the command from an operating system user ID with the required privileges.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-1C6E7B27-FA5D-4B09-8007-D4026BF8565D">
                        <!-- --></a>
PRKC-01186: failed to transfer directory "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while executing the transfer directory command.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages and proceed as indicated.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-38C9CD3C-D5E4-43BE-961E-98E4594093C9">
                        <!-- --></a>
PRKC-01187: The regular expression "{0}" is not supported.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An internal error occurred.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-14278430-AFEC-4FD9-B617-561E83360C7E">
                        <!-- --></a>
PRKC-01188: Directory "{0}" is not an absolute path name.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The indicated directory could not be created because it was not an absolute path.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the directory specified is an absolute path. It should either be a Universal Naming Convention (UNC) path or begin with a drive letter specification.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-54FC346D-8048-4D53-8AF5-E23575F34AA5">
                        <!-- --></a>
PRKC-01189: Directory "{0}" already exists on node "{1}".
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The indicated directory could not be created on the indicated node because it already existed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the indicated directory path does not exist on the indicated node.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-788E3577-013A-478D-8B6B-252F768A305B">
                        <!-- --></a>
PRKC-01190: failed to change permissions of directories on the nodes: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to change permissions of one or more directories on one or more remote cluster nodes did not complete correctly. Possible causes: 1) One or more nodes failed during the operation. 2) The 'chmod' command to one or more nodes failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Examine the accompanying error message for details, resolve the issues raised and retry the command.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-6FADC4DC-EEF7-4FD4-95C4-931B0D34F76F">
                        <!-- --></a>
PRKC-01191: Remote command execution setup check for node {0} using shell {1} failed.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to verify the configuration for remote command execution to the indicated node failed because passwordless Secure Shell (SSH) was not set up properly.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that SSH is configured properly and that it does not prompt for a password or a key, or print extra messages.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-CF257DE9-37E7-4042-BD3E-7B6B57CAC3DF">
                        <!-- --></a>
PRKC-01192: cannot find a local IP address on network {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to select an IP address failed because there were no locally configured IP addresses on the indicated network.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure the networks selected in the installation are correctly configured.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-F52A9C68-EAE5-44B2-97EC-41B04AC0F98F">
                        <!-- --></a>
PRKC-01193: failure encountered while checking the configuration of the Oracle Restart on node "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred while retrieving the Oracle Restart configuration, possibly due to one of the following:
- A missing or incorrect Oracle Local Registry configuration file.
- An incomplete configuration.
- Incorrectly installed Grid Infrastructure.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Verify that Oracle Grid Infrastructure is correctly installed and configured. Verify that the olr.loc file is present and readable in the appropriate location for your platform.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-1135360A-E952-446F-9184-AEF2BEC8165D">
                        <!-- --></a>
PRKC-01194: illegal release update version comparison attempted: version {0} to version {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to compare the release update versions of the indicated composite versions was rejected because the major versions were different. This was an internal error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-FBCE8952-4091-419B-88F2-4CF3D0424FED">
                        <!-- --></a>
PRKC-01195: illegal release update revision version comparison attempted: version {0} to version {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to compare the release update revision versions of the indicated composite versions was rejected because the major versions were different. This was an internal error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-E4FAEEE7-F610-468E-A652-918050271CA1">
                        <!-- --></a>
PRKC-01196: illegal release update revision version comparison attempted: version {0} to version {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to compare the release update revision versions of the indicated composite versions was rejected because the release update versions were different. This was an internal error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-9E6FEB6B-7D34-4470-920D-98065A0A54AA">
                        <!-- --></a>
PRKC-01197: Failed to retrieve cluster nodes because user is missing read, write or execute permissions for the configured Oracle base directory.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to execute the 'olsnodes' binary failed because the user did not have read, write and execute permissions for the Oracle base directory.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Set read, write and execute permissions for the user on the Oracle base directory, and then retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-BA3534F9-96EB-491B-AF9A-9FC5D0C05124">
                        <!-- --></a>
PRKC-01198: Error checking whether path {0} is on ACFS on nodes {1}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to determine if the specified path is on ACFS failed. This can occur because:
1. The Clusterware stack is down on the specified nodes.
2. ASM is down
3. A diskgroup associated with the path is not online.
4. The path is not mounted.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Perform checks corresponding to the above causes:
1. Ensure the Clusterware stack is running on the specified nodes.
2. Ensure that ASM is running.
3. Ensure that the diskgroup associated with the path is online.
4. Ensure that the file system is mounted on the nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-455006F3-F01A-4E9B-BD10-25F86A7FF354">
                        <!-- --></a>
PRKC-01199: failed to check whether the file "{0}" exists on nodes "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the specified file existed failed. One or more nodes might have failed during the operation.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation. Ensure that the indicated file exists on the indicated nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-4061252E-0E5D-4A19-AC2A-B3A4D340CE62">
                        <!-- --></a>
PRKC-01200: failed to check whether the directory "{0}" is empty on nodes "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the specified directory was empty failed. One or more nodes might have failed during the operation.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation. Ensure that the indicated directory is empty on the indicated nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-349227BD-3D71-4822-A699-BCB804D3C5CD">
                        <!-- --></a>
PRKC-01201: failed to check whether the directory "{0}" is writable on nodes "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the specified directory was writable failed. One or more nodes might have failed during the operation.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation. Ensure that the indicated directory is empty on the indicated nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-A20D3CD3-3A0F-4581-AF15-CB635E9EBE21">
                        <!-- --></a>
PRKC-01210: failed to retrieve the details for path "{0}" on node "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to retrieve the ownership and permissions for the indicated path failed on the indicated node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation. Ensure that the indicated path exists on the indicated node.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-A9C803DD-A076-42ED-A50C-61027DD6B2A7">
                        <!-- --></a>
PRKC-01211: failed to retrieve the details for user "{0}" on node "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the indicated user exists on the indicated node failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-09D52F99-6983-466B-8A85-A4B3DD31B5FB">
                        <!-- --></a>
PRKC-01212: failed to retrieve the details for user with UID "{0}" on node "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the indicated user ID exists on the indicated node failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-C7B9B126-88DD-4B03-9785-7406E7947D2C">
                        <!-- --></a>
PRKC-01213: failed to retrieve the details for group "{0}" on node "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the indicated group exists on the indicated node failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-A07DA404-D4D4-45F2-84A0-4708E0A73437">
                        <!-- --></a>
PRKC-01214: failed to retrieve the group name with GID "{0}" on node "{1}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the indicated group ID exists on the indicated node failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-65E48BBE-FDC4-4ED9-8BF7-CC7F6346DCC6">
                        <!-- --></a>
PRKC-01215: failed to retrieve the memory allocated because the local node is not a container
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to retrieve the allocated memory for the local node failed because the operation is only supported on Linux Containers.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Retry the operation in a Linux Container.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-E10AAAEF-8EB4-4A86-B4BB-0A0EA31C6800">
                        <!-- --></a>
PRKC-01216: failed to retrieve the memory allocated for local Linux Container
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to retrieve the allocated memory for the local node failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-535D5C94-2A15-42D9-956F-FE39F95CDF99">
                        <!-- --></a>
PRKC-01217: failed to check whether local node is a Linux Container
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check whether the local node is a Linux Container failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the accompanying error messages for details, resolve the reported problems, and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-CA04A8F0-AA44-4215-A8D1-5865566FB546__GUID-4AB6070C-8B34-4C4B-981A-9E5FF5828884">
                        <!-- --></a>
PRKC-01218: The version "{0}" is a potential future version because it is greater than the current version "{1}".
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The requested operation failed because the indicated version was greater than the version supported by the current home.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Run the operation from a home that supports the indicated version.

                     </p>
                     
                  </dd>
               </dl>
            </div>
         </div>
      </article>
   </body>
</html><html id='04192.loadjava-tool.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>The loadjava Tool</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96468-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ojvmtc-tool.html" title="Previous" type="text/html">
      <link rel="next" href="dropjava-tool.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JJDEV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ojvmtc-tool.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="dropjava-tool.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="schema-objects-and-Oracle-JVM-utilities.html" property="item" typeof="WebPage"><span property="name"> Schema Objects and Oracle JVM Utilities </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">The loadjava Tool</li>
            </ol>
            <a id="GUID-033299E6-07E2-4C2C-9E26-A2FE25118F1C" name="GUID-033299E6-07E2-4C2C-9E26-A2FE25118F1C"></a><a id="JJDEV10060"></a>
            
            <h2 id="JJDEV-GUID-033299E6-07E2-4C2C-9E26-A2FE25118F1C" class="sect2"><span class="enumeration_section">13.6 </span>The loadjava Tool
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='loadjava-tool'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <div class="section">
                  <p>The <code class="codeph">loadjava</code> tool creates schema objects from files and loads them into a schema. Schema objects can be created from Java source, class, and data files. The <code class="codeph">loadjava</code> tool can also create schema objects from SQLJ files.
                  </p>
                  <p>You must have the following SQL database privileges to load classes:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">CREATE PROCEDURE</code> and <code class="codeph">CREATE TABLE</code> privileges to load into your schema.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CREATE ANY PROCEDURE</code> and <code class="codeph">CREATE ANY TABLE</code> privileges to load into another schema.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.aurora.security.JServerPermission.loadLibraryInClass.</code><span class="italic"><code class="codeph">classname</code></span>.
                        </p>
                     </li>
                  </ul>
                  <p>You can run the <code class="codeph">loadjava</code> tool either from the command line or by using the <code class="codeph">loadjava</code> method contained in the <code class="codeph">DBMS_JAVA</code> class. To run the tool from within your Java application, do the following:
                  </p><pre class="oac_no_warn" dir="ltr">call dbms_java.loadjava('... options...');
</pre><p>The options are the same as those that can be specified on the command line with the <code class="codeph">loadjava</code> tool. Separate each option with a space. Do not separate the options with a comma. The only exception for this is the <code class="codeph">-resolver</code> option, which contains spaces. For <code class="codeph">-resolver</code>, specify all other options in the first input parameter and the <code class="codeph">-resolver</code> options in the second parameter, as follows:
                  </p><pre class="oac_no_warn" dir="ltr">call dbms_java.loadjava('..options...', 'resolver_options');
</pre><p>Do not specify the <code class="codeph">-thin</code>, <code class="codeph">-oci</code>, <code class="codeph">-user</code>, and <code class="codeph">-password</code> options, because they relate to the database connection for the <code class="codeph">loadjava</code> command-line tool. The output is directed to <code class="codeph">stderr</code>. Set <code class="codeph">serveroutput</code> on, and call <code class="codeph">dbms_java.set_output</code>, as appropriate.
                  </p>
                  <div class="infoboxnote" id="GUID-033299E6-07E2-4C2C-9E26-A2FE25118F1C__GUID-5EAE7131-E649-46B5-A8C7-BDA70396621B">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">loadjava</code> tool is located in the <code class="codeph">bin</code> directory under <code class="codeph">$ORACLE_HOME</code>.
                     </p>
                  </div>
                  <p>Just before the <code class="codeph">loadjava</code> tool exits, it checks whether the processing was successful. All failures are summarized preceded by the following header:
                  </p><pre class="oac_no_warn" dir="ltr">The following operations failed
</pre><p>Some conditions, such as losing the connection to the database, cause the <code class="codeph">loadjava</code> tool to terminate prematurely. These errors are displayed with the following syntax:
                  </p><pre class="oac_no_warn" dir="ltr">exiting: <span class="italic">error_reason</span>
</pre><p>This section covers the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="loadjava-tool.html#GUID-B7B7DDC7-FFFE-40A8-ACDF-CA066A504063">loadjava Tool Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="loadjava-tool.html#GUID-B80B4492-55BB-4B75-919C-6E5962380710">loadjava Tool Argument Summary</a></p>
                     </li>
                     <li>
                        <p><a href="loadjava-tool.html#GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59">loadjava Tool Argument Details</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="JJDEV13417"></a><div class="props_rev_3"><a id="GUID-B7B7DDC7-FFFE-40A8-ACDF-CA066A504063" name="GUID-B7B7DDC7-FFFE-40A8-ACDF-CA066A504063"></a><h3 id="JJDEV-GUID-B7B7DDC7-FFFE-40A8-ACDF-CA066A504063" class="sect3"><span class="enumeration_section">13.6.1 </span>loadjava Tool Syntax
               </h3>
               <div>
                  <div class="section">
                     <p>The syntax of the <code class="codeph">loadjava</code> tool command is as follows:
                     </p>
                     <div class="infoboxnote" id="GUID-B7B7DDC7-FFFE-40A8-ACDF-CA066A504063__GUID-894AB4C0-E4E4-410E-BCC2-A1DFB4EA4A9A">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">(* -)</code> option is the preferred option over the <code class="codeph">-genmissing</code> and <code class="codeph">-genmissingjar</code> options for resolving class references.
                              </p>
                           </li>
                           <li>
                              <p>The the <code class="codeph">-genmissing</code> and <code class="codeph">-genmissingjar</code> options cannot be used in an option file or an option table. These options are applicable to all the classes to be loaded and cannot be used only for specific classes.
                              </p>
                           </li>
                        </ul>
                     </div><pre class="oac_no_warn" dir="ltr">loadjava {-user | -u} <span class="italic">user</span> [@<span class="italic">database</span>] [options]
<span class="italic">file</span>.java | <span class="italic">file</span>.class | <span class="italic">file</span>.jar | <span class="italic">file</span>.zip |
<span class="italic">file</span>.sqlj | <span class="italic">resourcefile</span> | URL...
  [-casesensitivepub]
  [-cleargrants]
  [-debug]
  [-d | -definer]
  [-dirprefix <span class="italic">prefix</span>]
  [-e | -encoding <span class="italic">encoding_scheme</span>]
  [-fileout <span class="italic">file</span>]
  [-f | -force]
  [-genmissing]
  [-genmissingjar <span class="italic">jar_file</span>]
  [-g | -grant <span class="italic">user</span> [, <span class="italic">user</span>]...]
  [-help]
  [-jarasresource]
  [-noaction]
  [-nosynonym]
  [-nousage]
  [-noverify]
  [-o | -oci | oci8]
  [-optionfile <span class="italic">file</span>]
  [-optiontable <span class="italic">table_name</span>]
  [-publish <span class="italic">package</span>]
  [-pubmain <span class="italic">number</span>]
  [-recursivejars]
  [-r | -resolve]
  [-R | -resolver "resolver_spec"]
  [-resolveonly]
  [-S | -schema <span class="italic">schema</span>]
  [-stdout]
  [-stoponerror]
  [-s | -synonym]
  [-tableschema <span class="italic">schema</span>]
  [-t | -thin]</pre><pre class="oac_no_warn" dir="ltr">  [-unresolvedok]
  [-v | -verbose]
  [-jarsasdbobjects]
  [-prependjarnames]
  [-nativecompile]
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13419"></a><a id="JJDEV13418"></a><div class="props_rev_3"><a id="GUID-B80B4492-55BB-4B75-919C-6E5962380710" name="GUID-B80B4492-55BB-4B75-919C-6E5962380710"></a><h3 id="JJDEV-GUID-B80B4492-55BB-4B75-919C-6E5962380710" class="sect3"><span class="enumeration_section">13.6.2 </span>loadjava Tool Argument Summary
               </h3>
               <div>
                  <div class="section">
                     <p><a href="loadjava-tool.html#GUID-B80B4492-55BB-4B75-919C-6E5962380710__CACECBAH" title="table">Table 13-2</a> summarizes the <code class="codeph">loadjava</code> tool command arguments. If you run the <code class="codeph">loadjava</code> tool multiple times specifying the same files and different options, then the options specified in the most recent invocation hold. However, there are two exceptions to this, as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the <code class="codeph">loadjava</code> tool does not load a file because it matches a digest table entry, then most options on the command line have no effect on the schema object. The exceptions are <code class="codeph">-grant</code> and <code class="codeph">-resolve</code>, which always take effect. You must use the <code class="codeph">-force</code> option to direct the <code class="codeph">loadjava</code> tool to skip the digest table lookup.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">-grant</code> option is cumulative. Every user specified in every invocation of the <code class="codeph">loadjava</code> tool for a given class in a given schema has the <code class="codeph">EXECUTE</code> privilege.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B80B4492-55BB-4B75-919C-6E5962380710__CACECBAH">
                     <p class="titleintable">Table 13-2 loadjava Argument Summary</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="loadjava Argument Summary" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d49442e550">Argument</th>
                              <th align="left" valign="bottom" width="72%" id="d49442e553">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e558" headers="d49442e550 ">
                                 <p><span class="italic"><code class="codeph">filenames</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e558 d49442e553 ">
                                 <p>You can specify any number and combination of <code class="codeph">.java</code>, <code class="codeph">.class</code>, <code class="codeph">.sqlj</code>, <code class="codeph">.ser</code>, <code class="codeph">.jar</code>, <code class="codeph">.zip</code>, and resource file name arguments.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e586" headers="d49442e550 ">
                                 <p><code class="codeph">-proxy host:port</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e586 d49442e553 ">
                                 <p>If you do not have physical access to the server host or the <code class="codeph">loadjava</code> client for loading classes, resources, and Java source, then you can use an HTTP URL with the <code class="codeph">loadjava</code> tool to specify the JAR, class file, or resource and load the class from a remote server. <code class="codeph">host</code> is the host name or address and <code class="codeph">port</code> is the port the proxy server is using. The URL implementation must be such that the <code class="codeph">loadjava</code> tool can determine the type of file to load, that is, JAR, class, resource, or Java source. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">loadjava &#x2013;u HR &#x2013;r &#x2013;v &#x2013;proxy proxy_server:1020 http://my.server.com/this/is /the/path/my.jar
Password: <span class="italic">password</span>
</pre><p>When the URL support is used inside the server, you should have proper Java permissions to access to the remote source. The URL support also includes <code class="codeph">ftp:</code> and <code class="codeph">file:</code> URLs.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e622" headers="d49442e550 ">
                                 <p><code class="codeph">-casesensitivepub</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e622 d49442e553 ">
                                 <p>Publishing will create case-sensitive names. Unless the names are already all uppercase, it will usually require quoting the names in PL/SQL.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e630" headers="d49442e550 ">
                                 <p><code class="codeph">-cleargrants</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e630 d49442e553 ">
                                 <p>The <code class="codeph">-grant</code> option causes the <code class="codeph">loadjava</code> tool to grant <code class="codeph">EXECUTE</code> privileges to classes, sources, and resources. However, it does not cause it to revoke any privileges. If <code class="codeph">-cleargrants</code> is specified, then the <code class="codeph">loadjava</code> tool will revoke any existing grants of execute privilege before it grants execute privilege to the users and roles specified by the <code class="codeph">-grant</code> operand. For example, if the intent is to have execute privilege granted to only <code class="codeph">HR</code>, then the proper options are:
                                 </p><pre class="oac_no_warn" dir="ltr">-grant HR -cleargrants
</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e662" headers="d49442e550 ">
                                 <p><code class="codeph">-debug</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e662 d49442e553 ">
                                 <p>Turns on SQL logging.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e670" headers="d49442e550 ">
                                 <p><code class="codeph">-definer</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e670 d49442e553 ">
                                 <p>By default, class schema objects run with the privileges of their invoker. This option confers definer privileges upon classes instead. This option is conceptually similar to the UNIX <code class="codeph">setuid</code> facility.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e681" headers="d49442e550 ">
                                 <p><code class="codeph">-dirprefix </code><span class="italic"><code class="codeph">prefix</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e681 d49442e553 ">
                                 <p>For any files or JAR entries that start with <span class="italic"><code class="codeph">prefix</code></span>, this <span class="italic"><code class="codeph">prefix</code></span> will be deleted from the name before the name of the schema object is determined. For classes and sources, the name of the schema object is determined by their contents. Therefore, this option will only have an effect for resources.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e700" headers="d49442e550 ">
                                 <p><code class="codeph">-encoding</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e700 d49442e553 ">
                                 <p>Identifies the source file encoding for the compiler, overriding the matching value, if any, in the <code class="codeph">JAVA$OPTIONS</code> table. Values are the same as for the <code class="codeph">javac -encoding</code> option. If you do not specify an encoding on the command line or in the <code class="codeph">JAVA$OPTIONS</code> table, then the encoding is assumed to be the value returned by:
                                 </p><pre class="oac_no_warn" dir="ltr">System.getProperty("file.encoding");
</pre><p>This option is relevant only when loading a source file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e721" headers="d49442e550 ">
                                 <p><code class="codeph">-fileout </code><span class="italic"><code class="codeph">file</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e721 d49442e553 ">
                                 <p>Displays all message to the designated file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e732" headers="d49442e550 ">
                                 <p><code class="codeph">-force</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e732 d49442e553 ">
                                 <p>Forces files to be loaded, even if they match digest table entries.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e740" headers="d49442e550 ">
                                 <p><code class="codeph">-genmissing</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e740 d49442e553 ">
                                 <p>Determines what classes and methods are referred to by the classes that the <code class="codeph">loadjava</code> tool is asked to process. Any classes not found in the database or file arguments are called <a id="d49442e750" class="indexterm-anchor"></a><span>missing classes</span>. This option generates dummy definitions for missing classes containing all the referred methods. It then loads the generated classes into the database. This processing happens before the class resolution.
                                 </p>
                                 <p>Because detecting references from source is more difficult than detecting references from class files, and because source is not generally used for distributing libraries, the <code class="codeph">loadjava</code> tool will not attempt to do this processing for source files.
                                 </p>
                                 <p>The schema in which the missing classes are loaded will be the one specified by the <code class="codeph">-user</code> option, even when referring classes are created in some other schema. The created classes will be flagged so that tools can recognize them. In particular, this is needed, so that the verifier can recognize the generated classes.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e767" headers="d49442e550 ">
                                 <p><code class="codeph">-genmissingjar </code><span class="italic"><code class="codeph">jar_file</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e767 d49442e553 ">
                                 <p>This option performs the same actions as <code class="codeph">-genmissing</code>. In addition, it creates a JAR file, <span class="italic"><code class="codeph">jar_file</code></span>, that contains the definitions of any generated classes.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e785" headers="d49442e550 ">
                                 <p><code class="codeph">-grant</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e785 d49442e553 ">
                                 <p>Grants the <code class="codeph">EXECUTE</code> privilege on loaded classes to the listed users. Any number and combination of user names can be specified, separated by commas, but not spaces.
                                 </p>
                                 <p>Granting the <code class="codeph">EXECUTE</code> privilege on an object in another schema requires that the original <code class="codeph">CREATE PROCEDURE</code> privilege was granted with the <code class="codeph">WITH GRANT</code> options.
                                 </p>
                                 <p><span class="bold">Note:</span></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">-grant</code> is a cumulative option. Users are added to the list of those with the <code class="codeph">EXECUTE</code> privilege. To remove privileges, use the <code class="codeph">-cleargrants</code> option.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The schema name should be used in uppercase.</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e825" headers="d49442e550 ">
                                 <p><code class="codeph">-help</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e825 d49442e553 ">
                                 <p>Displays usage message on how to use the <code class="codeph">loadjava</code> tool and its options.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e836" headers="d49442e550 ">
                                 <p><code class="codeph">-jarasresource</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e836 d49442e553 ">
                                 <p>Instead of unpacking the JAR file and loading each class within it, loads the whole JAR file into the schema as a resource.<a id="fn_1" name="fn_1" href="#fn_1" onclick='footdisplay(1, "If you load a JAR file in this manner, then you cannot use it for resolution or execution.")'><sup>Foot&nbsp;1</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e850" headers="d49442e550 ">
                                 <p><code class="codeph">-noaction</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e850 d49442e553 ">
                                 <p>Take no action on the files. Actions include creating the schema objects, granting execute permissions, and so on. The typical use is within an option file to suppress creation of specific classes in a JAR. When used on the command line, unless overridden in the option file, it will cause the <code class="codeph">loadjava</code> tool to ignore all files. Except that JAR files will still be examined to determine if they contain a <code class="codeph">META-INF/loadjava-options</code> entry. If so, then the option file is processed. The <code class="codeph">-action</code> option in the option file will override the <code class="codeph">-noaction</code> option specified on the command line.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e870" headers="d49442e550 ">
                                 <p><code class="codeph">-norecursivejars</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e870 d49442e553 ">
                                 <p>Treat JAR files contained in other JAR files as resources. This is the default behavior. This option is used to override the <code class="codeph">-recursivejars</code> option.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e881" headers="d49442e550 ">
                                 <p><code class="codeph">-nosynonym</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e881 d49442e553 ">
                                 <p>Do not create a public synonym for the classes. This is the default behavior. This overrides the <code class="codeph">-synonym</code> option.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e892" headers="d49442e550 ">
                                 <p><code class="codeph">-nousage</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e892 d49442e553 ">
                                 <p>Suppresses the usage message that is given if either no option is specified or if the <code class="codeph">-help</code> option is specified.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e903" headers="d49442e550 ">
                                 <p><code class="codeph">-noverify</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e903 d49442e553 ">
                                 <p>Causes the classes to be loaded without bytecode verification. <code class="codeph">oracle.aurora.security.JServerPermission(Verifier) must be granted </code>to use this option. To be effective, this option must be used in conjunction with <code class="codeph">-resolve</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e917" headers="d49442e550 ">
                                 <p><code class="codeph">-oci | -oci8</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e917 d49442e553 ">
                                 <p>Directs the <code class="codeph">loadjava</code> tool to communicate with the database using the JDBC Oracle Call Interface (OCI) driver. <code class="codeph">-oci</code> and <code class="codeph">-thin</code> are mutually exclusive. If neither is specified, then <code class="codeph">-oci</code> is used by default. Choosing <code class="codeph">-oci</code> implies the syntax of the <code class="codeph">-user</code> value. You do not need to provide the URL.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e944" headers="d49442e550 ">
                                 <p><code class="codeph">-optionfile </code><span class="italic"><code class="codeph">file</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e944 d49442e553 ">
                                 <p>A file can be provided with <code class="codeph">loadjava</code> options.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e959" headers="d49442e550 ">
                                 <p><code class="codeph">-optiontable </code><span class="italic"><code class="codeph">tablename</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e959 d49442e553 ">
                                 <p>This option works like <code class="codeph">-optionfile</code>, except that the source for the patterns and options is a SQL table rather than a file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e973" headers="d49442e550 ">
                                 <p><code class="codeph">-publish </code><span class="italic"><code class="codeph">package</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e973 d49442e553 ">
                                 <p>The <span class="italic"><code class="codeph">package</code></span> is created or replaced by the <code class="codeph">loadjava</code> tool. Wrappers for the eligible methods will be defined in this package. Through the use of option files, a single invocation of the <code class="codeph">loadjava</code> tool can be instructed to create more than one package. Each package will undergo the same name transformations as the methods.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e994" headers="d49442e550 ">
                                 <p><code class="codeph">-pubmain </code><span class="italic"><code class="codeph">number</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e994 d49442e553 ">
                                 <p>A special case applied to methods with a single argument, which is of type <code class="codeph">java.lang.String[]</code>. Multiple variants of the SQL procedure or function will be created, each of which takes a different number of arguments of type <code class="codeph">VARCHAR</code>. In particular, variants are created taking all arguments up to and including <span class="italic"><code class="codeph">number</code></span>. The default value is <code class="codeph">3</code>. This option applies to <code class="codeph">main</code>, as well as any method that has exactly one argument of type <code class="codeph">java.lang.String[]</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1025" headers="d49442e550 ">
                                 <p><code class="codeph">-recursivejars</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1025 d49442e553 ">
                                 <p>Usually, if the <code class="codeph">loadjava</code> tool encounters an entry in a JAR with a <code class="codeph">.jar</code> extension, it will load the entry as a resource. If this option is specified, then the <code class="codeph">loadjava</code> tool will process contained JAR files as if they were top-level JAR files. That is, it will read their entries and load classes, sources, and resources.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1042" headers="d49442e550 ">
                                 <p><code class="codeph">-resolve</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1042 d49442e553 ">
                                 <p>Compiles, if necessary, and resolves external references in classes after all classes on the command line have been loaded. If you do not specify the <code class="codeph">-resolve</code> option, the <code class="codeph">loadjava</code> tool loads files, but does not compile or resolve them.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1056" headers="d49442e550 ">
                                 <p><code class="codeph">-resolver</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1056 d49442e553 ">
                                 <p>Specifies an explicit resolver specification, which is bound to the newly loaded classes. If <code class="codeph">-resolver</code> is not specified, then the default resolver specification, which includes current user's schema and <code class="codeph">PUBLIC</code>, is used.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1070" headers="d49442e550 ">
                                 <p><code class="codeph">-resolveonly</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1070 d49442e553 ">
                                 <p>Causes the <code class="codeph">loadjava</code> tool to skip the initial creation step. It will still perform grants, resolves, create synonyms, and so on.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1081" headers="d49442e550 ">
                                 <p><code class="codeph">-schema</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1081 d49442e553 ">
                                 <p>Designates the schema where schema objects are created. If not specified, then the <code class="codeph">-user</code> schema is used. To create a schema object in a schema that is not your own, you must have the following privileges:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">CREATE TABLE</code> or <code class="codeph">CREATE ANY TABLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CREATE INDEX</code> or <code class="codeph">CREATE ANY INDEX</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">SELECT ANY TABLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">UPDATE ANY TABLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">INSERT ANY TABLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">DELETE ANY TABLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CREATE PROCEDURE or CREATE ANY PROCEDURE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ALTER ANY PROCEDURE</code></p>
                                    </li>
                                 </ul>
                                 <p>Finally, you must have the <code class="codeph">JServerPermission loadLibraryInClass</code> for the class.
                                 </p>
                                 <p><span class="bold">Note:</span> The above-mentioned privileges allow the grantee to create and manipulate tables in any schema except the SYS schema. For security reasons, Oracle recommends that you use these settings only with great caution.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1140" headers="d49442e550 ">
                                 <p><code class="codeph">-stdout</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1140 d49442e553 ">
                                 <p>Causes the output to be directed to <code class="codeph">stdout</code>, rather than to <code class="codeph">stderr</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1154" headers="d49442e550 ">
                                 <p><code class="codeph">-stoponerror</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1154 d49442e553 ">
                                 <p>Usually, if an error occurs while the <code class="codeph">loadjava</code> tool is processing files, it will issue a message and continue to process other classes. This option stops when an error occurs. In addition, it reports all errors that apply to Java objects and are contained in the <code class="codeph">USER_ERROR</code> table of the schema in which classes are being loaded. Except that is does not report <code class="codeph">ORA-29524</code> errors. These are errors that are generated when a class cannot be resolved, because a referred class could not be resolved. Therefore, these errors are a secondary effect of whatever caused a referred class to be unresolved.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1171" headers="d49442e550 ">
                                 <p><code class="codeph">-synonym</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1171 d49442e553 ">
                                 <p>Creates a <code class="codeph">PUBLIC</code> synonym for loaded classes making them accessible outside the schema into which they are loaded. To specify this option, you must have the <code class="codeph">CREATE PUBLIC SYNONYM</code> privilege. If <code class="codeph">-synonym</code> is specified for source files, then the classes compiled from the source files are treated as if they had been loaded with <code class="codeph">-synonym</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1192" headers="d49442e550 ">
                                 <p><code class="codeph">-tableschema </code><span class="italic"><code class="codeph">schema</code></span></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1192 d49442e553 ">
                                 <p>Creates the <code class="codeph">loadjava</code> tool internal tables within the specified schema, rather than in the Java file destination schema.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1206" headers="d49442e550 ">
                                 <p><code class="codeph">-thin</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1206 d49442e553 ">
                                 <p>Directs the <code class="codeph">loadjava</code> tool to communicate with the database using the JDBC Thin driver. Choosing <code class="codeph">-thin</code> implies the syntax of the <code class="codeph">-user</code> value. You do need to specify the appropriate URL through the <code class="codeph">-user</code> option.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1226" headers="d49442e550 ">
                                 <p><code class="codeph">-unresolvedok</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1226 d49442e553 ">
                                 <p>When combined with <code class="codeph">-resolve</code>, will ignore unresolved errors.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1237" headers="d49442e550 ">
                                 <p><code class="codeph">-user</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1237 d49442e553 ">
                                 <p>Specifies a user name, password, and database connection string. The files will be loaded into this database instance.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1245" headers="d49442e550 ">
                                 <p><code class="codeph">-verbose</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1245 d49442e553 ">
                                 <p>Directs the <code class="codeph">loadjava</code> tool to display detailed status messages while running. Use the <code class="codeph">-verbose</code> option to learn when the <code class="codeph">loadjava</code> tool does not load a file, because it matches a digest table entry.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1262" headers="d49442e550 ">
                                 <p><code class="codeph">-jarsasdbobjects</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1262 d49442e553 ">
                                 <p>Indicates that JARs processed by the current <code class="codeph">loadjava</code> tool command are to be stored in the database as database resident JARs.<a id="fn_2" name="fn_2" href="#fn_2" onclick='footdisplay(2, "If you load a JAR file in this manner, then you can use it for resolution or execution.")'><sup>Foot&nbsp;2</sup></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d49442e1279" headers="d49442e550 ">
                                 <p><code class="codeph">-prependjarnames</code></p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d49442e1279 d49442e553 ">
                                 <p>Is used with the <code class="codeph">-jarsasdbobjects </code>option. This option enables classes with the same names coming from different JARs to coexist in the same schema. It does this by prefixing a version of the name of the JAR to the class name to produce a unique name for the database object.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>If you load a JAR file in this manner, then you <span class="italic">cannot</span> use it for resolution or execution.
                     </p>
                  <p></p>
                  <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2 </sup></p><p>If you load a JAR file in this manner, then you <span class="italic">can</span> use it for resolution or execution.
                     </p>
                  <p></p>
               </div>
            </div><a id="JJDEV13421"></a><a id="JJDEV13422"></a><a id="JJDEV13423"></a><a id="JJDEV13424"></a><a id="JJDEV13425"></a><a id="JJDEV13426"></a><a id="JJDEV13427"></a><a id="JJDEV13428"></a><a id="JJDEV13429"></a><a id="JJDEV13430"></a><a id="JJDEV13431"></a><a id="JJDEV13420"></a><div class="props_rev_3"><a id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59" name="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59"></a><h3 id="JJDEV-GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59" class="sect3"><span class="enumeration_section">13.6.3 </span>loadjava Tool Argument Details
               </h3>
               <div>
                  <div class="section">
                     <p>This section describes the details of some of the <code class="codeph">loadjava</code> tool arguments whose behavior is more complex than the summary descriptions contained in the <span class="italic">loadjava Argument Summary</span> table.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-6D79FE88-F890-4643-855E-929DB0B80C81">File Names</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You can specify as many <code class="codeph">.class</code>, <code class="codeph">.java</code>, <code class="codeph">.sqlj</code>, <code class="codeph">.jar</code>, <code class="codeph">.zip</code>, and resource files as you want and in any order. If you specify a JAR or ZIP file, then the <code class="codeph">loadjava</code> tool processes the files in the JAR or ZIP. There is no JAR or ZIP schema object. If a JAR or ZIP contains another JAR or ZIP, the <code class="codeph">loadjava</code> tool does not process them.
                     </p>
                     <p>The best way to load files is to put them in a JAR or ZIP and then load the archive. Loading archives avoids the resource schema object naming complications. If you have a JAR or ZIP that works with the Java Development Kit (JDK), then you can be sure that loading it with the <code class="codeph">loadjava</code> tool will also work, without having to learn anything about resource schema object naming.
                     </p>
                     <p>Schema object names are different from file names, and the <code class="codeph">loadjava</code> tool names different types of schema objects differently. Because class files are self-identifying, the mapping of class file names to schema object names done by the <code class="codeph">loadjava</code> tool is invisible to developers. Source file name mapping is also invisible to developers. The <code class="codeph">loadjava</code> tool gives the schema object the fully qualified name of the first class defined in the file. JAR and ZIP files also contain the names of their files.
                     </p>
                     <p>However, resource files are not self identifying. The <code class="codeph">loadjava</code> tool generates Java resource schema object names from the literal names you supply as arguments. Because classes use resource schema objects and the correct specification of resources is not always intuitive, it is important that you specify resource file names correctly on the command line.
                     </p>
                     <p>The perfect way to load individual resource files correctly is to run the <code class="codeph">loadjava</code> tool from the top of the package tree and specify resource file names relative to that directory.
                     </p>
                     <div class="infoboxnote" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-D985CAE7-1A2E-47DB-AD2D-434F119B6C5E">
                        <p class="notep1">Note:</p>
                        <p>The top of the package tree is the directory you would name in a <code class="codeph">CLASSPATH</code>.
                        </p>
                     </div>
                     <p>If you do not want to follow this rule, then observe the details of resource file naming that follow. When you load a resource file, the <code class="codeph">loadjava</code> tool generates the resource schema object name from the resource file name, as literally specified on the command line. For example, if you type:
                     </p><pre class="oac_no_warn" dir="ltr">% cd /home/HR/javastuff
% loadjava options alpha/beta/x.properties
% loadjava options /home/HR/javastuff/alpha/beta/x.properties
</pre><p>Although you have specified the same file with a relative and an absolute path name, the <code class="codeph">loadjava</code> tool creates two schema objects, <code class="codeph">alpha/beta/x.properties</code> and <code class="codeph">ROOT/home/HR/javastuff/alpha/beta/x.properties</code>. The name of the resource schema object is generated from the file name as entered.
                     </p>
                     <p>Classes can refer to resource files relatively or absolutely. To ensure that the <code class="codeph">loadjava</code> tool and the class loader use the same name for a schema object, enter the name on the command line, which the class passes to <code class="codeph">getResource()</code> or <code class="codeph">getResourceAsString()</code>.
                     </p>
                     <p>Instead of remembering whether classes use relative or absolute resource names and changing directories so that you can enter the correct name on the command line, you can load resource files in a JAR, as follows:</p><pre class="oac_no_warn" dir="ltr">% cd /home/HR/javastuff
% jar -cf alpharesources.jar alpha/*.properties
% loadjava options alpharesources.jar
</pre><p>To simplify the process further, place both the class and resource files in a JAR, which makes the following invocations equivalent:</p><pre class="oac_no_warn" dir="ltr">% loadjava options alpha.jar
% loadjava options /home/HR/javastuff/alpha.jar
</pre><p>The preceding <code class="codeph">loadjava</code> tool commands imply that you can use any path name to load the contents of a JAR file. Even if you run the redundant commands, the <code class="codeph">loadjava</code> tool would realize from the digest table that it need not load the files twice. This implies that reloading JAR files is not as time-consuming as it might seem, even when few files have changed between the different invocations of the <code class="codeph">loadjava</code> tool.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-FC65D046-17AC-4D7F-98D4-80462F97294A">definer</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">{-definer | -d}
</pre><p>This option is identical to the definer rights in stored procedures and is conceptually similar to the UNIX <code class="codeph">setuid</code> facility. However, you can apply the <code class="codeph">-definer</code> option to individual classes, in contrast to <code class="codeph">setuid</code>, which applies to a complete program. Moreover, different definers may have different privileges. Because an application can consist of many classes, you must apply <code class="codeph">-definer</code> with care to achieve the desired results. That is, classes run with the privileges they need, but no more.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-56A46E7F-B80C-40A3-B67B-57AF96027F24">noverify</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">[-noverify]
</pre><p>This option causes the classes to be loaded without bytecode verification. <code class="codeph">oracle.aurora.security.JServerPermission(Verifier)</code> must be granted to run this option. Also, this option must be used in conjunction with <code class="codeph">-resolve</code>.
                     </p>
                     <p>The verifier ensures that incorrectly formed Java binaries cannot be loaded for running on the server. If you know that the JAR or classes you are loading are valid, then the use of this option will speed up the process associated with the <code class="codeph">loadjava</code> tool. Some Oracle Database-specific optimizations for interpreted performance are put in place during the verification process. Therefore, the interpreted performance of your application may be adversely affected by using this option.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-8EA079D1-2A90-44EA-9004-3236FCF17416">optionfile</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">[-optionfile &lt;file&gt;]
</pre><p>This option enables you to specify a file with different options that you can specify with the <code class="codeph">loadjava</code> tool. This file is read and processed by the <code class="codeph">loadjava</code> tool before any other <code class="codeph">loadjava</code> tool options are processed. The file can contain one or more lines, each of which contains a pattern and a sequence of options. Each line must be terminated by a newline character (<code class="codeph">\n</code>).
                     </p>
                     <p>For each file or JAR entry that is processed by the <code class="codeph">loadjava</code> tool, the long name of the schema object that is going to be created is checked against the patterns. Patterns can end in a wildcard (<code class="codeph">*</code>) to indicate an arbitrary sequence of characters, or they must match the name exactly.
                     </p>
                     <p>Options to be applied to matching Java schema objects are supplied on the rest of the line. Options are appended to the command-line options, they do not replace them. In case more than one line matches a name, the matching rows are sorted by length of pattern, with the shortest first, and the options from each row are appended. In general, the <code class="codeph">loadjava</code> tool options are not cumulative. Rather, later options override earlier ones. This means that an option specified on a line with a longer pattern will override a line with a shorter pattern.
                     </p>
                     <p>This file is parsed by a <code class="codeph">java.io.StreamTokenizer</code>.
                     </p>
                     <p>You can use Java comments in this file. A line comment begins with a <code class="codeph">#</code>. Empty lines are ignored. The quote character is a double quote (<code class="codeph">"</code>). That is, options containing spaces should be surrounded by double quotes. Certain options, such as <code class="codeph">-user</code> and <code class="codeph">-verbose</code>, affect the overall processing of the <code class="codeph">loadjava</code> tool and not the actions performed for individual Java schema objects. Such options are ignored if they appear in an option file.
                     </p>
                     <p>To help package applications, the <code class="codeph">loadjava</code> tool looks for the <code class="codeph">META-INF/loadjava-options</code> entry in each JAR it processes. If it finds such an entry, then it treats it as an options file that is applied for all other entries in the JAR file. However, the <code class="codeph">loadjava</code> tool does some processing on entries in the order in which they occur in the JAR.
                     </p>
                     <p>If the <code class="codeph">loadjava</code> tool has partially processed entities before it processes <code class="codeph">META-INF/loadjava-options</code>, then it attempts to patch up the schema object to conform to the applicable options. For example, the <code class="codeph">loadjava</code> tool alters classes that were created with invoker rights when they should have been created with definer rights. The fix for <code class="codeph">-noaction</code> is to drop the created schema object. This yields the correct effect, except that if a schema object existed before the <code class="codeph">loadjava</code> tool started, then it would have been dropped.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-58858E63-19D3-4DE0-963F-35BC7686E28C">optiontable</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">[-optiontable table_name]
</pre><p>This option enables you to specify the properties of classes persistently. No mechanism is provided for loading the table. The table name must contain three character columns, PATTERN, OPTION, and VALUE. The value of PATTERN is interpreted in the same way as a pattern in an option file. The other two columns are the same as the corresponding command-line options and take an operand. Suppose, you create a table FOO with the following command:</p><pre class="oac_no_warn" dir="ltr">create table foo (pattern varchar2(2000), option_name varchar2(2000), value varchar2(2000));
</pre><p>Then, you can use the <code class="codeph">optiontable</code> option in the following way:
                     </p><pre class="oac_no_warn" dir="ltr">loadjava -optiontable foo myjar.jar
</pre><p>For options that do not take an operand, the VALUE column should be NULL. The rows are processed in the same way as the lines of an option file are processed. To determine the options for a given schema object, the rows are examined and for any match the option is appended to the list of options. If two rows have the same pattern and contradictory options, such as -synonym and -nosynonym, then it is unspecified which will prevail. If two rows have the same pattern and option columns, then it is unspecified which VALUE will prevail.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-E28E2497-6625-4BD2-9DA7-C43E77F655FB">publish</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">[-publish &lt;package&gt;]
[-pubmain &lt;number&gt;]
</pre><p>The publishing options cause the <code class="codeph">loadjava</code> tool to create PL/SQL wrappers for methods contained in the processed classes. Typically, a user wants to publish wrappers for only a few classes in a JAR. These options are most useful when specified in an option file.
                     </p>
                     <p>To be eligible for publication, the method must satisfy the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It must be a member of a <code class="codeph">public</code> class.
                           </p>
                        </li>
                        <li>
                           <p>It must be declared <code class="codeph">public</code> and <code class="codeph">static</code>.
                           </p>
                        </li>
                        <li>
                           <p>The method signature should satisfy the following rules so that it can be mapped:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Java arithmetic types for arguments and return values are mapped to <code class="codeph">NUMBER</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">char</code> as an argument and return type is mapped to <code class="codeph">VARCHAR</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">java.lang.String</code> as an argument and return type is mapped to <code class="codeph">VARCHAR</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>If the only argument of the method has type <code class="codeph">java.lang.String</code>, special rules apply, as listed in the <code class="codeph">-pubmain</code> option description.
                                 </p>
                              </li>
                              <li>
                                 <p>If the return type is <code class="codeph">void</code>, then a procedure is created.
                                 </p>
                              </li>
                              <li>
                                 <p>If the return type is an arithmetic, <code class="codeph">char</code>, or <code class="codeph">java.lang.String</code> type, then a function is created.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>Methods that take arguments or return types that are not covered by the preceding rules are not eligible. No provision is made for <code class="codeph">OUT</code> and <code class="codeph">IN OUT</code> SQL arguments, <code class="codeph">OBJECT</code> types, and many other SQL features.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-C403F75B-2E6D-40EA-8E46-D353BCC43EEF">resolve</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">{-resolve | -r}
</pre><p>Use <code class="codeph">-resolve</code> to force the <code class="codeph">loadjava</code> tool to compile and resolve a class that has previously been loaded. It is not necessary to specify <code class="codeph">-force</code>, because resolution is performed after, and independent of, loading.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-A50F3737-CD97-456C-BCE5-14E533648FFE">resolver</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">{-resolver | -R} <span class="italic">resolver_specification</span>
</pre><p>This option associates an explicit resolver specification with the class schema objects that the <code class="codeph">loadjava</code> tool creates or replaces.
                     </p>
                     <p>A resolver specification consists of one or more items, each of which consists of a name specification and a schema specification expressed in the following syntax:</p><pre class="oac_no_warn" dir="ltr">"((name_spec schema_spec) [(name_spec schema_spec)] ...)"
</pre><p>A name specification is similar to a name in an <code class="codeph">import</code> statement. It can be a fully qualified Java class name or a package name whose final element is the wildcard character asterisk (<code class="codeph">*</code>) or simply an asterisk (<code class="codeph">*</code>). However, the elements of a name specification must be separated by slashes (<code class="codeph">/</code>), not periods (<code class="codeph">.</code>). For example, the name specification <code class="codeph">a/b/*</code> matches all classes whose names begin with <code class="codeph">a.b</code>. The special name <code class="codeph">*</code> matches all class names.
                     </p>
                     <p>A schema specification can be a schema name or the wildcard character dash (<code class="codeph">-</code>). The wildcard does not identify a schema, but directs the resolve operation not to mark a class invalid, because a reference to a matching name cannot be resolved. Use dash (<code class="codeph">-</code>) when you must test a class that refers to a class you cannot or do not want to load. For example, GUI classes that a class refers to but does not call, because when run in the server there is no GUI.
                     </p>
                     <p>When looking for a schema object whose name matches the name specification, the resolution operation looks in the schema named by the partner schema specification.</p>
                     <p>The resolution operation searches schemas in the order in which the resolver specification lists them. For example,</p><pre class="oac_no_warn" dir="ltr">-resolver '((* HR) (* PUBLIC))'
</pre><p>This implies that search for any reference first in <code class="codeph">HR</code> and then in <code class="codeph">PUBLIC</code>. If a reference is not resolved, then mark the referring class invalid and display an error message.
                     </p>
                     <p>Consider the following example:</p><pre class="oac_no_warn" dir="ltr">-resolver "((* HR) (* PUBLIC) (my/gui/* -))"
</pre><p>This implies that search for any reference first in <code class="codeph">HR</code> and then in <code class="codeph">PUBLIC</code>. If the reference is to a class in the package <code class="codeph">my.gui</code> and is not found, then mark the referring class valid and do not display an error. If the reference is not to a class in <code class="codeph">my.gui</code> and is not found, then mark the referring class invalid and produce an error message.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-F78268B7-F570-4DE0-BD5A-DD43DC4AEFA5">user</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">{-user | -u} <span class="italic">user</span>/<span class="italic">password</span>[@<span class="italic">database_url</span>]
</pre><p>By default, the <code class="codeph">loadjava</code> tool loads into the logged in schema specified by the <code class="codeph">-user</code> option. You use the <code class="codeph">-schema</code> option to specify a different schema to load into. This does not require you to log in to that schema, but does require that you have sufficient permissions to alter the schema.
                     </p>
                     <p>The permissible forms of <code class="codeph">@</code><span class="italic"><code class="codeph">database_url</code></span> depend on whether you specify <code class="codeph">-oci</code> or <code class="codeph">-thin</code>, as described:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">-oci:@</code><span class="italic"><code class="codeph">database_url</code></span> is optional. If you do not specify, then the <code class="codeph">loadjava</code> tool uses the user's default database. If specified, <span class="italic"><code class="codeph">database_url</code></span> can be a TNS name or an Oracle Net Services name-value list.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-thin:@</code><span class="italic"><code class="codeph">database_url</code></span> is required. The format is <span class="italic"><code class="codeph">host</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">lport</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">SID</code></span>.
                           </p>
                           <p>where:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">host</code></span> is the name of the computer running the database.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">lport</code></span> is the listener port that has been configured to listen for Oracle Net Services connections. In a default installation, it is <code class="codeph">5521</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">SID</code></span> is the database instance identifier. In a default installation, it is <code class="codeph">ORCL</code>.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>The following are examples of the <code class="codeph">loadjava</code> tool commands:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Connect to the default database with the default OCI driver, load the files in a JAR into the <code class="codeph">TEST</code> schema, and then resolve them:
                           </p><pre class="oac_no_warn" dir="ltr">loadjava -u joe -resolve -schema TEST ServerObjects.jar
Password: <span class="italic">password</span>
</pre></li>
                        <li>
                           <p>Connect with the JDBC Thin driver, load a class and a resource file, and resolve each class:</p><pre class="oac_no_warn" dir="ltr">loadjava -thin -u HR@dbhost:5521:orcl \
  -resolve alpha.class beta.props
Password: <span class="italic">password</span>
</pre></li>
                        <li>
                           <p>Add Betty and Bob to the users who can run <code class="codeph">alpha.class</code>:
                           </p><pre class="oac_no_warn" dir="ltr">loadjava -thin -schema test -u HR@localhost:5521:orcl \
  -grant BETTY,BOB alpha.class
Password: password
</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-9B26E38B-F040-473D-B965-1053456E1520">jarsasdbobjects</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This option indicates that JARs processed by the current <code class="codeph">loadjava</code> tool are to be stored in the database along with the classes they contain, and knowledge of the association between the classes and the JAR is to be retained in the database. In other words, this argument indicates that the JARs processed by the current <code class="codeph">loadjava</code> tool are to be stored in the database as database resident JARs.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEB08FAD-BE91-45D6-8338-031A70D97C59__GUID-CD2B0F59-E38D-40FC-A9E0-DE2ADCD42974">prependjarnames</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This option is used with the <code class="codeph">-jarsasdbobjects</code> option. This option enables classes with the same names coming from different JARs to coexist in the same schema.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="preparing-Java-class-methods.html#GUID-4695681F-91B7-45A1-AA10-CD6BF046C4C7">Overview of Controlling the Current User</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='03710.database-gateway-sqlserver-features.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SQL Server Gateway Features and Restriction</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-sql-server-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T16:34:56-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18235-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="database-gateway-sqlserver-introduction.html" title="Previous" type="text/html">
      <link rel="next" href="database-gateway-sqlserver-case-studies.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for SQL Server User's Guide">
    <meta name="dcterms.isVersionOf" content="GMSWN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-sqlserver-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="database-gateway-sqlserver-case-studies.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL Server Gateway Features and Restriction</li>
            </ol>
            <a id="GUID-7715EE2E-35B9-4B04-90F3-28A85476E638" name="GUID-7715EE2E-35B9-4B04-90F3-28A85476E638"></a><a id="GMSWN200"></a>
            
            <h2 id="GMSWN-GUID-7715EE2E-35B9-4B04-90F3-28A85476E638" class="sect2"><span class="enumeration_chapter">2 </span>SQL Server Gateway Features and Restriction
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After the gateway is installed and configured, you can use the gateway to access SQL Server data, pass SQL Server commands from applications to the SQL Server database, perform distributed queries, and copy data. </p>
               <p>Topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" title="A remote insert rowsource feature allows remote insert requiring local Oracle data to work through the Oracle database and Oracle Database Gateway. This functionality requires that the Oracle database and the Oracle Database Gateway to be version 12.2 or later.">Remote Insert Rowsource</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-E55550F8-3B89-46FA-9730-B0396DCA6956">Using the Pass-Through Feature</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF">Executing Stored Procedures and Functions</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-969B7793-3140-487D-87A9-1336A4E20258">CHAR Semantics</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-7D22F29E-9416-415D-90C3-1F5787879FAD">Multi-byte Character Sets Ratio Suppression</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5">IPv6 Support</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-BA9B52F3-D059-489D-A768-27578D7565AE">Remote User-defined Function Support</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA">Database Compatibility Issues for SQL Server</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-DC125F0F-0957-4A58-805A-9848DC66F627">Known Restrictions </a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB">Known Problems</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" name="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A"></a><h3 id="GMSWN-GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" class="sect3">Remote Insert Rowsource</h3>
               <div>
                  <p>A remote insert rowsource feature allows remote insert requiring local Oracle data to work through the Oracle database and Oracle Database Gateway. This functionality requires that the Oracle database and the Oracle Database Gateway to be version 12.2 or later.</p>
                  <p>By Oracle Database design, some distributed statement must be executed at the database link site. But in certain circumstances, there is data needed to execute these queries that must be fetched from the originating Oracle Database. Under homogeneous connections, the remote Oracle database would call back the source Oracle database for such data. But in heterogeneous connections, this is not viable, because this means that the Foreign Data Store would have to query call back functions, or data, that can only be provided by the Oracle instance that issued the query. In general, these kinds of statements are not something that can be supported through the Oracle Database Gateway. </p>
                  <p>The following categories of SQL statements results in a callback:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Any DML with a sub-select, which refers to a table in Oracle database.</p>
                     </li>
                     <li>
                        <p>Any <code class="codeph">DELETE</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code> or  "<code class="codeph">SELECT... FOR UPDATE..."</code> SQL statement containing SQL functions or statements that needs to be executed at the originating Oracle database. 
                        </p>
                        <p>These SQL functions include <code class="codeph">USER</code>, <code class="codeph">USERENV</code>, and <code class="codeph">SYSDATE</code>; and involve the selection of data from the originating Oracle database.
                        </p>
                     </li>
                     <li>
                        <p>Any SQL statement that involves a table in Oracle database, and a <code class="codeph">LONG</code> or <code class="codeph">LOB</code> column in a remote table.
                        </p>
                     </li>
                  </ul>
                  <p>An example of a remote <code class="codeph">INSERT</code> statement that can work through the remote insert rowsource feature is as follows:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO <span class="italic">gateway_table</span>@gateway_link select * from <span class="italic">local_table</span>;
</pre></div>
            </div><a id="GMSWN704"></a><div class="props_rev_3"><a id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956" name="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956"></a><h3 id="GMSWN-GUID-E55550F8-3B89-46FA-9730-B0396DCA6956" class="sect3">Using the Pass-Through Feature</h3>
               <div>
                  <div class="section">
                     <p>The gateway can pass SQL Server commands or statements from the application to the SQL Server database using the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package. 
                     </p>
                     <p>Use the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package in a PL/SQL block to specify the statement to be passed to the SQL Server database, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
    num_rows INTEGER;
BEGIN
    num_rows := DBMS_HS_PASSTHROUGH.EXECUTE_IMMEDIATE@MSQL('<span class="italic">command</span>');
END;
/
</pre><p>Where <span class="italic">command</span> cannot be one of the following:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">BEGIN</code> <code class="codeph">TRANSACTION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">COMMIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ROLLBACK</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SAVE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SHUTDOWN</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">RELEASE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SAVEPOINT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CONNECT</code></p>
                        </li>
                        <li>
                           <p>SQL Server tool commands</p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">DBMS_HS_PASSTHROUGH</code> package supports passing bind values and executing SELECT statements.
                     </p>
                     <div class="infoboxnote" id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956__GUID-F5B9556E-5470-4A9D-80C5-0678524AF65A">
                        <p class="notep1">Note:</p>
                        <p>TRUNCATE cannot be used in a pass-through statement.</p>
                     </div>
                     <p></p>
                     <div class="infoboxnotealso" id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956__GUID-3789DB51-18EC-4B0A-B4C2-4CEE24F8E59C">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_HS_PASSTHROUGH.html#ARPLS017" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER003" target="_blank">Chapter 3, Features of Oracle Database Gateways,</a> of <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="GMSWN705"></a><div class="props_rev_3"><a id="GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF" name="GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF"></a><h3 id="GMSWN-GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF" class="sect3">Executing Stored Procedures and Functions</h3>
               <div>
                  <div class="section">
                     <p>Using the procedural feature, the gateway can execute stored procedures that are defined in the SQL Server database. It is not necessary to relink the gateway or define the procedure to the gateway, but the procedure's access privileges must permit access by the user that the gateway is logging in as.</p>
                     <p>Standard PL/SQL statements are used to execute a stored procedure.</p>
                     <p>The gateway supports stored procedures in three mutually exclusive modes:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Normal mode: Have access to <code class="codeph">IN</code>/<code class="codeph">OUT</code> arguments only
                           </p>
                        </li>
                        <li>
                           <p>Return value mode: Have a return value for all stored procedures</p>
                        </li>
                        <li>
                           <p>Resultset mode: Out values are available as last result set</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="GMSWN835"></a><div class="props_rev_3"><a id="GUID-969B7793-3140-487D-87A9-1336A4E20258" name="GUID-969B7793-3140-487D-87A9-1336A4E20258"></a><h3 id="GMSWN-GUID-969B7793-3140-487D-87A9-1336A4E20258" class="sect3">CHAR Semantics</h3>
               <div>
                  <p>This feature allows the gateway to optionally run in <code class="codeph">CHAR</code> Semantics mode.  Rather than always describing SQL Server <code class="codeph">CHAR</code> columns as <code class="codeph">CHAR(n BYTE)</code>, this feature describes them as <code class="codeph">CHAR(n CHAR)</code> and <code class="codeph">VARCHAR(n CHAR)</code>. The concept is similar to Oracle database <code class="codeph">CHAR</code> Semantics. You need to specify <code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>  gateway parameter to activate this option. Refer to <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN836"></a><div class="props_rev_3"><a id="GUID-7D22F29E-9416-415D-90C3-1F5787879FAD" name="GUID-7D22F29E-9416-415D-90C3-1F5787879FAD"></a><h3 id="GMSWN-GUID-7D22F29E-9416-415D-90C3-1F5787879FAD" class="sect3">Multi-byte Character Sets Ratio Suppression</h3>
               <div>
                  <p>This feature optionally suppresses the ratio expansion from SQL Server database to Oracle database involving multi-byte character set. By default, Oracle gateways assume the worst ratio to prevent data being truncated or insufficient buffer size situation. However, if you have specific knowledge of your SQL Server database and do not want the expansion to occur, you can specify <code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code> parameter to suppress the expansion. Refer to <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN837"></a><div class="props_rev_3"><a id="GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5" name="GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5"></a><h3 id="GMSWN-GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5" class="sect3">IPv6 Support</h3>
               <div>
                  <p>Besides full IPv6 support between Oracle databases and the gateway, IPv6 is also supported between this gateway and SQL Server database. Refer to the <code class="codeph">HS_FDS_CONNECT_INFO</code> parameter in <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN880"></a><div class="props_rev_3"><a id="GUID-CF96FE3D-C124-4F36-8198-047285443019" name="GUID-CF96FE3D-C124-4F36-8198-047285443019"></a><h3 id="GMSWN-GUID-CF96FE3D-C124-4F36-8198-047285443019" class="sect3">Gateway Session IDLE Timeout</h3>
               <div>
                  <p>You can optionally choose to terminate long idle gateway sessions automatically with the gateway parameter <code class="codeph">HS_IDLE_TIMEOUT</code>. Specifically, when a gateway session is idle for more than the specified time limit, the gateway session is terminated with any pending update rolled back. Refer to the <code class="codeph">HS_IDLE_TIMEOUT</code> parameter in <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="GMSWN706"></a><div class="props_rev_3"><a id="GUID-BA9B52F3-D059-489D-A768-27578D7565AE" name="GUID-BA9B52F3-D059-489D-A768-27578D7565AE"></a><h3 id="GMSWN-GUID-BA9B52F3-D059-489D-A768-27578D7565AE" class="sect3">Remote User-defined Function Support</h3>
               <div>
                  <p>User-defined functions in a remote non-Oracle database can be used in SQL statements.</p>
                  <div class="infoboxnotealso" id="GUID-BA9B52F3-D059-489D-A768-27578D7565AE__GUID-B8727611-B712-400D-8C6E-6C04F644F011">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER4108" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for more information about executing user-defined functions on a non-Oracle database.
                     </p>
                  </div>
               </div><a id="GMSWN707"></a><div class="props_rev_3"><a id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52" name="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52"></a><h4 id="GMSWN-GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52" class="sect4">Return Values and Stored Procedures</h4>
                  <div>
                     <div class="section">
                        <p>By default, all stored procedures and functions do not return a return value to the user. To enable return values, set the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> parameter value to <code class="codeph">TRUE</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52__GUID-5F7997D9-1EE3-4565-8C11-E04FEC0C148A">
                           <p class="notep1">See Also:</p>
                           <p> <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for information about both editing the initialization parameter file and the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> parameter.
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52__GUID-FC186C09-950C-4FBA-BF7B-F08067210445">
                           <p class="notep1">Note:</p>
                           <p>If you set the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> gateway initialization parameter to <code class="codeph">TRUE</code>, you must change the syntax of the procedure execute statement for all existing stored procedures.
                           </p>
                        </div>
                        <p>In the following example, the employee name <code class="codeph">JOHN SMYTHE</code> is passed to the SQL Server stored procedure <code class="codeph">REVISE_SALARY</code>. The stored procedure retrieves the salary value from the SQL Server database to calculate a new yearly salary for <code class="codeph">JOHN SMYTHE</code>. The revised salary returned in <code class="codeph">RESULT</code> is used to update <code class="codeph">EMP</code> in a table of an Oracle database:
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  INPUT VARCHAR2(15);
  RESULT NUMBER(8,2);
BEGIN
  INPUT := 'JOHN SMYTHE';
  RESULT := REVISE_SALARY@MSQL(INPUT);
  UPDATE EMP SET SAL = RESULT WHERE ENAME =: INPUT;
END;
/
</pre><p>The procedural feature automatically converts non-Oracle data types to and from PL/SQL data types.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="GMSWN708"></a><div class="props_rev_3"><a id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C" name="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C"></a><h4 id="GMSWN-GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C" class="sect4">Result Sets and Stored Procedures</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle Database Gateway for SQL Server provides support for stored procedures which return result sets.</p>
                        <p>By default, all stored procedures and functions do not return a result set to the user. To enable result sets, set the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> parameter value to <code class="codeph">TRUE</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C__GUID-87D87482-694C-4EC3-936A-B1F6BAC25A46">
                           <p class="notep1">See Also:</p>
                           <p><a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">Initialization Parameters</a> for information about both editing the initialization parameter file and the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> parameter. For further information about Oracle support for result sets in non-Oracle databases see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER4061" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a>.
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C__GUID-172EC095-C267-4D49-AC15-8068D91555AC">
                           <p class="notep1">Note:</p>
                           <p>If you set the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> gateway initialization parameter to <code class="codeph">TRUE</code>, then you must change the syntax of the procedure execute statement for all existing stored procedures, else errors will occur.
                           </p>
                        </div>
                        <p>When accessing stored procedures with result sets through the Oracle Database Gateway for SQL Server, you will be in the sequential mode of Heterogeneous Services.</p>
                        <p>The Oracle Database Gateway for SQL Server returns the following information to Heterogeneous Services during procedure description:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>All the input arguments of the remote stored procedure</p>
                           </li>
                           <li>
                              <p>None of the output arguments</p>
                           </li>
                           <li>
                              <p>One out argument of type ref cursor (corresponding to the first result set returned by the stored procedure)</p>
                           </li>
                        </ul>
                        <p>Client programs have to use the virtual package function <code class="codeph">DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET</code> to get the ref cursor for subsequent result sets. The last result set returned is the out argument from the procedure.
                        </p>
                        <p>The limitations of accessing result sets are the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Result sets returned by a remote stored procedure have to be retrieved in the order in which they were placed on the wire</p>
                           </li>
                           <li>
                              <p>On execution of a stored procedure, all result sets returned by a previously executed stored procedure will be closed (regardless of whether the data has been completely retrieved or not)</p>
                           </li>
                        </ul>
                        <p>In the following example, the SQL Server stored procedure is executed to fetch the contents of the <code class="codeph">emp</code> and <code class="codeph">dept</code> tables from SQL Server:
                        </p><pre class="oac_no_warn" dir="ltr">create procedure REFCURPROC (@arg1 varchar(255), @arg2 varchar(255) output)
as
select @arg2 = @arg1
select * from EMP
select * from DEPT
go
</pre><p>This stored procedure assigns the input parameter arg1 to the output parameter arg2, opens the query <code class="codeph">SELECT * FROM EMP</code> in ref cursor rc1, and opens the query <code class="codeph">SELECT * FROM DEPT</code> in ref cursor rc2.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="GMSWN709"></a><div class="props_rev_3"><a id="GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980" name="GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980"></a><h5 id="GMSWN-GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980" class="sect5">OCI Program Fetching from Result Sets in Sequential Mode</h5>
                     <div>
                        <div class="section">
                           <p>The following example shows OCI program fetching from result sets in sequential mode:</p><pre class="oac_no_warn" dir="ltr">OCIEnv *ENVH;
OCISvcCtx *SVCH;
OCIStmt *STMH;
OCIError *ERRH;
OCIBind *BNDH[3];
OraText arg1[20];
OraText arg2[255];
OCIResult *rset;
OCIStmt *rstmt;
ub2 rcode[3];
ub2 rlens[3];
sb2 inds[3];
OraText *stmt = (OraText *) "begin refcurproc@MSQL(:1,:2,:3); end;";
OraText *n_rs_stm = (OraText *)
  "begin :ret := DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET@MSQL; end;";

/* Prepare procedure call statement */

/* Handle Initialization code skipped */
OCIStmtPrepare(STMH, ERRH, stmt, strlen(stmt), OCI_NTV_SYNTAX, OCI_DEFAULT);

/* Bind procedure arguments */
inds[0] = 0;
strcpy((char *) arg1, "Hello World");
rlens[0] = strlen(arg1);
OCIBindByPos(STMH, &amp;BNDH[0], ERRH, 1, (dvoid *) arg1, 20, SQLT_CHR,
             (dvoid *) &amp;(inds[0]), &amp;(rlens[0]), &amp;(rcode[0]), 0, (ub4 *) 0, 
             OCI_DEFAULT);

inds[1] = -1;
OCIBindByPos(STMH, &amp;BNDH[1], ERRH, 1, (dvoid *) arg2, 20, SQLT_CHR,
             (dvoid *) &amp;(inds[1]), &amp;(rlens[1]), &amp;(rcode[1]), 0, (ub4 *) 0, 
             OCI_DEFAULT);

inds[2] = 0;
rlens[2] = 0;
OCIDescriptorAlloc(ENVH, (dvoid **) &amp;rset, OCI_DTYPE_RSET, 0, (dvoid **) 0);
OCIBindByPos(STMH, &amp;BNDH[2], ERRH, 2, (dvoid *) rset, 0, SQLT_RSET,
             (dvoid *) &amp;(inds[2]), &amp;(rlens[2]), &amp;(rcode[2]),
             0, (ub4 *) 0, OCI_DEFAULT);

/* Execute procedure */
OCIStmtExecute(SVCH, STMH, ERRH, 1, 0, (CONST OCISnapshot *) 0,
               (OCISnapshot *) 0, OCI_DEFAULT);

/* Convert result set to statement handle */
OCIResultSetToStmt(rset, ERRH);
rstmt = (OCIStmt *) rset;

/* After this the user can fetch from rstmt */
/* Issue get_next_result_set call to get handle to next_result set */
/* Prepare Get next result set procedure call */

OCIStmtPrepare(STMH, ERRH, n_rs_stm, strlen(n_rs_stm), OCI_NTV_SYNTAX,
               OCI_DEFAULT);

/* Bind return value */
OCIBindByPos(STMH, &amp;BNDH[1], ERRH, 1, (dvoid *) rset, 0, SQLT_RSET,
             (dvoid *) &amp;(inds[1]), &amp;(rlens[1]), &amp;(rcode[1]),
             0, (ub4 *) 0, OCI_DEFAULT);

/* Execute statement to get next result set*/
OCIStmtExecute(SVCH, STMH, ERRH, 1, 0, (CONST OCISnapshot *) 0,
               (OCISnapshot *) 0, OCI_DEFAULT);

/* Convert next result set to statement handle */
OCIResultSetToStmt(rset, ERRH);
rstmt = (OCIStmt *) rset;

/* Now rstmt will point to the second result set returned by the
remote stored procedure */

/* Repeat execution of get_next_result_set to get the output arguments */</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="GMSWN710"></a><div class="props_rev_3"><a id="GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1" name="GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1"></a><h5 id="GMSWN-GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1" class="sect5">PL/SQL Program Fetching from Result Sets in Sequential Mode</h5>
                     <div>
                        <div class="section">
                           <p>Assume that the table <code class="codeph">loc_emp</code> is a local table exactly like the SQL Server <code class="codeph">emp</code> table. The same assumption applies for <code class="codeph">loc_dept</code>. The table <code class="codeph">outargs</code> has columns corresponding to the <code class="codeph">out</code> arguments of the SQL Server stored procedure.
                           </p><pre class="oac_no_warn" dir="ltr">create table outargs (outarg varchar2(255), retval number);
</pre><pre class="oac_no_warn" dir="ltr">create or replace package rcpackage is
  type RCTYPE is ref cursor;
end rcpackage;
/
</pre><pre class="oac_no_warn" dir="ltr">declare
  rc1 rcpackage.rctype;
  rec1 loc_emp%rowtype;
  rc2 rcpackage.rctype;
  rec2 loc_dept%rowtype;
  rc3 rcpackage.rctype;
  rec3 outargs%rowtype;
  out_arg varchar2(255);

begin

  -- Execute procedure
  out_arg := null;
  refcurproc@MSQL('Hello World', out_arg, rc1);

  -- Fetch 20 rows from the remote emp table and insert them into loc_emp
  for i in 1 .. 20 loop
    fetch rc1 into rec1;
    insert into loc_emp (rec1.empno, rec1.ename, rec1.job,
    rec1.mgr, rec1.hiredate, rec1.sal, rec1.comm, rec1.deptno);
  end loop;

  -- Close ref cursor
  close rc1;

  -- Get the next result set returned by the stored procedure
  rc2 := dbms_hs_result_set.get_next_result_set@MSQL;

  -- Fetch 5 rows from the remote dept table and insert them into loc_dept
  for i in 1 .. 5 loop
    fetch rc2 into rec2;
    insert into loc_dept values (rec2.deptno, rec2.dname, rec2.loc);
  end loop;

  --Close ref cursor
  close rc2;

  -- Get the output arguments from the remote stored procedure
  -- Since we are in sequential mode, they will be returned in the
  -- form of a result set
  rc3 := dbms_hs_result_set.get_next_result_set@MSQL;

  -- Fetch them and insert them into the outargs table
  fetch rc3 into rec3;
  insert into outargs (rec3.outarg, rec3.retval);

  -- Close ref cursor
  close rc3;

end;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="GMSWN711"></a><div class="props_rev_3"><a id="GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA" name="GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA"></a><h3 id="GMSWN-GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA" class="sect3">Database Compatibility Issues for SQL Server</h3>
               <div>
                  <p>SQL Server and Oracle databases function differently in some areas, causing compatibility problems. The compatibility issues are described in the following links:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-B1CFF847-A43D-4717-AE2F-44B859004B67">Implicit Transactions (Chained Mode)</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D">Column Definitions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C">Naming Rules</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823">Data Types</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA">Queries</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF">Locking</a></p>
                     </li>
                  </ul>
               </div><a id="GMSWN712"></a><div class="props_rev_3"><a id="GUID-B1CFF847-A43D-4717-AE2F-44B859004B67" name="GUID-B1CFF847-A43D-4717-AE2F-44B859004B67"></a><h4 id="GMSWN-GUID-B1CFF847-A43D-4717-AE2F-44B859004B67" class="sect4">Implicit Transactions (Chained Mode)</h4>
                  <div>
                     <p><a id="d2170e952" class="indexterm-anchor"></a><a id="d2170e954" class="indexterm-anchor"></a>The gateway supports the ANSI-standard implicit transactions. SQL Server stored procedures must be written for this mode. Running implicit transactions allows the gateway to extend the Oracle two-phase commit protection to transactions updating Oracle and SQL Server databases.
                     </p>
                  </div>
               </div><a id="GMSWN713"></a><div class="props_rev_3"><a id="GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D" name="GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D"></a><h4 id="GMSWN-GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D" class="sect4">Column Definitions</h4>
                  <div>
                     <p><a id="d2170e990" class="indexterm-anchor"></a>By default, a SQL Server table column cannot contain null values unless <code class="codeph">NULL</code> is specified in the column definition. SQL Server assumes all columns cannot contain null values unless you set a SQL Server option to override this default.
                     </p>
                     <p>For an Oracle table, null values are allowed in a column unless <code class="codeph">NOT NULL</code> is specified in the column definition.
                     </p>
                  </div>
               </div><a id="GMSWN714"></a><div class="props_rev_3"><a id="GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C" name="GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C"></a><h4 id="GMSWN-GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C" class="sect4">Naming Rules</h4>
                  <div>
                     <p>Naming rule issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD">Rules for Naming Objects</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4">Case Sensitivity</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN715"></a><div class="props_rev_3"><a id="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD" name="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD"></a><h5 id="GMSWN-GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD" class="sect5">Rules for Naming Objects</h5>
                     <div>
                        <p>Oracle and SQL Server use different database object naming rules. For example, the maximum number of characters allowed for each object name can be different. Also, the use of single and double quotation marks, case sensitivity, and the use of alphanumeric characters can all be different. </p>
                        <div class="infoboxnotealso" id="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD__GUID-8505615D-DC86-45CC-912B-A9EF8A49A0C6">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> and SQL Server documentation.
                           </p>
                        </div>
                     </div>
                  </div><a id="GMSWN716"></a><div class="props_rev_3"><a id="GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4" name="GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4"></a><h5 id="GMSWN-GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4" class="sect5">Case Sensitivity</h5>
                     <div>
                        <p>The Oracle database defaults to uppercase unless you surround identifiers with double quote characters. For example, to refer to the SQL Server table called <code class="codeph">emp</code>, enter the name with double quote characters, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM "emp"@MSQL;
</pre><p>However, to refer to the SQL Server table called <code class="codeph">emp</code> owned by Scott from an Oracle application, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM "Scott"."emp"@MSQL;
</pre><p>If the SQL Server table called <code class="codeph">emp</code> is owned by <code class="codeph">SCOTT</code>, a table owner name in uppercase letters, you can enter the owner name without double quote characters, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM SCOTT."emp"@MSQL;
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM scott."emp"@MSQL;
</pre><p>Oracle recommends that you surround all SQL Server object names with double quote characters and use the exact letter case for the object names as they appear in the SQL Server data dictionary. This convention is not required when referring to the supported Oracle data dictionary tables or views listed in <a href="database-gateway-sqlserver-data-dictionary.html#GUID-3F877790-E47E-4191-A3AC-25E0B7C56F6F">Data Dictionary</a>.
                        </p>
                        <p>If existing applications cannot be changed according to these conventions, create views in Oracle to associate SQL Server names to the correct letter case. For example, to refer to the SQL Server table <code class="codeph">emp</code> from an existing Oracle application by using only uppercase names, define the following view:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE VIEW EMP (EMPNO, ENAME, SAL, HIREDATE)
      AS SELECT "empno", "ename", "sal", "hiredate"
      FROM "emp"@MSQL;
</pre><p>With this view, the application can issue statements such as the following:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT EMPNO, ENAME FROM EMP;
</pre><p>Using views is a workaround solution that duplicates data dictionary information originating in the SQL Server data dictionary. You must be prepared to update the Oracle view definitions whenever the data definitions for the corresponding tables are changed in the SQL Server database.</p>
                     </div>
                  </div>
               </div><a id="GMSWN717"></a><div class="props_rev_3"><a id="GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823" name="GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823"></a><h4 id="GMSWN-GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823" class="sect4">Data Types</h4>
                  <div>
                     <p>Data type issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-141413D3-F780-451B-9A9C-30630BBE8E8B">Binary Literal Notation</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-C2716325-B085-4E04-8764-6D7A14E11E46">Bind Variables With LONG Columns</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F">Data Type Conversion</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN718"></a><div class="props_rev_3"><a id="GUID-141413D3-F780-451B-9A9C-30630BBE8E8B" name="GUID-141413D3-F780-451B-9A9C-30630BBE8E8B"></a><h5 id="GMSWN-GUID-141413D3-F780-451B-9A9C-30630BBE8E8B" class="sect5">Binary Literal Notation</h5>
                     <div>
                        <p>Oracle SQL uses hexadecimal digits surrounded by single quotes to express literal values being compared or inserted into columns defined as data type <code class="codeph">RAW</code>. 
                        </p>
                        <p><a id="d2170e1254" class="indexterm-anchor"></a>This notation is not converted to syntax compatible with the SQL Server <code class="codeph">VARBINARY</code> and <code class="codeph">BINARY</code> data types (a <code class="codeph">0x </code>followed by hexadecimal digits, surrounded by single quotes). 
                        </p>
                        <p>For example, the following statement is not supported:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO BINARY_TAB@MSQL VALUES ('0xff')
</pre><p>Where <code class="codeph">BINARY_TAB</code> contains a column of data type <code class="codeph">VARBINARY</code> or <code class="codeph">BINARY</code>. Use bind variables when inserting into or updating <code class="codeph">VARBINARY</code> and <code class="codeph">BINARY</code> data types.
                        </p>
                     </div>
                  </div><a id="GMSWN719"></a><div class="props_rev_3"><a id="GUID-C2716325-B085-4E04-8764-6D7A14E11E46" name="GUID-C2716325-B085-4E04-8764-6D7A14E11E46"></a><h5 id="GMSWN-GUID-C2716325-B085-4E04-8764-6D7A14E11E46" class="sect5">Bind Variables With LONG Columns</h5>
                     <div>
                        <p>The gateway does not support using bind variables to update columns of data type <code class="codeph">LONG</code>.
                        </p>
                     </div>
                  </div><a id="GMSWN720"></a><div class="props_rev_3"><a id="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F" name="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F"></a><h5 id="GMSWN-GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F" class="sect5">Data Type Conversion</h5>
                     <div>
                        <p>SQL Server does not support implicit date conversions. Such conversions must be explicit.</p>
                        <p>For example, the gateway issues an error for the following <code class="codeph">SELECT</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT DATE_COL FROM TEST@MSQL WHERE DATE_COL = "1-JAN-2004";
</pre><p>To avoid problems with implicit conversions, add explicit conversions, as in the following:</p><pre class="oac_no_warn" dir="ltr">SELECT DATE_COL FROM TEST@MSQL WHERE DATE_COL = TO_DATE("1-JAN-2004")
</pre><div class="infoboxnotealso" id="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F__GUID-2BD9C836-E8B8-4519-8DF5-D6AFD1580C0E">
                           <p class="notep1">See Also:</p>
                           <p><a href="database-gateway-sqlserver-data-type-conversion.html#GUID-33CEB476-48D0-4441-B4D1-5CA07A077BC4">Data Type Conversion</a> for more information about restrictions on data types.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="GMSWN721"></a><div class="props_rev_3"><a id="GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA" name="GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA"></a><h4 id="GMSWN-GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA" class="sect4">Queries</h4>
                  <div>
                     <p>Query issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-4AD07233-9E64-4939-9B1B-255CACC5A094">Row Selection</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-8B388C74-AFB7-4516-A96D-C2B824B99399">Empty Strings</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-9E0DD3E2-B861-4753-A424-5194A9369556">Empty Bind Variables</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN722"></a><div class="props_rev_3"><a id="GUID-4AD07233-9E64-4939-9B1B-255CACC5A094" name="GUID-4AD07233-9E64-4939-9B1B-255CACC5A094"></a><h5 id="GMSWN-GUID-4AD07233-9E64-4939-9B1B-255CACC5A094" class="sect5">Row Selection</h5>
                     <div>
                        <p>SQL Server evaluates a query condition for all selected rows before returning any of the rows. If there is an error in the evaluation process for one or more rows, no rows are returned even though the remaining rows satisfy the condition. </p>
                        <p>Oracle evaluates the query condition row-by-row and returns a row when the evaluation is successful. Rows are returned until a row fails the evaluation.</p>
                     </div>
                  </div><a id="GMSWN723"></a><div class="props_rev_3"><a id="GUID-8B388C74-AFB7-4516-A96D-C2B824B99399" name="GUID-8B388C74-AFB7-4516-A96D-C2B824B99399"></a><h5 id="GMSWN-GUID-8B388C74-AFB7-4516-A96D-C2B824B99399" class="sect5">Empty Strings</h5>
                     <div>
                        <p>Oracle processes an empty string in a SQL statement as a null value. SQL Server processes an empty string as an empty string.</p>
                        <p>When comparing an empty string the gateway passes literal empty strings to the SQL Server database without any conversion. If you intended an empty string to represent a null value, SQL Server does not process the statement that way; it uses the empty string.</p>
                        <p>You can avoid this problem by using <code class="codeph">NULL</code> or <code class="codeph">IS NULL</code> in the SQL statement instead of the empty string syntax, as in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * from "emp"@MSQL where "ename" IS NULL;
</pre><p>To select an empty string:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For <code class="codeph">VARCHAR</code> columns, the gateway returns an empty string to the Oracle database as <code class="codeph">NULL</code> value.
                              </p>
                           </li>
                           <li>
                              <p>For <code class="codeph">CHAR</code> columns, the gateway returns the full size of the column with each character as empty space (' ').
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="GMSWN724"></a><div class="props_rev_3"><a id="GUID-9E0DD3E2-B861-4753-A424-5194A9369556" name="GUID-9E0DD3E2-B861-4753-A424-5194A9369556"></a><h5 id="GMSWN-GUID-9E0DD3E2-B861-4753-A424-5194A9369556" class="sect5">Empty Bind Variables</h5>
                     <div>
                        <p>For <code class="codeph">VARCHAR</code> bind variables, the gateway passes empty bind variables to the SQL Server database as a <code class="codeph">NULL</code> value.
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN725"></a><div class="props_rev_3"><a id="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF" name="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF"></a><h4 id="GMSWN-GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF" class="sect4">Locking</h4>
                  <div>
                     <p>The locking model for an SQL Server database differs significantly from the Oracle model. The gateway depends on the underlying SQL Server behavior, so the following possible scenarios can affect Oracle applications that access SQL Server through the gateway:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Read access might block write access</p>
                        </li>
                        <li>
                           <p>Write access might block read access</p>
                        </li>
                        <li>
                           <p>Statement-level read consistency is not guaranteed</p>
                           <div class="infoboxnotealso" id="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF__GUID-50B73490-A95B-4CDA-B69B-F739B5898D5F">
                              <p class="notep1">See Also:</p>
                              <p>SQL Server documentation for information about the SQL Server locking model.</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="GMSWN726"></a><div class="props_rev_3"><a id="GUID-DC125F0F-0957-4A58-805A-9848DC66F627" name="GUID-DC125F0F-0957-4A58-805A-9848DC66F627"></a><h3 id="GMSWN-GUID-DC125F0F-0957-4A58-805A-9848DC66F627" class="sect3">Known Restrictions </h3>
               <div>
                  <p>If you encounter incompatibility problems not listed in this section or in <span class="q">"<a href="database-gateway-sqlserver-features.html#GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB">Known Problems</a>"</span>, contact Oracle Support Services. The following section describes the known restrictions and includes suggestions for dealing with them when possible:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923">Multiple Open Statements</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115">Transactional Integrity </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5">Transaction Capability </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD">COMMIT or ROLLBACK in PL/SQL Cursor Loops Closes Open Cursors </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF">Stored Procedures</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D">Pass-Through Feature</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250">DDL Statements</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3">SQL Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3">Functions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13">SQL*Plus COPY Command with Lowercase Table Names</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-263C4864-9E01-4994-A55C-7CFACDF874F8">Database Links</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DC125F0F-0957-4A58-805A-9848DC66F627__GUID-AC0ED9B8-DEEA-47BB-A01A-3F281E79991A">
                     <p class="notep1">Note:</p>
                     <p>If you have any questions or concerns about the restrictions, contact Oracle Support Services.</p>
                  </div>
               </div><a id="GMSWN727"></a><div class="props_rev_3"><a id="GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923" name="GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923"></a><h4 id="GMSWN-GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923" class="sect4">Multiple Open Statements</h4>
                  <div>
                     <p>Accessing SQL Server has the limitation that one open statement or cursor is allowed for each connection. If a second statement or cursor needs to open in the same transaction to access SQL Server, it requires a new connection.</p>
                     <p>Because of this limitation multiple open statements or cursors within the same transaction can lock each other because they use different connections to SQL Server. </p>
                     <p>To avoid this restriction, issue a commit, or modify the logic, or both. </p>
                  </div>
               </div><a id="GMSWN728"></a><div class="props_rev_3"><a id="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115" name="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115"></a><h4 id="GMSWN-GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115" class="sect4">Transactional Integrity </h4>
                  <div>
                     <p>The gateway cannot guarantee transactional integrity in the following cases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When a statement that is processed by the gateway causes an implicit commit in the target database</p>
                        </li>
                        <li>
                           <p>When the target database is configured to work in Autocommit Mode</p>
                           <div class="infoboxnote" id="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115__GUID-59173894-9F7A-466B-9E79-C874717A768E">
                              <p class="notep1">Note:</p>
                              <p>Oracle strongly recommends the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you know that executing a particular statement causes an implicit commit in the target database, then ensure that this statement is executed in its own transaction.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                     <p>The gateway sets Autocommit Mode to Off when a connection is established to the SQL Server database.</p>
                  </div>
               </div><a id="GMSWN729"></a><div class="props_rev_3"><a id="GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5" name="GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5"></a><h4 id="GMSWN-GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5" class="sect4">Transaction Capability </h4>
                  <div>
                     <p><a id="d2170e1835" class="indexterm-anchor"></a>The gateway does not support savepoints. If a distributed update transaction is under way involving the gateway, and a user attempts to create a savepoint, the following error occurs:
                     </p><pre class="oac_no_warn" dir="ltr"><a id="d2170e1839" class="indexterm-anchor"></a>ORA-02070: database <span class="italic">dblink</span> does not support savepoint in this context<a id="d2170e1845" class="indexterm-anchor"></a>
</pre><p><a id="d2170e1851" class="indexterm-anchor"></a>By default, the gateway is configured as <code class="codeph">COMMIT_CONFIRM</code>.
                     </p>
                  </div>
               </div><a id="GMSWN730"></a><div class="props_rev_3"><a id="GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD" name="GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD"></a><h4 id="GMSWN-GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD" class="sect4">COMMIT or ROLLBACK in PL/SQL Cursor Loops Closes Open Cursors </h4>
                  <div>
                     <p>Any <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> issued in a PL/SQL cursor loop closes all open cursors, which can result in the following error:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-1002:  fetch out of sequence 
</pre><p>To prevent this error, move the <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> statement outside the cursor loop.
                     </p>
                  </div>
               </div><a id="GMSWN731"></a><div class="props_rev_3"><a id="GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF" name="GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF"></a><h4 id="GMSWN-GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF" class="sect4">Stored Procedures</h4>
                  <div>
                     <p>The Oracle transaction manager or Oracle <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> commands cannot contril changes issued through stored procedures that embed commits or rollbacks
                     </p>
                     <p>When accessing stored procedures with result sets through the Oracle Database Gateway for SQL Server, you must work in the sequential mode of Heterogeneous Services.</p>
                     <p>When accessing stored procedures with multiple result sets through the Oracle Database Gateway for SQL Server, you must read all the result sets before continuing.</p>
                     <p>Output parameters of stored procedures must be initialized to an empty string.</p>
                  </div>
               </div><a id="GMSWN732"></a><div class="props_rev_3"><a id="GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D" name="GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D"></a><h4 id="GMSWN-GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D" class="sect4">Pass-Through Feature</h4>
                  <div>
                     <p><a id="d2170e1999" class="indexterm-anchor"></a>If the SQL statements being passed through the gateway result in an implicit commit at the SQL Server database, the Oracle transaction manager is unaware of the commit and an Oracle <code class="codeph">ROLLBACK</code> command cannot be used to roll back the transaction.
                     </p>
                  </div>
               </div><a id="GMSWN838"></a><a id="GMSWN733"></a><div class="props_rev_3"><a id="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250" name="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250"></a><h4 id="GMSWN-GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250" class="sect4">DDL Statements</h4>
                  <div>
                     <div class="section">
                        <p>SQL Server requires some DDL statements to be executed in their own transaction, and only one DDL statement can be executed in a given transaction.</p>
                        <p>If you use these DDL statements in a SQL Server stored procedure and you execute the stored procedure through the gateway using the procedural feature, or, if you execute the DDL statements through the gateway using the pass-through feature, an error condition might result. This is because the procedural feature and the pass-through feature of the gateway cannot guarantee that the DDL statements are executed in their own separate transaction.</p>
                        <p><a id="d2170e2042" class="indexterm-anchor"></a>The following SQL Server DDL statements can cause an error condition if you attempt to pass them with the gateway pass-through feature, or if you execute a SQL Server stored procedure that contains them:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALTER DATABASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE DATABASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE INDEX</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE PROCEDURE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE TABLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE VIEW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DISK INIT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP &lt;</code><span class="italic"><code class="codeph">object</code></span><code class="codeph">&gt;</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DUMP TRANSACTION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GRANT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LOAD DATABASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LOAD TRANSACTION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RECONFIGURE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">REVOKE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SELECT INTO</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TRUNCATE TABLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">UPDATE STATISTICS</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250__GUID-565F2F3B-4062-4BC3-B94B-F6206A6E5E8C">
                           <p class="notep1">See Also:</p>
                           <p>SQL Server documentation for more information about DDL statements.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="GMSWN734"></a><div class="props_rev_3"><a id="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3" name="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3"></a><h4 id="GMSWN-GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3" class="sect4">SQL Syntax</h4>
                  <div>
                     <p>This section lists restrictions on the following SQL syntax:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F">WHERE CURRENT OF Clause</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D">CONNECT BY Clause</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-27AC7EAF-EA59-415F-A017-C75A42B21731">Functions in Subqueries</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA">Parameters in Subqueries</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-DC68B356-6407-4435-9181-E17B28ED4914">Data Dictionary Table and Views in UPDATE Statement</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745">ROWID</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42">TO_DATE</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-32B73FD6-D082-4A81-9164-53D7307CFC39">EXPLAIN PLAN Statement</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3__GUID-52660DEA-2A76-4844-AF39-57325343AC75">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sqlserver-supported-sql-syntax-functions.html#GUID-D66F13BA-ADEC-4596-BED5-2F68539E93EB">Supported SQL Syntax and Functions</a> for more information about restrictions on SQL syntax.
                        </p>
                     </div>
                  </div><a id="GMSWN735"></a><div class="props_rev_3"><a id="GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F" name="GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F"></a><h5 id="GMSWN-GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F" class="sect5">WHERE CURRENT OF Clause</h5>
                     <div>
                        <p><code class="codeph">UPDATE</code> and <code class="codeph">DELETE</code> statements with the <code class="codeph">WHERE CURRENT OF</code> clause are not supported by the gateway because they rely on the Oracle <a id="d2170e2249" class="indexterm-anchor"></a><code class="codeph">ROWID</code> implementation. To update or delete a specific row through the gateway, a condition style <code class="codeph">WHERE</code> clause must be used.
                        </p>
                     </div>
                  </div><a id="GMSWN736"></a><div class="props_rev_3"><a id="GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D" name="GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D"></a><h5 id="GMSWN-GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D" class="sect5">CONNECT BY Clause</h5>
                     <div>
                        <p>The gateway does not support the <code class="codeph">CONNECT BY</code> clause in a <code class="codeph">SELECT</code> statement.
                        </p>
                     </div>
                  </div><a id="GMSWN737"></a><div class="props_rev_3"><a id="GUID-27AC7EAF-EA59-415F-A017-C75A42B21731" name="GUID-27AC7EAF-EA59-415F-A017-C75A42B21731"></a><h5 id="GMSWN-GUID-27AC7EAF-EA59-415F-A017-C75A42B21731" class="sect5">Functions in Subqueries</h5>
                     <div>
                        <p>Bind variables and expressions are not supported as operands in string functions or mathematical functions, when part of subquery in an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> SQL statement.
                        </p>
                     </div>
                  </div><a id="GMSWN738"></a><div class="props_rev_3"><a id="GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA" name="GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA"></a><h5 id="GMSWN-GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA" class="sect5">Parameters in Subqueries</h5>
                     <div>
                        <p>Due to a limitation in SQL Server, you cannot use parameters in subqueries.</p>
                     </div>
                  </div><a id="GMSWN739"></a><div class="props_rev_3"><a id="GUID-DC68B356-6407-4435-9181-E17B28ED4914" name="GUID-DC68B356-6407-4435-9181-E17B28ED4914"></a><h5 id="GMSWN-GUID-DC68B356-6407-4435-9181-E17B28ED4914" class="sect5">Data Dictionary Table and Views in UPDATE Statement</h5>
                     <div>
                        <p>Data dictionary tables and views in the <code class="codeph">SET</code> clause of an <code class="codeph">UPDATE</code> statement are not supported.
                        </p>
                     </div>
                  </div><a id="GMSWN740"></a><div class="props_rev_3"><a id="GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745" name="GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745"></a><h5 id="GMSWN-GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745" class="sect5">ROWID</h5>
                     <div>
                        <p>The Oracle <code class="codeph">ROWID</code> implementation is not supported.
                        </p>
                     </div>
                  </div><a id="GMSWN741"></a><div class="props_rev_3"><a id="GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42" name="GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42"></a><h5 id="GMSWN-GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42" class="sect5">TO_DATE</h5>
                     <div>
                        <p><code class="codeph">TO_DATE</code> is a reserved word and cannot be used as a database identifier name.
                        </p>
                     </div>
                  </div><a id="GMSWN742"></a><div class="props_rev_3"><a id="GUID-32B73FD6-D082-4A81-9164-53D7307CFC39" name="GUID-32B73FD6-D082-4A81-9164-53D7307CFC39"></a><h5 id="GMSWN-GUID-32B73FD6-D082-4A81-9164-53D7307CFC39" class="sect5">EXPLAIN PLAN Statement</h5>
                     <div>
                        <p>The <code class="codeph">EXPLAIN PLAN</code> statement is not supported.
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN744"></a><div class="props_rev_3"><a id="GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3" name="GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3"></a><h4 id="GMSWN-GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3" class="sect4">Functions</h4>
                  <div>
                     <p>The following restrictions apply to using functions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Unsupported functions cannot be used in statements that refer to <code class="codeph">LONG</code> columns.
                           </p>
                        </li>
                        <li>
                           <p>When negative numbers are used as the second parameter in a <code class="codeph">SUBSTR</code> function, incorrect results are returned. This is due to incompatibility between the Oracle <code class="codeph">SUBSTR</code> function and the equivalent in SQL Server.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="GMSWN745"></a><div class="props_rev_3"><a id="GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13" name="GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13"></a><h4 id="GMSWN-GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13" class="sect4">SQL*Plus COPY Command with Lowercase Table Names</h4>
                  <div>
                     <p>You need to wrap lower case table names in double quotes.</p>
                     <p>For example:</p><pre class="oac_no_warn" dir="ltr">copy from tkhouser/tkhouser@inst1 insert loc_tkhodept using select * from "tkhodept"@holink2;</pre></div>
               </div><a id="GMSWN746"></a><div class="props_rev_3"><a id="GUID-263C4864-9E01-4994-A55C-7CFACDF874F8" name="GUID-263C4864-9E01-4994-A55C-7CFACDF874F8"></a><h4 id="GMSWN-GUID-263C4864-9E01-4994-A55C-7CFACDF874F8" class="sect4">Database Links</h4>
                  <div>
                     <p>The gateway is not multithreaded and cannot support shared database links. Each gateway session spawns a separate gateway process and connections cannot be shared.</p>
                  </div>
               </div>
            </div><a id="GMSWN747"></a><div class="props_rev_3"><a id="GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB" name="GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB"></a><h3 id="GMSWN-GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB" class="sect3">Known Problems</h3>
               <div>
                  <p>This section describes known problems and includes suggestions for correcting them when possible. If you have any questions or concerns about the problems, contact Oracle Support Services. A current list of problems is available online. Contact your local Oracle office for information about accessing the list.</p>
                  <p>The following known problems are described in this section:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958">Encrypted Format Login </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-4F243177-A053-4A00-9C6B-A9C65756871D">Date Arithmetic</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269">SQL Server IMAGE_ TEXT and NTEXT Data Types</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD">String Functions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-20474B79-62AD-4322-8FDB-74C47ECBA682">Schema Names and PL/SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-4527FCE1-B460-4156-8416-4167CD8AE014">Data Dictionary Views and PL/SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-8FA7D620-EB99-44A8-A64E-0A458716C003">Stored Procedures</a></p>
                     </li>
                  </ul>
               </div><a id="GMSWN748"></a><div class="props_rev_3"><a id="GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958" name="GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958"></a><h4 id="GMSWN-GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958" class="sect4">Encrypted Format Login </h4>
                  <div>
                     <p>The Oracle9<span class="italic">i</span> database (Release 9.2 and earlier) supported an Oracle initialization parameter, <code class="codeph">DBLINK_ENCRYPT_LOGIN</code>. When this parameter is set to <code class="codeph">TRUE</code>, the password for the login user ID is not sent over the network.
                     </p>
                     <p>If this parameter is set to <code class="codeph">TRUE</code> in the initialization parameter file used by the Oracle9<span class="italic">i</span> database, you must change the setting to <code class="codeph">FALSE</code>, the default setting, to allow Oracle9<span class="italic">i</span> to communicate with the gateway.
                     </p>
                     <p>In the current release, the <code class="codeph">DBLINK_ENCRYPT_LOGIN</code> initialization parameter is obsolete, so you do not need to check it.
                     </p>
                  </div>
               </div><a id="GMSWN749"></a><div class="props_rev_3"><a id="GUID-4F243177-A053-4A00-9C6B-A9C65756871D" name="GUID-4F243177-A053-4A00-9C6B-A9C65756871D"></a><h4 id="GMSWN-GUID-4F243177-A053-4A00-9C6B-A9C65756871D" class="sect4">Date Arithmetic</h4>
                  <div>
                     <p>The following SQL expressions do not function correctly with the gateway:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">date </span>+<span class="italic"> number</span>
<span class="italic">number </span>+<span class="italic"> date</span>
date - <span class="italic">number</span>
date1 - <span class="italic">date2</span>
</pre><p>Statements with the preceding expressions are sent to the SQL Server database without any translation. Since SQL Server does not support these date arithmetic functions, the statements return an error.</p>
                  </div>
               </div><a id="GMSWN750"></a><div class="props_rev_3"><a id="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269" name="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269"></a><h4 id="GMSWN-GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269" class="sect4">SQL Server IMAGE, TEXT and NTEXT Data Types</h4>
                  <div>
                     <p>The following restrictions apply when using <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, and <code class="codeph">NTEXT</code> data types:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An unsupported SQL function cannot be used in a SQL statement that accesses a column defined as SQL Server data type <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, or <code class="codeph">NTEXT</code>. 
                           </p>
                        </li>
                        <li>
                           <p>You cannot use SQL*Plus to select data from a column defined as SQL Server data type <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, or <code class="codeph">NTEXT</code> when the data is greater than 80 characters in length. Oracle recommends using Pro*C or Oracle Call Interface to access such data in a SQL Server database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, and <code class="codeph">NTEXT</code> data cannot be read through pass-through queries.
                           </p>
                        </li>
                        <li>
                           <p>If a SQL statement is accessing a table including an <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code>, or <code class="codeph">NTEXT</code> column, the statement will be sent to SQL Server as two separate statements. One statement to access the <code class="codeph">IMAGE</code>, <code class="codeph">TEXT</code> or <code class="codeph">NTEXT</code> column, and a second statement for the other columns in the original statement.
                           </p>
                        </li>
                     </ul>
                     <p>The gateway does not support the PL/SQL function <code class="codeph">COLUMN_VALUE_LONG</code> of the <code class="codeph">DBMS_SQL</code> package.
                     </p>
                     <div class="infoboxnotealso" id="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269__GUID-A7B96452-7AFA-4044-BC86-2B22DAA60804">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sqlserver-supported-sql-syntax-functions.html#GUID-D66F13BA-ADEC-4596-BED5-2F68539E93EB">Supported SQL Syntax and Functions</a> for more information about restrictions on SQL syntax.
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN751"></a><div class="props_rev_3"><a id="GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD" name="GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD"></a><h4 id="GMSWN-GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD" class="sect4">String Functions</h4>
                  <div>
                     <p>If you concatenate numeric literals using the "<code class="codeph">||</code>" or <a id="d2170e2987" class="indexterm-anchor"></a><code class="codeph">CONCAT</code> operator when using the gateway to query a SQL Server database, the result is an arithmetic addition. For example, the result of the following statement is 18:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT 9 || 9 FROM DUAL@MSQL;
</pre><p>The result is 99 when using Oracle to query an Oracle database.</p>
                  </div>
               </div><a id="GMSWN752"></a><div class="props_rev_3"><a id="GUID-20474B79-62AD-4322-8FDB-74C47ECBA682" name="GUID-20474B79-62AD-4322-8FDB-74C47ECBA682"></a><h4 id="GMSWN-GUID-20474B79-62AD-4322-8FDB-74C47ECBA682" class="sect4">Schema Names and PL/SQL</h4>
                  <div>
                     <p>If you do not prefix a SQL Server database object with its schema name in a SQL statement within a PL/SQL block, the following error message occurs:</p><pre class="oac_no_warn" dir="ltr">ORA-6550 PLS-201 Identifier <span class="italic">table_name</span> must be declared.
</pre><p>Change the SQL statement to include the schema name of the object.</p>
                  </div>
               </div><a id="GMSWN753"></a><div class="props_rev_3"><a id="GUID-4527FCE1-B460-4156-8416-4167CD8AE014" name="GUID-4527FCE1-B460-4156-8416-4167CD8AE014"></a><h4 id="GMSWN-GUID-4527FCE1-B460-4156-8416-4167CD8AE014" class="sect4">Data Dictionary Views and PL/SQL</h4>
                  <div>
                     <p>You cannot refer to data dictionary views in SQL statements that are inside a PL/SQL block.</p>
                  </div>
               </div><a id="GMSWN754"></a><div class="props_rev_3"><a id="GUID-8FA7D620-EB99-44A8-A64E-0A458716C003" name="GUID-8FA7D620-EB99-44A8-A64E-0A458716C003"></a><h4 id="GMSWN-GUID-8FA7D620-EB99-44A8-A64E-0A458716C003" class="sect4">Stored Procedures</h4>
                  <div>
                     <p>Return values of stored procedures that return result sets are incorrect.</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='12895.resolving-performance-degradation-over-time.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Resolving Performance Degradation Over Time</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database 2 Day + Performance Tuning Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database 2 Day + Performance Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-2-day-performance-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T02:50:24-08:00">
      <meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96346-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="resolving-transient-performance-problems.html" title="Previous" type="text/html">
      <link rel="next" href="using-automatic-workload-repository-warehouse.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TDPPT">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="resolving-transient-performance-problems.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-automatic-workload-repository-warehouse.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database 2 Day + Performance Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-III-reactive-database-tuning.html" property="item" typeof="WebPage"><span property="name"> Reactive Database Tuning </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Resolving Performance Degradation Over Time </li>
            </ol>
            <a id="GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8" name="GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8"></a><a id="TDPPT089"></a>
            
            <h2 id="TDPPT-GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8" class="sect2"><span class="enumeration_chapter">9 </span> Resolving Performance Degradation Over Time 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Performance degradation of the database occurs when your database was performing optimally in the past, such as 6 months ago, but has gradually degraded to a point where it becomes noticeable to the users. The <a id="d17088e80" class="indexterm-anchor"></a><a id="d17088e86" class="indexterm-anchor"></a><a id="d17088e90" class="indexterm-anchor"></a><a id="d17088e94" class="indexterm-anchor"></a>Automatic Workload Repository (AWR) Compare Periods report enables you to compare database performance between two periods of time.
               </p>
               <p>While an AWR report shows AWR data between two snapshots (or two points in time), the AWR Compare Periods report shows the difference between two periods (or two AWR reports with a total of four snapshots). Using the AWR Compare Periods report helps you to identify detailed performance attributes and configuration settings that differ between two time periods. The two time periods selected for the AWR Compare Periods report can be of different durations. The report normalizes the statistics by the amount of time spent on the database for each time period and presents statistical data ordered by the largest difference between the periods.</p>
               <p>For example, a batch workload that historically completed in the maintenance window between 10:00 p.m. and midnight is currently showing poor performance and completing at 2 a.m. You can generate an AWR Compare Periods report from 10:00 p.m. to midnight on a day when performance was good and from 10:00 a.m. to 2 a.m. on a day when performance was poor. The comparison of these reports should identify configuration settings, workload profile, and statistics that were different in these two time periods. Based on the differences identified, you can diagnose the cause of the performance degradation.</p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="resolving-performance-degradation-over-time.html#GUID-37F8C7A8-241D-4F9D-A120-24DED3A7BFA0">Managing Baselines</a></p>
                  </li>
                  <li>
                     <p><a href="resolving-performance-degradation-over-time.html#GUID-A2C52987-2A76-47CC-81D2-37C67A2ED486">Running the AWR Compare Periods Reports</a></p>
                  </li>
                  <li>
                     <p><a href="resolving-performance-degradation-over-time.html#GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313">Using the AWR Compare Periods Reports</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8__GUID-5F4F94BC-A6AA-4906-B67A-626F758BE1A6">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="oracle-database-performance-method.html#GUID-811C438C-149B-4BFE-A40A-1FAF2BF67C95">Gathering Database Statistics Using the Automatic Workload Repository</a>"</span></p>
                     </li>
                  </ul>
               </div>
            </div><a id="TDPPT230"></a><div class="props_rev_3"><a id="GUID-37F8C7A8-241D-4F9D-A120-24DED3A7BFA0" name="GUID-37F8C7A8-241D-4F9D-A120-24DED3A7BFA0"></a><h3 id="TDPPT-GUID-37F8C7A8-241D-4F9D-A120-24DED3A7BFA0" class="sect3"><span class="enumeration_section">9.1 </span>Managing Baselines
               </h3>
               <div>
                  <p>Baselines<a id="d17088e211" class="indexterm-anchor"></a><a id="d17088e215" class="indexterm-anchor"></a> are an effective way to diagnose performance problems. AWR<a id="d17088e220" class="indexterm-anchor"></a> supports the capture of baseline data by enabling you to specify and preserve a pair or a range of snapshots as a baseline. The snapshots contained in a baseline are excluded from the automatic AWR purging process and are retained indefinitely.
                  </p>
                  <p>A moving window baseline corresponds to all AWR data that exists within the AWR retention period. Oracle Database automatically maintains a system-defined moving window baseline. The default size of the window is the current AWR retention period, which by default is 8 days.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-A4600C0D-286F-4B0C-9397-ACEA363E1EF8">Creating a Baseline</a></p>
                     </li>
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-11A9CFFC-CBD1-47FF-904D-03B003C21A2E">Deleting a Baseline</a></p>
                     </li>
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C">Computing Threshold Statistics for Baselines</a></p>
                     </li>
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-2831079F-326B-4F10-8B4F-D90DC0FDE270">Setting Metric Thresholds for Baselines</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT231"></a><div class="props_rev_3"><a id="GUID-A4600C0D-286F-4B0C-9397-ACEA363E1EF8" name="GUID-A4600C0D-286F-4B0C-9397-ACEA363E1EF8"></a><h4 id="TDPPT-GUID-A4600C0D-286F-4B0C-9397-ACEA363E1EF8" class="sect4"><span class="enumeration_section">9.1.1 </span>Creating a Baseline
                  </h4>
                  <div>
                     <p><a id="d17088e331" class="indexterm-anchor"></a>Before creating a baseline, carefully consider the time period you choose as a baseline because it should represent the database operating at an optimal level. In the future, you can compare these baselines with other baselines or snapshots captured during periods of poor performance to analyze performance degradation over time.
                     </p>
                     <p>You can create the following types of baseline:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-DD973799-98E7-446C-AACA-7A185666D81E">Creating a Single Baseline</a></p>
                        </li>
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-CC5848D2-0C5F-42A5-91FF-049D21515B2C">Creating a Repeating Baseline</a></p>
                        </li>
                     </ul>
                  </div><a id="TDPPT232"></a><div class="props_rev_3"><a id="GUID-DD973799-98E7-446C-AACA-7A185666D81E" name="GUID-DD973799-98E7-446C-AACA-7A185666D81E"></a><h5 id="TDPPT-GUID-DD973799-98E7-446C-AACA-7A185666D81E" class="sect5"><span class="enumeration_section">9.1.1.1 </span>Creating a Single Baseline
                     </h5>
                     <div>
                        <div class="section">
                           <p>A single baseline is captured at a single, fixed time interval. For example, a single baseline may be captured on February 5, 2012 from 5:00 p.m. to 8:00 p.m.</p>
                           <p>You can choose future start and end times to create a baseline that captures future database activity. If both the start time and the end time are in the future, then a baseline template with the same name as the baseline is also created. A <a id="d17088e434" class="indexterm-anchor"></a>baseline template is a specification that enables Oracle Database to automatically generate a baseline for a future time period.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DD973799-98E7-446C-AACA-7A185666D81E__GUID-F8E86AB7-09EB-4DE0-9A41-F60D43C8C6B8">To create a single baseline:</p>
                           <ol>
                              <li>
                                 <p>Access the Database Home page.</p>
                                 <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Performance</span> menu, select <span class="bold">AWR</span> and then <span class="bold">AWR Administration</span>.
                                 </p>
                                 <p>If the Database Login page appears, then log in as a user with administrator privileges. The Performance page appears.</p>
                              </li>
                              <li>
                                 <p>Under Manage Snapshots and Baselines, click the number next to Baselines.</p>
                                 <p>The AWR Baselines page appears with a list of existing baselines displayed.</p>
                                 <div class="figure" id="GUID-DD973799-98E7-446C-AACA-7A185666D81E__GUID-C4CEFDE0-AE9A-4088-8978-0880D9AC418B"><img src="img/awr_baselines.gif" alt="Description of awr_baselines.gif follows" title="Description of awr_baselines.gif follows" longdesc="img_text/awr_baselines.html"><br><a href="img_text/awr_baselines.html">Description of the illustration awr_baselines.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Click <span class="bold">Create</span>.
                                 </p>
                                 <p>The Create Baseline: Baseline Interval Type page appears.</p>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Single</span>.
                                 </p>
                                 <div class="figure" id="GUID-DD973799-98E7-446C-AACA-7A185666D81E__GUID-0FB4482F-C156-4FB8-8B07-555A1270ABD4"><img src="img/baseline_interval_single.gif" alt="Description of baseline_interval_single.gif follows" title="Description of baseline_interval_single.gif follows" longdesc="img_text/baseline_interval_single.html"><br><a href="img_text/baseline_interval_single.html">Description of the illustration baseline_interval_single.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Click <span class="bold">Continue</span>.
                                 </p>
                                 <p>The Create Baseline: Single Baseline page appears.</p>
                                 <div class="figure" id="GUID-DD973799-98E7-446C-AACA-7A185666D81E__GUID-823BEF04-26A0-4548-A7E8-10E79FD8C4C7"><img src="img/create_baseline_single.gif" alt="Description of create_baseline_single.gif follows" title="Description of create_baseline_single.gif follows" longdesc="img_text/create_baseline_single.html"><br><a href="img_text/create_baseline_single.html">Description of the illustration create_baseline_single.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>In the <span class="bold">Baseline Name</span> field, enter a name for the baseline.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Baseline Interval, select whether to use a snapshot range or a time range for the baseline. Do one of the following:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>To use a range, select <span class="bold">Snapshot Range</span>. Complete the following steps:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Under Select Time Period, select a start time for the baseline by selecting <span class="bold">Period Start Time</span> and the snapshot icon below the Active Sessions chart that corresponds to the desired start time.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Select an end time for the baseline by selecting <span class="bold">Period End Time</span> and the snapshot icon below the Active Sessions chart that corresponds to the desired end time.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Optionally, to view older snapshots that are not displayed below the Active Sessions chart, expand <span class="bold">Change Chart Time Period</span>. Enter the desired start date in the <span class="bold">Chart Start Date</span> field and the desired end date in the <span class="bold">Chart End Date</span> field, and click <span class="bold">Go</span>.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>In this example, a snapshot range of February 7, 2012 from 10:50 a.m. to 11:20 a.m. is selected.</p>
                                       <div class="figure" id="GUID-DD973799-98E7-446C-AACA-7A185666D81E__GUID-2AE1C3F9-3C70-4B28-8C79-C1A422A17757"><img src="img/baseline_snapshot_range.gif" alt="Description of baseline_snapshot_range.gif follows" title="Description of baseline_snapshot_range.gif follows" longdesc="img_text/baseline_snapshot_range.html"><br><a href="img_text/baseline_snapshot_range.html">Description of the illustration baseline_snapshot_range.gif</a></div>
                                       <!-- class="figure" -->
                                    </li>
                                    <li>
                                       <p>To use a time range, select <span class="bold">Time Range</span>. Complete the following steps:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>In the <span class="bold">Start Time</span> fields, select a start time for the baseline.
                                             </p>
                                          </li>
                                          <li>
                                             <p>In the <span class="bold">End Time</span> fields, select an end time for the baseline.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>In the following example, a time range from 12:20 p.m. to 12:35 p.m. on February 7, 2012 is selected.</p>
                                       <div class="figure" id="GUID-DD973799-98E7-446C-AACA-7A185666D81E__GUID-94337892-A02B-4C83-9047-C51ED8EA8CE6"><img src="img/create_baseline_time_range.gif" alt="Description of create_baseline_time_range.gif follows" title="Description of create_baseline_time_range.gif follows" longdesc="img_text/create_baseline_time_range.html"><br><a href="img_text/create_baseline_time_range.html">Description of the illustration create_baseline_time_range.gif</a></div>
                                       <!-- class="figure" -->
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Finish</span>.
                                 </p>
                                 <p>The AWR Baselines page reappears with the newly created baseline displayed.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT233"></a><div class="props_rev_3"><a id="GUID-CC5848D2-0C5F-42A5-91FF-049D21515B2C" name="GUID-CC5848D2-0C5F-42A5-91FF-049D21515B2C"></a><h5 id="TDPPT-GUID-CC5848D2-0C5F-42A5-91FF-049D21515B2C" class="sect5"><span class="enumeration_section">9.1.1.2 </span>Creating a Repeating Baseline
                     </h5>
                     <div>
                        <div class="section">
                           <p>A repeating baseline is a baseline that repeats during a time interval over a specific period. For example, a repeating baseline may repeat every Monday from 1:00 p.m. to 3:00 p.m. from February 7, 2012 to February 7, 2013.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CC5848D2-0C5F-42A5-91FF-049D21515B2C__GUID-584FD55E-172D-41CC-9341-D45CD72DBF45">To create a repeating baseline:</p>
                           <ol>
                              <li>
                                 <p>Access the AWR Baselines page, as explained in <span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-DD973799-98E7-446C-AACA-7A185666D81E">Creating a Single Baseline</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Create</span>.
                                 </p>
                                 <p>The Create Baseline: Baseline Interval Type page appears.</p>
                              </li>
                              <li>
                                 <p>Select <span class="bold">Repeating</span> and then click <span class="bold">Continue</span>.
                                 </p>
                                 <p>The Create Baseline: Repeating Baseline Template page appears.</p>
                              </li>
                              <li>
                                 <p>In the <span class="bold">Baseline Name Prefix</span> field, enter a name prefix for the baseline.
                                 </p>
                              </li>
                              <li>
                                 <p>Under Baseline Time Period, specify the time of the day that you want the baseline to begin collecting AWR data and the duration of the baseline collection.</p>
                              </li>
                              <li>
                                 <p>Under Frequency, do one of the following:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Select <span class="bold">Daily</span> if you want the baseline to repeat on a daily basis.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Select <span class="bold">Weekly</span> if you want the baseline to repeat on a weekly basis, and then select the day of the week on which the baseline repeats.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Under Interval of Baseline Creation, complete the following steps:</p>
                                 <ol type="a">
                                    <li>
                                       <p>In the <span class="bold">Start Time</span> fields, select a date and time in the future when the data collection should begin.
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the <span class="bold">End Time</span> fields, select a date and time in the future when the data collection should end.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Under Purge Policy, enter the number of days to retain captured baselines.</p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Finish</span>.
                                 </p>
                                 <p>A baseline template with the same name as the baseline name prefix is created. A <a id="d17088e752" class="indexterm-anchor"></a>baseline template is a specification that enables Oracle Database to automatically generate a baseline for a future time period.
                                 </p>
                                 <p>This example creates a baseline that repeats weekly on Mondays from 8:00 a.m. to 10:00 a.m. from February 6, 2009 to February 6, 2010. Every captured baseline expires after 30 days.</p>
                                 <div class="figure" id="GUID-CC5848D2-0C5F-42A5-91FF-049D21515B2C__GUID-769EFDDA-2C77-494F-9CAC-A74FD8280436"><img src="img/create_baseline_repeating.gif" alt="Description of create_baseline_repeating.gif follows" title="Description of create_baseline_repeating.gif follows" longdesc="img_text/create_baseline_repeating.html"><br><a href="img_text/create_baseline_repeating.html">Description of the illustration create_baseline_repeating.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TDPPT234"></a><div class="props_rev_3"><a id="GUID-11A9CFFC-CBD1-47FF-904D-03B003C21A2E" name="GUID-11A9CFFC-CBD1-47FF-904D-03B003C21A2E"></a><h4 id="TDPPT-GUID-11A9CFFC-CBD1-47FF-904D-03B003C21A2E" class="sect4"><span class="enumeration_section">9.1.2 </span>Deleting a Baseline
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d17088e846" class="indexterm-anchor"></a>To conserve storage space, you may want to periodically delete unused baselines stored in the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-11A9CFFC-CBD1-47FF-904D-03B003C21A2E__GUID-3B611C9D-470B-4AFB-A568-1BCF9C65B340">To delete a baseline:</p>
                        <ol>
                           <li>
                              <p>Access the AWR Baselines page, as explained in <span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-DD973799-98E7-446C-AACA-7A185666D81E">Creating a Single Baseline</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select a baseline and click <span class="bold">Delete</span>.
                              </p>
                              <p>The Confirmation page appears.</p>
                           </li>
                           <li>
                              <p>Select whether to purge the underlying data associated with the baseline.</p>
                              <p>The underlying data includes the individual snapshots preserved in the baseline and any statistics that are computed for the baseline. Do one of the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To delete the underlying data, select <span class="bold">Purge the underlying data associated with the baseline</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To preserve the underlying data, select <span class="bold">Do not purge the underlying data associated with the baseline</span>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Click <span class="bold">Yes</span>.
                              </p>
                              <p>The AWR Baselines page reappears. A message informs you that the baseline was deleted successfully.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT235"></a><div class="props_rev_3"><a id="GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C" name="GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C"></a><h4 id="TDPPT-GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C" class="sect4"><span class="enumeration_section">9.1.3 </span>Computing Threshold Statistics for Baselines
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d17088e980" class="indexterm-anchor"></a>Computing threshold statistics for baselines enables you to graphically display the computed statistics in the charts on the Performance page.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C__GUID-5B8B2F29-529E-496A-B55B-9BCB7F84C25F">To compute threshold statistics for baselines:</p>
                        <ol>
                           <li>
                              <p>Access the AWR Baselines page, as explained in <span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-DD973799-98E7-446C-AACA-7A185666D81E">Creating a Single Baseline</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select the baseline for which you want to compute statistics.</p>
                              <p>Select a baseline that does not already have computed statistics. These baselines are identified by No in the Statistics Computed column.</p>
                           </li>
                           <li>
                              <p>From the Actions list, select <span class="bold">Schedule Statistics Computation</span>, and then click <span class="bold">Go</span>.
                              </p>
                              <p>The Compute Threshold Statistics page appears.</p>
                              <p>This example computes statistics for the baseline <code class="codeph">BASELINE_TUE_1120</code>. 
                              </p>
                              <div class="figure" id="GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C__GUID-8B2F1E31-856D-4CF9-B098-CE502AE795DE"><img src="img/compute_threshold_stats.gif" alt="Description of compute_threshold_stats.gif follows" title="Description of compute_threshold_stats.gif follows" longdesc="img_text/compute_threshold_stats.html"><br><a href="img_text/compute_threshold_stats.html">Description of the illustration compute_threshold_stats.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>In the <span class="bold">Name</span> field, enter a name for the task.
                              </p>
                              <p>Alternatively, you can choose to use the system-generated name.</p>
                           </li>
                           <li>
                              <p>In the <span class="bold">Description</span> field, enter a description for the task.
                              </p>
                              <p>Alternatively, you can choose to use the system-generated description.</p>
                           </li>
                           <li>
                              <p>Under Start, do one of the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Select <span class="bold">Immediately</span> to run the task immediately after it has been submitted.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Later</span> to run the task at a later time as specified using the Date and Time fields.
                                    </p>
                                 </li>
                              </ul>
                              <p>This computation is resource-intensive, so you may want to schedule it to run during off-peak hours.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Submit</span>.
                              </p>
                              <p>The AWR Baselines page appears. A message informs you that statistics computation has been scheduled for the selected baseline.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C__GUID-6586D6A8-2066-4732-95C1-D297110E019B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="monitoring-real-time-database-performance.html#GUID-81073595-A0B0-474C-937B-376B58D7C414">Customizing the Database Performance page</a>"</span> for information about displaying computed statistics on the Performance page
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT332"></a><div class="props_rev_3"><a id="GUID-2831079F-326B-4F10-8B4F-D90DC0FDE270" name="GUID-2831079F-326B-4F10-8B4F-D90DC0FDE270"></a><h4 id="TDPPT-GUID-2831079F-326B-4F10-8B4F-D90DC0FDE270" class="sect4"><span class="enumeration_section">9.1.4 </span>Setting Metric Thresholds for Baselines
                  </h4>
                  <div>
                     <p>As explained in <span class="q">"<a href="monitoring-performance-alerts.html#GUID-E4359985-FDE3-4083-AC4F-09E711B0E4B9">Setting Metric Thresholds for Performance Alerts</a>"</span>, a <a id="d17088e1160" class="indexterm-anchor"></a>metric is the rate of change in a cumulative statistic. Alerts notify you when particular metric thresholds are crossed. When the metric thresholds are crossed, the system is in an undesirable state. You can edit the threshold settings for baseline metrics.
                     </p>
                     <p>You can create the following types of baseline:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-FC994193-0397-44D2-87DB-32D222E9EFD9">Setting Metric Thresholds for the Default Moving Baseline</a></p>
                        </li>
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-21C62E49-F7FC-4C8D-AD00-5AC38477449F">Setting Metric Thresholds for Selected Baselines</a></p>
                        </li>
                     </ul>
                  </div><a id="TDPPT333"></a><div class="props_rev_3"><a id="GUID-FC994193-0397-44D2-87DB-32D222E9EFD9" name="GUID-FC994193-0397-44D2-87DB-32D222E9EFD9"></a><h5 id="TDPPT-GUID-FC994193-0397-44D2-87DB-32D222E9EFD9" class="sect5"><span class="enumeration_section">9.1.4.1 </span>Setting Metric Thresholds for the Default Moving Baseline
                     </h5>
                     <div>
                        <div class="section">
                           <p>This section describes the easiest technique for setting the metric thresholds for the default moving baseline. You can choose a group of basic metric threshold settings based on common database workload profiles such as OLTP, data warehousing, and OLTP with nighttime batch jobs. After choosing a workload profile, you can expand or change the threshold values as needed.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-FC994193-0397-44D2-87DB-32D222E9EFD9__GUID-CC436CB8-6F6A-47D6-828A-6F07182526AC">To set metric thresholds for the default moving baseline:</p>
                           <ol>
                              <li>
                                 <p>Access the Database Home page.</p>
                                 <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Performance</span> menu, select <span class="bold">Adaptive Thresholds</span>.
                                 </p>
                                 <p>If the Database Login page appears, then log in as a user with administrator privileges.</p>
                                 <p>The Threshold Configuration tab of the Baseline Metric Thresholds page appears.</p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Quick Configuration</span>.
                                 </p>
                                 <p>The Quick Configuration: Baseline Metric Thresholds page appears.</p>
                              </li>
                              <li>
                                 <p>In <span class="bold">Workload Profile</span>, select one of the following options, depending on how you are using the database:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="bold">Primarily OLTP (pure transaction processing 24 hours a day)</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Primarily Data Warehousing (query and load intensive)</span></p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Alternating (OLTP during the daytime and batch during the nighttime)</span></p>
                                    </li>
                                 </ul>
                                 <p>In this example, <span class="bold">Primarily OLTP</span> was selected.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Continue</span>.
                                 </p>
                                 <p>The Quick Configuration: Review OLTP Threshold Settings page appears.</p>
                                 <div class="figure" id="GUID-FC994193-0397-44D2-87DB-32D222E9EFD9__GUID-21CE67EB-B766-4FF5-847F-90A7260D44A8"><img src="img/threshold_quick.gif" alt="Description of threshold_quick.gif follows" title="Description of threshold_quick.gif follows" longdesc="img_text/threshold_quick.html"><br><a href="img_text/threshold_quick.html">Description of the illustration threshold_quick.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Review the metric threshold settings and then click <span class="bold">Finish</span>.
                                 </p>
                                 <p>You are returned to the Baseline Metric Thresholds page, with the Threshold Configuration tab selected. The metric threshold settings are displayed.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT334"></a><div class="props_rev_3"><a id="GUID-21C62E49-F7FC-4C8D-AD00-5AC38477449F" name="GUID-21C62E49-F7FC-4C8D-AD00-5AC38477449F"></a><h5 id="TDPPT-GUID-21C62E49-F7FC-4C8D-AD00-5AC38477449F" class="sect5"><span class="enumeration_section">9.1.4.2 </span>Setting Metric Thresholds for Selected Baselines
                     </h5>
                     <div>
                        <div class="section">
                           <p>This section explains how to select a baseline and edit its thresholds. You can configure the type of threshold, for example, whether it is based on significance levels, percentage of maximum values, or fixed values. You can also configure the threshold levels that determine when the database generates critical alerts and warnings.</p>
                           <p>You can edit thresholds for the default moving baseline or a baseline that you created in the AWR Baselines page. You can select a baseline in the Edit Thresholds page after you have scheduled statistics computation from the AWR Baselines page and the statistics have finished computing on the static baseline.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-21C62E49-F7FC-4C8D-AD00-5AC38477449F__GUID-0ED294DD-0043-4BE8-BE05-FFF02EC8535F">To set a metric threshold for a selected moving baseline:</p>
                           <ol>
                              <li>
                                 <p>Access the Baseline Metric Thresholds page, as explained in <span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-FC994193-0397-44D2-87DB-32D222E9EFD9">Setting Metric Thresholds for the Default Moving Baseline</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the View list, select <span class="bold">Basic Metrics</span>.
                                 </p>
                                 <p>The Baseline Metric Thresholds page appears.</p>
                              </li>
                              <li>
                                 <p>In the <span class="bold">Category/Name</span> column, click the link for the metric whose threshold you want to set or change.
                                 </p>
                                 <p>For example, click <span class="bold">Number of Transactions (per second)</span>.
                                 </p>
                                 <p>The Edit Thresholds: Number of Transactions (per second) appears.</p>
                                 <div class="figure" id="GUID-21C62E49-F7FC-4C8D-AD00-5AC38477449F__GUID-C3AF6895-568A-4143-BF3E-5EC88A1CBEE1"><img src="img/edit_thresholds.gif" alt="Description of edit_thresholds.gif follows" title="Description of edit_thresholds.gif follows" longdesc="img_text/edit_thresholds.html"><br><a href="img_text/edit_thresholds.html">Description of the illustration edit_thresholds.gif</a></div>
                                 <!-- class="figure" -->
                                 <p>The charts on this page provide simple and detailed views of metric activity for a 24-hour period. In the top simple chart, click a day to view the value of the metric plotted against a 24-hour period.</p>
                              </li>
                              <li>
                                 <p>Under <span class="bold">AWR Baseline</span>, in the Name list, select either the default <span class="bold">SYSTEM_MOVING_WINDOW</span> or the name of a baseline created in the AWR Baselines page.
                                 </p>
                                 <p>A baseline appears in the AWR Baseline list after you have scheduled statistics computation from the AWR Baselines page and the statistics have finished computing on the static baseline.</p>
                                 <p>In this example, <code class="codeph">BASELINE_TUE_1120</code> is selected.
                                 </p>
                                 <p>The page refreshes to show the charts for the baseline that you selected.</p>
                              </li>
                              <li>
                                 <p>In the Threshold Settings section, complete the following steps to change the settings:</p>
                                 <ol type="a">
                                    <li>
                                       <p>In the <span class="bold">Threshold Type</span> list, select a type.
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the <span class="bold">Critical</span> list, select a level.
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the <span class="bold">Warning</span> list, select a value.
                                       </p>
                                    </li>
                                    <li>
                                       <p>In the <span class="bold">Occurrences</span> list, select a value.
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Apply Thresholds</span>.
                                 </p>
                                 <p>The Baseline Metric Thresholds page reappears. The page shows the altered metric threshold settings.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="TDPPT091"></a><div class="props_rev_3"><a id="GUID-A2C52987-2A76-47CC-81D2-37C67A2ED486" name="GUID-A2C52987-2A76-47CC-81D2-37C67A2ED486"></a><h3 id="TDPPT-GUID-A2C52987-2A76-47CC-81D2-37C67A2ED486" class="sect3"><span class="enumeration_section">9.2 </span>Running the AWR Compare Periods Reports
               </h3>
               <div>
                  <p>This section describes how to run the AWR Compare Periods reports using Enterprise Manager Cloud Control (Cloud Control).</p>
                  <p>You can use AWR Compare Periods reports to compare the database performance between two time periods by:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3">Comparing a Baseline to Another Baseline or Pair of Snapshots</a></p>
                     </li>
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-E03E4B6C-11C5-48E0-8078-25C9D9AB6684">Comparing Current System Performance to a Baseline Period</a></p>
                     </li>
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB">Comparing Two Pairs of Snapshots</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT137"></a><div class="props_rev_3"><a id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3" name="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3"></a><h4 id="TDPPT-GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3" class="sect4"><span class="enumeration_section">9.2.1 </span>Comparing a Baseline to Another Baseline or Pair of Snapshots
                  </h4>
                  <div>
                     <div class="section">
                        <p>When performance degradation occurs over time, you can run the AWR Compare Periods report to compare the degraded performance, captured as a new baseline or a pair of snapshots, to an existing baseline. You must have a baseline that represents the system operating at an optimal level. If an existing baseline is unavailable, then compare database performance between two periods of time using two arbitrary pairs of snapshots, as described in <span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB">Comparing Two Pairs of Snapshots</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-837EBBD0-8E92-4289-A279-434364DCC283">To compare a baseline to another baseline:</p>
                        <ol>
                           <li>
                              <p>Access the Database Home page.</p>
                              <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Performance</span> menu, select <span class="bold">AWR</span>, then <span class="bold">AWR Administration</span>.
                              </p>
                              <p>If the Database Login page appears, then log in as a user with administrator privileges. The Automatic Workload Repository page appears.</p>
                              <div class="figure" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-5ABF653D-AB8E-49E2-B8AD-223B5D9AB928"><img src="img/awr1.gif" alt="Description of awr1.gif follows" title="Description of awr1.gif follows" longdesc="img_text/awr1.html"><br><a href="img_text/awr1.html">Description of the illustration awr1.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Under Manage Snapshots and Baselines, click the link next to Baselines.</p>
                              <p>The AWR Baselines page appears.</p>
                           </li>
                           <li>
                              <p>Complete the following steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>Select the baseline to use for the report.</p>
                                    <p>At least one existing baseline must be available.</p>
                                 </li>
                                 <li>
                                    <p>From the Actions list, select <span class="bold">Compare Periods</span> and then click <span class="bold">Go</span>.
                                    </p>
                                 </li>
                              </ol>
                              <p>The Compare Periods: Second Period Start page appears. Under First Period, the selected baseline is displayed.</p>
                              <p>In this example, the baseline named <code class="codeph">BASELINE_TUE_1120</code> is selected.
                              </p>
                              <div class="figure" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-4F56AFD6-C640-4309-A601-55228150329F"><img src="img/baseline_first_period.gif" alt="Description of baseline_first_period.gif follows" title="Description of baseline_first_period.gif follows" longdesc="img_text/baseline_first_period.html"><br><a href="img_text/baseline_first_period.html">Description of the illustration baseline_first_period.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Compare the baseline selected in the first period to another baseline or a pair of snapshots. Do one of the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To compare to another baseline, select <span class="bold">Select a Baseline</span> and the baseline you want to use in the second period, and then click <span class="bold">Next</span>.
                                    </p>
                                    <p>The Compare Periods: Review page appears. Go to Step <a href="resolving-performance-degradation-over-time.html#GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__CACEFBFG">7</a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To compare to a pair of snapshots, select <span class="bold">Select Beginning Snapshot</span> and the beginning snapshot to use in the second period, and then click <span class="bold">Next</span>.
                                    </p>
                                    <p>This example selects snapshot 18, taken on February 7, 2012 at 1:00 p.m.</p>
                                    <div class="figure" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-0CE0C607-DB0E-427B-AE65-1EBC8F0F4CBE"><img src="img/awr_snapshot2_begin2.gif" alt="Description of awr_snapshot2_begin2.gif follows" title="Description of awr_snapshot2_begin2.gif follows" longdesc="img_text/awr_snapshot2_begin2.html"><br><a href="img_text/awr_snapshot2_begin2.html">Description of the illustration awr_snapshot2_begin2.gif</a></div>
                                    <!-- class="figure" -->
                                    <p>The Compare Periods: Second Period End appears. Proceed to the next step.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Select the ending snapshot for the snapshot period to include in the report and then click <span class="bold">Next</span>.
                              </p>
                              <p>In this example, snapshot 1500, taken on February 7, 2009 at 12:50 p.m., is selected.</p>
                              <div class="figure" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-B1F609C0-E9AB-4B8D-9DC9-CAE181186457"><img src="img/awr_snapshot2_end2.gif" alt="Description of awr_snapshot2_end2.gif follows" title="Description of awr_snapshot2_end2.gif follows" longdesc="img_text/awr_snapshot2_end2.html"><br><a href="img_text/awr_snapshot2_end2.html">Description of the illustration awr_snapshot2_end2.gif</a></div>
                              <!-- class="figure" -->
                              <p>The Compare Periods: Review page appears.</p>
                              <div class="figure" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-FF877072-DC64-42E3-A175-CDD1BE2523F9"><img src="img/awr2_review.gif" alt="Description of awr2_review.gif follows" title="Description of awr2_review.gif follows" longdesc="img_text/awr2_review.html"><br><a href="img_text/awr2_review.html">Description of the illustration awr2_review.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__CACEFBFG">
                              <p>Review the periods to be included in the report and then click <span class="bold">Finish</span>.
                              </p>
                              <p>The Compare Periods: Results page appears. </p>
                              <p>Data from the selected periods appears under the <span>General</span> subpage. You can view data per second or per transaction by selecting an option from the View Data list.
                              </p>
                              <div class="infoboxnote" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-9BB435F1-314E-4DF3-9F74-45A7758892EA">
                                 <p class="notep1">Note:</p>
                                 <p>If the time periods have different lengths, then the data is normalized over database time before calculating the difference so that periods of different lengths can be compared.</p>
                              </div>
                              <p>In this example, almost every metric shows that more resources were consumed in the first period. The bar graphs indicate the proportions of the values in the two periods. The absence of bars indicates equivalent values. The report for this example shows significantly more database block changes per second and parse time in the first period than in the second.</p>
                              <div class="figure" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-DFF0AA14-E62D-4A71-9FB2-02359FAF001C"><img src="img/awr2_results_general.gif" alt="Description of awr2_results_general.gif follows" title="Description of awr2_results_general.gif follows" longdesc="img_text/awr2_results_general.html"><br><a href="img_text/awr2_results_general.html">Description of the illustration awr2_results_general.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Click <span class="bold">Report</span> to view the report.
                              </p>
                              <p>The Processing: View Report page appears while the report is being generated. After it completes, the report appears.</p>
                           </li>
                           <li>
                              <p>Optionally, do the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To change periods, click <span class="bold">Change Periods</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To save the report as an HTML file<a id="d17088e1871" class="indexterm-anchor"></a>, click <span class="bold">Save to File</span>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-CAC272D1-0E54-42C6-8831-B23C3702D0C3__GUID-97B32061-3B4F-4D72-8161-8CF773CFD6A8">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-A4600C0D-286F-4B0C-9397-ACEA363E1EF8">Creating a Baseline</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313">Using the AWR Compare Periods Reports</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT525"></a><div class="props_rev_3"><a id="GUID-E03E4B6C-11C5-48E0-8078-25C9D9AB6684" name="GUID-E03E4B6C-11C5-48E0-8078-25C9D9AB6684"></a><h4 id="TDPPT-GUID-E03E4B6C-11C5-48E0-8078-25C9D9AB6684" class="sect4"><span class="enumeration_section">9.2.2 </span>Comparing Current System Performance to a Baseline Period
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d17088e1978" class="indexterm-anchor"></a>You may have noticed a performance change on a production system and would like to know why, or you may have implemented a change to a production system and want to know the effect of the change, such as increased concurrency waits. 
                        </p>
                        <p>The Compare Period ADDM compares the performance of the database server in two time periods, and returns a report describing the performance changes and the root origin of the changes. The Advisor can analyze any Oracle RDBMS version 10.2.0.4 or later monitored by Cloud Control. The following procedure explains how to initiate a report from the Compare Period ADDM.</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>From the Performance menu, select <span class="bold">AWR</span>, then <span class="bold">Compare Period ADDM</span>.</span></li>
                        <li class="stepexpand"><span>From the Run Compare Period ADDM page, specify the desired comparison and base periods:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Comparison Period</span> — Generally represents an improperly functioning time period. However, you could also use the advisor to understand why performance has improved now when compared with an earlier time period.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Base Period</span> — Represents a known (baseline or reference) period in which the database is functioning properly. You should select a base period in which the performance was acceptable, and the workload was as similar or identical as possible.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Run</span> to display the Database Compare Period Report.</span></li>
                        <li class="stepexpand"><span>Examine the sections of the report to understand the performance change between the two periods and the cause of the change:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Overview</span></p>
                                    <p>This portion of the report shows SQL commonality, which is the comparability between the base and comparison periods based on the average resource consumption of the SQL statements common to both periods.</p>
                                    <p>A commonality value of 100% means that the workload "signature" in both time periods is identical. A value of 0% means that the two time periods have no items in common for the specific workload dimension.</p>
                                    <p>Commonality is based on the type of input (that is, which SQL is executing) as well as the load of the executing SQL statements. Consequently, SQL statements running in only one time period, but not consuming significant time, do not affect commonality. Therefore, two workloads could have a commonality of 100% even if some SQL statements are running only in one of the two periods, provided that these SQL statements do not consume significant resources.</p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Configuration</span></p>
                                    <p>The information displayed shows base period and comparison period values for various parameters categorized by instance, host, and database.</p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Findings</span></p>
                                    <p>The findings can show performance improvements and identify the major performance differences caused by system changes. For negative outcomes, if you understand and remove the cause, the negative outcome can be eliminated.</p>
                                    <p>The values shown for the Base Period and Comparison Period represent performance with regard to database time.</p>
                                    <p>The Change Impact value represents a measurement of the scale of a change in performance from one time period to another. It is applicable to issues or items measured by the total database time they consumed in each time period. The absolute values are sorted in descending order.</p>
                                    <p>If the value is positive, an improvement has occurred, and if the value is negative, a regression has occurred. For instance, a change impact of -200% means that period 2 is three times as slow as period 1.</p>
                                    <p>You can run performance tuning tools, such as ADDM and the SQL Tuning Advisor, to fix issues in the comparison period to improve general system performance.</p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Resources</span></p>
                                    <p>The information shown here provides a summary of the division of database time for both time periods, and shows the resource usage for CPU, memory, I/O, and interconnect (Oracle RAC only).</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Based on your observations, decide how to proceed to resolve performance regressions, then implement your action plan.</span></li>
                     </ol>
                  </div>
               </div><a id="TDPPT138"></a><div class="props_rev_3"><a id="GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB" name="GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB"></a><h4 id="TDPPT-GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB" class="sect4"><span class="enumeration_section">9.2.3 </span>Comparing Two Pairs of Snapshots
                  </h4>
                  <div>
                     <div class="section">
                        <p>If an existing baseline is unavailable, then you can compare database performance by using two arbitrary pairs of snapshots. Use one pair taken when the database is performing optimally, and another pair when the database is performing poorly. At least four snapshots must be available.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__GUID-533820B8-FC40-4051-935C-3C8C946B5DA4">To compare performance using two pairs of snapshots:</p>
                        <ol>
                           <li>
                              <p>Access the Database Home page.</p>
                              <p>See <span class="q">"<a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">Accessing the Database Home Page</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Performance</span> menu, select <span class="bold">AWR</span>, then <span class="bold">Compare Periods Reports</span>.
                              </p>
                              <p>If the Database Login page appears, then log in as a user with administrator privileges. The Run Compare Periods Report page appears.</p>
                           </li>
                           <li id="GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__CACDEAAF">
                              <p>In First Period, select <span class="bold">By Snapshot</span>.
                              </p>
                           </li>
                           <li>
                              <p>In Begin Snapshot, click the magnifying glass icon.</p>
                              <p>The Search and Select: Snapshots page appears.</p>
                           </li>
                           <li>
                              <p>Select the starting point for the first snapshot period to be included in the report, and then click <span class="bold">Select</span>.
                              </p>
                              <p>You are returned to the Run Compare Periods Report page.</p>
                           </li>
                           <li>
                              <p>In End Snapshot, click the magnifying glass icon.</p>
                              <p>The Search and Select: Snapshots page appears.</p>
                           </li>
                           <li id="GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__CACIEHGH">
                              <p>Select the ending point for the first snapshot period to be included in the report, and then click <span class="bold">Select</span>.
                              </p>
                              <p>You are returned to the Run Compare Periods Report page.</p>
                           </li>
                           <li>
                              <p>Under Second Period, repeat Step <a href="resolving-performance-degradation-over-time.html#GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__CACDEAAF">3</a> through Step <a href="resolving-performance-degradation-over-time.html#GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__CACIEHGH">7</a>.
                              </p>
                           </li>
                           <li id="GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__CACDIBBC">
                              <p>Click <span class="bold">Generate Report</span>.
                              </p>
                              <p>The Report Results section appears on the Run Compare Periods Report page. The section contains the Workload Repository Compare Period Report.</p>
                           </li>
                           <li>
                              <p>Optionally, do the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To change periods, repeat Step <a href="resolving-performance-degradation-over-time.html#GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__CACDEAAF">3</a> through Step <a href="resolving-performance-degradation-over-time.html#GUID-380B0F08-C1AD-4031-BD0F-6044D188D6FB__CACDIBBC">9</a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To save the report as an HTML file<a id="d17088e2237" class="indexterm-anchor"></a>, click <span class="bold">Save to File</span>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT428"></a><a id="TDPPT092"></a><div class="props_rev_3"><a id="GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313" name="GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313"></a><h3 id="TDPPT-GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313" class="sect3"><span class="enumeration_section">9.3 </span>Using the AWR Compare Periods Reports
               </h3>
               <div>
                  <p>After an AWR Compare Periods report<a id="d17088e2332" class="indexterm-anchor"></a> is generated for the time periods you want to compare, you can use it to analyze performance degradation. To learn how to create the report, see <span class="q">"<a href="resolving-performance-degradation-over-time.html#GUID-A2C52987-2A76-47CC-81D2-37C67A2ED486">Running the AWR Compare Periods Reports</a>"</span>.
                  </p>
                  <p><a href="resolving-performance-degradation-over-time.html#GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313__BABIEEAI">Figure 9-1</a> shows a portion of an AWR Compare Periods report.
                  </p>
                  <div class="figure" id="GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313__BABIEEAI">
                     <p class="titleinfigure">Figure 9-1 AWR Compare Periods Report</p><img src="img/awr_report.gif" alt="Description of Figure 9-1 follows" title="Description of Figure 9-1 follows" longdesc="img_text/awr_report.html"><br><a href="img_text/awr_report.html">Description of "Figure 9-1 AWR Compare Periods Report"</a></div>
                  <!-- class="figure" -->
                  <p>The AWR Compare Periods report is divided into the following sections:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-904381EB-84A6-49C6-855A-E9B3DEF120AD">Summary of the AWR Compare Periods Report</a></p>
                     </li>
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-F51C37C7-077B-4534-B057-C39FBF71EC03">Details of the AWR Compare Periods Report</a></p>
                     </li>
                     <li>
                        <p><a href="resolving-performance-degradation-over-time.html#GUID-9E201F34-C7A4-4866-B73E-D17C9F64D7B0">Supplemental Information in the AWR Compare Periods Report</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT093"></a><div class="props_rev_3"><a id="GUID-904381EB-84A6-49C6-855A-E9B3DEF120AD" name="GUID-904381EB-84A6-49C6-855A-E9B3DEF120AD"></a><h4 id="TDPPT-GUID-904381EB-84A6-49C6-855A-E9B3DEF120AD" class="sect4"><span class="enumeration_section">9.3.1 </span>Summary of the AWR Compare Periods Report
                  </h4>
                  <div>
                     <p>The report summary<a id="d17088e2452" class="indexterm-anchor"></a> is at the beginning of the AWR Compare Periods report, and summarizes information about the snapshot sets and loads used in the report. The report summary contains the following sections:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-E3EF2DC2-DFC1-439F-BF86-02894D1CA562">Snapshot Sets</a></p>
                        </li>
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-CA404B4A-27A6-4611-B4DC-E347D80629FD">Host Configuration Comparison</a></p>
                        </li>
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-13DA0DF7-322C-46A5-A5A0-A39AAF46D730">Cache Sizes</a></p>
                        </li>
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-4CF5AA67-BDD0-4E32-A89D-79353D605704">Load Profile</a></p>
                        </li>
                        <li>
                           <p><a href="resolving-performance-degradation-over-time.html#GUID-7B828612-4394-4D4B-9185-288FCBF025A8">Top Timed Events</a></p>
                        </li>
                     </ul>
                  </div><a id="TDPPT094"></a><div class="props_rev_3"><a id="GUID-E3EF2DC2-DFC1-439F-BF86-02894D1CA562" name="GUID-E3EF2DC2-DFC1-439F-BF86-02894D1CA562"></a><h5 id="TDPPT-GUID-E3EF2DC2-DFC1-439F-BF86-02894D1CA562" class="sect5"><span class="enumeration_section">9.3.1.1 </span>Snapshot Sets
                     </h5>
                     <div>
                        <p>The Snapshot Sets section displays information about the snapshot sets used for this report, such as instance, host, and snapshot information.</p>
                        <p>In the example shown in <a href="resolving-performance-degradation-over-time.html#GUID-E3F60CFB-F707-42BD-B2CE-09974F6AF313__BABIEEAI">Figure 9-1</a>, the first snapshot period corresponds to the time when performance was stable on February 7 from 10:50 to 11:20. The second snapshot period corresponds to the time when performance degradation occurred on the same day from 12:50 to 13:00.
                        </p>
                     </div>
                  </div><a id="TDPPT095"></a><div class="props_rev_3"><a id="GUID-CA404B4A-27A6-4611-B4DC-E347D80629FD" name="GUID-CA404B4A-27A6-4611-B4DC-E347D80629FD"></a><h5 id="TDPPT-GUID-CA404B4A-27A6-4611-B4DC-E347D80629FD" class="sect5"><span class="enumeration_section">9.3.1.2 </span>Host Configuration Comparison
                     </h5>
                     <div>
                        <p>The Host Configuration Comparison section compares the host configurations used in the two snapshot sets. For example, the report compares physical memory and number of CPUs. Differences in the configurations are quantified as percentages in the %Diff column.</p>
                     </div>
                  </div><a id="TDPPT314"></a><div class="props_rev_3"><a id="GUID-13DA0DF7-322C-46A5-A5A0-A39AAF46D730" name="GUID-13DA0DF7-322C-46A5-A5A0-A39AAF46D730"></a><h5 id="TDPPT-GUID-13DA0DF7-322C-46A5-A5A0-A39AAF46D730" class="sect5"><span class="enumeration_section">9.3.1.3 </span>Cache Sizes
                     </h5>
                     <div>
                        <p>The Cache Sizes section compares the database configurations used in the two snapshot sets. For example, the report compares the SGA and log buffer size. Differences in the configurations are quantified as percentages in the %Diff column.</p>
                     </div>
                  </div><a id="TDPPT096"></a><div class="props_rev_3"><a id="GUID-4CF5AA67-BDD0-4E32-A89D-79353D605704" name="GUID-4CF5AA67-BDD0-4E32-A89D-79353D605704"></a><h5 id="TDPPT-GUID-4CF5AA67-BDD0-4E32-A89D-79353D605704" class="sect5"><span class="enumeration_section">9.3.1.4 </span>Load Profile
                     </h5>
                     <div>
                        <p>The Load Profile section compares the loads used in the two snapshot sets. Differences in the loads are quantified as percentages in the %Diff column.</p>
                        <div class="figure" id="GUID-4CF5AA67-BDD0-4E32-A89D-79353D605704__GUID-A2C21E7D-5DAD-416A-A52C-942F14D3B8CB"><img src="img/awr_load_profile.gif" alt="Description of awr_load_profile.gif follows" title="Description of awr_load_profile.gif follows" longdesc="img_text/awr_load_profile.html"><br><a href="img_text/awr_load_profile.html">Description of the illustration awr_load_profile.gif</a></div>
                        <!-- class="figure" -->
                        <p>In this example, the DB time per second was 100% higher in the first period. CPU time per second was 100% higher.</p>
                     </div>
                  </div><a id="TDPPT097"></a><div class="props_rev_3"><a id="GUID-7B828612-4394-4D4B-9185-288FCBF025A8" name="GUID-7B828612-4394-4D4B-9185-288FCBF025A8"></a><h5 id="TDPPT-GUID-7B828612-4394-4D4B-9185-288FCBF025A8" class="sect5"><span class="enumeration_section">9.3.1.5 </span>Top Timed Events
                     </h5>
                     <div>
                        <p>The Top Timed Events section is one of the most useful sections in the report. This section displays the five timed events or operations that consumed the highest percentage of total DB time in each of the snapshot sets.</p>
                        <div class="figure" id="GUID-7B828612-4394-4D4B-9185-288FCBF025A8__GUID-8DFE6EE2-31B2-4F47-84A6-CDE3AF624D57"><img src="img/awr_top5_timed_events.gif" alt="Description of awr_top5_timed_events.gif follows" title="Description of awr_top5_timed_events.gif follows" longdesc="img_text/awr_top5_timed_events.html"><br><a href="img_text/awr_top5_timed_events.html">Description of the illustration awr_top5_timed_events.gif</a></div>
                        <!-- class="figure" -->
                        <p>In this example, CPU time and the number of waits for database file sequential reads are significantly higher in the first period than in the second.</p>
                     </div>
                  </div>
               </div><a id="TDPPT315"></a><div class="props_rev_3"><a id="GUID-F51C37C7-077B-4534-B057-C39FBF71EC03" name="GUID-F51C37C7-077B-4534-B057-C39FBF71EC03"></a><h4 id="TDPPT-GUID-F51C37C7-077B-4534-B057-C39FBF71EC03" class="sect4"><span class="enumeration_section">9.3.2 </span>Details of the AWR Compare Periods Report
                  </h4>
                  <div>
                     <p>The Report Details<a id="d17088e2992" class="indexterm-anchor"></a> section follows the summary of the AWR Compare Periods report, and provides statistics about the snapshot sets and loads used in the report. For example, the section includes statistics for time model statistics, wait events, SQL execution time, and instance activity.
                     </p>
                  </div>
               </div><a id="TDPPT319"></a><div class="props_rev_3"><a id="GUID-9E201F34-C7A4-4866-B73E-D17C9F64D7B0" name="GUID-9E201F34-C7A4-4866-B73E-D17C9F64D7B0"></a><h4 id="TDPPT-GUID-9E201F34-C7A4-4866-B73E-D17C9F64D7B0" class="sect4"><span class="enumeration_section">9.3.3 </span>Supplemental Information in the AWR Compare Periods Report
                  </h4>
                  <div>
                     <p>The supplemental information<a id="d17088e3082" class="indexterm-anchor"></a> is at the end of the AWR Compare Periods report, and provides additional information about initialization parameters and SQL statements. The init.ora Parameters section<a id="d17088e3089" class="indexterm-anchor"></a> lists all the initialization parameter values for the first snapshot set. The Complete List of SQL Text section lists each statement by SQL ID and shows the text of the SQL statement.
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='02857.op-rhp-restapi-rhp-workingcopies-post.html'></html><!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>REST APIs for Oracle Database - Create working copy</title>
		<link rel="schema.dcterms" href="http://purl.org/dc/terms/">
		<meta name="dcterms.dateCopyrighted" content="2018, 2019">
		<meta name="dcterms.category" content="database">
		<meta name="dcterms.identifier" content="E96452-02">
		<meta name="dcterms.isVersionOf" content="DBRST">
		<meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
		
        <link rel="stylesheet" href="/sp_common/rest-template/ohc-rest-template/css/rest.css">
        <script>
            document.write('<style type="text/css">');
            document.write('body > .noscript, body > .noscript ~ * { opacity: 0; }');
            document.write('</style>');
        </script>
        <script data-main="/sp_common/rest-template/ohc-rest-template/js/rest-config" src="/sp_common/rest-template/requirejs/require.js"></script>
        <script>
            if(window.require === undefined) {
                document.write('<script data-main="sp_common/rest-template/ohc-rest-template/js/rest-config" src="sp_common/rest-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/rest-template/ohc-rest-template/css/rest.css" rel="stylesheet">');
            }
        </script>
		
		<script type="application/json" id="ssot-metadata" space="preserve">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>

        <meta name="description" content="Provide consumers the ability to perform operations with different Oracle Database features through a web REST API that can be easily adopted.">
        <meta property="og:site_name" content="Oracle Help Center">
        <meta property="og:title" content="REST APIs for Oracle Database">
        <meta property="og:description" content="Provide consumers the ability to perform operations with different Oracle Database features through a web REST API that can be easily adopted.">
        <meta name="generator" content="Oracle REST API Publisher 1.7.0">
		<meta name="date" content="2019-04-11 10:34:12 UTC">
        <link rel="shortcut icon" href="/sp_common/rest-template/ohc-common/img/favicon.ico">
        <meta name="application-name" content="REST APIs for Oracle Database">
        <link type="application/swagger+json" title="Swagger 2.0" href="swagger.json" rel="alternate">
        <link rel="prev" href="op-rhp-restapi-rhp-workingcopies-workingcopyid-databases-post.html" title="Previous" type="text/html">
        <link rel="next" href="op-rhp-restapi-rhp-workingcopies-get.html" title="Next" type="text/html">
    
    <meta name="dcterms.created" content="2019-04-11T10:36:09+00:00">
    <meta name="dcterms.title" content="REST APIs for Oracle Database">
    <meta name="dcterms.release" content="Release 19">
  </head>
    <body>
        <div class="noscript alert alert-danger text-center" role="alert">
            <a class="pull-left" href="op-rhp-restapi-rhp-workingcopies-workingcopyid-databases-post.html"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
            <a class="pull-right" href="op-rhp-restapi-rhp-workingcopies-get.html">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
            <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        </div>
        <article>

            
            <header id="top">

                <ol class="breadcrumb">
                    <li><a href="index.html">REST APIs for Oracle Database</a></li>
                    <li>Tasks</li>
                    
                    <li>
                        
                        Fleet Patching and Provisioning
                        
                    </li>
                    
                    <li class="active">
                        
                        <a href="api-fleet-patching-and-provisioning-rhp-provisioning-software-homes.html">RHP - Provisioning Software homes</a>
                        
                    </li>
                    
                </ol>
                
                <p class="draftsubtitle"></p>
                
                
                <div>
                	<div class="dropdown btn-group pull-right" style="clear: right;">
                		<button id="dLabel" class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Jump to <span class="caret"></span>
                		</button>
      					<ul class="dropdown-menu" aria-labelledby="dLabel">
          					<li><a href="#request" data-toggle="ignore">Request</a></li>
          					<li><a href="#response" data-toggle="ignore">Response</a></li>
          					
      					</ul>
    				</div>
     				<h2>Create working copy</h2>
     			</div>
                
                <div>
                    <div class="label label-post text-uppercase">post</div>
                    <p><strong>/rhp-restapi/rhp/workingcopies</strong></p>
                </div>
            </header>
            <section>

                <div class="description">Creates a new working copy using an existing gold image</div>

                <h3 id="request">Request</h3>
                

                
                
                <div class="h5">Supported Media Types</div>
                <ul class="media-types">
                
                    <li>application/json</li>
                
                </ul>
                
                

                


                


                
                <div class="h5">Header Parameters</div>
                <div class="schema-container">
                    <ul class="schema-properties">
                        
                        <li><a role="button" data-toggle="collapse" href="#request-header-param-Authorization" aria-expanded="false" aria-controls="request-header-param-Authorization">
                        Authorization: string
                        </a>
                        <div class="collapse" id="request-header-param-Authorization">
                            










































<div>Base64 encoding of the user name and password of the user making the request. For more information, see <a href="Authentication-RHP.html">Authentication for Fleet Patching and Provisioning</a>.</div>




















                        </div>
                        </li>
                        
                    </ul>
                    
                </div>
                


                


                
                <div class="entity">
                <div class="h5 hidden-print">Body (<span class="schema-path"></span>)</div>

                

                
                
                

                <div class="schema-container">
                
                <div id="request-bodyparam-definitions-AddWorkingCopyBody" class="swagger-schema">
    <div class="panel-heading">Root Schema : AddWorkingCopyBody</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-agpath-properties-agpath" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-agpath-properties-agpath">
            agpath(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-agpath-properties-agpath">
                
                
























<div>Read/write path for the persistent Oracle home path.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-asmClientData-properties-asmClientData" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-asmClientData-properties-asmClientData">
            asmClientData(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-asmClientData-properties-asmClientData">
                
                
























<div>File that contains the ASM client data.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-aupath-properties-aupath" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-aupath-properties-aupath">
            aupath(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-aupath-properties-aupath">
                
                
























<div>Read-only gold image path for the persistent Oracle home path.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-auth-properties-auth" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-auth-properties-auth">
            auth(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-auth-properties-auth">
                
                
























<div>Use an authentication plugin to access the remote node.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs-properties-authArgs" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs-properties-authArgs">
            authArgs(optional): 
            object </a> <a href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs" role="button" class="btn btn-default btn-sm btn-xsm">authArgs</a>
            
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs-properties-authArgs">
                
                












<div>Additional Properties Allowed: <a href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs-additionalProperties" role="button" class="btn btn-default btn-sm">additionalProperties</a></div>









<div class="description">Additional properties for the selected authentication plugin.</div>


                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-cardinality-properties-cardinality" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-cardinality-properties-cardinality">
            cardinality(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-cardinality-properties-cardinality">
                
                
























<div>Cardinality for new server pool.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-cdb-properties-cdb" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-cdb-properties-cdb">
            cdb(optional): 
            boolean</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-cdb-properties-cdb">
                
                


















<div>Default Value: <code>false</code></div>







<div>To create database as container database.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-client-properties-client" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-client-properties-client">
            client(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-client-properties-client">
                
                
























<div>Client cluster name</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-clusterManifest-properties-clusterManifest" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-clusterManifest-properties-clusterManifest">
            clusterManifest(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-clusterManifest-properties-clusterManifest">
                
                
























<div>Location of Cluster Manifest File.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-clusterNodes-properties-clusterNodes" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-clusterNodes-properties-clusterNodes">
            clusterNodes(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-clusterNodes-properties-clusterNodes">
                
                
























<div>Comma-separated list of node information on which Oracle Clusterware will be provisioned.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-datafileDestination-properties-datafileDestination" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-datafileDestination-properties-datafileDestination">
            datafileDestination(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-datafileDestination-properties-datafileDestination">
                
                
























<div>Data file destination location or ASM disk group name.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-dbname-properties-dbname" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-dbname-properties-dbname">
            dbname(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-dbname-properties-dbname">
                
                
























<div>Name of database (DB_UNIQUE_NAME) to be provisioned.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-dbtemplate-properties-dbtemplate" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-dbtemplate-properties-dbtemplate">
            dbtemplate(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-dbtemplate-properties-dbtemplate">
                
                
























<div>Absolute file path for the template file or relative path to the image home directory on Rapid Home Provisioning Server.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-dbtype-properties-dbtype" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-dbtype-properties-dbtype">
            dbtype(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-dbtype-properties-dbtype">
                
                




















<div>Allowed Values: <code>[
    &quot;RAC&quot;,
    &quot;RACONENODE&quot;,
    &quot;SINGLE&quot;
]</code></div>





<div>Type of database: Oracle RAC One Node or Oracle RAC or Single Instance.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-eval-properties-eval" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-eval-properties-eval">
            eval(optional): 
            boolean</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-eval-properties-eval">
                
                


















<div>Default Value: <code>false</code></div>







<div>Evaluate without executing the command.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-gnsClientData-properties-gnsClientData" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-gnsClientData-properties-gnsClientData">
            gnsClientData(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-gnsClientData-properties-gnsClientData">
                
                
























<div>File that contains the GNS client data.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-ignorePrereq-properties-ignorePrereq" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-ignorePrereq-properties-ignorePrereq">
            ignorePrereq(optional): 
            boolean</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-ignorePrereq-properties-ignorePrereq">
                
                


















<div>Default Value: <code>false</code></div>







<div>To ignore the CVU pre-requisite checks.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-isfixup-properties-isfixup" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-isfixup-properties-isfixup">
            isfixup(optional): 
            boolean</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-isfixup-properties-isfixup">
                
                


















<div>Default Value: <code>false</code></div>







<div>Execute fixup script. Valid only for Grid Infrastructure provisioning.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-newpool-properties-newpool" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-newpool-properties-newpool">
            newpool(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-newpool-properties-newpool">
                
                
























<div>Server pool name for pool to be created.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-node-properties-node" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-node-properties-node">
            node(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-node-properties-node">
                
                
























<div>Comma-separated list of nodes on which database will be created</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-numberOfPDBs-properties-numberOfPDBs" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-numberOfPDBs-properties-numberOfPDBs">
            numberOfPDBs(optional): 
            integer(int32)</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-numberOfPDBs-properties-numberOfPDBs">
                
                
























<div>Number of PDBs to be created.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-oracleBase-properties-oracleBase" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-oracleBase-properties-oracleBase">
            oracleBase(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-oracleBase-properties-oracleBase">
                
                
























<div>ORACLE_BASE path for provisioning Oracle database home or Oracle Grid Infrastructure home.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-path-properties-path" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-path-properties-path">
            path(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-path-properties-path">
                
                
























<div>Absolute path location of the software home to be imported (For database images, this will be the ORACLE_HOME).</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-pdbName-properties-pdbName" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-pdbName-properties-pdbName">
            pdbName(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-pdbName-properties-pdbName">
                
                
























<div>The pdbName prefix if one or more PDBs need to be created.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-root-properties-root" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-root-properties-root">
            root(optional): 
            boolean</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-root-properties-root">
                
                


















<div>Default Value: <code>false</code></div>







<div>Use root credentials to access the remote node.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-schedule-properties-schedule" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-schedule-properties-schedule">
            schedule(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-schedule-properties-schedule">
                
                
























<div>Preferred time to execute the operation, in ISO-8601 format. For example: 2016-12-21T19:13:17+05.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-serverpool-properties-serverpool" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-serverpool-properties-serverpool">
            serverpool(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-serverpool-properties-serverpool">
                
                
























<div>Comma-separated list of existing server pool names.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-setupSSH-properties-setupSSH" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-setupSSH-properties-setupSSH">
            setupSSH(optional): 
            boolean</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-setupSSH-properties-setupSSH">
                
                


















<div>Default Value: <code>false</code></div>







<div>sets up passwordless SSH user equivalence on the remote nodes for the provisioning user.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-storagetype-properties-storagetype" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-storagetype-properties-storagetype">
            storagetype(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-storagetype-properties-storagetype">
                
                




















<div>Allowed Values: <code>[
    &quot;NFS&quot;,
    &quot;LOCAL&quot;,
    &quot;RHP_MANAGED&quot;
]</code></div>





<div>Type of storage for the home.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-sudoPath-properties-sudoPath" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-sudoPath-properties-sudoPath">
            sudoPath(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-sudoPath-properties-sudoPath">
                
                
























<div>location of sudo binary.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-sudoUser-properties-sudoUser" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-sudoUser-properties-sudoUser">
            sudoUser(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-sudoUser-properties-sudoUser">
                
                
























<div>perform super user operations as sudo user name.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-superUserPasswd-properties-superUserPasswd" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-superUserPasswd-properties-superUserPasswd">
            superUserPasswd(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-superUserPasswd-properties-superUserPasswd">
                
                
























<div>The password for the super user account.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-targetnode-properties-targetnode" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-targetnode-properties-targetnode">
            targetnode(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-targetnode-properties-targetnode">
                
                
























<div>Node on which operation needs to be executed</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-user-properties-user" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-user-properties-user">
            user(optional): 
            string</a>
            <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-user-properties-user">
                
                
























<div>Name of the user for whom the software home is being provisioned.</div>




                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;properties&quot;:{
        &quot;client&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Client cluster name&quot;
        },
        &quot;targetnode&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Node on which operation needs to be executed&quot;
        },
        &quot;setupSSH&quot;:{
            &quot;type&quot;:&quot;boolean&quot;,
            &quot;default&quot;:false,
            &quot;description&quot;:&quot;sets up passwordless SSH user equivalence on the remote nodes for the provisioning user.&quot;
        },
        &quot;node&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Comma-separated list of nodes on which database will be created&quot;
        },
        &quot;root&quot;:{
            &quot;type&quot;:&quot;boolean&quot;,
            &quot;default&quot;:false,
            &quot;description&quot;:&quot;Use root credentials to access the remote node.&quot;
        },
        &quot;sudoUser&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;perform super user operations as sudo user name.&quot;
        },
        &quot;sudoPath&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;location of sudo binary.&quot;
        },
        &quot;superUserPasswd&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;The password for the super user account.&quot;
        },
        &quot;authArgs&quot;:{
            &quot;type&quot;:&quot;object&quot;,
            &quot;description&quot;:&quot;Additional properties for the selected authentication plugin.&quot;,
            &quot;additionalProperties&quot;:{
                &quot;type&quot;:&quot;string&quot;
            }
        },
        &quot;auth&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Use an authentication plugin to access the remote node.&quot;
        },
        &quot;eval&quot;:{
            &quot;type&quot;:&quot;boolean&quot;,
            &quot;default&quot;:false,
            &quot;description&quot;:&quot;Evaluate without executing the command.&quot;
        },
        &quot;schedule&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Preferred time to execute the operation, in ISO-8601 format. For example: 2016-12-21T19:13:17+05.&quot;
        },
        &quot;user&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Name of the user for whom the software home is being provisioned.&quot;
        },
        &quot;clusterNodes&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Comma-separated list of node information on which Oracle Clusterware will be provisioned.&quot;
        },
        &quot;isfixup&quot;:{
            &quot;type&quot;:&quot;boolean&quot;,
            &quot;default&quot;:false,
            &quot;description&quot;:&quot;Execute fixup script. Valid only for Grid Infrastructure provisioning.&quot;
        },
        &quot;asmClientData&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;File that contains the ASM client data.&quot;
        },
        &quot;gnsClientData&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;File that contains the GNS client data.&quot;
        },
        &quot;clusterManifest&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Location of Cluster Manifest File.&quot;
        },
        &quot;oracleBase&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;ORACLE_BASE path for provisioning Oracle database home or Oracle Grid Infrastructure home.&quot;
        },
        &quot;agpath&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Read/write path for the persistent Oracle home path.&quot;
        },
        &quot;aupath&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Read-only gold image path for the persistent Oracle home path.&quot;
        },
        &quot;ignorePrereq&quot;:{
            &quot;type&quot;:&quot;boolean&quot;,
            &quot;default&quot;:false,
            &quot;description&quot;:&quot;To ignore the CVU pre-requisite checks.&quot;
        },
        &quot;path&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Absolute path location of the software home to be imported (For database images, this will be the ORACLE_HOME).&quot;
        },
        &quot;dbtemplate&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Absolute file path for the template file or relative path to the image home directory on Rapid Home Provisioning Server.&quot;
        },
        &quot;dbname&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Name of database (DB_UNIQUE_NAME) to be provisioned.&quot;
        },
        &quot;cardinality&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Cardinality for new server pool.&quot;
        },
        &quot;storagetype&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Type of storage for the home.&quot;,
            &quot;enum&quot;:[
                &quot;NFS&quot;,
                &quot;LOCAL&quot;,
                &quot;RHP_MANAGED&quot;
            ]
        },
        &quot;datafileDestination&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Data file destination location or ASM disk group name.&quot;
        },
        &quot;serverpool&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Comma-separated list of existing server pool names.&quot;
        },
        &quot;numberOfPDBs&quot;:{
            &quot;type&quot;:&quot;integer&quot;,
            &quot;format&quot;:&quot;int32&quot;,
            &quot;description&quot;:&quot;Number of PDBs to be created.&quot;
        },
        &quot;newpool&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Server pool name for pool to be created.&quot;
        },
        &quot;pdbName&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;The pdbName prefix if one or more PDBs need to be created.&quot;
        },
        &quot;cdb&quot;:{
            &quot;type&quot;:&quot;boolean&quot;,
            &quot;default&quot;:false,
            &quot;description&quot;:&quot;To create database as container database.&quot;
        },
        &quot;dbtype&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;enum&quot;:[
                &quot;RAC&quot;,
                &quot;RACONENODE&quot;,
                &quot;SINGLE&quot;
            ],
            &quot;description&quot;:&quot;Type of database: Oracle RAC One Node or Oracle RAC or Single Instance.&quot;
        }
    }
}</code></pre>
    

    

    

    

    

    

    


</div>

                
                <div id="request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs" class="swagger-schema">
    <div class="panel-heading">Nested Schema : authArgs</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
       <div class="h5">Additional Properties Allowed</div>

       <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
       <ul class="schema-properties">
           
           <li><a role="button" data-toggle="prop-collapse" href="#request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs-additionalProperties-additional-0" aria-expanded="false" aria-controls="request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs-additionalProperties-additional-0">
           
               string</a>
           
           <div class="collapse schema-summary" id="request-bodyparam-definitions-AddWorkingCopyBody-properties-authArgs-additionalProperties-additional-0">
               
               



























               
           </div>
           </li>
           
       </ul>
       <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;description&quot;:&quot;Additional properties for the selected authentication plugin.&quot;,
    &quot;additionalProperties&quot;:{
        &quot;type&quot;:&quot;string&quot;
    }
}</code></pre>
    
    

    

    

    

    
    <div>Additional properties for the selected authentication plugin.</div>
    

    

    

    

    

    

    

    

    

    


</div>

                
                </div>

                
                </div>

                

                

                
                
                <div class="h5">Security</div>
                <div class="schema-container">
                    <ul class="schema-properties">
                        
                        <li><a role="button" data-toggle="collapse" href="#security-param-basicAuthentication" aria-expanded="false" aria-controls="security-param-basicAuthentication">
                        basicAuthentication: basic
                        </a>
                        <div class="collapse" id="security-param-basicAuthentication">
                            


<div>Type: <code>basic</code></div>





                        </div>
                        </li>
                        
                    </ul>
                </div>
                
                
                
                <a style="float: right" href="#top">Back to Top</a>

                <h3 id="response">Response</h3>

                
                
                <div class="h5">Supported Media Types</div>
                <ul class="media-types">
                    
                    <li>application/json</li>
                    
                </ul>
                
                



                
                <div class="response">
                <h4 class="response-code range-200">202 Response</h4>
                <div class="response-body">
                <div>Accepted. A JSON object containing job resource details of the accepted operation to obtain status and output of the progress.</div>

                
                <div class="h5">Headers</div>
                <div class="schema-container">
                    <ul class="schema-properties">
                        
                        <li><a role="button" data-toggle="collapse" href="#202-response-header-Location" aria-expanded="false" aria-controls="202-response-header-Location">
                        Location: string
                        </a>
                        <div class="collapse" id="202-response-header-Location">
                            










































<div>URL to the job that will execute the operation</div>




















                        </div>
                        </li>
                        
                    </ul>
                    
                </div>
                


                
                    <div class="entity">
                    <div class="h5 hidden-print">Body (<span class="schema-path"></span>)</div>


                    <div class="schema-container">
                    
                    <div id="202-definitions-jobResource" class="swagger-schema">
    <div class="panel-heading">Root Schema : jobResource</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobResource-properties-jobId-properties-jobId" aria-expanded="false" aria-controls="202-definitions-jobResource-properties-jobId-properties-jobId">
            jobId(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-jobResource-properties-jobId-properties-jobId">
                
                



























                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobResource-properties-links-properties-links" aria-expanded="false" aria-controls="202-definitions-jobResource-properties-links-properties-links">
            links(optional): 
            array </a> <a href="#202-definitions-jobResource-properties-links" role="button" class="btn btn-default btn-sm btn-xsm">links</a>
            
            <div class="collapse schema-summary" id="202-definitions-jobResource-properties-links-properties-links">
                
                





















                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobResource-properties-operation-properties-operation" aria-expanded="false" aria-controls="202-definitions-jobResource-properties-operation-properties-operation">
            operation(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-jobResource-properties-operation-properties-operation">
                
                



























                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobOutputResource-properties-output" aria-expanded="false" aria-controls="202-definitions-jobOutputResource-properties-output">
            output(optional): 
            object </a> <a href="#202-definitions-jobOutputResource" role="button" class="btn btn-default btn-sm btn-xsm">jobOutputResource</a>
            
            <div class="collapse schema-summary" id="202-definitions-jobOutputResource-properties-output">
                
                





















                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobResource-properties-status-properties-status" aria-expanded="false" aria-controls="202-definitions-jobResource-properties-status-properties-status">
            status(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-jobResource-properties-status-properties-status">
                
                



























                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;properties&quot;:{
        &quot;jobId&quot;:{
            &quot;type&quot;:&quot;string&quot;
        },
        &quot;status&quot;:{
            &quot;type&quot;:&quot;string&quot;
        },
        &quot;operation&quot;:{
            &quot;type&quot;:&quot;string&quot;
        },
        &quot;output&quot;:{
            &quot;$ref&quot;:&quot;#/definitions/jobOutputResource&quot;
        },
        &quot;links&quot;:{
            &quot;type&quot;:&quot;array&quot;,
            &quot;items&quot;:{
                &quot;$ref&quot;:&quot;#/definitions/singleResourceLinks&quot;
            }
        }
    }
}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    <div id="202-definitions-jobResource-properties-links" class="swagger-schema">
    <div class="panel-heading">Nested Schema : links</div>
    
      
      <div class="schema-type">Type: <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-singleResourceLinks-items-0" aria-expanded="false" aria-controls="202-definitions-singleResourceLinks-items-0">
            Array of: 
                object </a> <a href="#202-definitions-singleResourceLinks" role="button" class="btn btn-default btn-sm btn-xsm">singleResourceLinks</a>
            
            <div class="collapse schema-summary" id="202-definitions-singleResourceLinks-items-0">
                
                





















                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;array&quot;,
    &quot;items&quot;:{
        &quot;$ref&quot;:&quot;#/definitions/singleResourceLinks&quot;
    }
}</code></pre>
    

    

    

    

    

    


</div>

                    
                    <div id="202-definitions-jobOutputResource" class="swagger-schema">
    <div class="panel-heading">Nested Schema : jobOutputResource</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobOutputResource-properties-hasMore-properties-hasMore" aria-expanded="false" aria-controls="202-definitions-jobOutputResource-properties-hasMore-properties-hasMore">
            hasMore(optional): 
            boolean</a>
            <div class="collapse schema-summary" id="202-definitions-jobOutputResource-properties-hasMore-properties-hasMore">
                
                


















<div>Default Value: <code>false</code></div>










                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobOutputResource-properties-limit-properties-limit" aria-expanded="false" aria-controls="202-definitions-jobOutputResource-properties-limit-properties-limit">
            limit(optional): 
            integer</a>
            <div class="collapse schema-summary" id="202-definitions-jobOutputResource-properties-limit-properties-limit">
                
                



























                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobOutputResource-properties-links-properties-links" aria-expanded="false" aria-controls="202-definitions-jobOutputResource-properties-links-properties-links">
            links(optional): 
            array </a> <a href="#202-definitions-jobOutputResource-properties-links" role="button" class="btn btn-default btn-sm btn-xsm">links</a>
            
            <div class="collapse schema-summary" id="202-definitions-jobOutputResource-properties-links-properties-links">
                
                





















                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobOutputResource-properties-offset-properties-offset" aria-expanded="false" aria-controls="202-definitions-jobOutputResource-properties-offset-properties-offset">
            offset(optional): 
            integer</a>
            <div class="collapse schema-summary" id="202-definitions-jobOutputResource-properties-offset-properties-offset">
                
                



























                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-jobOutputResource-properties-output-properties-output" aria-expanded="false" aria-controls="202-definitions-jobOutputResource-properties-output-properties-output">
            output(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-jobOutputResource-properties-output-properties-output">
                
                



























                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;properties&quot;:{
        &quot;output&quot;:{
            &quot;type&quot;:&quot;string&quot;
        },
        &quot;limit&quot;:{
            &quot;type&quot;:&quot;integer&quot;
        },
        &quot;offset&quot;:{
            &quot;type&quot;:&quot;integer&quot;
        },
        &quot;hasMore&quot;:{
            &quot;type&quot;:&quot;boolean&quot;,
            &quot;default&quot;:false
        },
        &quot;links&quot;:{
            &quot;type&quot;:&quot;array&quot;,
            &quot;items&quot;:{
                &quot;$ref&quot;:&quot;#/definitions/collectionResourceLinks&quot;
            }
        }
    }
}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    <div id="202-definitions-singleResourceLinks" class="swagger-schema">
    <div class="panel-heading">Nested Schema : singleResourceLinks</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-singleResourceLinks-properties-href-properties-href" aria-expanded="false" aria-controls="202-definitions-singleResourceLinks-properties-href-properties-href">
            href(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-singleResourceLinks-properties-href-properties-href">
                
                
























<div>The referenced hyperlink element provided in an absolute format.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-singleResourceLinks-properties-rel-properties-rel" aria-expanded="false" aria-controls="202-definitions-singleResourceLinks-properties-rel-properties-rel">
            rel(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-singleResourceLinks-properties-rel-properties-rel">
                
                




















<div>Allowed Values: <code>[
    &quot;self&quot;,
    &quot;collection&quot;,
    &quot;up&quot;,
    &quot;describedBy&quot;
]</code></div>





<div>Specify the type of relationship the link has with the described resource.</div>




                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;properties&quot;:{
        &quot;rel&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Specify the type of relationship the link has with the described resource.&quot;,
            &quot;enum&quot;:[
                &quot;self&quot;,
                &quot;collection&quot;,
                &quot;up&quot;,
                &quot;describedBy&quot;
            ]
        },
        &quot;href&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;The referenced hyperlink element provided in an absolute format.&quot;
        }
    }
}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    <div id="202-definitions-jobOutputResource-properties-links" class="swagger-schema">
    <div class="panel-heading">Nested Schema : links</div>
    
      
      <div class="schema-type">Type: <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-collectionResourceLinks-items-0" aria-expanded="false" aria-controls="202-definitions-collectionResourceLinks-items-0">
            Array of: 
                object </a> <a href="#202-definitions-collectionResourceLinks" role="button" class="btn btn-default btn-sm btn-xsm">collectionResourceLinks</a>
            
            <div class="collapse schema-summary" id="202-definitions-collectionResourceLinks-items-0">
                
                





















                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;array&quot;,
    &quot;items&quot;:{
        &quot;$ref&quot;:&quot;#/definitions/collectionResourceLinks&quot;
    }
}</code></pre>
    

    

    

    

    

    


</div>

                    
                    <div id="202-definitions-collectionResourceLinks" class="swagger-schema">
    <div class="panel-heading">Nested Schema : collectionResourceLinks</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-collectionResourceLinks-properties-href-properties-href" aria-expanded="false" aria-controls="202-definitions-collectionResourceLinks-properties-href-properties-href">
            href(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-collectionResourceLinks-properties-href-properties-href">
                
                
























<div>The referenced hyperlink element provided in an absolute format with the correct URL parameters.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#202-definitions-collectionResourceLinks-properties-rel-properties-rel" aria-expanded="false" aria-controls="202-definitions-collectionResourceLinks-properties-rel-properties-rel">
            rel(optional): 
            string</a>
            <div class="collapse schema-summary" id="202-definitions-collectionResourceLinks-properties-rel-properties-rel">
                
                




















<div>Allowed Values: <code>[
    &quot;next&quot;,
    &quot;prev&quot;,
    &quot;first&quot;,
    &quot;last&quot;
]</code></div>





<div>Specify the type of relationship the link has with the described resource.</div>




                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;properties&quot;:{
        &quot;rel&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Specify the type of relationship the link has with the described resource.&quot;,
            &quot;enum&quot;:[
                &quot;next&quot;,
                &quot;prev&quot;,
                &quot;first&quot;,
                &quot;last&quot;
            ]
        },
        &quot;href&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;The referenced hyperlink element provided in an absolute format with the correct URL parameters.&quot;
        }
    }
}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    </div>

                    
                    </div>
                
                </div>
                </div>
                
                <div class="response">
                <h4 class="response-code range-400">400 Response</h4>
                <div class="response-body">
                <div>Bad Request. A JSON object containing error details of the issue found while parsing a parameter value or name.</div>

                


                
                    <div class="entity">
                    <div class="h5 hidden-print">Body (<span class="schema-path"></span>)</div>


                    <div class="schema-container">
                    
                    <div id="400-definitions-errorResource" class="swagger-schema">
    <div class="panel-heading">Root Schema : errorResource</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-properties-errorCode-properties-errorCode" aria-expanded="false" aria-controls="400-definitions-errorResource-properties-errorCode-properties-errorCode">
            errorCode(optional): 
            string</a>
            <div class="collapse schema-summary" id="400-definitions-errorResource-properties-errorCode-properties-errorCode">
                
                
























<div>Application specific error code, related to the error message shown at tittle.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-properties-errorDetails-properties-errorDetails" aria-expanded="false" aria-controls="400-definitions-errorResource-properties-errorDetails-properties-errorDetails">
            errorDetails(optional): 
            array </a> <a href="#400-definitions-errorResource-properties-errorDetails" role="button" class="btn btn-default btn-sm btn-xsm">errorDetails</a>
            
            <div class="collapse schema-summary" id="400-definitions-errorResource-properties-errorDetails-properties-errorDetails">
                
                




















<div class="description">If multiple errors are reported they can be organized in a hierarchical structure in this array.</div>


                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-properties-errorPath-properties-errorPath" aria-expanded="false" aria-controls="400-definitions-errorResource-properties-errorPath-properties-errorPath">
            errorPath(optional): 
            string</a>
            <div class="collapse schema-summary" id="400-definitions-errorResource-properties-errorPath-properties-errorPath">
                
                
























<div>XPath or JSON path to indicate where the error occurs.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-properties-instance-properties-instance" aria-expanded="false" aria-controls="400-definitions-errorResource-properties-instance-properties-instance">
            instance(optional): 
            string</a>
            <div class="collapse schema-summary" id="400-definitions-errorResource-properties-instance-properties-instance">
                
                
























<div>URI to the link that provides more detail about the error.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-properties-status-properties-status" aria-expanded="false" aria-controls="400-definitions-errorResource-properties-status-properties-status">
            status(optional): 
            integer</a>
            <div class="collapse schema-summary" id="400-definitions-errorResource-properties-status-properties-status">
                
                
























<div>HTTP status code.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-properties-title-properties-title" aria-expanded="false" aria-controls="400-definitions-errorResource-properties-title-properties-title">
            title(optional): 
            string</a>
            <div class="collapse schema-summary" id="400-definitions-errorResource-properties-title-properties-title">
                
                
























<div>Summary error message.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-properties-type-properties-type" aria-expanded="false" aria-controls="400-definitions-errorResource-properties-type-properties-type">
            type(optional): 
            string</a>
            <div class="collapse schema-summary" id="400-definitions-errorResource-properties-type-properties-type">
                
                
























<div>Link to HTTP error code page.</div>




                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;properties&quot;:{
        &quot;status&quot;:{
            &quot;type&quot;:&quot;integer&quot;,
            &quot;description&quot;:&quot;HTTP status code.&quot;
        },
        &quot;type&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Link to HTTP error code page.&quot;
        },
        &quot;title&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Summary error message.&quot;
        },
        &quot;instance&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;URI to the link that provides more detail about the error.&quot;
        },
        &quot;errorDetails&quot;:{
            &quot;type&quot;:&quot;array&quot;,
            &quot;description&quot;:&quot;If multiple errors are reported they can be organized in a hierarchical structure in this array.&quot;,
            &quot;items&quot;:[
                {
                    &quot;$ref&quot;:&quot;#/definitions/errorResource&quot;
                }
            ]
        },
        &quot;errorPath&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;XPath or JSON path to indicate where the error occurs.&quot;
        },
        &quot;errorCode&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Application specific error code, related to the error message shown at tittle.&quot;
        }
    }
}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    <div id="400-definitions-errorResource-properties-errorDetails" class="swagger-schema">
    <div class="panel-heading">Nested Schema : errorDetails</div>
    
      
      <div class="schema-type">Type: <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <div>If multiple errors are reported they can be organized in a hierarchical structure in this array.</div>
    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#400-definitions-errorResource-items-0" aria-expanded="false" aria-controls="400-definitions-errorResource-items-0">
            Array of: 
                object </a> <a href="#400-definitions-errorResource" role="button" class="btn btn-default btn-sm btn-xsm">errorResource</a>
            
            <div class="collapse schema-summary" id="400-definitions-errorResource-items-0">
                
                





















                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;array&quot;,
    &quot;description&quot;:&quot;If multiple errors are reported they can be organized in a hierarchical structure in this array.&quot;,
    &quot;items&quot;:[
        {
            &quot;$ref&quot;:&quot;#/definitions/errorResource&quot;
        }
    ]
}</code></pre>
    

    

    

    

    

    


</div>

                    
                    </div>

                    
                    </div>
                
                </div>
                </div>
                
                <div class="response">
                <h4 class="response-code range">Default Response</h4>
                <div class="response-body">
                <div>Unexpected error. A JSON object containing error details of the issue while executing the operation.</div>

                


                
                    <div class="entity">
                    <div class="h5 hidden-print">Body (<span class="schema-path"></span>)</div>


                    <div class="schema-container">
                    
                    <div id="default-definitions-errorResource" class="swagger-schema">
    <div class="panel-heading">Root Schema : errorResource</div>
    
      <div class="schema-type">Type: <code>object</code></div>
      
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-properties-errorCode-properties-errorCode" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-errorCode-properties-errorCode">
            errorCode(optional): 
            string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-errorCode-properties-errorCode">
                
                
























<div>Application specific error code, related to the error message shown at tittle.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-properties-errorDetails-properties-errorDetails" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-errorDetails-properties-errorDetails">
            errorDetails(optional): 
            array </a> <a href="#default-definitions-errorResource-properties-errorDetails" role="button" class="btn btn-default btn-sm btn-xsm">errorDetails</a>
            
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-errorDetails-properties-errorDetails">
                
                




















<div class="description">If multiple errors are reported they can be organized in a hierarchical structure in this array.</div>


                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-properties-errorPath-properties-errorPath" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-errorPath-properties-errorPath">
            errorPath(optional): 
            string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-errorPath-properties-errorPath">
                
                
























<div>XPath or JSON path to indicate where the error occurs.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-properties-instance-properties-instance" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-instance-properties-instance">
            instance(optional): 
            string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-instance-properties-instance">
                
                
























<div>URI to the link that provides more detail about the error.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-properties-status-properties-status" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-status-properties-status">
            status(optional): 
            integer</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-status-properties-status">
                
                
























<div>HTTP status code.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-properties-title-properties-title" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-title-properties-title">
            title(optional): 
            string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-title-properties-title">
                
                
























<div>Summary error message.</div>




                
            </div>
            </li>
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-properties-type-properties-type" aria-expanded="false" aria-controls="default-definitions-errorResource-properties-type-properties-type">
            type(optional): 
            string</a>
            <div class="collapse schema-summary" id="default-definitions-errorResource-properties-type-properties-type">
                
                
























<div>Link to HTTP error code page.</div>




                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;object&quot;,
    &quot;properties&quot;:{
        &quot;status&quot;:{
            &quot;type&quot;:&quot;integer&quot;,
            &quot;description&quot;:&quot;HTTP status code.&quot;
        },
        &quot;type&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Link to HTTP error code page.&quot;
        },
        &quot;title&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Summary error message.&quot;
        },
        &quot;instance&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;URI to the link that provides more detail about the error.&quot;
        },
        &quot;errorDetails&quot;:{
            &quot;type&quot;:&quot;array&quot;,
            &quot;description&quot;:&quot;If multiple errors are reported they can be organized in a hierarchical structure in this array.&quot;,
            &quot;items&quot;:[
                {
                    &quot;$ref&quot;:&quot;#/definitions/errorResource&quot;
                }
            ]
        },
        &quot;errorPath&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;XPath or JSON path to indicate where the error occurs.&quot;
        },
        &quot;errorCode&quot;:{
            &quot;type&quot;:&quot;string&quot;,
            &quot;description&quot;:&quot;Application specific error code, related to the error message shown at tittle.&quot;
        }
    }
}</code></pre>
    

    

    

    

    

    

    


</div>

                    
                    <div id="default-definitions-errorResource-properties-errorDetails" class="swagger-schema">
    <div class="panel-heading">Nested Schema : errorDetails</div>
    
      
      <div class="schema-type">Type: <code>array</code></div>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <div>If multiple errors are reported they can be organized in a hierarchical structure in this array.</div>
    

    

    

    

    
        <a href="#" role="button" data-toggle="schema-view" class="toggle-schema pull-right btn btn-default btn-sm btn-xsm">Show Source</a>
        <ul class="schema-properties">
            
            <li><a role="button" data-toggle="prop-collapse" href="#default-definitions-errorResource-items-0" aria-expanded="false" aria-controls="default-definitions-errorResource-items-0">
            Array of: 
                object </a> <a href="#default-definitions-errorResource" role="button" class="btn btn-default btn-sm btn-xsm">errorResource</a>
            
            <div class="collapse schema-summary" id="default-definitions-errorResource-items-0">
                
                





















                
            </div>
            </li>
            
        </ul>
        <pre class="schema-source" style="display: none;"><code class="json">{
    &quot;type&quot;:&quot;array&quot;,
    &quot;description&quot;:&quot;If multiple errors are reported they can be organized in a hierarchical structure in this array.&quot;,
    &quot;items&quot;:[
        {
            &quot;$ref&quot;:&quot;#/definitions/errorResource&quot;
        }
    ]
}</code></pre>
    

    

    

    

    

    


</div>

                    
                    </div>

                    
                    </div>
                
                </div>
                </div>
                

				<a style="float: right" href="#top">Back to Top</a>
				
                

            </section>

            
        </article>
    </body>
</html>
<html id='06156.analyzing-captured-and-replayed-workloads.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes how to analyze captured and replayed workloads using various Database Replay reports.">
      <meta name="description" content="This chapter describes how to analyze captured and replayed workloads using various Database Replay reports.">
      <title>Analyzing Captured and Replayed Workloads</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Testing Guide ">
      <meta property="og:description" content="This chapter describes how to analyze captured and replayed workloads using various Database Replay reports.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Testing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="testing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:43:11-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96279-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="replaying-a-database-workload.html" title="Previous" type="text/html">
      <link rel="next" href="using-workload-intelligence.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Testing Guide">
    <meta name="dcterms.isVersionOf" content="RATUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="replaying-a-database-workload.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-workload-intelligence.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Testing Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-replay.html" property="item" typeof="WebPage"><span property="name"> Database Replay </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Analyzing Captured and Replayed Workloads </li>
            </ol>
            <a id="GUID-3E9AA9F2-B37B-4E03-9E00-FEB0A141631E" name="GUID-3E9AA9F2-B37B-4E03-9E00-FEB0A141631E"></a><a id="RATUG159"></a>
            
            <h2 id="RATUG-GUID-3E9AA9F2-B37B-4E03-9E00-FEB0A141631E" class="sect2"><span class="enumeration_chapter">13 </span>Analyzing Captured and Replayed Workloads 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div><span>This chapter describes how to analyze captured and replayed workloads using various Database Replay reports.</span> This chapter contains the following sections:
               </div>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-07B165A0-695A-4E65-9BE9-CFF387A344E1" title="Workload capture reports contain captured workload statistics, information about the top session activities that were captured, and any workload filters used during the capture process.">Using Workload Capture Reports</a></p>
                  </li>
                  <li>
                     <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-471121E3-8CC7-4947-A1AA-3F5E5805C5DD" title="Workload replay reports contain information that can be used to measure performance differences between the capture system and the replay system.">Using Workload Replay Reports</a></p>
                  </li>
                  <li>
                     <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-A4EEC94D-ACA1-4B1C-937E-51BBA20CF91D" title="Replay compare period reports can be used for several purposes.">Using Replay Compare Period Reports</a></p>
                  </li>
                  <li>
                     <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-91CE0855-A551-4585-B4FC-7CCDEB813882" title="Use the SQL Performance Analyzer report to compare a SQL tuning set from a workload replay to another SQL tuning set from a workload capture, or two SQL tuning sets from two workload replays.">Using SQL Performance Analyzer Reports</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-3E9AA9F2-B37B-4E03-9E00-FEB0A141631E__GUID-C3C4F84C-5A8B-44EC-A5A5-6ED94EFB0F74">
                  <p class="notep1">Note:</p>
                  <p>After the replay analysis is complete, you can restore the database to its original state at the time of workload capture and repeat workload replay to test other changes to the system once the workload directory object is backed up to another physical location.</p>
               </div>
            </div><a id="RATUG287"></a><div class="props_rev_3"><a id="GUID-07B165A0-695A-4E65-9BE9-CFF387A344E1" name="GUID-07B165A0-695A-4E65-9BE9-CFF387A344E1"></a><h3 id="RATUG-GUID-07B165A0-695A-4E65-9BE9-CFF387A344E1" class="sect3"><span class="enumeration_section">13.1 </span>Using Workload Capture Reports
               </h3>
               <div>
                  <p>Workload capture reports contain captured workload statistics, information about the top session activities that were captured, and any workload filters used during the capture process.</p>
                  <p>The following sections describe how to generate and utilize workload capture reports:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-50479A4B-F629-4CB6-AF5D-237F635DF149" title="This section describes how to generate a workload capture report using Oracle Enterprise Manager.">Accessing Workload Capture Reports Using Enterprise Manager</a></p>
                     </li>
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92" title="You can generate a workload capture report using the DBMS_WORKLOAD_CAPTURE package.">Generating Workload Capture Reports Using APIs</a></p>
                     </li>
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-47F7FA60-746E-449C-8DDD-439FDED31125" title="The workload capture report contains various types of information that can be used to assess the validity of the workload capture.">Reviewing Workload Capture Reports</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG271"></a><a id="RATUG160"></a><div class="props_rev_3"><a id="GUID-50479A4B-F629-4CB6-AF5D-237F635DF149" name="GUID-50479A4B-F629-4CB6-AF5D-237F635DF149"></a><h4 id="RATUG-GUID-50479A4B-F629-4CB6-AF5D-237F635DF149" class="sect4"><span class="enumeration_section">13.1.1 </span>Accessing Workload Capture Reports Using Enterprise Manager
                  </h4>
                  <div>
                     <p>This section describes how to generate a workload capture report using Oracle Enterprise Manager.</p>
                     <div class="section">
                        <p>The primary tool for generating workload capture reports is Oracle Enterprise Manager. If for some reason Oracle Enterprise Manager is unavailable, you can generate workload capture reports using APIs, as described in <span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92" title="You can generate a workload capture report using the DBMS_WORKLOAD_CAPTURE package.">Generating Workload Capture Reports Using APIs</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-50479A4B-F629-4CB6-AF5D-237F635DF149__GUID-B2EE3C89-34B9-4D2D-9FC6-849ED0BAA214">To access workload capture reports using Enterprise Manager:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>From the Enterprise menu of the Enterprise Manager Cloud Control console, select <span class="bold">Quality Management</span>, then <span class="bold">Database Replay</span>.</span><div>
                              <p>If the Database Login page appears, log in as a user with administrator privileges.</p>
                              <p>The Database Replay page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>From the Captured Workloads tab of the Database Replay page for a capture that has a Status other than Completed, click the name of the desired capture from the Capture table.</span><div>
                              <p>The Summary tab of the Database Replay page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Reports</span> tab for access to controls for the Workload Capture report and Workload Capture ASH Analytics report.</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The Workload Capture report contains detailed output showing the type of data components that were captured and not captured. </p>
                                 </li>
                                 <li>
                                    <p>The Capture ASH Analytics report shows which sessions are consuming the most database time. This report provides a stacked chart to help you visualize the active session activity for several dimensions, such as Event, Activity Class, Module/Action, Session, Instance ID, and PL/SQL function.</p>
                                    <p>The "Other Activity" list choice for the report means that the activity has not been captured.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>After you access a report, you can save it by clicking <span class="bold">Save</span>.</span><div>
                              <div class="infoboxnotealso" id="GUID-50479A4B-F629-4CB6-AF5D-237F635DF149__GUID-F0976359-5047-4795-8CD7-691428930AB2">
                                 <p class="notep1">See Also:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-47F7FA60-746E-449C-8DDD-439FDED31125" title="The workload capture report contains various types of information that can be used to assess the validity of the workload capture.">Reviewing Workload Capture Reports</a>"</span> for information about how to interpret the workload capture report
                                       </p>
                                    </li>
                                    <li>
                                       <p><a href="../tgdba/analyzing-sampled-data.html#TGDBA277" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for information about ASH (Active Session History)
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="RATUG4263"></a><a id="RATUG161"></a><div class="props_rev_3"><a id="GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92" name="GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92"></a><h4 id="RATUG-GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92" class="sect4"><span class="enumeration_section">13.1.2 </span>Generating Workload Capture Reports Using APIs
                  </h4>
                  <div>
                     <div><span>You can generate a workload capture report using the <code class="codeph">DBMS_WORKLOAD_CAPTURE</code> package.</span> You can also use Oracle Enterprise Manager to generate a workload capture report, as described in <span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-50479A4B-F629-4CB6-AF5D-237F635DF149" title="This section describes how to generate a workload capture report using Oracle Enterprise Manager.">Accessing Workload Capture Reports Using Enterprise Manager</a>"</span>.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92__GUID-F420E842-EB9E-4343-8CC5-5AD64646AA2E">To generate a report on the latest workload capture:</p>
                        <ol>
                           <li>
                              <p>Use the <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>.<a id="d27884e497" class="indexterm-anchor"></a><code class="codeph">GET_CAPTURE_INFO</code> procedure.
                              </p>
                              <p>The <code class="codeph">GET_CAPTURE_INFO</code> procedure retrieves all information regarding the workload capture and returns the <code class="codeph">cap_id</code> for the workload capture. This function uses the <code class="codeph">dir</code> required parameter, which specifies the name of the workload capture directory object.
                              </p>
                           </li>
                           <li>
                              <p>Call the <code class="codeph">DBMS_WORKLOAD_CAPTURE.REPORT</code> function.
                              </p>
                              <p>The <code class="codeph">REPORT</code> function generates a report using the <code class="codeph">cap_id</code> that was returned by the <code class="codeph">GET_CAPTURE_INFO</code> procedure. This function uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">capture_id</code> required parameter relates to the directory that contains the workload capture for which the report will be generated. The directory should be a valid directory in the host system containing the workload capture. The value of this parameter should match the <code class="codeph">cap_id</code> returned by the <code class="codeph">GET_CAPTURE_INFO</code> procedure.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">format</code> required parameter specifies the report format. Valid values include <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>.<code class="codeph">TYPE_TEXT</code> and <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<code class="codeph">TYPE_HTML</code>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In this example, the <code class="codeph">GET_CAPTURE_INFO</code> procedure retrieves all information regarding the workload capture in the <code class="codeph">jul14</code> directory and returns the <code class="codeph">cap_id</code> for the workload capture. The <code class="codeph">REPORT</code> function then generates a text report using the <code class="codeph">cap_id</code> that was returned by the <code class="codeph">GET_CAPTURE_INFO</code> procedure.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  cap_id         NUMBER;
  cap_rpt        CLOB;
BEGIN
  cap_id  := DBMS_WORKLOAD_CAPTURE.GET_CAPTURE_INFO(dir =&gt; 'jul14');
  cap_rpt := DBMS_WORKLOAD_CAPTURE.REPORT(capture_id =&gt; cap_id,
                           format =&gt; DBMS_WORKLOAD_CAPTURE.TYPE_TEXT);
END;
/
</pre><div class="infoboxnotealso" id="GUID-2FA4FA19-F864-4B60-A17E-234F6EBBAE92__GUID-9C562F36-CAFF-49EC-9279-6C523BFF0FB3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-47F7FA60-746E-449C-8DDD-439FDED31125" title="The workload capture report contains various types of information that can be used to assess the validity of the workload capture.">Reviewing Workload Capture Reports</a>"</span> for information about how to interpret the workload capture report
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_WORKLOAD_CAPTURE.html#ARPLS207" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_WORKLOAD_CAPTURE</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG162"></a><div class="props_rev_3"><a id="GUID-47F7FA60-746E-449C-8DDD-439FDED31125" name="GUID-47F7FA60-746E-449C-8DDD-439FDED31125"></a><h4 id="RATUG-GUID-47F7FA60-746E-449C-8DDD-439FDED31125" class="sect4"><span class="enumeration_section">13.1.3 </span>Reviewing Workload Capture Reports
                  </h4>
                  <div>
                     <div><span>The workload capture report contains various types of information that can be used to assess the validity of the workload capture.</span> Using the information provided in this report, you can determine if the captured workload:
                     </div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Represents the actual workload you want to replay</p>
                        </li>
                        <li>
                           <p>Does not contain any workload you want to exclude</p>
                        </li>
                        <li>
                           <p>Can be replayed</p>
                        </li>
                     </ul>
                     <p>The information contained in the workload capture report is divided into the following categories:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Details about the workload capture (such as the name of the workload capture, defined filters, date, time, and SCN of capture)</p>
                        </li>
                        <li>
                           <p>Overall statistics about the workload capture (such as the total DB time captured, and the number of logins and transactions captured) and the corresponding percentages with respect to total system activity</p>
                        </li>
                        <li>
                           <p>Profile of the captured workload</p>
                        </li>
                        <li>
                           <p>Profile of the uncaptured workload due to version limitations</p>
                        </li>
                        <li>
                           <p>Profile of the uncaptured workload that was excluded using defined filters</p>
                        </li>
                        <li>
                           <p>Profile of the uncaptured workload that consists of background process or scheduled jobs</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="RATUG288"></a><div class="props_rev_3"><a id="GUID-471121E3-8CC7-4947-A1AA-3F5E5805C5DD" name="GUID-471121E3-8CC7-4947-A1AA-3F5E5805C5DD"></a><h3 id="RATUG-GUID-471121E3-8CC7-4947-A1AA-3F5E5805C5DD" class="sect3"><span class="enumeration_section">13.2 </span>Using Workload Replay Reports
               </h3>
               <div>
                  <p>Workload replay reports contain information that can be used to measure performance differences between the capture system and the replay system.</p>
                  <p>The following sections describe how to generate and review workload replay reports:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143" title="This section describes how to generate a workload replay report using Oracle Enterprise Manager.">Accessing Workload Replay Reports Using Enterprise Manager</a></p>
                     </li>
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA" title="You can generate a workload replay report using the DBMS_WORKLOAD_REPLAY package.">Generating Workload Replay Reports Using APIs</a></p>
                     </li>
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-5436CB6B-B8EC-4434-94E2-F560FFC07C46" title="The information contained in the workload replay report consists of performance and replay divergence.">Reviewing Workload Replay Reports</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG272"></a><a id="RATUG163"></a><div class="props_rev_3"><a id="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143" name="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143"></a><h4 id="RATUG-GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143" class="sect4"><span class="enumeration_section">13.2.1 </span>Accessing Workload Replay Reports Using Enterprise Manager
                  </h4>
                  <div>
                     <p>This section describes how to generate a workload replay report using Oracle Enterprise Manager.</p>
                     <div class="section">
                        <p>The primary tool for generating workload replay reports is Oracle Enterprise Manager. If for some reason Oracle Enterprise Manager is unavailable, you can generate workload replay reports using APIs, as described in <span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA" title="You can generate a workload replay report using the DBMS_WORKLOAD_REPLAY package.">Generating Workload Replay Reports Using APIs</a>"</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143__GUID-C3812502-F5DB-4AB5-841E-E7F37A5E9D2C">To access workload replay reports using Enterprise Manager:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>From the Enterprise menu of the Enterprise Manager Cloud Control console, select <span class="bold">Quality Management</span>, then <span class="bold">Database Replay</span>.</span><div>
                              <p>If the Database Login page appears, log in as a user with administrator privileges.</p>
                              <p>The Database Replay page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Replay Tasks</span> tab, then select a replay for which you want to access reports.</span></li>
                        <li class="stepexpand"><span>Click the <span class="bold">Reports</span> tab to gain access to individual reports. </span><div>
                              <p>There are several types of reports you can view for a completed workload replay:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Database Replay</p>
                                    <p>Use this report to view complete replay statistics in a tabular format, including replay divergence and the workload profile.</p>
                                    <div class="figure" id="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143__GUID-AC4085B9-0061-41AF-97DF-DDE2E7AD7148"><img src="img/dbr_replay_replay_rep.gif" width="226" alt="Description of dbr_replay_replay_rep.gif follows" title="Description of dbr_replay_replay_rep.gif follows" longdesc="img_text/dbr_replay_replay_rep.html"><br><a href="img_text/dbr_replay_replay_rep.html">Description of the illustration dbr_replay_replay_rep.gif</a></div>
                                    <!-- class="figure" -->
                                 </li>
                                 <li>
                                    <p>Compare Period ADDM</p>
                                    <p>Use this report to perform a high-level comparison of one workload replay to its capture or to another replay of the same capture. Only workload replays that contain at least 5 minutes of database time can be compared using this report.</p>
                                    <div class="figure" id="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143__GUID-77F8B559-FCA7-4865-A217-B65074A035AA"><img src="img/dbr_replay_addm_rep.gif" width="511" alt="Description of dbr_replay_addm_rep.gif follows" title="Description of dbr_replay_addm_rep.gif follows" longdesc="img_text/dbr_replay_addm_rep.html"><br><a href="img_text/dbr_replay_addm_rep.html">Description of the illustration dbr_replay_addm_rep.gif</a></div>
                                    <!-- class="figure" -->
                                    <p>Examine the following sections of the report to understand the performance change between the two periods and the cause of the change:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Overview</p>
                                          <p>This portion of the report shows SQL commonality, which is the comparability between the base and comparison periods based on the average resource consumption of the SQL statements common to both periods.</p>
                                          <p>A commonality value of 100% means that the workload "signature" in both time periods is identical. A commonality of 100% is expected for this use case, because the workload being replayed is the same (assuming that you are not using replay filters). A value of 0% means that the two time periods have no items in common for the specific workload dimension.</p>
                                          <p>Commonality is based on the type of input (that is, which SQL is executing) as well as the load of the executing SQL statements. Consequently, SQL statements running in only one time period, but not consuming significant time, do not affect commonality. Therefore, two workloads could have a commonality of 100% even if some SQL statements are running only in one of the two periods, provided that these SQL statements do not consume significant resources.</p>
                                       </li>
                                       <li>
                                          <p>Configuration</p>
                                          <p>The information displayed shows base period and comparison period values for various parameters categorized by instance, host, and database.</p>
                                       </li>
                                       <li>
                                          <p>Findings</p>
                                          <p>The findings can show performance improvements and identify the major performance differences caused by system changes. For negative outcomes, if you understand and remove the cause, the negative outcome can be eliminated.</p>
                                          <p>The values shown for the Base Period and Comparison Period represent performance with regard to database time.</p>
                                          <p>The Change Impact value represents a measurement of the scale of a change in performance from one time period to another. It is applicable to issues or items measured by the total database time they consumed in each time period. The absolute values are sorted in descending order.</p>
                                          <p>If the value is positive, an improvement has occurred, and if the value is negative, a regression has occurred. For instance, a change impact of -200% means that period 2 is three times as slow as period 1.</p>
                                          <p>You can run performance tuning tools, such as ADDM and the SQL Tuning Advisor, to fix issues in the comparison period to improve general system performance.</p>
                                       </li>
                                       <li>
                                          <p>Resources</p>
                                          <p>The information shown provides a summary of the division of database time for both time periods, and shows the resource usage for CPU, memory, I/O, and interconnect (Oracle RAC only).</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>SQL Performance Analyzer</p>
                                    <p>Use this report to compare a SQL tuning set from a workload capture to another SQL tuning set from a workload replay, or two SQL tuning sets from two workload replays. Comparing SQL tuning sets with Database Replay provides more information than SQL Performance Analyzer test-execute, because it considers and shows all execution plans for each SQL statement, while SQL Performance Analyzer test-execute generates only one execution plan per SQL statement for each SQL trial.</p>
                                 </li>
                                 <li>
                                    <p>Replay Compare Period</p>
                                    <p>Use this report to compare the AWR data from one workload replay to its capture or to another replay of the same capture. Before running this report, AWR data for the captured or replayed workload must have been previously exported.</p>
                                    <div class="figure" id="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143__GUID-6584967C-486C-4E9D-B11F-AD2376A8C07B"><img src="img/dbr_replay_compare_per_rep.gif" width="505" alt="Description of dbr_replay_compare_per_rep.gif follows" title="Description of dbr_replay_compare_per_rep.gif follows" longdesc="img_text/dbr_replay_compare_per_rep.html"><br><a href="img_text/dbr_replay_compare_per_rep.html">Description of the illustration dbr_replay_compare_per_rep.gif</a></div>
                                    <!-- class="figure" -->
                                    <p>For information about using this report, see <span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-CC49945F-E44C-459D-AF51-69CD9AFDE0B7" title="Reviewing replay compare period reports enables you to determine if any replay divergence occurred and whether there were any significant performance changes.">Reviewing Replay Compare Period Reports</a>"</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Replay ASH Analytics</p>
                                    <p>The Replay ASH Analytics report contains active session history (ASH) information for a specified duration of a workload that was replayed for the category you selected in the drop-down menu. Before running this report, AWR data must have been previously exported from the captured or replayed workload.</p>
                                    <div class="figure" id="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143__GUID-C62B12B6-F29B-41E1-B292-C283AE76AAD6"><img src="img/dbr_replay_ash_anal_rep.gif" width="475" alt="Description of dbr_replay_ash_anal_rep.gif follows" title="Description of dbr_replay_ash_anal_rep.gif follows" longdesc="img_text/dbr_replay_ash_anal_rep.html"><br><a href="img_text/dbr_replay_ash_anal_rep.html">Description of the illustration dbr_replay_ash_anal_rep.gif</a></div>
                                    <!-- class="figure" -->
                                    <p>The chart shows workload activity breakdown values for wait classes, and provides detailed statistics for the top activity sessions that are adversely affecting the system. </p>
                                    <p>You can optionally use the Load Map for a graphical view of system activity. The Load Map is useful for viewing activity in a single- or multi-dimensional layout when you are not interested in seeing how activity has changed over time within the selected period.</p>
                                 </li>
                              </ul>
                              <div class="infoboxnotealso" id="GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143__GUID-A29DB88A-8EE2-4828-9529-383ABFC6A72E">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../tdppt/resolving-performance-degradation-over-time.html#TDPPT093" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a> for information about how to interpret replay compare period reports
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="RATUG4264"></a><a id="RATUG164"></a><div class="props_rev_3"><a id="GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA" name="GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA"></a><h4 id="RATUG-GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA" class="sect4"><span class="enumeration_section">13.2.2 </span>Generating Workload Replay Reports Using APIs
                  </h4>
                  <div>
                     <div><span>You can generate a workload replay report using the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package.</span> You can also use Oracle Enterprise Manager to generate a workload replay report, as described in <span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-013A4CD8-1E74-4909-8146-D4D5A3B68143" title="This section describes how to generate a workload replay report using Oracle Enterprise Manager.">Accessing Workload Replay Reports Using Enterprise Manager</a>"</span>.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA__GUID-5067CDE0-3F2B-40D3-98C4-677481750485">To generate a report on the latest workload replay for a workload capture using APIs:</p>
                        <ol>
                           <li>
                              <p>Retrieve information about the workload captures and the history of the workload replay attempts from the replay directory object by calling the <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<a id="d27884e1162" class="indexterm-anchor"></a><code class="codeph">GET_REPLAY_INFO</code> function, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" title="You can retrieve all information about the workload captures in a replay directory object and the history of the workload replay attempts from the directory.">Retrieving Information About Workload Replays</a>"</span>.
                              </p>
                              <p>The <code class="codeph">GET_REPLAY_INFO</code> function returns the <code class="codeph">cap_id</code> of a single capture directory (for a consolidated capture directory, the <code class="codeph">cap_id</code> returned is 0).
                              </p>
                           </li>
                           <li>
                              <p>Using the <code class="codeph">cap_id</code> that was returned by the <code class="codeph">GET_REPLAY_INFO</code> function, run a query to return the appropriate <code class="codeph">rep_id</code> for the latest replay of the workload.
                              </p>
                           </li>
                           <li>
                              <p>Call the <code class="codeph">DBMS_WORKLOAD_REPLAY.REPORT</code> function.
                              </p>
                              <p>The <code class="codeph">REPORT</code> function generates a report using the <code class="codeph">rep_id</code> that was returned by the <code class="codeph">SELECT</code> statement.
                              </p>
                              <p>The <code class="codeph">REPORT</code> function uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">replay_id</code> required parameter specifies the directory that contains the workload replay for which the report will be generated. The directory should be a valid directory in the host system containing the workload replay. The value of this parameter should match the <code class="codeph">rep_id</code> returned by the previous query.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">format</code> parameter required parameter specifies the report format. Valid values include <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<code class="codeph">TYPE_TEXT</code>, <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<code class="codeph">TYPE_HTML</code>, and <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<code class="codeph">TYPE_XML</code>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In this example, the <code class="codeph">GET_REPLAY_INFO</code> function retrieves all information about the workload captures and the history of all the workload replay attempts from the <code class="codeph">jul14</code> replay directory object. The function returns the <code class="codeph">cap_id</code> of the capture directory, which can be associated with the <code class="codeph">CAPTURE_ID</code> column in the <code class="codeph">DBA_WORKLOAD_REPLAYS</code> view to access the information retrieved.The <code class="codeph">SELECT</code> statement returns the appropriate <code class="codeph">rep_id</code> for the latest replay of the workload. The <code class="codeph">REPORT</code> function then generates a HTML report using the <code class="codeph">rep_id</code> that was returned by the <code class="codeph">SELECT</code> statement.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  cap_id         NUMBER;
  rep_id         NUMBER;
  rep_rpt        CLOB;
BEGIN
  cap_id := DBMS_WORKLOAD_REPLAY.GET_REPLAY_INFO(replay_dir =&gt; 'jul14');
  /* Get the latest replay for that capture */
  SELECT max(id)
  INTO   rep_id
  FROM   dba_workload_replays
  WHERE  capture_id = cap_id;
 
  rep_rpt := DBMS_WORKLOAD_REPLAY.REPORT(replay_id =&gt; rep_id,
                           format =&gt; DBMS_WORKLOAD_REPLAY.TYPE_HTML);
END;
/
</pre><div class="infoboxnotealso" id="GUID-EA0FEAE4-A6CF-466F-B794-2480D16926CA__GUID-11ACC2E6-503D-4A2F-81A6-B22FE12D3893">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-5436CB6B-B8EC-4434-94E2-F560FFC07C46" title="The information contained in the workload replay report consists of performance and replay divergence.">Reviewing Workload Replay Reports</a>"</span> for information about how to interpret the workload replay report
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG165"></a><div class="props_rev_3"><a id="GUID-5436CB6B-B8EC-4434-94E2-F560FFC07C46" name="GUID-5436CB6B-B8EC-4434-94E2-F560FFC07C46"></a><h4 id="RATUG-GUID-5436CB6B-B8EC-4434-94E2-F560FFC07C46" class="sect4"><span class="enumeration_section">13.2.3 </span>Reviewing Workload Replay Reports
                  </h4>
                  <div>
                     <div>After the workload is replayed on a test system, there may be some divergence in what is replayed compared to what was captured. There are numerous factors that can cause replay divergence, which can be analyzed using the workload replay report.  <span>The information contained in the workload replay report consists of performance and replay divergence.</span></div>
                     <p>Performance divergence may result when new algorithms are introduced in the replay system that affect the overall performance of the database. For example, if the workload is replayed on a newer version of Oracle Database, a new algorithm may cause specific requests to run faster, and the divergence will appear as a faster execution. In this case, this is a desirable divergence.</p>
                     <p>Data divergence occurs when the results of DML or SQL queries do not match results that were originally captured in the workload. For example, a SQL statement may return fewer rows during replay than those returned during capture.</p>
                     <p>Error divergence occurs when a replayed database call:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Encounters a new error that was not captured</p>
                        </li>
                        <li>
                           <p>Does not encounter an error that was captured</p>
                        </li>
                        <li>
                           <p>Encounters a different error from what was captured</p>
                        </li>
                     </ul>
                     <p>The information contained in the workload replay report is divided into the following categories:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Details about the workload replay and the workload capture, such as job name, status, database information, duration and time of each process, and the directory object and path</p>
                        </li>
                        <li>
                           <p>Replay options selected for the workload replay and the number of replay clients that were started</p>
                        </li>
                        <li>
                           <p>Overall statistics about the workload replay and the workload capture (such as the total DB time captured and replayed, and the number of logins and transactions captured and replayed) and the corresponding percentages with respect to total system activity</p>
                        </li>
                        <li>
                           <p>Profile of the replayed workload</p>
                        </li>
                        <li>
                           <p>Replay divergence</p>
                        </li>
                        <li>
                           <p>Error divergence</p>
                        </li>
                        <li>
                           <p>DML and SQL query data divergence</p>
                        </li>
                     </ul>
                     <p>Starting with Oracle Database Release 19c, the workload replay report provides information that is required to diagnose a slow workload replay. The information contained in the workload replay report has the following additional sections:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-94E8D3BE-9FEF-44CA-8DB5-90883BA8B972">Replay Sessions</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-57C2CB22-A79F-42C4-BA27-A86D1ED2E85B">Synchronization</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-EBA71141-BF9E-4465-8395-AA7E539AA3AF">Tracked Commits</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-4C618972-7153-4797-BDBC-15B63E9E6922">Session Failures</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="sect4"><a id="GUID-94E8D3BE-9FEF-44CA-8DB5-90883BA8B972" name="GUID-94E8D3BE-9FEF-44CA-8DB5-90883BA8B972"></a><h5 id="RATUG-GUID-94E8D3BE-9FEF-44CA-8DB5-90883BA8B972" class="sect5"><span class="enumeration_section">13.2.3.1 </span>Replay Sessions
                     </h5>
                     <div>
                        <p>The Replay Sessions section includes statistics about the ongoing and completed replay sessions, such as top events, top slowest replay sessions, and top fastest replay sessions. The statistics related to the ongoing replay sessions are shown only when the replay is in progress. Use the information in this section to understand the top events for the ongoing and completed replay sessions, the replay sessions that were slower than the capture, and a comparison of the session elapsed time between the capture and replay.</p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-57C2CB22-A79F-42C4-BA27-A86D1ED2E85B" name="GUID-57C2CB22-A79F-42C4-BA27-A86D1ED2E85B"></a><h5 id="RATUG-GUID-57C2CB22-A79F-42C4-BA27-A86D1ED2E85B" class="sect5"><span class="enumeration_section">13.2.3.2 </span>Synchronization
                     </h5>
                     <div>
                        <p>During a workload replay, the execution order of the captured SQL statements is preserved. When a SQL statement’s execution is delayed or blocked during the replay, the result is a slower workload replay.</p>
                        <p>The Synchronization section contains information about the sessions that are blocking the execution of one of the synchronized SQL statements. This information is shown only when a SQL statement’s execution is blocked. Use the information in this section to understand why a workload replay is blocked or is slower than the workload capture. This section also includes the top events and the top SQL statements with top events related to sessions that are running synchronized SQL statements.</p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-EBA71141-BF9E-4465-8395-AA7E539AA3AF" name="GUID-EBA71141-BF9E-4465-8395-AA7E539AA3AF"></a><h5 id="RATUG-GUID-EBA71141-BF9E-4465-8395-AA7E539AA3AF" class="sect5"><span class="enumeration_section">13.2.3.3 </span>Tracked Commits
                     </h5>
                     <div>
                        <p>The commits executed during a workload capture and the time consumed between their executions are tracked by the Database Replay. It can detect slow commits and identify the parts of the captured workload that slowed down the workload replay.</p>
                        <p>The Tracked Commits section includes information about the number of captured commits and the time at which a commit was executed. Use this information to find whether the workload replay is moving slower than the workload capture.</p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-4C618972-7153-4797-BDBC-15B63E9E6922" name="GUID-4C618972-7153-4797-BDBC-15B63E9E6922"></a><h5 id="RATUG-GUID-4C618972-7153-4797-BDBC-15B63E9E6922" class="sect5"><span class="enumeration_section">13.2.3.4 </span>Session Failures
                     </h5>
                     <div>
                        <p>When the workload replay of a user session fails, the replay of the remaining calls in the session are skipped. The Session Failures section includes information about the SQL statement that was executed during a session failure, the file ID and the call counter of the failed session, and the total number of calls that were not executed.</p>
                     </div>
                  </div>
               </div>
            </div><a id="RATUG289"></a><div class="props_rev_3"><a id="GUID-A4EEC94D-ACA1-4B1C-937E-51BBA20CF91D" name="GUID-A4EEC94D-ACA1-4B1C-937E-51BBA20CF91D"></a><h3 id="RATUG-GUID-A4EEC94D-ACA1-4B1C-937E-51BBA20CF91D" class="sect3"><span class="enumeration_section">13.3 </span>Using Replay Compare Period Reports
               </h3>
               <div>
                  <div><span>Replay compare period reports can be used for several purposes.</span> For example, you can use replay compare period reports to compare the performance of:
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A workload replay to its workload capture</p>
                     </li>
                     <li>
                        <p>A workload replay to another replay of the same workload capture</p>
                     </li>
                     <li>
                        <p>Multiple workload captures to a consolidated replay</p>
                     </li>
                  </ul>
                  <p>The following sections describe how to generate and review replay compare period reports:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-5D3058CC-B83E-4D7C-A777-E38E1961B300" title="This section describes how to generate replay compare period reports using the DBMS_WORKLOAD_REPLAY package.">Generating Replay Compare Period Reports Using APIs</a></p>
                     </li>
                     <li>
                        <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-CC49945F-E44C-459D-AF51-69CD9AFDE0B7" title="Reviewing replay compare period reports enables you to determine if any replay divergence occurred and whether there were any significant performance changes.">Reviewing Replay Compare Period Reports</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A4EEC94D-ACA1-4B1C-937E-51BBA20CF91D__GUID-E634A0A9-E5A6-4AF7-83C3-B8C14B2FA952">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-consolidated-database-replay.html#GUID-62AAF505-1DD4-414A-9F1D-4386B59B7138" title="Database Replay enables you to capture a workload on the production system and replay it on a test system. This can be very useful when evaluating or adopting new database technologies because these changes can be tested on a test system without affecting the production system.">Using Consolidated Database Replay</a> for information about Consolidated Database Replay
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RATUG292"></a><div class="props_rev_3"><a id="GUID-5D3058CC-B83E-4D7C-A777-E38E1961B300" name="GUID-5D3058CC-B83E-4D7C-A777-E38E1961B300"></a><h4 id="RATUG-GUID-5D3058CC-B83E-4D7C-A777-E38E1961B300" class="sect4"><span class="enumeration_section">13.3.1 </span>Generating Replay Compare Period Reports Using APIs
                  </h4>
                  <div>
                     <div><span>This section describes how to generate replay compare period reports using the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package.</span> This report only compares workload replays that contain at least 5 minutes of database time.
                     </div>
                     <div class="section">
                        <p>To generate replay compare period reports, use the <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<a id="d27884e1991" class="indexterm-anchor"></a><code class="codeph">COMPARE_PERIOD_REPORT</code> procedure:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.COMPARE_PERIOD_REPORT (
                           replay_id1 =&gt; 12,
                           replay_id2 =&gt; 17,
                           format =&gt; DBMS_WORKLOAD_CAPTURE.TYPE_HTML,
                           result =&gt; :report_bind);
END;
/
</pre><p>In this example, the <code class="codeph">COMPARE_PERIOD_REPORT</code> procedure generates a replay compare period report in HTML format that compares a workload replay with a replay ID of 12 with another replay with an ID of 17.
                        </p>
                        <p>The <code class="codeph">COMPARE_PERIOD_REPORT</code> procedure in this example uses the following parameters:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">replay_id1</code> parameter specifies the numerical identifier of the workload replay after change for which the reported will be generated. This parameter is required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">replay_id2</code> parameter specifies the numerical identifier of the workload replay before change for which the reported will be generated. If unspecified, the comparison will be performed with the workload capture.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">format</code> parameter specifies the report format. Valid values include <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>.<code class="codeph">TYPE_HTML</code> for HTML and <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>.<code class="codeph">TYPE_XML</code> for XML. This parameter is required.
                              </p>
                           </li>
                           <li>
                              <p>The result parameter specifies the output of the report.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-5D3058CC-B83E-4D7C-A777-E38E1961B300__GUID-9EB5B6BC-79A1-4D54-8A43-D203AE440D36">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-CC49945F-E44C-459D-AF51-69CD9AFDE0B7" title="Reviewing replay compare period reports enables you to determine if any replay divergence occurred and whether there were any significant performance changes.">Reviewing Replay Compare Period Reports</a>"</span> for information about how to interpret the replay compare period report
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG304"></a><div class="props_rev_3"><a id="GUID-CC49945F-E44C-459D-AF51-69CD9AFDE0B7" name="GUID-CC49945F-E44C-459D-AF51-69CD9AFDE0B7"></a><h4 id="RATUG-GUID-CC49945F-E44C-459D-AF51-69CD9AFDE0B7" class="sect4"><span class="enumeration_section">13.3.2 </span>Reviewing Replay Compare Period Reports
                  </h4>
                  <div>
                     <p>Reviewing replay compare period reports enables you to determine if any replay divergence occurred and whether there were any significant performance changes.</p>
                     <p>Depending on the type of comparison that is being made, one of three types of replay compare period reports is generated:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Capture vs. Replay</p>
                           <p>This report type compares the performance of a workload replay to its workload capture.</p>
                        </li>
                        <li>
                           <p>Replay vs. Replay</p>
                           <p>This report type compares the performance of two workload replays of the same workload capture.</p>
                        </li>
                        <li>
                           <p>Consolidated Replay</p>
                           <p>This report type compares the performance of multiple workload captures to a consolidated replay. Only the ASH Data Comparison section is available for this report type. For more information about this report type, see <span class="q">"<a href="using-consolidated-database-replay.html#GUID-D7C55F09-D604-4AD6-8B4A-C8C93D954954" title="Reporting and analysis for Consolidated Database Replay is performed using the replay compare period report. See "" for more information.">Reporting and Analysis for Consolidated Database Replay</a>"</span>.
                           </p>
                        </li>
                     </ul>
                     <p>All replay compare period report types contain information about the most important changes between the two runs that are being compared. Use this information to determine the appropriate action to take. For example, if a new concurrency issue is found, review Automatic Database Diagnostic Monitor (ADDM) reports to diagnose the issue. If a new SQL performance problem is found, run SQL Tuning Advisor to fix the problem.</p>
                     <p>The information in the replay compare period report is divided into the following sections:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-606B50B7-7AEA-4ABC-B3C7-263B628D4319" title="This section contains metadata about the two runs being compared in the report.">General Information</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-49084501-0794-40B8-AC1B-DA5290D6797C" title="This section contains the divergence analysis of the second run relative to the first. If the analysis shows significant divergence, review the full divergence report.">Replay Divergence</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-41FDA25A-559C-4A32-822F-E2FADD192701" title="This section contains a high-level performance statistic comparison across the two runs (such as change in database time).">Main Performance Statistics</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-933EFD9B-527E-4AAD-A26E-14391F5D1F0A" title="This section compares the performance change of individual SQL statements from one run to the next.">Top SQL/Call</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-8852647C-A71D-4CD7-99FE-A23081A51F7E" title="This section compares CPU and I/O usage across the two runs. The number of CPUs is summed for all instances and CPU usage is averaged over instances.">Hardware Usage Comparison</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-539DA111-5C84-42DA-A642-878193C66280" title="This section contains a comparison of ADDM analyses across the two runs ordered by the absolute difference in impact.">ADDM Comparison</a></p>
                        </li>
                        <li>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-1741E117-65B1-4DEE-8E3E-314BD09AA4C8" title="This section compares the ASH data across the two runs.">ASH Data Comparison</a></p>
                        </li>
                     </ul>
                  </div><a id="RATUG4160"></a><div class="props_rev_3"><a id="GUID-606B50B7-7AEA-4ABC-B3C7-263B628D4319" name="GUID-606B50B7-7AEA-4ABC-B3C7-263B628D4319"></a><h5 id="RATUG-GUID-606B50B7-7AEA-4ABC-B3C7-263B628D4319" class="sect5"><span class="enumeration_section">13.3.2.1 </span>General Information
                     </h5>
                     <div><span>This section contains metadata about the two runs being compared in the report.</span> Any <code class="codeph">init.ora</code> parameter changes between the two runs are also shown here. Review this section to verify if the system change being tested was performed.
                     </div>
                  </div><a id="RATUG4161"></a><div class="props_rev_3"><a id="GUID-49084501-0794-40B8-AC1B-DA5290D6797C" name="GUID-49084501-0794-40B8-AC1B-DA5290D6797C"></a><h5 id="RATUG-GUID-49084501-0794-40B8-AC1B-DA5290D6797C" class="sect5"><span class="enumeration_section">13.3.2.2 </span>Replay Divergence
                     </h5>
                     <p>This section contains the divergence analysis of the second run relative to the first. If the analysis shows significant divergence, review the full divergence report.</p>
                  </div><a id="RATUG4162"></a><div class="props_rev_3"><a id="GUID-41FDA25A-559C-4A32-822F-E2FADD192701" name="GUID-41FDA25A-559C-4A32-822F-E2FADD192701"></a><h5 id="RATUG-GUID-41FDA25A-559C-4A32-822F-E2FADD192701" class="sect5"><span class="enumeration_section">13.3.2.3 </span>Main Performance Statistics
                     </h5>
                     <div><span>This section contains a high-level performance statistic comparison across the two runs (such as change in database time).</span> If the comparison shows an insignificant change in database time, then the performance between the two runs are generally similar. If there is a significant change in database time, review the statistics to determine the component (CPU or user I/O) that is causing the greatest change.
                     </div>
                  </div><a id="RATUG4163"></a><div class="props_rev_3"><a id="GUID-933EFD9B-527E-4AAD-A26E-14391F5D1F0A" name="GUID-933EFD9B-527E-4AAD-A26E-14391F5D1F0A"></a><h5 id="RATUG-GUID-933EFD9B-527E-4AAD-A26E-14391F5D1F0A" class="sect5"><span class="enumeration_section">13.3.2.4 </span>Top SQL/Call
                     </h5>
                     <div><span>This section compares the performance change of individual SQL statements from one run to the next.</span> The SQL statements are ordered by the total change in database time. Top SQL statements that regressed by the most database time are best candidates for SQL tuning.
                     </div>
                  </div><a id="RATUG4164"></a><div class="props_rev_3"><a id="GUID-8852647C-A71D-4CD7-99FE-A23081A51F7E" name="GUID-8852647C-A71D-4CD7-99FE-A23081A51F7E"></a><h5 id="RATUG-GUID-8852647C-A71D-4CD7-99FE-A23081A51F7E" class="sect5"><span class="enumeration_section">13.3.2.5 </span>Hardware Usage Comparison
                     </h5>
                     <div>
                        <p>This section compares CPU and I/O usage across the two runs. The number of CPUs is summed for all instances and CPU usage is averaged over instances.</p>
                        <p>I/O statistics are shown for data and temp files. A high value for the single block read time (much higher than 10 milliseconds) suggests that the system is I/O bound. If this is the case, then review the total read and write times to determine if the latency is caused by excessive I/O requests or poor I/O throughput.</p>
                     </div>
                  </div><a id="RATUG4165"></a><div class="props_rev_3"><a id="GUID-539DA111-5C84-42DA-A642-878193C66280" name="GUID-539DA111-5C84-42DA-A642-878193C66280"></a><h5 id="RATUG-GUID-539DA111-5C84-42DA-A642-878193C66280" class="sect5"><span class="enumeration_section">13.3.2.6 </span>ADDM Comparison
                     </h5>
                     <div>
                        <div><span>This section contains a comparison of ADDM analyses across the two runs ordered by the absolute difference in impact.</span> Compare the ADDM results for the two runs to identify possible problems that only existed in one run. If the system change being tested is intended to improve database performance, then verify if the expected improvement is reflected in the ADDM findings.
                        </div>
                        <div class="infoboxnotealso" id="GUID-539DA111-5C84-42DA-A642-878193C66280__GUID-EC707E51-7CA5-47A8-AD43-AD44C1076774">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgdba/automatic-performance-diagnostics.html#TGDBA94240" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for information about ADDM analysis
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="RATUG4166"></a><div class="props_rev_3"><a id="GUID-1741E117-65B1-4DEE-8E3E-314BD09AA4C8" name="GUID-1741E117-65B1-4DEE-8E3E-314BD09AA4C8"></a><h5 id="RATUG-GUID-1741E117-65B1-4DEE-8E3E-314BD09AA4C8" class="sect5"><span class="enumeration_section">13.3.2.7 </span>ASH Data Comparison
                     </h5>
                     <div>
                        <div><span>This section compares the ASH data across the two runs.</span> The begin time and end time of the comparison period are displayed in a table. These times may not match the capture and replay times of the two runs being compared. Instead, these times represent the times when the ASH samples were taken.
                        </div>
                        <p>The ASH Data Comparison section contains the following subsections:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159" title="This section summarizes the activity during the two runs based on database time and wait time distribution.">Compare Summary</a></p>
                           </li>
                           <li>
                              <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-6B5ECEC9-9E34-4986-966F-6CDAADB8D6C0" title="This section displays the top SQL statements for both runs by total database time, CPU time, and wait time.">Top SQL</a></p>
                           </li>
                           <li>
                              <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-3FB2475D-FA69-42A0-A105-E485911511A6" title="This section displays the top long-running SQL statements for both runs. Each long-running SQL statement contains details about the query, such as the maximum, minimum, and average response times.">Long Running SQL</a></p>
                           </li>
                           <li>
                              <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-E9AF7468-019E-4759-9461-F5A8F0C4C60A" title="This section extracts the SQL statements that are common in both runs and displays the top common SQL statements by variance in average response time and total database time.">Common SQL</a></p>
                           </li>
                           <li>
                              <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-7A13086F-7311-47CB-9641-97FBB578409F" title="This section contains details about the top objects for both runs by total wait time.">Top Objects</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-1741E117-65B1-4DEE-8E3E-314BD09AA4C8__GUID-B10938D8-E39F-4953-A528-683F33AF9926">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgdba/analyzing-sampled-data.html#TGDBA277" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for information about ASH
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="RATUG4196"></a><a id="RATUG4197"></a><a id="RATUG4167"></a><div class="props_rev_3"><a id="GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159" name="GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159"></a><h6 id="RATUG-GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159" class="sect6"><span class="enumeration_section">13.3.2.7.1 </span>Compare Summary
                        </h6>
                        <div>
                           <div><span>This section summarizes the activity during the two runs based on database time and wait time distribution.</span> For example:
                           </div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>DB Time Distribution indicates how the total database time is distributed across CPU usage, wait times, and I/O requests.</p>
                                 <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159__BABBAAAH">Figure 13-1</a> shows the DB Time Distribution subsection of a sample report.
                                 </p>
                                 <div class="figure" id="GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159__BABBAAAH">
                                    <p class="titleinfigure">Figure 13-1 DB Time Distribution</p><img src="img/dbr_rep_db_time_dist.gif" width="243" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows" longdesc="img_text/dbr_rep_db_time_dist.html"><br><a href="img_text/dbr_rep_db_time_dist.html">Description of "Figure 13-1 DB Time Distribution"</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Wait Time Distribution indicates how the total wait time is distributed across wait events. The top wait event class, event name, and event count are listed for both runs.</p>
                                 <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159__BABFBEBH">Figure 13-2</a> shows the Wait Time Distribution subsection of a sample report.
                                 </p>
                                 <div class="figure" id="GUID-BA7CD6C7-E561-4AB8-AA62-8E5B3D426159__BABFBEBH">
                                    <p class="titleinfigure">Figure 13-2 Wait Time Distribution</p><img src="img/dbr_rep_wait_time_dist.gif" width="339" alt="Description of Figure 13-2 follows" title="Description of Figure 13-2 follows" longdesc="img_text/dbr_rep_wait_time_dist.html"><br><a href="img_text/dbr_rep_wait_time_dist.html">Description of "Figure 13-2 Wait Time Distribution"</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ul>
                        </div>
                     </div><a id="RATUG4168"></a><div class="props_rev_3"><a id="GUID-6B5ECEC9-9E34-4986-966F-6CDAADB8D6C0" name="GUID-6B5ECEC9-9E34-4986-966F-6CDAADB8D6C0"></a><h6 id="RATUG-GUID-6B5ECEC9-9E34-4986-966F-6CDAADB8D6C0" class="sect6"><span class="enumeration_section">13.3.2.7.2 </span>Top SQL
                        </h6>
                        <p>This section displays the top SQL statements for both runs by total database time, CPU time, and wait time.</p>
                     </div><a id="RATUG4169"></a><div class="props_rev_3"><a id="GUID-3FB2475D-FA69-42A0-A105-E485911511A6" name="GUID-3FB2475D-FA69-42A0-A105-E485911511A6"></a><h6 id="RATUG-GUID-3FB2475D-FA69-42A0-A105-E485911511A6" class="sect6"><span class="enumeration_section">13.3.2.7.3 </span>Long Running SQL
                        </h6>
                        <p>This section displays the top long-running SQL statements for both runs. Each long-running SQL statement contains details about the query, such as the maximum, minimum, and average response times.</p>
                     </div><a id="RATUG4170"></a><div class="props_rev_3"><a id="GUID-E9AF7468-019E-4759-9461-F5A8F0C4C60A" name="GUID-E9AF7468-019E-4759-9461-F5A8F0C4C60A"></a><h6 id="RATUG-GUID-E9AF7468-019E-4759-9461-F5A8F0C4C60A" class="sect6"><span class="enumeration_section">13.3.2.7.4 </span>Common SQL
                        </h6>
                        <p>This section extracts the SQL statements that are common in both runs and displays the top common SQL statements by variance in average response time and total database time.</p>
                     </div><a id="RATUG4198"></a><a id="RATUG4171"></a><div class="props_rev_3"><a id="GUID-7A13086F-7311-47CB-9641-97FBB578409F" name="GUID-7A13086F-7311-47CB-9641-97FBB578409F"></a><h6 id="RATUG-GUID-7A13086F-7311-47CB-9641-97FBB578409F" class="sect6"><span class="enumeration_section">13.3.2.7.5 </span>Top Objects
                        </h6>
                        <div>
                           <p>This section contains details about the top objects for both runs by total wait time.</p>
                           <p><a href="analyzing-captured-and-replayed-workloads.html#GUID-7A13086F-7311-47CB-9641-97FBB578409F__BABHCHFD">Figure 13-3</a> shows the Top Objects section of a sample report.
                           </p>
                           <div class="figure" id="GUID-7A13086F-7311-47CB-9641-97FBB578409F__BABHCHFD">
                              <p class="titleinfigure">Figure 13-3 Top Objects</p><img src="img/dbr_rep_top_objects.gif" width="243" alt="Description of Figure 13-3 follows" title="Description of Figure 13-3 follows" longdesc="img_text/dbr_rep_top_objects.html"><br><a href="img_text/dbr_rep_top_objects.html">Description of "Figure 13-3 Top Objects"</a></div>
                           <!-- class="figure" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="RATUG4172"></a><div class="props_rev_3"><a id="GUID-91CE0855-A551-4585-B4FC-7CCDEB813882" name="GUID-91CE0855-A551-4585-B4FC-7CCDEB813882"></a><h3 id="RATUG-GUID-91CE0855-A551-4585-B4FC-7CCDEB813882" class="sect3"><span class="enumeration_section">13.4 </span>Using SQL Performance Analyzer Reports
               </h3>
               <div>
                  <p>Use the SQL Performance Analyzer report to compare a SQL tuning set from a workload replay to another SQL tuning set from a workload capture, or two SQL tuning sets from two workload replays.</p>
                  <p>Comparing SQL tuning sets with Database Replay provides more information than SQL Performance Analyzer test-execute because it considers and shows all execution plans for each SQL statement, while SQL Performance Analyzer test-execute generates only one execution plan per SQL statement for each SQL trial.</p>
               </div><a id="RATUG314"></a><div class="props_rev_3"><a id="GUID-F711BF47-3898-4A8A-A210-FD87866659F4" name="GUID-F711BF47-3898-4A8A-A210-FD87866659F4"></a><h4 id="RATUG-GUID-F711BF47-3898-4A8A-A210-FD87866659F4" class="sect4"><span class="enumeration_section">13.4.1 </span>Generating SQL Performance Analyzer Reports Using APIs
                  </h4>
                  <div>
                     <p>This section describes how to generate a SQL Performance Analyzer report using the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package.
                     </p>
                     <div class="section">
                        <p>To generate a SQL Performance Analyzer report, use the <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<a id="d27884e3447" class="indexterm-anchor"></a><code class="codeph">COMPARE_SQLSET_REPORT</code> procedure:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.COMPARE_SQLSET_REPORT (
                           replay_id1 =&gt; 12,
                           replay_id2 =&gt; 17,
                           format =&gt; DBMS_WORKLOAD_CAPTURE.TYPE_HTML,
                           result =&gt; :report_bind);
END;
/
</pre><p>In this example, the <code class="codeph">COMPARE_SQLSET_REPORT</code> procedure generates a SQL Performance Analyzer report in HTML format that compares a SQL tuning set captured during the workload replay with a replay ID of 12 to a SQL tuning set captured during workload replay with an ID of 17.
                        </p>
                        <p>The <code class="codeph">COMPARE_SQLSET_REPORT</code> procedure in this example uses the following parameters:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">replay_id1</code> parameter specifies the numerical identifier of the workload replay after change for which the reported will be generated. This parameter is required.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">replay_id2</code> parameter specifies the numerical identifier of the workload replay after change for which the reported will be generated. If unspecified, the comparison will be performed with the workload capture.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">format</code> parameter specifies the report format. Valid values include <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>.<code class="codeph">TYPE_HTML</code> for HTML, <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>.<code class="codeph">TYPE_XML</code> for XML, and <code class="codeph">DBMS_WORKLOAD_CAPTURE</code>.<code class="codeph">TYPE_TEXT</code> for text. This parameter is required.
                              </p>
                           </li>
                           <li>
                              <p>The result parameter specifies the output of the report.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-F711BF47-3898-4A8A-A210-FD87866659F4__GUID-4ADDF98C-E2DA-498B-BD65-F63EC477AA02">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="comparing-sql-trials.html#GUID-1B56ACA0-7C76-4963-B645-E90FB1968840" title="The SQL Performance Analyzer report is divided into the following sections:">Reviewing the SQL Performance Analyzer Report in Command-Line</a>"</span> for information about how to interpret the SQL Performance Analyzer report
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='09687.sharding-data-routing.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Sharding supports direct, key-based, routing to a shard, routing by proxy, and routing to mid-tiers.">
      <meta name="description" content="Oracle Sharding supports direct, key-based, routing to a shard, routing by proxy, and routing to mid-tiers.">
      <title>Request Routing in a Sharded Database Environment</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Using Oracle Sharding">
      <meta property="og:description" content="Oracle Sharding supports direct, key-based, routing to a shard, routing by proxy, and routing to mid-tiers.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Using Oracle Sharding">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="using-oracle-sharding.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-14T12:19:13-08:00">
      <meta name="dcterms.title" content="Using Oracle Sharding">
      <meta name="dcterms.dateCopyrighted" content="2018, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E87088-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="sharding-application-development.html" title="Previous" type="text/html">
      <link rel="next" href="sharding-high-availability.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="SHARD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sharding-application-development.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="sharding-high-availability.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Using Oracle Sharding</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Request Routing in a Sharded Database Environment</li>
            </ol>
            <a id="GUID-7001A9CC-B681-4DFA-B461-6FD653D9D62D" name="GUID-7001A9CC-B681-4DFA-B461-6FD653D9D62D"></a>
            
            <h2 id="SHARD-GUID-7001A9CC-B681-4DFA-B461-6FD653D9D62D" class="sect2"><span class="enumeration_chapter">6 </span>Request Routing in a Sharded Database Environment
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Sharding supports direct, key-based, routing to a shard, routing by proxy, and routing to mid-tiers.</p>
               <p>The following topics describe routing in an sharded database environment.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-64CAD794-FAAA-406B-9E20-0C35E96D3FA8">Direct Routing to a Shard</a><br>Oracle clients and connections pools are able to recognize sharding keys specified in the connection string for high performance data dependent routing. A shard routing cache in the connection layer is used to route database requests directly to the shard where the data resides.
                  </li>
                  <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4">Queries and DMLs with Proxy Routing in a Sharded Database</a><br>Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including <code>SELECT</code> and <code>DML</code>) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.
                  </li>
                  <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-F5D3C0B6-83F9-457A-97A9-429AC9EE4550">Creating Affinity Between Middle-Tier Connection Pools and Shards</a><br>A Oracle Universal Connection Pool (UCP) feature called middle-tier routing allows smart routers (F5 BigIP, for example) to route to the middle tier associated with a sharding key. It publishes the sharded database topology to the router tier so that requests based on specific sharding keys are routed to the appropriate&nbsp;application middle tier, which in turn establishes connections on the given subset of shards.
                  </li>
               </ul>
            </div>
            
            <div class="sect2"><a id="GUID-64CAD794-FAAA-406B-9E20-0C35E96D3FA8" name="GUID-64CAD794-FAAA-406B-9E20-0C35E96D3FA8"></a><h3 id="SHARD-GUID-64CAD794-FAAA-406B-9E20-0C35E96D3FA8" class="sect3"><span class="enumeration_section">6.1 </span>Direct Routing to a Shard
               </h3>
               <div>
                  <p>Oracle clients and connections pools are able to recognize sharding keys specified in the connection string for high performance data dependent routing. A shard routing cache in the connection layer is used to route database requests directly to the shard where the data resides.</p>
                  <p>The following topics describe direct, key-based, routing to a shard:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-2C0F1289-4B10-4282-A652-4C661D0A6FB4">About Direct Routing to a Shard</a><br>In direct, key-based, routing to a shard, a connection is established to a single, relevant shard which contains the data pertinent to the required transaction using a sharding key.
                     </li>
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E">Sharding APIs</a><br>Oracle connection pools and drivers support Oracle Sharding.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-7001A9CC-B681-4DFA-B461-6FD653D9D62D" title="Oracle Sharding supports direct, key-based, routing to a shard, routing by proxy, and routing to mid-tiers.">Request Routing in a Sharded Database Environment</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-2C0F1289-4B10-4282-A652-4C661D0A6FB4" name="GUID-2C0F1289-4B10-4282-A652-4C661D0A6FB4"></a><h4 id="SHARD-GUID-2C0F1289-4B10-4282-A652-4C661D0A6FB4" class="sect4"><span class="enumeration_section">6.1.1 </span>About Direct Routing to a Shard
                  </h4>
                  <div>
                     <p>In direct, key-based, routing to a shard, a connection is established to a single, relevant shard which contains the data pertinent to the required transaction using a sharding key.</p>
                     <p>A sharding key is used to route database connection requests at a user session level during connection checkout. The composite sharding method requires both a sharding key and a super sharding key. Direct, key-based, routing requires the sharding key (or super sharding key) be passed as part of the connection. Based on this information, a connection is established to the relevant shard which contains the data pertinent to the given sharding key or super sharding key. </p>
                     <p>Once the session is established with a shard, all SQL queries and DMLs are supported and executed in the scope of the given shard. This routing is fast and is used for all OLTP workloads that perform intra-shard transactions. It is recommended that direct routing be employed for all OLTP workloads that require the highest performance and availability.  </p>
                     <p>In support of Oracle Sharding, key enhancements have been made to Oracle connection pools and drivers. JDBC, Universal Connection Pool (UCP), OCI Session Pool (OCI), and Oracle Data Provider for .NET (ODP.NET)  provide APIs to pass sharding keys during the connection creation. Apache Tomcat, IBM Websphere, Oracle WebLogic Server, and JBOSS can leverage JDBC/UCP support and use sharding. PHP, Python, Perl, and Node.js can leverage OCI support.</p>
                     <p>A shard topology cache is a mapping of the sharding key ranges to the shards. Oracle Integrated Connection Pools maintain this shard topology cache in their memory. Upon the first connection to a given shard (during pool initialization or when the pool connects to newer shards),  the sharding key range mapping is collected from the shards to dynamically build the shard topology cache.</p>
                     <p>Caching the shard topology creates a fast path to the shards and expedites the process of creating a connection to a shard. When a connection request is made with a sharding key, the connection pool looks up the corresponding shard on which this particular sharding key exists (from its topology cache). If a matching connection is available in the pool then the pool returns a connection to the shard by applying its internal connection selection algorithm.</p>
                     <p>A database connection request for a given sharding key that is in any of the cached topology map, goes directly to the shard (that is, bypassing the shard director). Connection Pool also subscribes to RLB notifications from the SDB and dispenses the best connection based on runtime load balancing advisory. Once the connection is established, the client executes transactions directly on the shard. After all transactions for the given sharding key have been executed, the application must return the connection to the pool and obtain a connection for another key.</p>
                     <p>If a matching connection is not available in the pool, then a new connection is created by forwarding the connection request with the sharding key to the shard director.</p>
                     <p>Once the pools are initialized and the shard topology cache is built based on all shards, a shard director outage has no impact on direct routing.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2C0F1289-4B10-4282-A652-4C661D0A6FB4__GUID-973B0EBF-CCF4-4352-B8C2-CCC171BCDC36">
                        <p class="notep1">See Also:</p>
                        <p><a href="sharding-data-routing.html#GUID-64CAD794-FAAA-406B-9E20-0C35E96D3FA8" title="Oracle clients and connections pools are able to recognize sharding keys specified in the connection string for high performance data dependent routing. A shard routing cache in the connection layer is used to route database requests directly to the shard where the data resides.">Direct Routing to a Shard</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-64CAD794-FAAA-406B-9E20-0C35E96D3FA8" title="Oracle clients and connections pools are able to recognize sharding keys specified in the connection string for high performance data dependent routing. A shard routing cache in the connection layer is used to route database requests directly to the shard where the data resides.">Direct Routing to a Shard</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E" name="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E"></a><h4 id="SHARD-GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E" class="sect4"><span class="enumeration_section">6.1.2 </span>Sharding APIs
                  </h4>
                  <div>
                     <p>Oracle connection pools and drivers support Oracle Sharding.</p>
                     <p>JDBC, UCP, OCI, and Oracle Data Provider for .NET (ODP.NET) recognize sharding keys as part of the connection check. Apache Tomcat, Websphere, and WebLogic leverage UCP support for sharding and PHP, Python, Perl, and Node.js leverage OCI support.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E__GUID-F897CC91-29E8-4C95-9151-5922E6F4EC6D">Sharding APIs for Oracle UCP</p>
                        <p>A shard-aware application gets a connection to a given shard by specifying the sharding key using the enhanced sharding API calls <code class="codeph">createShardingKeyBuilder</code> and <code class="codeph">createConnectionBuilder</code>.
                        </p>
                        <p>At a high-level, the following steps have to be followed in making an application work with a Sharded Database:</p>
                        <ol>
                           <li>
                              <p>Update the URL to reflect the Shard Directors and Global Service.</p>
                           </li>
                           <li>
                              <p>Set the pool parameters at the pool level and the shard level:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Initial number of connections to be created when UCP is started using <code class="codeph">setInitialPoolSize</code></p>
                                 </li>
                                 <li>
                                    <p>Minimum number of connections maintained by pool at runtime using <code class="codeph">setMinPoolSize</code></p>
                                 </li>
                                 <li>
                                    <p>UCP property to set maximum number of connections allowed on connection pool using <code class="codeph">setMaxPoolSize</code></p>
                                 </li>
                                 <li>
                                    <p>Set max connections per shard with <code class="codeph">setMaxConnectionsPerShard</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Build a sharding key object with <code class="codeph">createShardingKeyBuilder</code>.
                              </p>
                           </li>
                           <li>
                              <p>Establish a connection using <code class="codeph">createConnectionBuilder</code>.
                              </p>
                           </li>
                           <li>
                              <p>Execute transactions within the scope of the given shard.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E__GUID-0C81050C-FC81-4CE1-8EAE-59AC42C587C1">
                        <p class="titleinexample">Example 6-1 Establishing a Connection Using UCP Sharding API</p>
                        <p>The following is a code fragment which illustrates how the sharding keys are built and connections established using UCP Sharding API calls.</p><pre class="pre codeblock"><code>...

PoolDataSource pds =                                
     PoolDataSourceFactory.getPoolDataSource();
  
  // Set Connection Pool properties
pds.setURL(DB_URL);
pds.setUser("hr");  
pds.setPassword("****");
pds.setInitialPoolSize(10);
pds.setMinPoolSize(20);
pds.setMaxPoolSize(30);
                
// build the sharding key object

OracleShardingKey shardingKey = 
    pds.createShardingKeyBuilder() 
      .subkey("mary.smith@example.com", OracleType.VARCHAR2)
      .build(); 

  // Get an UCP connection for a shard
Connection conn = 
    pds.createConnectionBuilder()
     .shardingKey(shardingKey)
     .build();
...</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E__GUID-33BFD16B-5472-41D4-A38B-12A7ECEB7E9F">
                        <p class="titleinexample">Example 6-2 Sample Shard-Aware Application Code Using UCP Connection Pool</p>
                        <p> In this example the pool settings are defined at the pool level and at the shard level.</p><pre class="pre codeblock"><code>import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import oracle.jdbc.OracleShardingKey;
import oracle.jdbc.OracleType;
import oracle.jdbc.pool.OracleDataSource;
import oracle.ucp.jdbc.PoolDataSource;
import oracle.ucp.jdbc.PoolDataSourceFactory;

public class MaxConnPerShard
{    
  public static void main(String[] args) throws SQLException
  {    
    <span class="bold">String url = "jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=<span class="variable" translate="no">shard-dir1</span>)(PORT=3216)
 (PROTOCOL=tcp))(CONNECT_DATA=(SERVICE_NAME=shsvc.shpool.oradbcloud)(REGION=east)))";
    String user="testuser1", pwd = "testuser1";</span>  
  
    <span class="bold">int maxPerShard = 100, initPoolSize = 20;</span>    

    PoolDataSource pds = PoolDataSourceFactory.getPoolDataSource();
    pds.setConnectionFactoryClassName(OracleDataSource.class.getName());
    pds.setURL(url);
    pds.setUser(user);
    pds.setPassword(pwd);
    pds.setConnectionPoolName("testpool");
    <span class="bold">pds.setInitialPoolSize(initPoolSize);</span>    

    <span class="bold">// set max connection per shard
    pds.setMaxConnectionsPerShard(maxPerShard);</span>
    System.out.println("Max-connections per shard is: "+pds.getMaxConnectionsPerShard());
                
    <span class="bold">// build the sharding key object
    int shardingKeyVal = 123;    
    OracleShardingKey sdkey = pds.createShardingKeyBuilder()
        .subkey(shardingKeyVal, OracleType.NUMBER)
        .build();</span>

    // try to build maxPerShard connections with the sharding key
    Connection[] conns = new Connection[maxPerShard];
    for (int i=0; i&lt;maxPerShard; i++)
    {      
      <span class="bold">conns[i] = pds.createConnectionBuilder()
          .shardingKey(sdkey)
          .build();</span>
    
Statement stmt = conns[i].createStatement();
      ResultSet rs = stmt.executeQuery("select sys_context('userenv', 'instance_name'),
       sys_context('userenv', 'chunk_id') from dual");
      while (rs.next()) {
        System.out.println((i+1)+" - inst:"+rs.getString(1)+", chunk:"+rs.getString(2));
      }
      rs.close();
      stmt.close();
    }      

    System.out.println("Try to build "+(maxPerShard+1)+" connection ...");
    try {
      Connection conn = pds.createConnectionBuilder()
          .shardingKey(sdkey)
          .build();

      Statement stmt = conn.createStatement();
      ResultSet rs = stmt.executeQuery("select sys_context('userenv', 'instance_name'),
       sys_context('userenv', 'chunk_id') from dual");
      while (rs.next()) {
        System.out.println((maxPerShard+1)+" - inst:"+rs.getString(1)+",
         chunk:"+rs.getString(2));
      }
      rs.close();
      stmt.close();

      System.out.println("Problem!!! could not build connection as max-connections per
        shard exceeded");
      conn.close();
    } catch (SQLException e) {
      System.out.println("Max-connections per shard met, could not build connection
        any more, expected exception: "+e.getMessage());
    }    
    for (int i=0; i&lt;conns.length; i++)
    {
      conns[i].close();
    }        
  }
}</code></pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E__GUID-594E12DA-8248-43D3-877B-FA8F27A99032">ODP.NET Sharding APIs</p>
                        <p>A shard-aware application gets a connection to a given shard by specifying the sharding key and super sharding key using ODP.NET APIs, such as the <code class="codeph">SetShardingKey(OracleShardingKey shardingKey, OracleShardingKey superShardingKey)</code> instance method on the <code class="codeph">OracleConnection</code> class.
                        </p>
                        <p>At a high level, the following steps are necessary for a .NET application to work with a Sharded Database:</p>
                        <ol>
                           <li>
                              <p>Use ODP.NET, Unmanaged Driver.</p>
                              <p>Sharding is supported with or without ODP.NET connection pooling. Each pool can maintain connections to different shards of the sharded database.</p>
                           </li>
                           <li>
                              <p>Use an <code class="codeph">OracleShardingKey</code> class to set the sharding key and another instance for the super sharding key.
                              </p>
                           </li>
                           <li>
                              <p>&nbsp;Invoke the <code class="codeph">OracleConnection.SetShardingKey()</code> method prior to calling <code class="codeph">OracleConnection.Open()</code> so that ODP.NET can return a connection with the specified sharding key and super sharding key.
                              </p>
                              <p>These keys must be set while the <code class="codeph">OracleConnection</code> is in a Closed state, otherwise an exception is thrown.
                              </p>
                           </li>
                        </ol>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E__GUID-5DD88D24-08B8-4EAC-A094-076301374AE5">
                        <p class="titleinexample">Example 6-3 Sample Shard-Aware Application Code Using ODP.NET</p><pre class="pre codeblock"><code>using System;
using Oracle.DataAccess.Client;
 
class Sharding
{
  static void Main()
  {
    OracleConnection con = new OracleConnection
      ("user id=hr;password=hr;Data Source=orcl;");
    //Setting a shard key
    OracleShardingKey shardingKey = new OracleShardingKey(OracleDbType.Int32, 123);
    //Setting a second shard key value for a composite key
    shardingKey.SetShardingKey(OracleDbType.Varchar2, "gold");
    //Creating and setting the super shard key
    OracleShardingKey superShardingKey = new OracleShardingKey();
    superShardingKey.SetShardingKey(OracleDbType.Int32, 1000);
    
    //Setting super sharding key and sharding key on the connection
    con.SetShardingKey(shardingKey, superShardingKey);
    con.Open();

    //perform SQL query
  }
}</code></pre></div>
                     <!-- class="example" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A49CEDDD-49F7-49EF-B83B-74048A63021E__GUID-57C6BE35-A449-4212-96F9-3333A3B61125">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=JJDBC-GUID-1D7795CA-79DC-452B-9FCC-0EF430F87461" target="_blank"><span><cite>Oracle Database JDBC Developer’s Guide</cite></span></a> for information about JDBC support for Oracle Sharding
                        </p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=JJUCP-GUID-12685D3A-F083-433A-90DF-C5533009B841" target="_blank"><span><cite>Oracle Universal Connection Pool Developer’s Guide</cite></span></a> for information about UCP support for Oracle Sharding
                        </p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=ODPNT8599" target="_blank"><span><cite>Oracle Data Provider for .NET Developer's Guide for Microsoft Windows</cite></span></a> for information about ODP.NET support for Oracle Sharding
                        </p>
                        <p><a href="../lnoci/oci-interface-for-using-shards.html#LNOCI-GUID-C64136C2-CF65-4507-8811-9A03946CC817" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a> for information about the OCI interface for using shards
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-64CAD794-FAAA-406B-9E20-0C35E96D3FA8" title="Oracle clients and connections pools are able to recognize sharding keys specified in the connection string for high performance data dependent routing. A shard routing cache in the connection layer is used to route database requests directly to the shard where the data resides.">Direct Routing to a Shard</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" name="GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4"></a><h3 id="SHARD-GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" class="sect3"><span class="enumeration_section">6.2 </span>Queries and DMLs with Proxy Routing in a Sharded Database
               </h3>
               <div>
                  <p>Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including <code>SELECT</code> and <code>DML</code>) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.
                  </p>
                  <p>The following topics describe proxy routing in detail:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-7227ADD2-B9B3-4CB4-B0A8-C385415EECF1">About Proxy Routing in a Sharded Database</a><br>Proxy routing is an ancillary usage pattern targeted for developer convenience. It requires a connection be established to the coordinator.
                     </li>
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-9C13DCC4-0018-4049-94D8-70F518008504">Oracle Sharding Multi-Shard Query Coordinator</a><br>The multi-shard query coordinator database contains the metadata of the sharded topology and provides query processing support for sharded databases.
                     </li>
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-E58EA3C1-8EB6-4F51-88BD-FC887035A624">Querying and DMLs Using Proxy Routing</a><br>Proxy routing enables aggregation of data and reporting across shards. It also allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the sharding key (during connect) where the statement should execute.
                     </li>
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-1BC28361-73D8-460E-A5E4-C11FCD721ECC">Proxy Routing for Single-Shard Queries</a><br>A single-shard query is a query which needs to scan data from only one shard and does not need to lookup data from any other shards.
                     </li>
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-E3CF0022-FA38-4DD0-A5D5-7A409EA45F76">Proxy Routing for Multi-Shard Queries</a><br>A multi-shard query must scan data from more than one shard, and the processing on each shard is independent of any other shard.
                     </li>
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B">Supported Query Shapes in Proxy Routing</a><br>Oracle Sharding supports single and multi-shard query shapes with some restrictions.
                     </li>
                     <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-51377035-217B-4624-88CD-A5D5DE125606">Execution Plans for Proxy Routing</a><br>In a multi-shard query, each shard produces an independent execution plan that is potentially different from the plans on the other shards in the query.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-7001A9CC-B681-4DFA-B461-6FD653D9D62D" title="Oracle Sharding supports direct, key-based, routing to a shard, routing by proxy, and routing to mid-tiers.">Request Routing in a Sharded Database Environment</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-7227ADD2-B9B3-4CB4-B0A8-C385415EECF1" name="GUID-7227ADD2-B9B3-4CB4-B0A8-C385415EECF1"></a><h4 id="SHARD-GUID-7227ADD2-B9B3-4CB4-B0A8-C385415EECF1" class="sect4"><span class="enumeration_section">6.2.1 </span>About Proxy Routing in a Sharded Database
                  </h4>
                  <div>
                     <p>Proxy routing is an ancillary usage pattern targeted for developer convenience. It requires a connection be established to the coordinator.</p>
                     <p>The shard catalog database assumes the role of the coordinator database. The coordinator uses the metadata of the sharded topology and provides query processing support for sharded databases. The SQL compiler identifies the relevant shards automatically and coordinates the query execution across all of the participating shards. Once the session is made with the coordinator, SQL queries and DMLs are executed and require no modification.</p>
                     <p>Proxy routing is suitable for the following scenarios:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When the application cannot pass the sharding key during connect</p>
                        </li>
                        <li>
                           <p>When the application needs to access data from sharded tables residing on multiple shards</p>
                        </li>
                        <li>
                           <p>SQL queries typically used in reporting such as aggregates on sales data</p>
                        </li>
                     </ul>
                     <p>Routing using the coordinator allows your application to submit SQL statements without a sharding key value passed during connect. The coordinator’s SQL compiler analyzes and rewrites the query into query fragments  that are sent and executed by the participating shards. The queries are rewritten so that most of the query processing is done on the participating shards and then aggregated by the coordinator. In essence, the shards act as compute nodes for the queries executed by coordinator. Because the computation is pushed to the data, there is reduced movement of data between shards and the coordinator. This arrangement also enables the effective use of resources by offloading processing from the coordinator on to the shards as much as possible.</p>
                     <p>It is recommended that applications separate their workloads for direct routing and proxy routing. Separate connection pools must be created for these workloads.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" title="Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.">Queries and DMLs with Proxy Routing in a Sharded Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9C13DCC4-0018-4049-94D8-70F518008504" name="GUID-9C13DCC4-0018-4049-94D8-70F518008504"></a><h4 id="SHARD-GUID-9C13DCC4-0018-4049-94D8-70F518008504" class="sect4"><span class="enumeration_section">6.2.2 </span>Oracle Sharding Multi-Shard Query Coordinator
                  </h4>
                  <div>
                     <p>The multi-shard query coordinator database contains the metadata of the sharded topology and provides query processing support for sharded databases.</p>
                     <p> </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C13DCC4-0018-4049-94D8-70F518008504__GUID-09E91297-065F-45C1-827E-1CC49B0A6660">Connecting to the Multi-Shard Coordinator</p>
                        <p>To perform multi-shard queries, connect to the multi-shard coordinator using the GDS$CATALOG service on the shard catalog database:</p><pre class="pre codeblock"><code>sqlplus app_schema/app_schema@shardcatvm:1521/GDS\$CATALOG.oradbcloud</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9C13DCC4-0018-4049-94D8-70F518008504__GUID-82F6FFDB-0121-4827-9A14-68D40BBD5A8E">Multi-Shard Coordinator High Availability</p>
                        <p>The availability of the multi-shard coordinator impacts proxy-routing based workloads, so it is highly recommended that the coordinator be protected with Data Guard in Maximum Availability protection mode (zero data loss failover) with fast-start failover enabled. The coordinator may optionally be Oracle RAC-enabled for additional availability and scalability.</p>
                        <p>To improve the scalability and availability of multi-shard query workloads, Oracle Active Data Guard standby shard catalog databases in read-only mode can act as multi-shard query coordinators. For each active replica of the catalog database, a special coordinator service, GDS$COORDINATOR.<span class="variable" translate="no">cloud_name</span> (where <span class="variable" translate="no">cloud_name</span> is the value specified for the <code class="codeph">configname</code> parameter in the GDSCTL command, <code class="codeph">create shardcatalog</code>, and is oradbcloud by default) is running and registered on all shard directors. Clients can connect to this service on any of the replicas and perform multi-shard queries, allowing shard directors to distribute the multi-shard query workload with respect to runtime load balancing and decrease the load on in the primary shard catalog, which is the central component of the Oracle Sharding framework. Additionally, if the database’s region is set, and the client specifies the region in the connection string, a shard director routes a connection with respect to regional affinity.
                        </p>
                        <p>Availability of the multi-shard query coordinator has zero impact on workloads using direct routing.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9C13DCC4-0018-4049-94D8-70F518008504__GUID-A3330ED0-5051-4ED4-8033-B5ADDF4CC94A">Multi-Shard Query Coordinator Database Sizing</p>
                        <p>The shard catalog and multi-shard query coordinator host the following key information:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Metadata of the sharded database topology</p>
                           </li>
                           <li>
                              <p>Schema of the sharded application</p>
                           </li>
                           <li>
                              <p>Master copies of the duplicated tables </p>
                           </li>
                        </ul>
                        <p>The size of the metadata and the schema is nominal; however, the number of duplicated tables and the space they occupy should be planned for when sizing the multi-shard query coordinator.</p>
                        <p>In addition to the above, the multi-shard query coordinator should also be sized to handle proxy routing, which can be CPU, I/O, and memory intensive based on the SQL queries and the amount of data being processed.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-8CB6442A-9326-4242-892A-4383E05C1C48">Resiliency of Proxy Routing</a><br>It is highly recommended that the coordinator be protected with Data Guard with fast-start failover and optionally be Oracle RAC-enabled for availability and scalability
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" title="Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.">Queries and DMLs with Proxy Routing in a Sharded Database</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-8CB6442A-9326-4242-892A-4383E05C1C48" name="GUID-8CB6442A-9326-4242-892A-4383E05C1C48"></a><h5 id="SHARD-GUID-8CB6442A-9326-4242-892A-4383E05C1C48" class="sect5"><span class="enumeration_section">6.2.2.1 </span>Resiliency of Proxy Routing
                     </h5>
                     <div>
                        <p>It is highly recommended that the coordinator be protected with Data Guard with fast-start failover and optionally be Oracle RAC-enabled for availability and scalability</p>
                        <p>Failure of the coordinator affects multi- and single-shard queries that are routed through the coordinator. The following are failure scenarios while querying and the expected behavior of proxy routing:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If a participating shard is down, then the coordinator sends the query to another shard with same data.</p>
                           </li>
                           <li>
                              <p>If failure happens during execution of the query on a participating shard, then the user will receive an error.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-9C13DCC4-0018-4049-94D8-70F518008504" title="The multi-shard query coordinator database contains the metadata of the sharded topology and provides query processing support for sharded databases.">Oracle Sharding Multi-Shard Query Coordinator</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E58EA3C1-8EB6-4F51-88BD-FC887035A624" name="GUID-E58EA3C1-8EB6-4F51-88BD-FC887035A624"></a><h4 id="SHARD-GUID-E58EA3C1-8EB6-4F51-88BD-FC887035A624" class="sect4"><span class="enumeration_section">6.2.3 </span>Querying and DMLs Using Proxy Routing
                  </h4>
                  <div>
                     <p>Proxy routing enables aggregation of data and reporting across shards. It also allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the sharding key (during connect) where the statement should execute.</p>
                     <p>In both aggregation and SQL execution without a sharding key use-cases, the user accepts a reduced level of performance compared to direct, key-based, routing.</p>
                     <p>In a sharded database (SDB), there are two types of tables: sharded tables and duplicated tables.</p>
                     <p>Sharded tables are equi-partitioned on a sharding key.</p><pre class="pre codeblock"><code>S=S1 <span class="bold">U</span> S2 <span class="bold">U</span> … <span class="bold">U</span> Sn</code></pre><p>Duplicated tables are identical on all shards.</p><pre class="pre codeblock"><code>R = R1 = … = Rn</code></pre><p>Proxy routing in an SDB provides a transparent mechanism to execute typical SQL queries that access data from sharded and duplicated tables without requiring the application to specify the relevant shards The SQL compiler identifies the relevant shards automatically and coordinates the query execution across all the participating shards. Database links are used for the communication between the coordinator and the shards.</p>
                     <p>At a high level the coordinator rewrites each incoming query, Q, into a distributive form composed of two queries, CQ and SQ, where SQ (Shard Query) is the portion of Q that executes on each participating shard and CQ (Coordinator Query) is the portion that executes on the coordinator shard. </p><pre class="pre codeblock"><code>Q  =&gt;  CQ ( Shard_Iterator( SQ ) )</code></pre><p>The following is an example of an aggregate query Q1 rewritten into Q1’ for an inter shard execution:</p><pre class="pre codeblock"><code>Q1 : SELECT COUNT(*) FROM customers

Q1’: SELECT SUM(sc) FROM (Shard_Iterator(SELECT COUNT(*) sc FROM s1 (i) ))</code></pre><p>There are two key elements in this process: (1) identifying the relevant shards  (2) rewriting the query into a distributive form, and shard iteration.</p>
                     <p>During the compilation of a query on the coordinator database, the query compiler analyzes the predicates on the sharding key and extracts the ones that can be used to identify the participating shards, i.e. shards that will contribute rows for the sharded tables referenced in the query. The rest of the shards are referred to as pruned shards. </p>
                     <p>In the case where only one participating shard was identified, the full query is routed to that shard for full execution. This is called a single-shard query. If there is more than one participating shard the query is known as multi-shard query and is rewritten. The rewriting process takes into account the expressions computed by the query as well as the query shape. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" title="Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.">Queries and DMLs with Proxy Routing in a Sharded Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-1BC28361-73D8-460E-A5E4-C11FCD721ECC" name="GUID-1BC28361-73D8-460E-A5E4-C11FCD721ECC"></a><h4 id="SHARD-GUID-1BC28361-73D8-460E-A5E4-C11FCD721ECC" class="sect4"><span class="enumeration_section">6.2.4 </span>Proxy Routing for Single-Shard Queries
                  </h4>
                  <div>
                     <p>A single-shard query is a query which needs to scan data from only one shard and does not need to lookup data from any other shards.</p>
                     <p>The single-shard query is similar to a client connecting to a specific shard and issuing a query on that shard. In this scenario, the entire query will be executed on the single participating shard, and the coordinator just passes processed rows back to the client. The plan on the coordinator is similar to the remote mapped cursor.</p>
                     <p>For example, the following query is fully mapped to a single shard because the data for customer 123 is located only on that shard.</p><pre class="pre codeblock"><code>SELECT count(*) FROM customers c, orders o WHERE c.custno = o.custno and c.custno = 123;
</code></pre><p>The query contains a condition on the shard key that maps to one and only one shard which is known at query compilation time (literals) or query start time (bind). The query is fully executed on the qualifying shard.</p>
                     <p>Single-shard queries are supported for:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Equality and In-list, such as <code class="codeph">Area = ‘West’</code></p>
                        </li>
                        <li>
                           <p>Conditions containing literal, bind, or expression of literals and binds, such as </p><pre class="pre codeblock"><code>Area = :bind

Area = CASE :bind &lt;10 THEN ‘West’ ELSE ‘East’ END</code></pre></li>
                        <li>
                           <p><code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, <code class="codeph">INSERT</code>, <code class="codeph">FOR UPDATE</code>, and <code class="codeph">MERGE</code>. <code class="codeph">UPSERT</code> is not supported.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" title="Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.">Queries and DMLs with Proxy Routing in a Sharded Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E3CF0022-FA38-4DD0-A5D5-7A409EA45F76" name="GUID-E3CF0022-FA38-4DD0-A5D5-7A409EA45F76"></a><h4 id="SHARD-GUID-E3CF0022-FA38-4DD0-A5D5-7A409EA45F76" class="sect4"><span class="enumeration_section">6.2.5 </span>Proxy Routing for Multi-Shard Queries
                  </h4>
                  <div>
                     <p>A multi-shard query must scan data from more than one shard, and the processing on each shard is independent of any other shard.</p>
                     <p>A multi-shard query maps to more than one shard and the coordinator may need to do some processing before sending the result to the client. For example, the following query fetches the number of orders placed by each customer.</p><pre class="pre codeblock"><code>SELECT count(*), c.custno FROM customers c, orders o WHERE c.custno = o.custno
 GROUP BY c.custno;
</code></pre><p>The query is transformed to the following by the coordinator.</p><pre class="pre codeblock"><code>SELECT sum(count_col), custno FROM (SELECT count(*) count_col, c.custno
 FROM customers c, orders o 
 WHERE c.custno = o.custno GROUP BY c.custno) GROUP BY custno;
</code></pre><p>The inline query block is mapped to every shard just as a remote mapped query block. The coordinator performs further aggregation and <code class="codeph">GROUP BY</code> on top of the result set from all shards. The unit of execution on every shard is the inline query block.
                     </p>
                     <p>Multi-shard queries are supported for <code class="codeph">SELECT</code> statements only. A query can either access a single shard (in case of equality filter), or ALL shards (in case of no filter predicate on sharding key).
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="sharding-data-routing.html#GUID-902C8750-EF4E-4551-AF75-AC4B95FC7D03">Specifying Consistency Levels in a Multi-Shard Query</a><br>You can use the initialization parameter MULTISHARD_QUERY_DATA_CONSISTENCY to set different consistency levels when executing multi-shard queries across shards.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" title="Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.">Queries and DMLs with Proxy Routing in a Sharded Database</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-902C8750-EF4E-4551-AF75-AC4B95FC7D03" name="GUID-902C8750-EF4E-4551-AF75-AC4B95FC7D03"></a><h5 id="SHARD-GUID-902C8750-EF4E-4551-AF75-AC4B95FC7D03" class="sect5"><span class="enumeration_section">6.2.5.1 </span>Specifying Consistency Levels in a Multi-Shard Query
                     </h5>
                     <div>
                        <p>You can use the initialization parameter MULTISHARD_QUERY_DATA_CONSISTENCY to set different consistency levels when executing multi-shard queries across shards.</p>
                        <p>You can specify different consistency levels for multi-shard queries. For example, you might want some queries to avoid the cost of SCN synchronization across shards, and these shards could be globally distributed. Another use case is when you use standbys for replication and slightly stale data is acceptable for multi-shard queries, as the results could be fetched from the primary and its standbys.</p>
                        <p>The default mode is strong, which performs SCN synchronization across all shards. Other modes skip SCN synchronization. The delayed_standby_allowed level allows fetching data from the standbys as well, depending on load balancing and other factors, and could contain stale data.</p>
                        <p>This parameter can be set either at the system level or at the session level.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-902C8750-EF4E-4551-AF75-AC4B95FC7D03__GUID-411DF42A-BBD9-438B-ADF2-459FFB35F647">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=REFRN-GUID-313D79DE-1A42-482C-BF41-6F821C8F3307" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about MULTISHARD_QUERY_DATA_CONSISTENCY usage.
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-E3CF0022-FA38-4DD0-A5D5-7A409EA45F76" title="A multi-shard query must scan data from more than one shard, and the processing on each shard is independent of any other shard.">Proxy Routing for Multi-Shard Queries</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B" name="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B"></a><h4 id="SHARD-GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B" class="sect4"><span class="enumeration_section">6.2.6 </span>Supported Query Shapes in Proxy Routing
                  </h4>
                  <div>
                     <p>Oracle Sharding supports single and multi-shard query shapes with some restrictions.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-ACE4058D-5510-4CD5-887B-8BFA731BB5D2">Restrictions</p>
                        <p>The following are restrictions on the use of query constructs in Oracle Sharding:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Restrictions on DMLs are given with examples in the Transactions section below.</p>
                           </li>
                           <li>
                              <p><code class="codeph">CONNECT BY</code> queries are not supported.
                              </p>
                           </li>
                           <li>
                              <p>User-defined PL/SQL is allowed in multi-shard queries only in the <code class="codeph">SELECT</code> clause. If it is specified in the <code class="codeph">WHERE</code> clause then an error is thrown.
                              </p>
                              <p>XLATE, XML query and Object type column are not supported.</p>
                           </li>
                           <li>
                              <p>IAS on sharded table on coordinator is not supported.</p>
                           </li>
                           <li>
                              <p><code class="codeph">MODEL</code> clause is not supported.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-91DF1B49-1CE2-4C41-B697-A139003AF5B0">Query Involves Only Duplicated Tables</p>
                        <p>For queries that involve only duplicated tables there are no restrictions on the query shape. The query is executed on the coordinator.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-22F4E52A-FDE3-4096-93F6-E11CC42190C8">Query Involves Only Sharded Tables</p>
                        <p>For a single table query, the query can have an equality filter on the sharding key that qualifies a shard. For join queries, all of the tables should be joined using equality on the sharding key. The following are some examples of queries involving sharded tables.</p>
                        <p>Inner join where equi-join is only on sharding key.</p><pre class="pre codeblock"><code>SELECT … FROM s1 INNER JOIN s2 ON s1.sk=s2.sk 
WHERE any_filter(s1) AND any_filter(s2)
</code></pre><p>Left outer join only on sharding key.</p><pre class="pre codeblock"><code>SELECT … FROM s1 LEFT OUTER JOIN s2 ON s1.sk=s2.sk</code></pre><p>Right outer join, same as left outer join.</p><pre class="pre codeblock"><code>SELECT … FROM s1 RIGHT OUTER JOIN s2 ON s1.sk=s2.sk</code></pre><p>Full outer join only on the sharding key, but only if Native is valid which requires equi-join.</p><pre class="pre codeblock"><code>SELECT … FROM s1 FULL OUTER JOIN s2 ON s1.sk=s2.sk
WHERE any_filter(s1) AND any_filter(s2)
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-D71A9767-639F-422D-90D5-71CF5E691507">Query Involves Sharded and Duplicated Tables</p>
                        <p>A query involving both sharded and duplicated tables can be either a single-shard or multi-shard query, based on the predicates on the sharding key. The only difference is that the query will contain a non sharded table which is duplicated on each shard.</p>
                        <p>Joins between a sharded table and a duplicated table can be on any column using any comparison operator (= &lt; &gt; &lt;= &gt;=) or even arbitrary join expression. The following are examples of join patterns.</p>
                        <p>Inner join</p><pre class="pre codeblock"><code>SELECT … FROM s1 INNER JOIN r1 ON any_join_condition(s1,r1) 
WHERE any_filter(s1) AND any_filter(r1)
</code></pre><p>Left/Right outer join</p>
                        <p>Where sharded table is the first table in <code class="codeph">LEFT OUTER JOIN</code>:
                        </p><pre class="pre codeblock"><code>SELECT … FROM <span class="bold">s1</span> LEFT OUTER JOIN r1 ON any_join_condition(s1,r1) 
WHERE any_filter(s1) AND any_filter(r1)

SELECT … FROM r1 LEFT OUTER JOIN <span class="bold">s1</span> ON any_join_condition(s1,s2) 
AND any_filter(r1) AND <span class="bold">filter_one_shard(s1)</span></code></pre><p>Where sharded table is second table in <code class="codeph">RIGHT OUTER JOIN</code>:
                        </p><pre class="pre codeblock"><code>SELECT … FROM r1 RIGHT OUTER JOIN <span class="bold">s1</span> ON any_join_condition(s1,r1) 
WHERE any_filter(s1) AND any_filter(r1)

SELECT … FROM <span class="bold">s1</span> RIGHT OUTER JOIN r1 ON any_join_condition(s1,s2) 
AND <span class="bold">filter_one_shard(s1)</span> AND any_filter(r1)
</code></pre><p>Full outer join</p><pre class="pre codeblock"><code>SELECT … FROM s1 FULL OUTER JOIN r1 ON s1.sk=s2.sk
WHERE any_filter(s1) AND any_filter(s2)
</code></pre><p>Semi-join (<code class="codeph">EXISTS</code>)
                        </p><pre class="pre codeblock"><code>SELECT … FROM s1 EXISTS 
(SELECT 1 FROM r1 WHERE r1.anykey=s1.anykey)

SELECT … FROM r1 EXISTS 
(SELECT 1 FROM s1 WHERE r1.anykey=s1.anykey and filter_one_shard(s1))
</code></pre><p>Anti-join (<code class="codeph">NOT EXISTS</code>)
                        </p><pre class="pre codeblock"><code>SELECT … FROM s1 NOT EXISTS 
(SELECT 1 FROM r1 WHERE r1.anykey=s1.anykey)	
</code></pre><p>Left/Right outer join</p>
                        <p>Where the duplicated table is the first table in <code class="codeph">LEFT OUTER JOIN</code>, or the sharded table is first and it maps to a single shard based on filter predicate on sharding key:
                        </p><pre class="pre codeblock"><code>SELECT … FROM r1 LEFT OUTER JOIN s1 ON any_join_condition(s1,s2) 
AND any_filter(r1) AND any_filter(s1)
</code></pre><p>Where the duplicated table is the second table in <code class="codeph">RIGHT OUTER JOIN</code>, or the sharded table is second and it maps to a single shard based on filter predicate on sharding key:
                        </p><pre class="pre codeblock"><code>SELECT … FROM s1 RIGHT OUTER JOIN r1 ON any_join_condition(s1,s2) 
AND any_filter (s1) AND any_filter(r1)
</code></pre><p>Full Outer Join</p>
                        <p>Sharded table requiring access to multiple shards:</p><pre class="pre codeblock"><code>SELECT … FROM s1 FULL OUTER JOIN r1 ON s1.non_sk=s2.non_sk
WHERE any_filter(s1) AND any_filter(s2)
</code></pre><p>Semi-join (<code class="codeph">EXISTS</code>)
                        </p>
                        <p>Sharded table is in a subquery that requires access of multiple shards:</p><pre class="pre codeblock"><code>SELECT … FROM r1 EXISTS 
(SELECT 1 FROM s1 WHERE r1.anykey=s1.anykey)
</code></pre><p>Anti-join (<code class="codeph">NOT EXISTS</code>)
                        </p>
                        <p>Sharded table is in the sub-query:</p><pre class="pre codeblock"><code>SELECT … FROM r1 NOT EXISTS 
(SELECT 1 FROM s1 WHERE r1.anykey=s1.anykey</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-885861C9-D473-4B22-9D74-6AC1951C0D50">Aggregate Functions</p>
                        <p>The following aggregations are supported by proxy routing:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">COUNT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SUM</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MIN</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MAX</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">AVG</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-1974D8DE-2376-47DA-85DF-92E7EFA3ED0F">Multi-shard Queries and Global CR</p>
                        <p>A multi-shard query must maintain global read consistency (CR) by issuing the query at the highest common SCN across all the shards. See <a href="sharding-data-routing.html#GUID-902C8750-EF4E-4551-AF75-AC4B95FC7D03" title="You can use the initialization parameter MULTISHARD_QUERY_DATA_CONSISTENCY to set different consistency levels when executing multi-shard queries across shards.">Specifying Consistency Levels in a Multi-Shard Query</a> for information about how to set consistency levels.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-153720B4-2DF6-452C-9F69-0AE9B37FABFC">Transactions</p>
                        <p>A DML statement that <span class="underline">affects only one shard</span> is supported. For example,
                        </p><pre class="pre codeblock"><code>update S1 set col = … where <span class="bold">sk = &lt;constant&gt;</span>;</code></pre><p>A DML statement that affects more than one shard is not supported. For example,</p><pre class="pre codeblock"><code>update S1 set col = …;</code></pre><p>Within a transaction, multiple single shard DMLs can be performed on different shards. For example,</p><pre class="pre codeblock"><code>insert into S1 values (…);
Update S1 set col = … where <span class="bold">sk = <span class="variable" translate="no">constant</span></span>;
Delete S1 where <span class="bold">sk = <span class="variable" translate="no">constant</span></span>;
Commit;</code></pre><p>For multi-shard DML, the coordinator uses database link, starts a distributed transaction and performs two phase commit to guarantee the consistency of the distributed transaction. In the case of an in-doubt transaction, the database administrator has to recover it manually.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-66A389F7-D1F0-46F7-8A4C-7116E83F4489">Passing Hints in Multi-Shard Queries</p>
                        <p>Any hint specified in the original query on the coordinator is propagated to the shards.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE5D2C35-6CB2-45CC-B936-CABA2C329E1B__GUID-EBD29518-E44D-42CB-9DC4-FC9A95B1DC98">Tracing and Troubleshooting Slow Running Multi-Shard Queries</p>
                        <p>Set the trace event <code class="codeph">shard_sql</code> on the coordinator to trace the query rewrite and shard pruning. One of the common performance issues observed is when the GROUP BY is not pushed to the shards because of certain limitations of the sharding. Check if all of the possible operations are pushed to the shards and the coordinator has minimal work to consolidate the results from shards.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" title="Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.">Queries and DMLs with Proxy Routing in a Sharded Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-51377035-217B-4624-88CD-A5D5DE125606" name="GUID-51377035-217B-4624-88CD-A5D5DE125606"></a><h4 id="SHARD-GUID-51377035-217B-4624-88CD-A5D5DE125606" class="sect4"><span class="enumeration_section">6.2.7 </span>Execution Plans for Proxy Routing
                  </h4>
                  <div>
                     <p>In a multi-shard query, each shard produces an independent execution plan that is potentially different from the plans on the other shards in the query.</p>
                     <p>You do not need to connect to individual shards to see the explain plan for SQL fragments. Interfaces provided in <code class="codeph">dbms_xplan.display_cursor()</code> display on the coordinator the plans for the SQL segments executed on the shards, and <code class="codeph">[V/X]$SHARD_SQL</code> uniquely maps a shard SQL fragment of a multi-shard query to the target shard database.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-51377035-217B-4624-88CD-A5D5DE125606__GUID-94DB70CE-D8C0-4DD8-960F-836AA88EFC86">SQL segment interfaces for dbms_xplan.display_cursor()</p>
                        <p>Two interfaces display the plan of a SQL segment executed on shards. The interfaces take shard IDs as the argument to display the plans from the specified shards . The <code class="codeph">ALL_SHARDS</code> format displays the plans from all of the shards.
                        </p>
                        <p>To print all the plans from shards use the format ALL_SHARDS as shown here.</p><pre class="pre codeblock"><code>select * from table(dbms_xplan.display_cursor(sql_id=&gt;:sqlid,
                                              cursor_child_no=&gt;:childno,
                                              format=&gt;'BASIC +<span class="bold">ALL_SHARDS</span>‘,
                                              shard_ids=&gt;shard_ids))</code></pre><p>To print selective plans from the shards, pass shard IDs in the <code class="codeph">display_cursor()</code> function. For plans from multiple shards pass an array of numbers containing shard IDs of interest in the <code class="codeph">shard_ids</code> parameter as shown here.
                        </p><pre class="pre codeblock"><code>select * from table(dbms_xplan.display_cursor(sql_id=&gt;:sqlid, 
                                               cursor_child_no=&gt;:childno,
                                               format=&gt;'BASIC',
                                               <span class="bold">shard_ids=&gt;ids</span>))</code></pre><p>To return a plan from one shard pass the shard ID directly to the <code class="codeph">shard_id</code> parameter, as shown here.
                        </p><pre class="pre codeblock"><code>select * from table(dbms_xplan.display_cursor(sql_id=&gt;:sqlid,
                                              cursor_child_no=&gt;:childno,
                                              format=&gt;'BASIC',
                                              <span class="bold">shard_id=&gt;1</span>))
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51377035-217B-4624-88CD-A5D5DE125606__GUID-C827DA36-3151-42EC-9606-2AD0D0963C7D">[V/X]$SHARD_SQL</p>
                        <p><code class="codeph">[V/X]$SHARD_SQL</code> uniquely maps a shard SQL fragment of a multi-shard query to the target shard database. This view is relevant only for the shard coordinator database to store a list of shards accessed for each shard SQL fragment for a given multi-shard query. Every execution of a multi-shard query can execute a shard SQL fragment on different set of shards, so every execution updates the shard IDs. This view maintains the SQL ID of a shard SQL fragment for each REMOTE node and the SHARD IDs on which the shard SQL fragment was executed.
                        </p><pre class="pre codeblock"><code>Name                                      Null?    Type
----------------------------------------- -------- ----------------------------
 SQL_ID                                            VARCHAR2(13)
 CHILD_NUMBER                                      NUMBER
 NODE_ID                                           NUMBER
 SHARD_SQL_ID                                      VARCHAR2(13)
 SHARD_ID                                          NUMBER
 SHARD_CHILD_NUMBER                                NUMBER</code></pre><ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">SQL_ID</span> &#x2013; SQL ID of a multi-shard query on coordinator 
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">CHILD_NUMBER</span> &#x2013; cursor child number of a multi-shard query on coordinator 
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">NODE_ID</span> &#x2013; ID of REMOTE node for a shard SQL fragment of a multi-shard query
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">SHARD_SQL_ID</span> &#x2013; SQL ID of the shard SQL fragment for given remote NODE ID
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">SHARD_ID</span> &#x2013; IDs of shards where the shard SQL fragment was executed
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">SHARD _CHILD_NUMBER</span>&#x2013; cursor child number of a shard SQL fragment on a shard (default 0)
                              </p>
                           </li>
                        </ul>
                        <p>The following is an example of a multi-shard query on the sharded database and the execution plan.</p><pre class="pre codeblock"><code>SQL&gt; select count(*) from departments a where exists (select distinct department_id
 from departments b where b.department_id=60);
------------------------------------------------
| Id  | Operation          | Name              |
------------------------------------------------
|   0 | SELECT STATEMENT   |                   |
|   1 |  SORT AGGREGATE    |                   |
|   2 |   FILTER           |                   |
|   3 |    VIEW            | VW_SHARD_377C5901 |
|   4 |     SHARD ITERATOR |                   |
|   5 |      <span class="bold">REMOTE</span>        |                   |
|   6 |    VIEW            | VW_SHARD_EEC581E4 |
|   7 |     SHARD ITERATOR |                   |
|   8 |      <span class="bold">REMOTE</span>        |                   |
------------------------------------------------
</code></pre><p>A query of SQL_ID on the <code class="codeph">V$SHARD_SQL</code> view.
                        </p><pre class="pre codeblock"><code>SQL&gt; Select * from v$shard_sql where SQL_ID = ‘1m024z033271u’;
SQL_ID        NODE_ID   SHARD_SQL_ID  SHARD_ID
------------- -------  -------------- --------
1m024z033271u       5   5z386yz9suujt        1
1m024z033271u       5   5z386yz9suujt       11 
1m024z033271u       5   5z386yz9suujt       21 
1m024z033271u       8   8f50ctj1a2tbs 	    11
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-51377035-217B-4624-88CD-A5D5DE125606__GUID-570F1CD0-8191-4F5C-BCBD-1CBED91EA578">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=ARPLS-GUID-BEE6D488-0381-4864-9B19-6299DE2B6210" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=REFRN-GUID-35400A54-B329-4C50-96AB-830152437737" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-EFC30D99-D4A8-40F6-A0DC-D15FE7BDC7F4" title="Sharding supports routing for queries that do not specify a sharding key. This allows the flexibility for any database application to execute SQL statements (including SELECT and DML) in a system where tables are sharded or duplicated without the need to specify the shards where the query should be executed.">Queries and DMLs with Proxy Routing in a Sharded Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-F5D3C0B6-83F9-457A-97A9-429AC9EE4550" name="GUID-F5D3C0B6-83F9-457A-97A9-429AC9EE4550"></a><h3 id="SHARD-GUID-F5D3C0B6-83F9-457A-97A9-429AC9EE4550" class="sect3"><span class="enumeration_section">6.3 </span>Creating Affinity Between Middle-Tier Connection Pools and Shards
               </h3>
               <div>
                  <p>A Oracle Universal Connection Pool (UCP) feature called middle-tier routing allows smart routers (F5 BigIP, for example) to route to the middle tier associated with a sharding key. It publishes the sharded database topology to the router tier so that requests based on specific sharding keys are routed to the appropriate&nbsp;application middle tier, which in turn establishes connections on the given subset of shards.</p>
                  <p>In a typical Oracle Sharding environment, middle-tier connection pools route database requests to specific shards. This can lead to a situation where each middle-tier connection pool establishes connections to each shard. This can create too many connections to the database. The issue can be solved by creating an affinity between the middle tiers and shards. In this scenario it would be ideal to dedicate a middle tier (web server, application server) for each data center or cloud, and to have client requests routed directly to the middle tier where the shard containing the client data (corresponding to the client shard key) resides. A common term used for this kind of setup is swim lanes, where each swim lane is a dedicated stack, from web server to application server all the way to the database.</p>
                  <p>Oracle Universal Connection Pool (UCP) solves this problem by providing a middle-tier routing API which can be used to route client requests to the relevant middle tier. The UCP middle tier API is exposed by the <code class="codeph">OracleShardRoutingCache</code> class. An instance of this class represents the UCP internal shard routing cache, which can be created by providing connection properties such as user, password, and URL. The routing cache connects to the sharding catalog to retrieve the key to shard mapping topology and stores it in its cache.
                  </p>
                  <p>The routing cache is used by UCP middle-tier API <code class="codeph">getShardInfoForKey(shardKey,superShardKey)</code>, which accepts a sharding key as input and returns a set of <code class="codeph">ShardInfo</code> instances mapped to the input sharding key. The <code class="codeph">ShardInfo</code> instance encapsulates a unique shard name and priority of the shard. An application using the middle-tier API can map the returned unique shard name value to a middle tier that has connections to a specific shard. The routing cache is automatically updated when chunks are split or moved to other shards by subscribing to respective ONS events.
                  </p>
                  <p>The following code example illustrates the usage of Oracle UCP middle-tier routing API.</p>
                  <div class="example" id="GUID-F5D3C0B6-83F9-457A-97A9-429AC9EE4550__GUID-5D4DAF99-8CF1-4D44-B188-DC10264559E1">
                     <p class="titleinexample">Example 6-4 Middle-Tier Routing Using UCP API</p><pre class="pre codeblock"><code>import java.sql.SQLException;
import java.util.Properties;
import java.util.Random;
import java.util.Set;

import oracle.jdbc.OracleShardingKey;
import oracle.jdbc.OracleType;
import oracle.ucp.UniversalConnectionPoolException;
import oracle.ucp.routing.ShardInfo;
import oracle.ucp.routing.oracle.OracleShardRoutingCache;

/**
 * The code example illustrates the usage of UCP's mid-tier routing feature.  
 * The API accepts sharding key as input and returns the set of ShardInfo 
 * instances mapped to the sharding key. The ShardInfo instance encapsulates 
 * unique shard name and priority. The unique shard name then can be mapped 
 * to a mid-tier server which connects to a specific shard.
 *
 */
public class MidtierShardingExample {

  private static String user = "testuser1";
  private static String password = "testuser1";

  // catalog DB URL
  private static String url = "jdbc:oracle:thin:@//hostName:1521/catalogServiceName";
  private static String region = "regionName";

  public static void main(String args[]) throws Exception {
    testMidTierRouting();
  }

  static void testMidTierRouting() throws UniversalConnectionPoolException,
      SQLException {

    Properties dbConnectProperties = new Properties();
    dbConnectProperties.setProperty(OracleShardRoutingCache.USER, user);
    dbConnectProperties.setProperty(OracleShardRoutingCache.PASSWORD, password);
    // Mid-tier routing API accepts catalog DB URL
    dbConnectProperties.setProperty(OracleShardRoutingCache.URL, url);

    // Region name is required to get the ONS config string
    dbConnectProperties.setProperty(OracleShardRoutingCache.REGION, region);

    OracleShardRoutingCache routingCache = new OracleShardRoutingCache(
        dbConnectProperties);

    final int COUNT = 10;
    Random random = new Random();

    for (int i = 0; i &lt; COUNT; i++) {
      int key = random.nextInt();
      OracleShardingKey shardKey = routingCache.getShardingKeyBuilder()
          .subkey(key, OracleType.NUMBER).build();
      OracleShardingKey superShardKey = null;

      Set&lt;ShardInfo&gt; shardInfoSet = routingCache.getShardInfoForKey(shardKey,
          superShardKey);

      for (ShardInfo shardInfo : shardInfoSet) {
        System.out.println("Sharding Key=" + key + " Shard Name="
            + shardInfo.getName() + " Priority=" + shardInfo.getPriority());
      }
    }

  }
}
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/shard&amp;id=JJUCP-GUID-6B3483EE-6E38-4B76-AAAC-0192E5827C3A" target="_blank">Middle-Tier Routing Using UCP</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sharding-data-routing.html#GUID-7001A9CC-B681-4DFA-B461-6FD653D9D62D" title="Oracle Sharding supports direct, key-based, routing to a shard, routing by proxy, and routing to mid-tiers.">Request Routing in a Sharded Database Environment</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04868.database-concepts.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Database Concepts</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="cobol-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T02:40:40-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96466-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="precompiler-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="datatypes-and-host-variables.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*COBOL Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="precompiler-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="datatypes-and-host-variables.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="introduction-and-concepts.html" property="item" typeof="WebPage"><span property="name"> Introduction and Concepts </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Database Concepts</li>
            </ol>
            <a id="GUID-0F4F51CC-ED32-427A-9631-7BCDDC7D2DB2" name="GUID-0F4F51CC-ED32-427A-9631-7BCDDC7D2DB2"></a><a id="LNPCB003"></a>
            
            <h2 id="LNPCB-GUID-0F4F51CC-ED32-427A-9631-7BCDDC7D2DB2" class="sect2"><span class="enumeration_chapter">3 </span> Database Concepts
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains the CONNECT statement and its options, Oracle Net Services, and related network connection statements. Transaction processing is presented. You learn the basic techniques that safeguard the consistency of your database, including how to control whether changes to Oracle data are made permanent or undone. </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="database-concepts.html#GUID-5B6A77A1-D7B0-4BC1-B194-E7EB51A54304">Connecting to Oracle</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-E3F2A833-D42D-475F-8DE5-F1EFD91E2A2C">Default Databases and Connections</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-E1177148-D3CD-4BD8-9410-960476A6617C">Key Terms</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-6A1C673E-993A-453B-9390-DEF91EEE3D65">How Transactions Guard a Database</a> 
                     </p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-B7317C1E-9549-4ACD-884C-35F3628CA825">Beginning and Ending Transactions</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-F6D78EC6-B50D-45E7-B409-0D3994CF5339">Using the COMMIT Statement</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-C323E4D2-9CEE-46B6-8C08-50B71EA5505D">Using the ROLLBACK Statement</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-59EEDD58-7CD0-4842-9545-6B2C52D6488B">Using the SAVEPOINT Statement</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-4B174FCB-ADD2-46EC-B0D0-6C64BE0DC1D4">Using the RELEASE Option</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-7CCD2A18-D062-4F41-AABF-D58A763E6627">Using the SET TRANSACTION Statement</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-78E84CE3-AFAA-4279-B3BE-48800AD6ADAC">Overriding Default Locking</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-687E5EBE-714C-49B1-928E-4EB8310B85A8">Fetching Across Commits</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-123F9392-C594-46DB-A2BB-92A92953C08A">Handling Distributed Transactions</a></p>
                  </li>
                  <li>
                     <p><a href="database-concepts.html#GUID-5BE08E32-E12A-48B0-AEBE-DAF750831D12">Guidelines for Transaction Processing</a></p>
                  </li>
               </ul>
            </div><a id="LNPCB203"></a><div class="props_rev_3"><a id="GUID-5B6A77A1-D7B0-4BC1-B194-E7EB51A54304" name="GUID-5B6A77A1-D7B0-4BC1-B194-E7EB51A54304"></a><h3 id="LNPCB-GUID-5B6A77A1-D7B0-4BC1-B194-E7EB51A54304" class="sect3"><span class="enumeration_section">3.1 </span>Connecting to Oracle
               </h3>
               <div>
                  <p>Your Pro*COBOL program must log on to Oracle before querying or manipulating data. To log on, you use the CONNECT statement, as in<a id="d10894e119" class="indexterm-anchor"></a><a id="d10894e121" class="indexterm-anchor"></a><a id="d10894e125" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         CONNECT :USERNAME IDENTIFIED BY :PASSWD
     END-EXEC. 
</pre><p>where USERNAME and PASSWD are PIC X(<span class="italic">n</span>) or PIC X(<span class="italic">n</span>) VARYING host variables. Alternatively, you can use the statement: 
                  </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         CONNECT :USR-PWD 
     END-EXEC. 
</pre><p>where the host variable USR-PWD contains your username and password separated by a slash (/) followed by an optional tnsnames.ora alias (@TNSALIAS). </p>
                  <p>The syntax for the CONNECT statement has an optional ALTER AUTHORIZATION clause. The complete syntax for CONNECT is shown here:</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
        CONNECT { :user IDENTIFIED BY :oldpswd | :usr_psw }
        [[AT { dbname | :host_variable }] USING :connect_string ]
        [ {ALTER AUTHORIZATION :newpswd  | IN {SYSDBA | SYSOPER} MODE} ]
     END-EXEC.
</pre><p>The CONNECT statement must be the first SQL statement executed by the program. That is, other executable SQL statements can positionally, but not logically, precede the CONNECT statement. If the precompiler option AUTO_CONNECT=YES, a CONNECT statement is not needed.)<a id="d10894e149" class="indexterm-anchor"></a><a id="d10894e153" class="indexterm-anchor"></a></p>
                  <p>To supply the username and password separately, you define two host variables as character strings or VARCHAR variables. If you supply a userid containing both username and password, only one host variable is needed.<a id="d10894e159" class="indexterm-anchor"></a><a id="d10894e163" class="indexterm-anchor"></a><a id="d10894e167" class="indexterm-anchor"></a></p>
                  <p>Make sure to set the username and password variables before the CONNECT is executed or it will fail. Your program can prompt for the values or you can hard-code them, as follows:<a id="d10894e173" class="indexterm-anchor"></a><a id="d10894e177" class="indexterm-anchor"></a><a id="d10894e181" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr"> WORKING STORAGE SECTION. 
     ... 
 01  USERNAME  PIC X(10). 
 01  PASSWD    PIC X(10). 
         ... 
     ... 
 PROCEDURE DIVISION. 
 LOGON. 
     EXEC SQL WHENEVER SQLERROR GOTO LOGON-ERROR END-EXEC. 
     MOVE "SCOTT" TO USERNAME. 
     MOVE "TIGER" TO PASSWD. 
     EXEC SQL 
         CONNECT :USERNAME IDENTIFIED BY :PASSWD 
     END-EXEC. 
</pre><p>However, you cannot hard-code a username and password into the CONNECT statement or use quoted literals. For example, the following statements are <span class="italic">invalid</span>: 
                  </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         CONNECT SCOTT IDENTIFIED BY TIGER 
     END-EXEC. 

     EXEC SQL 
         CONNECT "SCOTT" IDENTIFIED BY "TIGER" 
     END-EXEC.</pre><div class="infoboxnotealso" id="GUID-5B6A77A1-D7B0-4BC1-B194-E7EB51A54304__GUID-77CFF8AA-BF7B-499F-9777-FA1EA490138B">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="database-concepts.html#GUID-E37C4FF2-C93D-41E3-A4C0-7B07AA29BEF3">Changing Passwords at Runtime</a>"</span> for more information about ALTER AUTHORIZATION clause.
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="database-concepts.html#GUID-C9E12FED-5BDF-4647-A5DE-EDC4D42CEAA1">SYSDBA or SYSOPER Privileges</a>"</span> for more information about SYSDBA and SYSOPER.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCB204"></a><div class="props_rev_3"><a id="GUID-E3F2A833-D42D-475F-8DE5-F1EFD91E2A2C" name="GUID-E3F2A833-D42D-475F-8DE5-F1EFD91E2A2C"></a><h3 id="LNPCB-GUID-E3F2A833-D42D-475F-8DE5-F1EFD91E2A2C" class="sect3"><span class="enumeration_section">3.2 </span>Default Databases and Connections
               </h3>
               <div>
                  <p>It is possible within a Pro*COBOL program to maintain more than one database connection at the same time. </p>
               </div><a id="LNPCB206"></a><a id="LNPCB205"></a><div class="props_rev_3"><a id="GUID-EE843C17-8881-494C-85CE-8EE4D0833065" name="GUID-EE843C17-8881-494C-85CE-8EE4D0833065"></a><h4 id="LNPCB-GUID-EE843C17-8881-494C-85CE-8EE4D0833065" class="sect4"><span class="enumeration_section">3.2.1 </span>Concurrent Logons
                  </h4>
                  <div>
                     <p><a id="d10894e259" class="indexterm-anchor"></a>Pro*COBOL supports distributed processing through Oracle Net Services. Your application can concurrently access any combination of local and remote databases or make multiple connections to the same database. In <a href="database-concepts.html#GUID-EE843C17-8881-494C-85CE-8EE4D0833065__BHCBICDF">Figure 3-1</a>, an application program communicates with one local and three remote Oracle databases. ORA2, ORA3, and ORA4 are logical names used in CONNECT statements. <a id="d10894e266" class="indexterm-anchor"></a><a id="d10894e270" class="indexterm-anchor"></a><a id="d10894e274" class="indexterm-anchor"></a><a id="d10894e278" class="indexterm-anchor"></a></p>
                     <div class="figure" id="GUID-EE843C17-8881-494C-85CE-8EE4D0833065__BHCBICDF">
                        <p class="titleinfigure">Figure 3-1 Connecting Through Oracle</p><img src="img/pco81045.gif" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" longdesc="img_text/pco81045.html"><br><a href="img_text/pco81045.html">Description of "Figure 3-1 Connecting Through Oracle"</a></div>
                     <!-- class="figure" -->
                     <p>By eliminating the boundaries in a network between different machines and operating systems, Oracle Net Services provides a distributed processing environment for Oracle tools. This section shows you how the Pro*COBOL supports distributed processing through Oracle Net Services. You learn how your application can<a id="d10894e287" class="indexterm-anchor"></a><a id="d10894e291" class="indexterm-anchor"></a></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Access other databases directly or indirectly </p>
                        </li>
                        <li>
                           <p>Concurrently access any combination of local and remote databases </p>
                        </li>
                        <li>
                           <p>Make multiple connections to the same database</p>
                        </li>
                     </ul>
                     <p>Normally you would need only a single connection, achieved by <code class="codeph">EXEC SQL CONNECT :USR-PWD END-EXEC</code>.   The database that is connected to is determined by what USR-PWD contains. If it contains the username and password for the default database, it will connect to the database defined as the default for the session. If it contains <span class="italic">username</span>/<span class="italic">password</span>@REMDB" it will connect through Oracle Net Services to the REMDB database as defined by your Oracle Net Services configuration. (An alternative is to use the USING clause to specify the Oracle Net Services connection string.) This is the default connection.
                     </p>
                     <p>To make further concurrent connections to either the same or different databases you make use of the AT clause, that is, <code class="codeph">EXEC SQL AT DB1 CONNECT :USR-PWD END-EXEC</code>.   The name after the AT clause uniquely identifies a "nondefault" connection, and any SQL statements with the same name after the AT clause are executed against that connection. If the AT clause is omitted in an SQL statement then the statement is executed against the default connection.<a id="d10894e319" class="indexterm-anchor"></a><a id="d10894e321" class="indexterm-anchor"></a></p>
                     <p>All database names must be unique, but two or more database names can specify the same connection. That is, you can have multiple connections to any database on any node.<a id="d10894e327" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="LNPCB207"></a><div class="props_rev_3"><a id="GUID-1C06C193-EAB3-4859-9A3E-607F27D4117E" name="GUID-1C06C193-EAB3-4859-9A3E-607F27D4117E"></a><h4 id="LNPCB-GUID-1C06C193-EAB3-4859-9A3E-607F27D4117E" class="sect4"><span class="enumeration_section">3.2.2 </span>Using Username/Password
                  </h4>
                  <div>
                     <p>Usually, you establish a connection to Oracle as follows:<a id="d10894e355" class="indexterm-anchor"></a><a id="d10894e357" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL CONNECT :USERNAME IDENTIFIED BY :PASSWORD END-EXEC.
</pre><p>Or you can use: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL CONNECT :USR-PWD END-EXEC.<span class="bold"> </span>
</pre><p>where <span class="italic">USR-PWD</span> contains any valid Oracle connect string.
                     </p>
                     <p>These are simplified subsets of the CONNECT statement. For all details, read the next sections in this chapter<a id="d10894e377" class="indexterm-anchor"></a>.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="database-concepts.html#GUID-056EC81F-F05C-4C33-9393-856EF3FADA89">Automatic Logons</a></li>
                           <li><a href="embedded-SQL-statements-and-precompiler-directives.html#GUID-8E024106-6BB5-434C-99A6-1A55839D8316">CONNECT (Executable Embedded SQL Extension)</a></li>
                        </ul>
                     </div>
                  </div><a id="LNPCB208"></a><div class="props_rev_3"><a id="GUID-1B4D63D7-11EB-449A-ADAE-1D76141787E9" name="GUID-1B4D63D7-11EB-449A-ADAE-1D76141787E9"></a><h5 id="LNPCB-GUID-1B4D63D7-11EB-449A-ADAE-1D76141787E9" class="sect5"><span class="enumeration_section">3.2.2.1 </span>Named Database Connections
                     </h5>
                     <div>
                        <p>In the following example, you connect to a named database. Normally you use a named database connection only for multiple concurrent connections. The following example shows the syntax for a single connection:<a id="d10894e415" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">* --  Declare necessary host variables
 WORKING-STORAGE SECTION.
     ...
     EXEC SQL BEGIN DECLARE SECTION END-EXEC.
 01  USERNAME  PIC X(10) .
 01  PASSWORD  PIC X(10) .
 01  DB-STRING PIC X(20) .
        ...
     EXEC SQL END DECLARE SECTION END-EXEC.
     ...
 PROCEDURE DIVISION.
     MOVE "scott" TO USERNAME.
     MOVE "tiger" TO PASSSWORD.
     MOVE "nyremote" TO DB-STRING.
      ... 
* --  Assign a unique name to the database connection.
     EXEC SQL DECLARE DBNAME DATABASE<span class="bold"> </span>END-EXEC.
* --  Connect to the nondefault database
     EXEC SQL
     CONNECT :USERNAME IDENTIFIED BY :PASSWORD 
     AT DBNAME USING :DB-STRING
     END-EXEC.
</pre><p>The identifiers in this example serve the following purposes: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The host variables <span class="italic">USERNAME</span> and <span class="italic">PASSWORD</span> identify a valid user. 
                              </p>
                           </li>
                           <li>
                              <p>The host variable <span class="italic">DB-STRING</span> contains the Oracle Net Services syntax for logging on to a nondefault database at a remote node. 
                              </p>
                           </li>
                           <li>
                              <p>The undeclared identifier <span class="italic">DBNAME</span> names a nondefault connection; it is an identifier used by Oracle, <span class="italic">not</span> a host or program variable. 
                              </p>
                           </li>
                        </ul>
                        <p>The USING clause specifies the network, machine, and database to be associated with <span class="italic">DBNAME</span>. Later, SQL statements using the AT clause (with <span class="italic">DBNAME</span>) are executed at the database specified by <span class="italic">DB-STRING</span>.<a id="d10894e462" class="indexterm-anchor"></a><a id="d10894e466" class="indexterm-anchor"></a><a id="d10894e470" class="indexterm-anchor"></a><a id="d10894e474" class="indexterm-anchor"></a> 
                        </p>
                        <p>Alternatively, you can use a character host variable in the AT clause, as the following example shows: </p><pre class="oac_no_warn" dir="ltr">* --  Declare necessary host variables
 WORKING-STORAGE SECTION.
     ...
     EXEC SQL BEGIN DECLARE SECTION END-EXEC.
 01  USERNAME  PIC X(10).
 01  PASSWORD  PIC X(10).
 01  DB-NAME   PIC X(10).
 01  DB-STRING PIC X(20).
        ...
     EXEC SQL END DECLARE SECTION END-EXEC.
     ...
 PROCEDURE DIVISION.
     MOVE "scott" TO USERNAME.
     MOVE "tiger" TO PASSSWORD.
     MOVE "oracle1" TO DB-NAME.
     MOVE "nyremote" TO DB-STRING.
     ... 
* --  Connect to the nondefault database
     EXEC SQL
     CONNECT :USERNAME IDENTIFIED BY :PASSWORD 
     AT :DB-NAME USING :DB-STRING
     END-EXEC.
</pre><p>If <span class="italic">DB-NAME</span> is a host variable, the DECLARE DATABASE statement is not needed. Only if <span class="italic">DBNAME</span> is an undeclared identifier must you execute a DECLARE <span class="italic">DBNAME</span> DATABASE statement before executing a CONNECT ... AT <span class="italic">DBNAME</span> statement. 
                        </p>
                        <p><span class="bold">SQL Operations. </span>If granted the privilege, you can execute any SQL data manipulation statement at the nondefault connection. For example, you might execute the following sequence of statements: 
                        </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL AT DBNAME SELECT ... 
     EXEC SQL AT DBNAME INSERT ... 
     EXEC SQL AT DBNAME UPDATE ... 
</pre><p>In the next example, <span class="italic">DB-NAME</span> is a host variable: 
                        </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL AT :DB-NAME DELETE ... 
</pre><p><span class="bold">Cursor Control. </span>Cursor control statements such as OPEN, FETCH, and CLOSE are exceptions—they never use an AT clause. If you want to associate a cursor with an explicitly identified database, use the AT clause in the DECLARE CURSOR statement, as follows:<a id="d10894e515" class="indexterm-anchor"></a><a id="d10894e519" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL AT :DB-NAME DECLARE emp_cursor CURSOR FOR ... 
     EXEC SQL OPEN emp_cursor ... 
     EXEC SQL FETCH emp_cursor ... 
     EXEC SQL CLOSE emp_cursor END-EXEC.
</pre><p>If <span class="italic">DB-NAME</span> is a host variable, its declaration must be within the scope of all SQL statements that refer to the declared cursor. For example, if you open the cursor in one subprogram, then fetch from it in another, you must declare <span class="italic">DB-NAME</span> globally or pass it to each subprogram. 
                        </p>
                        <p>When opening, closing, or fetching from the cursor, you do not use the AT clause. The SQL statements are executed at the database named in the AT clause of the DECLARE CURSOR statement or at the default database if no AT clause is used in the cursor declaration. </p>
                        <p>The AT <span class="italic">:host-variable</span> clause enables you to change the connection associated with a cursor. However, you cannot change the association while the cursor is open. Consider the following example:<a id="d10894e541" class="indexterm-anchor"></a><a id="d10894e545" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL AT :DB-NAME DECLARE emp_cursor CURSOR FOR ... 
     MOVE "oracle1" TO DB-NAME.
     EXEC SQL OPEN emp_cursor END-EXEC. 
     EXEC SQL FETCH emp_cursor INTO ... 
     MOVE "oracle2" TO DB-NAME.
* -- illegal, cursor still open 
     EXEC SQL OPEN emp_cursor END-EXEC.
     EXEC SQL FETCH emp_cursor INTO ... 
</pre><p>This is illegal because <span class="italic">emp_cursor</span>  is still open when you try to execute the second OPEN statement. Separate cursors are not maintained for different connections; there is only one <span class="italic">emp_cursor</span>, which must be closed before it can be reopened for another connection. To debug the last example, simply close the cursor before reopening it, as follows: 
                        </p><pre class="oac_no_warn" dir="ltr">* -- close cursor first 
     EXEC SQL CLOSE emp_cursor END-EXEC.
     MOVE "oracle2" TO DB-NAME.
     EXEC SQL OPEN EMP-CUROR END-EXEC. 
     EXEC SQL FETCH emp_cursor INTO ... 
</pre><p><span class="bold">Dynamic SQL</span>. Dynamic SQL statements are similar to cursor control statements in that some never use the AT clause. For dynamic SQL Method 1, you must use the AT clause if you want to execute the statement at a nondefault connection. An example follows:<a id="d10894e566" class="indexterm-anchor"></a><a id="d10894e570" class="indexterm-anchor"></a><a id="d10894e574" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL AT :DB-NAME EXECUTE IMMEDIATE :SQL-STMT END-EXEC.
 </pre><p>For Methods 2, 3, and 4, you use the AT clause only in the DECLARE STATEMENT statement if you want to execute the statement at a nondefault connection. All other dynamic SQL statements such as PREPARE, DESCRIBE, OPEN, FETCH, and CLOSE never use the AT clause. The next example shows Method 2:<a id="d10894e584" class="indexterm-anchor"></a><a id="d10894e588" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL AT :DB-NAME DECLARE SQL-STMT STATEMENT END-EXEC. 
     EXEC SQL PREPARE SQL-STMT FROM :SQL-STRING END-EXEC. 
     EXEC SQL EXECUTE SQL-STMT END-EXEC. 
</pre><p>The following example shows Method 3: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL AT :DB-NAME DECLARE SQL-STMT STATEMENT END-EXEC. 
     EXEC SQL PREPARE SQL-STMT FROM :SQL-STRING END-EXEC. 
     EXEC SQL DECLARE emp_cursor CURSOR FOR SQL-STMT END-EXEC. 
     EXEC SQL OPEN emp_cursor ... 
     EXEC SQL FETCH emp_cursor INTO ... 
     EXEC SQL CLOSE emp_cursor END-EXEC. 
</pre><p>You need not use the AT clause when connecting to a remote database unless you open two or more connections simultaneously (in which case the AT clause is needed to identify the active connection). To make the default connection to a remote database, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
        CONNECT :USERNAME IDENTIFIED BY :PASSWORD USING :DB-STRING
     END-EXEC.</pre></div>
                  </div>
               </div><a id="LNPCB209"></a><div class="props_rev_3"><a id="GUID-056EC81F-F05C-4C33-9393-856EF3FADA89" name="GUID-056EC81F-F05C-4C33-9393-856EF3FADA89"></a><h4 id="LNPCB-GUID-056EC81F-F05C-4C33-9393-856EF3FADA89" class="sect4"><span class="enumeration_section">3.2.3 </span>Automatic Logons
                  </h4>
                  <div>
                     <p>You can log on to Oracle automatically with the userid:<a id="d10894e628" class="indexterm-anchor"></a><a id="d10894e632" class="indexterm-anchor"></a><a id="d10894e634" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">&lt;prefix&gt;&lt;username&gt; 
</pre><p>where <span class="italic">prefix</span> is the value of the Oracle initialization parameter OS_AUTHENT_PREFIX (the default value is OPS$) and <span class="italic">username</span> is your operating system user or task name. For example, if the prefix is OPS$, your user name is TBARNES, and OPS$TBARNES is a valid Oracle userid, then you log on to Oracle as user OPS$TBARNES. 
                     </p>
                     <p>To take advantage of the automatic logon feature, you simply pass a slash (/) character to Pro*COBOL, as follows: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL BEGIN DECLARE SECTION END-EXEC. 
 01 ORACLEID   PIC X.
     ...
     EXEC SQL END DECLARE SECTION END-EXEC. 
     ... 
     MOVE '/' TO ORACLEID.
     EXEC SQL CONNECT :ORACLEID END-EXEC. 
</pre><p>This automatically connects you as user OPS$<span class="italic">username</span>. For example, if your operating system username is RHILL, and OPS$RHILL is a valid Oracle username, connecting with a slash (/) automatically logs you on to Oracle as user OPS$RHILL. 
                     </p>
                     <p>You can also pass a character string to Pro*COBOL. However, the string cannot contain trailing blanks. For example, the following CONNECT statement will fail: </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL BEGIN DECLARE SECTION END-EXEC. 
           01 ORACLEID   PIC X(5).
     ...
     EXEC SQL END DECLARE SECTION END-EXEC. 
     ... 
     MOVE '/    ' TO ORACLEID.
     EXEC SQL CONNECT :ORACLEID END-EXEC.</pre></div><a id="LNPCB210"></a><div class="props_rev_3"><a id="GUID-CF77C4A1-BF68-40AF-AF53-4AF713B64A7D" name="GUID-CF77C4A1-BF68-40AF-AF53-4AF713B64A7D"></a><h5 id="LNPCB-GUID-CF77C4A1-BF68-40AF-AF53-4AF713B64A7D" class="sect5"><span class="enumeration_section">3.2.3.1 </span>The AUTO_CONNECT Precompiler Option
                     </h5>
                     <div>
                        <p>Pro*COBOL lets your program log on to the default database without using the CONNECT statement. Simply specify the precompiler option AUTO_CONNECT on the command line.<a id="d10894e685" class="indexterm-anchor"></a><a id="d10894e689" class="indexterm-anchor"></a><a id="d10894e693" class="indexterm-anchor"></a></p>
                        <p>Assume that the default value of OS_AUTHENT_PREFIX is OPS$, your username is TBARNES, and OPS$TBARNES is a valid Oracle userid. When AUTO_CONNECT=YES, as soon as Pro*COBOL encounters an executable SQL statement, your program logs on to Oracle automatically with the userid OPS$TBARNES.</p>
                        <p>When AUTO_CONNECT=NO (the default), you must use the CONNECT statement to log on to Oracle.</p>
                     </div>
                  </div>
               </div><a id="LNPCB211"></a><div class="props_rev_3"><a id="GUID-E37C4FF2-C93D-41E3-A4C0-7B07AA29BEF3" name="GUID-E37C4FF2-C93D-41E3-A4C0-7B07AA29BEF3"></a><h4 id="LNPCB-GUID-E37C4FF2-C93D-41E3-A4C0-7B07AA29BEF3" class="sect4"><span class="enumeration_section">3.2.4 </span>Changing Passwords at Runtime
                  </h4>
                  <div>
                     <p>Pro*COBOL provides client applications with a convenient way to change a user password at runtime through the optional ALTER AUTHORIZATION clause.</p>
                     <p>The syntax for the ALTER AUTHORIZATION clause is shown here:</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL CONNECT .. ALTER AUTHORIZATION :<span class="italic">NEWPSWD</span> END-EXEC.
</pre><p>Using this clause indicates that you want to change the account password to the value indicated by NEWPSWD. After the change is made, an attempt is made to connect as <code class="codeph">USER</code>/<code class="codeph">NEWPSWD</code>. This can have the following results:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The application will connect without issue.</p>
                        </li>
                        <li>
                           <p>The application will fail to connect. This could be due to either of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Password verification failed for some reason. In this case the password remains unchanged.</p>
                              </li>
                              <li>
                                 <p>The account is locked. Changes to the password are not permitted.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCB212"></a><div class="props_rev_3"><a id="GUID-4BE68F3D-D3AF-46F8-BC70-B6541B809A96" name="GUID-4BE68F3D-D3AF-46F8-BC70-B6541B809A96"></a><h4 id="LNPCB-GUID-4BE68F3D-D3AF-46F8-BC70-B6541B809A96" class="sect4"><span class="enumeration_section">3.2.5 </span>Connect Without Alter Authorization
                  </h4>
                  <div>
                     <p>This section describes the possible outcomes of different variations of the CONNECT statement.</p>
                  </div><a id="LNPCB213"></a><div class="props_rev_3"><a id="GUID-61346520-A069-4C41-8BA2-F3140A2C26AC" name="GUID-61346520-A069-4C41-8BA2-F3140A2C26AC"></a><h5 id="LNPCB-GUID-61346520-A069-4C41-8BA2-F3140A2C26AC" class="sect5"><span class="enumeration_section">3.2.5.1 </span>Standard CONNECT
                     </h5>
                     <div>
                        <p>If an application issues the following statement:</p><pre class="oac_no_warn" dir="ltr">      EXEC SQL CONNECT ...   /* No ALTER AUTHORIZATION clause */
</pre><p>it performs a normal connection attempt. The possible results include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The application will connect without issue.</p>
                           </li>
                           <li>
                              <p>The application will connect, but will receive a password warning. The warning indicates that the password has expired but is in a grace period which will allow logons. At this point, the user is encouraged to change the password before the account becomes locked.</p>
                           </li>
                           <li>
                              <p>The application will fail to connect. Possible causes include the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The password is incorrect.</p>
                                 </li>
                                 <li>
                                    <p>The account has expired, and is possibly in a locked state.</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNPCB214"></a><div class="props_rev_3"><a id="GUID-C9E12FED-5BDF-4647-A5DE-EDC4D42CEAA1" name="GUID-C9E12FED-5BDF-4647-A5DE-EDC4D42CEAA1"></a><h5 id="LNPCB-GUID-C9E12FED-5BDF-4647-A5DE-EDC4D42CEAA1" class="sect5"><span class="enumeration_section">3.2.5.2 </span>SYSDBA or SYSOPER Privileges
                     </h5>
                     <div>
                        <p>Before Oracle release 8.1 you did not have to use this clause to have the SYSOPER or SYSDBA system privilege, but now you must.</p>
                        <p>Append the following optional string to the CONNECT statement after all other clauses if you want to log on with either SYSDBA or SYSOPER system privileges:</p><pre class="oac_no_warn" dir="ltr">IN { SYSDBA | SYSOPER } MODE
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL CONNECT ... IN SYSDBA MODE END-EXEC.
</pre><p>Here are the restrictions that apply to this option:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This option is not supported when using the AUTO_CONNECT=YES precompiler option setting.</p>
                           </li>
                           <li>
                              <p>The option is not permitted when using the ALTER AUTHORIZATION keywords in the CONNECT statement.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNPCB215"></a><div class="props_rev_3"><a id="GUID-82015694-70C4-49A9-BEBB-1FC6F64D4C51" name="GUID-82015694-70C4-49A9-BEBB-1FC6F64D4C51"></a><h4 id="LNPCB-GUID-82015694-70C4-49A9-BEBB-1FC6F64D4C51" class="sect4"><span class="enumeration_section">3.2.6 </span>Using Links
                  </h4>
                  <div>
                     <p>Database links are supported through the Oracle distributed database option. For example, a distributed query allows a single SELECT statement to access data on one or more nondefault databases. <a id="d10894e907" class="indexterm-anchor"></a><a id="d10894e909" class="indexterm-anchor"></a></p>
                     <p>The distributed query facility depends on database links, which assign a name to a CONNECT statement rather than to the connection itself. At runtime, the embedded SELECT statement is executed by the specified database server, which connects implicitly to the nondefault database(s) to get the required data. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../netag/identifying-and-accessing-database.html#NETAG-GUID-2BDF9E52-4147-4F46-84E2-A5AE1018A373" target="_blank">Connecting to a Database Service</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCB216"></a><div class="props_rev_3"><a id="GUID-E1177148-D3CD-4BD8-9410-960476A6617C" name="GUID-E1177148-D3CD-4BD8-9410-960476A6617C"></a><h3 id="LNPCB-GUID-E1177148-D3CD-4BD8-9410-960476A6617C" class="sect3"><span class="enumeration_section">3.3 </span>Key Terms
               </h3>
               <div>
                  <p>Before delving into the subject of transactions, you should know the terms defined in this section.</p>
                  <p>The jobs or tasks that the database manages are called <span class="italic"><span class="bold">sessions</span></span>. A <span class="italic"><span class="bold">user session</span></span> is started when you run an application program or a tool such as Oracle Forms and connect to the database. Oracle enables user sessions to work simultaneously and share computer resources. To do this, Oracle must control <span class="italic"><span class="bold">concurrence</span></span>, the accessing of the same data by many users. Without adequate concurrence controls, there might be a loss of <span class="italic"><span class="bold">data integrity</span></span>. That is, changes to data or structures might be made in the wrong order.<a id="d10894e963" class="indexterm-anchor"></a><a id="d10894e965" class="indexterm-anchor"></a><a id="d10894e968" class="indexterm-anchor"></a><a id="d10894e970" class="indexterm-anchor"></a></p>
                  <p>Oracle uses<span class="italic"><span class="bold"> locks </span></span>to control concurrent access to data. A lock gives you temporary ownership of a database resource such as a table or row of data. Thus, data cannot be changed by other users until you finish with it. You need never explicitly lock a resource, because default locking mechanisms protect table data and structures. However, you can request <span class="italic"><span class="bold">data locks</span></span> on tables or rows when it is to your advantage to override default locking. You can choose from several <span class="italic"><span class="bold">modes</span></span> of locking such as <span class="italic"><span class="bold">row share</span></span> and <span class="italic"><span class="bold">exclusive</span></span>.<a id="d10894e995" class="indexterm-anchor"></a><a id="d10894e997" class="indexterm-anchor"></a><a id="d10894e999" class="indexterm-anchor"></a></p>
                  <p>A <span class="italic"><span class="bold">deadlock</span></span> can occur when two or more users try to access the same database object. For example, two users updating the same table might wait if each tries to update a row currently locked by the other. Because each user is waiting for resources held by another user, neither can continue until the server breaks the deadlock. The server signals an error to the participating transaction that had completed the least amount of work, and the "deadlock detected while waiting for resource" error code is returned to SQLCODE in the SQLCA.<a id="d10894e1009" class="indexterm-anchor"></a></p>
                  <p>When a table is queried by one user and updated by another at the same time, the database generates a <span class="italic"><span class="bold">read consistent</span></span> view of the table's data for the query. That is, once a query begins (and proceeds), the data read by the query does not change. As update activity continues, the database takes <span class="italic"><span class="bold">snapshots</span></span> of the table's data and records changes in a <span class="italic"><span class="bold">rollback segment</span></span>. The database uses information in the rollback segment to build read consistent query results and to undo changes if necessary.<a id="d10894e1025" class="indexterm-anchor"></a><a id="d10894e1027" class="indexterm-anchor"></a><a id="d10894e1029" class="indexterm-anchor"></a></p>
               </div>
            </div><a id="LNPCB217"></a><div class="props_rev_3"><a id="GUID-6A1C673E-993A-453B-9390-DEF91EEE3D65" name="GUID-6A1C673E-993A-453B-9390-DEF91EEE3D65"></a><h3 id="LNPCB-GUID-6A1C673E-993A-453B-9390-DEF91EEE3D65" class="sect3"><span class="enumeration_section">3.4 </span>How Transactions Guard a Database
               </h3>
               <div>
                  <p>The database is transaction oriented; it uses transactions to ensure data integrity. A transaction is a series of one or more logically related SQL statements you define to accomplish some task. The database treats the series of SQL statements as a unit so that all the changes brought about by the statements are either <span class="italic">committed</span> (made permanent) or <span class="italic">rolled back</span> (undone) at the same time. If your application program fails in the middle of a transaction, the database is automatically restored to its former (pre-transaction) state.<a id="d10894e1061" class="indexterm-anchor"></a><a id="d10894e1063" class="indexterm-anchor"></a><a id="d10894e1067" class="indexterm-anchor"></a> 
                  </p>
                  <p>The coming sections show you how to define and control transactions. Specifically, it shows how to<a id="d10894e1072" class="indexterm-anchor"></a>: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Begin and end transactions </p>
                     </li>
                     <li>
                        <p>Use the COMMIT statement to make transactions permanent </p>
                     </li>
                     <li>
                        <p>Use the SAVEPOINT statement with the ROLLBACK TO statement to undo parts of transactions </p>
                     </li>
                     <li>
                        <p>Use the ROLLBACK statement to undo whole transactions </p>
                     </li>
                     <li>
                        <p>Specify the RELEASE option to free resources and log off the database </p>
                     </li>
                     <li>
                        <p>Use the SET TRANSACTION statement to set read-only transactions </p>
                     </li>
                     <li>
                        <p>Use the FOR UPDATE clause or LOCK TABLE statement to override default locking </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6A1C673E-993A-453B-9390-DEF91EEE3D65__GUID-0A3729FB-B70B-4196-9660-31542BB8E084">
                     <p class="notep1">See Also:</p><a href="../sqlrf/index.html" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for details about the SQL statements.
                  </div>
               </div>
            </div><a id="LNPCB218"></a><div class="props_rev_3"><a id="GUID-B7317C1E-9549-4ACD-884C-35F3628CA825" name="GUID-B7317C1E-9549-4ACD-884C-35F3628CA825"></a><h3 id="LNPCB-GUID-B7317C1E-9549-4ACD-884C-35F3628CA825" class="sect3"><span class="enumeration_section">3.5 </span>Beginning and Ending Transactions
               </h3>
               <div>
                  <p>You begin a transaction with the first executable SQL statement (other than CONNECT) in your program. When one transaction ends, the next executable SQL statement automatically begins another transaction. Thus, every executable statement is part of a transaction. Because they cannot be rolled back and need not be committed, declarative SQL statements are not considered part of a transaction.<a id="d10894e1129" class="indexterm-anchor"></a><a id="d10894e1133" class="indexterm-anchor"></a><a id="d10894e1137" class="indexterm-anchor"></a> 
                  </p>
                  <p>You end a transaction in one of the following ways:<a id="d10894e1144" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Code a COMMIT or ROLLBACK statement, with or without the RELEASE option. This <span class="italic">explicitly</span> makes permanent or undoes changes to the database.
                        </p>
                     </li>
                     <li>
                        <p>Code a data definition statement (ALTER, CREATE, or GRANT, for example) that issues an automatic commit before <span class="italic">and</span> after executing. This <span class="italic">implicitly</span> makes permanent changes to the database.<a id="d10894e1164" class="indexterm-anchor"></a><a id="d10894e1168" class="indexterm-anchor"></a></p>
                     </li>
                  </ul>
                  <p>A transaction also ends when there is a system failure or your user session stops unexpectedly because of software problems, hardware problems, or a forced interrupt.<a id="d10894e1174" class="indexterm-anchor"></a></p>
                  <p>If your program fails in the middle of a transaction, Oracle detects the error and rolls back the transaction. If your operating system fails, Oracle restores the database to its former (pre-transaction) state.<a id="d10894e1180" class="indexterm-anchor"></a></p>
               </div>
            </div><a id="LNPCB219"></a><div class="props_rev_3"><a id="GUID-F6D78EC6-B50D-45E7-B409-0D3994CF5339" name="GUID-F6D78EC6-B50D-45E7-B409-0D3994CF5339"></a><h3 id="LNPCB-GUID-F6D78EC6-B50D-45E7-B409-0D3994CF5339" class="sect3"><span class="enumeration_section">3.6 </span>Using the COMMIT Statement
               </h3>
               <div>
                  <p>The COMMIT statement is used to make changes to the database permanent. Until changes are committed, other users cannot access the changed data; they see it as it was before your transaction began. The COMMIT statement has no effect on the values of host variables or on the flow of control in your program. Specifically, the COMMIT statement:<a id="d10894e1209" class="indexterm-anchor"></a><a id="d10894e1211" class="indexterm-anchor"></a><a id="d10894e1215" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Makes permanent all changes made to the database during the current transaction.</p>
                     </li>
                     <li>
                        <p>Makes these changes visible to other users.</p>
                     </li>
                     <li>
                        <p>Erases all savepoints (see the next section).</p>
                     </li>
                     <li>
                        <p>Releases all row and table locks, but not parse locks.</p>
                     </li>
                     <li>
                        <p>Closes cursors declared using the FOR UPDATE clause or referenced elsewhere in the code with the CURRENT OF clause. If MODE=ANSI | ANSI14 or CLOSE_ON_COMMIT=YES is used, then all explicit cursors are closed.</p>
                     </li>
                     <li>
                        <p>Ends the transaction.</p>
                     </li>
                  </ul>
                  <p>When MODE={ANSI13 | ORACLE}, explicit cursors not referenced in a CURRENT OF clause remain open across commits. This can boost performance. For an example, see <span class="q">"<a href="database-concepts.html#GUID-687E5EBE-714C-49B1-928E-4EB8310B85A8">Fetching Across Commits</a>"</span>.
                  </p>
                  <p>Because they are part of normal processing, COMMIT statements should be placed inline, on the main path through your program. Before your program terminates, it must explicitly commit pending changes. Otherwise, Oracle rolls them back. In the following example, you commit your transaction and disconnect:<a id="d10894e1247" class="indexterm-anchor"></a><a id="d10894e1251" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">    EXEC SQL COMMIT WORK RELEASE END-EXEC.
</pre><p>The optional keyword WORK provides ANSI compatibility. The RELEASE option frees all resources (locks and cursors) held by your program and logs off the database.<a id="d10894e1259" class="indexterm-anchor"></a><a id="d10894e1263" class="indexterm-anchor"></a><a id="d10894e1267" class="indexterm-anchor"></a></p>
                  <p>You need not follow a data definition statement with a COMMIT statement because data definition statements issue an automatic commit before <span class="italic">and</span> after executing. So, whether they succeed or fail, the prior transaction is committed.
                  </p>
               </div><a id="LNPCB220"></a><div class="props_rev_3"><a id="GUID-BD470EC3-4070-4B09-ABD8-6BA096D11D06" name="GUID-BD470EC3-4070-4B09-ABD8-6BA096D11D06"></a><h4 id="LNPCB-GUID-BD470EC3-4070-4B09-ABD8-6BA096D11D06" class="sect4"><span class="enumeration_section">3.6.1 </span>WITH HOLD Clause in DECLARE CURSOR Statements
                  </h4>
                  <div>
                     <p>Any cursor that has been declared with the clause WITH HOLD after the word CURSOR remains open after a COMMIT. The following example shows how to use this clause:</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL 
         DECLARE C1 CURSOR WITH HOLD
         FOR SELECT ENAME FROM EMP
         WHERE EMPNO BETWEEN 7600 AND 7700
     END-EXEC.
</pre><p>The cursor must not be declared for UPDATE. The WITH HOLD clause is used in DB2 to override the default, which is to close all cursors on commit. Pro*COBOL provides this clause in order to ease migrations of applications from DB2 to Oracle. When MODE=ANSI, Oracle uses the DB2 default, but all host variables must be declared in a Declare Section. To avoid having a Declare Section, use the precompiler option <span class="italic">CLOSE_ON_COMMIT</span> described next.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-SQL-statements-and-precompiler-directives.html#GUID-2D17E92E-5215-4BF2-9196-A5B1170C5C81">DECLARE CURSOR (Embedded SQL Directive)</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNPCB221"></a><div class="props_rev_3"><a id="GUID-C7180D4D-9A0D-4E58-B16D-1E2EC4749A2A" name="GUID-C7180D4D-9A0D-4E58-B16D-1E2EC4749A2A"></a><h4 id="LNPCB-GUID-C7180D4D-9A0D-4E58-B16D-1E2EC4749A2A" class="sect4"><span class="enumeration_section">3.6.2 </span>CLOSE_ON_COMMIT Precompiler Option
                  </h4>
                  <div>
                     <p>The precompiler option CLOSE_ON_COMMIT<span class="italic"> </span>is available to override the default behavior of MODE=ANSI (if you specify MODE=ANSI on the command line, any cursors not declared with the WITH HOLD clause are closed on commit):
                     </p><pre class="oac_no_warn" dir="ltr">CLOSE_ON_COMMIT = {YES | NO} 
</pre><p>The default is NO. This option must be entered only on the command line or in a configuration file. </p>
                     <div class="infoboxnote" id="GUID-C7180D4D-9A0D-4E58-B16D-1E2EC4749A2A__GUID-1FAA8AAC-AF1F-4C59-AC48-6D9B9D759165">
                        <p class="notep1">Note:</p>
                        <p>Use this option carefully; applications may be slowed if cursors are opened and closed many times because of the need to re-parse for each OPEN statement. See <span class="q">"<a href="precompiler-options.html#GUID-839B1E64-B28C-41BF-9355-783B003C0D81">CLOSE_ON_COMMIT</a>"</span>. 
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCB222"></a><div class="props_rev_3"><a id="GUID-C323E4D2-9CEE-46B6-8C08-50B71EA5505D" name="GUID-C323E4D2-9CEE-46B6-8C08-50B71EA5505D"></a><h3 id="LNPCB-GUID-C323E4D2-9CEE-46B6-8C08-50B71EA5505D" class="sect3"><span class="enumeration_section">3.7 </span>Using the ROLLBACK Statement
               </h3>
               <div>
                  <p>You use the ROLLBACK statement to undo pending changes made to the database. For example, if you make a mistake, such as deleting the wrong row from a table, you can use ROLLBACK to restore the original data. The ROLLBACK statement has no effect on the values of host variables or on the flow of control in your program. Specifically, the ROLLBACK statement<a id="d10894e1379" class="indexterm-anchor"></a><a id="d10894e1381" class="indexterm-anchor"></a><a id="d10894e1385" class="indexterm-anchor"></a><a id="d10894e1387" class="indexterm-anchor"></a><a id="d10894e1391" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Undoes all changes made to the database during the current transaction</p>
                     </li>
                     <li>
                        <p>Erases all savepoints</p>
                     </li>
                     <li>
                        <p>Ends the transaction</p>
                     </li>
                     <li>
                        <p>Releases all row and table locks, but not parse locks</p>
                     </li>
                     <li>
                        <p>Closes cursors declared using the FOR UPDATE clause or referenced elsewhere in the code with the CURRENT OF clause. If MODE={ANSI | ANSI14}, then <span class="italic">all</span> explicit cursors are closed.
                        </p>
                     </li>
                  </ul>
                  <p>When MODE={ANSI13 | ORACLE}, explicit cursors not referenced in a CURRENT OF clause remain open across rollbacks.</p>
                  <p>Because they are part of exception processing, ROLLBACK statements should be placed in error handling routines, off the main path through your program. In the following example, you roll back your transaction and disconnect:<a id="d10894e1418" class="indexterm-anchor"></a><a id="d10894e1422" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">    EXEC SQL ROLLBACK WORK RELEASE END-EXEC.
</pre><p>The optional keyword WORK provides ANSI compatibility. The RELEASE option frees all resources held by your program and logs off the database.<a id="d10894e1430" class="indexterm-anchor"></a><a id="d10894e1434" class="indexterm-anchor"></a></p>
                  <p>If a WHENEVER SQLERROR GOTO statement branches to an error handling routine that includes a ROLLBACK statement, your program might enter an infinite loop if the rollback fails with an error. You can avoid this by coding WHENEVER SQLERROR CONTINUE before the ROLLBACK statement.</p>
                  <p>For example, consider the following:<a id="d10894e1442" class="indexterm-anchor"></a><a id="d10894e1446" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL
         WHENEVER SQLERROR GOTO SQL-ERROR
     END-EXEC.
     ...
     DISPLAY 'Employee number? '.
     ACCEPT EMP-NUMBER.
     DISPLAY 'Employee name? '.
     ACCEPT EMP-NAME.
     EXEC SQL INSERT INTO EMP (EMPNO, ENAME)
        VALUES (:EMP-NUMBER, :EMP-NAME)
     END-EXEC.
     ...
 SQL-ERROR.
     EXEC SQL WHENEVER SQLERROR CONTINUE END-EXEC.
     DISPLAY 'PROCESSING ERROR.'.
     DISPLAY 'ERROR CODE : ', SQLCODE.
     DISPLAY 'MESSAGE :', SQLERRMC.
     EXEC SQL ROLLBACK WORK RELEASE END-EXEC.
     STOP RUN.
</pre><p>Oracle rolls back transactions if your program terminates abnormally.<a id="d10894e1454" class="indexterm-anchor"></a><a id="d10894e1458" class="indexterm-anchor"></a></p>
               </div><a id="LNPCB223"></a><div class="props_rev_3"><a id="GUID-47069C13-2E08-48D0-A139-939BB719055F" name="GUID-47069C13-2E08-48D0-A139-939BB719055F"></a><h4 id="LNPCB-GUID-47069C13-2E08-48D0-A139-939BB719055F" class="sect4"><span class="enumeration_section">3.7.1 </span>Statement-Level Rollbacks
                  </h4>
                  <div>
                     <p>Before executing any SQL statement, Oracle marks an implicit savepoint (not available to you). Then, if the statement fails, Oracle rolls it back automatically and returns the applicable error code to SQLCODE in the SQLCA. For example, if an INSERT statement causes an error by trying to insert a duplicate value in a unique index, the statement is rolled back.<a id="d10894e1486" class="indexterm-anchor"></a><a id="d10894e1488" class="indexterm-anchor"></a></p>
                     <p>Only work started by the failed SQL statement is lost; work done before that statement in the current transaction is kept. Thus, if a data definition statement fails, the automatic commit that precedes it is not undone.</p>
                     <div class="infoboxnote" id="GUID-47069C13-2E08-48D0-A139-939BB719055F__GUID-D11340DC-C168-49C3-B1B6-8681D78F0000">
                        <p class="notep1">Note:</p>
                        <p>Before executing a SQL statement, Oracle must parse it, that is, examine it to make sure it follows syntax rules and refers to valid database objects. Errors detected while executing a SQL statement cause a rollback, but errors detected while parsing the statement do not.</p>
                     </div>
                     <p>Oracle can also roll back single SQL statements to break deadlocks. Oracle signals an error to one of the participating transactions and rolls back the current statement in that transaction.<a id="d10894e1499" class="indexterm-anchor"></a><a id="d10894e1503" class="indexterm-anchor"></a><a id="d10894e1507" class="indexterm-anchor"></a></p>
                  </div>
               </div>
            </div><a id="LNPCB224"></a><div class="props_rev_3"><a id="GUID-59EEDD58-7CD0-4842-9545-6B2C52D6488B" name="GUID-59EEDD58-7CD0-4842-9545-6B2C52D6488B"></a><h3 id="LNPCB-GUID-59EEDD58-7CD0-4842-9545-6B2C52D6488B" class="sect3"><span class="enumeration_section">3.8 </span>Using the SAVEPOINT Statement
               </h3>
               <div>
                  <p>The SAVEPOINT embedded SQL statement marks and names the current point in processing a transaction. Each marked point is called a <span class="italic">savepoint</span>. For example, the following statement marks a savepoint named <span class="italic">start_delete</span>:<a id="d10894e1547" class="indexterm-anchor"></a><a id="d10894e1549" class="indexterm-anchor"></a><a id="d10894e1551" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">    EXEC SQL SAVEPOINT start_delete END-EXEC.
</pre><p>Savepoints let you divide long transactions, giving you more control over complex procedures. For example, if a transaction performs several functions, you can mark a savepoint before each function. Then, if a function fails, you can easily restore the data to its former state, recover, and then reexecute the function.<a id="d10894e1559" class="indexterm-anchor"></a></p>
                  <p>To undo part of a transaction, you can use savepoints with the ROLLBACK statement and its TO SAVEPOINT clause. The TO SAVEPOINT clause lets you roll back to an intermediate statement in the current transaction. With it, you do not have to undo all your changes. Specifically, the ROLLBACK TO SAVEPOINT statement:<a id="d10894e1565" class="indexterm-anchor"></a><a id="d10894e1569" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Undoes changes made to the database since the specified savepoint was marked</p>
                     </li>
                     <li>
                        <p>Erases all savepoints marked after the specified savepoint</p>
                     </li>
                     <li>
                        <p>Releases all row and table locks acquired since the specified savepoint was marked</p>
                     </li>
                  </ul>
                  <p>In the following example, you access the table MAIL_LIST to insert new listings, update old listings, and delete (a few) inactive listings. After the delete, you check SQLERRD(3) in the SQLCA for the number of rows deleted. If the number is unexpectedly large, you roll back to the savepoint <span class="italic">start_delete</span>, undoing just the delete.<a id="d10894e1586" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">* -- For each new customer
     DISPLAY 'New customer number? '.
     ACCEPT CUST-NUMBER.
     IF CUST-NUMBER = 0
          GO TO REV-STATUS
     END-IF.
     DISPLAY 'New customer name? '.
          ACCEPT  CUST-NAME.
     EXEC SQL INSERT INTO MAIL-LIST (CUSTNO, CNAME, STAT)
         VALUES (:CUST-NUMBER, :CUST-NAME, 'ACTIVE').
     END-EXEC.
     ...
* -- For each revised status
 REV-STATUS.
     DISPLAY 'Customer number to revise status? '.
     ACCEPT CUST-NUMBER.
     IF CUST-NUMBER = 0
         GO TO SAVE-POINT
     END-IF.
     DISPLAY 'New status? '.
     ACCEPT NEW-STATUS.
     EXEC SQL UPDATE MAIL-LIST
        SET STAT = :NEW-STATUS WHERE CUSTNO = :CUST-NUMBER
     END-EXEC.
     ...
* -- mark savepoint
 SAVE-POINT.
     EXEC SQL SAVEPOINT START-DELETE END-EXEC.
     EXEC SQL DELETE FROM MAIL-LIST WHERE STAT = 'INACTIVE'
     END-EXEC.
     IF SQLERRD(3) &lt; 25 
* -- check number of rows deleted
         DISPLAY 'Number of rows deleted is ', SQLERRD(3)
     ELSE
         DISPLAY 'Undoing deletion of ', SQLERRD(3), ' rows'
         EXEC SQL
             WHENEVER SQLERROR GOTO SQL-ERROR
         END-EXEC
         EXEC SQL
             ROLLBACK TO SAVEPOINT START-DELETE
         END-EXEC
     END-IF.
     EXEC SQL WHENEVER SQLERROR CONTINUE END-EXEC.
     EXEC SQL COMMIT WORK RELEASE END-EXEC.
     STOP RUN.
* -- exit program.
     ...
 SQL-ERROR.
     EXEC SQL WHENEVER SQLERROR CONTINUE END-EXEC.
     EXEC SQL ROLLBACK WORK RELEASE END-EXEC.
     DISPLAY 'Processing error'.
* -- exit program with an error.
     STOP RUN.
</pre><p>Note that you cannot specify the RELEASE option in a ROLLBACK TO SAVEPOINT statement.<a id="d10894e1594" class="indexterm-anchor"></a><a id="d10894e1598" class="indexterm-anchor"></a><a id="d10894e1602" class="indexterm-anchor"></a><a id="d10894e1606" class="indexterm-anchor"></a></p>
                  <p>Rolling back to a savepoint erases any savepoints marked after that savepoint. The savepoint to which you roll back, however, is not erased. For example, if you mark five savepoints, then roll back to the third, only the fourth and fifth are erased. A COMMIT or ROLLBACK statement erases all savepoints.<a id="d10894e1612" class="indexterm-anchor"></a></p>
               </div>
            </div><a id="LNPCB225"></a><div class="props_rev_3"><a id="GUID-4B174FCB-ADD2-46EC-B0D0-6C64BE0DC1D4" name="GUID-4B174FCB-ADD2-46EC-B0D0-6C64BE0DC1D4"></a><h3 id="LNPCB-GUID-4B174FCB-ADD2-46EC-B0D0-6C64BE0DC1D4" class="sect3"><span class="enumeration_section">3.9 </span>Using the RELEASE Option
               </h3>
               <div>
                  <p>Oracle rolls back changes automatically if your program terminates abnormally. Abnormal termination occurs when your program does not explicitly commit or roll back work and disconnect using the RELEASE embedded SQL statement. </p>
                  <p>Normal termination occurs when your program runs its course, closes open cursors, explicitly commits or rolls back work, disconnects, and returns control to the user. Your program will exit gracefully if the last SQL statement it executes is either<a id="d10894e1643" class="indexterm-anchor"></a><a id="d10894e1645" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL COMMIT WORK RELEASE END-EXEC. 
</pre><p>or </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL ROLLBACK WORK RELEASE END-EXEC.
 </pre><p>where the token WORK is optional. Otherwise, locks and cursors acquired by your user session are held after program termination until Oracle recognizes that the user session is no longer active. This might cause other users in a multiuser environment to wait longer than necessary for the locked resources.<a id="d10894e1656" class="indexterm-anchor"></a> 
                  </p>
               </div>
            </div><a id="LNPCB226"></a><div class="props_rev_3"><a id="GUID-7CCD2A18-D062-4F41-AABF-D58A763E6627" name="GUID-7CCD2A18-D062-4F41-AABF-D58A763E6627"></a><h3 id="LNPCB-GUID-7CCD2A18-D062-4F41-AABF-D58A763E6627" class="sect3"><span class="enumeration_section">3.10 </span>Using the SET TRANSACTION Statement
               </h3>
               <div>
                  <p>You can use the SET TRANSACTION statement to begin a read-only or read/write transaction, or to assign your current transaction to a specified rollback segment. A COMMIT, ROLLBACK, or data definition statement ends a read-only transaction. </p>
                  <p>Because they allow "repeatable reads," read-only transactions are useful for running multiple queries against one or more tables while other users update the same tables. During a read-only transaction, all queries refer to the same snapshot of the database, providing a multitable, multiquery, read-consistent view. Other users can continue to query or update data as usual. An example of the SET TRANSACTION statement follows: <a id="d10894e1687" class="indexterm-anchor"></a><a id="d10894e1691" class="indexterm-anchor"></a><a id="d10894e1695" class="indexterm-anchor"></a><a id="d10894e1697" class="indexterm-anchor"></a>  
                  </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL SET TRANSACTION READ ONLY END-EXEC.
 </pre><p>The SET TRANSACTION statement must be the first SQL statement in a read-only transaction and can appear only once in a transaction. The READ ONLY parameter is required. Its use does not affect other transactions. Only the SELECT (without FOR UPDATE), LOCK TABLE, SET ROLE, ALTER SESSION, ALTER SYSTEM, COMMIT, and ROLLBACK statements are allowed in a read-only transaction.<a id="d10894e1706" class="indexterm-anchor"></a><a id="d10894e1710" class="indexterm-anchor"></a><a id="d10894e1714" class="indexterm-anchor"></a><a id="d10894e1718" class="indexterm-anchor"></a><a id="d10894e1722" class="indexterm-anchor"></a> 
                  </p>
                  <p>In the following example, a store manager checks sales activity for the day, the past week, and the past month by using a read-only transaction to generate a summary report. The report is unaffected by other users updating the database during the transaction.<a id="d10894e1729" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL SET TRANSACTION READ ONLY END-EXEC. 
     EXEC SQL SELECT SUM(SALEAMT) INTO :DAILY FROM SALES 
         WHERE SALEDATE = SYSDATE END-EXEC.
     EXEC SQL SELECT SUM(SALEAMT) INTO :WEEKLY FROM SALES
         WHERE SALEDATE &gt; SYSDATE - 7 END-EXEC.
     EXEC SQL SELECT SUM(SALEAMT) INTO :MONTHLY FROM SALES 
         WHERE SALEDATE &gt; SYSDATE - 30 END-EXEC. 
     EXEC SQL COMMIT WORK END-EXEC. 
* --  simply ends the transaction since there are no changes 
* --  to make permanent 
* --  format and print report </pre></div>
            </div><a id="LNPCB227"></a><div class="props_rev_3"><a id="GUID-78E84CE3-AFAA-4279-B3BE-48800AD6ADAC" name="GUID-78E84CE3-AFAA-4279-B3BE-48800AD6ADAC"></a><h3 id="LNPCB-GUID-78E84CE3-AFAA-4279-B3BE-48800AD6ADAC" class="sect3"><span class="enumeration_section">3.11 </span>Overriding Default Locking
               </h3>
               <div>
                  <p>By default, Oracle implicitly (automatically) locks many data structures for you. However, you can request specific data locks on rows or tables when it is to your advantage to override default locking. Explicit locking lets you share or deny access to a table for the duration of a transaction or ensure multitable and multiquery read consistency.<a id="d10894e1760" class="indexterm-anchor"></a><a id="d10894e1764" class="indexterm-anchor"></a><a id="d10894e1768" class="indexterm-anchor"></a></p>
                  <p>With the SELECT FOR UPDATE OF statement, you can explicitly lock specific rows of a table to make sure they do not change before an update or delete is executed. However, Oracle automatically obtains row-level locks at update or delete time. So, use the FOR UPDATE OF clause only if you want to lock the rows <span class="italic">before</span> the update or delete.<a id="d10894e1775" class="indexterm-anchor"></a></p>
                  <p>You can explicitly lock entire tables using the LOCK TABLE statement. </p>
               </div><a id="LNPCB228"></a><div class="props_rev_3"><a id="GUID-348B3204-A6B1-4E1B-AB40-C4796F808F21" name="GUID-348B3204-A6B1-4E1B-AB40-C4796F808F21"></a><h4 id="LNPCB-GUID-348B3204-A6B1-4E1B-AB40-C4796F808F21" class="sect4"><span class="enumeration_section">3.11.1 </span>Using the FOR UPDATE OF Clause
                  </h4>
                  <div>
                     <p>When you DECLARE a cursor, you can meanwhile optionally specify the FOR UPDATE clause, which has the effect of acquiring an exclusive lock on all rows defined by the cursor. This is useful, for example, when you want to base an update on existing rows in a table and want to ensure that they are not meanwhile changed by anyone else.</p>
                     <p>Note that if you refer to a cursor with the CURRENT OF clause, that the precompiler will automatically add the FOR UPDATE clause to the cursor definition and the word OF is optional.<a id="d10894e1807" class="indexterm-anchor"></a><a id="d10894e1811" class="indexterm-anchor"></a> For instance, instead of:
                     </p><pre class="oac_no_warn" dir="ltr">     EXEC SQL DECLARE emp_cursor CURSOR FOR 
         SELECT ENAME, JOB, SAL FROM EMP WHERE DEPTNO = 20 
            FOR UPDATE OF SAL
     END-EXEC.
 </pre><p>you can drop the OF part of the clause and simply code:</p><pre class="oac_no_warn" dir="ltr">    EXEC SQL DECLARE emp_cursor CURSOR FOR 
        SELECT ENAME, JOB, SAL FROM EMP WHERE DEPTNO = 20 
           FOR UPDATE
    END-EXEC.
</pre><div class="infoboxnotealso" id="GUID-348B3204-A6B1-4E1B-AB40-C4796F808F21__GUID-5DFA3243-112E-4E79-A575-E210BC80640E">
                        <p class="notep1">See Also:</p><span class="q">"<a href="embedded-SQL.html#GUID-E0B72EA2-521D-4604-BD41-0B2B1BC59381">Using the CURRENT OF Clause </a>"</span> for an example.
                     </div>
                  </div><a id="LNPCB229"></a><div class="props_rev_3"><a id="GUID-6F5B308D-5700-4FE5-B7B3-92A7F1EDB1B2" name="GUID-6F5B308D-5700-4FE5-B7B3-92A7F1EDB1B2"></a><h5 id="LNPCB-GUID-6F5B308D-5700-4FE5-B7B3-92A7F1EDB1B2" class="sect5"><span class="enumeration_section">3.11.1.1 </span>Restrictions
                     </h5>
                     <div>
                        <p>You cannot use FOR UPDATE with multiple tables, but you must use FOR UPDATE OF to identify a column in the table that you want locked. Row locks obtained by a FOR UPDATE statement are cleared by a COMMIT, which explains why the cursor is closed for you. If you try to fetch from a FOR UPDATE cursor after a commit, Oracle generates a Fetch out of Sequence error.<a id="d10894e1850" class="indexterm-anchor"></a><a id="d10894e1854" class="indexterm-anchor"></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCB230"></a><div class="props_rev_3"><a id="GUID-687E5EBE-714C-49B1-928E-4EB8310B85A8" name="GUID-687E5EBE-714C-49B1-928E-4EB8310B85A8"></a><h3 id="LNPCB-GUID-687E5EBE-714C-49B1-928E-4EB8310B85A8" class="sect3"><span class="enumeration_section">3.12 </span>Fetching Across Commits
               </h3>
               <div>
                  <p>If you want to mix commits and fetches, do not use the CURRENT OF clause. Instead, select the ROWID of each row, and then use that value to identify the current row during the update or delete. Consider the following example:<a id="d10894e1883" class="indexterm-anchor"></a><a id="d10894e1887" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL DECLARE emp_cursor CURSOR FOR
         SELECT ENAME, SAL, ROWID FROM EMP WHERE JOB = 'CLERK'
     END-EXEC.
     ...
     EXEC SQL OPEN emp_cursor END-EXEC.
     EXEC SQL WHENEVER NOT FOUND GOTO ...
     PERFORM
     EXEC SQL
         FETCH emp_cursor INTO :EMP_NAME, :SALARY, :ROW-ID
     END-EXEC
     ... 
         EXEC SQL UPDATE EMP SET SAL = :NEW-SALARY
             WHERE ROWID = :ROW-ID
         END-EXEC
         EXEC SQL COMMIT END-EXEC
     END-PERFORM.
</pre><p>Note, however, that the fetched rows are <span class="italic">not</span> locked. So, you can receive inconsistent results if another user modifies a row after you read it but before you update or delete it.
                  </p>
               </div><a id="LNPCB231"></a><div class="props_rev_3"><a id="GUID-D7F99FE8-D739-4E12-B17C-A7A7F21032F0" name="GUID-D7F99FE8-D739-4E12-B17C-A7A7F21032F0"></a><h4 id="LNPCB-GUID-D7F99FE8-D739-4E12-B17C-A7A7F21032F0" class="sect4"><span class="enumeration_section">3.12.1 </span>Using the LOCK TABLE Statement
                  </h4>
                  <div>
                     <p>Use the LOCK TABLE statement locks one or more tables in a specified lock mode. For example, the following statement locks the EMP table in <span class="italic">row share</span> mode. Row share locks allow concurrent access to a table. They prevent other users from locking the entire table for exclusive use.<a id="d10894e1925" class="indexterm-anchor"></a><a id="d10894e1929" class="indexterm-anchor"></a><a id="d10894e1933" class="indexterm-anchor"></a><a id="d10894e1935" class="indexterm-anchor"></a><a id="d10894e1939" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL
         LOCK TABLE EMP IN ROW SHARE MODE NOWAIT
     END-EXEC.
</pre><p>The lock mode determines what other locks can be placed on the table. For example, many users can acquire row share locks on a table at the same time, but only one user at a time can acquire an <span class="italic">exclusive</span> lock. While one user has an exclusive lock on a table, no other users can insert, update, or delete rows in that table.
                     </p>
                     <p>The optional keyword NOWAIT tells Oracle not to wait for a table if it has been locked by another user. Control is immediately returned to your program so that it can do other work before trying again to acquire the lock. (You can check SQLCODE in the SQLCA to see if the table lock failed.) If you omit NOWAIT, Oracle waits until the table is available; the wait has no set limit.<a id="d10894e1952" class="indexterm-anchor"></a><a id="d10894e1956" class="indexterm-anchor"></a><a id="d10894e1960" class="indexterm-anchor"></a></p>
                     <p>A table lock never keeps other users from querying a table, and a query never acquires a table lock. Consequently, a query never blocks another query or an update, and an update never blocks a query. Only if two different transactions try to update the same row will one transaction wait for the other to complete. Table locks are released when your transaction issues a COMMIT or ROLLBACK.<a id="d10894e1964" class="indexterm-anchor"></a></p>
                     <div class="infoboxnotealso" id="GUID-D7F99FE8-D739-4E12-B17C-A7A7F21032F0__GUID-22418AB6-5109-4545-B365-5EE970E7E725">
                        <p class="notep1">See Also:</p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS-GUID-57365E45-5F85-471B-81D9-F52EA16F1E85" target="_blank">Using Oracle Lock Management Services</a> for more information about lock modes.
                     </div>
                  </div>
               </div>
            </div><a id="LNPCB232"></a><div class="props_rev_3"><a id="GUID-123F9392-C594-46DB-A2BB-92A92953C08A" name="GUID-123F9392-C594-46DB-A2BB-92A92953C08A"></a><h3 id="LNPCB-GUID-123F9392-C594-46DB-A2BB-92A92953C08A" class="sect3"><span class="enumeration_section">3.13 </span>Handling Distributed Transactions
               </h3>
               <div>
                  <p>A <span class="italic">distributed database</span> is a single logical database comprising multiple physical databases at different nodes. A <span class="italic">distributed statement</span> is any SQL statement that accesses a remote node using a database link. A <span class="italic">distributed transaction</span> includes at least one distributed statement that updates data at multiple nodes of a distributed database. If the update affects only one node, the transaction is non-distributed.
                  </p>
                  <p>When you issue a commit, changes to each database affected by the distributed transaction are made permanent. If instead you issue a rollback, all the changes are undone. However, if a network or machine fails during the commit or rollback, the state of the distributed transaction might be unknown or <span class="italic">in doubt</span>. In such cases, if you have FORCE TRANSACTION system privileges, you can manually commit or roll back the transaction at your local database by using the FORCE clause. The transaction must be identified by a quoted literal containing the transaction ID, which can be found in the data dictionary view DBA_2PC_PENDING. Some examples follow:<a id="d10894e2011" class="indexterm-anchor"></a><a id="d10894e2013" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL COMMIT FORCE '22.31.83' END-EXEC.
     ...
     EXEC SQL ROLLBACK FORCE '25.33.86'END-EXEC.
</pre><p>FORCE commits or rolls back only the specified transaction and does not affect your current transaction. Note that you cannot manually roll back in-doubt transactions to a savepoint.</p>
                  <p>The COMMENT clause in the COMMIT statement lets you specify a Comment to be associated with a distributed transaction. If ever the transaction is in doubt, the server stores the text specified by COMMENT in the data dictionary view DBA_2PC_PENDING along with the transaction ID. The text must be a quoted literal of no more than  50 characters in length. An example follows:</p><pre class="oac_no_warn" dir="ltr">     EXEC SQL
         COMMIT COMMENT 'In-doubt trans; notify Order Entry'
     END-EXEC.
</pre><div class="infoboxnotealso" id="GUID-123F9392-C594-46DB-A2BB-92A92953C08A__GUID-F56F1844-B750-4D2F-9764-82354401F4DA">
                     <p class="notep1">See Also:</p><a href="../cncpt/transactions.html#CNCPT1125" target="_blank"><span class="italic">Oracle Database Concepts.</span></a> for more information about distributed transactions.
                  </div>
               </div>
            </div><a id="LNPCB233"></a><div class="props_rev_3"><a id="GUID-5BE08E32-E12A-48B0-AEBE-DAF750831D12" name="GUID-5BE08E32-E12A-48B0-AEBE-DAF750831D12"></a><h3 id="LNPCB-GUID-5BE08E32-E12A-48B0-AEBE-DAF750831D12" class="sect3"><span class="enumeration_section">3.14 </span>Guidelines for Transaction Processing
               </h3>
               <div>
                  <p>The following guidelines will help you avoid some common problems.</p>
               </div><a id="LNPCB234"></a><div class="props_rev_3"><a id="GUID-10A6DE52-588F-4637-8824-B2D1FF9C13B1" name="GUID-10A6DE52-588F-4637-8824-B2D1FF9C13B1"></a><h4 id="LNPCB-GUID-10A6DE52-588F-4637-8824-B2D1FF9C13B1" class="sect4"><span class="enumeration_section">3.14.1 </span>Designing Applications
                  </h4>
                  <div>
                     <p>When designing your application, group logically related actions together in one transaction. A well-designed transaction includes all the steps necessary to accomplish a given task—no more and no less.</p>
                     <p>Data in the tables you reference must be left in a consistent state. Thus, the SQL statements in a transaction should change the data in a consistent way. For example, a transfer of funds between two bank accounts should include a debit to one account and a credit to another. Both updates should either succeed or fail together. An unrelated update, such as a new deposit to one account, should not be included in the transaction.<a id="d10894e2081" class="indexterm-anchor"></a><a id="d10894e2085" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="LNPCB235"></a><div class="props_rev_3"><a id="GUID-A064F2FA-D4DE-47AD-B309-DA03AD245E1E" name="GUID-A064F2FA-D4DE-47AD-B309-DA03AD245E1E"></a><h4 id="LNPCB-GUID-A064F2FA-D4DE-47AD-B309-DA03AD245E1E" class="sect4"><span class="enumeration_section">3.14.2 </span>Obtaining Locks
                  </h4>
                  <div>
                     <p>If your application programs include SQL locking statements, make sure the users requesting locks have the privileges needed to obtain the locks. Your DBA can lock any table. Other users can lock tables they own or tables for which they have a privilege, such as ALTER, SELECT, INSERT, UPDATE, or DELETE.<a id="d10894e2113" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="LNPCB236"></a><div class="props_rev_3"><a id="GUID-6AAA3E37-EF1C-47CA-872D-752CB8EF371B" name="GUID-6AAA3E37-EF1C-47CA-872D-752CB8EF371B"></a><h4 id="LNPCB-GUID-6AAA3E37-EF1C-47CA-872D-752CB8EF371B" class="sect4"><span class="enumeration_section">3.14.3 </span>Using PL/SQL
                  </h4>
                  <div>
                     <p>If a PL/SQL block is part of a transaction, commits and rollback operations inside the block affect the whole transaction. In the following example, the rollback operation undoes changes made by the update <span class="italic">and</span> the insert:<a id="d10894e2145" class="indexterm-anchor"></a><a id="d10894e2149" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">     EXEC SQL INSERT INTO EMP ...
     EXEC SQL EXECUTE
     BEGIN        UPDATE emp 
     ...
         ...
     EXCEPTION
         WHEN DUP_VAL_ON_INDEX THEN
             ROLLBACK;
     END;
     END-EXEC.
     ...</pre></div>
               </div><a id="LNPCB237"></a><div class="props_rev_3"><a id="GUID-10D56616-11FD-449A-8344-D4B20E8843E4" name="GUID-10D56616-11FD-449A-8344-D4B20E8843E4"></a><h4 id="LNPCB-GUID-10D56616-11FD-449A-8344-D4B20E8843E4" class="sect4"><span class="enumeration_section">3.14.4 </span>X/Open Applications
                  </h4>
                  <div>
                     <p>For instructions on using the XA interface in X/Open applications, see <a href="../adfns/xa.html#ADFNS-GUID-19B8285C-F8CA-4857-89E3-477C6BD1483C" target="_blank">X/Open Distributed Transaction Processing (DTP)</a>.
                     </p><pre class="oac_no_warn" dir="ltr"></pre></div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01372.managing-and-configuring-tfa.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">
      <meta name="description" content="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">
      <title>Managing and Configuring Oracle Trace File Analyzer</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96320-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performing-custom-collections.html" title="Previous" type="text/html">
      <link rel="next" href="managing-db-and-gi-diagnostic-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performing-custom-collections.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-db-and-gi-diagnostic-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="diagnose-troubleshoot-issues-errors.html" property="item" typeof="WebPage"><span property="name">Collecting Diagnostic Data and Triaging, Diagnosing, and Resolving Issues</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing and Configuring Oracle Trace File Analyzer</li>
            </ol>
            <a id="GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" name="GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB"></a>
            
            <h2 id="ATNMS-GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" class="sect2"><span class="enumeration_chapter">19 </span>Managing and Configuring Oracle Trace File Analyzer
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D">Querying Oracle Trace File Analyzer Status and Configuration</a><br>Use the <code class="codeph">print</code> command to query the status or configuration.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419">Managing the Oracle Trace File Analyzer Daemon</a><br>Oracle Trace File Analyzer runs from <code class="codeph">init</code> on UNIX systems or <code class="codeph">init/upstart/systemd</code> on Linux, or Microsoft Windows uses a Windows Service so that Oracle Trace File Analyzer starts automatically whenever a node starts.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26">Managing the Repository</a><br>Oracle Trace File Analyzer stores all diagnostic collections in the repository.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-FDAB1329-EE67-4374-8F42-776AA3A66439">Managing Collections</a><br>Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6">Configuring the Host</a><br>You must have <code class="codeph">root</code> or <code class="codeph">sudo</code> access to <code class="codeph">tfactl</code> to add hosts to Oracle Trace File Analyzer configuration.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78">Configuring the Ports</a><br>The Oracle Trace File Analyzer daemons in a cluster communicate securely over ports 5000 to 5005.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208">Configuring SSL and SSL Certificates</a><br>View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E">Configuring Email Notification Details</a><br>Configure Oracle Trace File Analyzer to send an email to the registered email address after an automatic collection completes.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="diagnose-troubleshoot-issues-errors.html#GUID-DA02663E-305E-4DD2-9758-DCA883B54198" title="Use the tools available with Autonomous Health Framework to troubleshoot errors.">Collecting Diagnostic Data and Triaging, Diagnosing, and Resolving Issues</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D" name="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D"></a><h3 id="ATNMS-GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D" class="sect3"><span class="enumeration_section">19.1 </span>Querying Oracle Trace File Analyzer Status and Configuration
               </h3>
               <div>
                  <p>Use the <code class="codeph">print</code> command to query the status or configuration.
                  </p>
                  <div class="tblformal" id="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D__GUID-241EBAD6-53DC-4A96-BF60-49D02D3A68F3">
                     <p class="titleintable">Table 19-1 Configuration Listing and Descriptions</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Configuration Listing and Descriptions" summary="This table lists and describes and configuration parameters." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d52627e133">Configuration Listing</th>
                              <th align="left" valign="bottom" width="20%" id="d52627e135">Default Value</th>
                              <th align="left" valign="bottom" width="20%" id="d52627e137">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e141" headers="d52627e133 ">
                                 <p>Automatic diagnostic collection</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e141 d52627e135 ">
                                 <p>ON</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e141 d52627e137 ">
                                 <p>Triggers a collection if a significant problem occurs. </p>
                                 <p>Possible values:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>ON</p>
                                    </li>
                                    <li>
                                       <p>OFF</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e160" headers="d52627e133 ">
                                 <p>Trimming of files during diagnostic collection</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e160 d52627e135 ">
                                 <p>ON</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e160 d52627e137 ">
                                 <p>Trims the log files to only entries within the time range of the collection.</p>
                                 <p>Possible values:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>ON</p>
                                    </li>
                                    <li>
                                       <p>OFF</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e179" headers="d52627e133 ">
                                 <p>Repository maximum size in MB</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e179 d52627e135 ">
                                 <p>Smaller of either 10GB or 50% of free space in the file system.</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e179 d52627e137 ">
                                 <p>The largest size the repository can be.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e189" headers="d52627e133 ">
                                 <p>Trace Level</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e189 d52627e135 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e189 d52627e137 ">
                                 <p>Increases the level of verbosity.</p>
                                 <p>Possible values:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>1</p>
                                    </li>
                                    <li>
                                       <p>2</p>
                                    </li>
                                    <li>
                                       <p>3</p>
                                    </li>
                                    <li>
                                       <p>4</p>
                                    </li>
                                 </ul>
                                 <p>A value of 1 results in the least amount of trace. A value of 4 results in the most amount of trace.</p>
                                 <p>Oracle recommends changing the trace level value only at the request of Oracle Support.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e218" headers="d52627e133 ">
                                 <p>Automatic Purging</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e218 d52627e135 ">
                                 <p>ON</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e218 d52627e137 ">
                                 <p>Purges collections when:</p>
                                 <p>Free space in the repository falls below 1GB.</p>
                                 <p>Or</p>
                                 <p>Before closing the repository.</p>
                                 <p>Purging removes collections from largest size through to smallest. Purging continues until the repository has enough space to open.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e236" headers="d52627e133 ">
                                 <p>Minimum Age of Collections to Purge (Hours)</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e236 d52627e135 ">
                                 <p>12</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e236 d52627e137 ">
                                 <p>The least number of hours to keep a collection, after which it is eligible for purging.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e246" headers="d52627e133 ">
                                 <p>Minimum Space free to enable Alert Log Scan (MB)</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e246 d52627e135 ">
                                 <p>500</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e246 d52627e137 ">
                                 <p>Suspends log scanning if free space in the <code class="codeph">tfa_home</code> falls below this value.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="example" id="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D__GUID-C9100B4C-089A-493D-9374-88BF7796D3BF">
                     <p class="titleinexample">Example 19-1 Print Configuration</p><pre class="pre codeblock"><code>$ tfactl print config
.------------------------------------------------------------------------.
|                             node1                              		  |
+-----------------------------------------------------------+------------+
| Configuration Parameter                                   | Value      |
+-----------------------------------------------------------+------------+
| TFA Version                                               |12.2.1.0.0  |
| Java Version                                              | 1.8        |
| Public IP Network                                         | true       |
| Automatic Diagnostic Collection                           | true       |
| Alert Log Scan                                            | true       |
| Disk Usage Monitor                                        | true       |
| Managelogs Auto Purge                                     | false      |
| Trimming of files during diagcollection                   | true       |
| Inventory Trace level                                     | 1          |
| Collection Trace level                                    | 1          |
| Scan Trace level                                          | 1          |
| Other Trace level                                         | 1          |
| Repository current size (MB)                              | 447        |
| Repository maximum size (MB)                              | 10240      |
| Max Size of TFA Log (MB)                                  | 50         |
| Max Number of TFA Logs                                    | 10         |
| Max Size of Core File (MB)                                | 20         |
| Max Collection Size of Core Files (MB)                    | 200        |
| Minimum Free Space to enable Alert Log Scan (MB)          | 500        |
| Time interval between consecutive Disk Usage Snapshot(minutes)  | 60   |
| Time interval between consecutive Managelogs Auto Purge(minutes)| 60   |
| Logs older than the time period will be auto purged(days[d]|hours[h])|30d|
| Automatic Purging                                         | true       |
| Age of Purging Collections (Hours)                        | 12         |
| TFA IPS Pool Size                                         | 5          |
'-----------------------------------------------------------+------------'</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="running-administration-commands.html#GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" title="Use the tfactl print command to print information from the Berkeley database.">tfactl print</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419" name="GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419"></a><h3 id="ATNMS-GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419" class="sect3"><span class="enumeration_section">19.2 </span>Managing the Oracle Trace File Analyzer Daemon
               </h3>
               <div>
                  <p>Oracle Trace File Analyzer runs from <code class="codeph">init</code> on UNIX systems or <code class="codeph">init/upstart/systemd</code> on Linux, or Microsoft Windows uses a Windows Service so that Oracle Trace File Analyzer starts automatically whenever a node starts.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419__GUID-9D882FD9-AF8E-48FB-989B-6866CEAC3DE6">To manage Oracle Trace File Analyzer daemon:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">The <code class="codeph">init</code> control file <code>/etc/init.d/init.tfa</code> is platform dependant.
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>To start or stop Oracle Trace File Analyzer manually:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">tfactl start</code>: Starts the Oracle Trace File Analyzer daemon
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">tfactl stop</code>: Stops the Oracle Trace File Analyzer daemon
                                 </p>
                              </li>
                           </ul>
                           <p>If the Oracle Trace File Analyzer daemon fails, then the operating system restarts the daemon automatically.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To enable or disable automatic restarting of the Oracle Trace File Analyzer daemon:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">tfactl disable</code>: Disables automatic restarting of the Oracle Trace File Analyzer daemon.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">tfactl enable</code>: Enables automatic restarting of the Oracle Trace File Analyzer daemon.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" name="GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26"></a><h3 id="ATNMS-GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" class="sect3"><span class="enumeration_section">19.3 </span>Managing the Repository
               </h3>
               <div>
                  <p>Oracle Trace File Analyzer stores all diagnostic collections in the repository.</p>
                  <p>The repository size is the maximum space Oracle Trace File Analyzer is able to use on disk to store collections.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F">Purging the Repository Automatically</a><br></li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4">Purging the Repository Manually</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F" name="GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F"></a><h4 id="ATNMS-GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F" class="sect4"><span class="enumeration_section">19.3.1 </span>Purging the Repository Automatically
                  </h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p>Oracle Trace File Analyzer closes the repository, if:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Free space in <code class="codeph">TFA_HOME</code> &nbsp;is less than 100 MB, also stops indexing
                              </p>
                           </li>
                           <li>
                              <p>Free space in <code class="codeph">ORACLE_BASE</code> &nbsp;is less than 100 MB, also stops indexing
                              </p>
                           </li>
                           <li>
                              <p>Free space in the repository is less than 1 GB</p>
                           </li>
                           <li>
                              <p>Current size of the repository is greater than the repository max size (<code class="codeph">reposizeMB</code>)
                              </p>
                           </li>
                        </ul>
                        <p>The Oracle Trace File Analyzer daemon monitors and automatically purges the repository when the free space falls below 1 GB or before closing the repository. Purging removes collections from largest size through to smallest until the repository has enough space to open.</p>
                        <p>Oracle Trace File Analyzer automatically purges only the collections that are older than <code class="codeph">minagetopurge</code>. By default, <code class="codeph">minagetopurge</code>&nbsp; is 12 hours.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F__GUID-3F1B27C3-0DE9-478B-9C53-DE5FCDE2F68B">To purge the repository automatically</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To change the minimum age to purge:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set minagetopurge=<span class="variable" translate="no">number of hours</span></code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set minagetopurge=48</code></pre></div>
                              <p>Purging the repository automatically is enabled by default.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To disable or enable automatic purging:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set autopurge=ON|OFF</code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set autopurge=ON</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To change the location of the repository:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set repositorydir=<span class="variable" translate="no">dir</span></code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set repositorydir=/opt/mypath</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To change the size of the repository:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set reposizeMB</code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set reposizeMB=20480</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-administration-commands.html#GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C" title="Use the tfactl set command to enable or disable, or modify various Oracle Trace File Analyzer functions.">tfactl set</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" title="Oracle Trace File Analyzer stores all diagnostic collections in the repository.">Managing the Repository</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4" name="GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4"></a><h4 id="ATNMS-GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4" class="sect4"><span class="enumeration_section">19.3.2 </span>Purging the Repository Manually
                  </h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4__GUID-E711E78E-036C-4B3C-99CD-622223A52502">To purge the repository manually:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To view the status of the Oracle Trace File Analyzer repository:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print repository</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To view statistics about collections:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print collections</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To manually purge collections that are older than a specific time:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl purge -older <span class="variable" translate="no">number</span>[h|d] [-force]</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-diagnostic-collection-commands.html#GUID-47188A6D-FC60-4E05-A62C-A60F741ABBA0" title="Use the tfactl purge command to delete diagnostic collections from the Oracle Trace File Analyzer repository that are older than a specific time.">tfactl purge</a></li>
                           <li><a href="running-administration-commands.html#GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" title="Use the tfactl print command to print information from the Berkeley database.">tfactl print</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" title="Oracle Trace File Analyzer stores all diagnostic collections in the repository.">Managing the Repository</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" name="GUID-FDAB1329-EE67-4374-8F42-776AA3A66439"></a><h3 id="ATNMS-GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" class="sect3"><span class="enumeration_section">19.4 </span>Managing Collections
               </h3>
               <div>
                  <p>Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E">Including Directories</a><br>Add directories to the Oracle Trace File Analyzer configuration to include the directories in diagnostic collections.
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78">Managing the Size of Collections</a><br>Use the Oracle Trace File Analyzer configuration options <code class="codeph">trimfiles</code>, <code class="codeph">maxcorefilesize</code>, <code class="codeph">maxcorecollectionsize</code>, and <code class="codeph">diagcollect</code>  <code class="codeph">-nocores</code> to reduce the size of collections.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E" name="GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E"></a><h4 id="ATNMS-GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E" class="sect4"><span class="enumeration_section">19.4.1 </span>Including Directories
                  </h4>
                  <div>
                     <p>Add directories to the Oracle Trace File Analyzer configuration to include the directories in diagnostic collections.</p>
                     <div class="section">
                        <p>Oracle Trace File Analyzer then stores diagnostic collection metadata about the:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Directory</p>
                           </li>
                           <li>
                              <p>Subdirectories</p>
                           </li>
                           <li>
                              <p>Files in the directory and all sub directories</p>
                           </li>
                        </ul>
                        <p>All Oracle Trace File Analyzer users can add directories they have read access to.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E__GUID-545EFC7A-6A87-4D4A-B66E-AED55E0D5478">To manage directories:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To view the current directories configured in Oracle Trace File Analyzer</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print directories [ -node all | local | <span class="variable" translate="no">n1,n2,...</span> ] 
[ -comp <span class="variable" translate="no">component_name1,component_name2,..</span> ] 
[ -policy  exclusions | noexclusions ] 
[ -permission public | private ]</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To add directories:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl directory add <span class="variable" translate="no">dir</span> 
[ -public ] 
[ -exclusions | -noexclusions | -collectall ] 
[ -node all | <span class="variable" translate="no">n1,n2,...</span> ]</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To remove a directory from being collected:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl directory remove <span class="variable" translate="no">dir</span> [ -node all | <span class="variable" translate="no">n1,n2,...</span> ]</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-diagnostic-collection-commands.html#GUID-87FDED7C-80C8-4111-AB1C-4BEEFFDBA326" title="Use the tfactl directory command to add a directory to, or remove a directory from the list of directories to analyze their trace or log files.">tfactl directory</a></li>
                           <li><a href="running-administration-commands.html#GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" title="Use the tfactl print command to print information from the Berkeley database.">tfactl print</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" title="Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.">Managing Collections</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78" name="GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78"></a><h4 id="ATNMS-GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78" class="sect4"><span class="enumeration_section">19.4.2 </span>Managing the Size of Collections
                  </h4>
                  <div>
                     <p>Use the Oracle Trace File Analyzer configuration options <code class="codeph">trimfiles</code>, <code class="codeph">maxcorefilesize</code>, <code class="codeph">maxcorecollectionsize</code>, and <code class="codeph">diagcollect</code>  <code class="codeph">-nocores</code> to reduce the size of collections.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78__GUID-739374C5-4502-42C0-8BE2-007A8BF18167">To manage the size of collections:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To trim files during diagnostic collection:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl set trimfiles=ON|OFF</code></pre></div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>When set to ON (default), Oracle Trace File Analyzer trims files to include data around the time of the event</p>
                                 </li>
                                 <li>
                                    <p>When set to OFF, any file that was written to at the time of the event is collected in its entirety</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To set the maximum size of core file to <span class="variable" translate="no">n</span> MB (default 20 MB):</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl set maxcorefilesize=<span class="variable" translate="no">n</span></code></pre></div>
                              <p>Oracle Trace File Analyzer skips core files that are greater than <code class="codeph">maxcorefilesize</code>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To set the maximum collection size of core files to <span class="variable" translate="no">n</span>&nbsp;MB (default 200 MB):</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl set maxcorecollectionsize=<span class="variable" translate="no">n</span></code></pre></div>
                              <p>Oracle Trace File Analyzer skips collecting core files after <code class="codeph">maxcorecollectionsize</code> is reached.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To prevent the collection of core files with diagnostic collections:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl diagcollect -nocores</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="Use the tfactl diagcollect command to perform on-demand diagnostic collection.">tfactl diagcollect</a></li>
                           <li><a href="running-administration-commands.html#GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C" title="Use the tfactl set command to enable or disable, or modify various Oracle Trace File Analyzer functions.">tfactl set</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" title="Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.">Managing Collections</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6" name="GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6"></a><h3 id="ATNMS-GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6" class="sect3"><span class="enumeration_section">19.5 </span>Configuring the Host
               </h3>
               <div>
                  <p>You must have <code class="codeph">root</code> or <code class="codeph">sudo</code> access to <code class="codeph">tfactl</code> to add hosts to Oracle Trace File Analyzer configuration.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6__GUID-CB292546-ABE3-4FF2-BCE5-9A1990456BD8">To add, remove, and replace SSL certificates:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>To view the list of current hosts in the Oracle Trace File Analyzer configuration:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl print hosts</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To add a host to the Oracle Trace File Analyzer configuration for the first time:</span><ol type="a">
                           <li class="substepexpand"><span>If necessary, install and start Oracle Trace File Analyzer on the new host.</span></li>
                           <li class="substepexpand"><span>From the existing host, synchronize authentication certificates for all hosts by running:</span><div>
                                 <div class="p"><pre class="pre codeblock"><code>tfactl syncnodes</code></pre></div>
                                 <p>If needed, then Oracle Trace File Analyzer displays the current node list it is aware of and prompts you to update this node list.</p>
                              </div>
                           </li>
                           <li class="substepexpand"><span>Select <span class="uicontrol bold">Y</span>, and then enter the name of the new host.</span><div>
                                 <p>Oracle Trace File Analyzer contacts Oracle Trace File Analyzer on the new host to synchronize certificates and add each other to their respective hosts lists.</p>
                              </div>
                           </li>
                        </ol>
                     </li>
                     <li class="stepexpand"><span>To remove a host:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl host remove&nbsp;<span class="variable" translate="no">host</span></code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To add a host and the certificates that are already synchronized:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl host add&nbsp;<span class="variable" translate="no">host</span></code></pre></div>
                           <p>Oracle Trace File Analyzer generates self-signed SSL certificates during install. Replace those certificates with one of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Personal self-signed certificate</p>
                              </li>
                              <li>
                                 <p>CA-signed certificate</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78" name="GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78"></a><h3 id="ATNMS-GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78" class="sect3"><span class="enumeration_section">19.6 </span>Configuring the Ports
               </h3>
               <div>
                  <p>The Oracle Trace File Analyzer daemons in a cluster communicate securely over ports 5000 to 5005.</p>
                  <div class="section">
                     <p>If the port range is not available on your system, then replace it with the ports available on your system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78__GUID-A2670DDE-3CA3-451B-AE0D-52DF7180D2D6">To change the ports:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span> To set the primary port use the <code class="codeph">tfactl set port</code> command:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl set port=<span class="variable" translate="no">port_1</span></code></pre></div>
                           <div class="p">Or, specify a comma-delimited list of sequentially numbered ports to use. You can specify a maximum of five ports.<pre class="pre codeblock"><code>tfactl set port=<span class="variable" translate="no">port_1</span>,<span class="variable" translate="no">port_2</span>,<span class="variable" translate="no">port_3</span>,<span class="variable" translate="no">port_4</span>,<span class="variable" translate="no">port_5</span></code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Restart Oracle Trace File Analyzer on all nodes:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl stop</code></pre><pre class="pre codeblock"><code>tfactl start</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" name="GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208"></a><h3 id="ATNMS-GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" class="sect3"><span class="enumeration_section">19.7 </span>Configuring SSL and SSL Certificates
               </h3>
               <div>
                  <p>View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C">Configuring SSL/TLS Protocols</a><br>The Oracle Trace File Analyzer daemons in a cluster communicate securely using the SSL/TLS protocols.
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-E7961A2C-523E-4875-B093-F5432D479276">Configuring Self-Signed Certificates</a><br>Use <code class="codeph">Java keytool</code> to replace self-signed SSL certificates with personal self-signed certificates. 
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B">Configuring CA-Signed Certificates</a><br>Use <code class="codeph">Java keytool</code>&nbsp;and <code class="codeph">openssl</code> to replace self-signed SSL certificates with the Certificate Authority (CA) signed certificates.
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB">Configuring SSL Cipher Suite</a><br>The cipher suite is a set of cryptographic algorithms used by the TLS/SSL protocols to create keys and encrypt data.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C" name="GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C"></a><h4 id="ATNMS-GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C" class="sect4"><span class="enumeration_section">19.7.1 </span>Configuring SSL/TLS Protocols
                  </h4>
                  <div>
                     <p>The Oracle Trace File Analyzer daemons in a cluster communicate securely using the SSL/TLS protocols.</p>
                     <div class="section">
                        <p>The SSL protocols available for use by Oracle Trace File Analyzer are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">TLSv1.2</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TLCv1.1</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TLSv1</code></p>
                           </li>
                        </ul>
                        <p>Oracle Trace File Analyzer always restricts use of older the protocols <code class="codeph">SSLv3</code> and <code class="codeph">SSLv2Hello</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C__GUID-C8321715-EF1E-4E62-A437-CB5253FAA4D2">To view and restrict protocols:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To view the available and restricted protocols:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print protocols</code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl print protocols
.---------------------------------------.
|                 node1                 |
+---------------------------------------+
| Protocols                             |
+---------------------------------------+
| Available : [TLSv1, TLSv1.2, TLSv1.1] |
| Restricted : [SSLv3, SSLv2Hello]      |
'---------------------------------------'
</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To restrict the use of certain protocols:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl restrictprotocol [-force] <span class="variable" translate="no">protocol</span></code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl restrictprotocol TLSv1</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E7961A2C-523E-4875-B093-F5432D479276" name="GUID-E7961A2C-523E-4875-B093-F5432D479276"></a><h4 id="ATNMS-GUID-E7961A2C-523E-4875-B093-F5432D479276" class="sect4"><span class="enumeration_section">19.7.2 </span>Configuring Self-Signed Certificates
                  </h4>
                  <div>
                     <p>Use <code class="codeph">Java keytool</code> to replace self-signed SSL certificates with personal self-signed certificates. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E7961A2C-523E-4875-B093-F5432D479276__GUID-C75E6546-F132-4AA9-AA09-87BC4FAF3BDD">To configure Oracle Trace File Analyzer to use self-signed certificates:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a private key and keystore file containing the self-signed certificate for the server:</span><div><pre class="pre codeblock"><code>$ keytool -genkey -alias server_full -keyalg RSA -keysize 2048 -validity 18263 -keystore myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a private key and keystore file containing the private key and self signed-certificate for the client:</span><div><pre class="pre codeblock"><code>$ keytool -genkey -alias client_full -keyalg RSA -keysize 2048 -validity 18263 -keystore myclient.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Export the server public key certificate from the server keystore:</span><div><pre class="pre codeblock"><code>$ keytool -export -alias server_full -file myserver_pub.crt -keystore myserver.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Export the client public key certificate from the server keystore:</span><div><pre class="pre codeblock"><code>$ keytool -export -alias client_full -file myclient_pub.crt -keystore myclient.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the server public key certificate into the client keystore:</span><div><pre class="pre codeblock"><code>$ keytool -import -alias server_pub -file myserver_pub.crt -keystore myclient.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the client public key certificate into the server keystore:</span><div><pre class="pre codeblock"><code>$ keytool -import -alias client_pub -file myclient_pub.crt  -keystore myserver.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restrict the permissions on the keystores to <code class="codeph">root</code> &nbsp;<code class="codeph">read-only</code>.</span><div><pre class="pre codeblock"><code>$ chmod 400 myclient.jks myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Copy the keystores (<code class="codeph">jks</code> files) to each node.</span></li>
                        <li class="stepexpand"><span>Configure Oracle Trace File Analyzer to use the new certificates:</span><div><pre class="pre codeblock"><code>$ tfactl set sslconfig</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restart the Oracle Trace File Analyzer process to start using new certificates:</span><div><pre class="pre codeblock"><code>$ tfactl stop 
$ tfactl start</code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B" name="GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B"></a><h4 id="ATNMS-GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B" class="sect4"><span class="enumeration_section">19.7.3 </span>Configuring CA-Signed Certificates
                  </h4>
                  <div>
                     <p>Use <code class="codeph">Java keytool</code>&nbsp;and <code class="codeph">openssl</code> to replace self-signed SSL certificates with the Certificate Authority (CA) signed certificates.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B__GUID-5CE8549B-7B87-4633-96CD-4824042385D8">To configure Oracle Trace File Analyzer to use CA-signed certificates:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a private key for the server request:</span><div><pre class="pre codeblock"><code>$ openssl genrsa -aes256 -out myserver.key 2048</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a private key for the client request:</span><div><pre class="pre codeblock"><code>$ openssl genrsa -aes256 -out myclient.key 2048</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a Certificate Signing Request (CSR) for the server:</span><div><pre class="pre codeblock"><code>$ openssl req -key myserver.key -new -sha256 -out myserver.csr</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a Certificate Signing Request (CSR) for the client:</span><div><pre class="pre codeblock"><code>$ openssl req -key myclient.key -new -sha256 -out myclient.csr</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Send the resulting CSR for the client and the server to the relevant signing authority.</span><div>
                              <p>The signing authority sends back the signed certificates:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code>myserver.cert</code></p>
                                 </li>
                                 <li>
                                    <p><code>myclient.cert</code></p>
                                 </li>
                                 <li>
                                    <p>CA root certificate</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Convert the certificates to JKS format for the server and the client:</span><div><pre class="pre codeblock"><code>$ openssl pkcs12 -export -out serverCert.pkcs12 -in myserver.cert -inkey myserver.key</code></pre><pre class="pre codeblock"><code>$ keytool -v -importkeystore -srckeystore serverCert.pkcs12 -srcstoretype PKCS12 -destkeystore myserver.jks -deststoretype JKS</code></pre><pre class="pre codeblock"><code>$ openssl pkcs12 -export -out clientCert.pkcs12 -in myclient.cert -inkey myclient.key</code></pre><pre class="pre codeblock"><code>$ keytool -v -importkeystore -srckeystore clientCert.pkcs12 -srcstoretype PKCS12 -destkeystore myclient.jks -deststoretype JKS</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the server public key into to the client <code class="codeph">jks</code> file:</span><div><pre class="pre codeblock"><code>$ keytool -import -v -alias server-ca -file myserver.cert -keystore myclient.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the client public key to the server <code class="codeph">jks</code> file:</span><div><pre class="pre codeblock"><code>$ keytool -import -v -alias client-ca -file myclient.cert -keystore myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the CA root certificate from the signing authority into the Oracle Trace File Analyzer server certificate:</span><div><pre class="pre codeblock"><code>$ keytool -importcert -trustcacerts -alias inter -file caroot.cert -keystore myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restrict the permissions on the keystores to <code class="codeph">root</code> &nbsp;<code class="codeph">read-only</code>:</span><div><pre class="pre codeblock"><code>$ chmod 400 myclient.jks myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Copy the keystores (<code>jks</code> files) to each node.</span></li>
                        <li class="stepexpand"><span>Configure Oracle Trace File Analyzer to use the new certificates:</span><div><pre class="pre codeblock"><code>$ tfactl set sslconfig</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restart the Oracle Trace File Analyzer process to start using the new certificates.</span><div><pre class="pre codeblock"><code>$ tfactl stop 
$ tfactl start</code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB" name="GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB"></a><h4 id="ATNMS-GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB" class="sect4"><span class="enumeration_section">19.7.4 </span>Configuring SSL Cipher Suite
                  </h4>
                  <div>
                     <p>The cipher suite is a set of cryptographic algorithms used by the TLS/SSL protocols to create keys and encrypt data.</p>
                     <div class="section">
                        <p>Oracle Trace File Analyzer supports any of the cipher suites used by JRE 1.8.</p>
                        <p>The default cipher suite used is <code class="codeph">TLS_RSA_WITH_AES_128_CBC_SHA256</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>You can change the cipher suite with the command:</span><div><pre class="pre codeblock"><code>tfactl set ciphersuite=<span class="variable" translate="no">cipher_suite</span></code></pre><div class="p">For example:<pre class="pre codeblock"><code>tfactl set ciphersuite=TLS_RSA_WITH_AES_128_GCM_SHA256</code></pre></div>
                           </div>
                           <div>For a list of JRE cipher suites, see:
                              <p><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider" target="_blank">https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider</a></p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E" name="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E"></a><h3 id="ATNMS-GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E" class="sect3"><span class="enumeration_section">19.8 </span>Configuring Email Notification Details
               </h3>
               <div>
                  <p>Configure Oracle Trace File Analyzer to send an email to the registered email address after an automatic collection completes.</p>
                  <div class="p">To send emails, configure the system on which Oracle Trace Analyzer is running. You must configure notification with a user email address to enable it to work. </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-2A7C1E65-1EB0-4146-A7B0-ACA6D1278965">To configure email notification details:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>To set the notification email to use for a specific <code class="codeph">ORACLE_HOME</code>, include the operating system owner in the command:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl set notificationAddress=<span class="variable" translate="no">os_user</span>:<span class="variable" translate="no">email</span></code></pre></div>
                           <div class="p">For example:<pre class="pre codeblock"><code>tfactl set notificationAddress=oracle:some.body@example.com</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To set the notification email to use for any <code class="codeph">ORACLE_HOME</code>:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl set notificationAddress=<span class="variable" translate="no">email</span></code></pre></div>
                           <div class="p">For example:<pre class="pre codeblock"><code>tfactl set notificationAddress=another.body@example.com</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Configure the SMTP server using <code class="codeph">tfactl set smtp</code>.</span><div>
                           <p>Set the SMTP parameters when prompted.</p>
                           <div class="tblformal" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-D73FE584-435C-408D-8722-5CEA1DFEC9E7">
                              <p class="titleintable">Table 19-2 tfactl diagnosetfa Command Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl diagnosetfa Command Parameters" summary="This table lists and describes tfactl diagnosetfa command parameters." frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d52627e1603">Parameter</th>
                                       <th align="left" valign="bottom" width="20%" id="d52627e1605">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1609" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.host</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1609 d52627e1605 ">
                                          <p>Specify the SMTP server host name.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1617" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.port</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1617 d52627e1605 ">
                                          <p>Specify the SMTP server port.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1625" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.user</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1625 d52627e1605 ">
                                          <p>Specify the SMTP user.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1633" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.password</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1633 d52627e1605 ">
                                          <p>Specify password for the SMTP user.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1641" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.auth</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1641 d52627e1605 ">
                                          <p>Set the Authentication flag to true or false.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1649" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.ssl</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1649 d52627e1605 ">
                                          <p>Set the SSL flag to true or false.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1657" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.from</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1657 d52627e1605 ">
                                          <p>Specify the from mail ID.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1665" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.to</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1665 d52627e1605 ">
                                          <p>Specify the comma-delimited list of recipient mail IDs.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1673" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.cc</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1673 d52627e1605 ">
                                          <p>Specify the comma-delimited list of CC mail IDs.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1681" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.bcc</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1681 d52627e1605 ">
                                          <p>Specify the comma-delimited list of BCC mail IDs.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1689" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.debug</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1689 d52627e1605 ">
                                          <p>Set the Debug flag to true or false.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-414A3CC3-C124-4061-B3D0-CD985726F126">
                              <p class="notep1">Note:</p>
                              <p>You can view current SMTP configuration details using <code class="codeph">tfactl print smtp</code>.
                              </p>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Verify SMTP configuration by sending a test email using <code class="codeph">tfactl sendmail <span class="variable" translate="no">email_address</span></code>.</span><div>
                           <p>When Oracle Trace File Analyzer detects a significant error has occurred it will send an email notification as follows:</p>
                           <div class="p">
                              <div class="figure" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-FC6B519C-AE2B-4184-9CE2-FCC5A1E8BDA4">
                                 <p class="titleinfigure">Figure 19-1 Email Notification</p><img src="img/ora600-notification.jpg" alt="Description of Figure 19-1 follows" title="Description of Figure 19-1 follows" longdesc="img_text/ora600-notification.html"><br><a href="img_text/ora600-notification.html">Description of "Figure 19-1 Email Notification"</a></div>
                              <!-- class="figure" -->
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Do the following after receiving the notification email:</span><ol type="a">
                           <li><span>To find the root cause, inspect the referenced collection details.</span></li>
                           <li><span>If you can fix the issue, then resolve the underlying cause of the problem.</span></li>
                           <li><span>If you do not know the root cause of the problem, then log an SR with Oracle Support, and upload the collection details.</span></li>
                        </ol>
                     </li>
                  </ol>
                  <div class="example" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-94FE86F3-E888-43DA-9480-026BABDFF888">
                     <p class="titleinexample">Example 19-2 tfactl set smtp</p><pre class="pre codeblock"><code># /u01/app/11.2.0.4/grid/bin/tfactl set smtp 

.---------------------------.
| SMTP Server Configuration |
+---------------+-----------+
| Parameter | Value |
+---------------+-----------+
| smtp.auth | false |
| smtp.from | tfa |
| smtp.user | - |
| smtp.cc | - |
| smtp.port | 25 |
| smtp.bcc | - |
| smtp.password | ******* |
| smtp.host | localhost |
| smtp.to | - |
| smtp.debug | true |
| smtp.ssl | true |
'---------------+-----------'

Enter the SMTP property you want to update : smtp.host

Enter value for smtp.host : myhost.domain.com

SMTP Property smtp.host updated with myhost.domain.com

Do you want to continue ? [Y]|N : N

#</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>