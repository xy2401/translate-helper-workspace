<html id='04738.build-and-configure-oci-applications.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes features about building and configuring OCI applications on Linux, UNIX, and Windows operating systems.">
      <meta name="description" content="This chapter describes features about building and configuring OCI applications on Linux, UNIX, and Windows operating systems.">
      <title>Building and Configuring OCI Applications</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter describes features about building and configuring OCI applications on Linux, UNIX, and Windows operating systems.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="instant-client.html" title="Previous" type="text/html">
      <link rel="next" href="oci-programming-basics.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="instant-client.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oci-programming-basics.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Building and Configuring OCI Applications</li>
            </ol>
            <a id="GUID-7DC38FFE-0AA2-4736-8D0C-CE5792F68493" name="GUID-7DC38FFE-0AA2-4736-8D0C-CE5792F68493"></a>
            
            <h2 id="LNOCI-GUID-7DC38FFE-0AA2-4736-8D0C-CE5792F68493" class="sect2"><span class="enumeration_chapter">3 </span>Building and Configuring OCI Applications
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='build-and-configure-oci-applications'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>This chapter describes features about building and configuring OCI applications on Linux, UNIX, and Windows operating systems.</p>
               <p>For other supported operating systems, see the platform specific installation guides for more information.</p>
               <div class="p">This chapter includes the following topics:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4" title="The OCI and OCCI header files that are required for OCI and OCCI client application development on Linux and UNIX operating systems reside in the $ORACLE_HOME/rdbms/public directory.">Header File and Makefile Locations</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-D6379B9A-80A6-4439-B96A-D31264DF0100" title="How to build an OCI application on Linux and UNIX.">Building an OCI Application on Linux and UNIX</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB" title="How to build an OCI application on Windows.">Building an Application on Windows</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE" title="This topic describes Oracle Net naming methods that do not use ORACLE_BASE_HOME, or ORACLE_HOME (to locate configuration files such as tnsnames.ora, sqlnet.ora, or oraaccess.xml).">Database Connection Strings</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-AB481881-FE50-4617-BB45-0C817815EAA9" title="In Oracle Database Release 11.2 (or later) you can use different versions of the time zone file on the client and server; this mode of operation was not supported before Oracle Database Release 11.2.">Client and Server Operating with Different Versions of Time Zone Files</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" title="This topic describes the OCI client-side deployment parameters using oraaccess.xml.">OCI Client-Side Deployment Parameters Using oraaccess.xml</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532" title="The following sections discuss issues concerning compatibility between different releases of OCI client and server, changes in the OCI library routines, and upgrading an application from the release 7.x OCI to the current release of OCI:">About Compatibility and Upgrading</a></p>
                     </li>
                     <li>
                        <p><a href="build-and-configure-oci-applications.html#GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" title="Fault diagnosability was introduced into OCI in Oracle Database 11g Release 1 (11.1). Describes how the location of the ADR base is determined.ADRCI is a command-line tool that enables you to view diagnostic data within the ADR and to package incident and problem information into a zip file for Oracle Support to use.Describes how to control ADR creation and disabling fault diagnosability using sqlnet.ora.">Fault Diagnosability in OCI</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4" name="GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4"></a><h3 id="LNOCI-GUID-8C6B6022-89EC-4E53-8CA4-AE415326D0E4" class="sect3"><span class="enumeration_section">3.1 </span>Header File and Makefile Locations
               </h3>
               <div>
                  <p>The OCI and OCCI header files that are required for OCI and OCCI client application development on Linux and UNIX operating systems reside in the <code class="codeph">$ORACLE_HOME/rdbms/public</code> directory.
                  </p>
                  <p> These files are available both with the Oracle Database Server installation, and with the Oracle Database Client Administration and Custom installations. See the <a href="instant-client.html#GUID-16475230-7573-4A14-B76A-31E4F4CEEBCA" title="The software development kit (SDK) is a set of development tools that allows the creation of applications can be downloaded from the Instant Client link URL on the Oracle Technology Network website:">SDK for Oracle Instant Client</a> for information about it containing C and C++ header files and a Makefile for developing OCI and OCCI applications while in an Instant Client environment.
                  </p>
                  <p>All demonstration programs and their related header files reside in the <code class="codeph">$ORACLE_HOME/rdbms/demo</code> directory once they are installed. These demonstration files are installable only from the Examples media. See <a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="Lists example programs with sample code demonstrating the allocation and use of OCI handles.">OCI Demonstration Programs</a> for the names of these programs and their purposes.
                  </p>
                  <p>Several makefiles are provided in the <code class="codeph">demo</code> directory. Each makefile contains comments with instructions on its use in building OCI executables. Oracle recommends that you use these demonstration makefiles whenever possible to avoid errors in compilation and linking.
                  </p>
                  <p>The <code class="codeph">demo_rdbms.mk</code> file in the <code class="codeph">demo</code> directory and is an example makefile. See the comments on how to build the demonstration OCI programs. The <code class="codeph">demo_rdbms.mk</code> file includes the <code class="codeph">$ORACLE_HOME/rdbms/public</code> directory. Ensure that your own customized makefiles have the <code class="codeph">$ORACLE_HOME/rdbms/public</code> directory in the <code class="codeph">INCLUDE</code> path.
                  </p>
                  <p>The <code class="codeph">ociucb.mk</code> file is a makefile in <code class="codeph">demo</code> for building a callback shared library. 
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D6379B9A-80A6-4439-B96A-D31264DF0100" name="GUID-D6379B9A-80A6-4439-B96A-D31264DF0100"></a><h3 id="LNOCI-GUID-D6379B9A-80A6-4439-B96A-D31264DF0100" class="sect3"><span class="enumeration_section">3.2 </span>Building an OCI Application on Linux and UNIX
               </h3>
               <div>
                  <p>How to build an OCI application on Linux and UNIX.</p>
                  <div class="p">This topic describes the features of OCI that apply to building applications on Linux and UNIX in the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-39B702E1-1893-4A6A-838A-ACE749C533AC" title="The $ORACLE_HOME directory contains the following directories described in the following table that are relevant to OCI.">Oracle Directory Structure</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F" title="A set of OCI demonstration programs and their corresponding project files are optionally installed after an Oracle Database installation and set up in the ORACLE_BASE/ORACLE_HOME/demo subdirectory.">Demonstration OCI Programs</a></p>
                        </li>
                     </ul>
                  </div>
                  <p></p>
                  <div class="infoboxnotealso" id="GUID-D6379B9A-80A6-4439-B96A-D31264DF0100__GUID-6C417E4C-5BBA-44BA-9C19-07DC3A6BC1C0">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span><cite>Oracle Database Client Installation Guide for Linux</cite></span> for operating system requirements for x86&#x2013;64 Linux platforms, supported Oracle Linux and Red Hat Enterprise distributions for x86-64 platforms, and installation requirements for programming environments for Linux x86-64
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">Oracle Database Instant Client Installation Guide for Apple Mac OS X (Intel)</span> for checking the software requirements
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-39B702E1-1893-4A6A-838A-ACE749C533AC" name="GUID-39B702E1-1893-4A6A-838A-ACE749C533AC"></a><h4 id="LNOCI-GUID-39B702E1-1893-4A6A-838A-ACE749C533AC" class="sect4"><span class="enumeration_section">3.2.1 </span>Oracle Directory Structure
                  </h4>
                  <div>
                     <p>The <code class="codeph">$ORACLE_HOME</code> directory contains the following directories described in the following table that are relevant to OCI.
                     </p>
                     <p>These directories are for the full client and Oracle Database, but not for the Oracle Instant Client. These files include the library files needed to link and run OCI applications, and link with other Oracle products.</p>
                     <div class="tblformal" id="GUID-39B702E1-1893-4A6A-838A-ACE749C533AC__GUID-0AADB555-4FE5-43D5-B3A5-74D83F3AA1DD">
                        <p class="titleintable">Table 3-1 ORACLE_HOME Directories and Contents</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ORACLE_HOME Directories and Contents" summary="This table contains 2 columns named Directory Name and Contents." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d20286e945">Directory Name</th>
                                 <th align="left" valign="bottom" id="d20286e947">Contents</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e951" headers="d20286e945 ">
                                    <p><code class="codeph">/admin</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e951 d20286e947 ">
                                    <p>Configuration files</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e959" headers="d20286e945 ">
                                    <p><code class="codeph">/demo</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e959 d20286e947 ">
                                    <p>Sample programs, make files, SQL files, and so forth</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e967" headers="d20286e945 ">
                                    <p><code class="codeph">/imclude</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e967 d20286e947 ">
                                    <p>Header files</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e975" headers="d20286e945 ">
                                    <p><code class="codeph">/lib</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e975 d20286e947 ">
                                    <p>Library files</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e983" headers="d20286e945 ">
                                    <p><code class="codeph">/mesg</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e983 d20286e947 ">
                                    <p>Message files</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d20286e991" headers="d20286e945 ">
                                    <p><code class="codeph">/public</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d20286e991 d20286e947 ">
                                    <p>Public header files</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F" name="GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F"></a><h4 id="LNOCI-GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F" class="sect4"><span class="enumeration_section">3.2.2 </span>Demonstration OCI Programs
                  </h4>
                  <div>
                     <p>A set of OCI demonstration programs and their corresponding project files are optionally installed after an Oracle Database installation and set up in the <code class="codeph"><span class="codeinlineitalic">ORACLE_BASE/ORACLE_HOME</span></code><code class="codeph">/demo</code> subdirectory. 
                     </p>
                     <p></p>
                     <p>Build and run these OCI demonstration programs to familiarize yourself with the steps involved in developing OCI applications.</p>
                     <div class="p">To build a demo OCI program, run the <code class="codeph">make</code> file (<code class="codeph">demo_rdbms.mk</code>) located in the <code class="codeph">/demo</code> directory. For example, to build a single OCI demo, use the following <code class="codeph">make</code> command syntax: <pre class="pre codeblock"><code>make -f demo_rdbms.mk build EXE=demo OBJS="demo.o ..."</code></pre>For example, to build the OCI <code class="codeph">cdemo81.c</code> program, enter the following <code class="codeph">make</code> command:
                     </div><pre class="pre codeblock"><code>make -f demo_rdbms.mk build EXE=cdemo81 OBJS=cdemo81.o</code></pre><p>In this example, the executable file is created or updated from the object file, which in turn is made by compiling the source file <code class="codeph">cdemo81.c</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-D5AD28D8-9518-491C-9AD0-B29F92EFC88F__GUID-B531FBC7-7202-426C-ACC6-BD3AEED7CC96">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../exmpl/index.html#GUID-08474A8D-D3A5-4DF6-A920-3A17E87A1953" target="_blank"><span><cite>Oracle Database Examples Installation Guide</cite></span></a> for information about installing the demonstration OCI programs using Oracle Universal Installer
                              </p>
                           </li>
                           <li>
                              <p><a href="http://www.oracle.com/technetwork/database/enterprise-edition/downloads/oracle12c-linux-12201-3608234.html" target="_blank">Downloads: Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1.0) Standard Edition 2 and Enterprise Edition </a> for a link to the Oracle Database 12<span class="italic">c</span> Release 2 Examples (12.2.0.1.0) for Linux x86-64 <code class="codeph">linuxx64_12201_examples.zip</code></p>
                           </li>
                           <li>
                              <p>Review the contents of the <code class="codeph">demo_rdbms.mk</code> file to learn more about running the many other OCI demonstration programs that are available in the <code class="codeph">demo</code> subdirectory.
                              </p>
                           </li>
                           <li>
                              <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26" title="Lists example programs with sample code demonstrating the allocation and use of OCI handles.">OCI Demonstration Programs</a> for more information about OCI demonstration programs
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p></p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB" name="GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB"></a><h3 id="LNOCI-GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB" class="sect3"><span class="enumeration_section">3.3 </span>Building an Application on Windows
               </h3>
               <div>
                  <p>How to build an OCI application on Windows.</p>
                  <p>See <a href="getting-started-with-oci-for-windows.html#GUID-AF5B9CF0-EA9A-4786-80AF-1FEF13363C88" title="How to get started with OCI for Windows.">Getting Started with OCI for Windows</a> for complete information.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A8CD434E-D9E2-4718-AA25-123CE7C030EB__GUID-DF93DDE1-8A02-4CC3-8372-215B224C3515">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=NTCLI-GUID-CE270350-A201-4DAA-8373-A19408C9EF7D" target="_blank"><span><cite>Oracle Database Client Installation Guide for Microsoft Windows</cite></span></a> for information about Oracle Database software client requirements.
                     </p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE" name="GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE"></a><h3 id="LNOCI-GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE" class="sect3"><span class="enumeration_section">3.4 </span>Database Connection Strings
               </h3>
               <div>
                  <p>This topic describes Oracle Net naming methods that do not use <code class="codeph">ORACLE_BASE_HOME</code>, or <code class="codeph">ORACLE_HOME</code> (to locate configuration files such as <code class="codeph">tnsnames.ora</code>, <code class="codeph">sqlnet.ora</code>, or <code class="codeph">oraaccess.xml</code>).
                  </p>
                  <p>In particular, the <code class="codeph">connect_identifier</code> in the <code class="codeph">OCIServerAttach()</code> call can be specified in the following formats:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        
                        <p>An easy connect naming string is of the form:</p>
                        <pre class="pre codeblock"><code>[[protocol:]//]host1{,host12}[:port1]{,host2:port2}[/service_name][:server][/instance_name][?parameter_name=value{&amp;parameter_name=value}]</code></pre>
                        <p>Starting with Oracle Database Release 19c, the easy connect naming syntax
          has been extended, see <a href="../admqs/configuring-the-network-environment.html#ADMQS-GUID-81B7DEEB-E5BF-4F90-9B72-679F1832F342" target="_blank">Easy Connect Naming Enhancements</a>.
                        </p>
                     </li>
                     <li>
                        <p>As a local naming parameters <code class="codeph">tnsnames.ora</code> configuration file entry of the form: 
                        </p><pre class="oac_no_warn" dir="ltr">net_service_name= 
 (DESCRIPTION= 
(ADDRESS=(protocol_address_information))
   (CONNECT_DATA= 
     (SERVICE_NAME=service_name))) </pre></li>
                     <li>
                        <p>As an Oracle Net connect descriptor of the form:</p><pre class="oac_no_warn" dir="ltr">"(DESCRIPTION=(ADDRESS=(PROTOCOL=<span class="italic">protocol-name</span>) (HOST=<span class="italic">host-name</span>) (PORT=<span class="italic">port-number</span>))
(CONNECT_DATA=(SERVICE_NAME=<span class="italic">service-name</span>)))"
</pre></li>
                     <li>
                        <p>A Connection Name that is resolved through Directory Naming where the site is configured for LDAP server discovery.</p>
                     </li>
                  </ul>
                  <p>For naming methods such as <code class="codeph">tnsnames.ora</code> and directory naming to work, the <code class="codeph">TNS_ADMIN</code> environment variable can also be set. 
                  </p>
                  <p>If the <code class="codeph">TNS_ADMIN</code> environment variable is not set, and <code class="codeph">tnsnames.ora</code> entries such as <code class="codeph">inst1</code>, and so on, are used, then the <code class="codeph">ORACLE_HOME</code> variable must be set, and the configuration files are expected to be in the <code class="codeph">$ORACLE_HOME/network/admin</code> directory. Note that the <code class="codeph">ORACLE_HOME</code> variable in this case is only used for locating Oracle Net configuration files, and no other component of Client Code Library (OCI, NLS, and so on) uses the value of <code class="codeph">ORACLE_HOME</code>. So it is preferred and easier to set the <code class="codeph">TNS_ADMIN</code> environment variable to establish the location of the <code class="codeph">tnsnames.ora</code> file.
                  </p>
                  <p>If a <code class="codeph">NULL</code> string, "", is used as the connection string in the <code class="codeph">OCIServerAttach()</code> call, then the <code class="codeph">TWO_TASK</code> environment variable can be set to the <code class="codeph">connect_identifier</code>. On a Windows operating system, the <code class="codeph">LOCAL</code> environment variable is used instead of <code class="codeph">TWO_TASK</code>.
                  </p>
                  <p>Similarly, for OCI applications such as SQL*Plus, the <code class="codeph">TWO_TASK</code>  (or <code class="codeph">LOCAL</code> on Windows) environment variable can be set to the connect_identifier. Its value can be anything that would have gone to the right of the '@' on a typical connect string.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D1C1272A-8538-40ED-961D-8C872CAA18AE__GUID-F49DFA6A-B11E-416D-ACC5-24A98381D4FE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../netag/configuring-naming-methods.html#NETAG008" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> chapter on "Configuring Naming Methods" for more about connect descriptors
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3" name="GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3"></a><h4 id="LNOCI-GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3" class="sect4"><span class="enumeration_section">3.4.1 </span>Examples of Oracle Database Connection String
  Connect Identifiers
                  </h4>
                  <div>
                     <p>If you are using OCI applications, for example SQL*Plus, then you can specify
  the database connection string in the following ways:</p>
                     <p>If the <code class="codeph">listener.ora</code> file on the Oracle database contains the following:
                     </p><pre class="oac_no_warn" dir="ltr">LISTENER = (ADDRESS_LIST=
 (ADDRESS=(PROTOCOL=tcp)(HOST=server6)(PORT=1573))
)
 
SID_LIST_LISTENER = (SID_LIST= 
 (SID_DESC=(SID_NAME=rdbms3)(GLOBAL_DBNAME=rdbms3.server6.us.alchemy.com)
(ORACLE_HOME=/home/dba/rdbms3/oracle))
)
</pre><p>The OCI application, connect identifier is:</p><pre class="oac_no_warn" dir="ltr">"server6:1573/rdbms3.server6.us.alchemy.com"
</pre><p>The connect identifier can also be specified as:</p><pre class="oac_no_warn" dir="ltr">"(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=server6)(PORT=1573))(CONNECT_DATA=
(SERVICE_NAME=rdbms3.server6.us.alchemy.com)))"
</pre><p>Alternatively, you can set the <code class="codeph">TWO_TASK</code> environment variable to any of the previous connect identifiers and connect without specifying the connect identifier. For example:
                     </p><pre class="oac_no_warn" dir="ltr">export TWO_TASK=//server6:1573/rdbms3.server6.us.alchemy.com
</pre><p>You can also specify the <code class="codeph">TWO_TASK</code> environment variable as:
                     </p><pre class="oac_no_warn" dir="ltr">export TWO_TASK=(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=server6)(PORT=1573))
(CONNECT_DATA=(SERVICE_NAME=rdbms3.server6.us.alchemy.com)))
</pre><p>Then you can invoke the OCI application with an empty connect identifier. For
   example, to run SQL*Plus:</p><pre class="oac_no_warn" dir="ltr">sqlplus <span class="italic">user</span>
</pre><p>The connect descriptor can also be stored in the <code class="codeph">tnsnames.ora</code> file. For example, if the <code class="codeph">tnsnames.ora</code> file contains the following connect descriptor:
                     </p><pre class="oac_no_warn" dir="ltr">conn_str = (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=server6)(PORT=1573))(CONNECT_DATA=
(SERVICE_NAME=rdbms3.server6.us.alchemy.com)))
</pre><p>If the <code class="codeph">tnsnames.ora</code> file is located in the
    <code class="codeph">/home/webuser/myconfigs </code>directory, then you can set the variable
    <code class="codeph">TNS_ADMIN</code> (or <code class="codeph">LOCAL</code> on Windows) as:
                     </p><pre class="oac_no_warn" dir="ltr">export TNS_ADMIN=/home/webuser/myconfigs
</pre><p>Then you can use the connect identifier <code class="codeph">conn_str</code> for invoking OCI
   application, for example SQL*Plus, or for your OCI connection.
                     </p>
                     <div class="infoboxnote" id="GUID-E97921AA-A166-44EB-97B7-9EEFE3A23ED3__GUID-732F59D2-62DC-425C-94BB-CEA2B973C8FC">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">TNS_ADMIN</code> specifies the directory where the <code class="codeph">tnsnames.ora</code> file is located and <code class="codeph">TNS_ADMIN</code> is not the full path of the <code class="codeph">tnsnames.ora</code> file.
                        </p>
                     </div>
                     <p>If the preceding <code class="codeph">tnsnames.ora</code> file is located in an installation
   based Oracle home, in the /<code class="codeph">network/server6/home/dba/oracle/network/admin</code>
   directory, then the <code class="codeph">ORACLE_HOME</code> environment variable can be set as follows and
   OCI application, for example SQL*Plus can be invoked as previously, with the identifier
    <code class="codeph">conn_str</code>:
                     </p><pre class="oac_no_warn" dir="ltr">export ORACLE_HOME=/network/server6/home/dba/oracle
</pre><p>Finally, if <code class="codeph">tnsnames.ora</code> can be located by
    <code class="codeph">TNS_ADMIN</code> or <code class="codeph">ORACLE_HOME</code>, then the <code class="codeph">TWO_TASK</code>
   environment variable can be set as follows enabling you to invoke OCI application, for example
   SQL*Plus without a connect identifier:
                     </p><pre class="oac_no_warn" dir="ltr">export TWO_TASK=conn_str
</pre></div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9" name="GUID-AB481881-FE50-4617-BB45-0C817815EAA9"></a><h3 id="LNOCI-GUID-AB481881-FE50-4617-BB45-0C817815EAA9" class="sect3"><span class="enumeration_section">3.5 </span>Client and Server Operating with Different Versions of Time Zone Files
               </h3>
               <div>
                  <p>In Oracle Database Release 11.2 (or later) you can use different versions of the time zone file on the client and server; this mode of operation was not supported before Oracle Database Release 11.2. </p>
                  <p>Both client and server must be 11.2 or later to operate in such a mixed mode. This section discusses the ramifications of operating in such a mode. To avoid these ramifications use the same time zone file version for client and server.</p>
                  <p>The following behavior is seen when the client and server use different time zones file versions. Note that the use of different time zone file versions only affects the handling of <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> (<code class="codeph">TSTZ</code>) data type values.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The OCI Datetime and Interval APIs listed here unconditionally raise an error when the input parameters are of <code class="codeph">TSTZ</code> type. This is because these operations depend on the local time zone file on the client that is not synchronized with the database. Continuing with the computation in such a configuration can result in inconsistent computations across the client and database tiers.
                        </p><pre class="oac_no_warn" dir="ltr"><a href="oci-date-datetime-and-interval-functions.html#GUID-5FFD4B08-30E1-461E-8E55-940787D6D8EC" title="Compares two datetime values.">OCIDateTimeCompare()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-FC053036-BE93-42D7-A82C-4DDB6843E167" title="Constructs a datetime descriptor.">OCIDateTimeConstruct()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-744793B2-CD2F-47AC-825A-6FF5BEE12BAB" title="Converts one datetime type to another.">OCIDateTimeConvert()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-BD2F6432-81FF-4CD6-9C3D-85E401894528" title="Takes two datetimes as input and stores their difference in an interval.">OCIDateTimeSubtract()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-0E4AF4DD-5EEB-434D-BA3A-F4EDE7038FF5" title="Adds two intervals to produce a resulting interval.">OCIIntervalAdd()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-2D0465BC-B8EA-4F41-B200-587F49D0B2CB" title="Subtracts two intervals and stores the result in an interval.">OCIIntervalSubtract()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-12B19818-0001-42F1-8B2C-FD96B7C3231C" title="Returns an OCI_DTYPE_INTERVAL_DS of data type OCIInterval with the region ID set (if the region is specified in the input string) and the current absolute offset, or an absolute offset with the region ID set to 0.">OCIIntervalFromTZ()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-489C51F6-43DB-43DB-980F-2A42AFAFB332" title="Gets the time zone name portion of a datetime value.">OCIDateTimeGetTimeZoneName()</a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-B8DA860B-FD7D-481B-8347-156969B6EE04" title="Gets the time zone (hour, minute) portion of a datetime value.">OCIDateTimeGetTimeZoneOffset()</a><a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "Returns an ORA-01805 error when timezone files on the client and server do not match (regions are not synchronized); returns OCI_SUCCESS when region time zone values are the same (represent the same instant in UTC), though the TIME ZONE offsets are different.")"><sup>Foot&nbsp;1</sup></a>
<a href="oci-date-datetime-and-interval-functions.html#GUID-086776F8-1153-417D-ABC6-A864A2A62788" title="Gets the system current date and time as a time stamp with time zone.">OCIDateTimeSysTimeStamp()</a>
</pre></li>
                     <li>
                        <p>There is a performance penalty when you retrieve or modify <code class="codeph">TSTZ</code> values. The performance penalty arises because of the additional conversions needed to compensate for the client and server using different time zone file versions.
                        </p>
                     </li>
                     <li>
                        <p>If new time zone regions are defined by the more recent time zone file, you can see an error operating on a <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIMEZONE</code> value belonging to the new region on a node that has a time zone file version that does not recognize the new time zone region.
                        </p>
                     </li>
                  </ul>
                  <p>Applications that manipulate opaque type or <code class="codeph">XMLType</code> instances or both containing <code class="codeph">TSTZ</code> type attributes must use the same time zone file version on client and server to avoid data loss.
                  </p>
                  <div class="infoboxnotealso" id="GUID-AB481881-FE50-4617-BB45-0C817815EAA9__GUID-C7AEE111-2B3B-42B6-B09A-9DD956F6D927">
                     <p class="notep1">See Also:</p>
                     <p><a href="../nlspg/datetime-data-types-and-time-zone-support.html#NLSPG259" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for information about upgrading the time zone file and timestamp with time zone data
                     </p>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" name="GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2"></a><h3 id="LNOCI-GUID-9D12F489-EC02-46BE-8CD4-5AECED0E2BA2" class="sect3"><span class="enumeration_section">3.6 </span>OCI Client-Side Deployment Parameters Using oraaccess.xml
               </h3>
               <div>
                  <p>This topic describes the OCI client-side deployment parameters using oraaccess.xml.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" title="Starting with Oracle Database Release 12c Release 1 (12.1), Oracle provides an oraaccess.xml file, a client-side configuration file.">About oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" title="When equivalent parameters are set both in the sqlnet.ora and oraaccess.xml files, the oraaccess.xml file setting takes precedence over the corresponding sqlnet.ora file setting.">About Client-Side Deployment Parameters Specified in oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" title="Describes the high-level structure of the oraaccess.xml file.">High Level Structure of oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" title="As described, the <default_parameters&gt; tag allows specifying default values for various OCI parameters.">About Specifying Global Parameters in oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" title="Using the oraaccess.xml file also allows you to override the very same set of connection-specific parameters at the connection-string level as well.">Overriding Connection Parameters at the Connection-String Level</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" title="Beginning with Oracle Database release 18c, version 18.1, the OCI session pool configuration can be set up using the oraaccess.xml client-side configuration file.">About OCI Session Pool Configuration in oraaccess.xml</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" title="Lists some high level rules with regards to the oraaccess.xml file syntax stated here for simplicity.">File (oraaccess.xml) Properties</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" name="GUID-CD599644-135A-4116-8B3B-40A9BA172E5C"></a><h4 id="LNOCI-GUID-CD599644-135A-4116-8B3B-40A9BA172E5C" class="sect4"><span class="enumeration_section">3.6.1 </span>About oraaccess.xml
                  </h4>
                  <div>
                     <p>Starting with Oracle Database Release 12<span class="italic">c</span> Release 1 (12.1), Oracle provides an <code class="codeph">oraaccess.xml</code> file, a client-side configuration file. 
                     </p>
                     <p>You can use the <code class="codeph">oraaccess.xml</code> file to configure selected OCI parameters (some of which are accepted programatically in various OCI API calls), thereby allowing OCI behavior to be changed during deployment without modifying the source code that calls OCI.
                     </p>
                     <p>Updates to the <code class="codeph">oraaccess.xml</code> file will not affect already running clients. In order to pick up any updates to the <code class="codeph">oraaccess.xml</code> file, already running clients need to be restarted.
                     </p>
                     <p>The <code class="codeph">oraaccess.xml</code> file is read from the directory specified by the <code class="codeph">TNS_ADMIN</code> environment variable in regular and instant client installations. This is the <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/network/admin</code> directory on UNIX operating systems and the <span class="italic"><code class="codeph">%ORACLE_HOME%</code></span><code class="codeph">\NETWORK\ADMIN</code> directory on Microsoft Windows operating systems, if <code class="codeph">TNS_ADMIN</code> is not set in regular client installations.
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" name="GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B"></a><h4 id="LNOCI-GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" class="sect4"><span class="enumeration_section">3.6.2 </span>About Client-Side Deployment Parameters Specified in oraaccess.xml
                  </h4>
                  <div>
                     <p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.
                     </p>
                     <p></p>
                     <p>In such cases, Oracle recommends using the <code class="codeph">oraaccess.xml</code> file settings moving forward. For any network configuration, the <code class="codeph">sqlnet.ora</code> file continues to be the primary file as network level settings are not supported in the <code class="codeph">oraaccess.xml</code> file.
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" name="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06"></a><h4 id="LNOCI-GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06" class="sect4"><span class="enumeration_section">3.6.3 </span>High Level Structure of oraaccess.xml
                  </h4>
                  <div>
                     <p>Describes the high-level structure of the <code class="codeph">oraaccess.xml</code> file.
                     </p>
                     <p>The <code class="codeph">oraaccess.xml</code> file has a top-level node <code class="codeph">&lt;oraaccess&gt;</code> with the following three elements:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">&lt;default_parameters&gt;</code> - This element describes any default parameter settings shared across connections. These default parameters include:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Defaults for global parameters - These global parameters can only be specified once and hence are applicable to all connections and cannot be overridden at the connection level. These parameters are specified using the following tags:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">&lt;events&gt;</code> - Creates the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode, which is required for Fast Application Notification (FAN) and runtime connection load balancing
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;result_cache&gt;</code> - Sets OCI client result cache parameters
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;diag&gt;</code> - Sets OCI fault diagnosability parameters
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Defaults for connection-specific parameters - Connection parameters can be set to different values for specific connections. However, they too can be defaulted, and overridden on a per connection string basis as needed. These defaults are shared across all connections (unless overridden at the connection level, which is described in the <code class="codeph">&lt;config_descriptions&gt;</code> list item) that follows. These defaults are specified by the following tags:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">&lt;prefetch&gt;</code> - Sets the number of prefetch rows for all queries; specified using the <code class="codeph">&lt;rows&gt;</code> parameter.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;statement_cache&gt;</code> - Sets the maximum number of statements that can be cached per session; specified using the <code class="codeph">&lt;size&gt;</code> parameter.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;auto tune&gt;</code> - Consists of: <code class="codeph">&lt;enable&gt;</code> to turn auto tuning on or off; <code class="codeph">&lt;ram_threshold&gt;</code>, which sets the memory threshold for auto-tuning to stop using more memory when available physical memory on the client system has reached this threshold; and <code class="codeph">&lt;memory_target&gt;</code>, which sets the memory limit that OCI auto-tuning can use per client process.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - Sets the action upon subscription failure to be either the value <code class="codeph">trace</code> or <code class="codeph">error</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">&lt;ons&gt;</code> - Sets a variety of ONS client-side deployment configuration parameters used for FAN notifications.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;config_descriptions&gt;</code> - This element associates a configuration alias element (<code class="codeph">&lt;config_alias&gt;</code>), which is basically a name, with a specific set of parameters (<code class="codeph">&lt;parameters&gt;</code>) that contain one or more connection parameters. These connection parameters are the same connection parameters within the element <code class="codeph">&lt;default_parameters&gt;</code> described previously, namely: <code class="codeph">&lt;prefetch&gt;</code>, <code class="codeph">&lt;statement_cache&gt;</code>, <code class="codeph">&lt;auto_tune&gt;</code>, <code class="codeph">&lt;fan_subscription_failure_action&gt; </code>and <code class="codeph">&lt;ons&gt;</code>. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;connection_configs&gt;</code> - This element associates one or more connection strings used by an application with a config alias, thus allowing multiple connection string elements to share the same set of parameters.
                           </p>
                           <p>A connection configuration element (<code class="codeph">&lt;connection_config&gt;</code>) associates a connection string element (<code class="codeph">&lt;connection_string&gt;</code>) with a configuration alias element (<code class="codeph">&lt;config_alias&gt;</code>).
                           </p>
                           <p>A connection string is indirectly associated with a set of parameters through the configuration alias, which allows multiple connection string elements to share the same set of parameters. </p>
                        </li>
                     </ul>
                     <p>The sections that follow describe these client-side deployment parameters in more detail. </p>
                     <div class="infoboxnotealso" id="GUID-8D28AB6C-C04A-4C63-AC3A-25B18AB99B06__GUID-4BA6A0B8-C4EE-4F12-8CAA-966EED83E479">
                        <p class="notep1">See Also:</p>
                        <p><a href="build-and-configure-oci-applications.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" name="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8"></a><h4 id="LNOCI-GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8" class="sect4"><span class="enumeration_section">3.6.4 </span>About Specifying Global Parameters in oraaccess.xml
                  </h4>
                  <div>
                     <p>As described, the <code class="codeph">&lt;default_parameters&gt;</code> tag allows specifying default values for various OCI parameters.
                     </p>
                     <p>Of these, some parameters can only be specified once and hence apply to all connections. These global parameters are described using the following tags:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">&lt;events&gt;</code></p>
                           <p>This creates the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode, which is required for Fast Application Notification (FAN) and runtime connection load balancing.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;events&gt;
  true &lt;!--value could be false also --&gt;
&lt;/events&gt; 
</pre></li>
                        <li>
                           <p><code class="codeph">&lt;result_cache&gt;</code></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">&lt;max_rset_rows&gt;</code> - Maximum size of any result set in rows in the per-process query cache. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code> in the  <code class="codeph">sqlnet.ora</code> file.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_rset_size&gt;</code> - Maximum client result cache size. Set the size to 32,768 bytes (32 Kilobytes (KB)) or greater. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code> in the <code class="codeph">sqlnet.ora</code> file.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_size&gt;</code> - Maximum size in bytes for the per-process query cache. Specifying a size less than 32,768 in the client disables the client result cache feature. Equivalent to <code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code> in the <code class="codeph">sqlnet.ora</code> file.
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;result_cache&gt;
      &lt;max_rset_rows&gt;10&lt;/max_rset_rows&gt;
      &lt;max_rset_size&gt;65535&lt;/max_rset_size&gt;
      &lt;max_size&gt;65535&lt;/max_size&gt;
&lt;/result_cache&gt;
</pre><p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.
                           </p>
                           <p>See <a href="build-and-configure-oci-applications.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting.">Table 3-2</a> for a listing of equivalent OCI parameter settings.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;diag&gt;</code></p>
                           <p>You can specify the following elements: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">&lt;adr_enabled&gt;</code> - Enables or disables diagnosability. Equivalent to <code class="codeph">DIAG_ADR_ENABLED</code> in the <code class="codeph">sqlnet.ora</code> file. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;dde_enabled&gt;</code> - Enables or disables DDE. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;adr_base&gt;</code> - Sets the ADR base directory, which is a system-dependent directory path string to designate the location of the ADR base to use in the current ADRCI session. Equivalent to <code class="codeph">ADR_BASE</code> in the <code class="codeph">sqlnet.ora</code> file. Value: directory path for ADR base directory.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;sighandler_enabled&gt;</code> - Enables or disables OCI signal handler. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;restricted&gt;</code> - Enables or disables full dump files. Oracle Database client contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information, to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended to turn on full dumps; this can greatly speed resolution of issues. Full dumps can be enabled by specifying a value of false. Values: true or false.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;trace_events&gt;</code> - Indicates the trace event number and the level of tracing to be in effect. Currently only event 10883 is supported. The available levels are 5 and 10.
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;diag&gt;
   &lt;adr_enabled&gt;false&lt;/adr_enabled&gt;
   &lt;dde_enabled&gt;false&lt;/dde_enabled&gt;
   &lt;adr_base&gt;/foo/adr&lt;/adr_base&gt;
   &lt;sighandler_enabled&gt;false&lt;/sighandler_enabled&gt;
   &lt;restricted&gt;true&lt;/restricted&gt;
   &lt;trace_events&gt;
     &lt;trace_event&gt;
       &lt;number&gt;10883&lt;/number&gt;
       &lt;level&gt;5&lt;/level&gt;
     &lt;/trace_event&gt;
   &lt;/trace_events&gt;
&lt;/diag&gt;
</pre><p>When equivalent parameters are set both in the <code class="codeph">sqlnet.ora</code> and <code class="codeph">oraaccess.xml</code> files, the <code class="codeph">oraaccess.xml</code> file setting takes precedence over the corresponding <code class="codeph">sqlnet.ora</code> file setting.
                           </p>
                           <p>See <a href="build-and-configure-oci-applications.html#GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB" title="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting.">Table 3-2</a> for a listing of equivalent OCI parameter settings.
                           </p>
                           <div class="tblformal" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__CEGHBFHB">
                              <p class="titleintable">Table 3-2 Equivalent OCI Parameter Settings in oraaccess.xml and sqlnet.ora</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Equivalent OCI Parameter Settings in oraaccess.xml and sqlnet.ora" summary="This table has 3 columns and lists the equivalent OCI parameter settings for the oraaccess.xml and sqlnet.ora configuration files. Column 1 is the OCI parameter group, column 2 is its equivalent oraaccess.xml parameter setting , and column 3 is its equivalent sqlnet.ora parameter setting. " width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d20286e3824">Parameter Group</th>
                                       <th align="left" valign="bottom" width="25%" id="d20286e3827">oraaccess.xml Parameters</th>
                                       <th align="left" valign="bottom" width="50%" id="d20286e3830">sqlnet.ora Parameters</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3835" headers="d20286e3824 ">
                                          <p>OCI client result cache</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3835 d20286e3827 ">
                                          <p><code class="codeph">&lt;max_rset_rows&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3835 d20286e3830 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_ROWS</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3847" headers="d20286e3824 ">
                                          <p>OCI client result cache</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3847 d20286e3827 ">
                                          <p><code class="codeph">&lt;max_rset_size&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3847 d20286e3830 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_RSET_SIZE</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3859" headers="d20286e3824 ">
                                          <p>OCI client result cache</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3859 d20286e3827 ">
                                          <p><code class="codeph">&lt;max_size&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3859 d20286e3830 ">
                                          <p><code class="codeph">OCI_RESULT_CACHE_MAX_SIZE</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3871" headers="d20286e3824 ">
                                          <p>OCI fault diagnosability</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3871 d20286e3827 ">
                                          <p><code class="codeph">&lt;adr_enabled&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3871 d20286e3830 ">
                                          <p><code class="codeph">DIAG_ADR_ENABLED</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3883" headers="d20286e3824 ">
                                          <p>OCI fault diagnosability</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3883 d20286e3827 ">
                                          <p><code class="codeph">&lt;dde_enabled&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3883 d20286e3830 ">
                                          <p><code class="codeph">DIAG_DDE_ENABLED</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d20286e3895" headers="d20286e3824 ">
                                          <p>OCI fault diagnosability</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d20286e3895 d20286e3827 ">
                                          <p><code class="codeph">&lt;adr_base&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d20286e3895 d20286e3830 ">
                                          <p><code class="codeph">ADR_BASE</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-4B68F0BB-16FA-40C6-BA13-CFD9A2B110A8__GUID-AE7680E8-9D18-484B-B6FE-0892A5F3709E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../adfns/performance-and-scalability.html#ADFNS213" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for information about deployment time settings for client result cache and client configuration file parameters
                              </p>
                           </li>
                           <li>
                              <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for more information about ADR diagnostic parameters in the <code class="codeph">sqlnet.ora</code> file
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" name="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0"></a><h4 id="LNOCI-GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" class="sect4"><span class="enumeration_section">3.6.5 </span>About Specifying Defaults for Connection Parameters
                  </h4>
                  <div>
                     <p>Describes the default values you can set for connection parameters shared across connections.</p>
                     <p>You can specify the following connection parameters that are shared across connections:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">&lt;prefetch&gt;</code> - Specifies prefetch row count for <code class="codeph">SELECT</code> statements.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;prefetch&gt;
  &lt;rows&gt;100&lt;/rows&gt;
&lt;/prefetch&gt;
</pre><p>Setting this parameter appropriately can help reduce round-trips to the database, thereby improving application performance.</p>
                           <p>Note that this only overrides the <code class="codeph">OCI_ATTR_PREFETCH_ROWS</code> parameter (whether explicitly specified by the application or not). If the application has specified <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> explicitly, then the actual prefetch row count will be determined by using both constraints. The <code class="codeph">OCI_ATTR_PREFETCH_MEMORY</code> constraint equivalent cannot be specified in the <code class="codeph">oraaccess.xml</code> file.
                           </p>
                           <p>Also note that OCI prefetching may still get disabled if the <code class="codeph">SELECT</code> statement fetches columns of specific data types. For more details, see <a href="using-sql_statements-in-oci.html#GUID-E0EAF0A9-2C7D-468D-BF43-C9056F3497E6" title="If an OCI application has processed a query, it is typically necessary to fetch the results with OCIStmtFetch2() after the statement has completed execution.">About Fetching Results</a> for information about limitations of OCI prefetch.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;statement_cache&gt;</code> - Specifies the number of OCI Statement handles that can be cached per session.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;statement_cache&gt;
  &lt;size&gt;100&lt;/size&gt;
&lt;/statement_cache&gt;
</pre><p>Caching statement handles improves repeat execute performance by reducing client side and server side CPU consumption and network traffic. </p>
                           <p>Note that for this parameter to take effect, the application must be programmed to use <code class="codeph">OCIStatementPrepare2()</code> and <code class="codeph">OCIStatementRelease()</code> calls (and not the older <code class="codeph">OCISatementPrepare()</code> and <code class="codeph">OCIHandleFree()</code> equivalents for getting and disposing of statement handles.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;auto_tune&gt;</code> - Used to enable OCI Auto tuning.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;auto_tune&gt;
  &lt;enable&gt;true&lt;/enable&gt;
  &lt;ram_threshold&gt;0.1&lt;/ram_threshold&gt;&lt;!--percentage --&gt;
  &lt;memory target&gt;2M&lt;/memory_target&gt;
&lt;/auto_tune&gt;
</pre><p>Enabling auto-tuning can help OCI automatically tune the statement-cache size based on specified memory constraints. This can help dynamically tune the statement cache size to an appropriate value based on runtime application characteristics and available memory resources.</p>
                           <p>Note that for auto tuning OCI Statement Cache, the application must be programmed to use <code class="codeph">OCIStatementPrepare2()</code> and <code class="codeph">OCIStatementRelease()</code> calls (and not the older <code class="codeph">OCISatementPrepare()</code> and <code class="codeph">OCIHandleFree()</code> equivalents for getting and disposing of statement handles.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;fan_subscription_failure_action&gt;</code> - Used to determine how OCI responds to a failure to subscribe for FAN notifications.
                           </p>
                           <p>A value of <code class="codeph">trace</code> records any failure to subscribe for FAN notifications (if FAN is enabled) in the trace file and OCI proceeds ignoring the failure. A value of <code class="codeph">error</code> makes OCI return an error if an attempt to subscribe for FAN notifications fails.
                           </p><pre class="oac_no_warn" dir="ltr">&lt;fan&gt;
  &lt;!--only possible values are "trace" and "error" --&gt;
  &lt;subscription_failure_action&gt;
    trace
  &lt;/subscription_failure_action&gt;
&lt;/fan&gt;
</pre></li>
                        <li>
                           <p><code class="codeph">&lt;ons&gt;</code> - Sets up Oracle Notification Service (ONS) parameters.
                           </p>
                           <p>You can specify the following connection parameters:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">&lt;subscription_wait_timeout&gt;</code> - Length of time in seconds the client waits for its subscription to the ONS server. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;auto_config&gt;</code> - true or false. If true, the configuration specified in this section will augment the auto configuration information that the client receives from the database. If false, it will override the same.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;thread_stack_size&gt;</code> - Size in bytes of the event notification thread stack.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;debug&gt;</code> - true or false. Whether debug mode is on (true) or off (false).
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;wallet_location&gt;</code> - Directory that contains an auto logon wallet file for a secure ONS subscription. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;servers&gt;</code> - Host list with ports and connection distribution.
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">&lt;ons&gt; 
  &lt;!--values or in seconds --&gt;
  &lt;subscription_wait_timeout&gt;
    5
  &lt;/subscription_wait_timeout&gt;
  &lt;auto_config&gt;true&lt;/auto_config&gt; &lt;!--boolean --&gt;
  &lt;threadstacksize&gt;100k&lt;/threadstacksize&gt;
  &lt;debug&gt;true&lt;/debug&gt;
  &lt;wallet_location&gt;/etc/oracle/wallets/&lt;/wallet_location&gt;
  &lt;servers&gt;
    &lt;address_list&gt;
       &lt;name&gt;pacific&lt;/name&gt;
       &lt;max_connections&gt; 3 &lt;\max_connections&gt;
       &lt;hosts&gt;
         10.228.215.121:25293,
         10.228.215.122:25293
       &lt;/hosts&gt;
    &lt;/address_list&gt;
    &lt;address_list&gt;
       &lt;name&gt;Europe&lt;/name&gt;
       &lt;max_connections&gt;3&lt;\max_connections&gt;
       &lt;hosts&gt;
         myhost1.mydomain.com:25273,
         myhost2.mydomain.com:25298,
         myhost3.mydomain.com:30004
       &lt;/hosts&gt;
    &lt;/address_list&gt;
  &lt;/servers&gt;
&lt;/ons&gt;
</pre></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0__GUID-50D0D8A4-F91E-493E-865E-69ED39355E31">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="performance-topics.html#GUID-12F398F1-FEB6-490F-B7A3-7BAE48DCA8D4" title="This section specifies auto tune parameters.">&lt;auto_tune&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="performance-topics.html#GUID-93048857-C168-4BA9-A126-CE06DA8F2D33" title="This parameter is optional.">&lt;ram_threshold&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="performance-topics.html#GUID-F624661F-FAC7-41F7-8F41-F2451EC2B47F" title="This parameter is optional.">&lt;memory_target&gt;</a></p>
                           </li>
                           <li>
                              <p><a href="../jjucp/fast-connection-failover.html#JJUCP8275" target="_blank"><span><cite>Oracle Universal Connection Pool Developer’s Guide</cite></span></a> for information about ONS configuration parameters
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" name="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528"></a><h4 id="LNOCI-GUID-D436C5B8-0B9A-4E21-95D2-29D984186528" class="sect4"><span class="enumeration_section">3.6.6 </span>Overriding Connection Parameters at the Connection-String Level
                  </h4>
                  <div>
                     <p>Using the <code class="codeph">oraaccess.xml</code> file also allows you to override the very same set of connection-specific parameters at the connection-string level as well. 
                     </p>
                     <div class="section">
                        <p>This allows for overriding those connection-specific parameters based on requirements of individual applications.</p>
                        <p>Using the <code class="codeph">&lt;config_descriptions&gt;</code> tag, you can specify a set of connection-specific parameters (<code class="codeph">&lt;parameters&gt;</code>) to be associated with a configuration alias (<code class="codeph">&lt;config_alias&gt;</code>, which creates a named group of connection-specific parameters). Thereafter, using the <code class="codeph">&lt;connection_configs&gt;</code> tag, you can associate one or more connection-strings (specified using the <code class="codeph">&lt;connection-string&gt;</code> tag) with a <code class="codeph">&lt;config_alias&gt;</code>. This permits a level of indirection that allows multiple <code class="codeph">&lt;connection_string&gt;</code> elements to share the same set of <code class="codeph">&lt;parameters&gt;</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-D4304ACE-97EE-4F7F-B5F2-F99F2C1D2C00">Example 1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example shows a very simple <code class="codeph">oraaccess.xml</code> file configuration that highlights defaulting of global and connection parameters applicable across all connections.
                        </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="ASCII" ?&gt; 
&lt;!--
     Here is a sample oraaccess.xml.
     This shows defaulting of global and connection parameters 
     across all connections. 
--&gt;
 &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
  xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
  schemaLocation="http://xmlns.oracle.com/oci/oraaccess
  http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
  &lt;default_parameters&gt;
    &lt;prefetch&gt;
      &lt;rows&gt;50&lt;/rows&gt; 
    &lt;/prefetch&gt;
    &lt;statement_cache&gt;
      &lt;size&gt;100&lt;/size&gt; 
    &lt;/statement_cache&gt;
    &lt;result_cache&gt;
      &lt;max_rset_rows&gt;100&lt;/max_rset_rows&gt; 
      &lt;max_rset_size&gt;10K&lt;/max_rset_size&gt; 
      &lt;max_size&gt;64M&lt;/max_size&gt; 
    &lt;/result_cache&gt;
  &lt;/default_parameters&gt;
&lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-88B8EA66-7A63-4503-855E-00AAF2432321">Example 2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example shows connection parameters being overridden at the connection level.</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="ASCII" ?&gt; 
&lt;!-- 
        Here is a sample oraaccess.xml. 
        This highlights some connection parameters being
        overridden at the connection level
     --&gt; 
 &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
  xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
  schemaLocation="http://xmlns.oracle.com/oci/oraaccess
  http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
  &lt;default_parameters&gt;
    &lt;prefetch&gt;
      &lt;rows&gt;50&lt;/rows&gt; 
    &lt;/prefetch&gt;
    &lt;statement_cache&gt;
      &lt;size&gt;100&lt;/size&gt; 
    &lt;/statement_cache&gt;
    &lt;auto_tune&gt;
      &lt;enable&gt;true&lt;/enable&gt; 
      &lt;ram_threshold&gt;2.67&lt;/ram_threshold&gt; 
      &lt;memory_target&gt;204800&lt;/memory_target&gt; 
    &lt;/auto_tune&gt;
    &lt;result_cache&gt;
      &lt;max_rset_rows&gt;100&lt;/max_rset_rows&gt; 
      &lt;max_rset_size&gt;10K&lt;/max_rset_size&gt; 
      &lt;max_size&gt;64M&lt;/max_size&gt; 
    &lt;/result_cache&gt;
  &lt;/default_parameters&gt;
    &lt;!-- 
         Create configuration descriptions, which are  
         groups of connection parameters associated with
         a config_alias. 
    --&gt; 
  &lt;config_descriptions&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt;bar&lt;/config_alias&gt; 
      &lt;parameters&gt;
        &lt;prefetch&gt;
          &lt;rows&gt;20&lt;/rows&gt; 
        &lt;/prefetch&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt;foo&lt;/config_alias&gt; 
      &lt;parameters&gt;
        &lt;statement_cache&gt;
          &lt;size&gt;15&lt;/size&gt; 
        &lt;/statement_cache&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
  &lt;/config_descriptions&gt;
  &lt;!--   
         Now map the connection string used by the application 
         with a config_alias.  
  --&gt; 
  &lt;connection_configs&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;hr_db&lt;/connection_string&gt; 
      &lt;config_alias&gt;foo&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;finance_db&lt;/connection_string&gt; 
      &lt;config_alias&gt;bar&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
  &lt;/connection_configs&gt;
&lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-A8DDB40D-832A-49BE-8B0F-D1ED765C88FD">Example 3</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example highlights setup for FAN notifications. </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="ASCII" ?&gt; 
   &lt;!--
    Here is a sample for oraaccess.xml for 
    setting up for FAN notifications.
   --&gt; 
  &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
    xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
    schemaLocation="http://xmlns.oracle.com/oci/oraaccess
    http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
    &lt;default_parameters&gt;
      &lt;fan&gt;
        &lt;!-- only possible values are "trace" or "error" --&gt; 
        &lt;subscription_failure_action&gt;
          error
        &lt;/subscription_failure_action&gt; 
      &lt;/fan&gt;
      &lt;ons&gt;
        &lt;subscription_wait_timeout&gt;
          5
        &lt;/subscription_wait_timeout&gt; 
        &lt;auto_config&gt;true&lt;/auto_config&gt;  
      &lt;/ons&gt;
    &lt;events&gt;true&lt;/events&gt; 
    &lt;/default_parameters&gt;
  &lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-7433CAC9-66D0-4ADD-BCBB-5F3F7D95B48B">Example 4</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example highlights an advanced <code class="codeph">oraaccess.xml</code> file configuration usage with manual ONS settings. Manual ONS settings should be used rarely.
                        </p><pre class="oac_no_warn" dir="ltr">  &lt;?xml version="1.0" encoding="ASCII" ?&gt; 
    &lt;!-- 
       Here is a sample for oraaccess.xml that highlights
       manual ONS settings.
    --&gt; 
  &lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
    xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
    schemaLocation="http://xmlns.oracle.com/oci/oraaccess
    http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
    &lt;default_parameters&gt;
      &lt;fan&gt;
       &lt;!-- only possible values are "trace" or "error"  --&gt; 
        &lt;subscription_failure_action&gt;
          error
        &lt;/subscription_failure_action&gt; 
      &lt;/fan&gt;
      &lt;ons&gt;
        &lt;subscription_wait_timeout&gt;
          5
        &lt;/subscription_wait_timeout&gt; 
        &lt;auto_config&gt;true&lt;/auto_config&gt;  
        &lt;!--This provides the manual configuration for ONS.
            Note that this functionality should not need to be used
            as auto_config can normally discover this 
            information. --&gt; 
        &lt;servers&gt;
          &lt;address_list&gt;
            &lt;name&gt;pacific&lt;/name&gt; 
            &lt;max_connections&gt;3&lt;/max_connections&gt; 
            &lt;hosts&gt;10.228.215.121:25293, 10.228.215.122:25293&lt;/hosts&gt; 
          &lt;/address_list&gt;
          &lt;address_list&gt;
            &lt;name&gt;Europe&lt;/name&gt; 
            &lt;max_connections&gt;3&lt;/max_connections&gt; 
            &lt;hosts&gt;myhost1.mydomain.com:25273, 
              myhost2.mydomain.com:25298, 
              myhost3.mydomain.com:30004&lt;/hosts&gt; 
          &lt;/address_list&gt;
        &lt;/servers&gt;
      &lt;/ons&gt;
      &lt;events&gt;true&lt;/events&gt; 
    &lt;/default_parameters&gt;
  &lt;/oraaccess&gt;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D436C5B8-0B9A-4E21-95D2-29D984186528__GUID-F506AE50-2ADE-4582-8CC8-7289925F3AD8">
                           <p class="notep1">See Also:</p>
                           <p><a href="build-and-configure-oci-applications.html#GUID-6C76054A-0E0A-4783-B00D-9B65C80C24B0" title="Describes the default values you can set for connection parameters shared across connections.">About Specifying Defaults for Connection Parameters</a> about overriding the very same set of connection-specific parameters at the connection-string level
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" name="GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7"></a><h4 id="LNOCI-GUID-C171A50B-BB76-4A2F-9E9D-F96CE23BFAF7" class="sect4"><span class="enumeration_section">3.6.7 </span>About OCI Session Pool Configuration in oraaccess.xml
                  </h4>
                  <div>
                     <p>Beginning with Oracle Database release 18c, version 18.1, the OCI session pool configuration can be set up using the oraaccess.xml client-side configuration file.</p>
                     <div class="p">The OCI session pool is configured by specifying the following set of parameters in the <code class="codeph">oraaccess.xml</code> configuration file. These parameters can be specified in the default parameters section or in the configuration descriptions section. If specified in the default parameters section, then it applies to all the session pools in the application. These settings can benefit any OCI Session Pool allowing OCI Session Pool settings to be overridden.
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">&lt;session_pool&gt;</code> — Sets up session pool parameters.
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">&lt;enable&gt;</code> — Setting this to true makes the session pool configuration effective. This is a mandatory parameter, that means, if the <code class="codeph">&lt;session_pool&gt;</code> parameter is configured, then <code class="codeph">&lt;enable&gt;</code> parameter  must also be configured.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;min_size&gt;</code> — Minimum number of connections in the pool. The default is 0. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;max_size&gt;</code> — Maximum number of connections in the pool. This is a mandatory parameter, that means, if the <code class="codeph">&lt;session_pool&gt;</code> parameter is configured, then <code class="codeph">&lt;max_size&gt;</code> parameter  must also be configured.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;increment&gt;</code> — Amount of increase in the number of connections in the pool as the pool expands. The default is 1.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;inactivity_timeout&gt;</code> — Maximum time in seconds for which a connection stays idle in the pool, after which it is terminated. The default is 0, that means, there is no limit for which a connection stays idle in the pool.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;max_use_session&gt;</code> — Maximum number of times a connection can be taken and released to the pool. The default is 0, that means, there is no limit to take a connection and release to the pool.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;max_life_time_session&gt;</code> — Time, in seconds, a connection will stay after it has been created in the pool. The default is 0, that means, there is no limit for a connection to stay after it has been created in the pool.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="p">Using the <code class="codeph">oraaccess.xml</code> file allows you to configure an OCI session pool for each needed connection service. The following example shows two groups of connection parameters associated with its respective config alias, the <code class="codeph">sales_config</code> and the <code class="codeph">hr_config</code>, where each connection string that the application uses is mapped with its respective config alias, thus providing two OCI session pools.<pre class="pre codeblock"><code>&lt;oraaccess xmlns="http://xmlns.oracle.com/oci/oraaccess"
            xmlns:oci="http://xmlns.oracle.com/oci/oraaccess"
            schemaLocation="http://xmlns.oracle.com/oci/oraaccess
            http://xmlns.oracle.com/oci/oraaccess.xsd"&gt;
  &lt;default_parameters&gt;
  &lt;/default_parameters&gt;
    &lt;!-- 
         Create configuration descriptions, which are  
         groups of connection parameters associated with
         a config_alias. 
    --&gt; 
  &lt;config_descriptions&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt; sales_config &lt;/config_alias&gt; 
      &lt;parameters&gt;
         &lt;session_pool&gt;
            &lt;enable&gt;true&lt;/enable&gt; 
            &lt;min_size&gt; 10 &lt;/min_size&gt;
            &lt;max_size&gt; 100 &lt;/max_size&gt;
            &lt;increment&gt; 5 &lt;/increment&gt;
         &lt;/session_pool&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
    &lt;config_description&gt;
      &lt;config_alias&gt; hr_config &lt;/config_alias&gt; 
      &lt;parameters&gt;
         &lt;session_pool&gt;
            &lt;enable&gt;true&lt;/enable&gt;
            &lt;max_size&gt; 10 &lt;/max_size&gt;
         &lt;/session_pool&gt;
      &lt;/parameters&gt;
    &lt;/config_description&gt;
  &lt;/config_descriptions&gt;
  &lt;!--   
         Now map the connection string used by the application 
         with a config_alias.  
  --&gt; 
  &lt;connection_configs&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;sales.us.acme.com&lt;/connection_string&gt; 
      &lt;config_alias&gt;sales_config&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
    &lt;connection_config&gt;
      &lt;connection_string&gt;hr.us.acme.com&lt;/connection_string&gt; 
      &lt;config_alias&gt;hr_config&lt;/config_alias&gt; 
    &lt;/connection_config&gt;
  &lt;/connection_configs&gt;
&lt;/oraaccess&gt;
</code></pre></div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" name="GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691"></a><h4 id="LNOCI-GUID-B8A13EE4-0D42-4856-A4F4-FE438650D691" class="sect4"><span class="enumeration_section">3.6.8 </span>File (oraaccess.xml) Properties
                  </h4>
                  <div>
                     <p>Lists some high level rules with regards to the <code class="codeph">oraaccess.xml</code> file syntax stated here for simplicity. 
                     </p>
                     <p>The XML schema specified in the <code class="codeph">oraaccess.xsd</code> file is the ultimate formal reference for oraaccess syntax:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The contents of the file are case sensitive, and all elements (tags, parameter names) are in lower case.</p>
                        </li>
                        <li>
                           <p>Comments are allowed between parameters (nodes); for example, Comment "&lt;!-- comments --&gt;".</p>
                        </li>
                        <li>
                           <p>For the syntax with respect to the order of the parameters, see the XML Schema: <code class="codeph">oraaccess.xsd</code> file (see information about the <code class="codeph">oraaccess.xsd</code> file later in this list).
                           </p>
                        </li>
                        <li>
                           <p>For memory size, valid values and formats are 100, 100k, 100K, 1000M, and 1121m. This means only suffixes 'M', 'm', 'K', 'k', or no suffix are allowed. 'K' or 'k' means kilobytes and 'M' or 'm' means megabytes. No suffix means the size is in bytes.</p>
                        </li>
                        <li>
                           <p>&lt;ram_threshold&gt; should be a decimal number between 0 and 100 and indicates a percentage value. </p>
                        </li>
                        <li>
                           <p>Where a number is expected, only positive unsigned integers are allowed; no sign is allowed. An example of a valid number usage is <code class="codeph">&lt;statement_cache&gt; &lt;size&gt;100&lt;/size&gt; &lt;/statement_cache&gt;</code>).
                           </p>
                        </li>
                        <li>
                           <p>Configuration alias names (<code class="codeph">&lt;config_alias&gt;foo&lt;/config_alias&gt;</code>) are not case-sensitive
                           </p>
                        </li>
                        <li>
                           <p>String parameters (such as <code class="codeph">&lt;config_alias&gt;</code>) are not expected to be quoted.
                           </p>
                        </li>
                        <li>
                           <p>These rules are all encapsulated in the schema definition. </p>
                        </li>
                        <li>
                           <p>OCI will report an error if OCI is provided an invalid <code class="codeph">oraaccess.xml</code> file. 
                           </p>
                        </li>
                        <li>
                           <p>Before deploying an <code class="codeph">oraaccess.xml</code> file, Oracle recommends that you validate it with the Oracle supplied XML schema file: <code class="codeph">oraaccess.xsd</code>. The schema file is installed under <code class="codeph">ORACLE_HOME/rdbms/admin</code> in a regular client and under <code class="codeph">instantclient_12_2/sdk/admin</code> in an instant client SDK. Customers can use their own favorite XML validation tools to perform the validation after modifying the <code class="codeph">oraaccess.xml</code> file. 
                           </p>
                        </li>
                        <li>
                           <p>Sample <code class="codeph">oraaccess.xml</code> files can be found in the <code class="codeph">ORACLE_HOME/rdbms/demo</code> directory in a regular client and in the <code class="codeph">instantclient_12_2/sdk/demo</code> in an instant client. The parameters in these files are for demonstration purpose only and should be modified and tested as per the application's requirement before deploying it.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532" name="GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532"></a><h3 id="LNOCI-GUID-1B41866A-7D99-4335-8E73-E0BCF54CB532" class="sect3"><span class="enumeration_section">3.7 </span>About Compatibility and Upgrading
               </h3>
               <div>
                  <p>The following sections discuss issues concerning compatibility between different releases of OCI client and server, changes in the OCI library routines, and upgrading an application from the release 7.<span class="italic">x</span> OCI to the current release of OCI:
                  </p>
                  <div class="p">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB" title="As a general guide, Oracle client and server versions are cross version compatible with a number versions.">Oracle Client and Server Cross Version Compatibility</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94" title="Here are the rules for relinking for a new release.">Version Compatibility of Statically Linked and Dynamically Linked Applications</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" title="OCI has been significantly improved with many features since OCI release 7.">About Upgrading of Existing OCI Release 7 Applications</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3" title="Release 8.0 of the OCI introduced an entirely new set of functions that were not available in release 7.3.">Obsolete OCI Routines</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0" title="Some OCI routines that were available in previous versions of OCI are not supported in the current release.">OCI Routines Not Supported</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB" name="GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB"></a><h4 id="LNOCI-GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB" class="sect4"><span class="enumeration_section">3.7.1 </span>Oracle Client and Server Cross Version Compatibility
                  </h4>
                  <div>
                     <p>As a general guide, Oracle client and server versions are cross version compatible with a number versions.</p>
                     <p>This means that you can connect to some older and newer versions of the database and do not always have to upgrade both the client and server at the same time.</p>
                     <p>However, certain products or utilities may impose additional restrictions on supported combinations specific to the product or utility.</p>
                     <div class="infoboxnotealso" id="GUID-AB5389F7-6DD7-4959-9F23-0E626FE77FDB__GUID-5B5B1074-0608-4B6E-9AA5-53C600E5D6F7">
                        <p class="notep1">See Also:</p>
                        <p>My Oracle Support <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=mos_doc_207303_1" target="_blank">Document 207303.1</a> for information about client and server interoperability support matrix for different Oracle versions.
                        </p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94" name="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94"></a><h4 id="LNOCI-GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94" class="sect4"><span class="enumeration_section">3.7.2 </span>Version Compatibility of Statically Linked and Dynamically Linked Applications
                  </h4>
                  <div>
                     <p>Here are the rules for relinking for a new release.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Statically linked OCI applications:</p>
                           <p>Statically linked OCI applications must be relinked for both major and minor releases, because the statically linked Oracle Database client-side library code may be incompatible with the error messages in the upgraded Oracle home. For example, if an error message was updated with additional parameters then it is no longer compatible with the statically linked code.</p>
                        </li>
                        <li>
                           <p>Dynamically linked OCI applications:</p>
                           <p>Dynamically linked OCI applications from Oracle Database 10<span class="italic">g</span> and later releases need not be relinked. That is, the Oracle Database client-side dynamic library is upwardly compatible with the previous version of the library. Oracle Universal Installer creates a symbolic link for the previous version of the library that resolves to the current version. Therefore, an application that is dynamically linked with the previous version of the Oracle Database client-side dynamic library does not need to be relinked to operate with the current version of the Oracle Database client-side library.
                           </p>
                           <div class="infoboxnote" id="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94__GUID-FDDA2AAE-DA81-46B6-AB20-6AE703515D55">
                              <p class="notep1">Note:</p>
                              <p>If the application is linked with a runtime library search path (such as <code class="codeph">-rpath</code> on Linux), then the application may still run with the version of Oracle Database client-side library it is linked with. To run with the current version of Oracle Database client-side library, it must be relinked.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-44C7F521-5578-498E-AAC4-713F3E5C7C94__GUID-A5E9D897-B4F0-4688-A287-01E162AFE35E">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../upgrd/compatibility-interoperability-between-database-releases.html#UPGRD005" target="_blank"><span><cite>Oracle Database Upgrade Guide</cite></span></a> for information about compatibility and upgrading
                                    </p>
                                 </li>
                                 <li>
                                    <p>The server versions supported currently are found on My Oracle Support <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=mos_doc_207303_1" target="_blank">Document 207303.1</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" name="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D"></a><h4 id="LNOCI-GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D" class="sect4"><span class="enumeration_section">3.7.3 </span>About Upgrading of Existing OCI Release 7 Applications
                  </h4>
                  <div>
                     <p>OCI has been significantly improved with many features since OCI release 7. </p>
                     <p>Applications that use the OCI release 7.3 API work unchanged against the current release of Oracle Database. They do need to be linked with the current client library. However, OCI release 7.3 API has been deprecated and this option will not be available in future Oracle releases.</p>
                     <p>OCI release 7 and the OCI calls of this release can be mixed in the same application and in the same transaction provided they are not mixed within the same statement execution. As a result, when migrating an existing OCI version 7 application you have the following two alternatives: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Upgrade to the current OCI client but do not modify the application: If you choose to upgrade from an Oracle release 7 OCI client to the current release OCI client, you need only link the new version of the OCI library and need <span class="italic">not</span> recompile your application. The relinked Oracle Database release 7 OCI applications work unchanged against a current Oracle Database. This option is deprecated and will not be available in future Oracle releases.
                           </p>
                        </li>
                        <li>
                           <p>Upgrade to the current OCI client and modify the application: To use the performance and scalability benefits provided by the current OCI, however, you must modify your existing applications to use the current OCI programming paradigm, rebuild and relink them with the current OCI library, and run them against the current release of the Oracle database.</p>
                        </li>
                     </ul>
                     <p>If you want to use any of the object capabilities of the current Oracle Database release, you must upgrade your client to the current release of OCI.</p>
                     <div class="infoboxnote" id="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D__GUID-10CC6FFD-D522-415B-BA94-A0CE6DE70DA3">
                        <p class="notep1">Note:</p>
                        <p>Applications using version 7 API will not be able to connect to Oracle Database 12<span class="italic">c</span> by default. Such applications willing to connect to Oracle Database 12<span class="italic">c</span> must set <code class="codeph">sqlnet.allowed_logon_version</code> to <code class="codeph">8</code>.
                        </p>
                        <p>In  Oracle Database 12<span class="italic">c</span> Release 2 (12.2), identifier length supported by Oracle Database has been increased from 30 bytes to 128 bytes. With this database change, OCI applications using deprecated V7 API <code class="codeph">odessp()</code> may need to be changed. In <code class="codeph">odessp()</code> for the argument <code class="codeph">argnam</code>, an application needs to pass the two dimensional array, which can accommodate identifiers of length 128 bytes, which was previously 30 bytes.
                        </p>
                        <p>Applications using UPI API <code class="codeph">upidpr()</code> may also need to be changed with long identifiers in  Oracle Database 12<span class="italic">c</span> Release 2 (12.2). In <code class="codeph">upidpr()</code> for the argument <code class="codeph">argument_name</code>, an application needs to pass the two dimensional array, which can accommodate identifiers of length 128 bytes, which was previously 30 bytes.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-D849EF63-969E-44AE-A6B1-2FC3B669406D__GUID-1FD538DB-4F13-45E5-93D5-F749B5749FC7">
                        <p class="notep1">See Also:</p>
                        <p>Programmer's Guide to the Oracle7 Server Call Interface in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=oracle7_documentation" target="_blank">Oracle 7 Documentation</a>.
                        </p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3" name="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3"></a><h4 id="LNOCI-GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3" class="sect4"><span class="enumeration_section">3.7.4 </span>Obsolete OCI Routines
                  </h4>
                  <div>
                     <p>Release 8.0 of the OCI introduced an entirely new set of functions that were not available in release 7.3.</p>
                     <div class="section">
                        <p>Oracle strongly recommends that new applications use the new calls to improve performance and provide increased functionality. Future releases of Oracle will not be supporting the release 7.3 API.</p>
                        <p><a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463" title="This table has 2 columns. Column 1 is the 7.x OCI routine name and column 2 is its equivalent or similar later OCI routine name.">Table 3-3</a> lists the 7.<span class="italic">x</span> OCI calls with their later equivalents. For more information about the OCI calls, see the function descriptions in this guide. For more information about the 7<span class="italic">.x</span> calls, see <span class="italic">Programmer's Guide to the Oracle Call Interface, Release 7.3</span>.
                        </p>
                        <div class="infoboxnote" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__GUID-5C677D27-42F2-425C-8DCA-9FFDEA84B714">
                           <p class="notep1">Note:</p>
                           <p>In many cases the new or current OCI routines do not map directly onto the 7.<span class="italic">x</span> routines, so it almost may not be possible to simply replace one function call and parameter list with another. Additional program logic may be required before or after the new or current call is made. See the remaining chapters, in particular <a href="oci-programming-basics.html#GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5" title="This chapter introduces concepts and procedures involved in programming with OCI.">OCI Programming Basics</a> of this guide for more information.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463">
                        <p class="titleintable">Table 3-3 Obsolescent OCI Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Obsolescent OCI Functions " summary="This table has 2 columns. Column 1 is the 7.x OCI routine name and column 2 is its equivalent or similar later OCI routine name." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d20286e6234">7.x OCI Routine</th>
                                 <th align="left" valign="bottom" width="70%" id="d20286e6240">Equivalent or Similar Later OCI Routine</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6245" headers="d20286e6234 ">
                                    <p><code class="codeph">obindps(), obndra(), obndrn(), obndrv()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6245 d20286e6240 ">
                                    <p><code class="codeph">OCIBindByName()</code> or <code class="codeph">OCIBindByName2()</code>, <code class="codeph">OCIBindByPos()</code> or <code class="codeph">OCIBindByPos2()</code> (Note: additional bind calls may be necessary for some data types)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6264" headers="d20286e6234 ">
                                    <p><code class="codeph">obreak()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6264 d20286e6240 ">
                                    <p><code class="codeph">OCIBreak()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6273" headers="d20286e6234 ">
                                    <p><code class="codeph">ocan()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6273 d20286e6240 ">
                                    <p>none</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6281" headers="d20286e6234 ">
                                    <p><code class="codeph">oclose()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6281 d20286e6240 ">
                                    <p>Note: cursors are not used in release 8<span class="italic">.</span>x or later
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6292" headers="d20286e6234 ">
                                    <p><code class="codeph">ocof(), ocon()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6292 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtExecute() </code>with <code class="codeph">OCI_COMMIT_ON_SUCCESS</code> mode
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6305" headers="d20286e6234 ">
                                    <p><code class="codeph">ocom()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6305 d20286e6240 ">
                                    <p><code class="codeph">OCITransCommit()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6314" headers="d20286e6234 ">
                                    <p><code class="codeph">odefin(), odefinps()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6314 d20286e6240 ">
                                    <p><code class="codeph">OCIDefineByPos()</code> or <code class="codeph">OCIDefineByPos2()</code> (Note: additional define calls may be necessary for some data types)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6327" headers="d20286e6234 ">
                                    <p><code class="codeph">odescr()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6327 d20286e6240 ">
                                    <p>Note: schema objects are described with OCIDescribeAny(). A describe, as used in release 7.<span class="italic">x</span>, most often be done by calling OCIAttrGet() on the statement handle after SQL statement execution.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6338" headers="d20286e6234 ">
                                    <p><code class="codeph">odessp()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6338 d20286e6240 ">
                                    <p><code class="codeph">OCIDescribeAny()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6347" headers="d20286e6234 ">
                                    <p><code class="codeph">oerhms()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6347 d20286e6240 ">
                                    <p><code class="codeph">OCIErrorGet()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6356" headers="d20286e6234 ">
                                    <p><code class="codeph">oexec(), oexn()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6356 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtExecute()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6366" headers="d20286e6234 ">
                                    <p><code class="codeph">oexfet()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6366 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtExecute()</code>, <code class="codeph">OCIStmtFetch2()</code> (Note: result set rows can be implicitly prefetched)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6379" headers="d20286e6234 ">
                                    <p><code class="codeph">ofen()</code>, <code class="codeph">ofetch()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6379 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtFetch2()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6391" headers="d20286e6234 ">
                                    <p><code class="codeph">oflng()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6391 d20286e6240 ">
                                    <p>none</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6399" headers="d20286e6234 ">
                                    <p><code class="codeph">ogetpi()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6399 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtGetPieceInfo()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6408" headers="d20286e6234 ">
                                    <p><code class="codeph">olog()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6408 d20286e6240 ">
                                    <p><code class="codeph">OCILogon()</code> or <code class="codeph">OCILogon2()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6420" headers="d20286e6234 ">
                                    <p><code class="codeph">ologof()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6420 d20286e6240 ">
                                    <p><code class="codeph">OCILogoff()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6429" headers="d20286e6234 ">
                                    <p><code class="codeph">onbclr(), onbset(), onbtst()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6429 d20286e6240 ">
                                    <p>Note: nonblocking mode can be set or checked by calling <code class="codeph">OCIAttrSet()</code> or <code class="codeph">OCIAttrGet()</code> on the server context handle or service context handle
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6443" headers="d20286e6234 ">
                                    <p><code class="codeph">oopen()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6443 d20286e6240 ">
                                    <p>Note: cursors are not used in release 8.<span class="italic">x</span> or later
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6454" headers="d20286e6234 ">
                                    <p><code class="codeph">oopt()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6454 d20286e6240 ">
                                    <p>none</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6462" headers="d20286e6234 ">
                                    <p><code class="codeph">oparse()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6462 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtPrepare2()</code>; however, it is all local
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6472" headers="d20286e6234 ">
                                    <p><code class="codeph">opinit()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6472 d20286e6240 ">
                                    <p><code class="codeph">OCIEnvCreate()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6482" headers="d20286e6234 ">
                                    <p><code class="codeph">orol()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6482 d20286e6240 ">
                                    <p><code class="codeph">OCITransRollback()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6491" headers="d20286e6234 ">
                                    <p><code class="codeph">osetpi()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6491 d20286e6240 ">
                                    <p><code class="codeph">OCIStmtSetPieceInfo()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6500" headers="d20286e6234 ">
                                    <p><code class="codeph">sqlld2()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6500 d20286e6240 ">
                                    <p><code class="codeph">SQLSvcCtxGet or SQLEnvGet</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6509" headers="d20286e6234 ">
                                    <p><code class="codeph">sqllda()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6509 d20286e6240 ">
                                    <p><code class="codeph">SQLSvcCtxGet or SQLEnvGet</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6518" headers="d20286e6234 ">
                                    <p><code class="codeph">odsc()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6518 d20286e6240 ">
                                    <p>Note: see odescr() preceding</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6526" headers="d20286e6234 ">
                                    <p><code class="codeph">oermsg()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6526 d20286e6240 ">
                                    <p><code class="codeph">OCIErrorGet()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6535" headers="d20286e6234 ">
                                    <p><code class="codeph">olon()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6535 d20286e6240 ">
                                    <p><code class="codeph">OCILogon()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6544" headers="d20286e6234 ">
                                    <p><code class="codeph">orlon()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6544 d20286e6240 ">
                                    <p><code class="codeph">OCILogon()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6553" headers="d20286e6234 ">
                                    <p><code class="codeph">oname()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6553 d20286e6240 ">
                                    <p>Note: see <code class="codeph">odescr()</code> preceding
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d20286e6564" headers="d20286e6234 ">
                                    <p><code class="codeph">osql3()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d20286e6564 d20286e6240 ">
                                    <p>Note: see <code class="codeph">oparse()</code> preceding
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__GUID-478B2E46-394D-40A1-8B93-914BF39D3922">
                           <p class="notep1">Note:</p>
                           <p>Applications using <code class="codeph">size_t</code> to define host area (<code class="codeph">hda</code>) that is passed to the OCI 7 calls, may crash on some platforms due to misaligned data. <code class="codeph">Hda_Def</code> should be used instead of <code class="codeph">size_t</code> in that case. If the application cannot be modified, the compiler and linker flag <code class="codeph">misalign</code> can be used on a SPARC platform. Refer to the demos and the following documentation for more information: <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=misaligned_data_info" target="_blank">Sun Studio 12: C++ User’s Guide A.2.53 —misalign</a>.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__GUID-64E8D133-2C5F-4845-BD7E-4E9EACF5C7A6">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oci-programming-basics.html#GUID-4CFB8AF7-EF05-4E0F-847F-2D0710E552C5" title="This chapter introduces concepts and procedures involved in programming with OCI.">OCI Programming Basics</a> for information about what additional program logic may be required before or after the new or current call is made.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0" name="GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0"></a><h4 id="LNOCI-GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0" class="sect4"><span class="enumeration_section">3.7.5 </span>OCI Routines Not Supported
                  </h4>
                  <div>
                     <p>Some OCI routines that were available in previous versions of OCI are not supported in the current release.</p>
                     <div class="section">
                        <p>They are listed in <a href="build-and-configure-oci-applications.html#GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0__G435610" title="This table has 2 columns. Column 1 is the OCI routine name and column 2 is its equivalent or similar later OCI routine name.">Table 3-4</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-02E4847A-28D8-410C-B40D-17E60CDE29D0__G435610">
                        <p class="titleintable">Table 3-4 OCI Functions Not Supported </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="OCI Functions Not Supported " summary="This table has 2 columns. Column 1 is the OCI routine name and column 2 is its equivalent or similar later OCI routine name." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d20286e6817">OCI Routine</th>
                                 <th align="left" valign="bottom" width="64%" id="d20286e6820">Equivalent or Similar Later OCI Routine</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6825" headers="d20286e6817 ">
                                    <p><code class="codeph">obind()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6825 d20286e6820 ">
                                    <p><code class="codeph">OCIBindByName()</code>, <code class="codeph">OCIBindByPos()</code> (Note: additional bind calls may be necessary for some data types)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6838" headers="d20286e6817 ">
                                    <p><code class="codeph">obindn()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6838 d20286e6820 ">
                                    <p><code class="codeph">OCIBindByName()</code>, <code class="codeph">OCIBindByPos() </code>(Note: additional bind calls may be necessary for some data types)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6851" headers="d20286e6817 ">
                                    <p><code class="codeph">odfinn()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6851 d20286e6820 ">
                                    <p><code class="codeph">OCIDefineByPos()</code> (Note: additional define calls may be necessary for some data types)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6861" headers="d20286e6817 ">
                                    <p><code class="codeph">odsrbn()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6861 d20286e6820 ">
                                    <p>Note: see <code class="codeph">odescr()</code> in <a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463" title="This table has 2 columns. Column 1 is the 7.x OCI routine name and column 2 is its equivalent or similar later OCI routine name.">Table 3-3</a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6876" headers="d20286e6817 ">
                                    <p><code class="codeph">ologon()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6876 d20286e6820 ">
                                    <p><code class="codeph">OCILogon()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d20286e6885" headers="d20286e6817 ">
                                    <p><code class="codeph">osql()</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d20286e6885 d20286e6820 ">
                                    <p>Note: see <code class="codeph">oparse()</code> <a href="build-and-configure-oci-applications.html#GUID-8291144F-63BE-45EF-8197-FEAFFE9616F3__G435463" title="This table has 2 columns. Column 1 is the 7.x OCI routine name and column 2 is its equivalent or similar later OCI routine name.">Table 3-3</a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" name="GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1"></a><h3 id="LNOCI-GUID-0A4A1E6C-F321-4858-A535-E47240DC9EA1" class="sect3"><span class="enumeration_section">3.8 </span>Fault Diagnosability in OCI
               </h3>
               <div>
                  <div class="p">This section describes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" title="Fault diagnosability was introduced into OCI in Oracle Database 11g Release 1 (11.1).">About Fault Diagnosability in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-6C60D154-9576-4C84-80F3-04DE75063C00" title="Describes how the location of the ADR base is determined.">ADR Base Location</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" title="ADRCI is a command-line tool that enables you to view diagnostic data within the ADR and to package incident and problem information into a zip file for Oracle Support to use.">Using ADRCI</a></p>
                        </li>
                        <li>
                           <p><a href="build-and-configure-oci-applications.html#GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" title="Describes how to control ADR creation and disabling fault diagnosability using sqlnet.ora.">Controlling ADR Creation and Disabling Fault Diagnosability Using sqlnet.ora</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" name="GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176"></a><h4 id="LNOCI-GUID-A2945AF1-36DE-4C87-8C19-DA82B352F176" class="sect4"><span class="enumeration_section">3.8.1 </span>About Fault Diagnosability in OCI
                  </h4>
                  <div>
                     <p>Fault diagnosability was introduced into OCI in Oracle Database 11<span class="italic">g</span> Release 1 (11.1). 
                     </p>
                     <p>An incident (an occurrence of a problem) on the OCI client is captured without user intervention in the form of diagnostic data: dump files or core dump files. Up to Release 11.2.0.1, the diagnostic data was stored in an Automatic Diagnostic Repository (ADR) subdirectory created for the incident. For example, if a Linux or UNIX application fails with a <code class="codeph">NULL</code> pointer reference, then the core file is written in the ADR home directory (if it exists) instead of the operating system directory. The ADR subdirectory structure and a utility to deal with the output, ADR Command Interpreter (ADRCI), are discussed in the following sections. However, beginning with Release 11.2.0.2, the diagnostic data is stored in the current directory.
                     </p>
                     <p>An ADR home is the root directory for all diagnostic data for an instance of a particular product such as OCI and a particular operating system user. ADR homes are grouped under the same root directory, the ADR base. </p>
                     <p>Fault diagnosability and the ADR structure for Oracle Database are described in detail in the discussion of managing diagnostic data in Oracle Database Administrator's Guide.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00" name="GUID-6C60D154-9576-4C84-80F3-04DE75063C00"></a><h4 id="LNOCI-GUID-6C60D154-9576-4C84-80F3-04DE75063C00" class="sect4"><span class="enumeration_section">3.8.2 </span>ADR Base Location
                  </h4>
                  <div>
                     <p>Describes how the location of the ADR base is determined.</p>
                     <p>The location of the ADR base is determined by OCI in the following order:</p>
                     <ol>
                        <li>
                           <p>For all diagnosability parameters, OCI first looks in the file <code class="codeph">oraaccess.xml</code>. If these parameters are not set there, then OCI looks next in <code class="codeph">sqlnet.ora</code> (if it exists) for a statement such as (Linux or UNIX):
                           </p><pre class="oac_no_warn" dir="ltr">ADR_BASE=<span class="italic">/foo/adr</span>
</pre><p><code class="codeph">adr</code> (the name of a directory) must exist and be writable by all operating system users who execute OCI applications and want to share the same ADR base. <code class="codeph">foo</code> stands for a path name. The location of <code class="codeph">sqlnet.ora</code> is given in the directory <code class="codeph">$TNS_ADMIN</code> (<code class="codeph">%TNS_ADMIN%</code> on Windows). If there is no <code class="codeph">$TNS_ADMIN</code> then the current directory is used. If <code class="codeph">ADR_BASE</code> is set and one <code class="codeph">sqlnet.ora</code> is shared by all users, then OCI stops searching when directory <code class="codeph">adr</code> does not exist or is not writable by the user. If <code class="codeph">ADR_BASE</code> is not set, then OCI continues the search, testing for the existence of certain directories.
                           </p>
                           <p>For example, if <code class="codeph">sqlnet.ora</code> contains the entry <code class="codeph">ADR_BASE=/home/chuck/test</code> then the ADR base is <code class="codeph">/home/chuck/test/oradiag_chuck</code> and the ADR home could be something like <code class="codeph">/home/chuck/test/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">$ORACLE_BASE</code></span> (<span class="italic"><code class="codeph">%ORACLE_BASE%</code></span> on Windows) exists. In this case, the client subdirectory exists because it was created during installation of the database using Oracle Universal Installer.
                           </p>
                           <p>For example, if <span class="italic"><code class="codeph">$ORACLE_BASE</code></span> is <code class="codeph">/home/chuck/obase</code> then the ADR base is <code class="codeph">/home/chuck/obase</code> and the ADR home could be similar to <code class="codeph">/home/chuck/obase/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <span class="italic"><code class="codeph">(%ORACLE_BASE%</code></span> on Windows) exists. In this case, the client subdirectory exists because it was created during installation of the database using Oracle Universal Installer.
                           </p>
                           <p>For example, if <span class="italic"><code class="codeph">$ORACLE_HOME</code></span> is <code class="codeph">/ade/chuck_l1/oracle</code> then the ADR base is <code class="codeph">/ade/chuck_l1/oracle/log</code> and the ADR home could be similar to <code class="codeph">/ade/chuck_l1/oracle/log/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p>Operating system home directory: <span class="italic"><code class="codeph">$HOME</code></span> on Linux or UNIX, or <span class="italic"><code class="codeph">%USERPROFILE%</code></span> on Windows. On Linux or UNIX the location could be something like this for user <code class="codeph">chuck</code>: <code class="codeph">/home/chuck/oradiag_chuck</code>. On Windows, a folder named <code class="codeph">Oracle</code> is created under <code class="codeph">C:\Documents and Settings\chuck</code>. 
                           </p>
                           <p>For example, in an Instant Client, if <span class="italic"><code class="codeph">$HOME</code></span> is <code class="codeph">/home/chuck</code> then the ADR base is <code class="codeph">/home/chuck/oradiag_chuck</code> and the ADR home could be <code class="codeph">/home/chuck/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                        </li>
                        <li>
                           <p>On Windows, if the application is run as a service, the home directory option is skipped.</p>
                        </li>
                        <li>
                           <p>Temporary directory in the Linux or UNIX operating system: <code class="codeph">/var/tmp</code>.
                           </p>
                           <p>For example, in an Instant Client, if <span class="italic"><code class="codeph">$HOME</code></span> is not writable, then the ADR base is <code class="codeph">/var/tmp/oradiag_chuck</code> and the ADR home could be <code class="codeph">/var/tmp/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11</code>.
                           </p>
                           <p>Temporary directories in the Windows operating system, searched in this order:</p>
                           <ol type="a">
                              <li>
                                 <p><span class="italic"><code class="codeph">%TMP%</code></span></p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">%TEMP%</code></span></p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">%USERPROFILE%</code></span></p>
                              </li>
                              <li>
                                 <p>Windows system directory</p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                     <p>If none of these directory choices are available and writable, or the ADR base is not created and there are no diagnostics.</p>
                     <div class="infoboxnotealso" id="GUID-6C60D154-9576-4C84-80F3-04DE75063C00__GUID-8E70175E-E386-4DAD-B646-7D3ED6AAE3BD">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="instant-client.html#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="Oracle Instant Client provides the necessary Oracle Database client-side files to create and run OCI, OCCI, ODBC, and JDBC OCI applications. Useful command-line utilities including SQL*Plus, SQL*Loader and Oracle Data Pump are also available. Oracle Instant Client simplifies the deployment of applications by eliminating the need for an Oracle home on the client machines.">About Oracle Instant Client</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=NETRF398" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" name="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47"></a><h4 id="LNOCI-GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47" class="sect4"><span class="enumeration_section">3.8.3 </span>Using ADRCI
                  </h4>
                  <div>
                     <p>ADRCI is a command-line tool that enables you to view diagnostic data within the ADR and to package incident and problem information into a zip file for Oracle Support to use.</p>
                     <div class="section">
                        <p>You can use ADRCI interactively and from a script. A <span class="italic">problem</span> is a critical error in OCI or the client. Each problem has a problem key. An <span class="italic">incident</span> is a single occurrence of a problem and is identified by a unique numeric incident ID. Each incident has a problem key that is a set of attributes: the <code class="codeph">ORA</code> error number, error parameter values, and other information. Two incidents have the same root cause if their problem keys match.
                        </p>
                        <p>What follows is a launch of ADRCI in a Linux system, a use of the <code class="codeph">HELP</code> command for the <code class="codeph">SHOW</code> <code class="codeph">BASE</code> command, and then the use of the <code class="codeph">SHOW</code> <code class="codeph">BASE</code> command with the option <code class="codeph">-PRODUCT</code> <code class="codeph">CLIENT</code>, which is necessary for OCI applications. The ADRCI commands are case-insensitive. User input is shown in bold.
                        </p><pre class="oac_no_warn" dir="ltr">% <span class="bold">adrci</span>
 
ADRCI: Release 12.2.0.0.0 - Development on Wed Dec 2 18:26:29 2015 
Copyright (c) 1982, 2015, Oracle.  All rights reserved. ADR base = "/u01/app/oracle/log"

 
adrci&gt; <span class="bold">help show base</span>
 
  Usage: SHOW BASE [-product &lt;product_name&gt;]
 
  Purpose: Show the current ADR base setting.
 
  Options:
    [-product &lt;product_name&gt;]: This option allows users to show the
    given product's ADR Base location. The current registered products are
    "CLIENT" and "ADRCI".
 
  Examples: 
    show base -product client
    show base
 
adrci&gt; <span class="bold">show base -product client</span>
ADR base = "/u01/app/oracle/log"
</pre><p>Next, the <code class="codeph">SET</code> <code class="codeph">BASE</code> command is described:
                        </p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">help set base</span>
 
  Usage:  SET BASE &lt;base_str&gt; | -product &lt;product_name&gt;
 
  Purpose: Set the ADR base to use in the current ADRCI session.
           If there are valid ADR homes under the base, all homes will
           will be added to the current ADRCI session.
 
  Arguments:
    &lt;base_str&gt;: It is the ADR base directory, which is a system-dependent
    directory path string.
    -product &lt;product_name&gt;: This option allows users to set the 
    given product's ADR Base location. The current registered products are
    "CLIENT" and "ADRCI".
 
  Notes:
    On platforms that use "." to signify current working directory,
    it can be used as base_str.
 
  Example: 
    set base /net/sttttd1/scratch/someone/view_storage/someone_v1/log
    set base -product client
    set base .
 
adrci&gt; <span class="bold">quit</span>
</pre><p>When <code class="codeph">ADRCI</code> is started, the default ADR base is for the <code class="codeph">rdbms</code> server. <span class="italic"><code class="codeph">$ORACLE_HOME</code></span> is set to <code class="codeph">"/u01/app/oracle/"</code>:
                        </p><pre class="oac_no_warn" dir="ltr">% <span class="bold">adrci</span>
 
ADRCI: Release 12.2.0.0.0 - Development on Wed Dec 2 18:26:29 2015
 
Copyright (c) 1982, 2015, Oracle.  All rights reserved.
 
ADR base = "/u01/app/oracle/log"
 adrci&gt;</pre><p>For OCI application incidents you must check and set the base:</p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">show base -product client</span>
ADR base is "/u01/app/oracle/log" 
adrci&gt; <span class="bold">set base /home/chuck_13/oradiag_chuck</span>
</pre><p>For Instant Client there is no <span class="italic"><code class="codeph">$ORACLE_HOME</code></span>, so the default base is the user's home directory:
                        </p><pre class="oac_no_warn" dir="ltr">adrci&gt; <span class="bold">show base -product client</span>
ADR base is "/home/chuck_13/oradiag_chuck"
adrci&gt; <span class="bold">set base /home/chuck/oradiag_chuck</span>
adrci&gt; <span class="bold">show incidents</span>
 
ADR Home = /home/chuck/oradiag_chuck/diag/clients/user_chuck/host_4144260688_11:
*************************************************************************
INCIDENT_ID    PROBLEM_KEY           CREATE_TIME
-------------------------------------------------------------------------
1                     oci 24550 [6]              2015-12-02 17:20:02.803697 -07:00                      
1 rows fetched
 
adrci&gt;</pre><div class="infoboxnotealso" id="GUID-DBD82938-E07E-4A6A-B563-0FFED4F55D47__GUID-67B4CAD8-0E50-4FF6-8ACE-416AC11DE685">
                           <p class="notep1">See Also:</p>
                           <p><a href="instant-client.html#GUID-6895DB45-97AA-4738-9959-BD677D610186" title="Oracle Instant Client provides the necessary Oracle Database client-side files to create and run OCI, OCCI, ODBC, and JDBC OCI applications. Useful command-line utilities including SQL*Plus, SQL*Loader and Oracle Data Pump are also available. Oracle Instant Client simplifies the deployment of applications by eliminating the need for an Oracle home on the client machines.">About Oracle Instant Client</a></p>
                           <p><a href="../sutil/oracle-adr-command-interpreter-adrci.html#SUTIL700" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for an introduction to ADRCI
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" name="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C"></a><h4 id="LNOCI-GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C" class="sect4"><span class="enumeration_section">3.8.4 </span>Controlling ADR Creation and Disabling Fault Diagnosability Using sqlnet.ora
                  </h4>
                  <div>
                     <p>Describes how to control ADR creation and disabling fault diagnosability using sqlnet.ora.</p>
                     <div class="section">
                        <p>To disable diagnosability, turn off diagnostics by setting the following parameters in <code class="codeph">sqlnet.ora</code> (the default is <code class="codeph">TRUE</code>):
                        </p><pre class="oac_no_warn" dir="ltr">DIAG_ADR_ENABLED=FALSE
DIAG_DDE_ENABLED=FALSE
</pre><p>To turn off the OCI signal handler and reenable standard operating system failure processing, place the following parameter setting in <code class="codeph">sqlnet.ora</code>:
                        </p><pre class="oac_no_warn" dir="ltr">DIAG_SIGHANDLER_ENABLED=FALSE
</pre><p>As noted previously, <code class="codeph">ADR_BASE</code> is used in <code class="codeph">sqlnet.ora</code> to set the location of the ADR base.
                        </p>
                        <p>Oracle Database client contains advanced features for diagnosing issues, including the ability to dump diagnostic information when important errors are detected. By default, these dumps are restricted to a small subset of available information, to ensure that application data is not dumped. However, in many installations, secure locations for dump files may be configured, ensuring the privacy of such logs. In such cases, it is recommended to turn on full dumps; this can greatly speed resolution of issues. Full dumps can be enabled by adding the following line to the <code class="codeph">sqlnet.ora</code> file used by your Oracle Database client installation:
                        </p><pre class="oac_no_warn" dir="ltr">DIAG_RESTRICTED=FALSE
</pre><p>To verify that diagnosability features are working correctly:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Upgrade your application to use the latest client libraries.</span></li>
                        <li><span>Start your application. </span></li>
                        <li><span>Check the file <code class="codeph">sqlnet.log</code> in your application's <code class="codeph">TNS_ADMIN</code> directory for error messages indicating that diagnosability could not be started (normally this is due to invalid directory names or permissions).</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E100960D-1E4F-4C3D-A6A3-0D5A5FB06B4C__GUID-AB4CAD3A-85E2-462F-ACC5-B291C777163D">
                           <p class="notep1">See Also:</p>
                           <p> </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for the ADR parameter settings in <code class="codeph">sqlnet.ora</code></p>
                              </li>
                              <li>
                                 <p><a href="../netag/troubleshooting-oracle-net-services.html#NETAG1524" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for more information about the structure of ADR
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: 
            <p>Returns an <code class="codeph">ORA-01805</code> error when timezone files on the client and server do not match (regions are not synchronized); returns <code class="codeph">OCI_SUCCESS</code> when region time zone values are the same (represent the same instant in UTC), though the <code class="codeph">TIME ZONE</code> offsets are different.
            </p><br></div>
      </article>
   </body>
</html><html id='02618.XS_PRINCIPAL-package.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>XS_PRINCIPAL Package</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Security Administrator's and Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Security Administrator's and Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95725-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="XS_NAMESPACE-package.html" title="Previous" type="text/html">
      <link rel="next" href="XS_SECURITY_CLASS-package.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator's and Developer's Guide">
    <meta name="dcterms.isVersionOf" content="DBFSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XS_NAMESPACE-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="XS_SECURITY_CLASS-package.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="real-application-security-plsql-packages.html" property="item" typeof="WebPage"><span property="name"> Oracle Database Real Application Security PL/SQL&nbsp;Packages </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XS_PRINCIPAL Package</li>
            </ol>
            <a id="GUID-50D04FCD-BB85-42A5-851D-559D5D537325" name="GUID-50D04FCD-BB85-42A5-851D-559D5D537325"></a><a id="DBFSG99296"></a>
            
            <h2 id="DBFSG-GUID-50D04FCD-BB85-42A5-851D-559D5D537325" class="sect2">XS_PRINCIPAL Package</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>The XS_PRINCIPAL package contains procedures used to create, manage, and delete application principals. These application principals include application users, regular application roles, and dynamic application roles.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="XS_PRINCIPAL-package.html#GUID-33D2E7A6-5EE5-4045-B5EE-A153A619F929">Security Model</a></p>
                        </li>
                        <li>
                           <p><a href="XS_PRINCIPAL-package.html#GUID-23B361BA-981C-4FA6-8646-30F369C3EDC8">Constants</a></p>
                        </li>
                        <li>
                           <p><a href="XS_PRINCIPAL-package.html#GUID-3DF3B7FF-2F1F-48D0-B83D-4F7070395714">Object Types, Constructor Functions, Synonyms, and Grants</a></p>
                        </li>
                        <li>
                           <p><a href="XS_PRINCIPAL-package.html#GUID-D9EA0B89-BC59-49DB-9E12-4A2A19CEFCDA">Summary of XS_PRINCIPAL Subprograms</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div><a id="DBFSG99297"></a><div class="props_rev_3"><a id="GUID-33D2E7A6-5EE5-4045-B5EE-A153A619F929" name="GUID-33D2E7A6-5EE5-4045-B5EE-A153A619F929"></a><h3 id="DBFSG-GUID-33D2E7A6-5EE5-4045-B5EE-A153A619F929" class="sect3">Security Model</h3>
               <div>
                  <div class="section">
                     <p>The <code class="codeph">XS_PRINCIPAL</code> package <a id="d116419e256" class="indexterm-anchor"></a>is created under the <code class="codeph">SYS</code> schema.
                     </p>
                     <p>Users with Real Application Security <code class="codeph">PROVISION</code> privilege can create, modify, or drop application users and roles. The privileges required to create, modify, or drop application users and roles are no longer governed by the same system privileges required to create, modify, or drop database users and roles.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG669"></a><div class="props_rev_3"><a id="GUID-23B361BA-981C-4FA6-8646-30F369C3EDC8" name="GUID-23B361BA-981C-4FA6-8646-30F369C3EDC8"></a><h3 id="DBFSG-GUID-23B361BA-981C-4FA6-8646-30F369C3EDC8" class="sect3">Constants</h3>
               <div>
                  <div class="section">
                     <p>The following <a id="d116419e384" class="indexterm-anchor"></a>constants define the user's status:
                     </p><pre class="oac_no_warn" dir="ltr">ACTIVE          CONSTANT PLS_INTEGER := 1;
INACTIVE        CONSTANT PLS_INTEGER := 2;
UNLOCKED        CONSTANT PLS_INTEGER := 3;
EXPIRED         CONSTANT PLS_INTEGER := 4;
LOCKED          CONSTANT PLS_INTEGER := 5;
</pre><p>The following constants define dynamic role scope:</p><pre class="oac_no_warn" dir="ltr">SESSION_SCOPE   CONSTANT PLS_INTEGER := 0;
REQUEST_SCOPE   CONSTANT PLS_INTEGER := 1;
</pre><p>The following constants define the verifier type:</p><pre class="oac_no_warn" dir="ltr">XS_SHA512       CONSTANT PLS_INTEGER := 2 ;
XS_SALTED_SHA1  CONSTANT PLS_INTEGER := 1 ;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG706"></a><div class="props_rev_3"><a id="GUID-3DF3B7FF-2F1F-48D0-B83D-4F7070395714" name="GUID-3DF3B7FF-2F1F-48D0-B83D-4F7070395714"></a><h3 id="DBFSG-GUID-3DF3B7FF-2F1F-48D0-B83D-4F7070395714" class="sect3">Object Types, Constructor Functions, Synonyms, and Grants</h3>
               <div>
                  <div class="section">
                     <p>The following <a id="d116419e515" class="indexterm-anchor"></a>object types, constructor functions, synonyms, and <code class="codeph">GRANT</code> statements are defined for this package.
                     </p><pre class="oac_no_warn" dir="ltr">-- Type definition for roles granted to the principals
CREATE OR REPLACE TYPE XS$ROLE_GRANT_TYPE AS OBJECT (
-- Member Variables
-- Constants defined in other packages cannot be recognized in a type.
-- e.g.  XS_ADMIN_UTIL.XSNAME_MAXLEN
-- name   VARCHAR2(XS_ADMIN_UTIL.XSNAME_MAXLEN),
  name          VARCHAR2(130),
-- Start date of the effective date
  start_date    TIMESTAMP WITH TIME ZONE,
-- End date of the effective date
  end_date      TIMESTAMP WITH TIME ZONE,

  CONSTRUCTOR FUNCTION XS$ROLE_GRANT_TYPE (
    name       IN VARCHAR2,
    start_date IN TIMESTAMP WITH TIME ZONE:= NULL,
    end_date   IN TIMESTAMP WITH TIME ZONE:= NULL)
  RETURN SELF AS RESULT,

  MEMBER FUNCTION get_role_name RETURN VARCHAR2,
  MEMBER PROCEDURE set_start_date(start_date IN TIMESTAMP WITH TIME ZONE),
  MEMBER FUNCTION get_start_date RETURN TIMESTAMP WITH TIME ZONE,
  MEMBER PROCEDURE set_end_date(end_date IN TIMESTAMP WITH TIME ZONE),
  MEMBER FUNCTION get_end_date RETURN TIMESTAMP WITH TIME ZONE
);

CREATE OR REPLACE TYPE XS$ROLE_GRANT_LIST AS VARRAY(1000) OF XS$ROLE_GRANT_TYPE;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBFSG99299"></a><a id="DBFSG99298"></a><div class="props_rev_3"><a id="GUID-D9EA0B89-BC59-49DB-9E12-4A2A19CEFCDA" name="GUID-D9EA0B89-BC59-49DB-9E12-4A2A19CEFCDA"></a><h3 id="DBFSG-GUID-D9EA0B89-BC59-49DB-9E12-4A2A19CEFCDA" class="sect3">Summary of XS_PRINCIPAL Subprograms</h3>
               <div>
                  <div class="tblformal" id="GUID-D9EA0B89-BC59-49DB-9E12-4A2A19CEFCDA__GUID-5D767ACE-A940-42A6-9F4F-106DDEAF503B">
                     <p class="titleintable">Table 11-10 Summary of XS_PRINCIPAL Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of XS_PRINCIPAL Subprograms" summary="This table has 2 columns. Column 1 is the name of the subprogram and column 2 is its description." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d116419e648">Subprogram</th>
                              <th align="left" valign="bottom" width="56%" id="d116419e651">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e656" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D">CREATE_USER Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e656 d116419e651 ">
                                 <p>Creates an application user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e664" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC">CREATE_ROLE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e664 d116419e651 ">
                                 <p>Creates an application role.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e672" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5">CREATE_DYNAMIC_ROLE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e672 d116419e651 ">
                                 <p>Creates a dynamic application role.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e680" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5">GRANT_ROLES Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e680 d116419e651 ">
                                 <p>Grants one or more application roles to an application principal. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e688" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-58221815-3052-4727-8716-4CE33AB29565">REVOKE_ROLES Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e688 d116419e651 ">
                                 <p>Revokes one or more roles from an application principal.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e696" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A">ADD_PROXY_USER Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e696 d116419e651 ">
                                 <p>Adds a proxy user for a target application user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e704" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-DC100E64-4F75-4261-9055-36365D99ED0A">REMOVE_PROXY_USERS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e704 d116419e651 ">
                                 <p>Removes specified proxy user or all proxy users for a target application user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e712" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA">ADD_PROXY_TO_DBUSER</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e712 d116419e651 ">
                                 <p>Add a proxy application user to a database user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e720" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-5CC1A868-11C6-4649-8C72-9C351FD42895">REMOVE_PROXY_FROM_DBUSER Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e720 d116419e651 ">
                                 <p>Remove a proxy application user from a database user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e728" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC">SET_EFFECTIVE_DATES Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e728 d116419e651 ">
                                 <p>Sets or modifies the effective dates for an application user or role.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e736" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D">SET_DYNAMIC_ROLE_DURATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e736 d116419e651 ">
                                 <p>Sets or modifies the duration, in minutes, for a dynamic application role.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e745" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E">SET_DYNAMIC_ROLE_SCOPE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e745 d116419e651 ">
                                 <p>Sets or modifies the scope of a dynamic application role, such as <code class="codeph">REQUEST_SCOPE</code> or <code class="codeph">SESSION_SCOPE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e759" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5">ENABLE_BY_DEFAULT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e759 d116419e651 ">
                                 <p>Enables or disables an application role. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e767" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1">ENABLE_ROLES_BY_DEFAULT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e767 d116419e651 ">
                                 <p>Enables or disables all directly granted roles for the specified user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e775" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-8FC52A23-35DA-4A50-8149-6850F56D6467">SET_USER_SCHEMA Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e775 d116419e651 ">
                                 <p>Sets the database schema for an application user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e783" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-054787C6-120D-4567-8F0E-404DBB408F7B">SET_GUID Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e783 d116419e651 ">
                                 <p>Sets the GUID for an external user or role.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e791" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A">SET_ACL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e791 d116419e651 ">
                                 <p>Sets the Real Application Security session privilege for an application user or a dynamic role.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e799" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F">SET_PROFILE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e799 d116419e651 ">
                                 <p>Sets the application user's profile. This is a set of resource limits and password parameters that restrict database usage and database instance resources for a Real Application Security application user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e807" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-D771034A-250B-452C-B475-340143281305">SET_USER_STATUS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e807 d116419e651 ">
                                 <p>Sets or modifies the status of an application user account, such as <code class="codeph">ACTIVE</code>, <code class="codeph">INACTIVE</code>, <code class="codeph">UNLOCK</code>, <code class="codeph">LOCKED</code>, or <code class="codeph">EXPIRED</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e830" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD">SET_PASSWORD Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e830 d116419e651 ">
                                 <p>Sets or modifies the password for an application user account.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e838" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A">SET_VERIFIER Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e838 d116419e651 ">
                                 <p>Sets or modifies the verifier for an application user account.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e846" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5">SET_DESCRIPTION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e846 d116419e651 ">
                                 <p>Sets the description string for an application user or role.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d116419e855" headers="d116419e648 ">
                                 <p><a href="XS_PRINCIPAL-package.html#GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8">DELETE_PRINCIPAL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d116419e855 d116419e651 ">
                                 <p>Drops an application user or role.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>This section describes the following XS_PRINCIPAL subprograms:</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DBFSG99309"></a><a id="DBFSG99310"></a><a id="DBFSG99311"></a><a id="DBFSG99308"></a><div class="props_rev_3"><a id="GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D" name="GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D"></a><h4 id="DBFSG-GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D" class="sect4">CREATE_USER Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">CREATE_USER</code> procedure creates a new application user. You need the <code class="codeph">CREATE USER</code> system privilege to create an application user.
                        </p>
                        <p>You can use the <a href="real-application-security-data-dictionary-views.html#GUID-97B36DFE-DA8F-41E3-9141-37C8B0E6E2ED">DBA_XS_USERS</a> data dictionary view to get a list of all application users.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D__GUID-C617785B-8DBB-4D5A-AC9E-0D3A1E53D8E0">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE_USER ( 
  name            IN VARCHAR2,
  schema          IN VARCHAR2    := NULL,
  status          IN PLS_INTEGER := ACTIVE,
  start_date      IN TIMESTAMP WITH TIME ZONE  := NULL,
  end_date        IN TIMESTAMP WITH TIME ZONE  := NULL,
  guid            IN RAW         := NULL,
  external_source IN VARCHAR2    := NULL,
  description     IN VARCHAR2    := NULL,
  acl             IN VARCHAR2    := NULL); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D__GUID-731BE132-F537-4096-B5A0-E07BC8317342">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D__GUID-BBCDF517-E2D6-40E4-B564-711F50BC6EDF">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="CREATE_USER parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d116419e1017">Parameter</th>
                                 <th align="left" valign="bottom" width="73%" id="d116419e1020">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1025" headers="d116419e1017 ">
                                    <p><code class="codeph">name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1025 d116419e1020 ">
                                    <p>The name of the application user to be created.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1033" headers="d116419e1017 ">
                                    <p><code class="codeph">status</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1033 d116419e1020 ">
                                    <p>The status of the user on creation. This can be one of the following values:</p>
                                    <p><code class="codeph">ACTIVE</code>, <code class="codeph">INACTIVE</code>.
                                    </p>
                                    <p>The default value is <code class="codeph">ACTIVE</code>.
                                    </p>
                                    <p>The values <code class="codeph">PASSWORDEXPIRED</code> and <code class="codeph">LOCKED</code> are deprecated beginning with Oracle Database Release 12.1 (12.1.0.2).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1061" headers="d116419e1017 ">
                                    <p><code class="codeph">schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1061 d116419e1020 ">
                                    <p>The database schema to be associated with the user. This is optional.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1069" headers="d116419e1017 ">
                                    <p><code class="codeph">start_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1069 d116419e1020 ">
                                    <p>The date from which the user account becomes effective. This is optional.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1077" headers="d116419e1017 ">
                                    <p><code class="codeph">end_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1077 d116419e1020 ">
                                    <p>The date on which the user account becomes ineffective. This is optional. </p>
                                    <p>If an <code class="codeph">end_date</code> is specified, then the <code class="codeph">start_date</code> must also be specified.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1093" headers="d116419e1017 ">
                                    <p><code class="codeph">guid</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1093 d116419e1020 ">
                                    <p>GUID of the user. This is valid for external users only.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1101" headers="d116419e1017 ">
                                    <p><code class="codeph">external_source</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1101 d116419e1020 ">
                                    <p>Name of the system that is the source for this user. This is optional.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1109" headers="d116419e1017 ">
                                    <p><code class="codeph">description</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1109 d116419e1020 ">
                                    <p>A description for the user account. This is optional.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d116419e1117" headers="d116419e1017 ">
                                    <p><code class="codeph">acl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d116419e1117 d116419e1020 ">
                                    <p>The Real Application Security session privilege. The default value is <code class="codeph">NULL</code> meaning no ACL is set on the principal. The ACL must reside in the <code class="codeph">SYS</code> schema, or else an error is thrown.
                                    </p>
                                    <p>The Real Application Security session privilege to be set on the principal must follow the naming convention for Real Application Security objects and must exist before this procedure is called. </p>
                                    <p>The session privilege is enforced as per the ACL set on the Real Application Security application user involved in the session operation. For example, a create session operation requires the caller to have the <code class="codeph">CREATE SESSION</code> privilege in the ACL set on the Real Application Security application user. 
                                    </p>
                                    <p>Principal-specific ACL grants take precedence over existing system-level session privilege grants. A privilege check is first done in the ACL associated with the principal and if it succeeds, the operation proceeds. If the privilege check finds deny, the operation fails with an insufficient privilege error. If neither grant nor deny is found, the check is done in the system ACL associated with the <code class="codeph">SESSION_SC</code> security class and the operation succeeds or fails based on this privilege check result.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-03D147A5-36A8-4ACE-BDEA-2D7A5D8F046D__GUID-BE95C765-E262-41DA-BCAE-7E125E3B7D88">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example creates a user:</p><pre class="oac_no_warn" dir="ltr">BEGIN
 SYS.XS_PRINCIPAL.CREATE_USER('TEST1');
END;
</pre><p>The following example creates a user, and also specifies a schema and start date for the user:</p><pre class="oac_no_warn" dir="ltr">DECLARE 
st_date TIMESTAMP WITH TIME ZONE;
BEGIN
  st_date := TO_TIMESTAMP_TZ('2010-06-18 11:00:00 -5:00','YYYY-MM-DD HH:MI:SS
  TZH:TZM');
  SYS.XS_PRINCIPAL.CREATE_USER(name=&gt;'u2',
                               schema=&gt;'scott',
                               start_date=&gt;st_date);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99313"></a><a id="DBFSG99314"></a><a id="DBFSG99315"></a><a id="DBFSG99312"></a><div class="props_rev_3"><a id="GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC" name="GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC"></a><h4 id="DBFSG-GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC" class="sect4">CREATE_ROLE Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">CREATE_ROLE</code> procedure creates a new application role. You need the <code class="codeph">CREATE ROLE</code> system privilege to create a regular application role.
                        </p>
                        <p>You can use the <a href="real-application-security-data-dictionary-views.html#GUID-05DD81BD-98F4-4409-B42A-CA76EA4CED76">DBA_XS_ROLES</a> data dictionary view to get the list of application roles together with their attributes, like start date and end date
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC__GUID-2A2ABE4E-617A-4A62-BC48-DCC9D8DD34BC">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE_ROLE (   name            IN VARCHAR2,
  enabled         IN BOOLEAN  := FALSE,
  start_date      IN TIMESTAMP WITH TIME ZONE := NULL,
  end_date        IN TIMESTAMP WITH TIME ZONE := NULL,
  guid            IN RAW      := NULL,
  external_source IN VARCHAR2 := NULL,
  description     IN VARCHAR2 := NULL); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC__GUID-E0337E1E-1374-48E2-A5A9-D1F2816EC855">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC__GUID-6263C9AD-9610-440B-9A36-CE47D3F195BF">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="CREATE_ROLE parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d116419e1306">Parameter</th>
                                 <th align="left" valign="bottom" width="74%" id="d116419e1309">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d116419e1314" headers="d116419e1306 ">
                                    <p><code class="codeph">name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d116419e1314 d116419e1309 ">
                                    <p>The name of the application role to be created.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d116419e1322" headers="d116419e1306 ">
                                    <p><code class="codeph">enabled</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d116419e1322 d116419e1309 ">
                                    <p>Specifies whether the role is enabled on creation. The default value is <code class="codeph">FALSE</code>, which means that the role is disabled on creation.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d116419e1333" headers="d116419e1306 ">
                                    <p><code class="codeph">start_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d116419e1333 d116419e1309 ">
                                    <p>The date from which the role becomes effective. This is optional.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d116419e1341" headers="d116419e1306 ">
                                    <p><code class="codeph">end_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d116419e1341 d116419e1309 ">
                                    <p>The date on which the role becomes ineffective. This is optional. </p>
                                    <p>If an <code class="codeph">end_date</code> is specified, then the <code class="codeph">start_date</code> must also be specified.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d116419e1357" headers="d116419e1306 ">
                                    <p><code class="codeph">guid</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d116419e1357 d116419e1309 ">
                                    <p>GUID of the role. This is applicable for external roles only.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d116419e1365" headers="d116419e1306 ">
                                    <p><code class="codeph">external_source</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d116419e1365 d116419e1309 ">
                                    <p>The name of the system that is the source for this role. This is optional.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d116419e1373" headers="d116419e1306 ">
                                    <p><code class="codeph">description</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d116419e1373 d116419e1309 ">
                                    <p>An optional description for the role.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A1D0CBF-2A1B-4050-BE1D-4C11F83D2FDC__GUID-12FC42EE-F81C-48FF-BE40-74B615DDA68B">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example creates an application role, called <code class="codeph">hrmgr</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.CREATE_ROLE('hrmgr');
END;
</pre><p>The following example creates an application role called <code class="codeph">hrrep</code>. It also enables the role, and assigns the current date as start date for the role.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE 
  st_date TIMESTAMP WITH TIME ZONE;
BEGIN
  st_date := SYSTIMESTAMP;
  SYS.XS_PRINCIPAL.CREATE_ROLE(name=&gt;'hrrep',
                               enabled=&gt;true,
                               start_date=&gt;st_date);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99317"></a><a id="DBFSG99318"></a><a id="DBFSG99319"></a><a id="DBFSG99316"></a><div class="props_rev_3"><a id="GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5" name="GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5"></a><h4 id="DBFSG-GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5" class="sect4">CREATE_DYNAMIC_ROLE Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">CREATE_DYNAMIC_ROLE</code> procedure creates a new dynamic application role. Dynamic application roles can be dynamically enabled or disabled by an application, based on the criteria defined by the application. You need the <code class="codeph">CREATE ROLE</code> system privilege to create an dynamic application role.
                        </p>
                        <p>You can use the <a href="real-application-security-data-dictionary-views.html#GUID-3F8717CD-401D-4264-9739-5612D3D82D32">DBA_XS_DYNAMIC_ROLES</a> data dictionary view to get a list of all dynamic application roles together with their attributes, like duration.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5__GUID-2468D2A6-128D-44B5-9621-ADB86D0C9F4E">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE_DYNAMIC_ROLE (
  name        IN VARCHAR2,
  duration    IN PLS_INTEGER := NULL, 
  scope       IN PLS_INTEGER := XS_PRINCIPAL.SESSION_SCOPE,
  description IN VARCHAR2    := NULL,
  acl         IN VARCHAR2    := NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5__GUID-32AE6995-BEA8-44AC-BC5D-F12F2E2BE68B">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5__GUID-F0EDC48D-C7C5-4D60-9997-B997A406FE88">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="CREATE_DYNAMIC_ROLE parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e1551">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e1554">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1559" headers="d116419e1551 ">
                                    <p><code class="codeph">name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1559 d116419e1554 ">
                                    <p>The name of the dynamic application role to be created.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1567" headers="d116419e1551 ">
                                    <p><code class="codeph">duration</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1567 d116419e1554 ">
                                    <p>The duration (in minutes) of the dynamic application role. This is an optional attribute.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1575" headers="d116419e1551 ">
                                    <p><code class="codeph">scope</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1575 d116419e1554 ">
                                    <p>The scope attribute of the dynamic application role. The possible values are <code class="codeph">SESSION_SCOPE</code> and <code class="codeph">REQUEST_SCOPE</code>. The default value is <code class="codeph">XS_PRINCIPAL.SESSION_SCOPE.</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1591" headers="d116419e1551 ">
                                    <p><code class="codeph">description</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1591 d116419e1554 ">
                                    <p>An optional description for the dynamic application role.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1599" headers="d116419e1551 ">
                                    <p><code class="codeph">acl</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1599 d116419e1554 ">
                                    <p>The Real Application Security session privilege. The default value is <code class="codeph">NULL</code> meaning no ACL is set on the principal. The ACL must reside in the <code class="codeph">SYS</code> schema, or else an error is thrown.
                                    </p>
                                    <p>The Real Application Security session privilege to be set on the principal must follow the naming convention for Real Application Security objects and must exist before this procedure is called. </p>
                                    <p>The session privilege is enforced as per the ACL set on the Real Application Security dynamic role involved in the session operation. For example, the attach operation with dynamic role requires the <code class="codeph">ENABLE_DYNAMIC_ROLE</code> privilege in the ACLs to be set on the dynamic roles. 
                                    </p>
                                    <p>Principal-specific ACL grants take precedence over existing system-level session privilege grants. A privilege check is first done in the ACL associated with the principal and if it succeeds, the operation proceeds. If the privilege check finds deny, the operation fails with an insufficient privilege error. If neither grant nor deny is found, the check is done in the system ACL associated with the <code class="codeph">SESSION_SC</code> security class and the operation succeeds or fails based on this privilege check result.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5D3C1B51-E0D8-45F0-B9E2-40EBE4C1F3C5__GUID-B0EA0644-EFB6-45EA-B447-033E0D8F1E55">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example creates a dynamic application role, called <code class="codeph">sslrole</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.CREATE_DYNAMIC_ROLE('sslrole');
END;
</pre><p>The following example creates a dynamic application role called <code class="codeph">reprole</code>. It also specifies a duration of 100 minutes for the role, and chooses the request scope for the role.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.CREATE_DYNAMIC_ROLE(name=&gt;'reprole',
                                       duration=&gt;100,
                                       scope=&gt;XS_PRINCIPAL.REQUEST_SCOPE);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99321"></a><a id="DBFSG99322"></a><a id="DBFSG99323"></a><a id="DBFSG99320"></a><div class="props_rev_3"><a id="GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5" name="GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5"></a><h4 id="DBFSG-GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5" class="sect4">GRANT_ROLES Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">GRANT_ROLES</code> procedure grants one or more application roles to an application principal. You need the <code class="codeph">GRANT ANY ROLE</code> system privilege to grant application roles.
                        </p>
                        <p>You can use the <a href="real-application-security-data-dictionary-views.html#GUID-FCD4BCA4-1D7A-417F-8D5D-9B1B41E065FD">DBA_XS_ROLE_GRANTS</a> data dictionary view to get the list of all role grants together with their details, like start date and end date.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5__GUID-D090E1DA-BF35-4675-942B-BA00DD901F4D">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">GRANT_ROLES (
grantee       IN VARCHAR2,
role          IN VARCHAR2,
start_date    IN TIMESTAMP WITH TIME ZONE:= NULL,
end_date      IN TIMESTAMP WITH TIME ZONE:= NULL,);

GRANT_ROLES (
grantee   IN VARCHAR2,
role_list IN XS$ROLE_GRANT_LIST);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5__GUID-665687F2-B444-4F3B-961D-D62AC363C950">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5__GUID-96572A5B-3C40-4005-B37A-787B90AF5BD9">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="GRANT_ROLES parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e1794">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e1797">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1802" headers="d116419e1794 ">
                                    <p><code class="codeph">grantee</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1802 d116419e1797 ">
                                    <p>The name of the principal to which the role is granted.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1810" headers="d116419e1794 ">
                                    <p><code class="codeph">role</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1810 d116419e1797 ">
                                    <p>The name of the role to be granted.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1818" headers="d116419e1794 ">
                                    <p><code class="codeph">role_list</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1818 d116419e1797 ">
                                    <p>The list of roles to be granted.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1826" headers="d116419e1794 ">
                                    <p><code class="codeph">start_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1826 d116419e1797 ">
                                    <p>The date on which the grant takes effect. This is an optional parameter.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e1834" headers="d116419e1794 ">
                                    <p><code class="codeph">end_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e1834 d116419e1797 ">
                                    <p>The date until which the grant is in effect. This is an optional parameter.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2DF77823-B22F-4B0A-8D57-92066B3235F5__GUID-98E570C0-BE29-4A67-92B5-0F5AA1050678">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example grants the <code class="codeph">HRREP</code> role to user <code class="codeph">SMAVRIS</code> with a start date and an end date specified:
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE 
  st_date TIMESTAMP WITH TIME ZONE;
  end_date TIMESTAMP WITH TIME ZONE;
BEGIN
  st_date := TO_TIMESTAMP_TZ('2010-06-18 11:00:00 -5:00','YYYY-MM-DD HH:MI:SS
                              TZH:TZM');
  end_date := TO_TIMESTAMP_Tz('2011-06-18 11:00:00 -5:00','YYYY-MM-DD HH:MI:SS
                               TZH:TZM');
  SYS.XS_PRINCIPAL.GRANT_ROLES('SMAVRIS', 'HRREP', st_date, end_date);
END;
</pre><p>The following example grants the <code class="codeph">HRREP</code> and <code class="codeph">HRMGR</code> roles to user <code class="codeph">SMAVRIS</code>:
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE 
  rg_list XS$ROLE_GRANT_LIST; 
BEGIN
  rg_list := XS$ROLE_GRANT_LIST(XS$ROLE_GRANT_TYPE('HRREP'),
                                XS$ROLE_GRANT_TYPE('HRMGR'));
 
  SYS.XS_PRINCIPAL.GRANT_ROLES('SMAVRIS', rg_list);
END;</pre><p>The following example shows how to grant the role <code class="codeph">XSCONNECT</code> to user <code class="codeph">XSUSER</code>. This grant will allow user <code class="codeph"><code class="codeph">XSUSER</code> </code>using its password to connect to a database.
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SYS.XS_PRINCIPAL.GRANT_ROLES('XSUSER', 'XSCONNECT');</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99944"></a><a id="DBFSG99945"></a><a id="DBFSG99946"></a><a id="DBFSG99943"></a><div class="props_rev_3"><a id="GUID-58221815-3052-4727-8716-4CE33AB29565" name="GUID-58221815-3052-4727-8716-4CE33AB29565"></a><h4 id="DBFSG-GUID-58221815-3052-4727-8716-4CE33AB29565" class="sect4">REVOKE_ROLES Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">REVOKE_ROLES</code> procedure revokes the specified role(s) from the specified grantee. If no roles are specified, then all application roles are revoked from the grantee.You need the <code class="codeph">GRANT ANY ROLE</code> system privilege to grant or revoke roles.
                        </p>
                        <p>You can use the <a href="real-application-security-data-dictionary-views.html#GUID-FCD4BCA4-1D7A-417F-8D5D-9B1B41E065FD">DBA_XS_ROLE_GRANTS</a> data dictionary view to get the list of all role grants together with their details, like start date and end date.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58221815-3052-4727-8716-4CE33AB29565__GUID-F93C6324-7FFE-406C-8076-431CD8738669">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">REVOKE_ROLES (
  grantee   IN VARCHAR2,
  role      IN VARCHAR2);

REVOKE_ROLES (
  grantee   IN VARCHAR2,
  role_list IN XS$NAME_LIST); 

REVOKE_ROLES (
  grantee IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58221815-3052-4727-8716-4CE33AB29565__GUID-635A0006-7BE8-4860-B3DD-74FC82F944DC">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-58221815-3052-4727-8716-4CE33AB29565__GUID-27842F5F-782E-4EE4-952F-C285AAD6690E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="REVOKE_ROLES parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e2035">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e2038">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2043" headers="d116419e2035 ">
                                    <p><code class="codeph">grantee</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2043 d116419e2038 ">
                                    <p>The application principal from whom the role(s) are to be revoked.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2051" headers="d116419e2035 ">
                                    <p><code class="codeph">role</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2051 d116419e2038 ">
                                    <p>The name of the application role that is to be revoked.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2059" headers="d116419e2035 ">
                                    <p><code class="codeph">role_list</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2059 d116419e2038 ">
                                    <p>The list of role names that are to be revoked.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58221815-3052-4727-8716-4CE33AB29565__GUID-675983A7-4FD4-4647-AB2E-293AD8A456B5">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example revokes the <code class="codeph">HRREP</code> role from user <code class="codeph">SMAVRIS</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  XS_PRINCIPAL.REVOKE_ROLES('SMAVRIS','HRREP');
END;
</pre><p>The following example revokes the <code class="codeph">HRREP</code> and <code class="codeph">HRMGR</code> roles from user <code class="codeph">SMAVRIS</code>:
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  role_list XS$NAME_LIST; 
BEGIN
  role_list := XS$NAME_LIST('HRREP','HRMGR');
  SYS.XS_PRINCIPAL.REVOKE_ROLES('SMAVRIS', role_list);
END;
</pre><p>The following example revokes all granted roles from user SMAVRIS:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.REVOKE_ROLES('SMAVRIS');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99948"></a><a id="DBFSG99949"></a><a id="DBFSG99950"></a><a id="DBFSG99947"></a><div class="props_rev_3"><a id="GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A" name="GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A"></a><h4 id="DBFSG-GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A" class="sect4">ADD_PROXY_USER Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">ADD_PROXY_USER</code> adds a target user for the specified application user. This allows the application user to proxy as the target user. There are two signatures for this procedure. The first signature allows you to specify a subset of roles of the target user using the <code class="codeph">target_roles</code> parameter that are to be assigned to the proxy user. For the second signature there is no <code class="codeph">target_roles</code> parameter, so all roles of the target user are assigned to the proxy user.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to add or remove a proxy user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A__GUID-842B0FDC-24B9-41D6-98BC-CAECF847EAF6">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ADD_PROXY_USER (
  target_user  IN VARCHAR2,
  proxy_user   IN VARCHAR2,
  target_roles IN XS$NAME_LIST);

ADD_PROXY_USER (
  target_user  IN VARCHAR2,
  proxy_user   IN VARCHAR2);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A__GUID-90A5A8A4-2122-42CF-A31B-46678EA7841F">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A__GUID-490881E3-6FED-4483-A352-ED3EBA3487FD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="ADD_PROXY_USER parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e2253">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e2256">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2261" headers="d116419e2253 ">
                                    <p><code class="codeph">target_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2261 d116419e2256 ">
                                    <p>The name of the target application user that can be proxied to. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2269" headers="d116419e2253 ">
                                    <p><code class="codeph">proxy_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2269 d116419e2256 ">
                                    <p>The name of the proxy application user.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2277" headers="d116419e2253 ">
                                    <p><code class="codeph">target_roles</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2277 d116419e2256 ">
                                    <p>A list of target user roles that can be proxied by the proxy user. This parameter is mandatory. If you pass an explicit <code class="codeph">NULL</code> value, then this would be a case of configuring the proxy user without any role of the target user; otherwise, the <code class="codeph">proxy_user</code> parameter uses the value you specify for the <code class="codeph">target_roles</code> parameter.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3B69AF6F-57AF-425C-B46E-6148AD92B39A__GUID-484E6F48-26E3-49CC-901E-D1DD9849CC38">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example enables user <code class="codeph">DJONES</code> to proxy as target user <code class="codeph">SMAVRIS</code>. The target roles granted to <code class="codeph">DJONES</code> are <code class="codeph">HRREP</code> and <code class="codeph">HRMGR</code>.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  pxy_roles XS$NAME_LIST; 
BEGIN
  pxy_roles := XS$NAME_LIST('HRREP','HRMGR');
  SYS.XS_PRINCIPAL.ADD_PROXY_USER('SMAVRIS','DJONES', pxy_roles);
END;
</pre><p>The following example passes an explicit <code class="codeph">NULL</code> value for the target role; in other words, it assigns no roles of the target user 'SMAVRIS' to the proxy user 'DJONES'.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.ADD_PROXY_USER('SMAVRIS','DJONES', NULL);
END;
</pre><p>The following example assigns all roles of target user 'SMAVRIS' to proxy user 'DJONES'.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.ADD_PROXY_USER('SMAVRIS','DJONES');
END;
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99952"></a><a id="DBFSG99953"></a><a id="DBFSG99954"></a><a id="DBFSG99951"></a><div class="props_rev_3"><a id="GUID-DC100E64-4F75-4261-9055-36365D99ED0A" name="GUID-DC100E64-4F75-4261-9055-36365D99ED0A"></a><h4 id="DBFSG-GUID-DC100E64-4F75-4261-9055-36365D99ED0A" class="sect4">REMOVE_PROXY_USERS Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">REMOVE_PROXY_USERS</code> procedure disassociates one or all proxy users for a target application user. The associated proxy roles are automatically removed for the proxy users.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to add or remove a proxy user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DC100E64-4F75-4261-9055-36365D99ED0A__GUID-CCD3222C-AE78-4685-B63A-F93DA47199DC">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">REMOVE_PROXY_USERS (
  target_user  IN VARCHAR2); 

REMOVE_PROXY_USERS (
  target_user IN VARCHAR2,
  proxy_user  IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DC100E64-4F75-4261-9055-36365D99ED0A__GUID-EFCC3ED0-22C6-4556-8EEC-5A0974524F38">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DC100E64-4F75-4261-9055-36365D99ED0A__GUID-3720BFA6-3EF9-4459-8E92-8F794F425A0D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="REMOVE_PROXY_USERS  parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e2476">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e2479">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2484" headers="d116419e2476 ">
                                    <p><code class="codeph">target_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2484 d116419e2479 ">
                                    <p>The target application user whose proxies are to be disassociated.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2492" headers="d116419e2476 ">
                                    <p><code class="codeph">proxy_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2492 d116419e2479 ">
                                    <p>The proxy application user that needs to be disassociated from the target user.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DC100E64-4F75-4261-9055-36365D99ED0A__GUID-AE87977B-BD34-4723-8412-DAE845502602">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example removes all proxy users for target user <code class="codeph">SMAVRIS</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.REMOVE_PROXY_USERS('SMAVRIS');
END;
</pre><p>The following example disassociates the proxy user <code class="codeph">DJONES</code> from the target user <code class="codeph">SMAVRIS</code>: 
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.REMOVE_PROXY_USERS('SMAVRIS','DJONES');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG671"></a><a id="DBFSG672"></a><a id="DBFSG673"></a><a id="DBFSG670"></a><div class="props_rev_3"><a id="GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA" name="GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA"></a><h4 id="DBFSG-GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA" class="sect4">ADD_PROXY_TO_DBUSER</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">ADD_PROXY_TO_DBUSER</code> adds the specified target proxy application user to the specified database user. The application user must be a direct logon user. This allows the application user to proxy as the target database user. By default, all roles assigned to the target user can be used by the proxy user. Similar to Oracle Database, the default roles of the target database users would be enabled after connection. Other roles assigned to the target database user can be set by using the <code class="codeph">SET ROLE</code> statement.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to add a proxy user to a database user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA__GUID-A5E0D66C-248F-432F-9FDE-9AD69DCC2C60">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ADD_PROXY_TO_DBUSER (
  database_user  IN VARCHAR2,
  proxy_user     IN VARCHAR2,
  is_external    IN BOOLEAN := FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA__GUID-2C9DF6BB-CB30-4BA7-A7E6-0495D3844C12">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA__GUID-02B8FBA0-E278-425C-A91C-378AAA94B534">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="ADD_PROXY_TO_DBUSER  parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e2672">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e2675">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2680" headers="d116419e2672 ">
                                    <p><code class="codeph">database_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2680 d116419e2675 ">
                                    <p>The name of the target database user that can be proxied to.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2688" headers="d116419e2672 ">
                                    <p><code class="codeph">proxy_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2688 d116419e2675 ">
                                    <p>The name of the proxy application user.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2696" headers="d116419e2672 ">
                                    <p><code class="codeph">is_external</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2696 d116419e2675 ">
                                    <p>The parameter to indicate whether the user is an external user or a regular Real Application Security application user.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-52BC2129-A0C2-49C6-9DE7-1712D310EAFA__GUID-245B0A64-2625-43C2-8381-5DDAE2971232">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example enables application user <code class="codeph">DJONES</code> to proxy as target database user <code class="codeph">SMAVRIS</code>.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.ADD_PROXY_TO_DBUSER('SMAVRIS','DJONES', TRUE);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG675"></a><a id="DBFSG676"></a><a id="DBFSG677"></a><a id="DBFSG674"></a><div class="props_rev_3"><a id="GUID-5CC1A868-11C6-4649-8C72-9C351FD42895" name="GUID-5CC1A868-11C6-4649-8C72-9C351FD42895"></a><h4 id="DBFSG-GUID-5CC1A868-11C6-4649-8C72-9C351FD42895" class="sect4">REMOVE_PROXY_FROM_DBUSER Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">REMOVE_PROXY_FROM_DBUSER</code> procedure disassociates a proxy application user from a database user. The associated proxy roles are automatically removed from the application user.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to remove a proxy user from a database user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CC1A868-11C6-4649-8C72-9C351FD42895__GUID-F73FCF1D-73F5-475F-92BB-F64A919672D6">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">REMOVE_PROXY_FROM_DBUSER (
  database_user IN VARCHAR2,
  proxy_user    IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CC1A868-11C6-4649-8C72-9C351FD42895__GUID-54AEBD58-2F19-487A-92AD-9CBDC30272C0">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5CC1A868-11C6-4649-8C72-9C351FD42895__GUID-38779423-3EE8-4D76-92AC-3392CD68034E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="REMOVE_PROXY_FROM_DBUSER parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e2867">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e2870">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2875" headers="d116419e2867 ">
                                    <p><code class="codeph">database_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2875 d116419e2870 ">
                                    <p>The target database user whose proxies are to be disassociated.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e2883" headers="d116419e2867 ">
                                    <p><code class="codeph">proxy_user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e2883 d116419e2870 ">
                                    <p>The proxy application user that needs to be disassociated from the target database user.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5CC1A868-11C6-4649-8C72-9C351FD42895__GUID-5AD059A2-BB1F-4103-9EA6-CBA77763E464">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example disassociates the proxy user <code class="codeph">DJONES</code> from the target database user <code class="codeph">SMAVRIS</code>: 
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.REMOVE_PROXY_FROM_DBUSER('SMAVRIS','DJONES');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99960"></a><a id="DBFSG99961"></a><a id="DBFSG99962"></a><a id="DBFSG99959"></a><div class="props_rev_3"><a id="GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC" name="GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC"></a><h4 id="DBFSG-GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC" class="sect4">SET_EFFECTIVE_DATES Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_EFFECTIVE_DATES</code> procedure sets or modifies the effective dates for an application user or role. If the <code class="codeph">start_date</code> and <code class="codeph">end_date</code> values are specified as <code class="codeph">NULL</code> by default, then the application user is not currently effective, so the session for the particular application user cannot be created.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to run this procedure for an application user. You need the <code class="codeph">ALTER ANY ROLE</code> system privilege to run this procedure for an application role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC__GUID-BEA8DAFC-3415-4197-BCEF-42FC7CA90342">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_EFFECTIVE_DATES (
  principal         IN VARCHAR2,
  start_date        IN TIMESTAMP WITH TIME ZONE:= NULL,
  end_date          IN TIMESTAMP WITH TIME ZONE:= NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC__GUID-BB4156DF-E8EA-46B3-84AC-0B44A3C3F02B">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC__GUID-A1B162B9-B675-4429-B157-4C49352FDCE6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_EFFECTIVE_DATES  parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e3065">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e3068">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3073" headers="d116419e3065 ">
                                    <p><code class="codeph">principal</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3073 d116419e3068 ">
                                    <p>The name of the application user or role for which effective dates are to be set.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3081" headers="d116419e3065 ">
                                    <p><code class="codeph">start_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3081 d116419e3068 ">
                                    <p>The start date of the effective dates period.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3089" headers="d116419e3065 ">
                                    <p><code class="codeph">end_date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3089 d116419e3068 ">
                                    <p>The end date of the effective dates period.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F7CB8D99-9396-43A8-A4E7-CEC9E52D38DC__GUID-398C2738-9C27-4196-B340-A7D42B5073A0">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets the effective dates for user <code class="codeph">DJONES</code>.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE 
  st_date TIMESTAMP WITH TIME ZONE;
  end_date TIMESTAMP WITH TIME ZONE;
BEGIN
  st_date := TO_TIMESTAMP_TZ('2010-06-18 11:00:00 -5:00','YYYY-MM-DD HH:MI:SS
                              TZH:TZM');
  end_date := TO_TIMESTAMP_Tz('2011-06-18 11:00:00 -5:00','YYYY-MM-DD HH:MI:SS
                               TZH:TZM');
  SYS.XS_PRINCIPAL.SET_EFFECTIVE_DATES(principal=&gt;'DJONES', 
                                       start_date=&gt;st_date,end_date=&gt;end_date);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99964"></a><a id="DBFSG99965"></a><a id="DBFSG99966"></a><a id="DBFSG99963"></a><div class="props_rev_3"><a id="GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D" name="GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D"></a><h4 id="DBFSG-GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D" class="sect4">SET_DYNAMIC_ROLE_DURATION Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_DYNAMIC_ROLE_DURATION</code> procedure sets or modifies the duration for a dynamic application role. The duration is specified in minutes.
                        </p>
                        <p>You need the <code class="codeph">ALTER ANY ROLE</code> system privilege to modify a role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D__GUID-1761BE2B-D754-45C7-883F-3C60E07906EC">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_DYNAMIC_ROLE_DURATION (
  role      IN VARCHAR2,
  duration  IN PLS_INTEGER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D__GUID-2242084E-A893-432C-89A4-923BD52320F8">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D__GUID-21A2ACD8-3544-480F-A1C1-99A633D62C97">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_DYNAMIC_ROLE_DURATION parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e3256">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e3259">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3264" headers="d116419e3256 ">
                                    <p><code class="codeph">role</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3264 d116419e3259 ">
                                    <p>The name of the dynamic application role.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3272" headers="d116419e3256 ">
                                    <p><code class="codeph">duration</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3272 d116419e3259 ">
                                    <p>The duration of the dynamic application role in minutes. This cannot be a negative value.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6069CD83-3AE1-4167-B83B-97A4E4FC5F8D__GUID-FB4BFAB1-8D01-4537-A93D-EBFFB169908E">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets the duration of the <code class="codeph">reprole</code> dynamic application role to 60 minutes.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.SET_DYNAMIC_ROLE_DURATION('reprole',60);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99968"></a><a id="DBFSG99969"></a><a id="DBFSG99970"></a><a id="DBFSG99967"></a><div class="props_rev_3"><a id="GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E" name="GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E"></a><h4 id="DBFSG-GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E" class="sect4">SET_DYNAMIC_ROLE_SCOPE Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_DYNAMIC_ROLE_SCOPE</code> procedure sets or modifies the scope of a dynamic application role. The session (<code class="codeph">SESSION_SCOPE</code>) or request (<code class="codeph">REQUEST_SCOPE</code>) scopes can be chosen.
                        </p>
                        <p>You need the <code class="codeph">ALTER ANY ROLE</code> system privilege to modify a role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E__GUID-90E77006-5C91-4407-B44C-4AF61AD621CB">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_DYNAMIC_ROLE_SCOPE (
  role      IN VARCHAR2,
  scope     IN PLS_INTEGER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E__GUID-EC04D502-FC82-46F5-A2E0-A304C9288FD4">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E__GUID-54F01E77-2399-49E8-A126-794B55DB9321">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_DYNAMIC_ROLE_SCOPE  parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e3446">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e3449">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3454" headers="d116419e3446 ">
                                    <p><code class="codeph">role</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3454 d116419e3449 ">
                                    <p>The name of the dynamic application role.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3462" headers="d116419e3446 ">
                                    <p><code class="codeph">scope</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3462 d116419e3449 ">
                                    <p>The scope of the dynamic application role to be set. The allowed values are <code class="codeph">XS_PRINCIPAL.REQUEST_SCOPE </code>and <code class="codeph">XS_PRINCIPAL.SESSION_SCOPE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB7AA70A-6E66-478A-ACF8-3BD93C38E59E__GUID-EF43978B-9715-4F1E-AE3F-AD3157445AC3">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets the scope of the <code class="codeph">reprole</code> dynamic application role to request scope:
                        </p><pre class="oac_no_warn" dir="ltr">begin
  SYS.XS_PRINCIPAL.SET_DYNAMIC_ROLE_SCOPE('reprole',XS_PRINCIPAL.REQUEST_SCOPE);
end;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99972"></a><a id="DBFSG99973"></a><a id="DBFSG99974"></a><a id="DBFSG99971"></a><div class="props_rev_3"><a id="GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5" name="GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5"></a><h4 id="DBFSG-GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5" class="sect4">ENABLE_BY_DEFAULT Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">ENABLE_BY_DEFAULT</code> procedure enables or disables a regular application role. 
                        </p>
                        <p>If enabled, then the application role is automatically enabled for the principal to which it is granted. If disabled, then the privileges associated with the application role are not enabled even if the application role is granted to a principal.</p>
                        <p>You need the <code class="codeph">ALTER ANY ROLE</code> system privilege to modify an application role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5__GUID-1C5AD08C-B484-4238-8290-6CEB1F8D10B9">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ENABLE_BY_DEFAULT ( 
  role       IN VARCHAR2,
  enabled    IN BOOLEAN := TRUE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5__GUID-3CF24479-C01F-442F-9F10-9B8B21382D71">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5__GUID-53E56608-DC45-44CB-960A-A6BBACBD0836">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="ENABLE_BY_DEFAULT parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e3637">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e3640">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3645" headers="d116419e3637 ">
                                    <p><code class="codeph">role</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3645 d116419e3640 ">
                                    <p>The name of the regular application role.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3653" headers="d116419e3637 ">
                                    <p><code class="codeph">enabled</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3653 d116419e3640 ">
                                    <p>The <code class="codeph">enabled</code> attribute of the application role. Setting this to <code class="codeph">TRUE</code> marks the application role as being enabled by default. The default value is <code class="codeph">TRUE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4D50076C-E67B-4FF2-9030-4405DC56D9A5__GUID-E935E593-E754-423E-81AF-3925D76B04EF">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets the <code class="codeph">enabled</code> attribute for the <code class="codeph">HRREP</code> application role to <code class="codeph">TRUE</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.ENABLE_BY_DEFAULT('HRREP',TRUE);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99976"></a><a id="DBFSG99977"></a><a id="DBFSG99978"></a><a id="DBFSG99975"></a><div class="props_rev_3"><a id="GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1" name="GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1"></a><h4 id="DBFSG-GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1" class="sect4">ENABLE_ROLES_BY_DEFAULT Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">ENABLE_ROLES_BY_DEFAULT</code> procedure enables or disables all application roles that have been directly granted to an application user.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to run this procedure for an application user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1__GUID-894BE9B1-3F6F-4CFD-9926-8F0E6BD14938">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ENABLE_ROLES_BY_DEFAULT (
  user       IN VARCHAR2,
  enabled    IN BOOLEAN := TRUE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1__GUID-C9970599-8DB7-4F94-8F04-B2B20E74A613">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1__GUID-31F47C7E-A721-4161-B496-06666C1F59F0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="ENABLE_ROLES_BY_DEFAULT  parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e3835">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e3838">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3843" headers="d116419e3835 ">
                                    <p><code class="codeph">user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3843 d116419e3838 ">
                                    <p>The name of the application user.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e3851" headers="d116419e3835 ">
                                    <p><code class="codeph">enabled</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e3851 d116419e3838 ">
                                    <p>The <code class="codeph">enabled</code> attribute for all application roles that have been directly granted to the application user. 
                                    </p>
                                    <p>Setting the enabled attribute to <code class="codeph">TRUE</code> enables all directly granted application roles for the application user. The default value is <code class="codeph">TRUE</code>.
                                    </p>
                                    <p>Setting the enabled attribute to <code class="codeph">FALSE</code> disables all directly granted application roles for the application user.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD6563D5-AC12-411A-9D4D-29A0C00683D1__GUID-A05BB5DB-7B67-4794-8F21-DECC71BD0EDA">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example enables all directly granted roles for application user <code class="codeph">SMAVRIS</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.ENABLE_ROLES_BY_DEFAULT('SMAVRIS',TRUE);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99980"></a><a id="DBFSG99981"></a><a id="DBFSG99982"></a><a id="DBFSG99979"></a><div class="props_rev_3"><a id="GUID-8FC52A23-35DA-4A50-8149-6850F56D6467" name="GUID-8FC52A23-35DA-4A50-8149-6850F56D6467"></a><h4 id="DBFSG-GUID-8FC52A23-35DA-4A50-8149-6850F56D6467" class="sect4">SET_USER_SCHEMA Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_USER_SCHEMA</code> procedure sets the database schema for an application user.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to run this procedure for an application user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8FC52A23-35DA-4A50-8149-6850F56D6467__GUID-9AA344A1-532A-4423-9917-D59A58001D5E">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_USER_SCHEMA (
  user        IN VARCHAR2,
  schema      IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8FC52A23-35DA-4A50-8149-6850F56D6467__GUID-5B8473DA-9B65-4BA4-92ED-202B62B81385">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8FC52A23-35DA-4A50-8149-6850F56D6467__GUID-3F83BB9B-7CEA-4259-8A4F-0E0CA0363606">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_USER_SCHEMA  parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e4035">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e4038">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4043" headers="d116419e4035 ">
                                    <p><code class="codeph">user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4043 d116419e4038 ">
                                    <p>The name of the application user.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4051" headers="d116419e4035 ">
                                    <p><code class="codeph">schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4051 d116419e4038 ">
                                    <p>The name of the database schema to be associated with the user. Setting this to <code class="codeph">NULL</code> removes any schema association.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8FC52A23-35DA-4A50-8149-6850F56D6467__GUID-B3DFC2A1-90E8-4F43-98B8-A723B31BF56D">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example associates the <code class="codeph">HR</code> schema with user <code class="codeph">DJONES</code>.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.SET_USER_SCHEMA('DJONES','HR');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99984"></a><a id="DBFSG99985"></a><a id="DBFSG99986"></a><a id="DBFSG99983"></a><div class="props_rev_3"><a id="GUID-054787C6-120D-4567-8F0E-404DBB408F7B" name="GUID-054787C6-120D-4567-8F0E-404DBB408F7B"></a><h4 id="DBFSG-GUID-054787C6-120D-4567-8F0E-404DBB408F7B" class="sect4">SET_GUID Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_GUID</code> procedure sets the GUID for a principal. The principal must be an external user or role, and the current GUID must be <code class="codeph">NULL</code>.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to run this procedure for an application user. You need the <code class="codeph">ALTER ANY ROLE</code> system privilege to run this procedure for an application role.
                        </p>
                        <div class="infoboxnote" id="GUID-054787C6-120D-4567-8F0E-404DBB408F7B__GUID-B5CBA61B-A341-4BAC-BA10-E1527AD21593">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">external_source</code> attribute for the user must have been set for SET_GUID to work.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-054787C6-120D-4567-8F0E-404DBB408F7B__GUID-4993B0BD-A008-4A77-8732-8202C0EEA9B5">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_GUID (
  principal IN VARCHAR2,
  guid      IN RAW);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-054787C6-120D-4567-8F0E-404DBB408F7B__GUID-F3259F6B-4150-4AFB-BE41-59DC331B595E">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-054787C6-120D-4567-8F0E-404DBB408F7B__GUID-04C1867D-6FB7-426A-8CDA-3B283356AA2B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_GUID parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e4236">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e4239">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4244" headers="d116419e4236 ">
                                    <p><code class="codeph">principal</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4244 d116419e4239 ">
                                    <p>The name of the external user or role.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4252" headers="d116419e4236 ">
                                    <p><code class="codeph">guid</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4252 d116419e4239 ">
                                    <p>The GUID for the external user or role.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-054787C6-120D-4567-8F0E-404DBB408F7B__GUID-BBB74652-E79F-4FAA-A8AA-38D22A643D6E">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets a GUID for user <code class="codeph">Alex</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.SET_GUID('ALEX','7b6cb3a98f8a4e20ac31a37419cc7fa3');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A" name="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A"></a><h4 id="DBFSG-GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A" class="sect4">SET_ACL Procedure</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A__GUID-FBBF2E54-F4BF-4C8A-8954-EB6BAFBF8D85">Purpose</p>
                        <p>The <code class="codeph">SET_ACL</code> procedure sets an ACL on the specified application user or dynamic role. 
                        </p>
                        <p>This procedure requires the caller to have the Real Application Security <code class="codeph">PROVISION</code> privilege as the least privilege. Users with database <code class="codeph">ALTER USER</code> privilege can also call the procedure if the principal is an application user. Users with the database role <code class="codeph">ALTER ROLE</code> privilege can also call this procedure if the principal is a dynamic role. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A__GUID-622D7320-73C3-4E3D-AE5E-D6F99DC2EC74">Syntax</p><pre class="pre codeblock"><code>SET_ACL(principal IN VARCHAR2, 
        acl IN VARCHAR2);</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A__GUID-1AE89E39-85CC-40FA-8890-4B925B494362">Parameters</p>
                        <div class="tblformal" id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A__GUID-C4631289-8395-4F7A-B08C-D64D792FB008">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_ACL parameters." frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d116419e4422">Parameter</th>
                                    <th align="left" valign="bottom" id="d116419e4424">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d116419e4428" headers="d116419e4422 "><code class="codeph">principal</code></td>
                                    <td align="left" valign="top" headers="d116419e4428 d116419e4424 ">
                                       <p>The application user or dynamic role to which the ACL is to be set.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d116419e4435" headers="d116419e4422 "><code class="codeph">acl</code></td>
                                    <td align="left" valign="top" headers="d116419e4435 d116419e4424 ">
                                       <p>The Real Application Security session privilege.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A__GUID-244FEC76-B18C-4E34-81E2-64F3A18453F9">Usage Notes</p>
                        <p>The ACLs must be created in the <code class="codeph">SYS</code> schema.
                        </p>
                        <p>An ACL set on an application user or dynamic role overrides a system-wide ACL. </p>
                        <p>The session privilege will be enforced as per the ACL set on Real Application Security application user or dynamic role involved in the session operation.  For example, a create session operation requires the caller to have the <code class="codeph">CREATE_SESSION</code> privilege in the ACL set on the Real Application Security application user or  the attach operation with dynamic role requires the <code class="codeph">ENABLE_DYNAMIC_ROLE</code> privilege in the ACLs to be set on the dynamic roles.
                        </p>
                        <p>Principal-specific ACL grants take precedence over existing system-level session privilege grants. A privilege check is first done in the ACL associated with the principal and if it succeeds, the operation proceeds. If the privilege check finds deny, the operation fails with an insufficient privilege error. If neither grant nor deny is found, the check is done in the system ACL associated with the <code class="codeph">SESSION_SC</code> security class and the operation succeeds or fails based on this privilege check result.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A__GUID-CBA7C60D-1B43-406E-854C-FB0B355904DB">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A5658C22-562F-48CC-B14D-621A9F6FFE0A__GUID-85990404-F6CF-46D0-A3DF-645945458DBD">
                        <p class="titleinexample">Example 11-1 Set the ACL Privilege CREATE_SESSION on Application User TEST1</p>
                        <p>The following example sets the ACL privilege <code class="codeph">CREATE_SESSION</code> on the specified application user <code class="codeph">test1</code>. 
                        </p><pre class="pre codeblock"><code>BEGIN
  SYS.XS_PRINCIPAL.SET_ACL('test1','CREATE_SESSION');
END;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG803"></a><a id="DBFSG804"></a><a id="DBFSG805"></a><a id="DBFSG802"></a><div class="props_rev_3"><a id="GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F" name="GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F"></a><h4 id="DBFSG-GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F" class="sect4">SET_PROFILE Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_PROFILE</code> procedure sets the application user's profile. The profile is a set of resource limits and password parameters that restrict database usage and database instance resources for a Real Application Security application user. Both the application user and the profile must be existing entities.
                        </p>
                        <p>The user executing this procedure must have the <code class="codeph">ALTER_USER</code> privilege.
                        </p>
                        <p>If a profile that is assigned to an application user is dropped using the cascade option, then the default profile would automatically become activated for that user.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F__GUID-F2BAC73B-4895-458D-86FB-C019579F7316">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_PROFILE (
  user     IN VARCHAR2,
  profile  IN VARCHAR2);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F__GUID-E1D455F2-8AFB-4A07-9F3C-09115E7A8090">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F__GUID-AA9A7837-8E14-47E9-A954-B18F4CA7686C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_GUID parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e4632">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e4635">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4640" headers="d116419e4632 ">
                                    <p><code class="codeph">user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4640 d116419e4635 ">
                                    <p>The name of the Real Application Security application user. This must be an existing application user.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4648" headers="d116419e4632 ">
                                    <p><code class="codeph">profile</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4648 d116419e4635 ">
                                    <p>The name of the profile. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-610D3138-94AF-42FD-B738-B0E86EB7D07F__GUID-F1FE47D9-7557-48AD-B0D2-C08B24EF3F5E">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example creates a profile named <code class="codeph">prof</code> and then sets the profile named <code class="codeph">prof</code> to an application user named <code class="codeph">xsuser</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE PROFILE prof LIMIT PASSWORD_REUSE_TIME 1/1440 PASSWORD_REUSE_MAX 3 PASSWORD_VERIFY_FUNCTION Verify_Pass;

BEGIN
  SYS.XS_PRINCIPAL.SET_PROFILE('xsuser','prof');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99988"></a><a id="DBFSG99989"></a><a id="DBFSG99990"></a><a id="DBFSG99987"></a><div class="props_rev_3"><a id="GUID-D771034A-250B-452C-B475-340143281305" name="GUID-D771034A-250B-452C-B475-340143281305"></a><h4 id="DBFSG-GUID-D771034A-250B-452C-B475-340143281305" class="sect4">SET_USER_STATUS Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_USER_STATUS</code> procedure sets or modifies the status of an application user account.
                        </p>
                        <p>You need the <code class="codeph">ALTER_USER</code> privilege to run this procedure for an application user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D771034A-250B-452C-B475-340143281305__GUID-A72166B8-8692-4315-BE5D-AF38A56A975B">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_USER_STATUS (
  user        IN VARCHAR2,
  status      IN PLS_INTEGER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D771034A-250B-452C-B475-340143281305__GUID-1A339D1C-769D-442F-9403-EFFF830CA9F6">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D771034A-250B-452C-B475-340143281305__GUID-B4FC22E2-DC4B-4B2A-BC6B-1BC7FA3F81C1">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_USER_STATUS parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e4821">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e4824">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4829" headers="d116419e4821 ">
                                    <p><code class="codeph">user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4829 d116419e4824 ">
                                    <p>The name of the user account whose status needs to be set or updated.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e4837" headers="d116419e4821 ">
                                    <p><code class="codeph">status</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e4837 d116419e4824 ">
                                    <p>The new status of the Real Application Security user account. The status values can be divided into several classes:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">ACTIVE</code> and <code class="codeph">INACTIVE</code> - These two account status values will affect the user account's ability to create and attach to an application session.
                                          </p>
                                          <p>When set to <code class="codeph">ACTIVE</code>, it allows the application user to use a direct login account to log into the database with a valid password. The application user is allowed to create and attach to an application session if the account has the required application privileges.
                                          </p>
                                          <p>When set to <code class="codeph">INACTIVE</code>, the application user cannot use a direct login account to log into the database even with a valid password and can not create and attach to an application session.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">UNLOCK</code>, <code class="codeph">LOCKED</code>, or <code class="codeph">EXPIRED</code> - These status values will be checked only for the direct login Real Application Security application user.
                                          </p>
                                          <p>When set to <code class="codeph">UNLOCK</code>, it opens the application user account when the account is <code class="codeph">LOCKED</code> and allows the application user to use a direct login account to log into the database with a valid password. 
                                          </p>
                                          <p>When set to <code class="codeph">LOCKED</code>, it locks the account of the application user. This means user connections using a direct login account will not be allowed even with a valid password. Provided that the user account is <code class="codeph">ACTIVE</code>, a direct login will not succeed when the account is locked, but the user can create and attach to an application session.
                                          </p>
                                          <p>When set to <code class="codeph">EXPIRED</code>, it expires the account of the application user. This means user connections using a direct login account will be allowed for valid passwords; however, the password must be changed at the time of logon.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">PASSWORDEXPIRED</code> (Deprecated) - This status value is deprecated beginning with Release 1 (12.1.0.2). 
                                          </p>
                                       </li>
                                    </ul>
                                    <p>If you try to pass any other value for the parameter <code class="codeph">status</code>, an <code class="codeph">ORA-46152: XS Security - invalid user status specified</code> error is returned.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D771034A-250B-452C-B475-340143281305__GUID-74EC9645-2271-480E-9290-7EF2E067B61D">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets the user status to <code class="codeph">LOCKED</code> for user <code class="codeph">DJONES</code>.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.SET_USER_STATUS('DJONES',XS_PRINCIPAL.LOCKED);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99992"></a><a id="DBFSG99993"></a><a id="DBFSG99994"></a><a id="DBFSG99991"></a><div class="props_rev_3"><a id="GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD" name="GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD"></a><h4 id="DBFSG-GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD" class="sect4">SET_PASSWORD Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_PASSWORD</code> procedure sets or modifies the password for an application user account. When you use the <code class="codeph">SET_PASSWORD</code> procedure, it creates a verifier for you based on the password and the <code class="codeph">type</code> parameter and then inserts the verifier and the value of the <code class="codeph">type</code> parameter into the dictionary table.
                        </p>
                        <p>A direct login Real Application Security user can change his or her own password by providing its value using the <code class="codeph">oldpass</code> parameter. If value of the old password is incorrect, then the failed login count is incremented with each attempt, returning an <code class="codeph">ORA-28008: invalid old password</code> error. The new password is not set until the old supplied password is correct.
                        </p>
                        <p>You need the <code class="codeph">ALTER_USER</code> privilege to run this procedure for an application user or if you are changing the password of other Real Application Security users.
                        </p>
                        <p>Native Real Application Security users synchronized from external ID stores are not allowed to change their own password. These users must change their password in the originating ID store. For example, if the Oracle Internet Directory 11<span class="italic">g</span> Release 1 (11.1.1) is the external store, for end-user self-service use the Oracle Identity Self Service interface provided by Oracle Identity Manager to manage your passwords. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbfsg&amp;id=password_self_service" target="_blank">Fusion Middleware Performing Self Service Tasks with Oracle Identity Manager </a> for more information. You should contact your security administrator to determine if native Real Application Security users are synchronized from an external ID store, and if so, whether password management is provided in your directory server environment for end-user self-service.
                        </p>
                        <p>The <code class="codeph">SET_PASSWORD</code> operation and the SQL*Plus <code class="codeph">PASSWORD</code> command are both blocked on the logical standby database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD__GUID-E4A94378-EED7-4CD9-A0B9-FBEA2F25A05F">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_PASSWORD (
  user      IN VARCHAR2,
  password  IN VARCHAR2,
  type      IN PLS_INTEGER := XS_SHA512,
  opassword IN VARCHAR2 :=NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD__GUID-E0811CB5-DA90-4B26-AEFD-30EFF6154F6F">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD__GUID-FB4DBFAF-CD9C-4A72-A497-3308B4F465D8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_PASSWORD parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e5105">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e5108">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5113" headers="d116419e5105 ">
                                    <p><code class="codeph">user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5113 d116419e5108 ">
                                    <p>The name of the application user account for which the password is to be set.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5121" headers="d116419e5105 ">
                                    <p><code class="codeph">password</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5121 d116419e5108 ">
                                    <p>The password to be set.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5129" headers="d116419e5105 ">
                                    <p><code class="codeph">type</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5129 d116419e5108 ">
                                    <p>The verifier type to be used for the password. The default value is <code class="codeph">XS_SHA512</code>. The verifier type must be one of the following types:
                                    </p>
                                    <p><code class="codeph">XS_SHA512, XS_SALTED_SHA1</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5143" headers="d116419e5105 ">
                                    <p><code class="codeph">opassword</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5143 d116419e5108 ">
                                    <p>The old password. This parameter is required if the Real Application Security user is changing his or her own password. If not provided, then the user must have the required privilege to change his or her own password.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB88CD3F-89B0-4C25-A404-D5C8D7FEB1AD__GUID-14A3B1A6-0F9E-4569-BD4E-3A9D016237AA">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets a password for application user <code class="codeph">SMAVRIS</code>. It also specifies the <code class="codeph">XS_SHA512</code> verifier type for the password.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.SET_PASSWORD('SMAVRIS','2Hrd2Guess',XS_PRINCIPAL.XS_SHA512);
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99996"></a><a id="DBFSG99997"></a><a id="DBFSG99998"></a><a id="DBFSG99995"></a><div class="props_rev_3"><a id="GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A" name="GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A"></a><h4 id="DBFSG-GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A" class="sect4">SET_VERIFIER Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_VERIFIER</code> procedure sets or modifies the verifier for an application user account. When you use the <code class="codeph">SET_VERIFIER</code> procedure, the procedure directly inserts the verifier and the value of the <code class="codeph">type</code> parameter into the dictionary table, <code class="codeph">XS$VERIFIERS</code>. This enables administrators to migrate users into Real Application Security with knowledge of the verifier and not the password.
                        </p>
                        <p>You need the <code class="codeph">ALTER_USER</code> privilege to run this procedure for an application user.
                        </p>
                        <p>The <code class="codeph">SET_VERIFIER</code> operation and the SQL*Plus <code class="codeph">PASSWORD</code> command are both blocked on the logical standby database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A__GUID-202CA799-7D3C-468F-A9EE-FCA11B118433">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">set_verifier ( 
  user      IN VARCHAR2,
  verifier  IN VARCHAR2,
  type      IN PLS_INTEGER := XS_SHA512);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A__GUID-BA329D19-15D3-4DDA-B88A-12B159821653">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A__GUID-2EB56870-C346-43CE-8DBC-1520C1B85A7C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_VERIFIER parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e5331">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e5334">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5339" headers="d116419e5331 ">
                                    <p><code class="codeph">user</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5339 d116419e5334 ">
                                    <p>The name of the application user for whom the verifier is set.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5347" headers="d116419e5331 ">
                                    <p><code class="codeph">verifier</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5347 d116419e5334 ">
                                    <p>A character string to be used as the verifier.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5355" headers="d116419e5331 ">
                                    <p><code class="codeph">type</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5355 d116419e5334 ">
                                    <p>The verifier type to be used. This can be one of the following:</p>
                                    <p><code class="codeph">XS_SHA512, XS_SALTED_SHA1</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3AF5137E-08F5-44D3-8045-E8CED5AD892A__GUID-08D04274-0474-4DEA-9F9D-4A32B562F97C">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Assume that a user by the name <code class="codeph">LWUSER3</code> is created and the password is set with a verifier type of <code class="codeph">XS_SALTED_SHA1</code>. 
                        </p>
                        <p>Next, query the view <code class="codeph">DBA_XS_OBJECTS</code> to obtain the ID value for user <code class="codeph">LWUSER3</code>. 
                        </p><pre class="pre codeblock"><code>SQL&gt; column name format A10;
SQL&gt; column owner format A6;
SQL&gt; select NAME, OWNER, ID, TYPE, STATUS from  DBA_XS_OBJECTS where NAME = 'LWUSER3';

NAME       OWNER          ID TYPE               STATUS
---------- ------ ---------- ------------------ --------
LWUSER3    SYS    2147493770 PRINCIPAL          VALID</code></pre><p>Next, query the <code class="codeph">XS$VERIFIERS</code> dictionary table for user <code class="codeph">LWUSER3</code> whose ID is 2147493770.
                        </p><pre class="pre codeblock"><code>SQL&gt; column user# format 9999999999;
SQL&gt; column type# format 99;
SQL&gt; column verifier format A62;
SQL&gt; select USER#, VERIFIER, TYPE# from XS$VERIFIERS where USER# = '2147493770';

      USER# VERIFIER                                                       TYPE#
----------- -------------------------------------------------------------- -----
 2147493770 S:14DC0F5ABB72FC869549B1F845C548E0BEF7B863A116DB24DFAE22F0501E     1</code></pre><p>The value of the verifier includes its type as value “S” followed by a colon (:) to denote that it is a verifier type of <code class="codeph">XS_SALTED_SHA1</code>, which is also indicated as being of type# 1.
                        </p>
                        <p>Using the entire verifier value including “<code class="codeph">S:</code>”, set the verifier for user <code class="codeph">LWUSER3</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
SYS.XS_PRINCIPAL.SET_VERIFIER('lwuser3','S:14DC0F5ABB72FC869549B1F845C548E0BEF7B863A116DB24DFAE22F0501E', 
XS_PRINCIPAL.XS_SALTED_SHA1);
END;
/  2    3    4    5

PL/SQL procedure successfully completed.
</pre><p>For this procedure to complete successfully, both the verifier value and its type must match the information in the <code class="codeph">VERIFIER</code> column of the <code class="codeph">XS$VERIFIERS</code> dictionary table for the user whose verifier is being set. Note that when you change the password for an application user, it automatically changes its verifier value with the option of changing its verifier type.
                        </p>
                        <p>The previous example set the verifier to its same exact value to show the steps involved. You have the option to set the verifier for a password to any verifier value that displays for an application user when you query the <code class="codeph">XS$VERIFIERS</code> dictionary table as long as the verifier value matches the verifier type that you set. For example, if you wanted to change the verifier value and the verifier type to <code class="codeph">XS_SHA512</code>, do the following.
                        </p><pre class="pre codeblock"><code>SQL&gt; BEGIN
SYS.XS_PRINCIPAL.SET_VERIFIER('lwuser3','T:9BA95FEF2C2630A2BAACF2E7C5E41B0D50CDC7B0B6
0C88AD4FE81F8155D002F99EEAF9D95477E4749870C67FDE870E154ED17809C359777F979E269010823FB
981B2A998915EB1439FE3C6C1542A239C', 
XS_PRINCIPAL.XS_SHA512);
END;
/  2    3    4

PL/SQL procedure successfully completed.
</code></pre><p>Note that this is the same verifier value and verifier type that was set for application user <code class="codeph">LWUSER1</code> as shown in <a href="configuring-application-users-and-application-roles.html#GUID-6BA62709-3BF9-4DE1-829C-3C4C6EE1B992">Setting a Password Verifier for Direct Application User Accounts</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG100"></a><a id="DBFSG101"></a><a id="DBFSG102"></a><a id="DBFSG99999"></a><div class="props_rev_3"><a id="GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5" name="GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5"></a><h4 id="DBFSG-GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5" class="sect4">SET_DESCRIPTION Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET_DESCRIPTION</code> procedure is used to set the description for an application principal.
                        </p>
                        <p>You need the <code class="codeph">ALTER USER</code> system privilege to run this procedure for an application user. You need the <code class="codeph">ALTER ANY ROLE</code> system privilege to run this procedure for an application role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5__GUID-8EBA51E5-7A02-407B-A972-12C7D8A1D4B5">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SET_DESCRIPTION (  principal   IN VARCHAR2,  description IN VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5__GUID-2E6ACB0F-B1BF-4EA9-9221-044385F103F0">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5__GUID-3C9795C8-64EA-4128-8C6A-30F7422F21C3">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="SET_DESCRIPTION parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e5591">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e5594">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5599" headers="d116419e5591 ">
                                    <p><code class="codeph">principal</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5599 d116419e5594 ">
                                    <p>The name of the principal for which the description is set.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5607" headers="d116419e5591 ">
                                    <p><code class="codeph">description</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5607 d116419e5594 ">
                                    <p>A descriptive string about the principal.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC64D831-75A8-4041-BE9F-8C9378B21FD5__GUID-EA304E8E-E3A0-47BA-B636-A876B66D390B">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example sets a description for the application role <code class="codeph">HRREP</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.SET_DESCRIPTION('HRREP','HR Representative role');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG104"></a><a id="DBFSG105"></a><a id="DBFSG106"></a><a id="DBFSG103"></a><div class="props_rev_3"><a id="GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8" name="GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8"></a><h4 id="DBFSG-GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8" class="sect4">DELETE_PRINCIPAL Procedure</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">DELETE_PRINCIPAL</code> procedure drops an application user or application role.
                        </p>
                        <p>You need the <code class="codeph">DROP USER</code> system privilege to run this procedure for an application user. You need the <code class="codeph">DROP ANY ROLE</code> system privilege to run this procedure for an application role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8__GUID-C667D3BF-5D3F-4B0B-B455-0A210D45960D">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">delete_principal (
  principal     IN VARCHAR2,
  delete_option IN PLS_INTEGER:=XS_ADMIN_UTIL.DEFAULT_OPTION);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8__GUID-4F7858CC-1534-4334-9AA2-BFC5E7D67595">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8__GUID-EA0A7CCE-7465-4BE6-892B-CC2E45515624">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="DELETE_PRINCIPAL parameters" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d116419e5777">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d116419e5780">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5785" headers="d116419e5777 ">
                                    <p><code class="codeph">principal</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5785 d116419e5780 ">
                                    <p>The name of the application user or application role that is to be deleted.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d116419e5793" headers="d116419e5777 ">
                                    <p><code class="codeph">delete_option</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d116419e5793 d116419e5780 ">
                                    <p>The delete option to use. The following options are available:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">DEFAULT_OPTION:</code></p>
                                          <p>The default option allows deleting a principal only if it is not referenced elsewhere. If there are other entities that reference the principal, then the principal cannot be deleted. </p>
                                          <p>For example, the delete operation fails if you try to delete an application role that is granted to a principal.</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">CASCADE_OPTION</code>:
                                          </p>
                                          <p>The cascade option deletes the application user or application role together with any references to it.The user deleting the application user or application role must have privileges to delete these references as well.</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ALLOW_INCONSISTENCIES_OPTION: </code></p>
                                          <p>The allow inconsistencies option lets you delete the entity even if other entities have late binding references to it. If the entity is part of an early dependency, then the delete fails and an error is raised.</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-15266CE7-B956-438F-87BB-F5D88EF47DE8__GUID-A8C9DF7E-2336-4B60-9410-FE89333FEEBC">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example deletes the user <code class="codeph">SMAVRIS</code> using the <code class="codeph">DEFAULT_OPTION</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_PRINCIPAL.DELETE_PRINCIPAL('SMAVRIS');
END;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13113.query-transformations.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes the most important optimizer techniques for transforming queries.">
      <meta name="description" content="This chapter describes the most important optimizer techniques for transforming queries.">
      <title>Query Transformations</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Tuning Guide">
      <meta property="og:description" content="This chapter describes the most important optimizer techniques for transforming queries.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T14:57:08-08:00">
      <meta name="dcterms.title" content="SQL Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2013, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96095-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="query-optimizer-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="query-execution-plans.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGSQL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="query-optimizer-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="query-execution-plans.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="query-optimizer-fundamentals.html" property="item" typeof="WebPage"><span property="name">Query Optimizer Fundamentals</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Query Transformations</li>
            </ol>
            <a id="GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" name="GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0"></a><a id="TGSQL94896"></a>
            
            <h2 id="TGSQL-GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" class="sect2"><span class="enumeration_chapter">5 </span>Query Transformations
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the most important optimizer techniques for transforming queries.</p>
               <p>The optimizer decides whether to use an available transformation based on cost. Transformations may not be available to the optimizer for a variety of reasons, including hints or lack of constraints. For example, transformations such as subquery unnesting are not available for hybrid partitioned tables, which contain external partitions that do not support constraints.</p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-0D5B9093-CDEA-45AC-A607-1F0D8F2615DD">OR Expansion</a><br>In <code class="codeph">OR</code> expansion, the optimizer transforms a query block containing top-level disjunctions into the form of a <code class="codeph">UNION ALL</code> query that contains two or more branches. 
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD">View Merging</a><br>In <strong class="term">view merging</strong>, the optimizer merges the <strong class="term">query block</strong> representing a view into the query block that contains it. 
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-D2E2DE0D-A013-41C2-8527-A797B1F35709">Predicate Pushing</a><br>In <strong class="term">predicate pushing</strong>, the optimizer "pushes" the relevant predicates from the containing query block into the view query block.
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-EBE60A08-5660-44BF-BC89-AD36E941B066">Subquery Unnesting</a><br>In <strong class="term">subquery unnesting</strong>, the optimizer transforms a nested query into an equivalent join statement, and then optimizes the join.
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB">Query Rewrite with Materialized Views</a><br>A <strong class="term">materialized view</strong> is a query result stored in a table. 
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-4CB77742-41A2-49D3-A04F-5C79EE237A3A">Statistics-Based Query Transformation</a><br>In some cases, Oracle Database can satisfy a query by querying table statistics rather than the table itself.
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-EA178F1F-7564-4621-B884-19A202943421">Star Transformation</a><br>Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema. 
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-91434A26-E81E-4609-800B-4E179A63EDBC">In-Memory Aggregation (VECTOR GROUP BY)</a><br>The key optimization of in-memory aggregation is to aggregate while scanning. 
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF">Cursor-Duration Temporary Tables</a><br>To materialize the intermediate results of a query, Oracle Database may implicitly create a <strong class="term">cursor-duration temporary table</strong> in memory during query compilation.
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-6A6748FA-5803-4837-9A9F-525ED09BE481">Table Expansion</a><br>In <strong class="term">table expansion</strong>, the optimizer generates a plan that uses indexes on the read-mostly portion of a partitioned table, but not on the active portion of the table.
                  </li>
                  <li class="ulchildlink"><a href="query-transformations.html#GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06">Join Factorization</a><br>In the cost-based transformation known as <strong class="term">join factorization</strong>, the optimizer can factorize common computations from branches of a <code class="codeph">UNION ALL</code> query.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="query-optimizer-fundamentals.html#GUID-EF45F82A-F17D-4C79-9B6A-8CBBB95F0684" title="To tune Oracle SQL, you must understand the query optimizer. The optimizer is built-in software that determines the most efficient method for a statement to access data.">Query Optimizer Fundamentals</a></p>
                  </div>
               </div>
            </div>
            <a id="TGSQL207"></a><a id="TGSQL208"></a><a id="TGSQL94842"></a><a id="TGSQL206"></a><div class="props_rev_3"><a id="GUID-0D5B9093-CDEA-45AC-A607-1F0D8F2615DD" name="GUID-0D5B9093-CDEA-45AC-A607-1F0D8F2615DD"></a><h3 id="TGSQL-GUID-0D5B9093-CDEA-45AC-A607-1F0D8F2615DD" class="sect3"><span class="enumeration_section">5.1 </span>OR Expansion
               </h3>
               <div>
                  <p>In <code class="codeph">OR</code> expansion, the optimizer transforms a query block containing top-level disjunctions into the form of a <code class="codeph">UNION ALL</code> query that contains two or more branches. 
                  </p>
                  <p>The optimizer achieves this goal by splitting the disjunction into its components, and then associating each component with a branch of a <code class="codeph">UNION ALL</code> query. The optimizer can choose <code class="codeph">OR</code> expansion for various reasons. For example, it may enable more efficient access paths or alternative join methods that avoid Cartesian products. As always, the optimizer performs the expansion only if the cost of the transformed statement is lower than the cost of the original statement.
                  </p>
                  <p>In previous releases, the optimizer used the <code class="codeph">CONCATENATION</code> operator to perform the <code class="codeph">OR</code> expansion. Starting in <span>Oracle Database 12c</span> Release 2 (12.2), the optimizer uses the <code class="codeph">UNION-ALL</code> operator instead. The framework provides the following enhancements:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Enables interaction among various transformations</p>
                     </li>
                     <li>
                        <p>Avoids sharing query structures</p>
                     </li>
                     <li>
                        <p>Enables the exploration of various search strategies</p>
                     </li>
                     <li>
                        <p>Provides the reuse of cost annotation</p>
                     </li>
                     <li>
                        <p>Supports the standard SQL syntax</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-0D5B9093-CDEA-45AC-A607-1F0D8F2615DD__BABJJCIC">
                     <p class="titleinexample">Example 5-1 Transformed Query: UNION ALL Condition</p>
                     <p>To prepare for this example, log in to the database as an administrator, execute the following statements to add a unique constraint to the <code class="codeph">hr.departments.department_name</code> column, and then add 100,000 rows to the <code class="codeph">hr.employees</code> table:
                     </p><pre class="pre codeblock"><code>ALTER TABLE hr.departments ADD CONSTRAINT department_name_uk UNIQUE (department_name);
DELETE FROM hr.employees WHERE employee_id &gt; 999;
DECLARE
v_counter NUMBER(7)&nbsp;:= 1000;
BEGIN
 FOR i IN 1..100000 LOOP    
 INSERT INTO hr.employees
    VALUES (v_counter,null,'Doe','Doe' || v_counter || '@example.com',null,'07-JUN-02','AC_ACCOUNT',null,null,null,50);
 v_counter&nbsp;:= v_counter + 1;
 END LOOP;
END;
/
COMMIT; 
EXEC DBMS_STATS.GATHER_TABLE_STATS ( ownname =&gt; 'hr', tabname =&gt; 'employees');</code></pre><p>You then connect as the user <code class="codeph">hr</code>, and execute the following query, which joins the <code class="codeph">employees</code> and <code class="codeph">departments</code> tables:
                     </p><pre class="pre codeblock"><code>SELECT *
FROM   employees e, departments d
WHERE  (e.email='SSTILES' OR d.department_name='Treasury')
AND    e.department_id = d.department_id;
</code></pre><p>Without <code class="codeph">OR</code> expansion, the optimizer treats <code class="codeph">e.email='SSTILES' OR d.department_name='Treasury'</code> as a single unit. Consequently, the optimizer cannot use the index on either  the <code class="codeph">e.email</code> or <code class="codeph">d.department_name</code> column, and so performs a full table scan of <code class="codeph">employees</code> and <code class="codeph">departments</code>. 
                     </p>
                     <p>With <code class="codeph">OR</code> expansion, the optimizer breaks the disjunctive predicate into two independent predicates, as shown in the following example:
                     </p><pre class="pre codeblock"><code>SELECT *
FROM   employees e, departments d
WHERE  e.email = 'SSTILES'
AND    e.department_id = d.department_id
UNION ALL
SELECT *
FROM   employees e, departments d
WHERE  d.department_name = 'Treasury'
AND    e.department_id = d.department_id;</code></pre><p>This transformation enables the <code class="codeph">e.email</code> and <code class="codeph">d.department_name</code> columns to serve as index keys. Performance improves because the database filters data using two unique indexes instead of two full table scans, as shown in the following execution plan:
                     </p><pre class="pre codeblock"><code>Plan hash value: 2512933241

-----------------------------------------------------------------------------------------------
| Id| Operation                              | Name             |Rows|Bytes|Cost(%CPU)|Time   |
----------------------------------------------------------------------------------------------- 
| 0 | SELECT STATEMENT                       |                  |    |     |122 (100)|        |
| 1 |  VIEW                                  |VW_ORE_19FF4E3E   |9102|1679K|122  (5) |00:00:01|
| 2 |   UNION-ALL                            |                  |    |     |         |        |
| 3 |    NESTED LOOPS                        |                  |  1 |  78 |  4  (0) |00:00:01|
| 4 |     TABLE ACCESS BY INDEX ROWID        | EMPLOYEES        |  1 |  57 |  3  (0) |00:00:01|
|*5 |      INDEX UNIQUE SCAN                 | EMP_EMAIL_UK     |  1 |     |  2  (0) |00:00:01|
| 6 |     TABLE ACCESS BY INDEX ROWID        | DEPARTMENTS      |  1 |  21 |  1  (0) |00:00:01|
|*7 |      INDEX UNIQUE SCAN                 | DEPT_ID_PK       |  1 |     |  0  (0) |        |
| 8 |    NESTED LOOPS                        |                  |9101| 693K|118  (5) |00:00:01|
| 9 |     TABLE ACCESS BY INDEX ROWID        | DEPARTMENTS      |  1 |  21 |  1  (0) |00:00:01|
|*10|      INDEX UNIQUE SCAN                 |DEPARTMENT_NAME_UK|  1 |     |  0  (0) |        |
|*11|     TABLE ACCESS BY INDEX ROWID BATCHED| EMPLOYEES        |9101| 506K|117  (5) |00:00:01|
|*12|      INDEX RANGE SCAN                  |EMP_DEPARTMENT_IX |9101|     | 35  (6) |00:00:01|
-----------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("E"."EMAIL"='SSTILES')
   7 - access("E"."DEPARTMENT_ID"="D"."DEPARTMENT_ID")
  10 - access("D"."DEPARTMENT_NAME"='Treasury')
  11 - filter(LNNVL("E"."EMAIL"='SSTILES'))
  12 - access("E"."DEPARTMENT_ID"="D"."DEPARTMENT_ID")

35 rows selected.
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL209"></a><div class="props_rev_3"><a id="GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD" name="GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD"></a><h3 id="TGSQL-GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD" class="sect3"><span class="enumeration_section">5.2 </span>View Merging
               </h3>
               <div>
                  <p>In <strong class="term">view merging</strong>, the optimizer merges the <strong class="term">query block</strong> representing a view into the query block that contains it. 
                  </p>
                  <p>View merging can improve plans by enabling the optimizer to consider additional join orders, access methods, and other transformations. For example, after a view has been merged and several tables reside in one query block, a table inside a view may permit the optimizer to use <a href="glossary.html#GUID-420638C3-79BE-4ED0-955F-B7EF70685DBC"><span class="xrefglossterm">join elimination</span></a> to remove a table outside the view. 
                  </p>
                  <p>For certain simple views in which merging always leads to a better plan, the optimizer automatically merges the view without considering cost. Otherwise, the optimizer uses cost to make the determination. The optimizer may choose not to merge a view for many reasons, including cost or validity restrictions. </p>
                  <p>If <code class="codeph">OPTIMIZER_SECURE_VIEW_MERGING</code> is <code class="codeph">true</code> (default), then Oracle Database performs checks to ensure that view merging and predicate pushing do not violate the security intentions of the view creator. To disable these additional security checks for a specific view, you can grant the <code class="codeph">MERGE VIEW</code> privilege to a user for this view. To disable additional security checks for all views for a specific user, you can grant the <code class="codeph">MERGE ANY VIEW</code> privilege to that user.
                  </p>
                  <div class="infoboxnote" id="GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD__GUID-FFE63A81-9918-4A8E-A0CC-7499D026B110">
                     <p class="notep1">Note:</p>
                     <p>You can use hints to override view merging rejected because of cost or heuristics, but not validity.</p>
                  </div>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-38C9EAE6-4E31-4C11-B090-583DD32CE2ED">Query Blocks in View Merging</a><br>The optimizer represents each nested <strong class="term">subquery</strong> or unmerged view by a separate query block. 
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-FE039264-7B1A-42DA-A0E7-7374A510FA9B">Simple View Merging</a><br>In <strong class="term">simple view merging</strong>, the optimizer merges select-project-join views. 
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-D6EEB613-F820-4E27-8FEF-CB0A653F703D">Complex View Merging</a><br>In <strong class="term">view merging</strong>, the optimizer merges views containing <code class="codeph">GROUP BY</code> and <code class="codeph">DISTINCT</code> views. Like simple view merging, complex merging enables the optimizer to consider additional join orders and access paths. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD__GUID-EF1046B0-7581-4A82-8DE0-E169FF0A75AD">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sqlrf/GRANT.html#SQLRF01603" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">MERGE ANY VIEW</code> and <code class="codeph">MERGE VIEW</code> privileges
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/OPTIMIZER_SECURE_VIEW_MERGING.html#REFRN10262" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">OPTIMIZER_SECURE_VIEW_MERGING</code> initialization parameter
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL94843"></a><div class="props_rev_3"><a id="GUID-38C9EAE6-4E31-4C11-B090-583DD32CE2ED" name="GUID-38C9EAE6-4E31-4C11-B090-583DD32CE2ED"></a><h4 id="TGSQL-GUID-38C9EAE6-4E31-4C11-B090-583DD32CE2ED" class="sect4"><span class="enumeration_section">5.2.1 </span>Query Blocks in View Merging
                  </h4>
                  <div>
                     <p>The optimizer represents each nested <strong class="term">subquery</strong> or unmerged view by a separate query block. 
                     </p>
                     <p>The database optimizes query blocks separately from the bottom up. Thus, the database optimizes the innermost query block first, generates the part of the plan for it, and then generates the plan for the outer query block, representing the entire query.</p>
                     <p>The parser expands each view referenced in a query into a separate query block. The block essentially represents the view definition, and thus the result of a view. One option for the optimizer is to analyze the view query block separately, generate a view subplan, and then process the rest of the query by using the view subplan to generate an overall execution plan. However, this technique may lead to a suboptimal execution plan because the view is optimized separately. </p>
                     <p>View merging can sometimes improve performance. As shown in <span class="q">"<a href="query-transformations.html#GUID-FE039264-7B1A-42DA-A0E7-7374A510FA9B__BABIIIJD">Example 5-2</a>"</span>, view merging merges the tables from the view into the outer query block, removing the inner query block. Thus, separate optimization of the view is not necessary.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD" title="In view merging, the optimizer merges the query block representing a view into the query block that contains it.">View Merging</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94845"></a><a id="TGSQL94844"></a><div class="props_rev_3"><a id="GUID-FE039264-7B1A-42DA-A0E7-7374A510FA9B" name="GUID-FE039264-7B1A-42DA-A0E7-7374A510FA9B"></a><h4 id="TGSQL-GUID-FE039264-7B1A-42DA-A0E7-7374A510FA9B" class="sect4"><span class="enumeration_section">5.2.2 </span>Simple View Merging
                  </h4>
                  <div>
                     <p>In <strong class="term">simple view merging</strong>, the optimizer merges select-project-join views. 
                     </p>
                     <p>For example, a query of the <code class="codeph">employees</code> table contains a subquery that joins the <code class="codeph">departments</code> and <code class="codeph">locations</code> tables.
                     </p>
                     <p>Simple view merging frequently results in a more optimal plan because of the additional join orders and access paths available after the merge. A view may not be valid for simple view merging because:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The view contains constructs not included in select-project-join views, including:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">GROUP BY</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">DISTINCT</code></p>
                              </li>
                              <li>
                                 <p>Outer join</p>
                              </li>
                              <li>
                                 <p><code class="codeph">MODEL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CONNECT BY</code></p>
                              </li>
                              <li>
                                 <p>Set operators</p>
                              </li>
                              <li>
                                 <p>Aggregation</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The view appears on the right side of a <a href="glossary.html#GUID-EA539BF9-F0F2-479B-90B5-1855CD8E34B9"><span class="xrefglossterm">semijoin</span></a> or <a href="glossary.html#GUID-4EF44AED-32FD-4FF4-9ECB-24F0011A667E"><span class="xrefglossterm">antijoin</span></a>.
                           </p>
                        </li>
                        <li>
                           <p>The view contains subqueries in the <code class="codeph">SELECT</code> list.
                           </p>
                        </li>
                        <li>
                           <p>The outer query block contains PL/SQL functions.</p>
                        </li>
                        <li>
                           <p>The view participates in an outer join, and does not meet one of the several additional validity requirements that determine whether the view can be merged.</p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-FE039264-7B1A-42DA-A0E7-7374A510FA9B__BABIIIJD">
                        <p class="titleinexample">Example 5-2 Simple View Merging</p>
                        <p>The following query joins the <code class="codeph">hr.employees</code> table with the <code class="codeph">dept_locs_v</code> view, which returns the street address for each department. <code class="codeph">dept_locs_v</code> is a join of the <code class="codeph">departments</code> and <code class="codeph">locations</code> tables.
                        </p><pre class="pre codeblock"><code>SELECT e.first_name, e.last_name, dept_locs_v.street_address,
       dept_locs_v.postal_code
FROM   employees e,
      ( SELECT d.department_id, d.department_name, 
               l.street_address, l.postal_code
        FROM   departments d, locations l
        WHERE  d.location_id = l.location_id ) dept_locs_v
WHERE  dept_locs_v.department_id = e.department_id
AND    e.last_name = 'Smith';
</code></pre><p>The database can execute the preceding query by joining <code class="codeph">departments</code> and <code class="codeph">locations</code> to generate the rows of the view, and then joining this result to <code class="codeph">employees</code>. Because the query contains the view <code class="codeph">dept_locs_v</code>, and this view contains two tables, the optimizer must use one of the following join orders:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">employees</code>, <code class="codeph">dept_locs_v</code> (<code class="codeph">departments</code>, <code class="codeph">locations</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">employees</code>, <code class="codeph">dept_locs_v</code> (<code class="codeph">locations</code>, <code class="codeph">departments</code>)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dept_locs_v</code> (<code class="codeph">departments</code>, <code class="codeph">locations</code>), <code class="codeph">employees</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">dept_locs_v</code> (<code class="codeph">locations</code>, <code class="codeph">departments</code>), <code class="codeph">employees</code></p>
                           </li>
                        </ul>
                        <p>Join methods are also constrained. The index-based nested loops join is not feasible for join orders that begin with <code class="codeph">employees</code> because no index exists on the column from this view. Without view merging, the optimizer generates the following execution plan:
                        </p><pre class="pre codeblock"><code>-----------------------------------------------------------------
| Id  | Operation                    | Name        | Cost (%CPU)|
-----------------------------------------------------------------
|   0 | SELECT STATEMENT             |             |     7  (15)|
|*  1 |  HASH JOIN                   |             |     7  (15)|
|   2 |   TABLE ACCESS BY INDEX ROWID| EMPLOYEES   |     2   (0)|
|*  3 |    INDEX RANGE SCAN          | EMP_NAME_IX |     1   (0)|
|   4 |   VIEW                       |             |     5  (20)|
|*  5 |    HASH JOIN                 |             |     5  (20)|
|   6 |     TABLE ACCESS FULL        | LOCATIONS   |     2   (0)|
|   7 |     TABLE ACCESS FULL        | DEPARTMENTS |     2   (0)|
-----------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
1 - access("DEPT_LOCS_V"."DEPARTMENT_ID"="E"."DEPARTMENT_ID")
3 - access("E"."LAST_NAME"='Smith')
5 - access("D"."LOCATION_ID"="L"."LOCATION_ID")
</code></pre><p>View merging merges the tables from the view into the outer query block, removing the inner query block. After view merging, the query is as follows:</p><pre class="pre codeblock"><code>SELECT e.first_name, e.last_name, l.street_address, l.postal_code
FROM   employees e, departments d, locations l
WHERE  d.location_id = l.location_id
AND    d.department_id = e.department_id
AND    e.last_name = 'Smith';
</code></pre><p>Because all three tables appear in one query block, the optimizer can choose from the following six join orders:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">employees</code>, <code class="codeph">departments</code>, <code class="codeph">locations</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">employees</code>, <code class="codeph">locations</code>, <code class="codeph">departments</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">departments</code>, <code class="codeph">employees</code>, <code class="codeph">locations</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">departments</code>, <code class="codeph">locations</code>, <code class="codeph">employees</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">locations</code>, <code class="codeph">employees</code>, <code class="codeph">departments</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">locations</code>, <code class="codeph">departments</code>, <code class="codeph">employees</code></p>
                           </li>
                        </ul>
                        <p>The joins to <code class="codeph">employees</code> and <code class="codeph">departments</code> can now be index-based. After view merging, the optimizer chooses the following more efficient plan, which uses nested loops:
                        </p><pre class="pre codeblock"><code>-------------------------------------------------------------------
| Id  | Operation                      | Name        | Cost (%CPU)|
-------------------------------------------------------------------
|   0 | SELECT STATEMENT               |             |     4   (0)|
|   1 |  NESTED LOOPS                  |             |            |
|   2 |   NESTED LOOPS                 |             |     4   (0)|
|   3 |    NESTED LOOPS                |             |     3   (0)|
|   4 |     TABLE ACCESS BY INDEX ROWID| EMPLOYEES   |     2   (0)|
|*  5 |      INDEX RANGE SCAN          | EMP_NAME_IX |     1   (0)|
|   6 |     TABLE ACCESS BY INDEX ROWID| DEPARTMENTS |     1   (0)|
|*  7 |      INDEX UNIQUE SCAN         | DEPT_ID_PK  |     0   (0)|
|*  8 |    INDEX UNIQUE SCAN           | LOC_ID_PK   |     0   (0)|
|   9 |   TABLE ACCESS BY INDEX ROWID  | LOCATIONS   |     1   (0)|
-------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 5 - access("E"."LAST_NAME"='Smith')
 7 - access("E"."DEPARTMENT_ID"="D"."DEPARTMENT_ID")
 8 - access("D"."LOCATION_ID"="L"."LOCATION_ID")</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FE039264-7B1A-42DA-A0E7-7374A510FA9B__GUID-5319C04F-6E6E-445C-B8DD-8A8BB70EE44D">
                        <p class="notep1">See Also:</p>
                        <p>The Oracle Optimizer blog at <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=optimizer_blog" target="_blank"><code class="codeph">https://blogs.oracle.com/optimizer/</code></a> to learn about outer join view merging, which is a special case of simple view merging
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD" title="In view merging, the optimizer merges the query block representing a view into the query block that contains it.">View Merging</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94847"></a><a id="TGSQL94848"></a><a id="TGSQL94846"></a><div class="props_rev_3"><a id="GUID-D6EEB613-F820-4E27-8FEF-CB0A653F703D" name="GUID-D6EEB613-F820-4E27-8FEF-CB0A653F703D"></a><h4 id="TGSQL-GUID-D6EEB613-F820-4E27-8FEF-CB0A653F703D" class="sect4"><span class="enumeration_section">5.2.3 </span>Complex View Merging
                  </h4>
                  <div>
                     <p>In <strong class="term">view merging</strong>, the optimizer merges views containing <code class="codeph">GROUP BY</code> and <code class="codeph">DISTINCT</code> views. Like simple view merging, complex merging enables the optimizer to consider additional join orders and access paths. 
                     </p>
                     <p>The optimizer can delay evaluation of <code class="codeph">GROUP BY</code> or <code class="codeph">DISTINCT</code> operations until after it has evaluated the joins. Delaying these operations can improve or worsen performance depending on the data characteristics. If the joins use filters, then delaying the operation until after joins can reduce the data set on which the operation is to be performed. Evaluating the operation early can reduce the amount of data to be processed by subsequent joins, or the joins could increase the amount of data to be processed by the operation. The optimizer uses cost to evaluate view merging and merges the view only when it is the lower cost option.
                     </p>
                     <p>Aside from cost, the optimizer may be unable to perform complex view merging for the following reasons:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The outer query tables do not have a rowid or unique column.</p>
                        </li>
                        <li>
                           <p>The view appears in a <code class="codeph">CONNECT BY</code> query block.
                           </p>
                        </li>
                        <li>
                           <p>The view contains <code class="codeph">GROUPING SETS</code>, <code class="codeph">ROLLUP</code>, or <code class="codeph">PIVOT</code> clauses.
                           </p>
                        </li>
                        <li>
                           <p>The view or outer query block contains the <code class="codeph">MODEL</code> clause.
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-D6EEB613-F820-4E27-8FEF-CB0A653F703D__GUID-A04538AB-A8AE-4ADB-8AB2-A7F9AD56720D">
                        <p class="titleinexample">Example 5-3 Complex View Joins with GROUP BY</p>
                        <p>The following view uses a <code class="codeph">GROUP BY</code> clause:
                        </p><pre class="pre codeblock"><code>CREATE VIEW cust_prod_totals_v AS
SELECT SUM(s.quantity_sold) total, s.cust_id, s.prod_id
FROM   sales s
GROUP BY s.cust_id, s.prod_id;
</code></pre><p>The following query finds all of the customers from the United States who have bought at least 100 fur-trimmed sweaters: </p><pre class="pre codeblock"><code>SELECT c.cust_id, c.cust_first_name, c.cust_last_name, c.cust_email
FROM   customers c, products p, cust_prod_totals_v
WHERE  c.country_id = 52790
AND    c.cust_id = cust_prod_totals_v.cust_id
AND    cust_prod_totals_v.total &gt; 100
AND    cust_prod_totals_v.prod_id = p.prod_id
AND    p.prod_name = 'T3 Faux Fur-Trimmed Sweater';
</code></pre><p>The <code class="codeph">cust_prod_totals_v</code> view is eligible for complex view merging. After merging, the query is as follows:
                        </p><pre class="pre codeblock"><code>SELECT c.cust_id, cust_first_name, cust_last_name, cust_email
FROM   customers c, products p, sales s
WHERE  c.country_id = 52790
AND    c.cust_id = s.cust_id
AND    s.prod_id = p.prod_id
AND    p.prod_name = 'T3 Faux Fur-Trimmed Sweater'
GROUP BY s.cust_id, s.prod_id, p.rowid, c.rowid, c.cust_email, c.cust_last_name, 
         c.cust_first_name, c.cust_id
HAVING SUM(s.quantity_sold) &gt; 100;
</code></pre><p>The transformed query is cheaper than the untransformed query, so the optimizer chooses to merge the view. In the untransformed query, the <code class="codeph">GROUP BY</code> operator applies to the entire <code class="codeph">sales</code> table in the view. In the transformed query, the joins to <code class="codeph">products</code> and <code class="codeph">customers</code> filter out a large portion of the rows from the <code class="codeph">sales</code> table, so the <code class="codeph">GROUP BY</code> operation is lower cost. The join is more expensive because the <code class="codeph">sales</code> table has not been reduced, but it is not much more expensive because the <code class="codeph">GROUP BY</code> operation does not reduce the size of the row set very much in the original query. If any of the preceding characteristics were to change, merging the view might no longer be lower cost. The final plan, which does not include a view, is as follows: 
                        </p><pre class="pre codeblock"><code>--------------------------------------------------------
| Id  | Operation             | Name      | Cost (%CPU)|
--------------------------------------------------------
|   0 | SELECT STATEMENT      |           |  2101  (18)|
|*  1 |  FILTER               |           |            |
|   2 |   HASH GROUP BY       |           |  2101  (18)|
|*  3 |    HASH JOIN          |           |  2099  (18)|
|*  4 |     HASH JOIN         |           |  1801  (19)|
|*  5 |      TABLE ACCESS FULL| PRODUCTS  |    96   (5)|
|   6 |      TABLE ACCESS FULL| SALES     |  1620  (15)|
|*  7 |     TABLE ACCESS FULL | CUSTOMERS |   296  (11)|
--------------------------------------------------------
Predicate Information (identified by operation id):
---------------------------------------------------
1 - filter(SUM("QUANTITY_SOLD")&gt;100)
3 - access("C"."CUST_ID"="CUST_ID")
4 - access("PROD_ID"="P"."PROD_ID")
5 - filter("P"."PROD_NAME"='T3 Faux Fur-Trimmed Sweater')
7 - filter("C"."COUNTRY_ID"='US')</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D6EEB613-F820-4E27-8FEF-CB0A653F703D__GUID-0E0A4E8B-9D0A-4C83-97DA-FF16AFF543A6">
                        <p class="titleinexample">Example 5-4 Complex View Joins with DISTINCT</p>
                        <p>The following query of the <code class="codeph">cust_prod_v</code> view uses a <code class="codeph">DISTINCT</code> operator:
                        </p><pre class="pre codeblock"><code>SELECT c.cust_id, c.cust_first_name, c.cust_last_name, c.cust_email
FROM   customers c, products p,
       ( SELECT DISTINCT s.cust_id, s.prod_id
         FROM   sales s) cust_prod_v
WHERE  c.country_id = 52790
AND    c.cust_id = cust_prod_v.cust_id
AND    cust_prod_v.prod_id = p.prod_id
AND    p.prod_name = 'T3 Faux Fur-Trimmed Sweater';
</code></pre><p>After determining that view merging produces a lower-cost plan, the optimizer rewrites the query into this equivalent query:</p><pre class="pre codeblock"><code>SELECT nwvw.cust_id, nwvw.cust_first_name, nwvw.cust_last_name, nwvw.cust_email
FROM   ( SELECT DISTINCT(c.rowid), p.rowid, s.prod_id, s.cust_id,
                c.cust_first_name, c.cust_last_name, c.cust_email
         FROM   customers c, products p, sales s
         WHERE  c.country_id = 52790
         AND    c.cust_id = s.cust_id
         AND    s.prod_id = p.prod_id
         AND    p.prod_name = 'T3 Faux Fur-Trimmed Sweater' ) nwvw;
</code></pre><p>The plan for the preceding query is as follows:</p><pre class="pre codeblock"><code>-------------------------------------------
| Id  | Operation             | Name      |
-------------------------------------------
|   0 | SELECT STATEMENT      |           |
|   1 |  VIEW                 | VM_NWVW_1 |
|   2 |   HASH UNIQUE         |           |
|*  3 |    HASH JOIN          |           |
|*  4 |     HASH JOIN         |           |
|*  5 |      TABLE ACCESS FULL| PRODUCTS  |
|   6 |      TABLE ACCESS FULL| SALES     |
|*  7 |     TABLE ACCESS FULL | CUSTOMERS |
-------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
  3 - access("C"."CUST_ID"="S"."CUST_ID")
  4 - access("S"."PROD_ID"="P"."PROD_ID")
  5 - filter("P"."PROD_NAME"='T3 Faux Fur-Trimmed Sweater')
  7 - filter("C"."COUNTRY_ID"='US')
</code></pre><p>The preceding plan contains a view named <code class="codeph">vm_nwvw_1</code>, known as a <a href="glossary.html#GUID-D55A3D23-BD08-4112-AF78-98347EF1F0C3"><span class="xrefglossterm">projection view</span></a>, even after view merging has occurred. Projection views appear in queries in which a <code class="codeph">DISTINCT</code> view has been merged, or a <code class="codeph">GROUP BY</code> view is merged into an outer query block that also contains <code class="codeph">GROUP BY</code>, <code class="codeph">HAVING</code>, or aggregates. In the latter case, the projection view contains the <code class="codeph">GROUP BY</code>, <code class="codeph">HAVING</code>, and aggregates from the original outer query block. 
                        </p>
                        <p>In the preceding example of a projection view, when the optimizer merges the view, it moves the <code class="codeph">DISTINCT</code> operator to the outer query block, and then adds several additional columns to maintain semantic equivalence with the original query. Afterward, the query can select only the desired columns in the <code class="codeph">SELECT</code> list of the outer query block. The optimization retains all of the benefits of view merging: all tables are in one query block, the optimizer can permute them as needed in the final join order, and the <code class="codeph">DISTINCT</code> operation has been delayed until after all of the joins complete. 
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-6045D0F4-79A9-4688-A844-85F225DFA7DD" title="In view merging, the optimizer merges the query block representing a view into the query block that contains it.">View Merging</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TGSQL210"></a><div class="props_rev_3"><a id="GUID-D2E2DE0D-A013-41C2-8527-A797B1F35709" name="GUID-D2E2DE0D-A013-41C2-8527-A797B1F35709"></a><h3 id="TGSQL-GUID-D2E2DE0D-A013-41C2-8527-A797B1F35709" class="sect3"><span class="enumeration_section">5.3 </span>Predicate Pushing
               </h3>
               <div>
                  <p>In <strong class="term">predicate pushing</strong>, the optimizer "pushes" the relevant predicates from the containing query block into the view query block.
                  </p>
                  <p>For views that are not merged, this technique improves the subplan of the unmerged view. The database can use the pushed-in predicates to access indexes or to use as filters.</p>
                  <p>For example, suppose you create a table <code class="codeph">hr.contract_workers</code> as follows:
                  </p><pre class="pre codeblock"><code>DROP TABLE contract_workers;
CREATE TABLE contract_workers AS (SELECT * FROM employees where 1=2);
INSERT INTO contract_workers VALUES (306, 'Bill', 'Jones', 'BJONES',
  '555.555.2000', '07-JUN-02', 'AC_ACCOUNT', 8300, 0,205, 110);
INSERT INTO contract_workers VALUES (406, 'Jill', 'Ashworth', 'JASHWORTH', 
  '555.999.8181', '09-JUN-05', 'AC_ACCOUNT', 8300, 0,205, 50);
INSERT INTO contract_workers VALUES (506, 'Marcie', 'Lunsford', 'MLUNSFORD', 
  '555.888.2233', '22-JUL-01', 'AC_ACCOUNT', 8300, 0,205, 110);
COMMIT;
CREATE INDEX contract_workers_index ON contract_workers(department_id);
</code></pre><p>You create a view that references <code class="codeph">employees</code> and <code class="codeph">contract_workers</code>. The view is defined with a query that uses the <code class="codeph">UNION</code> set operator, as follows:
                  </p><pre class="pre codeblock"><code>CREATE VIEW all_employees_vw AS
  ( SELECT employee_id, last_name, job_id, commission_pct, department_id
    FROM   employees )
  UNION
  ( SELECT employee_id, last_name, job_id, commission_pct, department_id
    FROM   contract_workers );
</code></pre><p>You then query the view as follows:</p><pre class="pre codeblock"><code>SELECT last_name
FROM   all_employees_vw
WHERE  <span class="bold">department_id = 50</span>;
</code></pre><p>Because the view is a <code class="codeph">UNION</code> set query, the optimizer cannot merge the view's query into the accessing query block. Instead, the optimizer can transform the accessing statement by pushing its predicate, the <code class="codeph">WHERE</code> clause condition <code class="codeph">department_id=50</code>, into the view's <code class="codeph">UNION</code> set query. The equivalent transformed query is as follows:
                  </p><pre class="pre codeblock"><code>SELECT last_name
FROM   ( SELECT employee_id, last_name, job_id, commission_pct, department_id
         FROM   employees
         WHERE  <span class="bold">department_id=50</span>
         UNION
         SELECT employee_id, last_name, job_id, commission_pct, department_id
         FROM   contract_workers
         WHERE  <span class="bold">department_id=50</span> );
</code></pre><p>The transformed query can now consider index access in each of the query blocks.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL211"></a><div class="props_rev_3"><a id="GUID-EBE60A08-5660-44BF-BC89-AD36E941B066" name="GUID-EBE60A08-5660-44BF-BC89-AD36E941B066"></a><h3 id="TGSQL-GUID-EBE60A08-5660-44BF-BC89-AD36E941B066" class="sect3"><span class="enumeration_section">5.4 </span>Subquery Unnesting
               </h3>
               <div>
                  <p>In <strong class="term">subquery unnesting</strong>, the optimizer transforms a nested query into an equivalent join statement, and then optimizes the join.
                  </p>
                  <p>This transformation enables the optimizer to consider the subquery tables during access path, join method, and join order selection. The optimizer can perform this transformation only if the resulting join statement is guaranteed to return the same rows as the original statement, and if subqueries do not contain aggregate functions such as <code class="codeph">AVG</code>.
                  </p>
                  <p>For example, suppose you connect as user <code class="codeph">sh</code> and execute the following query:
                  </p><pre class="pre codeblock"><code>SELECT * 
FROM   sales
WHERE  cust_id IN ( SELECT cust_id 
                    FROM   customers );
</code></pre><p>Because the <code class="codeph">customers.cust_id</code> column is a primary key, the optimizer can transform the complex query into the following join statement that is guaranteed to return the same data:
                  </p><pre class="pre codeblock"><code>SELECT sales.* 
FROM   sales, customers
WHERE  sales.cust_id = customers.cust_id;
</code></pre><p>If the optimizer cannot transform a complex statement into a join statement, it selects execution plans for the parent statement and the subquery as though they were separate statements. The optimizer then executes the subquery and uses the rows returned to execute the parent query. To improve execution speed of the overall execution plan, the optimizer orders the subplans efficiently.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL212"></a><div class="props_rev_3"><a id="GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB" name="GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB"></a><h3 id="TGSQL-GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB" class="sect3"><span class="enumeration_section">5.5 </span>Query Rewrite with Materialized Views
               </h3>
               <div>
                  <p>A <strong class="term">materialized view</strong> is a query result stored in a table. 
                  </p>
                  <p>When the optimizer finds a user query compatible with the query associated with a materialized view, the database can rewrite the query in terms of the materialized view. This technique improves query execution because the database has precomputed most of the query result.</p>
                  <p>The optimizer looks for materialized views that are compatible with the user query, and then uses a cost-based algorithm to select materialized views to rewrite the query. The optimizer does not rewrite the query when the plan generated unless the materialized views has a lower cost than the plan generated with the materialized views.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-D43AE3AB-0778-49EA-9C8D-983F0910FE05">About Query Rewrite and the Optimizer</a><br>A query undergoes several checks to determine whether it is a candidate for query rewrite. If the query fails any check, then the query is applied to the detail tables rather than the materialized view. The inability to rewrite can be costly in terms of response time and processing power.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-51E02736-2656-4F44-8392-98980067A97F">About Initialization Parameters for Query Rewrite</a><br>Query rewrite behavior is controlled by certain database initialization parameters.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-34CBC168-E1C8-4983-B271-0AB0B639CE7D">About the Accuracy of Query Rewrite</a><br>Query rewrite offers three levels of rewrite integrity that are controlled by the initialization parameter <code class="codeph">QUERY_REWRITE_INTEGRITY</code>.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-19F8E323-0EE4-45AE-A88D-D29E76420206">Example of Query Rewrite</a><br>This example illustrates the power of query rewrite with materialized views.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB__GUID-D965CAB2-A6F5-40C6-BE2A-1DF5991C4371">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/basic-query-rewrite-materialized-views.html#DWHSG-GUID-DB76286B-8557-446B-A6CC-BC987C378076" target="_blank"><span><cite>Oracle Database Data Warehousing Guide</cite></span></a> to learn more about query rewrite
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-D43AE3AB-0778-49EA-9C8D-983F0910FE05" name="GUID-D43AE3AB-0778-49EA-9C8D-983F0910FE05"></a><h4 id="TGSQL-GUID-D43AE3AB-0778-49EA-9C8D-983F0910FE05" class="sect4"><span class="enumeration_section">5.5.1 </span>About Query Rewrite and the Optimizer
                  </h4>
                  <div>
                     <p>A query undergoes several checks to determine whether it is a candidate for query rewrite. If the query fails any check, then the query is applied to the detail tables rather than the materialized view. The inability to rewrite can be costly in terms of response time and processing power.</p>
                     <p>The optimizer uses two different methods to determine when to rewrite a query in terms of a materialized view. The first method matches the SQL text of the query to the SQL text of the materialized view definition. If the first method fails, then the optimizer uses the more general method in which it compares joins, selections, data columns, grouping columns, and aggregate functions between the query and materialized views.</p>
                     <p>Query rewrite operates on queries and subqueries in the following types of SQL statements:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">SELECT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE TABLE … AS SELECT</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INSERT INTO … SELECT</code> 
                           </p>
                        </li>
                     </ul>
                     <p>It also operates on subqueries in the set operators <code class="codeph">UNION</code>, <code class="codeph">UNION ALL</code> , <code class="codeph">INTERSECT</code>, and <code class="codeph">MINUS</code>, and subqueries in DML statements such as <code class="codeph">INSERT</code>, <code class="codeph">DELETE</code>, and <code class="codeph">UPDATE</code>.
                     </p>
                     <p>Dimensions, constraints, and rewrite integrity levels affect whether a query is rewritten to use materialized views. Additionally, query rewrite can be enabled or disabled by <code class="codeph">REWRITE</code> and <code class="codeph">NOREWRITE</code> hints and the <code class="codeph">QUERY_REWRITE_ENABLED</code> session parameter.
                     </p>
                     <p>The <code class="codeph">DBMS_MVIEW.EXPLAIN_REWRITE</code> procedure advises whether query rewrite is possible on a query and, if so, which materialized views are used. It also explains why a query cannot be rewritten.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB" title="A materialized view is a query result stored in a table.">Query Rewrite with Materialized Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-51E02736-2656-4F44-8392-98980067A97F" name="GUID-51E02736-2656-4F44-8392-98980067A97F"></a><h4 id="TGSQL-GUID-51E02736-2656-4F44-8392-98980067A97F" class="sect4"><span class="enumeration_section">5.5.2 </span>About Initialization Parameters for Query Rewrite
                  </h4>
                  <div>
                     <p>Query rewrite behavior is controlled by certain database initialization parameters.</p>
                     <div class="tblformal" id="GUID-51E02736-2656-4F44-8392-98980067A97F__GUID-A20BF7CE-ECB9-4FA6-9237-34D926C834C3">
                        <p class="titleintable">Table 5-1 Initialization Parameters that Control Query Rewrite Behavior</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Initialization Parameters that Control Query Rewrite Behavior" summary="This table describes the initialization parameters that control query rewrite behavior." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d16801e2267">Initialization Parameter Name</th>
                                 <th align="left" valign="bottom" width="20%" id="d16801e2269">Initialization Parameter Value</th>
                                 <th align="left" valign="bottom" width="20%" id="d16801e2271">Behavior of Query Rewrite</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d16801e2275" headers="d16801e2267 "><code class="codeph">OPTIMIZER_MODE</code></td>
                                 <td align="left" valign="top" width="20%" headers="d16801e2275 d16801e2269 "><code class="codeph">ALL_ROWS</code> (default), <code class="codeph">FIRST_ROWS</code>, or <code class="codeph">FIRST_ROWS_</code><span class="italic"><code class="codeph">n</code></span></td>
                                 <td align="left" valign="top" width="20%" headers="d16801e2275 d16801e2271 ">
                                    <p>With <code class="codeph">OPTIMIZER_MODE</code> set to <code class="codeph">FIRST_ROWS</code>, the optimizer uses a mix of costs and heuristics to find a best plan for fast delivery of the first few rows. When set to <code class="codeph">FIRST_ROWS_</code><span class="italic"><code class="codeph">n</code></span>, the optimizer uses a cost-based approach and optimizes with a goal of best response time to return the first <span class="italic"><code class="codeph">n</code></span> rows (where n = 1, 10, 100, 1000).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d16801e2310" headers="d16801e2267 "><code class="codeph">QUERY_REWRITE_ENABLED</code></td>
                                 <td align="left" valign="top" width="20%" headers="d16801e2310 d16801e2269 "><code class="codeph">TRUE</code> (default), <code class="codeph">FALSE</code>, or <code class="codeph">FORCE</code></td>
                                 <td align="left" valign="top" width="20%" headers="d16801e2310 d16801e2271 ">
                                    <p>This option enables the query rewrite feature of the optimizer, enabling the optimizer to utilize materialized views to enhance performance. If set to <code class="codeph">FALSE</code>, this option disables the query rewrite feature of the optimizer and directs the optimizer not to rewrite queries using materialized views even when the estimated query cost of the unrewritten query is lower.
                                    </p>
                                    <p>If set to <code class="codeph">FORCE</code>, this option enables the query rewrite feature of the optimizer and directs the optimizer to rewrite queries using materialized views even when the estimated query cost of the unrewritten query is lower.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d16801e2334" headers="d16801e2267 "><code class="codeph">QUERY_REWRITE_INTEGRITY</code></td>
                                 <td align="left" valign="top" width="20%" headers="d16801e2334 d16801e2269 "><code class="codeph">STALE_TOLERATED</code>, <code class="codeph">TRUSTED</code>, or <code class="codeph">ENFORCED</code> (the default)
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d16801e2334 d16801e2271 ">
                                    <p>This parameter is optional. However, if it is set, the value must be one of these specified in the Initialization Parameter Value column.</p>
                                    <p>By default, the integrity level is set to <code class="codeph">ENFORCED</code>. In this mode, all constraints must be validated. Therefore, if you use <code class="codeph">ENABLE NOVALIDATE RELY</code> , certain types of query rewrite might not work. To enable query rewrite in this environment (where constraints have not been validated), you should set the integrity level to a lower level of granularity such as <code class="codeph">TRUSTED</code> or <code class="codeph">STALE_TOLERATED</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="query-transformations.html#GUID-34CBC168-E1C8-4983-B271-0AB0B639CE7D" title="Query rewrite offers three levels of rewrite integrity that are controlled by the initialization parameter QUERY_REWRITE_INTEGRITY.">About the Accuracy of Query Rewrite</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB" title="A materialized view is a query result stored in a table.">Query Rewrite with Materialized Views</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-34CBC168-E1C8-4983-B271-0AB0B639CE7D" name="GUID-34CBC168-E1C8-4983-B271-0AB0B639CE7D"></a><h4 id="TGSQL-GUID-34CBC168-E1C8-4983-B271-0AB0B639CE7D" class="sect4"><span class="enumeration_section">5.5.3 </span>About the Accuracy of Query Rewrite
                  </h4>
                  <div>
                     <p>Query rewrite offers three levels of rewrite integrity that are controlled by the initialization parameter <code class="codeph">QUERY_REWRITE_INTEGRITY</code>.
                     </p>
                     <p>The values that you can set for the <code class="codeph">QUERY_REWRITE_INTEGRITY</code> parameter are as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ENFORCED</code></p>
                           <p>This is the default mode. The optimizer only uses fresh data from the materialized views and only use those relationships that are based on <code class="codeph">ENABLED VALIDATED</code> primary, unique, or foreign key constraints.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">TRUSTED</code></p>
                           <p>In <code class="codeph">TRUSTED</code> mode, the optimizer trusts that the relationships declared in dimensions and <code class="codeph">RELY</code> constraints are correct. In this mode, the optimizer also uses prebuilt materialized views or materialized views based on views, and it uses relationships that are not enforced as well as those that are enforced. It also trusts declared but not <code class="codeph">ENABLED VALIDATED</code> primary or unique key constraints and data relationships specified using dimensions. This mode offers greater query rewrite capabilities but also creates the risk of incorrect results if any of the trusted relationships you have declared are incorrect.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">STALE_TOLERATED</code></p>
                           <p>In <code class="codeph">STALE_TOLERATED</code> mode, the optimizer uses materialized views that are valid but contain stale data as well as those that contain fresh data. This mode offers the maximum rewrite capability but creates the risk of generating inaccurate results.
                           </p>
                        </li>
                     </ul>
                     <p>If rewrite integrity is set to the safest level, <code class="codeph">ENFORCED</code>, the optimizer uses only enforced primary key constraints and referential integrity constraints to ensure that the results of the query are the same as the results when accessing the detail tables directly.
                     </p>
                     <p>If the rewrite integrity is set to levels other than <code class="codeph">ENFORCED</code>, there are several situations where the output with rewrite can be different from that without it:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A materialized view can be out of synchronization with the master copy of the data. This generally happens because the materialized view refresh procedure is pending following bulk load or DML operations to one or more detail tables of a materialized view. At some data warehouse sites, this situation is desirable because it is not uncommon for some materialized views to be refreshed at certain time intervals.</p>
                        </li>
                        <li>
                           <p>The relationships implied by the dimension objects are invalid. For example, values at a certain level in a hierarchy do not roll up to exactly one parent value. </p>
                        </li>
                        <li>
                           <p>The values stored in a prebuilt materialized view table might be incorrect.</p>
                        </li>
                        <li>
                           <p>A wrong answer can occur because of bad data relationships defined by unenforced table or view constraints.</p>
                        </li>
                     </ul>
                     <p>You can set <code class="codeph">QUERY_REWRITE_INTEGRITY</code> either in your initialization parameter file or using an <code class="codeph">ALTER SYSTEM</code> or <code class="codeph">ALTER SESSION</code> statement. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB" title="A materialized view is a query result stored in a table.">Query Rewrite with Materialized Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-19F8E323-0EE4-45AE-A88D-D29E76420206" name="GUID-19F8E323-0EE4-45AE-A88D-D29E76420206"></a><h4 id="TGSQL-GUID-19F8E323-0EE4-45AE-A88D-D29E76420206" class="sect4"><span class="enumeration_section">5.5.4 </span>Example of Query Rewrite
                  </h4>
                  <div>
                     <p>This example illustrates the power of query rewrite with materialized views.</p>
                     <div class="section">
                        <p>Consider the following materialized view, <code class="codeph">cal_month_sales_mv</code>, which provides an aggregation of the dollar amount sold in every month:
                        </p><pre class="pre codeblock"><code>CREATE MATERIALIZED VIEW cal_month_sales_mv
ENABLE QUERY REWRITE AS
SELECT t.calendar_month_desc, SUM(s.amount_sold) AS dollars
FROM sales s, times t WHERE s.time_id = t.time_id
GROUP BY t.calendar_month_desc;
</code></pre><p>Let us assume that, in a typical month, the number of sales in the store is around one million. So this materialized aggregate view has the precomputed aggregates for the dollar amount sold for each month.</p>
                        <p>Consider the following query, which asks for the sum of the amount sold at the store for each calendar month:</p><pre class="pre codeblock"><code>SELECT t.calendar_month_desc, SUM(s.amount_sold)
FROM sales s, times t WHERE s.time_id = t.time_id
GROUP BY t.calendar_month_desc;
</code></pre><p>In the absence of the previous materialized view and query rewrite feature, Oracle Database must access the <code class="codeph">sales</code> table directly and compute the sum of the amount sold to return the results. This involves reading many million rows from the <code class="codeph">sales</code> table, which will invariably increase the query response time due to the disk access. The join in the query will also further slow down the query response as the join needs to be computed on many million rows.
                        </p>
                        <p>In the presence of the materialized view <code class="codeph">cal_month_sales_mv</code>, query rewrite will transparently rewrite the previous query into the following query:
                        </p><pre class="pre codeblock"><code>SELECT calendar_month, dollars
FROM cal_month_sales_mv;
</code></pre><p>Because there are only a few dozen rows in the materialized view <code class="codeph">cal_month_sales_mv</code> and no joins, Oracle Database returns the results instantly. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-C736EE4D-336F-44A4-98CC-CC826103CBCB" title="A materialized view is a query result stored in a table.">Query Rewrite with Materialized Views</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-4CB77742-41A2-49D3-A04F-5C79EE237A3A" name="GUID-4CB77742-41A2-49D3-A04F-5C79EE237A3A"></a><h3 id="TGSQL-GUID-4CB77742-41A2-49D3-A04F-5C79EE237A3A" class="sect3"><span class="enumeration_section">5.6 </span>Statistics-Based Query Transformation
               </h3>
               <div>
                  <p>In some cases, Oracle Database can satisfy a query by querying table statistics rather than the table itself.</p>
                  <p>The advantage of a statistics-based transformation is that table statistics are typically much smaller than the table. The performance of metadata queries does not depend on the number of rows in the table, and therefore scales much better with large tables.</p>
                  <p>Table statistics include the number of rows and column-level details such as the minimum and maximum values and the number of distinct values (NDV). If the database knows that statistics are current, then the database can potentially answer some queries using statistics. Whether the database chooses the transformation depends on several internal factors, including the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Type of aggregation</p>
                        <p>For example, the aggregation may be <code class="codeph">MIN</code>, <code class="codeph">MAX</code>, <code class="codeph">COUNT</code>, or <code class="codeph">APPROXIMATE_COUNT_DISTINCT</code>.
                        </p>
                     </li>
                     <li>
                        <p>Accuracy of the statistics</p>
                        <p>When the data might not match the statistics, the optimizer does not perform the transformation. Factors that can make statistics inaccurate include partial (sampled) statistics, DML occurred after the last statistics collection, the statistics are imported, and artificial statistics generated with <code class="codeph">DBMS_STATS.SET_STATS</code>.
                        </p>
                     </li>
                     <li>
                        <p>Type of query</p>
                        <p>Optimizer statistics do not retain aggregation information about a group of values. For example, <code class="codeph">WHERE</code> clause predicates may prevent the optimizer from choosing the transformation.
                        </p>
                     </li>
                     <li>
                        <p>Location of query</p>
                        <p>The optimizer cannot choose the transformation when the query is inside a transaction.</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-4CB77742-41A2-49D3-A04F-5C79EE237A3A__GUID-3682B894-DB77-49ED-A764-15CA927C72EA">
                     <p class="titleinexample">Example 5-5 Sample Query</p>
                     <p>Assume that the <code class="codeph">sales</code> table has 81 million rows. You issue the following query:
                     </p><pre class="pre codeblock"><code>SELECT MAX(amt), MAX(volume) FROM sales;</code></pre><p>If the statistics are current, then the database can transform this query into a query of data dictionary tables. In the following plan, the view prefixed <code class="codeph">VW_SQT_</code> indicates that the statistics-based transformation was possible:
                     </p><pre class="pre codeblock"><code>--------------------------------------------------------------------------------
| Id  | Operation                | Name            | Rows | Bytes | Cost (%CPU)|
--------------------------------------------------------------------------------
|   0 | SELECT STATEMENT         |                 |      |       |   636 (100)|
|   1 |  VIEW                    | <span class="bold">VW_SQT_65BBF4BE</span> |    1 |    26 |   624  (76)|
|   2 |   SORT AGGREGATE         |                 |    1 |     7 |            |
|   3 |    PX COORDINATOR        |                 |      |       |            |
|   4 |     PX SEND QC (RANDOM)  | :TQ10000        |    1 |     7 |            |
|   5 |      SORT AGGREGATE      |                 |    1 |     7 |            |
|   6 |       PX BLOCK ITERATOR  |                 |   81M|   546M|   624  (76)|
|   7 |        TABLE ACCESS FULL | SALES           |   81M|   546M|   624  (76)|
--------------------------------------------------------------------------------</code></pre><p>The <code class="codeph">VW_SQT_65BBF4BE</code> view does not <span class="italic">prove</span> that the database retrieved statistics from the data dictionary because a DML statement might have prevented it. The plan indicates that the database may have scanned the <code class="codeph">sales</code> table.
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL94897"></a><div class="props_rev_3"><a id="GUID-EA178F1F-7564-4621-B884-19A202943421" name="GUID-EA178F1F-7564-4621-B884-19A202943421"></a><h3 id="TGSQL-GUID-EA178F1F-7564-4621-B884-19A202943421" class="sect3"><span class="enumeration_section">5.7 </span>Star Transformation
               </h3>
               <div>
                  <p>Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema. </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-76B6B58B-24B0-4DFE-AC1B-CFAC4D93C55A">About Star Schemas</a><br>A <span class="bold">star schema</span> divides data into facts and dimensions. 
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-2F24744C-EA75-4BC5-B065-B7181CB9299B">Purpose of Star Transformations</a><br>In joins of fact and dimension tables, a star transformation can avoid a full scan of a fact table.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-959DE4A3-3536-470C-90D2-855E62EB85CB">How Star Transformation Works</a><br>Star transformation adds subquery predicates, called <span class="bold">bitmap semijoin predicates</span>, corresponding to the constraint dimensions. 
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-E4A7FDE1-9C5C-4E37-8C62-738F725E0E8F">Controls for Star Transformation</a><br>The <code class="codeph">STAR_TRANSFORMATION_ENABLED</code> initialization parameter controls star transformations.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D">Star Transformation: Scenario</a><br>This scenario demonstrates a star transformation of a star query.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-BAE74D96-194A-4168-9490-33523BB10C1C">Temporary Table Transformation: Scenario</a><br>In the preceding scenario, the optimizer does not join back the table <code class="codeph">channels</code> to the <code class="codeph">sales</code> table because it is not referenced outside and the <code class="codeph">channel_id</code> is unique.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL94899"></a><a id="TGSQL94898"></a><div class="props_rev_3"><a id="GUID-76B6B58B-24B0-4DFE-AC1B-CFAC4D93C55A" name="GUID-76B6B58B-24B0-4DFE-AC1B-CFAC4D93C55A"></a><h4 id="TGSQL-GUID-76B6B58B-24B0-4DFE-AC1B-CFAC4D93C55A" class="sect4"><span class="enumeration_section">5.7.1 </span>About Star Schemas
                  </h4>
                  <div>
                     <p>A <span class="bold">star schema</span> divides data into facts and dimensions. 
                     </p>
                     <p>Facts are the measurements of an event such as a sale and are typically numbers. Dimensions are the categories that identify facts, such as date, location, and product.</p>
                     <p>A fact table has a composite key made up of the primary keys of the dimension tables of the schema. Dimension tables act as lookup or reference tables that enable you to choose values that constrain your queries.</p>
                     <p>Diagrams typically show a central fact table with lines joining it to the dimension tables, giving the appearance of a star. The following graphic shows <code class="codeph">sales</code> as the fact table and <code class="codeph">products</code>, <code class="codeph">times</code>, <code class="codeph">customers</code>, and <code class="codeph">channels</code> as the dimension tables.
                     </p>
                     <div class="figure" id="GUID-76B6B58B-24B0-4DFE-AC1B-CFAC4D93C55A__BABIFIGF">
                        <p class="titleinfigure">Figure 5-1 Star Schema</p><img src="img/dwhsg007.gif" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows" longdesc="img_text/dwhsg007.html"><br><a href="img_text/dwhsg007.html">Description of "Figure 5-1 Star Schema"</a></div>
                     <!-- class="figure" -->
                     <p>A <a href="glossary.html#GUID-67C99435-C3A9-4314-8533-D95973B6F12F"><span class="xrefglossterm">snowflake schema</span></a> is a star schema in which the dimension tables reference other tables. A <a href="glossary.html#GUID-C78984EF-7A22-4DDC-A3F8-DBF9FB904BDF"><span class="xrefglossterm">snowstorm schema</span></a> is a combination of snowflake schemas.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-76B6B58B-24B0-4DFE-AC1B-CFAC4D93C55A__GUID-E202C3B2-8E47-4722-B553-4253838BE67E">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=DWHSG9069" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> to learn more about star schemas
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-EA178F1F-7564-4621-B884-19A202943421" title="Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema.">Star Transformation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94900"></a><div class="props_rev_3"><a id="GUID-2F24744C-EA75-4BC5-B065-B7181CB9299B" name="GUID-2F24744C-EA75-4BC5-B065-B7181CB9299B"></a><h4 id="TGSQL-GUID-2F24744C-EA75-4BC5-B065-B7181CB9299B" class="sect4"><span class="enumeration_section">5.7.2 </span>Purpose of Star Transformations
                  </h4>
                  <div>
                     <p>In joins of fact and dimension tables, a star transformation can avoid a full scan of a fact table.</p>
                     <p> The star transformation improves performance by fetching only relevant fact rows that join to the constraint dimension rows. In some cases, queries have restrictive filters on other columns of the dimension tables. The combination of filters can dramatically reduce the data set that the database processes from the fact table.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-EA178F1F-7564-4621-B884-19A202943421" title="Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema.">Star Transformation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94901"></a><div class="props_rev_3"><a id="GUID-959DE4A3-3536-470C-90D2-855E62EB85CB" name="GUID-959DE4A3-3536-470C-90D2-855E62EB85CB"></a><h4 id="TGSQL-GUID-959DE4A3-3536-470C-90D2-855E62EB85CB" class="sect4"><span class="enumeration_section">5.7.3 </span>How Star Transformation Works
                  </h4>
                  <div>
                     <p>Star transformation adds subquery predicates, called <span class="bold">bitmap semijoin predicates</span>, corresponding to the constraint dimensions. 
                     </p>
                     <p>The optimizer performs the transformation when indexes exist on the fact join columns. By driving bitmap <code class="codeph">AND</code> and <code class="codeph">OR</code> operations of key values supplied by the subqueries, the database only needs to retrieve relevant rows from the fact table. If the predicates on the dimension tables filter out significant data, then the transformation can be more efficient than a full scan on the fact table.
                     </p>
                     <p>After the database has retrieved the relevant rows from the fact table, the database may need to join these rows back to the dimension tables using the original predicates. The database can eliminate the join back of the dimension table when the following conditions are met:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>All the predicates on dimension tables are part of the semijoin subquery predicate.</p>
                        </li>
                        <li>
                           <p>The columns selected from the subquery are unique.</p>
                        </li>
                        <li>
                           <p>The dimension columns are not in the <code class="codeph">SELECT</code> list, <code class="codeph">GROUP BY</code> clause, and so on.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-EA178F1F-7564-4621-B884-19A202943421" title="Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema.">Star Transformation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94902"></a><div class="props_rev_3"><a id="GUID-E4A7FDE1-9C5C-4E37-8C62-738F725E0E8F" name="GUID-E4A7FDE1-9C5C-4E37-8C62-738F725E0E8F"></a><h4 id="TGSQL-GUID-E4A7FDE1-9C5C-4E37-8C62-738F725E0E8F" class="sect4"><span class="enumeration_section">5.7.4 </span>Controls for Star Transformation
                  </h4>
                  <div>
                     <p>The <code class="codeph">STAR_TRANSFORMATION_ENABLED</code> initialization parameter controls star transformations.
                     </p>
                     <p>This parameter takes the following values:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">true</code></p>
                           <p>The optimizer performs the star transformation by identifying the fact and constraint dimension tables automatically. The optimizer performs the star transformation only if the cost of the transformed plan is lower than the alternatives. Also, the optimizer attempts temporary table transformation automatically whenever materialization improves performance (see <span class="q">"<a href="query-transformations.html#GUID-BAE74D96-194A-4168-9490-33523BB10C1C" title="In the preceding scenario, the optimizer does not join back the table channels to the sales table because it is not referenced outside and the channel_id is unique.">Temporary Table Transformation: Scenario</a>"</span>).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">false</code> (default)
                           </p>
                           <p>The optimizer does not perform star transformations.</p>
                        </li>
                        <li>
                           <p><code class="codeph">TEMP_DISABLE</code></p>
                           <p>This value is identical to <code class="codeph">true</code> except that the optimizer does not attempt temporary table transformation.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E4A7FDE1-9C5C-4E37-8C62-738F725E0E8F__GUID-6AA338AA-9AED-4622-B90B-A7870A3D1416">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=REFRN10213" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">STAR_TRANSFORMATION_ENABLED</code> initialization parameter
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-EA178F1F-7564-4621-B884-19A202943421" title="Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema.">Star Transformation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94904"></a><a id="TGSQL94905"></a><a id="TGSQL94906"></a><a id="TGSQL94903"></a><div class="props_rev_3"><a id="GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D" name="GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D"></a><h4 id="TGSQL-GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D" class="sect4"><span class="enumeration_section">5.7.5 </span>Star Transformation: Scenario
                  </h4>
                  <div>
                     <p>This scenario demonstrates a star transformation of a star query.</p>
                     <div class="example" id="GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D__BABFHIIH">
                        <p class="titleinexample">Example 5-6 Star Query</p>
                        <p>The following query finds the total Internet sales amount in all cities in California for quarters Q1 and Q2 of year 1999:</p><pre class="pre codeblock"><code>SELECT c.cust_city, 
       t.calendar_quarter_desc, 
       SUM(s.amount_sold) sales_amount
FROM   sales s, 
       times t, 
       customers c, 
       channels ch
WHERE  s.time_id = t.time_id
AND    s.cust_id = c.cust_id
AND    s.channel_id = ch.channel_id
AND    c.cust_state_province = 'CA'
AND    ch.channel_desc = 'Internet'
AND    t.calendar_quarter_desc IN ('1999-01','1999-02')
GROUP BY c.cust_city, t.calendar_quarter_desc;
</code></pre><p>Sample output is as follows:</p><pre class="pre codeblock"><code>CUST_CITY                      CALENDA SALES_AMOUNT
------------------------------ ------- ------------
Montara                        1999-02      1618.01
Pala                           1999-01      3263.93
Cloverdale                     1999-01        52.64
Cloverdale                     1999-02       266.28
. . .
</code></pre><p>In this example, <code class="codeph">sales</code> is the fact table, and the other tables are dimension tables. The <code class="codeph">sales</code> table contains one row for every sale of a product, so it could conceivably contain billions of sales records. However, only a few products are sold to customers in California through the Internet for the specified quarters. 
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D__BABDEJJD">
                        <p class="titleinexample">Example 5-7 Star Transformation</p>
                        <p>This example shows a star transformation of the query in <a href="query-transformations.html#GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D__BABFHIIH">Example 5-6</a>. The transformation avoids a full table scan of <code class="codeph">sales</code>.
                        </p><pre class="pre codeblock"><code>SELECT c.cust_city, t.calendar_quarter_desc, SUM(s.amount_sold) sales_amount
FROM   sales s, times t, customers c
WHERE  s.time_id = t.time_id
AND    s.cust_id = c.cust_id
AND    c.cust_state_province = 'CA'
AND    t.calendar_quarter_desc IN ('1999-01','1999-02')
AND    s.time_id IN ( SELECT time_id
                      FROM   times 
                      WHERE  calendar_quarter_desc IN('1999-01','1999-02') )
AND    s.cust_id IN ( SELECT cust_id
                      FROM   customers
                      WHERE  cust_state_province='CA' )
AND    s.channel_id IN ( SELECT channel_id  
                         FROM   channels 
                         WHERE  channel_desc = 'Internet' )
GROUP BY c.cust_city, t.calendar_quarter_desc;
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D__BABJECFB">
                        <p class="titleinexample">Example 5-8 Partial Execution Plan for Star Transformation</p>
                        <p>This example shows an edited version of the execution plan for the star transformation in <a href="query-transformations.html#GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D__BABDEJJD">Example 5-7</a>.
                        </p>
                        <p>Line 26 shows that the <code class="codeph">sales</code> table has an index access path instead of a full table scan. For each key value that results from the subqueries of <code class="codeph">channels</code> (line 14), <code class="codeph">times</code> (line 19), and <code class="codeph">customers</code> (line 24), the database retrieves a bitmap from the indexes on the <code class="codeph">sales</code> fact table (lines 15, 20, 25). 
                        </p>
                        <p>Each bit in the bitmap corresponds to a row in the fact table. The bit is set when the key value from the subquery is same as the value in the row of the fact table. For example, in the bitmap <code class="codeph">101000... </code>(the ellipses indicates that the values for the remaining rows are <code class="codeph">0</code>), rows 1 and 3 of the fact table have matching key values from the subquery.
                        </p>
                        <p>The operations in lines 12, 17, and 22 iterate over the keys from the subqueries and retrieve the corresponding bitmaps. In <a href="query-transformations.html#GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D__BABDEJJD">Example 5-7</a>, the <code class="codeph">customers</code> subquery seeks the IDs of customers whose state or province is <code class="codeph">CA</code>. Assume that the bitmap <code class="codeph">101000... </code>corresponds to the customer ID key value <code class="codeph">103515</code> from the <code class="codeph">customers</code> table subquery. Also assume that the <code class="codeph">customers</code> subquery produces the key value <code class="codeph">103516</code> with the bitmap <code class="codeph">010000...</code>, which means that only row 2 in <code class="codeph">sales</code> has a matching key value from the subquery. 
                        </p>
                        <p>The database merges (using the <code class="codeph">OR</code> operator) the bitmaps for each subquery (lines 11, 16, 21). In our <code class="codeph">customers</code> example, the database produces a single bitmap <code class="codeph">111000...</code> for the <code class="codeph">customers</code> subquery after merging the two bitmaps:
                        </p><pre class="pre codeblock"><code>101000...   # bitmap corresponding to key 103515
010000...   # bitmap corresponding to key 103516
---------
111000...   # result of OR operation
</code></pre><p>In line 10, the database applies the <code class="codeph">AND</code> operator to the merged bitmaps. Assume that after the database has performed all <code class="codeph">OR</code> operations, the resulting bitmap for <code class="codeph">channels</code> is <code class="codeph">100000...</code> If the database performs an <code class="codeph">AND</code> operation on this bitmap and the bitmap from <code class="codeph">customers</code> subquery, then the result is as follows:
                        </p><pre class="pre codeblock"><code>100000...   # channels bitmap after all OR operations performed
111000...   # customers bitmap after all OR operations performed
---------
100000...   # bitmap result of AND operation for channels and customers
</code></pre><p>In line 9, the database generates the corresponding rowids of the final bitmap. The database retrieves rows from the <code class="codeph">sales</code> fact table using the rowids (line 26). In our example, the database generate only one rowid, which corresponds to the first row, and thus fetches only a single row instead of scanning the entire <code class="codeph">sales</code> table. 
                        </p><pre class="pre codeblock"><code>-------------------------------------------------------------------------------
| Id  | Operation                         | Name
-------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                  |    
|   1 |  HASH GROUP BY                    | 
|*  2 |   HASH JOIN                       |
|*  3 |    TABLE ACCESS FULL              | CUSTOMERS
|*  4 |    HASH JOIN                      | 
|*  5 |     TABLE ACCESS FULL             | TIMES 
|   6 |     VIEW                          | VW_ST_B1772830 
|   7 |      NESTED LOOPS                 | 
|   8 |       PARTITION RANGE SUBQUERY    |  
|   9 |        BITMAP CONVERSION TO ROWIDS|  
|  10 |         BITMAP AND                |
|  11 |          BITMAP MERGE             | 
|  12 |           BITMAP KEY ITERATION    | 
|  13 |            BUFFER SORT            |
|* 14 |             TABLE ACCESS FULL     | CHANNELS 
|* 15 |            BITMAP INDEX RANGE SCAN| SALES_CHANNEL_BIX 
|  16 |          BITMAP MERGE             | 
|  17 |           BITMAP KEY ITERATION    |
|  18 |            BUFFER SORT            |
|* 19 |             TABLE ACCESS FULL     | TIMES 
|* 20 |            BITMAP INDEX RANGE SCAN| SALES_TIME_BIX
|  21 |          BITMAP MERGE             |
|  22 |           BITMAP KEY ITERATION    | 
|  23 |            BUFFER SORT            | 
|* 24 |             TABLE ACCESS FULL     | CUSTOMERS 
|* 25 |            BITMAP INDEX RANGE SCAN| SALES_CUST_BIX 
|  26 |       TABLE ACCESS BY USER ROWID  | SALES
-------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   2 - access("ITEM_1"="C"."CUST_ID")
   3 - filter("C"."CUST_STATE_PROVINCE"='CA')
   4 - access("ITEM_2"="T"."TIME_ID")
   5 - filter(("T"."CALENDAR_QUARTER_DESC"='1999-01' 
               OR "T"."CALENDAR_QUARTER_DESC"='1999-02'))
  14 - filter("CH"."CHANNEL_DESC"='Internet')
  15 - access("S"."CHANNEL_ID"="CH"."CHANNEL_ID")
  19 - filter(("T"."CALENDAR_QUARTER_DESC"='1999-01' 
               OR "T"."CALENDAR_QUARTER_DESC"='1999-02'))
  20 - access("S"."TIME_ID"="T"."TIME_ID")
  24 - filter("C"."CUST_STATE_PROVINCE"='CA')
  25 - access("S"."CUST_ID"="C"."CUST_ID")

Note
-----
   - star transformation used for this statement
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-EA178F1F-7564-4621-B884-19A202943421" title="Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema.">Star Transformation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94908"></a><a id="TGSQL94909"></a><a id="TGSQL94907"></a><div class="props_rev_3"><a id="GUID-BAE74D96-194A-4168-9490-33523BB10C1C" name="GUID-BAE74D96-194A-4168-9490-33523BB10C1C"></a><h4 id="TGSQL-GUID-BAE74D96-194A-4168-9490-33523BB10C1C" class="sect4"><span class="enumeration_section">5.7.6 </span>Temporary Table Transformation: Scenario
                  </h4>
                  <div>
                     <p>In the preceding scenario, the optimizer does not join back the table <code class="codeph">channels</code> to the <code class="codeph">sales</code> table because it is not referenced outside and the <code class="codeph">channel_id</code> is unique.
                     </p>
                     <p>If the optimizer cannot eliminate the join back, however, then the database stores the subquery results in a temporary table to avoid rescanning the dimension table for bitmap key generation and join back. Also, if the query runs in parallel, then the database materializes the results so that each parallel execution server can select the results from the temporary table instead of executing the subquery again.</p>
                     <div class="example" id="GUID-BAE74D96-194A-4168-9490-33523BB10C1C__BABFJIEJ">
                        <p class="titleinexample">Example 5-9 Star Transformation Using Temporary Table</p>
                        <p>In this example, the database materializes the results of the subquery on <code class="codeph">customers</code> into a temporary table:
                        </p><pre class="pre codeblock"><code>SELECT t1.c1 cust_city, t.calendar_quarter_desc calendar_quarter_desc, 
       SUM(s.amount_sold) sales_amount
FROM   sales s, sh.times t, sys_temp_0fd9d6621_e7e24 t1 
WHERE  s.time_id=t.time_id
AND    s.cust_id=t1.c0
AND    (t.calendar_quarter_desc='1999-q1' OR t.calendar_quarter_desc='1999-q2')
AND    s.cust_id IN    ( SELECT t1.c0 
                         FROM   sys_temp_0fd9d6621_e7e24 t1 )
AND    s.channel_id IN ( SELECT ch.channel_id 
                         FROM   channels ch
                         WHERE  ch.channel_desc='internet' )
AND    s.time_id IN    ( SELECT t.time_id
                         FROM   times t
                         WHERE  t.calendar_quarter_desc='1999-q1'
                         OR     t.calendar_quarter_desc='1999-q2' )
GROUP BY t1.c1, t.calendar_quarter_desc
</code></pre><div class="p">The optimizer replaces <code class="codeph">customers</code> with the temporary table <code class="codeph">sys_temp_0fd9d6621_e7e24</code>, and replaces references to columns <code class="codeph">cust_id</code> and <code class="codeph">cust_city</code> with the corresponding columns of the temporary table. The database creates the temporary table with two columns: <code class="codeph">(c0 NUMBER, c1 VARCHAR2(30))</code>. These columns correspond to <code class="codeph">cust_id</code> and <code class="codeph">cust_city</code> of the <code class="codeph">customers</code> table. The database populates the temporary table by executing the following query at the beginning of the execution of the previous query:<pre class="pre codeblock"><code>SELECT c.cust_id, c.cust_city FROM customers WHERE c.cust_state_province = 'CA'
</code></pre></div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BAE74D96-194A-4168-9490-33523BB10C1C__BABFJJCH">
                        <p class="titleinexample">Example 5-10 Partial Execution Plan for Star Transformation Using Temporary Table</p>
                        <p>The following example shows an edited version of the execution plan for the query in <a href="query-transformations.html#GUID-BAE74D96-194A-4168-9490-33523BB10C1C__BABFJIEJ">Example 5-9</a>:
                        </p><pre class="pre codeblock"><code>-------------------------------------------------------------------------------
| Id  | Operation                          | Name
-------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                   |
|   1 |  TEMP TABLE TRANSFORMATION         |
|   2 |   LOAD AS SELECT                   |
|*  3 |    TABLE ACCESS FULL               | CUSTOMERS
|   4 |   HASH GROUP BY                    | 
|*  5 |    HASH JOIN                       | 
|   6 |     TABLE ACCESS FULL              | SYS_TEMP_0FD9D6613_C716F 
|*  7 |     HASH JOIN                      | 
|*  8 |      TABLE ACCESS FULL             | TIMES 
|   9 |      VIEW                          | VW_ST_A3F94988 
|  10 |       NESTED LOOPS                 | 
|  11 |        PARTITION RANGE SUBQUERY    | 
|  12 |         BITMAP CONVERSION TO ROWIDS| 
|  13 |          BITMAP AND                | 
|  14 |           BITMAP MERGE             | 
|  15 |            BITMAP KEY ITERATION    |  
|  16 |             BUFFER SORT            |  
|* 17 |              TABLE ACCESS FULL     | CHANNELS 
|* 18 |             BITMAP INDEX RANGE SCAN| SALES_CHANNEL_BIX 
|  19 |           BITMAP MERGE             |  
|  20 |            BITMAP KEY ITERATION    | 
|  21 |             BUFFER SORT            |  
|* 22 |              TABLE ACCESS FULL     | TIMES 
|* 23 |             BITMAP INDEX RANGE SCAN| SALES_TIME_BIX 
|  24 |           BITMAP MERGE             |  
|  25 |            BITMAP KEY ITERATION    |  
|  26 |             BUFFER SORT            | 
|  27 |              TABLE ACCESS FULL     | SYS_TEMP_0FD9D6613_C716F 
|* 28 |             BITMAP INDEX RANGE SCAN| SALES_CUST_BIX 
|  29 |        TABLE ACCESS BY USER ROWID  | SALES 
-------------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 
   3 - filter("C"."CUST_STATE_PROVINCE"='CA')
   5 - access("ITEM_1"="C0")
   7 - access("ITEM_2"="T"."TIME_ID")
   8 - filter(("T"."CALENDAR_QUARTER_DESC"='1999-01' OR 
               "T"."CALENDAR_QUARTER_DESC"='1999-02'))
  17 - filter("CH"."CHANNEL_DESC"='Internet')
  18 - access("S"."CHANNEL_ID"="CH"."CHANNEL_ID")
  22 - filter(("T"."CALENDAR_QUARTER_DESC"='1999-01' OR 
               "T"."CALENDAR_QUARTER_DESC"='1999-02'))
  23 - access("S"."TIME_ID"="T"."TIME_ID")
  28 - access("S"."CUST_ID"="C0")
</code></pre><p>Lines 1, 2, and 3 of the plan materialize the <code class="codeph">customers</code> subquery into the temporary table. In line 6, the database scans the temporary table (instead of the subquery) to build the bitmap from the fact table. Line 27 scans the temporary table for joining back instead of scanning <code class="codeph">customers</code>. The database does not need to apply the filter on <code class="codeph">customers</code> on the temporary table because the filter is applied while materializing the temporary table.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-EA178F1F-7564-4621-B884-19A202943421" title="Star transformation is an optimizer transformation that avoids full table scans of fact tables in a star schema.">Star Transformation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-91434A26-E81E-4609-800B-4E179A63EDBC" name="GUID-91434A26-E81E-4609-800B-4E179A63EDBC"></a><h3 id="TGSQL-GUID-91434A26-E81E-4609-800B-4E179A63EDBC" class="sect3"><span class="enumeration_section">5.8 </span>In-Memory Aggregation (VECTOR GROUP BY)
               </h3>
               <div>
                  <p>The key optimization of in-memory aggregation is to aggregate while scanning. </p>
                  <p>To optimize query blocks involving aggregation and joins from a single large table to multiple small tables, such as in a typical star query, the transformation uses <code class="codeph">KEY VECTOR</code> and <code class="codeph">VECTOR GROUP BY</code> operations. These operations use efficient in-memory arrays for joins and aggregation, and are especially effective when the underlying tables are in-memory columnar tables.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-91434A26-E81E-4609-800B-4E179A63EDBC__GUID-750067BA-1F6C-4940-A511-94EED9B18972">
                     <p class="notep1">See Also:</p>
                     <p><a href="../inmem/optimizing-in-memory-aggregation.html#INMEM-GUID-2C4FA6C6-3DA8-4CEA-9EF0-294396D15077" target="_blank"><span><cite>Oracle Database In-Memory Guide</cite></span></a> to learn more about in-memory aggregation
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF" name="GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF"></a><h3 id="TGSQL-GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF" class="sect3"><span class="enumeration_section">5.9 </span>Cursor-Duration Temporary Tables
               </h3>
               <div>
                  <p>To materialize the intermediate results of a query, Oracle Database may implicitly create a <strong class="term">cursor-duration temporary table</strong> in memory during query compilation.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-CB9634BE-46B9-4AA3-B9A2-6013442C7FDB">Purpose of Cursor-Duration Temporary Tables</a><br>Complex queries sometimes process the same query block multiple times, which creates unnecessary performance overhead.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-A12A7ECA-069B-410D-8F01-E07BCBD5D754">How Cursor-Duration Temporary Tables Work</a><br>The definition of the cursor-definition temporary table resides in memory. The table definition is associated with the cursor, and is only visible to the session executing the cursor.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-2832BCE0-5BE3-49A8-8CB6-90BF7D075E26">Cursor-Duration Temporary Tables: Example</a><br>A <code class="codeph">WITH</code> query that repeats the same subquery can sometimes benefit from a cursor-duration temporary table.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-CB9634BE-46B9-4AA3-B9A2-6013442C7FDB" name="GUID-CB9634BE-46B9-4AA3-B9A2-6013442C7FDB"></a><h4 id="TGSQL-GUID-CB9634BE-46B9-4AA3-B9A2-6013442C7FDB" class="sect4"><span class="enumeration_section">5.9.1 </span>Purpose of Cursor-Duration Temporary Tables
                  </h4>
                  <div>
                     <p>Complex queries sometimes process the same query block multiple times, which creates unnecessary performance overhead.</p>
                     <p>To avoid this scenario, Oracle Database can automatically create temporary tables for the query results and store them in memory for the duration of the cursor. For complex operations such as <code class="codeph">WITH</code> clause queries, star transformations, and grouping sets, this optimization enhances the materialization of intermediate results from repetitively used subqueries. In this way, cursor-duration temporary tables improve performance and optimize I/O.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF" title="To materialize the intermediate results of a query, Oracle Database may implicitly create a cursor-duration temporary table in memory during query compilation.">Cursor-Duration Temporary Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-A12A7ECA-069B-410D-8F01-E07BCBD5D754" name="GUID-A12A7ECA-069B-410D-8F01-E07BCBD5D754"></a><h4 id="TGSQL-GUID-A12A7ECA-069B-410D-8F01-E07BCBD5D754" class="sect4"><span class="enumeration_section">5.9.2 </span>How Cursor-Duration Temporary Tables Work
                  </h4>
                  <div>
                     <p>The definition of the cursor-definition temporary table resides in memory. The table definition is associated with the cursor, and is only visible to the session executing the cursor.</p>
                     <p>When using cursor-duration temporary tables, the database performs the following steps:</p>
                     <ol>
                        <li>
                           <p>Chooses a plan that uses a cursor-duration temporary table</p>
                        </li>
                        <li>
                           <p>Creates the temporary table using a unique name</p>
                        </li>
                        <li>
                           <p>Rewrites the query to refer to the temporary table</p>
                        </li>
                        <li>
                           <p>Loads data into memory until no memory remains, in which case it creates temporary segments on disk</p>
                        </li>
                        <li>
                           <p>Executes the query, returning data from the temporary table</p>
                        </li>
                        <li>
                           <p>Truncates the table, releasing memory and any on-disk temporary segments</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-A12A7ECA-069B-410D-8F01-E07BCBD5D754__GUID-28464ECB-EDE7-450C-B854-9BC61914674C">
                        <p class="notep1">Note:</p>
                        <p>The metadata for the cursor-duration temporary table stays in memory as long as the cursor is in memory. The metadata is not stored in the data dictionary, which means it is not visible through data dictionary views. You cannot drop the metadata explicitly.</p>
                     </div>
                     <p>The preceding scenario depends on the availability of memory. For serial queries, the temporary tables use PGA memory.</p>
                     <p>The implementation of cursor-duration temporary tables is similar to sorts. If no more memory is available, then the database writes data to temporary segments. For cursor-duration temporary tables, the differences are as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The database releases memory and temporary segments at the end of the query rather than when the <a href="glossary.html#GUID-BDE98BD8-BC33-45AD-97BF-81831BF94B04"><span class="xrefglossterm">row source</span></a> is no longer active.
                           </p>
                        </li>
                        <li>
                           <p>Data in memory stays in memory, unlike in sorts where data can move between memory and temporary segments.</p>
                        </li>
                     </ul>
                     <p>When the database uses cursor-duration temporary tables, the keyword&nbsp;<code class="codeph">CURSOR DURATION MEMORY</code> appears in the execution plan. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF" title="To materialize the intermediate results of a query, Oracle Database may implicitly create a cursor-duration temporary table in memory during query compilation.">Cursor-Duration Temporary Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2832BCE0-5BE3-49A8-8CB6-90BF7D075E26" name="GUID-2832BCE0-5BE3-49A8-8CB6-90BF7D075E26"></a><h4 id="TGSQL-GUID-2832BCE0-5BE3-49A8-8CB6-90BF7D075E26" class="sect4"><span class="enumeration_section">5.9.3 </span>Cursor-Duration Temporary Tables: Example
                  </h4>
                  <div>
                     <p>A <code class="codeph">WITH</code> query that repeats the same subquery can sometimes benefit from a cursor-duration temporary table.
                     </p>
                     <div class="section">
                        <p>The following query uses a <code class="codeph">WITH</code> clause to create three subquery blocks:
                        </p><pre class="pre codeblock"><code>WITH 
  q1 AS (SELECT department_id, SUM(salary) sum_sal FROM hr.employees GROUP BY department_id),
  q2 AS (SELECT * FROM q1),
  q3 AS (SELECT department_id, sum_sal FROM q1)
SELECT * FROM q1
UNION ALL
SELECT * FROM q2
UNION ALL
SELECT * FROM q3;</code></pre><p>The following sample plan shows the transformation:</p><pre class="pre codeblock"><code>SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY_CURSOR(FORMAT=&gt;'BASIC +ROWS +COST'));

PLAN_TABLE_OUTPUT
--------------------------------------------------------------------------------------------
| Id | Operation                                 | Name                  |Rows |Cost (%CPU)|
--------------------------------------------------------------------------------------------
|  0 | SELECT STATEMENT                          |                           |     |6 (100)|
|  1 |  TEMP TABLE TRANSFORMATION                |                           |     |       |
|  2 |   LOAD AS SELECT (<span class="bold">CURSOR DURATION MEMORY</span>) | SYS_TEMP_0FD9D6606_1AE004 |     |       |
|  3 |    HASH GROUP BY                          |                           |  11 | 3 (34)|
|  4 |     TABLE ACCESS FULL                     | EMPLOYEES                 | 107 | 2 (0) |
|  5 |   UNION-ALL                               |                           |     |       |
|  6 |    VIEW                                   |                           |  11 | 2 (0) |
|  7 |     TABLE ACCESS FULL                     | SYS_TEMP_0FD9D6606_1AE004 |  11 | 2 (0) |
|  8 |    VIEW                                   |                           |  11 | 2 (0) |
|  9 |     TABLE ACCESS FULL                     | SYS_TEMP_0FD9D6606_1AE004 |  11 | 2 (0) |
| 10 |    VIEW                                   |                           |  11 | 2 (0) |
| 11 |     TABLE ACCESS FULL                     | SYS_TEMP_0FD9D6606_1AE004 |  11 | 2 (0) |
--------------------------------------------------------------------------------------------</code></pre><p>In the preceding plan, <code class="codeph">TEMP TABLE TRANSFORMATION</code> in Step 1 indicates that the database used cursor-duration temporary tables to execute the query. The <code class="codeph">CURSOR DURATION MEMORY</code> keyword in Step 2 indicates that the database used memory, if available, to store the results of <code class="codeph">SYS_TEMP_0FD9D6606_1AE004</code>. If memory was unavailable, then the database wrote the temporary data to disk.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF" title="To materialize the intermediate results of a query, Oracle Database may implicitly create a cursor-duration temporary table in memory during query compilation.">Cursor-Duration Temporary Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TGSQL94910"></a><div class="props_rev_3"><a id="GUID-6A6748FA-5803-4837-9A9F-525ED09BE481" name="GUID-6A6748FA-5803-4837-9A9F-525ED09BE481"></a><h3 id="TGSQL-GUID-6A6748FA-5803-4837-9A9F-525ED09BE481" class="sect3"><span class="enumeration_section">5.10 </span>Table Expansion
               </h3>
               <div>
                  <p>In <strong class="term">table expansion</strong>, the optimizer generates a plan that uses indexes on the read-mostly portion of a partitioned table, but not on the active portion of the table.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-685FF0DE-A670-40BF-BC6F-0292A0CCCA21">Purpose of Table Expansion</a><br>Index-based plans can improve performance, but index maintenance creates overhead. In many databases, DML affects only a small portion of the data.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-1AD0BA3C-668E-482F-9EA6-F085BF3E68E0">How Table Expansion Works</a><br>Table partitioning makes table expansion possible.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-74BE3861-35D4-453C-A983-F3317CDA8338">Table Expansion: Scenario</a><br>The optimizer keeps track of which partitions must be accessed from each table, based on predicates that appear in the query. Partition pruning enables the optimizer to use table expansion to generate more optimal plans.
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-C4E94706-3312-4BD6-B6C7-2F4264BB35E9">Table Expansion and Star Transformation: Scenario</a><br>Star transformation enables specific types of queries to avoid accessing large portions of big fact tables.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL94911"></a><div class="props_rev_3"><a id="GUID-685FF0DE-A670-40BF-BC6F-0292A0CCCA21" name="GUID-685FF0DE-A670-40BF-BC6F-0292A0CCCA21"></a><h4 id="TGSQL-GUID-685FF0DE-A670-40BF-BC6F-0292A0CCCA21" class="sect4"><span class="enumeration_section">5.10.1 </span>Purpose of Table Expansion
                  </h4>
                  <div>
                     <p>Index-based plans can improve performance, but index maintenance creates overhead. In many databases, DML affects only a small portion of the data.</p>
                     <p>Table expansion uses index-based plans for high-update tables. You can create an index only on the read-mostly data, eliminating index overhead on the active data. In this way, table expansion improves performance while avoiding index maintenance.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-6A6748FA-5803-4837-9A9F-525ED09BE481" title="In table expansion, the optimizer generates a plan that uses indexes on the read-mostly portion of a partitioned table, but not on the active portion of the table.">Table Expansion</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94912"></a><div class="props_rev_3"><a id="GUID-1AD0BA3C-668E-482F-9EA6-F085BF3E68E0" name="GUID-1AD0BA3C-668E-482F-9EA6-F085BF3E68E0"></a><h4 id="TGSQL-GUID-1AD0BA3C-668E-482F-9EA6-F085BF3E68E0" class="sect4"><span class="enumeration_section">5.10.2 </span>How Table Expansion Works
                  </h4>
                  <div>
                     <p>Table partitioning makes table expansion possible.</p>
                     <p>If a local index exists on a partitioned table, then the optimizer can mark the index as unusable for specific partitions. In effect, some partitions are not indexed. </p>
                     <p>In table expansion, the optimizer transforms the query into a <code class="codeph">UNION ALL</code> statement, with some subqueries accessing indexed partitions and other subqueries accessing unindexed partitions. The optimizer can choose the most efficient access method available for a partition, regardless of whether it exists for all of the partitions accessed in the query.
                     </p>
                     <p>The optimizer does not always choose table expansion:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Table expansion is cost-based.</p>
                           <p>While the database accesses each partition of the expanded table only once across all branches of the <code class="codeph">UNION ALL</code>, any tables that the database joins to it are accessed in each branch.
                           </p>
                        </li>
                        <li>
                           <p>Semantic issues may render expansion invalid.</p>
                           <p>For example, a table appearing on the right side of an outer join is not valid for table expansion.</p>
                        </li>
                     </ul>
                     <p>You can control table expansion with the hint <code class="codeph">EXPAND_TABLE</code> hint. The hint overrides the cost-based decision, but not the semantic checks.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1AD0BA3C-668E-482F-9EA6-F085BF3E68E0__GUID-A49F5B51-DA14-4F51-8FA0-5AC8CFFD0C1C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="influencing-the-optimizer.html#GUID-C558F7CF-446E-4078-B045-0B3BB026CB3C" title="Optimizer hints are special comments in a SQL statement that pass instructions to the optimizer.">Influencing the Optimizer with Hints</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Comments.html#SQLRF00219" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about SQL hints
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-6A6748FA-5803-4837-9A9F-525ED09BE481" title="In table expansion, the optimizer generates a plan that uses indexes on the read-mostly portion of a partitioned table, but not on the active portion of the table.">Table Expansion</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94914"></a><a id="TGSQL94913"></a><div class="props_rev_3"><a id="GUID-74BE3861-35D4-453C-A983-F3317CDA8338" name="GUID-74BE3861-35D4-453C-A983-F3317CDA8338"></a><h4 id="TGSQL-GUID-74BE3861-35D4-453C-A983-F3317CDA8338" class="sect4"><span class="enumeration_section">5.10.3 </span>Table Expansion: Scenario
                  </h4>
                  <div>
                     <p>The optimizer keeps track of which partitions must be accessed from each table, based on predicates that appear in the query. Partition pruning enables the optimizer to use table expansion to generate more optimal plans.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-74BE3861-35D4-453C-A983-F3317CDA8338__GUID-D7D5B988-6B9F-4142-8159-DFF3F7304753">Assumptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This scenario assumes the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You want to run a star query against the <code class="codeph">sh.sales</code> table, which is range-partitioned on the <code class="codeph">time_id</code> column.
                              </p>
                           </li>
                           <li>
                              <p>You want to disable indexes on specific partitions to see the benefits of table expansion.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-74BE3861-35D4-453C-A983-F3317CDA8338__GUID-6C7901A3-FE3B-4E46-8D2F-437A378F230A">To use table expansion:</p>
                        <ol>
                           <li>
                              <p>Log in to the database as the <code class="codeph">sh</code> user.
                              </p>
                           </li>
                           <li>
                              <p>Run the following query: </p><pre class="pre codeblock"><code>SELECT * 
FROM   sales 
WHERE  time_id &gt;= TO_DATE('2000-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS') 
AND    prod_id = 38;
</code></pre></li>
                           <li>
                              <p>Explain the plan by querying <code class="codeph">DBMS_XPLAN</code>:
                              </p><pre class="pre codeblock"><code>SET LINESIZE 150
SET PAGESIZE 0
SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY_CURSOR(format =&gt; 'BASIC,PARTITION'));
</code></pre><p>As shown in the <code class="codeph">Pstart</code> and <code class="codeph">Pstop</code> columns in the following plan, the optimizer determines from the filter that only 16 of the 28 partitions in the table must be accessed:
                              </p><pre class="pre codeblock"><code>Plan hash value: 3087065703
 
--------------------------------------------------------------------------
|Id| Operation                                  | Name      |Pstart|Pstop|
--------------------------------------------------------------------------
| 0| SELECT STATEMENT                           |              |    |    |
| 1|  PARTITION RANGE ITERATOR                  |              | 13 | 28 |
| 2|   TABLE ACCESS BY LOCAL INDEX ROWID BATCHED| SALES        | 13 | 28 |
| 3|    BITMAP CONVERSION TO ROWIDS             |              |    |    |
|*4|     BITMAP INDEX SINGLE VALUE              |SALES_PROD_BIX| 13 | 28 |
--------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 
   4 - access("PROD_ID"=38)
</code></pre><p>After the optimizer has determined the partitions to be accessed, it considers any index that is usable on all of those partitions. In the preceding plan, the optimizer chose to use the <code class="codeph">sales_prod_bix</code> bitmap index.
                              </p>
                           </li>
                           <li>
                              <p>Disable the index on the <code class="codeph">SALES_1995</code> partition of the <code class="codeph">sales</code> table:
                              </p><pre class="pre codeblock"><code>i</code></pre><p>The preceding DDL disables the index on partition 1, which contains all sales from before 1996.</p>
                              <div class="infoboxnote" id="GUID-74BE3861-35D4-453C-A983-F3317CDA8338__GUID-29D9127A-F87D-49B3-AEC0-85DBFFA916B8">
                                 <p class="notep1">Note:</p>
                                 <p>You can obtain the partition information by querying the <code class="codeph">USER_IND_PARTITIONS</code> view.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Execute the query of sales again, and then query <code class="codeph">DBMS_XPLAN</code> to obtain the plan.
                              </p>
                              <p>The output shows that the plan did not change:</p><pre class="pre codeblock"><code>Plan hash value: 3087065703
 
---------------------------------------------------------------------------
|Id| Operation                                  | Name        |Pstart|Pstop
---------------------------------------------------------------------------
| 0| SELECT STATEMENT                           |               |    |    |
| 1|  PARTITION RANGE ITERATOR                  |               | 13 | 28 |
| 2|   TABLE ACCESS BY LOCAL INDEX ROWID BATCHED| SALES         | 13 | 28 |
| 3|    BITMAP CONVERSION TO ROWIDS             |               |    |    |
|*4|     BITMAP INDEX SINGLE VALUE              | SALES_PROD_BIX| 13 | 28 |
---------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 
   4 - access("PROD_ID"=38)
</code></pre><p>The plan is the same because the disabled index partition is not relevant to the query. If all partitions that the query accesses are indexed, then the database can answer the query using the index. Because the query only accesses partitions 16 through 28, disabling the index on partition 1 does not affect the plan.</p>
                           </li>
                           <li>
                              <p>Disable the indexes for partition 28 (<code class="codeph">SALES_Q4_2003</code>), which is a partition that the query needs to access:
                              </p><pre class="pre codeblock"><code>ALTER INDEX sales_prod_bix MODIFY PARTITION sales_q4_2003 UNUSABLE;
ALTER INDEX sales_time_bix MODIFY PARTITION sales_q4_2003 UNUSABLE;
</code></pre><p>By disabling the indexes on a partition that the query does need to access, the query can no longer use this index (without table expansion). </p>
                           </li>
                           <li>
                              <p>Query the plan using <code class="codeph">DBMS_XPLAN</code>.
                              </p>
                              <p>As shown in the following plan, the optimizer does not use the index:</p><pre class="pre codeblock"><code>Plan hash value: 3087065703
 
---------------------------------------------------------------------------
| Id| Operation                              | Name           |Pstart|Pstop
---------------------------------------------------------------------------
| 0 | SELECT STATEMENT                       |                |      |    |
| 1 |  PARTITION RANGE ITERATOR              |                |  13  | 28 |
|*2 |   TABLE ACCESS FULL                    | SALES          |  13  | 28 |
---------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
   2 - access("PROD_ID"=38)
</code></pre><p>In the preceding example, the query accesses 16 partitions. On 15 of these partitions, an index is available, but no index is available for the final partition. Because the optimizer has to choose one access path or the other, the optimizer cannot use the index on any of the partitions. </p>
                           </li>
                           <li>
                              <p>With table expansion, the optimizer rewrites the original query as follows:</p><pre class="pre codeblock"><code>SELECT * 
FROM   sales 
WHERE  time_id &gt;= TO_DATE('2000-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS') 
AND    time_id <span class="bold">&lt;</span>  TO_DATE('2003-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS')
AND    prod_id = 38
UNION ALL
SELECT * 
FROM   sales 
WHERE  time_id &gt;= TO_DATE('2003-10-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS') 
AND    time_id <span class="bold">&lt;</span> TO_DATE('2004-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS')
AND    prod_id = 38;
</code></pre><p>In the preceding query, the first query block in the <code class="codeph">UNION ALL</code> accesses the partitions that are indexed, while the second query block accesses the partition that is not. The two subqueries enable the optimizer to choose to use the index in the first query block, if it is more optimal than using a table scan of all of the partitions that are accessed.
                              </p>
                           </li>
                           <li>
                              <p>Query the plan using <code class="codeph">DBMS_XPLAN</code>. 
                              </p>
                              <p>The plan appears as follows:</p><pre class="pre codeblock"><code>Plan hash value: 2120767686
 
---------------------------------------------------------------------------
|Id| Operation                                    | Name     |Pstart|Pstop|
---------------------------------------------------------------------------
| 0| SELECT STATEMENT                             |               |   |   |
| 1|  VIEW                                        | VW_TE_2       |   |   |
| 2|   UNION-ALL                                  |               |   |   |
| 3|    PARTITION RANGE ITERATOR                  |               | 13| 27|
| 4|     TABLE ACCESS BY LOCAL INDEX ROWID BATCHED| SALES         | 13| 27|
| 5|      BITMAP CONVERSION TO ROWIDS             |               |   |   |
|*6|       BITMAP INDEX SINGLE VALUE              | SALES_PROD_BIX| 13| 27|
| 7|    PARTITION RANGE SINGLE                    |               | 28| 28|
|*8|     TABLE ACCESS FULL                        | SALES         | 28| 28|
---------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 
   6 - access("PROD_ID"=38)
   8 - filter("PROD_ID"=38)
</code></pre><p>As shown in the preceding plan, the optimizer uses a <code class="codeph">UNION ALL</code> for two query blocks (Step 2). The optimizer chooses an index to access partitions 13 to 27 in the first query block (Step 6). Because no index is available for partition 28, the optimizer chooses a full table scan in the second query block (Step 8).
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-6A6748FA-5803-4837-9A9F-525ED09BE481" title="In table expansion, the optimizer generates a plan that uses indexes on the read-mostly portion of a partitioned table, but not on the active portion of the table.">Table Expansion</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94916"></a><a id="TGSQL94915"></a><div class="props_rev_3"><a id="GUID-C4E94706-3312-4BD6-B6C7-2F4264BB35E9" name="GUID-C4E94706-3312-4BD6-B6C7-2F4264BB35E9"></a><h4 id="TGSQL-GUID-C4E94706-3312-4BD6-B6C7-2F4264BB35E9" class="sect4"><span class="enumeration_section">5.10.4 </span>Table Expansion and Star Transformation: Scenario
                  </h4>
                  <div>
                     <p>Star transformation enables specific types of queries to avoid accessing large portions of big fact tables.</p>
                     <div class="section">
                        <p>Star transformation requires defining several indexes, which in an actively updated table can have overhead. With table expansion, you can define indexes on only the inactive partitions so that the optimizer can consider star transformation on only the indexed portions of the table.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4E94706-3312-4BD6-B6C7-2F4264BB35E9__GUID-FCFEED11-4D8A-4933-AEEB-8FC4C04745FB">Assumptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This scenario assumes the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You query the same schema used in <span class="q">"<a href="query-transformations.html#GUID-0694077E-BF83-4D52-99E7-A436C29A6F6D" title="This scenario demonstrates a star transformation of a star query.">Star Transformation: Scenario</a>"</span>. 
                              </p>
                           </li>
                           <li>
                              <p>The last partition of <code class="codeph">sales</code> is actively being updated, as is often the case with time-partitioned tables.
                              </p>
                           </li>
                           <li>
                              <p>You want the optimizer to take advantage of table expansion.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4E94706-3312-4BD6-B6C7-2F4264BB35E9__GUID-62BA2BF6-BFE1-4327-BC17-923935B4B477">To take advantage of table expansion in a star query:</p>
                        <ol>
                           <li>
                              <p>Disable the indexes on the last partition as follows:</p><pre class="pre codeblock"><code>ALTER INDEX sales_channel_bix MODIFY PARTITION sales_q4_2003 UNUSABLE;
ALTER INDEX sales_cust_bix MODIFY PARTITION sales_q4_2003 UNUSABLE;
</code></pre></li>
                           <li>
                              <p>Execute the following star query:</p><pre class="pre codeblock"><code>SELECT t.calendar_quarter_desc, SUM(s.amount_sold) sales_amount 
FROM   sales s, times t, customers c, channels ch
WHERE  s.time_id = t.time_id 
AND    s.cust_id = c.cust_id 
AND    s.channel_id = ch.channel_id 
AND    c.cust_state_province = 'CA' 
AND    ch.channel_desc = 'Internet'
AND    t.calendar_quarter_desc IN ('1999-01','1999-02') 
GROUP BY t.calendar_quarter_desc;
</code></pre></li>
                           <li>
                              <p>Query the cursor using <code class="codeph">DBMS_XPLAN</code>, which shows the following plan:
                              </p><pre class="pre codeblock"><code>---------------------------------------------------------------------------
|Id| Operation                          | Name            | Pstart| Pstop |
---------------------------------------------------------------------------
| 0| SELECT STATEMENT                   |                 |       |       |
| 1|  HASH GROUP BY                     |                 |       |       |
| 2|   VIEW                             |VW_TE_14         |       |       |
| 3|    UNION-ALL                       |                 |       |       |
| 4|     HASH JOIN                      |                 |       |       |
| 5|      TABLE ACCESS FULL             |TIMES            |       |       |
| 6|      VIEW                          |VW_ST_1319B6D8   |       |       |
| 7|       NESTED LOOPS                 |                 |       |       |
| 8|        PARTITION RANGE SUBQUERY    |                 |KEY(SQ)|KEY(SQ)|
| 9|         BITMAP CONVERSION TO ROWIDS|                 |       |       |
|10|          BITMAP AND                |                 |       |       |
|11|           BITMAP MERGE             |                 |       |       |
|12|            BITMAP KEY ITERATION    |                 |       |       |
|13|             BUFFER SORT            |                 |       |       |
|14|              TABLE ACCESS FULL     |CHANNELS         |       |       |
|15|             BITMAP INDEX RANGE SCAN|SALES_CHANNEL_BIX|KEY(SQ)|KEY(SQ)|
|16|           BITMAP MERGE             |                 |       |       |
|17|            BITMAP KEY ITERATION    |                 |       |       |
|18|             BUFFER SORT            |                 |       |       |
|19|              TABLE ACCESS FULL     |TIMES            |       |       |
|20|             BITMAP INDEX RANGE SCAN|SALES_TIME_BIX   |KEY(SQ)|KEY(SQ)|
|21|           BITMAP MERGE             |                 |       |       |
|22|            BITMAP KEY ITERATION    |                 |       |       |
|23|             BUFFER SORT            |                 |       |       |
|24|              TABLE ACCESS FULL     |CUSTOMERS        |       |       |
|25|             BITMAP INDEX RANGE SCAN|SALES_CUST_BIX   |KEY(SQ)|KEY(SQ)|
|26|        TABLE ACCESS BY USER ROWID  |SALES            | ROWID | ROWID |
|27|     NESTED LOOPS                   |                 |       |       |
|28|      NESTED LOOPS                  |                 |       |       |
|29|       NESTED LOOPS                 |                 |       |       |
|30|        NESTED LOOPS                |                 |       |       |
|31|         PARTITION RANGE SINGLE     |                 |    28 |    28 |
|32|          <span class="bold">TABLE ACCESS FULL</span>         |<span class="bold">SALES</span>            |    <span class="bold">28</span> |    <span class="bold">28</span> |
|33|         TABLE ACCESS BY INDEX ROWID|CHANNELS         |       |       |
|34|          INDEX UNIQUE SCAN         |CHANNELS_PK      |       |       |
|35|        TABLE ACCESS BY INDEX ROWID |CUSTOMERS        |       |       |
|36|         INDEX UNIQUE SCAN          |CUSTOMERS_PK     |       |       |
|37|       INDEX UNIQUE SCAN            |TIMES_PK         |       |       |
|38|      TABLE ACCESS BY INDEX ROWID   |TIMES            |       |       |
---------------------------------------------------------------------------
</code></pre><p>The preceding plan uses table expansion. The <code class="codeph">UNION ALL</code> branch that is accessing every partition except the last partition uses star transformation. Because the indexes on partition 28 are disabled, the database accesses the final partition using a full table scan.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-6A6748FA-5803-4837-9A9F-525ED09BE481" title="In table expansion, the optimizer generates a plan that uses indexes on the read-mostly portion of a partitioned table, but not on the active portion of the table.">Table Expansion</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TGSQL94931"></a><div class="props_rev_3"><a id="GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06" name="GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06"></a><h3 id="TGSQL-GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06" class="sect3"><span class="enumeration_section">5.11 </span>Join Factorization
               </h3>
               <div>
                  <p>In the cost-based transformation known as <strong class="term">join factorization</strong>, the optimizer can factorize common computations from branches of a <code class="codeph">UNION ALL</code> query.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-41FA8384-23FF-4683-B1FC-61853209565C">Purpose of Join Factorization</a><br><code class="codeph">UNION ALL</code> queries are common in database applications, especially in data integration applications. 
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD">How Join Factorization Works</a><br>Join factorization can factorize multiple tables and from more than two <code class="codeph">UNION ALL</code> branches. 
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D">Factorization and Join Orders: Scenario</a><br>Join factorization can create more possibilities for join orders
                     </li>
                     <li class="ulchildlink"><a href="query-transformations.html#GUID-FA012F21-6BEF-444A-89E4-4DCDBC9F0225">Factorization of Outer Joins: Scenario</a><br>The database supports join factorization of outer joins, antijoins, and semijoins, but only for the right tables in such joins. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B2914447-CD6D-411C-8467-6E10E78F3DE0" title="This chapter describes the most important optimizer techniques for transforming queries.">Query Transformations</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL94932"></a><div class="props_rev_3"><a id="GUID-41FA8384-23FF-4683-B1FC-61853209565C" name="GUID-41FA8384-23FF-4683-B1FC-61853209565C"></a><h4 id="TGSQL-GUID-41FA8384-23FF-4683-B1FC-61853209565C" class="sect4"><span class="enumeration_section">5.11.1 </span>Purpose of Join Factorization
                  </h4>
                  <div>
                     <p><code class="codeph">UNION ALL</code> queries are common in database applications, especially in data integration applications. 
                     </p>
                     <p>Often, branches in a <code class="codeph">UNION ALL</code> query refer to the same base tables. Without join factorization, the optimizer evaluates each branch of a <code class="codeph">UNION ALL</code> query independently, which leads to repetitive processing, including data access and joins. Join factorization transformation can share common computations across the <code class="codeph">UNION ALL</code> branches. Avoiding an extra scan of a large base table can lead to a huge performance improvement.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06" title="In the cost-based transformation known as join factorization, the optimizer can factorize common computations from branches of a UNION ALL query.">Join Factorization</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94934"></a><a id="TGSQL94935"></a><a id="TGSQL94933"></a><div class="props_rev_3"><a id="GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD" name="GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD"></a><h4 id="TGSQL-GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD" class="sect4"><span class="enumeration_section">5.11.2 </span>How Join Factorization Works
                  </h4>
                  <div>
                     <p>Join factorization can factorize multiple tables and from more than two <code class="codeph">UNION ALL</code> branches. 
                     </p>
                     <p>Join factorization is best explained through examples. </p>
                     <div class="example" id="GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD__BABCAIGD">
                        <p class="titleinexample">Example 5-11 UNION ALL Query</p>
                        <p>The following query shows a query of four tables (<code class="codeph">t1</code>, <code class="codeph">t2</code>, <code class="codeph">t3</code>, and <code class="codeph">t4</code>) and two <code class="codeph">UNION ALL</code> branches:
                        </p><pre class="pre codeblock"><code>SELECT t1.c1, t2.c2
FROM   <span class="bold">t1</span>, t2, t3
WHERE  <span class="bold">t1.c1 = t2.c1</span> 
AND    <span class="bold">t1.c1 &gt; 1</span>
AND    t2.c2 = 2
AND    t2.c2 = t3.c2 
UNION ALL
SELECT t1.c1, t2.c2
FROM   <span class="bold">t1</span>, t2, t4
WHERE  <span class="bold">t1.c1 = t2.c1</span> 
AND    <span class="bold">t1.c1 &gt; 1</span>
AND    t2.c3 = t4.c3
</code></pre><p>In the preceding query, table <code class="codeph">t1</code> appears in both <code class="codeph">UNION ALL</code> branches, as does the filter predicate <code class="codeph">t1.c1 &gt; 1</code> and the join predicate <code class="codeph">t1.c1 = t2.c1</code>. Without any transformation, the database must perform the scan and the filtering on table <code class="codeph">t1</code> twice, one time for each branch.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD__BABFAEBB">
                        <p class="titleinexample">Example 5-12 Factorized Query </p>The following query uses join factorization to transform the query in <a href="query-transformations.html#GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD__BABCAIGD">Example 5-11</a>.<pre class="pre codeblock"><code>SELECT t1.c1, VW_JF_1.item_2
FROM   <span class="bold">t1</span>, (SELECT t2.c1 item_1, t2.c2 item_2
            FROM   t2, t3
            WHERE  t2.c2 = t3.c2 
            AND    t2.c2 = 2                 
            UNION ALL
            SELECT t2.c1 item_1, t2.c2 item_2
            FROM   t2, t4 
            WHERE  t2.c3 = t4.c3) VW_JF_1
WHERE  <span class="bold">t1.c1 = VW_JF_1.item_1</span> 
AND    <span class="bold">t1.c1 &gt; 1</span>
</code></pre><p>In this case, because table <code class="codeph">t1</code> is factorized, the database performs the table scan and the filtering on <code class="codeph">t1</code> only one time. If <code class="codeph">t1</code> is large, then this factorization avoids the huge performance cost of scanning and filtering <code class="codeph">t1</code> twice.
                        </p>
                        <div class="infoboxnote" id="GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD__GUID-0A2942E9-58DE-454D-8690-1662E9A9027A">
                           <p class="notep1">Note:</p>
                           <p>If the branches in a <code class="codeph">UNION ALL</code> query have clauses that use the <code class="codeph">DISTINCT</code> function, then join factorization is not valid.
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06" title="In the cost-based transformation known as join factorization, the optimizer can factorize common computations from branches of a UNION ALL query.">Join Factorization</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94937"></a><a id="TGSQL94938"></a><a id="TGSQL94939"></a><a id="TGSQL94936"></a><div class="props_rev_3"><a id="GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D" name="GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D"></a><h4 id="TGSQL-GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D" class="sect4"><span class="enumeration_section">5.11.3 </span>Factorization and Join Orders: Scenario
                  </h4>
                  <div>
                     <p>Join factorization can create more possibilities for join orders</p>
                     <div class="example" id="GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D__BABFEJHJ">
                        <p class="titleinexample">Example 5-13 Query Involving Five Tables</p>
                        <p>In the following query, view <code class="codeph">V</code> is same as the query as in <a href="query-transformations.html#GUID-253951D9-63D9-4989-86F6-FA4AC6AFF0BD__BABCAIGD">Example 5-11</a>:
                        </p><pre class="pre codeblock"><code>SELECT *
FROM   t5, (SELECT t1.c1, t2.c2
            FROM   t1, t2, t3
            WHERE  t1.c1 = t2.c1 
            AND    t1.c1 &gt; 1 
            AND    t2.c2 = 2 
            AND    t2.c2 = t3.c2 
            UNION ALL
            SELECT t1.c1, t2.c2
            FROM   t1, t2, t4
            WHERE  t1.c1 = t2.c1 
            AND    t1.c1 &gt; 1 
            AND    t2.c3 = t4.c3) V
WHERE  t5.c1 = V.c1</code></pre>Before join factorization, the database must join <code class="codeph">t1</code>, <code class="codeph">t2</code>, and <code class="codeph">t3</code> before joining them with <code class="codeph">t5</code>. 
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D__BABIGECD">
                        <p class="titleinexample">Example 5-14 Factorization of t1 from View V</p>
                        <p>If join factorization factorizes <code class="codeph">t1</code> from view <code class="codeph">V</code>, as shown in the following query, then the database can join <code class="codeph">t1</code> with <code class="codeph">t5</code>.:
                        </p><pre class="pre codeblock"><code>SELECT *
FROM   <span class="bold">t5</span>, ( SELECT t1.c1, VW_JF_1.item_2
             FROM   <span class="bold">t1</span>, (SELECT t2.c1 item_1, t2.c2 item_2
                         FROM   t2, t3
                         WHERE  t2.c2 = t3.c2
                         AND    t2.c2 = 2
                         UNION ALL
                         SELECT t2.c1 item_1, t2.c2 item_2
                         FROM   t2, t4
                         WHERE  t2.c3 = t4.c3) VW_JF_1 
             WHERE  t1.c1 = VW_JF_1.item_1 
             AND    t1.c1 &gt; 1 )
WHERE  t5.c1 = V.c1
</code></pre><p>The preceding query transformation opens up new join orders. However, join factorization imposes specific join orders. For example, in the preceding query, tables <code class="codeph">t2</code> and <code class="codeph">t3</code> appear in the first branch of the <code class="codeph">UNION ALL</code> query in view <code class="codeph">VW_JF_1</code>. The database must join <code class="codeph">t2</code> with <code class="codeph">t3</code> before it can join with <code class="codeph">t1</code>, which is not defined within the <code class="codeph">VW_JF_1</code> view. The imposed join order may not necessarily be the best join order. For this reason, the optimizer performs join factorization using the cost-based transformation framework. The optimizer calculates the cost of the plans with and without join factorization, and then chooses the cheapest plan.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D__BABFAEGB">
                        <p class="titleinexample">Example 5-15 Factorization of t1 from View V with View Definition Removed</p>
                        <p>The following query is the same query in <a href="query-transformations.html#GUID-E3AA79CC-74CA-44C0-A15B-1827FE27609D__BABIGECD">Example 5-14</a>, but with the view definition removed so that the factorization is easier to see:
                        </p><pre class="pre codeblock"><code>SELECT *
FROM   <span class="bold">t5</span>, (SELECT t1.c1, VW_JF_1.item_2
            FROM   <span class="bold">t1</span>, VW_JF_1
            WHERE  t1.c1 = VW_JF_1.item_1
            AND    t1.c1 &gt; 1)
WHERE  t5.c1 = V.c1
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06" title="In the cost-based transformation known as join factorization, the optimizer can factorize common computations from branches of a UNION ALL query.">Join Factorization</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94941"></a><a id="TGSQL94942"></a><a id="TGSQL94940"></a><div class="props_rev_3"><a id="GUID-FA012F21-6BEF-444A-89E4-4DCDBC9F0225" name="GUID-FA012F21-6BEF-444A-89E4-4DCDBC9F0225"></a><h4 id="TGSQL-GUID-FA012F21-6BEF-444A-89E4-4DCDBC9F0225" class="sect4"><span class="enumeration_section">5.11.4 </span>Factorization of Outer Joins: Scenario
                  </h4>
                  <div>
                     <p>The database supports join factorization of outer joins, antijoins, and semijoins, but only for the right tables in such joins. </p>
                     <p>For example, join factorization can transform the following <code class="codeph">UNION ALL</code> query by factorizing <code class="codeph">t2</code>:
                     </p><pre class="pre codeblock"><code>SELECT t1.c2, t2.c2
FROM   t1, t2
WHERE  t1.c1 = t2.c1(+) 
AND    t1.c1 = 1
UNION ALL
SELECT t1.c2, t2.c2
FROM   t1, t2
WHERE  t1.c1 = t2.c1(+) 
AND    t1.c1 = 2
</code></pre><p>The following example shows the transformation. Table <code class="codeph">t2</code> now no longer appears in the <code class="codeph">UNION ALL</code> branches of the subquery.
                     </p><pre class="pre codeblock"><code>SELECT VW_JF_1.item_2, t2.c2
FROM   t2, (SELECT t1.c1 item_1, t1.c2 item_2
            FROM   t1
            WHERE  t1.c1 = 1
            UNION ALL
            SELECT t1.c1 item_1, t1.c2 item_2
            FROM   t1
            WHERE  t1.c1 = 2) VW_JF_1
WHERE  VW_JF_1.item_1 = t2.c1(+)</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="query-transformations.html#GUID-B47BEFB3-D72D-462A-9B96-C3B1F8F48C06" title="In the cost-based transformation known as join factorization, the optimizer can factorize common computations from branches of a UNION ALL query.">Join Factorization</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03610.PGA-20900.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>PGA-20900 to PGA-22014</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Error Messages">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Error Messages">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-error-messages.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T07:32:34-07:00">
      <meta name="dcterms.title" content="Database Error Messages">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95938-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="PCC-02010.html" title="Previous" type="text/html">
      <link rel="next" href="PGU-00100.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ERRMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PCC-02010.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="PGU-00100.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Error Messages</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> PGA-20900 to PGA-22014</li>
            </ol>
            <a id="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD" name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD"></a>
            
            <h2 id="ERRMG-GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD" class="sect2"><span class="enumeration_chapter">101 </span> PGA-20900 to PGA-22014
            </h2>
         </header>
         <div class="ind">
            <div>
               <dl>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-059119FD-B902-40E9-8315-90435C7629AD">
                        <!-- --></a>
PGA-20900: unable to obtain <span class="variable" translate="no">number</span> bytes of storage for <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Memory shortage in the gateway server process.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure your system has enough available memory to support the number of concurrent users you are running.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-242EB3C2-88B2-4BCB-BE12-8E429043C882">
                        <!-- --></a>
PGA-20901: internal gateway error: <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Internal error in the gateway server process.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Reproduce the error with debugging enabled to produce a log file. Supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-0658F4A9-A67E-402C-8EC4-2C44AF423E25">
                        <!-- --></a>
PGA-20905: invalid conversation id: no active conversations were found
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
There were no APPC conversations active for the user.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the application is not calling the PL/SQL TIP routines out of sequence.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-0FD22ACD-AB5E-4DF5-9097-1D19375ADD26">
                        <!-- --></a>
PGA-20906: invalid conversation id: no matching conversation was found
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The conversation id received from the caller is not a valid active conversation id.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the application is not calling the PL/SQL TIP routines out of sequence.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-2D142F4E-EDAB-4F68-8B8C-A3A72D212964">
                        <!-- --></a>
PGA-20907: preceding error occurred during gateway <span class="variable" translate="no">string</span> processing
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred processing the Oracle function <span class="variable" translate="no">func</span>. This message is preceded by additional messages providing more detailed information about the error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Refer to the messages preceding this one to determine the course of action to take.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-583742DC-9CE4-4DED-9885-A700F665CB20">
                        <!-- --></a>
PGA-20910: communication error: CPI-C <span class="variable" translate="no">string</span> failed, rc = <span class="variable" translate="no">number</span>, errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An unexpected communication error occurred while executing the specified CPI-C function <span class="variable" translate="no">func</span>. The CPI-C function return code <span class="variable" translate="no">rc</span> and system error number <span class="variable" translate="no">errno</span> are provided in the message text. The CPI-C function return codes and system error numbers are described in the vendor documentation.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Determine the cause of the communications error, correct it, and rerun the transaction.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-85D0B0A3-0CD7-481F-A668-3462AF85C28F">
                        <!-- --></a>
PGA-20911: update transaction is already active with TP <span class="variable" translate="no">string</span> at LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Transaction <span class="variable" translate="no">tpname</span> has already been started at LU <span class="variable" translate="no">luname</span> by a PGAINIT call with synclevel set to 1 or 2. Only one transaction at synclevel 1 or 2 is allowed at any given time.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The new transaction is not started. Change your application to start the second update transaction after the first one has completed, or to use a different gateway database link for the second update transaction.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-4C22EF52-004D-4FF9-A7F4-CA03AF6D8050">
                        <!-- --></a>
PGA-20912: send and receive buffer lengths cannot both be zero
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Both the send and receive buffer lengths passed to PGAXFER were zero. This is invalid.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-2D06A04B-40DB-4803-AD2F-4E3914B80959">
                        <!-- --></a>
PGA-20914: send buffer length of <span class="variable" translate="no">number</span> exceeds actual send buffer size of <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The send buffer length <span class="variable" translate="no">len</span> passed to PGAXFER was larger than the actual size <span class="variable" translate="no">size</span> of the send buffer passed to PGAXFER.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-71C447E8-C539-4AB3-AA9D-967418515412">
                        <!-- --></a>
PGA-20915: receive buffer length of <span class="variable" translate="no">number</span> exceeds the maximum of <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The receive buffer length <span class="variable" translate="no">len</span> passed to PGAXFER was larger than the maximum allowed length <span class="variable" translate="no">max</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-019168AF-EA52-4D1E-9515-35611B551A07">
                        <!-- --></a>
PGA-20916: send count is <span class="variable" translate="no">number</span> but only <span class="variable" translate="no">number</span> send lengths were specified
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The first value <span class="variable" translate="no">count</span> in the send lengths array passed to PGAXFER specified more elements than the send lengths array contained. Only <span class="variable" translate="no">num</span> elements were found in the array.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-31733DA0-AD5A-4C5D-81BB-8C87776C8452">
                        <!-- --></a>
PGA-20917: receive count is <span class="variable" translate="no">number</span> but only <span class="variable" translate="no">number</span> receive lengths were specified
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The first value <span class="variable" translate="no">count</span> in the receive lengths array passed to PGAXFER specified more elements than the receive lengths array contained. Only <span class="variable" translate="no">num</span> elements were found in the array.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C5D413FC-4A6E-46E8-A107-674E386F0C69">
                        <!-- --></a>
PGA-20918: send length number <span class="variable" translate="no">number</span> is <span class="variable" translate="no">number</span> but only <span class="variable" translate="no">number</span> bytes are left in the buffer
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The length <span class="variable" translate="no">len</span> specified in send lengths array element number <span class="variable" translate="no">num</span> exceeded the number of bytes <span class="variable" translate="no">bytes</span> of data remaining in the send buffer.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-4ECEC261-A707-46B5-B6F6-6E65AEB12459">
                        <!-- --></a>
PGA-20919: receive length number <span class="variable" translate="no">number</span> is <span class="variable" translate="no">number</span> but only <span class="variable" translate="no">number</span> bytes are left in the buffer
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The length <span class="variable" translate="no">len</span> specified in receive lengths array element number <span class="variable" translate="no">num</span> exceeded the number of bytes <span class="variable" translate="no">bytes</span> of space remaining in the receive buffer.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-81365ED9-04CD-4607-B571-BE11CCE8C351">
                        <!-- --></a>
PGA-20920: unexpected request-to-send received
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The remote transaction program requested to send data when the gateway was still sending data.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-68A8634A-5AF7-48FD-B33D-C9C11370074D">
                        <!-- --></a>
PGA-20921: buffer overflow on receive: requested <span class="variable" translate="no">number</span> bytes, received <span class="variable" translate="no">number</span> bytes
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The remote transaction program sent <span class="variable" translate="no">len</span> bytes of data when the gateway was expecting to receive only <span class="variable" translate="no">num</span> bytes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5B998336-AEA7-4B62-9D7F-8B0E08246A93">
                        <!-- --></a>
PGA-20922: no data available to receive: <span class="variable" translate="no">number</span> bytes were requested
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The remote transaction program has either requested to receive or deallocated the conversation, but the gateway is still expecting to receive more data.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-6782EEAD-1BCC-4F39-B7B6-4204C0722FBA">
                        <!-- --></a>
PGA-20923: unexpected status, <span class="variable" translate="no">number</span> (<span class="variable" translate="no">string</span>), received after <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An unexpected status code <span class="variable" translate="no">stat</span> was received from the remote transaction program following the CPI-C <span class="variable" translate="no">func</span> call. The descriptive name of the status code is <span class="variable" translate="no">desc</span>. <span class="variable" translate="no">func</span> is the CPI-C function receiving the status.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This is usually a problem with the remote transaction program or a network problem. The status codes for each CPI-C function call are documented in the platform-specific SNA software documentation for your system. Refer to the "System Requirements" chapter of the Oracle Database Gateway for APPC Installation and Configuration Guide for your platform for titles of SNA software documentation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-727454E6-12EE-4FBD-823B-E6EC665E1647">
                        <!-- --></a>
PGA-20924: unable to enter send state for deallocate, state = <span class="variable" translate="no">number</span> (<span class="variable" translate="no">string</span>)
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The gateway was unable to enter send state to perform a normal deallocation. The conversation state is <span class="variable" translate="no">state</span>, and its descriptive name is <span class="variable" translate="no">desc</span>. The conversation states are documented in the /usr/include/cmc.h header file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This is usually a problem with the remote transaction program or a problem with the network. Check the remote system for diagnostic information. The gateway will perform an abnormal deallocation after this error has been encountered.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-0C09B8DD-B407-44E1-BED0-90E4A47F63EF">
                        <!-- --></a>
PGA-20925: missing LU/TP/MODE name parameter and no side info profile specified
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
PGAINIT was called with no Side Information profile name specified but the LU name, TP name, and MODE name parameters were not all filled in with non-blank values.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the PGDL used to define the transaction program to PGAU to ensure that either a valid Side Information profile name is specified (SIDEPROFILE keyword), or that the LU name, TP name, and Mode name (LUNAME, TPNAME, LOGMODE keywords) are all specified with valid values. If no Side Information profile is specified, the LU name, TP name, and Mode name parameters are all required.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-9D9FAB48-6F6B-4D5D-8F06-B70D173A8F7C">
                        <!-- --></a>
PGA-20926: userid <span class="variable" translate="no">string</span> length of <span class="variable" translate="no">number</span> is invalid; maximum length is <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The userid <span class="variable" translate="no">uid</span> is too long (<span class="variable" translate="no">len</span>) to be used with APPC conversation security. The maximum allowable length for the userid is <span class="variable" translate="no">max</span> characters. This can occur only when the gateway initialization parameter PGA_SECURITY_TYPE is set to either SAME or PROGRAM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The userid must be changed to a shorter value on both the client system and the system where the remote transaction program is being executed. This restriction is imposed by SNA and APPC, not by the gateway.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-D2F27F9F-2E58-4547-924C-F0138EACE1D7">
                        <!-- --></a>
PGA-20927: password length of <span class="variable" translate="no">number</span> is invalid; maximum length is <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The password is too long (<span class="variable" translate="no">len</span>) to be used with APPC conversation security. The maximum allowable length for the password is <span class="variable" translate="no">max</span> characters. This can occur only when the gateway initialization parameter PGA_SECURITY_TYPE is set to PROGRAM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The password must be changed to a shorter value on both the client system and the system where the remote transaction program is being executed. This restriction is imposed by SNA and APPC, not by the gateway.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-FFB7D559-DCDC-4B43-809F-F0CD1FD81587">
                        <!-- --></a>
PGA-20928: cannot open parameter file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The gateway cannot locate or open the file specified.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that the file exists in a location expected by the gateway and can be opened.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-BC7ADFC2-DD84-4205-8E1C-06BC2AF4108B">
                        <!-- --></a>
PGA-20930: invalid SYNCLEVEL, <span class="variable" translate="no">number</span>, specified; valid range is <span class="variable" translate="no">number</span>:<span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The synclevel, <span class="variable" translate="no">sync</span>, passed to PGAINIT is not a valid value. This value is specified by the SYNCLEVEL keyword in the DEFINE TRANSACTION statement used to define the transaction to PGAU.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The value for SYNCLEVEL must fall within the range <span class="variable" translate="no">min</span>:<span class="variable" translate="no">max</span>. Correct the value specified in the DEFINE TRANSACTION statement for the SYNCLEVEL keyword, and regenerate the PL/SQL TIP using PGAU.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B23C4C71-3AD8-436B-8E4B-04658544DC64">
                        <!-- --></a>
PGA-20931: send buffer length of <span class="variable" translate="no">number</span> exceeds the maximum of <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The send buffer length, <span class="variable" translate="no">len</span>, passed to PGAXFER was larger than the maximum allowed, <span class="variable" translate="no">max</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU do not define any data items larger than the maximum size allowed by APPC. Correct the data item(s) in error and regenerate the PL/SQL TIP using PGAU.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-82E90E65-54A5-4327-8F0A-98298659EBA9">
                        <!-- --></a>
PGA-20932: invalid function code, <span class="variable" translate="no">string</span>, passed to pgatctl
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The function code, <span class="variable" translate="no">func</span>, passed to the PGATCTL function was invalid.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the function code in the PL/SQL procedure, recompile it, and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5B58B654-AE30-48F8-961A-EEC3C9DCFFE3">
                        <!-- --></a>
PGA-20933: invalid value specified by initialization parameter <span class="variable" translate="no">string</span>=<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The keyword parameter <span class="variable" translate="no">keyword</span>=<span class="variable" translate="no">value</span> specifies an invalid value.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Refer to the Oracle Database Gateway for APPC, Installation and Configuration Guide, documenting gateway initilization parameters for the keyword and correct the error.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-694BEE8D-66DC-44D7-8EAB-E8BC909E5084">
                        <!-- --></a>
PGA-20934: side information profile <span class="variable" translate="no">string</span> not defined; cannot establish conversation
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The Side Information profile <span class="variable" translate="no">profile</span> is not defined to the SNA software. Either the profile name was misspelled, or no profile has been defined.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the profile name if it was misspelled, or have the profile defined to the SNA software if it was not already defined.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5894F5AC-20A9-4ACB-A38F-2038924AB987">
                        <!-- --></a>
PGA-20936: send buffer length is <span class="variable" translate="no">number</span> but no send lengths were specified
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The send buffer length passed to PGAXFER was <span class="variable" translate="no">len</span>, but the send lengths array was either null or contained a send count of zero.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL or COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-3DD8A790-61A4-475A-97DF-B18E876A8E40">
                        <!-- --></a>
PGA-20937: receive buffer length is <span class="variable" translate="no">number</span> but no receive lengths were specified
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The receive buffer length passed to PGAXFER was <span class="variable" translate="no">len</span>, but the receive lengths array was either null or contained a receive count of zero.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL or COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-88D7B60A-2378-4F51-BD45-4D123D9AC6A5">
                        <!-- --></a>
PGA-20938: send lengths array too small (<span class="variable" translate="no">number</span>) to contain a valid send count
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The send lengths array passed to PGAXFER was too small to contain a valid send item count. The actual length of the send lengths array was <span class="variable" translate="no">len</span>. The minimum length of the send lengths array is 4 bytes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the TIP was generated by PGAU, ensure that it was not modified incorrectly. If the TIP was not modified, supported customers should contact Oracle Worldwide Support for assistance. If the TIP was modified or was not generated by PGAU, correct the send lengths array passed to PGAXFER.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-61BA5DB8-090D-4D43-A141-9A212E234D92">
                        <!-- --></a>
PGA-20939: receive lengths array too small (<span class="variable" translate="no">number</span>) to contain a valid receive count
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The receive lengths array passed to PGAXFER was too small to contain a valid receive item count. The actual length of the receive lengths array was <span class="variable" translate="no">len</span>. The minimum length of the receive lengths array is 4 bytes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the TIP was generated by PGAU, ensure that it was not modified incorrectly. If the TIP was not modified, supported customers should contact Oracle Worldwide Support for assistance. If the TIP was modified or was not generated by PGAU, correct the receive lengths array passed to PGAXFER.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-DB16C554-9487-40C3-B73B-CF48FCF5C412">
                        <!-- --></a>
PGA-20945: unable to log on to Oracle for transaction logging
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The gateway server was unable to connect to the Oracle server where the transaction log table is stored. An Oracle server message will follow this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. If the protocol is SNA: also check the PGA_LOG_DB, PGA_LOG_USER, and PGA_LOG_PASS parameters in the gateway init file and ensure that they specify the correct database string, userid, and password, respectively. If the protocol is TCP/IP: also check the PGA_TCP_DB, PGA_TCP_USER, and PGA_LOG_PASS parameters in the gateway init file and ensure that they specify the correct database string, userid, and password, respectively. Refer to the Oracle Server Messages and Codes Manual for information on the Oracle server message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-ACCCB580-03A6-484B-A285-00A652D63DC4">
                        <!-- --></a>
PGA-20947: unable to bind variable <span class="variable" translate="no">string</span> for transaction logging
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The gateway server was unable to bind variable <span class="variable" translate="no">var</span> for use in performing transaction logging functions. An Oracle server message will follow this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also check the PGA_LOG_DB, PGA_LOG_USER, and PGA_LOG_PASS parameters in the gateway init file and ensure that they specify the correct database string, userid, and password, respectively. Refer to the Oracle Server Messages and Codes Manual for information on the Oracle server message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-DE14E0C2-DBE5-496A-8054-F5608685EC04">
                        <!-- --></a>
PGA-20948: unable to prepare the statement for transaction logging
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The gateway server was unable to prepare the statement to be used to call the transaction logging PL/SQL stored procedure. An Oracle server message will follow this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also check the PGA_LOG_DB, PGA_LOG_USER, and PGA_LOG_PASS parameters in the gateway init file and ensure that they specify the correct database string, userid, and password, respectively. Verify that the transaction logging PL/SQL procedure has been properly installed into the Oracle server under the userid and password specified by PGA_LOG_USER and PGA_LOG_PASS and that it is executable. Refer to the Oracle Server Messages and Codes Manual for information on the Oracle server message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A9567441-378C-466A-B4CE-C34B7008F7F9">
                        <!-- --></a>
PGA-20949: unable to define variable <span class="variable" translate="no">string</span> for transaction recovery
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The gateway server was unable to define variable <span class="variable" translate="no">var</span> to be used in accessing the transaction log table during recovery processing. An Oracle server message will follow this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also check the PGA_LOG_DB, PGA_LOG_USER, and PGA_LOG_PASS parameters in the gateway init file and ensure that they specify the correct database string, userid, and password, respectively. Refer to the Oracle Server Messages and Codes Manual for information on the Oracle server message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-9D2EA947-7A54-4E3D-A601-9C13E8FDAAF5">
                        <!-- --></a>
PGA-20950: unable to perform <span class="variable" translate="no">string</span> on transaction log
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The gateway server was unable to insert, update, or delete a pending transaction row in the transaction log table. An Oracle server message will follow this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also check the PGA_LOG_DB, PGA_LOG_USER, and PGA_LOG_PASS parameters in the gateway init file and ensure that they specify the correct database string, userid, and password, respectively. Verify that the transaction logging PL/SQL stored procedure and the transaction log table have been properly installed into the Oracle server under the userid and password specified by PGA_LOG_USER and PGA_LOG_PASS. Refer to the Oracle Server Message and Codes Manual for information on the Oracle server message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-232963F9-17B6-441E-A0E7-059F3256A66D">
                        <!-- --></a>
PGA-20960: missing <span class="variable" translate="no">string</span> parameter, required when PGA_CAPABILITY=<span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The PGA_CAPABILITY parameter specified <span class="variable" translate="no">cap</span>, but another required parameter, <span class="variable" translate="no">parm</span>, was omitted.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Add the missing parameter to the gateway initialization file. Refer to Appendix A, 'Gateway Initialization Parameters', in the Oracle Database Gateway for APPC Installation and Configuration Guide for information on required parameters.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-1F29584D-2570-438A-97B9-53FE9CF21CE9">
                        <!-- --></a>
PGA-20961: synclevel 1 conversations not allowed when PGA_CAPABILITY=2_PHASE
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A conversation was requested at synclevel 1. The gateway init file specified PGA_CAPABILITY=2_PHASE. When 2-phase commit is enabled, synclevel 1 conversations are not supported, since they are not protected by 2-phase processing.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Either use synclevel 2 for the conversation (if the remote transaction program supports it) or use a different gateway SID for this conversation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F8F5120E-6A2A-4552-A614-89C7CA8A3ACD">
                        <!-- --></a>
PGA-20962: synclevel 2 conversations not currently allowed
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A conversation was requested at synclevel 2, but the SNA software allocated the conversation at synclevel 0 or 1. This means that the SNA software is not configured to support synclevel 2, or has no RRM enabled.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the SNA software configuration to support synclevel 2 and to enable RRN processing.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C81A060F-D140-4B2A-9AAF-7C1ADBD69244">
                        <!-- --></a>
PGA-20963: side profile <span class="variable" translate="no">string</span> specifies the wrong local LU name (<span class="variable" translate="no">string</span>)
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The Side Information profile <span class="variable" translate="no">profile</span> specified for this conversation has a local LU name <span class="variable" translate="no">lu</span> that is different from the local LU name specified by the PGA_LOCAL_LU gateway initialization parameter.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be accompanied by message PGA-20984, which provides the local LU name that was specified by the PGA_LOCAL_LU gateway initialization parameter. The Side Information profile must be changed to use the same local LU name.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-30C88190-72F0-470A-B72A-285DCABFF7C2">
                        <!-- --></a>
PGA-20964: local LU name specified by PGA_LOCAL_LU is <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Message PGA-20963 was issued. This message always follows.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
See message PGA-20963.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-44C8CF27-8E91-4CF8-8739-EE62EB41B75C">
                        <!-- --></a>
PGA-20965: syncpoint error: expecting <span class="variable" translate="no">string</span> PS header, received <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
During the processing of a 2-phase commit, an incorrect response was received from the remote transaction program following a syncpoint control command. The response received was <span class="variable" translate="no">rcv</span> and not a <span class="variable" translate="no">pstype</span> PS header as expected.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This is an error in the remote transaction program or the remote OLTP. Check the remote system for error messages from the OLTP. Contact the system administrator for the remote system to assist in problem determination.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F183341F-C6D7-4B02-A702-031D441ABC9F">
                        <!-- --></a>
PGA-20966: syncpoint error: sent <span class="variable" translate="no">string</span>, expecting <span class="variable" translate="no">string</span>, received <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
During the processing of a 2-phase commit, an incorrect response <span class="variable" translate="no">resp</span> was received from the remote transaction program following a syncpoint control command <span class="variable" translate="no">psh</span>. The expected response was <span class="variable" translate="no">exp</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This is an error in the remote transaction program or the remote OLTP. Check the remote system for error messages from the OLTP. Contact the system administrator for the remote system to assist in problem determination.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-0AAC28AC-46FB-4949-A1EF-9A8C4D519427">
                        <!-- --></a>
PGA-20967: 2-phase commit recovery attempted, DBA action required
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The recovery process of the Oracle integrating server has connected to the gateway to perform recovery. However, the gateway cannot perform automatic recovery for this transaction due to unknown heuristic action taken by the target OLTP.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The DBA must attempt to manually resolve the in-doubt transaction. Detailed information on how to proceed is contained in Chapter 8 of the Oracle Database Gateway for APPC Installation and Configuration Guide, in the section titled "Manual Recovery of In-Doubt Transactions".

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F1378FC4-9C83-4914-AD38-42B3B3B55E04">
                        <!-- --></a>
PGA-20995: communication error: '<span class="variable" translate="no">string</span>' failed, rc = <span class="variable" translate="no">number</span>, errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An unexpected communications error occurred while executing the AIX SNA Server API <span class="variable" translate="no">func</span> function. The function return code is <span class="variable" translate="no">rc</span> and the system error number is <span class="variable" translate="no">errno</span>. The AIX SNA Server LU6.2 API function return codes and system error numbers are described in the vendor documentation. The SNA system error numbers can also be found in the /usr/include/luxsna.h header file on AIX systems.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Determine the cause of the communications error, correct it, and rerun the transaction. If you need assistance, contact your system adminstrator.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-11041F5E-59C5-4DDF-BD9F-30AFED705318">
                        <!-- --></a>
PGA-20999: SIGDANGER received from system - all conversations deallocated
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The system sent a SIGDANGER signal to the server, indicating that there is a shortage of paging space. All currently active conversations are deallocated abnormally.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Contact your system administrator.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-780777F7-8B9A-4B30-94F3-43A5BD4C8CE8">
                        <!-- --></a>
PGA-21001: internal error: <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Internal error in the gateway RRM process.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Reproduce the error with tracing enabled to produce a trace file. Supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-D13E0142-0B85-4B70-8113-3CAFAFD00334">
                        <!-- --></a>
PGA-21002: unable to obtain <span class="variable" translate="no">number</span> bytes of memory for <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Memory shortage in the gateway RRM process. A request failed to allocate <span class="variable" translate="no">bytes</span> of memory for the <span class="variable" translate="no">usage</span> area.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure your system has enough available memory to support the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-3B9C0210-9714-4E01-AABA-86C1F498F107">
                        <!-- --></a>
PGA-21003: memory allocation error in lxlinit
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Memory shortage in the gateway RRM process.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure your system has enough available memory to support the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-ADD6F283-ABE0-4397-B20B-E5ABA0FF52D9">
                        <!-- --></a>
PGA-21004: invalid <span class="variable" translate="no">string</span> specified by NLS_LANG
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The <span class="variable" translate="no">comp</span> component of the NLS_LANG environment variable was not valid. The component can be the language, territory, or character set.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the invalid component and restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-40BABA0A-DD38-401A-B87D-F5E4DED0FCB7">
                        <!-- --></a>
PGA-21005: no message file found for language '<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
There was no message file available for the language <span class="variable" translate="no">lang</span> specified by the NLS_LANG environment variable.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Refer to Appendix J, National Language Support, for a list of message file languages supported by the RRM. If the language required is supported, ensure that the ORACLE_HOME environment variable specifies the gateway's home directory and that the message files are properly installed.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A30606D5-5434-4F71-9E06-4A74EE4C4931">
                        <!-- --></a>
PGA-21006: RRM initialization failed
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The initialization of the gateway RRM process failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message is sent to the system log as an ALERT message when the initialization of the RRM failed before it could initialize the message facility or before it could determine the local LU name for which it was started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5D6E1CFB-E2F3-45C7-95EE-3682104FB1F3">
                        <!-- --></a>
PGA-21010: missing fully-qualified local LU name argument
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The fully-qualified local LU name was not passed as the first argument to the pg4arrm program on the command line.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The fully-qualified local LU name must be specified as the first argument to the pg4arrm program. Reenter the command line with the fully-qualified local LU name specified.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-D839A0EE-4011-4754-A819-B83B8B86D843">
                        <!-- --></a>
PGA-21011: invalid network name length (<span class="variable" translate="no">number</span>), valid range is <span class="variable" translate="no">number</span>:<span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The network name portion of the fully-qualified local LU name specified as the first argument to the pg4arrm program is the wrong length (<span class="variable" translate="no">len</span>).

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The valid range of lengths for the network name is given in the message text by <span class="variable" translate="no">min</span>:<span class="variable" translate="no">max</span>. Reenter the command line with a valid network name specified in the fully-qualified local LU name.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5DC12CC0-9C32-4C7D-8E16-E365002EC809">
                        <!-- --></a>
PGA-21012: invalid LU name length (<span class="variable" translate="no">number</span>), valid range is <span class="variable" translate="no">number</span>:<span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The LU name portion of the fully-qualified local LU name specified as the first argument to the pg4arrm program is the wrong length (<span class="variable" translate="no">len</span>).

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The valid range of lengths for the LU name is given in the message text by <span class="variable" translate="no">min</span>:<span class="variable" translate="no">max</span>. Reenter the command line with a valid LU name specified in the fully-qualified local LU name.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-9978A935-C5E8-4C44-AFCF-8489F34FCE0C">
                        <!-- --></a>
PGA-21013: missing period(.) in fully-qualified local LU name
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
There is no period (.) in the fully-qualified local LU name specified as the first argument to the pg4arrm program.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
A fully-qualified local LU name must contain a network name and an LU name, separated by a period (.). Reenter the command line with a valid fully-qualified local LU name specified.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B4FC5FD2-A406-4CF4-BB43-B7644A926F21">
                        <!-- --></a>
PGA-21014: invalid character(s) found in network name '<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
One or more invalid characters were found in the network name portion <span class="variable" translate="no">net</span> of the fully-qualified local LU name.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The network name must begin with an upper-case alphabetic character or one of the national characters $, #, or @. Subsequent characters can be upper-case alphabetic, national, or numeric. Reenter the command line with a valid network name specified in the fully-qualified local LU name.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5EE679C4-AD0C-4A07-A5D6-0C9E38A3C46A">
                        <!-- --></a>
PGA-21015: invalid character(s) found in LU name '<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
One or more invalid characters were found in the LU name portion <span class="variable" translate="no">lu</span> of the fully-qualified local LU name.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The LU name must begin with an upper-case alphabetic character or one of the national characters $, #, or @. Subsequent characters can be upper-case alphabetic, national, or numeric. Reenter the command line with a valid network name specified in the fully-qualified local LU name.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-354A6769-1662-4C09-A5AC-9AB31FFE849B">
                        <!-- --></a>
PGA-21016: RRM initialization failed for LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The initialization of the gateway RRM process for local LU <span class="variable" translate="no">lu</span> failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message is sent to the system log as an ALERT message when the initialization of the RRM failed for the local LU.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-3E45FA43-58A3-4BB5-B077-6C487127261D">
                        <!-- --></a>
PGA-21017: RRM already active for LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM has already been started for the local LU <span class="variable" translate="no">lu</span>. A second RRM cannot be started for the same local LU.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Determine whether the RRM is still active and functioning. If it is not, then it may have terminated without cleaning up. On AIX systems, the /tmp/o/e<span class="variable" translate="no">luname</span> file may still exist. This will prevent a new RRM from being started. If you have verified that the original RRM is no longer running, you can delete the file to allow a new copy of the RRM to be started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-4BA5C854-F20E-474B-BB3B-20EB78A5B956">
                        <!-- --></a>
PGA-21020: error creating path object for init file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the init file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F6931522-D13F-481C-81FA-140E1E8C317A">
                        <!-- --></a>
PGA-21021: error creating name object for init file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the init file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-BAD52A80-97AF-4D95-B2B8-7763E199066A">
                        <!-- --></a>
PGA-21022: error creating file object for init file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the init file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-19466CD6-1B92-4521-B988-C98B3CBD8C58">
                        <!-- --></a>
PGA-21023: error opening init file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred opening the init file <span class="variable" translate="no">ifn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-928E61E1-BD5E-42B6-86A2-CC473BC43060">
                        <!-- --></a>
PGA-21024: error reading init file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred reading the init file <span class="variable" translate="no">ifn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-47FC1430-6766-4E4D-B7B3-E1484A7B772F">
                        <!-- --></a>
PGA-21025: error closing init file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred opening the init file <span class="variable" translate="no">ifn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C4230BF1-C8AA-474E-81C5-266D5A4A425C">
                        <!-- --></a>
PGA-21030: invalid keyword in line <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An invalid keyword was encountered in the init file in line number <span class="variable" translate="no">line</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the invalid line in the init file and restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-8FF9AAF5-49DC-4B91-8870-CB035A33D377">
                        <!-- --></a>
PGA-21031: length of <span class="variable" translate="no">string</span> value (<span class="variable" translate="no">number</span>) not within valid range (<span class="variable" translate="no">number</span>:<span class="variable" translate="no">number</span>)
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The length <span class="variable" translate="no">len</span> of the value specified in the init file by the keyword <span class="variable" translate="no">key</span> is not within the valid range <span class="variable" translate="no">min</span>:<span class="variable" translate="no">max</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the invalid keyword value in the init file and restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A8173691-0566-4A68-955F-98EFB4A4E6C2">
                        <!-- --></a>
PGA-21032: invalid value specified by <span class="variable" translate="no">string</span><span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The value <span class="variable" translate="no">val</span> specified in the init file by the keyword <span class="variable" translate="no">key</span> is invalid.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the invalid keyword value in the init file and restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-76D52526-8E60-4B77-A0AF-7F9E55332E2A">
                        <!-- --></a>
PGA-21033: error(s) found in init file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
One or more errors were found in the init file during RRM initialization. The RRM process has terminated.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct all init file errors and restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-ADA5B38B-30B8-453E-B85F-CE08C97208EE">
                        <!-- --></a>
PGA-21034: too many errors in init file, cannot continue
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The init file contained more errors than the RRM initialization code could process.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct all errors that have been processed so far, and restart the RRM process. Any additional errors will then be processed. This error is received only when the init file contains a very large number of invalid lines.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-724528ED-5918-4045-8F3A-97F5A669A2B3">
                        <!-- --></a>
PGA-21035: value of <span class="variable" translate="no">string</span> (<span class="variable" translate="no">number</span>) not within valid range (<span class="variable" translate="no">number</span>:<span class="variable" translate="no">number</span>)
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The value <span class="variable" translate="no">val</span> specified in the init file by the keyword <span class="variable" translate="no">key</span> is not within the valid range <span class="variable" translate="no">min</span>:<span class="variable" translate="no">max</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the invalid keyword value in the init file and restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B085F663-81AC-4006-9CF0-BB8BD22AE78D">
                        <!-- --></a>
PGA-21040: error creating path object for log file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the log file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5E63B171-E296-4ABC-9955-D0FE27D47DDE">
                        <!-- --></a>
PGA-21041: error creating name object for log file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the log file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-514D80C7-D506-4443-AE2B-09998410E1B2">
                        <!-- --></a>
PGA-21042: error creating file object for log file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the log file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A29486DD-516A-4FD5-A021-A60E8C26DDF4">
                        <!-- --></a>
PGA-21043: error opening log file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred opening the log file <span class="variable" translate="no">lfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-38917FC2-7750-49BA-8BFC-9B408C659EB8">
                        <!-- --></a>
PGA-21044: error writing to log file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred writing to the log file <span class="variable" translate="no">lfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-D1A70BFC-1964-4FEF-84E4-80678B6502D7">
                        <!-- --></a>
PGA-21045: error closing log file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred closing the log file <span class="variable" translate="no">lfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-147E08DA-325C-483D-ADFC-7A9005491D77">
                        <!-- --></a>
PGA-21046: logging switched to system log due to error on log file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred writing to the log file, and logging as been switched to the system log facility for the remainder of this RRM execution.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the problem that cause d the error on the log file, so that the next restart of the RRM will be able to write to the log file. A common cause for this message is unavailable disk space for the file.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5199B862-F3AF-4477-B107-16E71696E801">
                        <!-- --></a>
PGA-21050: error creating path object for trace file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the trace file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-2D461454-F66B-4E49-B1B7-8FA14BF05AB7">
                        <!-- --></a>
PGA-21051: error creating name object for trace file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the trace file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-7BD7CB5A-BA2A-4872-8655-22D0CF4E31A6">
                        <!-- --></a>
PGA-21052: error creating file object for trace file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A memory shortage occurred while creating an internal control block for accessing the trace file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that sufficient memory is available to the RRM process. If the problem persists, supported customers should contact Oracle Worldwide Support for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-E109F769-DADF-4D69-ACFE-5906EEEBF465">
                        <!-- --></a>
PGA-21053: error opening trace file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred opening the trace file <span class="variable" translate="no">tfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5326EB86-F584-408A-8B25-01D7D14D190D">
                        <!-- --></a>
PGA-21054: error writing to trace file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred writing to the trace file <span class="variable" translate="no">tfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A8A0A26A-C824-41D1-8CE4-5E94BF718376">
                        <!-- --></a>
PGA-21055: error closing trace file <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred closing the trace file <span class="variable" translate="no">tfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This message will be followed by an OS-specific message displaying the error information. Use that information to determine the cause of the error and correct it. Then restart the RRM process.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-D9CAA9AE-399A-4545-8A5F-F34B6BE3543A">
                        <!-- --></a>
PGA-21056: tracing suspended due to error on trace file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred writing to the trace file, and tracing has been suspended for the remainder of this RRM execution.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Correct the problem that cause d the error on the trace file, so that the next restart of the RRM will be able to write to the trace file. A common cause for this message is unavailable disk space for the file.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C6F84281-7D9A-4135-9528-0DABB2A2D986">
                        <!-- --></a>
PGA-21060: system errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The system error number was <span class="variable" translate="no">errno</span> following a failure in a file operation.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The system error codes are documented in the header file /usr/include/errno.h. Determine the cause of the file error and correct it.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-83F0779F-6F82-4929-9763-42F3EBC73F6C">
                        <!-- --></a>
PGA-21100: RRM initializing for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM is initializing for the local LU <span class="variable" translate="no">llu</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-682C5099-4F03-4335-A497-AC73ED687AA3">
                        <!-- --></a>
PGA-21101: initialization parameters read from <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Init parameters were read from the file <span class="variable" translate="no">ifn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-17C9BD0E-18D9-40D4-9807-37A355F8BD43">
                        <!-- --></a>
PGA-21102: log messages written to <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Log messages will be written to the file <span class="variable" translate="no">lfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A9546A13-C46F-412E-9BF2-CAA581530963">
                        <!-- --></a>
PGA-21103: trace information written to <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Trace information will be written to the file <span class="variable" translate="no">tfn</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-4D8356A9-F634-4330-8741-92754F951B0B">
                        <!-- --></a>
PGA-21104: trace level currently set to <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The trace level specified by the TRACE_LEVEL parameter is <span class="variable" translate="no">trc</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-81FD8F81-8AAD-4CF9-94F6-F4DFC8F022F6">
                        <!-- --></a>
PGA-21105: startup for local LU <span class="variable" translate="no">string</span> is warm
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM is warm-starting for the local LU <span class="variable" translate="no">llu</span>. The RRM will attempt to restore all LU6.2 log states from the RRM LU6.2 log as it existed at the last RRM shutdown.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B4956468-8943-451A-B6CB-4C497244979B">
                        <!-- --></a>
PGA-21106: warm start complete for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM has warm-started for the local LU <span class="variable" translate="no">llu</span>. This means that all state information for the local LU and partner LUs with which the RRM has previously communicated was restored from the RRM LU6.2 log as it existed at the last RRM shutdown.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-499099D8-7B63-428B-9F27-646F0F726F8E">
                        <!-- --></a>
PGA-21107: startup for local LU <span class="variable" translate="no">string</span> is cold
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM is cold-starting for the local LU <span class="variable" translate="no">llu</span>. The RRM will not retain any LU6.2 log states from the previous execution.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-2D81B6A2-EA45-4DDD-9BD4-864C7080241B">
                        <!-- --></a>
PGA-21108: cold start complete for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM has cold-started for the local LU <span class="variable" translate="no">llu</span>. The RRM has a new local LU6.2 log name and all LU6.2 log names for partner LUs have been erased.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-44ACE8B4-4A63-46B6-9150-A9066F9C5115">
                        <!-- --></a>
PGA-21109: local log name is x'<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The local LU's LU6.2 log name is <span class="variable" translate="no">llog</span>. Since the log name is not necessarily a printable string, it is listed as a hexadecimal string.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-045A5C7E-8946-4B25-B40B-49A8F1D4115A">
                        <!-- --></a>
PGA-21110: XLN received from partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An Exchange Log Names (XLN) GDS variable has been received from the RRM at the partner LU <span class="variable" translate="no">plu</span>. This is the first thing that occurs when communication is established with a partner LU for the first time since either the local RRM or the partner RRM was last started.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-956C3BEC-BEED-44C7-A63C-71FA7F5AD053">
                        <!-- --></a>
PGA-21111: partner log name is x'<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The partner LU's LU6.2 log name is <span class="variable" translate="no">plog</span>. Since the log name is not necessarily a printable string, it is listed as a hexadecimal string.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-4762C2A0-AEDC-446F-AC48-B19CB8F3F70A">
                        <!-- --></a>
PGA-21112: creating new log entry for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM is creating an entry in its LU6.2 log for the partner LU <span class="variable" translate="no">plu</span>. This happens only the first time that the partner LU's RRM contacts the local RRM since the last cold start of the local RRM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-637AEFE6-8279-4FD2-AB19-B0FB2B83AF14">
                        <!-- --></a>
PGA-21113: warm starting for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM is warm starting for the partner LU <span class="variable" translate="no">plu</span>. This happens when the partner LU's RRM is warm starting and is contacting the local RRM for the first time since the local RRM was started.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-ED5C8F70-4A52-4A24-93F9-349CEBD8ABD2">
                        <!-- --></a>
PGA-21114: cold starting for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM is cold starting for the partner LU <span class="variable" translate="no">plu</span>. This happens when the partner LU's RRM is cold starting and is contacting the local RRM for the first time since the local RRM was started.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-60A62F15-2C73-4E64-886C-3348547FAE6B">
                        <!-- --></a>
PGA-21115: shutdown request received
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A shutdown request has been received by the RRM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-13601246-7925-4353-A0C1-F42AB2B86A7D">
                        <!-- --></a>
PGA-21116: RRM termination complete for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM has terminated for the local LU <span class="variable" translate="no">llu</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Informational message.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-9A9F2933-1973-462F-A07F-B82F72C090BF">
                        <!-- --></a>
PGA-21200: connect to Oracle Server as <span class="variable" translate="no">string</span> failed
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to connect as user <span class="variable" translate="no">user</span> to the Oracle server where its LU6.2 log information is stored. An Oracle server message will follow this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also check the LOG_DB, LOG_USER, and LOG_PASS parameters in the RRM init file and ensure that they specify the correct database string, userid, and password, respectively.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-BC862D6A-B6F9-4CFA-B7A6-ABCA86C8F731">
                        <!-- --></a>
PGA-21201: error selecting PGA_2PC_LUS row for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to read its local LU6.2 log entry. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-D55A86A8-32A9-430A-9204-7ABB31260103">
                        <!-- --></a>
PGA-21202: error updating PGA_2PC_LUS row for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to update its local LU6.2 log entry during warm start processing. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-2ED16D95-B718-40CC-BE4E-2D15FCC68BB8">
                        <!-- --></a>
PGA-21203: error inserting PGA_2PC_LUS rows for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to create its local LU6.2 log entry during cold start processing. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started again.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-3B26AFE7-8BB9-46A7-9821-4D15239612CA">
                        <!-- --></a>
PGA-21204: error deleting PGA_2PC_PENDING rows for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to delete the pending transaction entries from its local LU6.2 log during cold start processing. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_PENDING table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started again.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-3F0C159B-17B8-454B-8B54-F4F3491ED0D3">
                        <!-- --></a>
PGA-21205: error deleting PGA_2PC_LUS rows for partner LUs
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to delete the partner LU entries from its local LU6.2 log during cold start processing. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started again.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-AE14C9DC-73D9-4AFB-8DBA-BB34F26E5E3C">
                        <!-- --></a>
PGA-21206: error selecting PGA_2PC_LUS row for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to read its local LU6.2 log entry for the partner LU. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-88DDAF74-E198-40B6-A477-3538A67FCB96">
                        <!-- --></a>
PGA-21207: error inserting PGA_2PC_LUS row for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to create a local LU6.2 log entry for the partner LU. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-1EB97209-2DFA-41AB-9BB2-85A34DD4381B">
                        <!-- --></a>
PGA-21208: error updating PGA_2PC_LUS row for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to update its local LU6.2 log entry for the partner LU. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C51E0C1B-DDA2-4F79-A988-1DBE9D17E9B3">
                        <!-- --></a>
PGA-21209: error selecting PGA_2PC_PENDING rows for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to read the pending transaction entries from its LU6.2 log for the partner LU <span class="variable" translate="no">plu</span>. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_PENDING table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-5EB9DB57-8129-4CFB-AF30-F11D5475988D">
                        <!-- --></a>
PGA-21210: unable to open connection with SNA services
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to initialize its connection with the SNA software for LU6.2 communications. An OS-specific error message precedes this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the error information in the OS-specific error message to determine the cause of the problem, and take corrective action. Once the problem has been corrected, restart the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-920998F2-D83A-4AB9-9704-1B1F00C673DC">
                        <!-- --></a>
PGA-21211: unable to allocate LU6.2 listen for RRM TP
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to allocate an LU6.2 listen with the SNA software for LU6.2 communications. An OS-specific error message precedes this message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check the error information in the OS-specific error message to determine the cause of the problem, and take corrective action. Once the problem has been corrected, restart the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B57B2C51-797D-4179-A170-A50212C4624F">
                        <!-- --></a>
PGA-21212: incorrect data received from partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A partner LU has sent incorrect data in its initial communication with the local RRM. The first data received should be an Exchange Log Names (XLN) GDS variable, but was not.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This error indicates that there is a problem on the partner LU side of the connection. Corrective action must be taken by the system administrator for that LU.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-068F25CF-2C0E-4EF0-89F3-E5E251B8C8E5">
                        <!-- --></a>
PGA-21213: received x'<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This message follows message PGA-00208, and dumps out the first 32 bytes of the data received from the partner LU.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the data in this message is not sufficient for determination of the problem at the partner LU, use SNA traces on either side of the connection to gather more detailed information, or use the TRACE_LEVEL parameter in the RRM init file to enable SNA data tracing to the trace file.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F32D2CDB-F0B7-462D-A80C-DB7B066BA534">
                        <!-- --></a>
PGA-21214: incorrect service flag in XLN
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The service flag in the Exchange Log Names (XLN) GDS variable received from the partner LU's RRM is not correct. The XLN is expected to have the REQUEST flag set.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This error indicates that there is a problem on the partner LU side of the connection. Corrective action must be taken by the system administrator for that LU.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-FC8DB036-8C78-4601-9A14-CACE29A3296A">
                        <!-- --></a>
PGA-21215: partner log name mismatch on warm start
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The Exchange Log Names (XLN) GDS variable received from the partner LU's RRM contains an LU6.2 log name that is different from that known by the local LU's RRM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This can happen if the partner LU was cold started and later warm started, all between the times the local LU's RRM was last shut down and warm started. The local LU's RRM is not aware that the partner LU was cold started, and therefore assumes that the partner LU's RRM is using the wrong LU6.2 log name. Verify that this is what happened, and if so, the local LU's RRM can be forced to accept the new LU6.2 log name from the partner LU's RRM by deleting the local RRM's LU6.2 log entry for the partner LU, and then forcing the partner LU to reinitiate the connection to the local LU. For further information on recovery from this error, refer to "RRM Recovery" in Chapter 12, "2-Phase Commit".

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B33E22E0-1A46-4AB6-B66D-19AA639FCB90">
                        <!-- --></a>
PGA-21216: last stored log name  x'<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This message always follows message PGA-00213, and lists the last partner LU LU6.2 log name <span class="variable" translate="no">plog</span> saved by the local LU's RRM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The log name in the message may be of use to the system administrator for the partner LU in determining the cause for the log name mismatch.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-10A8B3CF-FA09-4E82-B44C-D32937AC5FF9">
                        <!-- --></a>
PGA-21217: partner sent log name x'<span class="variable" translate="no">string</span>'
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
This message always follows message PGA-00214, and lists the LU6.2 log name <span class="variable" translate="no">plog</span> sent by the partner LU's RRM in the warm start Exchange Log Names (XLN) GDS variable.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The log name in the message may be of use to the system administrator for the partner LU in determining the cause for the log name mismatch.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-6E096671-8C36-442E-A12C-4BA4BF29EA1B">
                        <!-- --></a>
PGA-21218: cold start for partner LU <span class="variable" translate="no">string</span> rejected, <span class="variable" translate="no">number</span> pending transactions exist
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A cold start was requested by the partner LU's RRM, but the local RRM determined that there are still unresolved pending transactions for that LU in the local RRM's LU6.2 log.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the pending transactions have been resolved, then they must be manually deleted from the local RRM's LU6.2 log before the partner LU's cold start request will be accepted. If the pending transactions have not been resolved, then they must be resolved and then manually deleted from the local RRM's LU6.2 log before the partner LU's cold start request will be accepted.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-011C9B8E-F6B1-4F93-A59D-602422BF229A">
                        <!-- --></a>
PGA-21219: recovery action by DBA required for local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
A condition has occurred which requires action by the DBA. This message is also sent to the system log as an alert message.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The DBA should examine the RRM log file to determine what action to take. The messages in the log file show what event has occurred that makes DBA action necessary, and their descriptions in this appendix provide the DBA with a course of action. For further information on recovery, refer to "RRM Recovery" in Chapter 8, "Implementing Two-Phase Commit", of the Oracle Database Gateway for APPC Installation and Configuration Guide.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B016C996-FCE5-4B9D-A8EA-711736016310">
                        <!-- --></a>
PGA-21220: logging error limit (<span class="variable" translate="no">number</span>) exceeded, RRM shutting down for LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The limit of <span class="variable" translate="no">lim</span> Oracle errors while accessing the RRM's local LU6.2 log tables has exceeded. The RRM for the local LU <span class="variable" translate="no">llu</span> is shutting down.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The DBA should examine the RRM log file to determine what action to take. The messages in the log file will show what Oracle errors have occurred, and the DBA should take whatever corrective action is required.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C2FDAF20-1B08-49E1-9BAC-7AB7C21A7DB1">
                        <!-- --></a>
PGA-21221: commit failed during cold start of local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to commit updates to its local log during a cold start of local LU <span class="variable" translate="no">llu</span>. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-4FBF3B11-FD9E-428E-98D8-A14E4634D5FD">
                        <!-- --></a>
PGA-21222: commit failed during warm start of local LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to commit updates to its local log during a warm start of local LU <span class="variable" translate="no">llu</span>. An Oracle server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-321D7B07-F7F3-49D3-87BC-E9C33A6CCC45">
                        <!-- --></a>
PGA-21223: commit failed during first-time processing for partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to commit updates to its local log during a first-time processing for partner LU <span class="variable" translate="no">plu</span>. An Oracle Server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-B026B226-AF1D-403A-AFD2-709001C2102B">
                        <!-- --></a>
PGA-21224: commit failed during cold start of partner LU <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was unable to commit updates to its local log during a cold start of partner LU <span class="variable" translate="no">plu</span>. An Oracle Server message will follow this message, and contains information on the Oracle error.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the Oracle server and its TNS listener are both operational. Also ensure that the PGA_2PC_LUS table exists and has not been altered or updated manually. If the table has been tampered with, it may need to be reinitialized and the RRM cold started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-014316B1-EE03-4FAF-95C2-3205BDFB6C9C">
                        <!-- --></a>
PGA-21300: received no data when expecting data
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM was expecting to receive data from a partner RRM, but received none.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This error indicates that there may be a problem on the partner LU side of the connection. Corrective action must be taken by the system administrator for that LU.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-AAC387E6-94F1-4CC7-80BD-623CA6604EA8">
                        <!-- --></a>
PGA-21301: invalid control received: <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The RRM received an invalid control flag <span class="variable" translate="no">control</span> from a partner RRM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
This error indicates that there may be a problem on the partner LU side of the connection. Corrective action must be taken by the system administrator for that LU.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-051F9DEE-C0E5-4501-A1FF-EA3263904E1C">
                        <!-- --></a>
PGA-21400: ORACLE_HOME environment variable not set
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The ORACLE_HOME environment variable was not set before the RRM was started.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The ORACLE_HOME environment variable must be set to the gateway's ORACLE_HOME directory before the RRM is started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-69B42724-D644-4BEB-A4A5-919604C8AE0B">
                        <!-- --></a>
PGA-21401: ORACLE_HOME environment variable set to null string
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The ORACLE_HOME environment variable was set to a null value.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The ORACLE_HOME environment variable must be set to the gateway's ORACLE_HOME directory before the RRM is started.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-FBB712BE-09BD-45BF-A955-1251B9F117F8">
                        <!-- --></a>
PGA-21402: error opening file <span class="variable" translate="no">string</span>, fopen errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred opening the RRM enqueue file <span class="variable" translate="no">fn</span> for writing. The error number from fopen is <span class="variable" translate="no">errno</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use the <span class="variable" translate="no">errno</span> value to determine the cause of the problem and correct it before restarting the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F951FFAF-7CEE-4B75-8CBB-9B83053A9DEB">
                        <!-- --></a>
PGA-21403: error writing to file <span class="variable" translate="no">string</span>, fputs errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred writing to the RRM enqueue file <span class="variable" translate="no">fn</span>. The error number from fputs is <span class="variable" translate="no">errno</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use the <span class="variable" translate="no">errno</span> value to determine the cause of the problem and correct it before restarting the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C758282D-190D-4B8B-BE6D-BD18EB18DD47">
                        <!-- --></a>
PGA-21404: error closing file <span class="variable" translate="no">string</span>, fclose errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred closing the RRM enqueue file <span class="variable" translate="no">fn</span>. The error number from fclose is <span class="variable" translate="no">errno</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use the <span class="variable" translate="no">errno</span> value to determine the cause of the problem and correct it before restarting the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-012F0CD0-7B43-48A2-986F-68FC1C56B4E4">
                        <!-- --></a>
PGA-21405: error deleting file <span class="variable" translate="no">string</span>, remove errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An error occurred deleting the RRM enqueue file <span class="variable" translate="no">fn</span> during shutdown. The error number from remove is <span class="variable" translate="no">errno</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use the <span class="variable" translate="no">errno</span> value to determine the cause of the problem and correct it before restarting the RRM. The file <span class="variable" translate="no">fn</span> must be manually deleted before attempting to start the RRM.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F1172A76-B4B3-43A8-9DE8-E42CC64CB04A">
                        <!-- --></a>
PGA-21450: communication error: '<span class="variable" translate="no">string</span>' failed, errno = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The AIX SNA function <span class="variable" translate="no">func</span> failed with a system error number of <span class="variable" translate="no">errno</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The AIX SNA error codes are documented in the IBM manual AIX SNA Server: Diagnosis Guide and Messages. Use this manual to determine the cause of the problem and correct it. AIX SNA system error numbers are also documented in the /usr/include/luxsna.h header file on AIX systems.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-2DDEAEAF-8A8C-4C6D-928E-C9D478A343D9">
                        <!-- --></a>
PGA-21451: SNA Server is shutting down
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
SNA Server is being shut down and sent a SIGUSR1 to the RRM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The RRM must terminate when this occurs. Contact the system administrator to determine the cause of the SNA Server shutdown. Restart the RRM after SNA Server has been restarted.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-0F526FB5-87F8-40CC-82FF-C2B3A5D9EEF4">
                        <!-- --></a>
PGA-22001: remote host name is null.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
TCP/IP protocol has returned "null" for the remote host name.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Verify the remote host name via the pg4tcpmap tool and re-execute your PL/SQL statement. If the problem cannot be resolved, supported customers should contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-F1D71520-EBDF-44E9-BC6A-706F834BD5DC">
                        <!-- --></a>
PGA-22002: communication error: TCP/IP <span class="variable" translate="no">string</span> failed, rc = <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The function <span class="variable" translate="no">func</span> has failed with the return code of <span class="variable" translate="no">rc</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the problem cannot be resolved, the supported customers should contant Oracle Support Servics for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-7AF78124-2C3C-40D3-A2A0-743248F047CD">
                        <!-- --></a>
PGA-22003: communication error: TCP/IP <span class="variable" translate="no">string</span> failed, rc = <span class="variable" translate="no">number</span>, for, <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An unexpected communications error occurred while executing the specified TCP/IP function <span class="variable" translate="no">func</span>. The TCP/IP function return code is <span class="variable" translate="no">rc</span> and the function <span class="variable" translate="no">func</span> parameter is <span class="variable" translate="no">parm</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the problem cannot be resolved, the supported customers should contant Oracle Support Servics for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-BD62C452-C21D-471E-9512-1545028D4232">
                        <!-- --></a>
PGA-22004: length of the total message value (<span class="variable" translate="no">number</span>) not within valid range (<span class="variable" translate="no">number</span>:<span class="variable" translate="no">number</span>)
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The length <span class="variable" translate="no">len</span> for the value is not within the valid range <span class="variable" translate="no">min</span>:<span class="variable" translate="no">max</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the problem cannot be resolved, the supported customers should contant Oracle Support Servics for assistance.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A8CD583D-21CD-4739-941F-EC273B1DE361">
                        <!-- --></a>
PGA-22005: invalid socket file descriptor: no active conversations were found
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
There were no TCP/IP conversations active for the user.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the application is not calling the PL/SQL TIP routines out of sequence.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-9B9D9FB8-D842-4901-A024-36C7FA3A9356">
                        <!-- --></a>
PGA-22006: Parameter <span class="variable" translate="no">string</span> is not specified.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Parameter <span class="variable" translate="no">parm</span> is missing from the gateway initialization file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Add the missing parameter to the gateway initialization file. Refer to the Oracle Database Gateway Installation and Configuration Guide for the required initialization parameters for gateways using TCP/IP.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-C8FA2F14-3A6E-4BFD-AB57-ECC3DA30D22F">
                        <!-- --></a>
PGA-22007: user ID <span class="variable" translate="no">string</span> length of <span class="variable" translate="no">number</span> is invalid; maximum length is <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The user id <span class="variable" translate="no">uid</span> is too long <span class="variable" translate="no">len</span> to be used. The maximum allowable length for the user ID is <span class="variable" translate="no">max</span> characters.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The user id must be changed to a shorter value for OCI logon to the table PGA_TCP_IMSC. Refer to the Oracle Database Gateway Installation and Configuration Guide for the required gateway initialization parameters for gateways using TCP/IP.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-EBF13208-B1CE-4587-865F-F02572A0DA28">
                        <!-- --></a>
PGA-22008: password length of <span class="variable" translate="no">number</span> is invalid; maximum length is <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The password is too long <span class="variable" translate="no">len</span> to be used. The maximum allowable length for the password is <span class="variable" translate="no">max</span> characters.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The password must be changed to a shorter value for OCI logon to the table PGA_TCP_IMSC. Refer to the Oracle Database Gateway Installation and Configuration Guide for the required gateway initialization parameters for gateways using TCP/IP.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-7C7E68F8-366F-4EB5-A47E-CDFA17640E4B">
                        <!-- --></a>
PGA-22009: database name <span class="variable" translate="no">string</span> length of <span class="variable" translate="no">number</span> is invalid; maximum length is <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The database name <span class="variable" translate="no">db name</span> is too long <span class="variable" translate="no">len</span> to be used.  The maximum allowable length for the database name is <span class="variable" translate="no">max</span> characters.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The database name must be changed to a shorter value for OCI logon to the table PGA_TCP_IMSC. Refer to the Oracle Database Gateway Installation and Configuration Guide for the required gateway initialization parameters for gateways using TCP/IP.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-D02ECEBB-CC78-4137-97D9-29478FE08263">
                        <!-- --></a>
PGA-22010: userid <span class="variable" translate="no">string</span> length of <span class="variable" translate="no">number</span> is invalid; maximum length is <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The userid <span class="variable" translate="no">uid</span> is too long (<span class="variable" translate="no">len</span>) to be used with TCP/IP RACF conversation security. This can occur only when the gateway initialization parameter PGA_SECURITY_TYPE is set to either SAME or PROGRAM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The userid must be changed to a shorter value on both the client system and the system where the remote transaction program is being executed. The maximum allowable length for the userid is <span class="variable" translate="no">max</span> characters. This restriction is imposed by RACF, not by the gateway.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-66F1091C-EBD0-45DD-B970-3BDAD558673E">
                        <!-- --></a>
PGA-22011: password length of <span class="variable" translate="no">number</span> is invalid; maximum length is <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The password is too long (<span class="variable" translate="no">len</span>) to be used with TCP/IP RACF conversation security. This can occur only when the gateway initialization parameter PGA_SECURITY_TYPE is set to PROGRAM.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
The password must be changed to a shorter value on both the client system and the system where the remote transaction program is being executed. The maximum allowable length for the password is <span class="variable" translate="no">max</span> characters. This restriction is imposed by RACF, not by the gateway.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-9979F786-D495-49D7-8A5E-F5317B7B491A">
                        <!-- --></a>
PGA-22012: IMS Connect error: return code = <span class="variable" translate="no">string</span>, reason code = <span class="variable" translate="no">string</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An unexpected IMS Connect error occurred while executing the 'recv' function. The return code <span class="variable" translate="no">rc</span> and reason code <span class="variable" translate="no">rsc</span> are provided in the message text. For more information, look at the OLTP SDSF log and IMS Connect error message which starts with HWS. The messages are documented in the IBM IMS Connect Guide and Refrence manual.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Determine the cause of the  error, correct it, and rerun the transaction.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-0E2630AF-AA3F-4989-A4F2-DFEDEE6A15AD__GUID-A833D451-F092-46DE-9232-CE2E333D9DE6">
                        <!-- --></a>
PGA-22014: Transaction code length of <span class="variable" translate="no">number</span> exceeds the maximum of <span class="variable" translate="no">number</span></dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The transaction code length <span class="variable" translate="no">len</span> passed to PGAINIT or PGAINIT_SEC was larger than the maximum allowed length <span class="variable" translate="no">max</span>.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Check that the PGDL and COBOL record descriptions used to define the transaction to PGAU are in sync with the transaction program and that the PL/SQL TIP was generated by PGAU using the correct definitions. If modifications have been made to the generated PL/SQL code, check that they are correct.

                     </p>
                     
                  </dd>
               </dl>
            </div>
         </div>
      </article>
   </body>
</html><html id='04780.notification-streams-advanced-queuing.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes continuous query notification, publish-subscribe notification, and Database advanced queuing features.">
      <meta name="description" content="This chapter describes continuous query notification, publish-subscribe notification, and Database advanced queuing features.">
      <title>Notification Methods and Database Advanced Queuing</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter describes continuous query notification, publish-subscribe notification, and Database advanced queuing features.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="high-availability-in-oci.html" title="Previous" type="text/html">
      <link rel="next" href="user-defined-callback-functions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="high-availability-in-oci.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="user-defined-callback-functions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Notification Methods and Database Advanced
        Queuing</li>
            </ol>
            <a id="GUID-CB527931-3630-4F31-99ED-1D53C3F7FD90" name="GUID-CB527931-3630-4F31-99ED-1D53C3F7FD90"></a>
            
            <h2 id="LNOCI-GUID-CB527931-3630-4F31-99ED-1D53C3F7FD90" class="sect2"><span class="enumeration_chapter">13 </span>Notification Methods and Database Advanced
        Queuing
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes continuous query notification, publish-subscribe
        notification, and Database advanced queuing features.</p>
               <div class="p">This chapter includes the following topics:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="notification-streams-advanced-queuing.html#GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529" title="Continuous Query Notification (CQN) enables client applications to register queries with the database and receive notifications in response to DML or DDL changes on the objects or in response to result set changes associated with the queries.">About Continuous Query Notification</a></p>
                     </li>
                     <li>
                        <p><a href="notification-streams-advanced-queuing.html#GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" title="The publish-subscribe notification feature allows an OCI application to receive client notifications directly, register an email address to which notifications can be sent, register an HTTP URL to which notifications can be posted, or register a PL/SQL procedure to be invoked on a notification.">Publish-Subscribe Notification in OCI</a></p>
                     </li>
                     <li>
                        <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI provides an interface to the Database Advanced Queuing (Database AQ) feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle Database.">OCI and Database Advanced Queuing</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2"><a id="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529" name="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529"></a><h3 id="LNOCI-GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529" class="sect3"><span class="enumeration_section">13.1 </span>About Continuous Query Notification
               </h3>
               <div>
                  <p>Continuous Query Notification (CQN) enables client applications to register queries with the database and receive notifications in response to DML or DDL changes on the objects or in response to result set changes associated with the queries.</p>
                  <p>The notifications are published by the database when the DML or DDL transaction commits.</p>
                  <p>During registration, the application specifies a notification handler and associates a set of interesting queries with the notification handler. A notification handler can be either a server-side PL/SQL procedure or a client-side C callback. Registrations are created at either the object level or the query level. If registration is at the object level, then whenever a transaction changes any of the registered objects and commits, the notification handler is invoked. If registration is at the query level, then whenever a transaction commits changes such that the result set of the query is modified, the notification handler is invoked, but if the changes do not affect the result set of the query, the notification handler is not invoked.</p>
                  <p>Query change notification can be registered for the following types of statements: <code class="codeph">OCI_STMT_SELECT</code>, <code class="codeph">OCI_STMT_BEGIN</code>, <code class="codeph">OCI_STMT_DECLARE</code>, and <code class="codeph">OCI_STMT_CALL</code>.
                  </p>
                  <p>Query change notification assumes that the PLSQL code performs only <code class="codeph">SELECT</code> statements and registers for every <code class="codeph">SELECT</code> statement. Otherwise, it raises an error if there are any non SELECT statements in the PLSQL code.
                  </p>
                  <p>One use of continuous query notification is in middle-tier applications that must have cached data and keep the cache as recent as possible for the back-end database.</p>
                  <p>The notification includes the following information:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Query IDs of queries whose result sets have changed. This is if the registration was at query granularity.</p>
                     </li>
                     <li>
                        <p>Names of the modified objects or changed rows.</p>
                     </li>
                     <li>
                        <p>Operation type (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>, <code class="codeph">DROP</code> <code class="codeph">TABLE</code>).
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ROWID</code>s of the changed rows and the associated DML operation (<code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>).
                        </p>
                     </li>
                     <li>
                        <p>Global database events (<code class="codeph">STARTUP</code>, <code class="codeph">SHUTDOWN</code>). In Oracle Real Application Cluster (Oracle RAC) the database delivers a notification when the first instance starts or the last instance shuts down.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-0D3F60BF-942A-4F50-BD58-7F719BE10529__GUID-D148FB06-37BA-4030-86FA-F7D719B3AC7F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../adfns/cqn.html#ADFNS018" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a>, the section about using continuous query notification for a complete discussion of the concepts of this feature and using OCI and PL/SQL interfaces to create CQN registrations
                           </p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" title="The publish-subscribe notification feature allows an OCI application to receive client notifications directly, register an email address to which notifications can be sent, register an HTTP URL to which notifications can be posted, or register a PL/SQL procedure to be invoked on a notification.">Publish-Subscribe Notification in OCI</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" name="GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4"></a><h3 id="LNOCI-GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4" class="sect3"><span class="enumeration_section">13.2 </span>Publish-Subscribe Notification in OCI
               </h3>
               <div>
                  <p>The publish-subscribe notification feature allows an OCI application to receive client notifications directly, register an email address to which notifications can be sent, register an HTTP URL to which notifications can be posted, or register a PL/SQL procedure to be invoked on a notification. </p>
                  <p><a href="notification-streams-advanced-queuing.html#GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4__I457371">Figure 13-1</a> illustrates the process. 
                  </p>
                  <div class="figure" id="GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4__I457371">
                     <p class="titleinfigure">Figure 13-1 Publish-Subscribe Model</p><img src="img/lnoci039.gif" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows" longdesc="img_text/lnoci039.html"><br><a href="img_text/lnoci039.html">Description of "Figure 13-1 Publish-Subscribe Model"</a></div>
                  <!-- class="figure" -->
                  <p>An OCI application can:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Register interest in notifications in the AQ namespace and be notified when an enqueue occurs</p>
                     </li>
                     <li>
                        <p>Register interest in subscriptions to database events and receive notifications when the events are triggered </p>
                     </li>
                     <li>
                        <p>Manage registrations, such as disabling registrations temporarily or dropping the registrations entirely</p>
                     </li>
                     <li>
                        <p>Post or send notifications to registered clients</p>
                     </li>
                  </ul>
                  <p>In all the preceding scenarios the notification can be received directly by the OCI application, or the notification can be sent to a prespecified email address, or it can be sent to a predefined HTTP URL, or a prespecified database PL/SQL procedure can be invoked because of a notification.</p>
                  <p>Registered clients are notified asynchronously when events are triggered or on an explicit AQ enqueue. Clients do not need to be connected to a database.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-1E9445D7-DFD9-4230-BFFD-EF3630691ECE" title="You can register directly to the database or register using Lightweight Directory Access Protocol (LDAP).">Publish-Subscribe Registration Functions in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5" title="The client must register a notification callback that gets invoked when there is some activity on the subscription for which interest has been registered.">Notification Callback in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-078F3FD1-7CAA-45FC-A93F-1CE942D27CA0" title="The PL/SQL notification procedure that is invoked when there is some activity on the subscription for which interest has been registered, must be created in the database.">Notification Procedure</a></p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-909E21A8-A247-4E54-9069-79B3EF219D2F" title="Shows examples implementing publish subscription notification using direct registration.">Publish-Subscribe Direct Registration Example</a></p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-9F4EEC78-5CAC-4E86-9F82-1FF9586289CF" title="Shows an example that illustrates how to do LDAP registration.">Publish-Subscribe LDAP Registration Example</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-9CE58707-FC18-492E-8AA9-5314041BCEE4__GUID-642616AE-C0DB-4BAE-B1C3-C044AC88CDDA">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI provides an interface to the Database Advanced Queuing (Database AQ) feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle Database.">OCI and Database Advanced Queuing</a> for information about Database Advanced
                        Queuing
                           </p>
                        </li>
                        <li>
                           <p><a href="../adque/aq-introduction.html#ADQUE0100" target="_blank"><span><cite>Oracle Database Advanced Queuing User's Guide</cite></span></a> for information about creating
                        queues and about Database AQ, including concepts, features, and examples
                           </p>
                        </li>
                        <li>
                           <p>The chapter about <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> in the <a href="../sqlrf/CREATE-TRIGGER.html#SQLRF01405" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about creating triggers
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-1E9445D7-DFD9-4230-BFFD-EF3630691ECE" name="GUID-1E9445D7-DFD9-4230-BFFD-EF3630691ECE"></a><h4 id="LNOCI-GUID-1E9445D7-DFD9-4230-BFFD-EF3630691ECE" class="sect4"><span class="enumeration_section">13.2.1 </span>Publish-Subscribe Registration Functions in OCI
                  </h4>
                  <div>
                     <p>You can register directly to the database or register using Lightweight Directory Access Protocol (LDAP).</p>
                     <p>Registration can be done in two ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Direct registration. You register directly to the database. This way is simple and the registration takes effect immediately.</p>
                        </li>
                        <li>
                           <p>Open registration. You register using Lightweight Directory Access Protocol (LDAP), from which the database receives the registration request. This is useful when the client cannot have a database connection (the client wants to register for a database open event while the database is down), or if the client wants to register for the same event or events in multiple databases simultaneously. </p>
                        </li>
                     </ul>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4" title="The following steps are required in an OCI application to register directly and receive notifications for events.">Publish-Subscribe Register Directly to the Database</a></p>
                           </li>
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-5C733061-A0B7-4852-B0B6-A013CB0D7739" title="Lists the prerequisites for the open registration for publish-subscribe.">Open Registration for Publish-Subscribe</a></p>
                           </li>
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-C7ED46E0-43C2-41A3-B89E-8F05DF0C4CC8" title="Shows how to open register using LDAP registration.">Using OCI to Open Register with LDAP</a></p>
                           </li>
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-00B6E34B-201C-4C6E-B188-238FE58836D8" title="Shows how to set QOSFLAGS to QOS levels using OCIAttrSet().">Setting QOS, Timeout Interval, Namespace, Client Address, and Port Number</a></p>
                           </li>
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-362BE190-510B-4187-A93E-C4538E2C8A24" title="Lists and describes the functions used to manage publish-subscribe notification.">OCI Functions Used to Manage Publish-Subscribe Notification</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1E9445D7-DFD9-4230-BFFD-EF3630691ECE__GUID-812E3D19-0E2E-4109-B196-4E99F51B045C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4" title="The following steps are required in an OCI application to register directly and receive notifications for events.">Publish-Subscribe Register Directly to the Database</a></p>
                           </li>
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-5C733061-A0B7-4852-B0B6-A013CB0D7739" title="Lists the prerequisites for the open registration for publish-subscribe.">Open Registration for Publish-Subscribe</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4" name="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4"></a><h5 id="LNOCI-GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4" class="sect5"><span class="enumeration_section">13.2.1.1 </span>Publish-Subscribe Register Directly to the Database
                     </h5>
                     <div>
                        <p>The following steps are required in an OCI application to register directly and receive notifications for events.</p>
                        <p>It is assumed that the appropriate event trigger or AQ queue has been set up. The initialization parameter <code class="codeph">COMPATIBLE</code> must be set to 8.1 or later.<span class="bold"></span> 
                        </p>
                        <div class="infoboxnotealso" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-E124B95D-80B5-4B3D-A8DF-F1FCD904ADBA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3" title="Lists and describes the Database Advanced Queuing and publish-subscribe functions.">Database Advanced Queuing and Publish-Subscribe Functions</a></p>
                              </li>
                              <li>
                                 <p><a href="notification-streams-advanced-queuing.html#GUID-909E21A8-A247-4E54-9069-79B3EF219D2F" title="Shows examples implementing publish subscription notification using direct registration.">Publish-Subscribe Direct Registration Example</a> for examples of the use of these functions in an application 
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnote" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-45D4D6C0-A953-4C66-8CA5-EA237EB1A50B">
                           <p class="notep1">Note:</p>
                           <p>The publish-subscribe feature is only available on multithreaded operating systems.</p>
                        </div>
                        <ol>
                           <li>
                              <p>Call <code class="codeph">OCIEnvCreate()</code> or <code class="codeph">OCIEnvNlsCreate()</code> with <code class="codeph">OCI_EVENTS</code> mode to specify that the application is interested in registering for and receiving notifications. This starts a dedicated listening thread for notifications on the client.
                              </p>
                           </li>
                           <li>
                              <p>Call <code class="codeph">OCIHandleAlloc()</code> with handle type <code class="codeph">OCI_HTYPE_SUBSCRIPTION</code> to allocate a subscription handle.
                              </p>
                           </li>
                           <li>
                              <p>Call <code class="codeph">OCIAttrSet()</code> to set the subscription handle attributes for:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_NAME</code> - Subscription name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code> - Subscription namespace
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_HOSTADDR</code> - Environment handle attribute that sets the client IP (in either IPv4 or IPv6 format) to which notification is sent
                                    </p>
                                    <p>Oracle Database components and utilities support Internet Protocol version 6 (IPv6) addresses.</p>
                                    <div class="infoboxnotealso" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-BC89470B-7AD1-4462-8D55-38CD92C761E4">
                                       <p class="notep1">See Also:</p>
                                       <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C__BAJDBBIC">OCI_ATTR_SUBSCR_HOSTADDR</a>, <a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C__BAJHEBIA">OCI_ATTR_SUBSCR_IPADDR</a>, and <a href="../netag/understanding-communication-layers.html#NETAG1453" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for more information about the IPv6 format for IP addresses
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code> - Notification callback
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_CTX</code> - Callback context
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_PAYLOAD</code> - Payload buffer for posting
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_RECPT</code> - Recipient name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code> - Protocol to receive notification with
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_RECPTPRES</code> - Presentation to receive notification with
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_QOSFLAGS</code> - QOS (quality of service) levels with the following values:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>If <code class="codeph">OCI_SUBSCR_QOS_PURGE_ON_NTFN</code> is set, the registration is purged on the first notification.
                                          </p>
                                       </li>
                                       <li>
                                          <p>If <code class="codeph">OCI_SUBSCR_QOS_RELIABLE</code> is set, notifications are persistent. You can use surviving instances of an Oracle RAC database to send and retrieve change notification messages even after a node failure, because invalidations associated with this registration are queued persistently into the database. If <code class="codeph">FALSE</code>, then invalidations are enqueued into a fast in-memory queue. Note that this option describes the persistence of notifications and not the persistence of registrations. Registrations are automatically persistent by default.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_TIMEOUT</code> - Registration timeout interval in seconds. The default is 0 if a timeout is not set.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_NTFN_GROUPING_CLASS</code> - notification grouping class
                                    </p>
                                    <p>Notifications can be spaced out by using the grouping NTFN option with the following constants. A value supported for notification grouping class is:</p><pre class="oac_no_warn" dir="ltr">#define OCI_SUBSCR_NTFN_GROUPING_CLASS_TIME   1 /* time  */
</pre></li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_NTFN_GROUPING_VALUE</code> - notification grouping value in seconds
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_NTFN_GROUPING_TYPE</code> - notification grouping type
                                    </p>
                                    <p>Supported values for notification grouping type:</p><pre class="oac_no_warn" dir="ltr">#define OCI_SUBSCR_NTFN_GROUPING_TYPE_SUMMARY 1  /* summary */
#define OCI_SUBSCR_NTFN_GROUPING_TYPE_LAST    2  /* last */ 
</pre></li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_NTFN_GROUPING_START_TIME</code> - notification grouping start time
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_ATTR_SUBSCR_NTFN_GROUPING_REPEAT_COUNT</code> - notification grouping repeat count
                                    </p>
                                 </li>
                              </ul>
                              <p><code class="codeph">OCI_ATTR_SUBSCR_NAME</code>, <code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code>, and <code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code> must be set before you register a subscription.
                              </p>
                              <p>If <code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code> is set to <code class="codeph">OCI_SUBSCR_PROTO_OCI</code>, then <code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code> and <code class="codeph">OCI_ATTR_SUBSCR_CTX</code> also must be set.
                              </p>
                              <p>If <code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code> is set to <code class="codeph">OCI_SUBSCR_PROTO_MAIL</code>, <code class="codeph">OCI_SUBSCR_PROTO_SERVER</code>, or <code class="codeph">OCI_SUBSCR_PROTO_HTTP</code>, then <code class="codeph">OCI_ATTR_SUBSCR_RECPT</code> also must be set.
                              </p>
                              <p>Setting <code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code> and <code class="codeph">OCI_ATTR_SUBSCR_RECPT</code> at the same time causes an application error.
                              </p>
                              <p><code class="codeph">OCI_ATTR_SUBSCR_PAYLOAD</code> is required before the application can perform a post to a subscription. 
                              </p>
                              <div class="infoboxnotealso" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-5A5F0DBF-D62E-4D29-A8DB-93647C6DAD07">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> and <a href="oci-programming-basics.html#GUID-083E4689-0B45-4120-9FBD-3E5FE6BB1589" title="Each OCI function call is executed in the context of an environment that is created with the OCIEnvCreate() call.">About Creating the OCI Environment</a> for setting up the environment with <code class="codeph">mode = OCI_EVENTS | OCI_OBJECT</code>. <code class="codeph">OCI_OBJECT</code> is required for grouping notifications.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Set he values of QOS, timeout interval, namespace, and port (see Example&nbsp;9&#x2013;15).</p>
                              <div class="infoboxnotealso" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-F192A4D3-36E4-4D17-8FCD-64649859E6C5">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="notification-streams-advanced-queuing.html#GUID-00B6E34B-201C-4C6E-B188-238FE58836D8" title="Shows how to set QOSFLAGS to QOS levels using OCIAttrSet().">Setting QOS, Timeout Interval, Namespace, Client Address, and Port Number</a></p>
                              </div>
                           </li>
                           <li>
                              <p>Set <code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code> to <code class="codeph">OCI_SUBSCR_PROTO_OCI</code>, then define the callback routine to be used with the subscription handle. 
                              </p>
                              <div class="infoboxnotealso" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-F81E772A-37B5-4E60-A900-824F5D590A14">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="notification-streams-advanced-queuing.html#GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5" title="The client must register a notification callback that gets invoked when there is some activity on the subscription for which interest has been registered.">Notification Callback in OCI</a></p>
                              </div>
                           </li>
                           <li>
                              <p>Set <code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code> to <code class="codeph">OCI_SUBSCR_PROTO_SERVER</code>, then define the PL/SQL procedure, to be invoked on notification, in the database.
                              </p>
                              <div class="infoboxnotealso" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-FEE7B581-AEAF-4671-A201-67C6ABC65D93">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="notification-streams-advanced-queuing.html#GUID-078F3FD1-7CAA-45FC-A93F-1CE942D27CA0" title="The PL/SQL notification procedure that is invoked when there is some activity on the subscription for which interest has been registered, must be created in the database.">Notification Procedure</a></p>
                              </div>
                           </li>
                           <li>
                              <p>Call <code class="codeph">OCISubscriptionRegister()</code> to register with the subscriptions. This call can register interest in several subscriptions at the same time.
                              </p>
                           </li>
                        </ol>
                        <p><a href="notification-streams-advanced-queuing.html#GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__CACFFAEH">Example 13-1</a> shows an example of setting QOS levels.
                        </p>
                        <div class="example" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__CACFFAEH">
                           <p class="titleinexample">Example 13-1 Setting QOS Levels, the Notification Grouping Class, Value, and Type, and the Namespace Specific Context</p><pre class="oac_no_warn" dir="ltr">/* Set QOS levels */
ub4 qosflags = OCI_SUBSCR_QOS_PAYLOAD;
 
/* Set QOS flags in subscription handle */
(void) OCIAttrSet((dvoid *) subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
                 (dvoid *) &amp;qosflags, (ub4) 0,
                 (ub4) OCI_ATTR_SUBSCR_QOSFLAGS, errhp);
 
/* Set notification grouping class */
ub4 ntfn_grouping_class = OCI_SUBSCR_NTFN_GROUPING_CLASS_TIME;
(void) OCIAttrSet((dvoid *) subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
                 (dvoid *) &amp;ntfn_grouping_class, (ub4) 0,
                 (ub4) OCI_ATTR_SUBSCR_NTFN_GROUPING_CLASS, errhp);
 
/* Set notification grouping value of 10 minutes */
ub4 ntfn_grouping_value = 600;
(void) OCIAttrSet((dvoid *) subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
                 (dvoid *) &amp;ntfn_grouping_value, (ub4) 0,
                 (ub4) OCI_ATTR_SUBSCR_NTFN_GROUPING_VALUE, errhp);
 
/* Set notification grouping type */
ub4 ntfn_grouping_type = OCI_SUBSCR_NTFN_GROUPING_TYPE_SUMMARY;
 
/* Set notification grouping type in subscription handle */
(void) OCIAttrSet((dvoid *) subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
                 (dvoid *) &amp;ntfn_grouping_type, (ub4) 0,
                 (ub4) OCI_ATTR_SUBSCR_NTFN_GROUPING_TYPE, errhp);
 
/* Set namespace specific context */
(void) OCIAttrSet((dvoid *) subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
                 (dvoid *) NULL, (ub4) 0,
                 (ub4) OCI_ATTR_SUBSCR_NAMESPACE_CTX, errhp);
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-670B69C2-F7D9-4347-9D6E-A532A2292BE7"></p>
                           <div class="infoboxnotealso" id="GUID-4D013BA8-B824-45FB-A54A-21FF42B256F4__GUID-837FCDA2-710B-4A69-8107-A7968A674D14">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-5C733061-A0B7-4852-B0B6-A013CB0D7739" name="GUID-5C733061-A0B7-4852-B0B6-A013CB0D7739"></a><h5 id="LNOCI-GUID-5C733061-A0B7-4852-B0B6-A013CB0D7739" class="sect5"><span class="enumeration_section">13.2.1.2 </span>Open Registration for Publish-Subscribe
                     </h5>
                     <div>
                        <p>Lists the prerequisites for the open registration for publish-subscribe.</p>
                        <div class="section">
                           <p>Prerequisites for the open registration for publish-subscribe are as follows:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Registering using LDAP (open registration) requires the client to be an enterprise user.</p>
                                 <div class="infoboxnotealso" id="GUID-5C733061-A0B7-4852-B0B6-A013CB0D7739__GUID-03CE6BDB-B81B-4DA1-ADE4-24A63D764BF0">
                                    <p class="notep1">See Also:</p>
                                    <p> <a href="../dbimi/introducing-enterprise-user-security.html#DBIMI152" target="_blank"><span><cite>Oracle Database Enterprise User Security Administrator's Guide</cite></span></a>, sections about managing enterprise user security 
                                    </p>
                                 </div>
                              </li>
                           </ul>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> The compatibility of the database must be 9.0 or later. </p>
                              </li>
                              <li>
                                 <p><code class="codeph">LDAP_REGISTRATION_ENABLED</code> must be set to <code class="codeph">TRUE</code>. This can be done this way:
                                 </p><pre class="oac_no_warn" dir="ltr"> ALTER SYSTEM SET LDAP_REGISTRATION_ENABLED=TRUE
</pre><p>The default is <code class="codeph">FALSE</code>.
                                 </p>
                              </li>
                              <li>
                                 <p> <code class="codeph">LDAP_REG_SYNC_INTERVAL</code> must be set to the time interval (in seconds) to refresh registrations from LDAP:
                                 </p><pre class="oac_no_warn" dir="ltr"> ALTER SYSTEM SET LDAP_REG_SYNC_INTERVAL =  time_interval
</pre><p> The default is 0, which means do not refresh.</p>
                              </li>
                              <li>
                                 <p>To force a database refresh of LDAP registration information immediately:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM REFRESH LDAP_REGISTRATION
</pre></li>
                           </ul>
                           <p>The steps for open registration using Oracle Enterprise Security Manager (OESM) are:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>In each enterprise domain, create the enterprise role, <code class="codeph">ENTERPRISE_AQ_USER_ROLE</code>.</span></li>
                           <li><span>For each database in the enterprise domain, add the global role       <code class="codeph">GLOBAL_AQ_USER_ROLE</code> to the enterprise role <code class="codeph">ENTERPRISE_AQ_USER_ROLE</code>.</span></li>
                           <li><span>For each enterprise domain, add the enterprise role <code class="codeph">ENTERPRISE_AQ_USER_ROLE</code> to the privilege group <code class="codeph">cn=OracleDBAQUsers</code>, under <code class="codeph">cn=oraclecontext</code>, under the administrative context.</span></li>
                           <li><span>For each enterprise user that is authorized to register for events in the database, grant the enterprise role <code class="codeph">ENTERPRISE_AQ_USER_ROLE</code>.</span></li>
                        </ol>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-C7ED46E0-43C2-41A3-B89E-8F05DF0C4CC8" name="GUID-C7ED46E0-43C2-41A3-B89E-8F05DF0C4CC8"></a><h5 id="LNOCI-GUID-C7ED46E0-43C2-41A3-B89E-8F05DF0C4CC8" class="sect5"><span class="enumeration_section">13.2.1.3 </span>Using OCI to Open Register with LDAP
                     </h5>
                     <div>
                        <p>Shows how to open register using LDAP registration.</p>
                        <ol>
                           <li class="stepexpand"><span>Call <code class="codeph">OCIEnvCreate()</code> or <code class="codeph">OCIEnvNlsCreate()</code> with <code class="codeph">mode</code> set to <code class="codeph">OCI_EVENTS</code> | <code class="codeph">OCI_USE_LDAP</code>.</span></li>
                           <li class="stepexpand"><span>Call <code class="codeph">OCIAttrSet()</code> to set the following environment handle attributes for accessing LDAP:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_LDAP_HOST</code>: the host name on which the LDAP server resides
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_LDAP_PORT</code>: the port on which the LDAP server is listening
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_BIND_DN</code>: the distinguished name to log in to the LDAP server,        usually the DN of the enterprise user
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_LDAP_CRED</code>: the credential used to authenticate the client, for example, the password for simple authentication (user name and password)
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_WALL_LOC</code>: for SSL authentication, the location of the client wallet
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_LDAP_AUTH</code>: the authentication method code
                                       </p>
                                       <div class="infoboxnotealso" id="GUID-C7ED46E0-43C2-41A3-B89E-8F05DF0C4CC8__GUID-8CC7F3BA-DA0A-46D7-AECD-3BF1ABCD839B">
                                          <p class="notep1">See Also:</p>
                                          <p><a href="handle-and-descriptor-attributes.html#GUID-9CA5026C-B6A0-4233-8B22-F1DD94ACE9F8" title="Lists and describes environment handle attributes.">Environment Handle Attributes</a> for a complete list of authentication modes
                                          </p>
                                       </div>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_LDAP_CTX</code>: the administrative context for Oracle Database in the LDAP server
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Call <code class="codeph">OCIHandleAlloc()</code> with handle type <code class="codeph">OCI_HTYPE_SUBSCRIPTION</code>, to allocate a subscription handle.</span></li>
                           <li class="stepexpand"><span>Call <code class="codeph">OCIArrayDescriptorAlloc()</code> with descriptor type <code class="codeph">OCI_DTYPE_SRVDN</code>, to allocate a server DN descriptor.</span></li>
                           <li class="stepexpand"><span>Call <code class="codeph">OCIAttrSet()</code>to set the server DN descriptor attributes for <code class="codeph">OCI_ATTR_SERVER_DN</code>, the distinguished name of the database in which the       client wants to receive notifications. <code class="codeph">OCIAttrSet()</code> can be called multiple       times for this attribute so that more than one database server is included in the registration.</span></li>
                           <li class="stepexpand"><span>Call <code class="codeph">OCIAttrSet()</code> to set the subscription handle attributes for:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_NAME</code> - Subscription name
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code> - Subscription namespace
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code>- Notification callback
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_CTX</code> - Callback context
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_PAYLOAD</code> - Payload buffer for posting
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_RECPT</code> - Recipient name
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code> - Protocol to receive notification with
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_RECPTRES</code> - Presentation to receive notification with
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_QOSFLAGS</code> - QOS (quality of service) levels
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_TIMEOUT</code> - Registration timeout interval in seconds. The default is 0 if a timeout is not set.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_ATTR_SUBSCR_SERVER_DN</code> - The descriptor handles you populated in Step 5
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>The values of QOS, timeout interval, namespace, and port are set. See <a href="notification-streams-advanced-queuing.html#GUID-00B6E34B-201C-4C6E-B188-238FE58836D8" title="Shows how to set QOSFLAGS to QOS levels using OCIAttrSet().">Setting QOS, Timeout Interval, Namespace, Client Address, and Port Number</a>.</span></li>
                           <li class="stepexpand"><span>Call <code class="codeph">OCISubscriptionRegister()</code> to register the subscriptions. The registration takes effect when the database accesses LDAP to pick up new registrations. The frequency of pickups is determined by the value of <code class="codeph">LDAP_REG_SYNC_INTERVAL</code>.</span></li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-C7ED46E0-43C2-41A3-B89E-8F05DF0C4CC8__GUID-8B491AC7-B5A8-4E63-B8C7-FFAAF266A59C">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-8218D5F2-139B-4FA9-BA4A-ED0126687C0F" title="Allocates an array of descriptors.">OCIArrayDescriptorAlloc()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-00B6E34B-201C-4C6E-B188-238FE58836D8" name="GUID-00B6E34B-201C-4C6E-B188-238FE58836D8"></a><h5 id="LNOCI-GUID-00B6E34B-201C-4C6E-B188-238FE58836D8" class="sect5"><span class="enumeration_section">13.2.1.4 </span>Setting QOS, Timeout Interval, Namespace, Client Address, and Port Number
                     </h5>
                     <div>
                        <p>Shows how to set QOSFLAGS to QOS levels using <code class="codeph">OCIAttrSet()</code>.
                        </p>
                        <div class="section">
                           <p>You can set QOSFLAGS to the following QOS levels using <code class="codeph">OCIAttrSet()</code>:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_SUBSCR_QOS_RELIABLE</code> - Reliable notification persists across instance and database restarts. Reliability is of the server only and is only for persistent queues or buffered messages. This option describes the persistence of the notifications. Registrations are persistent by default.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_SUBSCR_QOS_PURGE_ON_NTFN</code> - Once notification is received, purge registration on first notification. (Subscription is unregistered.)
                                 </p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">/* Set QOS levels */
ub4 qosflags = OCI_SUBSCR_QOS_RELIABLE | OCI_SUBSCR_QOS_PURGE_ON_NTFN;

/* Set flags in subscription handle */
(void)OCIAttrSet((void *)subscrhp, (ub4)OCI_HTYPE_SUBSCRIPTION,
               (void *)&amp;qosflags, (ub4)0, (ub4)OCI_ATTR_SUBSCR_QOSFLAGS, errhp);

/* Set auto-expiration after 30 seconds */
ub4 timeout = 30;
(void)OCIAttrSet((void *)subscrhp, (ub4)OCI_HTYPE_SUBSCRIPTION,
                 (void *)&amp;timeout, (ub4)0, (ub4)OCI_ATTR_SUBSCR_TIMEOUT, errhp);
</pre><p>The registration is purged when the timeout is exceeded, and a notification is sent to the client, so that the client can invoke its callback and take any necessary action. For client failure before the timeout, the registration is purged.</p>
                           <p>You can set the port number on the environment handle, which is important if the client is on a system behind a firewall that can receive notifications only on certain ports. Clients can specify the port for the listener thread before the first registration, using an attribute in the environment handle. The thread is started the first time OCISubscriptionRegister() is called. If available, this specified port number is used. An error is returned if the client tries to start another thread on a different port using a different environment handle.</p><pre class="oac_no_warn" dir="ltr">ub4 port = 1581;
(void)OCIAttrSet((void *)envhp, (ub4)OCI_HTYPE_ENV, (void *)&amp;port, (ub4)0,
                 (ub4)OCI_ATTR_SUBSCR_PORTNO, errhp);
</pre><p>If instead, the port is determined automatically, you can get the port number at which the client thread is listening for notification by obtaining the attribute from the environment handle.</p><pre class="oac_no_warn" dir="ltr">(void)OCIAttrGet((void *)subhp, (ub4)OCI_HTYPE_ENV, (void *)&amp;port, (ub4)0, 
                 (ub4)OCI_ATTR_SUBSCR_PORTNO, errhp);
</pre><p>Example to set client address: </p><pre class="oac_no_warn" dir="ltr">text ipaddr[16] = "10.177.246.40";
(void)(OCIAttrSet((dvoid *) envhp, (ub4) OCI_HTYPE_ENV,
       (dvoid *) ipaddr, (ub4) strlen((const char *)ipaddr),
       (ub4) OCI_ATTR_SUBSCR_IPADDR, errhp));</pre><div class="infoboxnotealso" id="GUID-00B6E34B-201C-4C6E-B188-238FE58836D8__GUID-7E360654-C212-4562-8C40-B35C38BF3EF3">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C__BAJHEBIA">OCI_ATTR_SUBSCR_IPADDR</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-362BE190-510B-4187-A93E-C4538E2C8A24" name="GUID-362BE190-510B-4187-A93E-C4538E2C8A24"></a><h5 id="LNOCI-GUID-362BE190-510B-4187-A93E-C4538E2C8A24" class="sect5"><span class="enumeration_section">13.2.1.5 </span>OCI Functions Used to Manage Publish-Subscribe Notification
                     </h5>
                     <div>
                        <p>Lists and describes the functions used to manage publish-subscribe notification.</p>
                        <div class="section">
                           <p><a href="notification-streams-advanced-queuing.html#GUID-362BE190-510B-4187-A93E-C4538E2C8A24__CACBABFH" title="This table is described by two columns. Column 1 is Function and column 2 is Purpose. It lists about five functions and describes the purpose of each one.">Table 13-1</a> lists the functions that are used to manage publish-subscribe notification. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-362BE190-510B-4187-A93E-C4538E2C8A24__CACBABFH">
                           <p class="titleintable">Table 13-1 Publish-Subscribe Functions </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Publish-Subscribe Functions " summary="This table is described by two columns. Column 1 is Function and column 2 is Purpose. It lists about five functions and describes the purpose of each one." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="42%" id="d123500e2738">Function</th>
                                    <th align="left" valign="bottom" width="58%" id="d123500e2741">Purpose</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d123500e2746" headers="d123500e2738 ">
                                       <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-72C51789-C48C-4F36-800B-EECC1AD98E00" title="Disables a subscription registration that turns off all notifications.">OCISubscriptionDisable()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d123500e2746 d123500e2741 ">
                                       <p>Disables a subscription</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d123500e2758" headers="d123500e2738 ">
                                       <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="Enables a subscription registration that has been disabled.">OCISubscriptionEnable()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d123500e2758 d123500e2741 ">
                                       <p>Enables a subscription</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d123500e2770" headers="d123500e2738 ">
                                       <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="Posts to a subscription that allows all clients who are registered for the subscription to get notifications.">OCISubscriptionPost()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d123500e2770 d123500e2741 ">
                                       <p>Posts a subscription</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d123500e2782" headers="d123500e2738 ">
                                       <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d123500e2782 d123500e2741 ">
                                       <p>Registers a subscription</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d123500e2794" headers="d123500e2738 ">
                                       <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d123500e2794 d123500e2741 ">
                                       <p>Unregisters a subscription</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5" name="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5"></a><h4 id="LNOCI-GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5" class="sect4"><span class="enumeration_section">13.2.2 </span>Notification Callback in OCI
                  </h4>
                  <div>
                     <p>The client must register a notification callback that gets invoked when there is some activity on the subscription for which interest has been registered.</p>
                     <p>In the AQ namespace, for instance, this occurs when a message of interest is enqueued. </p>
                     <p>This callback is typically set through the <code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code> attribute of the subscription handle. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-5BCA9BCF-64F0-4AE6-8EBF-3D3DA42B857C">
                        <p class="notep1">See Also:</p>
                        <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> 
                        </p>
                     </div>
                     <p>The callback must return a value of <code class="codeph">OCI_CONTINUE</code> and adhere to the following specification:
                     </p><pre class="oac_no_warn" dir="ltr">typedef ub4 (*OCISubscriptionNotify) ( void            *pCtx,
                                       OCISubscription *pSubscrHp,
                                       void            *pPayload,
                                       ub4             iPayloadLen,
                                       void            *pDescriptor,
                                       ub4             iMode);
</pre><p>The parameters are described as follows:</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-4B25411D-CB92-483B-A091-CF00C4128419">
                              <!-- --></a>pCtx (IN)
                        </dt>
                        <dd>
                           <p>A user-defined context specified when the callback was registered.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-D16EC5EB-632F-4B6C-A416-F100727DB181">
                              <!-- --></a>pSubscrHp (IN)
                        </dt>
                        <dd>
                           <p>The subscription handle specified when the callback was registered.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-D831F250-90FD-4E1B-ADF3-230BEBB29329">
                              <!-- --></a>pPayload (IN)
                        </dt>
                        <dd>
                           <p>The payload for this notification. Currently, only ub1 * (a sequence of bytes) for the payload is supported.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-29FAE291-172D-4417-88BE-AAD36DAECC1E">
                              <!-- --></a>iPayloadLen (IN)
                        </dt>
                        <dd>
                           <p>The length of the payload for this notification.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-37DE5942-26F6-4F15-B388-6EA8DB87907E">
                              <!-- --></a>pDescriptor (IN)
                        </dt>
                        <dd>
                           <p>The namespace-specific descriptor. Namespace-specific parameters can be extracted from this descriptor. The structure of this descriptor is opaque to the user and its type is dependent on the namespace. </p>
                           <p>The attributes of the descriptor are namespace-specific. For Advanced Queuing (AQ), the descriptor is <code class="codeph">OCI_DTYPE_AQNFY</code>. For the AQ namespace, the count of notifications received in the group is provided in the notification descriptor. The attributes of <code class="codeph">pDescriptor</code> are: 
                           </p>
                        </dd>
                     </dl>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Notification flag (regular = 0, timeout = 1, or grouping notification = 2) - <code class="codeph">OCI_ATTR_NFY_FLAGS</code></p>
                        </li>
                        <li>
                           <p>Queue name - <code class="codeph">OCI_ATTR_QUEUE_NAME</code></p>
                        </li>
                        <li>
                           <p>Consumer name - <code class="codeph">OCI_ATTR_CONSUMER_NAME</code></p>
                        </li>
                        <li>
                           <p>Message ID - <code class="codeph">OCI_ATTR_NFY_MSGID</code></p>
                        </li>
                        <li>
                           <p>Message properties - <code class="codeph">OCI_ATTR_MSG_PROP</code></p>
                        </li>
                        <li>
                           <p>Count of notifications received in the group - <code class="codeph">OCI_ATTR_AQ_NTFN_GROUPING_COUNT</code></p>
                        </li>
                        <li>
                           <p>The group, an OCI collection - <code class="codeph">OCI_ATTR_AQ_NTFN_GROUPING_MSGID_ARRAY</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-436A02DC-59DE-4E18-8CA6-C12718417184">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI provides an interface to the Database Advanced Queuing (Database AQ) feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle Database.">OCI and Database Advanced Queuing</a> 
                              </p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-8C3206B2-1774-4847-B71F-C48869E0BE86" title="Lists and describes notification descriptor attributes.">Notification Descriptor Attributes</a></p>
                           </li>
                        </ul>
                     </div>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__GUID-139550CE-01B1-48C1-939E-6C65BEBE03BF">
                              <!-- --></a>iMode (IN)
                        </dt>
                        <dd>
                           <p>Call-specific mode. The only valid value is <code class="codeph">OCI_DEFAULT</code>. This value executes the default call.
                           </p>
                        </dd>
                     </dl>
                     <p><a href="notification-streams-advanced-queuing.html#GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__CACGEABA">Example 13-2</a> shows how to use AQ grouping notification attributes in a notification callback.
                     </p>
                     <div class="example" id="GUID-6A21E98D-4921-4087-A79A-7B7C8C22ABD5__CACGEABA">
                        <p class="titleinexample">Example 13-2 Using AQ Grouping Notification Attributes in an OCI Notification Callback</p><pre class="oac_no_warn" dir="ltr">ub4 notifyCB1(void *ctx, OCISubscription *subscrhp, void *pay, ub4 payl,
              void *desc, ub4 mode)
{
 oratext            *subname;
 ub4                 size;
 OCIColl            *msgid_array = (OCIColl *)0;
 ub4                 msgid_cnt = 0;
 OCIRaw             *msgid;
 void              **msgid_ptr;
 sb4                 num_msgid = 0;
 void               *elemind = (void *)0;
 boolean             exist;
 ub2                 flags;
 oratext            *hexit = (oratext *)"0123456789ABCDEF";
 ub4                 i, j;
 
 /* get subscription name */
 OCIAttrGet(subscrhp, OCI_HTYPE_SUBSCRIPTION, (void *)&amp;subname, &amp;size,
            OCI_ATTR_SUBSCR_NAME,ctxptr-&gt;errhp);
 
 /* print subscripton name */
 printf("Got notification for %.*s\n", size, subname);
 fflush((FILE *)stdout);
 
 /* get the #ntfns received in this group */
 OCIAttrGet(desc, OCI_DTYPE_AQNFY, (void *)&amp;msgid_cnt, &amp;size,
            OCI_ATTR_AQ_NTFN_GROUPING_COUNT, ctxptr-&gt;errhp);
 
 /* get the group - collection of msgids */
 OCIAttrGet(desc, OCI_DTYPE_AQNFY, (void *)&amp;msgid_array, &amp;size,
            OCI_ATTR_AQ_NTFN_GROUPING_MSGID_ARRAY, ctxptr-&gt;errhp);
 
 /* get notification flag - regular, timeout, or grouping notification? */
 OCIAttrGet(desc, OCI_DTYPE_AQNFY, (void *)&amp;flags, &amp;size,
            OCI_ATTR_NFY_FLAGS, ctxptr-&gt;errhp);
 
 /* print notification flag */
 printf("Flag: %d\n", (int)flags);
 
 /* get group (collection) size */
 if (msgid_array)
   checkerr(ctxptr-&gt;errhp,
        OCICollSize(ctxptr-&gt;envhp, ctxptr-&gt;errhp,
        CONST OCIColl *) msgid_array, &amp;num_msgid),
        "Inside notifyCB1-OCICollSize");
 else
   num_msgid =0;
 
 /* print group size */
 printf("Collection size: %d\n", num_msgid);
 
 /* print all msgids in the group */
 for(i = 0; i &lt; num_msgid; i++)
 {
   ub4  rawSize;                                             /* raw size    */
   ub1 *rawPtr;                                              /* raw pointer */
     /* get msgid from group */
   checkerr(ctxptr-&gt;errhp,
        OCICollGetElem(ctxptr-&gt;envhp, ctxptr-&gt;errhp,
               (OCIColl *) msgid_array, i, &amp;exist,
               (void **)(&amp;msgid_ptr), &amp;elemind),
        "Inside notifyCB1-OCICollGetElem");
   msgid = *msgid_ptr;
   rawSize = OCIRawSize(ctxptr-&gt;envhp, msgid);
   rawPtr = OCIRawPtr(ctxptr-&gt;envhp, msgid);
 
   /* print msgid size */
   printf("Msgid size: %d\n", rawSize);
 
   /* print msgid in hexadecimal format */
   for (j = 0; j &lt; rawSize; j++)
   {                                           /* for each byte in the raw */
     printf("%c", hexit[(rawPtr[j] &amp; 0xf0) &gt;&gt; 4]);
     printf("%c", hexit[(rawPtr[j] &amp; 0x0f)]);
   }
   printf("\n");
 }
 
 /* print #ntfns received in group */
 printf("Notification Count: %d\n", msgid_cnt);
 printf("\n");
 printf("***********************************************************\n");
 fflush((FILE *)stdout);
 return 1;
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-078F3FD1-7CAA-45FC-A93F-1CE942D27CA0" name="GUID-078F3FD1-7CAA-45FC-A93F-1CE942D27CA0"></a><h4 id="LNOCI-GUID-078F3FD1-7CAA-45FC-A93F-1CE942D27CA0" class="sect4"><span class="enumeration_section">13.2.3 </span>Notification Procedure
                  </h4>
                  <div>
                     <p>The PL/SQL notification procedure that is invoked when there is some activity on the subscription for which interest has been registered, must be created in the database.</p>
                     <p>This procedure is typically set through the <code class="codeph">OCI_ATTR_SUBSCR_RECPT</code> attribute of the subscription handle.
                     </p>
                     <div class="infoboxnotealso" id="GUID-078F3FD1-7CAA-45FC-A93F-1CE942D27CA0__GUID-C77CDBAB-58A4-45B3-9737-9890BD2222D8">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> 
                              </p>
                           </li>
                           <li>
                              <p>"Oracle Database AQ PL/SQL Callback" in <a href="../arpls/index.html" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for the PL/SQL procedure
                        specification
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-909E21A8-A247-4E54-9069-79B3EF219D2F" name="GUID-909E21A8-A247-4E54-9069-79B3EF219D2F"></a><h4 id="LNOCI-GUID-909E21A8-A247-4E54-9069-79B3EF219D2F" class="sect4"><span class="enumeration_section">13.2.4 </span>Publish-Subscribe Direct Registration Example
                  </h4>
                  <div>
                     <p>Shows examples implementing publish subscription notification using direct registration.</p>
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-909E21A8-A247-4E54-9069-79B3EF219D2F__CACHDEAE">Example 13-3</a> shows how system events, client notification, and Advanced Queuing work together to implement publish subscription notification.
                        </p>
                        <p>The PL/SQL code in <a href="notification-streams-advanced-queuing.html#GUID-909E21A8-A247-4E54-9069-79B3EF219D2F__CACHDEAE">Example 13-3</a> creates all objects necessary to support a publish-subscribe mechanism under the user schema <code class="codeph">pubsub</code>. In this code, the Agent <code class="codeph">snoop</code> subscribes to messages that are published at logon events. Note that the user <code class="codeph">pubsub</code> needs <code class="codeph">AQ_ADMINISTRATOR_ROLE</code> and <code class="codeph">AQ_USER_ROLE</code> privileges to use Advance Queuing functionality. The initialization parameter <code class="codeph">_SYSTEM_TRIG_ENABLED</code> must be set to <code class="codeph">TRUE</code> (the default) to enable triggers for system events.<span class="bold"></span> Connect as <code class="codeph">pubsub</code> before running <a href="notification-streams-advanced-queuing.html#GUID-909E21A8-A247-4E54-9069-79B3EF219D2F__CACHDEAE">Example 13-3</a>.
                        </p>
                        <p>After the subscriptions are created, the client must register for notification using callback functions. <a href="notification-streams-advanced-queuing.html#GUID-909E21A8-A247-4E54-9069-79B3EF219D2F__CACBBGGJ">Example 13-4</a> shows sample code that performs the necessary steps for registration. The initial steps of allocating and initializing session handles are omitted here for clarity.
                        </p>
                        <p>If user <code class="codeph">IX</code> logs on to the database, the client is notified by email, and the callback function <code class="codeph">notifySnoop</code> is called. An email notification is sent to the address xyz@company.com and the PL/SQL procedure <code class="codeph">plsqlnotifySnoop</code> is also called in the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-909E21A8-A247-4E54-9069-79B3EF219D2F__CACHDEAE">
                        <p class="titleinexample">Example 13-3 Implementing a Publish Subscription Notification</p><pre class="oac_no_warn" dir="ltr">----------------------------------------------------------
----create queue table for persistent multiple consumers
----------------------------------------------------------
---- Create or replace a queue table
begin
  DBMS_AQADM.CREATE_QUEUE_TABLE(
  QUEUE_TABLE=&gt;'pubsub.raw_msg_table', 
  MULTIPLE_CONSUMERS =&gt; TRUE,
  QUEUE_PAYLOAD_TYPE =&gt;'RAW',
  COMPATIBLE =&gt; '8.1.5');
end;
/
----------------------------------------------------------
---- Create a persistent queue for publishing messages
----------------------------------------------------------
---- Create a queue for logon events
begin
  DBMS_AQADM.CREATE_QUEUE(QUEUE_NAME=&gt;'pubsub.logon',
  QUEUE_TABLE=&gt;'pubsub.raw_msg_table',
  COMMENT=&gt;'Q for error triggers');
end;
/
----------------------------------------------------------
---- Start the queue
----------------------------------------------------------
begin
  DBMS_AQADM.START_QUEUE('pubsub.logon');
end;
/
----------------------------------------------------------
---- define new_enqueue for convenience
----------------------------------------------------------
create or replace procedure new_enqueue(queue_name  in varchar2,
                                        payload  in raw ,
correlation in varchar2 := NULL,
exception_queue in varchar2 := NULL)
as
  enq_ct     dbms_aq.enqueue_options_t;
  msg_prop   dbms_aq.message_properties_t;
  enq_msgid  raw(16);
  userdata   raw(1000);
begin
  msg_prop.exception_queue := exception_queue;
  msg_prop.correlation := correlation;
  userdata := payload;
  DBMS_AQ.ENQUEUE(queue_name,enq_ct, msg_prop,userdata,enq_msgid);
end;
/
----------------------------------------------------------
---- add subscriber with rule based on current user name, 
---- using correlation_id
----------------------------------------------------------
declare
subscriber sys.aq$_agent;
begin
  subscriber := sys.aq$_agent('SNOOP', null, null);
  dbms_aqadm.add_subscriber(queue_name =&gt; 'pubsub.logon',
                            subscriber =&gt; subscriber,
                            rule =&gt; 'CORRID = ''ix'' ');
end;
/
----------------------------------------------------------
---- create a trigger on logon on database
----------------------------------------------------------
---- create trigger on after logon
create or replace trigger systrig2
   AFTER LOGON
   ON DATABASE
   begin
     new_enqueue('pubsub.logon', hextoraw('9999'), dbms_standard.login_user);
   end;
/

----------------------------------------------------------
---- create a PL/SQL callback for notification of logon 
---- of user 'ix' on database
----------------------------------------------------------
---- 
create or replace procedure plsqlnotifySnoop(
  context raw, reginfo sys.aq$_reg_info, descr sys.aq$_descriptor,
  payload raw, payloadl number)
as
begin
 dbms_output.put_line('Notification : User ix Logged on\n');
end;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-909E21A8-A247-4E54-9069-79B3EF219D2F__CACBBGGJ">
                        <p class="titleinexample">Example 13-4 Registering for Notification Using Callback Functions</p><pre class="oac_no_warn" dir="ltr">...
static ub4 namespace = OCI_SUBSCR_NAMESPACE_AQ;

static OCISubscription *subscrhpSnoop = (OCISubscription *)0;
static OCISubscription *subscrhpSnoopMail = (OCISubscription *)0;
static OCISubscription *subscrhpSnoopServer = (OCISubscription *)0;

/* callback function for notification of logon of user 'ix' on database */

static ub4 notifySnoop(ctx, subscrhp, pay, payl, desc, mode)
    void *ctx;
    OCISubscription *subscrhp;
    void *pay;
    ub4 payl;
    void *desc;
    ub4 mode;
{
    printf("Notification : User ix Logged on\n");
  (void)OCIHandleFree((void *)subscrhpSnoop,
            (ub4) OCI_HTYPE_SUBSCRIPTION);
    return 1;
}

static void checkerr(errhp, status)
OCIError *errhp;
sword status;
{
  text errbuf[512];
  ub4 buflen;
  sb4 errcode;

  if (status == OCI_SUCCESS) return;

  switch (status)
  {
  case OCI_SUCCESS_WITH_INFO:
    printf("Error - OCI_SUCCESS_WITH_INFO\n");
    break;
  case OCI_NEED_DATA:
    printf("Error - OCI_NEED_DATA\n");
    break;
  case OCI_NO_DATA:
    printf("Error - OCI_NO_DATA\n");
    break;
  case OCI_ERROR:
    OCIErrorGet ((void *) errhp, (ub4) 1, (text *) NULL, &amp;errcode,
            errbuf, (ub4) sizeof(errbuf), (ub4) OCI_HTYPE_ERROR);
    printf("Error - %s\n", errbuf);
    break;
  case OCI_INVALID_HANDLE:
    printf("Error - OCI_INVALID_HANDLE\n");
    break;
  case OCI_STILL_EXECUTING:
    printf("Error - OCI_STILL_EXECUTING\n");
    break;
  case OCI_CONTINUE:
    printf("Error - OCI_CONTINUE\n");
    break;
  default:
    printf("Error - %d\n", status);
    break;
  }
}

static void initSubscriptionHn (subscrhp,
                         subscriptionName,
                         func,
                         recpproto,
                         recpaddr,
                         recppres)
OCISubscription **subscrhp;
  char * subscriptionName;
  void * func;
  ub4 recpproto;
  char * recpaddr;
  ub4 recppres;
{
    /* allocate subscription handle */
    (void) OCIHandleAlloc((void *) envhp, (void **)subscrhp,
        (ub4) OCI_HTYPE_SUBSCRIPTION,
        (size_t) 0, (void **) 0);

    /* set subscription name in handle */
    (void) OCIAttrSet((void *) *subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
        (void *) subscriptionName,
        (ub4) strlen((char *)subscriptionName),
        (ub4) OCI_ATTR_SUBSCR_NAME, errhp);

    /* set callback function in handle */
    if (func)
      (void) OCIAttrSet((void *) *subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
          (void *) func, (ub4) 0,
          (ub4) OCI_ATTR_SUBSCR_CALLBACK, errhp);

    /* set context in handle */
    (void) OCIAttrSet((void *) *subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
        (void *) 0, (ub4) 0,
       (ub4) OCI_ATTR_SUBSCR_CTX, errhp);

    /* set namespace in handle */
    (void) OCIAttrSet((void *) *subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
        (void *) &amp;namespace, (ub4) 0,
        (ub4) OCI_ATTR_SUBSCR_NAMESPACE, errhp);

    /* set receive with protocol in handle */
    (void) OCIAttrSet((void *) *subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
        (void *) &amp;recpproto, (ub4) 0,
        (ub4) OCI_ATTR_SUBSCR_RECPTPROTO, errhp);

    /* set recipient address in handle */
    if (recpaddr)
      (void) OCIAttrSet((void *) *subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
          (void *) recpaddr, (ub4) strlen(recpaddr),
          (ub4) OCI_ATTR_SUBSCR_RECPT, errhp);

    /* set receive with presentation in handle */
    (void) OCIAttrSet((void *) *subscrhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
        (void *) &amp;recppres, (ub4) 0,
        (ub4) OCI_ATTR_SUBSCR_RECPTPRES, errhp);

    printf("Begining Registration for subscription %s\n", subscriptionName);
    checkerr(errhp, OCISubscriptionRegister(svchp, subscrhp, 1, errhp,
        OCI_DEFAULT));
   printf("done\n");

}


int main( argc, argv)
int    argc;
char * argv[];
{
    OCISession *authp = (OCISession *) 0;

/*****************************************************
Initialize OCI Process/Environment
Initialize Server Contexts
Connect to Server
Set Service Context
******************************************************/

/* Registration Code Begins */
/* Each call to initSubscriptionHn allocates
   and initializes a Registration Handle */

/* Register for OCI notification */
    initSubscriptionHn(    &amp;subscrhpSnoop,    /* subscription handle*/
    (char*) "PUBSUB.LOGON:SNOOP", /* subscription name */
                                  /*&lt;queue_name&gt;:&lt;agent_name&gt; */
        (void*)notifySnoop,  /* callback function */
        OCI_SUBSCR_PROTO_OCI, /* receive with protocol */
        (char *)0, /* recipient address */
        OCI_SUBSCR_PRES_DEFAULT); /* receive with presentation */

/* Register for email notification */
    initSubscriptionHn(    &amp;subscrhpSnoopMail,  /* subscription handle */
     (char*) "PUBSUB.LOGON:SNOOP",              /* subscription name */ 
                                                /* &lt;queue_name&gt;:&lt;agent_name&gt; */
        (void*)0, /* callback function */
        OCI_SUBSCR_PROTO_MAIL, /* receive with protocol */
        (char*)  "xyz@company.com", /* recipient address */
        OCI_SUBSCR_PRES_DEFAULT); /* receive with presentation */

/* Register for server to server notification */
    initSubscriptionHn(    &amp;subscrhpSnoopServer, /* subscription handle */
       (char*)  "PUBSUB.LOGON:SNOOP",            /* subscription name */
                                                 /* &lt;queue_name&gt;:&lt;agent_name&gt; */
        (void*)0, /* callback function */
        OCI_SUBSCR_PROTO_SERVER, /* receive with protocol */
         (char*) "pubsub.plsqlnotifySnoop", /* recipient address */
        OCI_SUBSCR_PRES_DEFAULT); /* receive with presentation */

    checkerr(errhp, OCITransCommit(svchp, errhp, (ub4) OCI_DEFAULT));

/*****************************************************
The Client Process does not need a live Session for Callbacks.
End Session and Detach from Server.
******************************************************/

    OCISessionEnd ( svchp,  errhp, authp, (ub4) OCI_DEFAULT);

    /* detach from server */
    OCIServerDetach( srvhp, errhp, OCI_DEFAULT);

   while (1)    /* wait for callback */
    sleep(1);
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9F4EEC78-5CAC-4E86-9F82-1FF9586289CF" name="GUID-9F4EEC78-5CAC-4E86-9F82-1FF9586289CF"></a><h4 id="LNOCI-GUID-9F4EEC78-5CAC-4E86-9F82-1FF9586289CF" class="sect4"><span class="enumeration_section">13.2.5 </span>Publish-Subscribe LDAP Registration Example
                  </h4>
                  <div>
                     <p>Shows an example that illustrates how to do LDAP registration.</p>
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-9F4EEC78-5CAC-4E86-9F82-1FF9586289CF__CACBFFEB">Example 13-5</a> shows a code fragment that illustrates how to do LDAP registration. Please read all the program comments.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9F4EEC78-5CAC-4E86-9F82-1FF9586289CF__CACBFFEB">
                        <p class="titleinexample">Example 13-5 LDAP Registration</p><pre class="oac_no_warn" dir="ltr">...

  /* To use the LDAP registration feature, OCI_EVENTS | OCI_EVENTS |OCI_USE_LDAP*/
  /*   must be set in OCIEnvCreate or OCIEnvNlsCreate */
  /*     (Note: OCIInitialize is deprecated): */
  (void) OCIInitialize((ub4) OCI_EVENTS|OCI_OBJECT|OCI_USE_LDAP, (void *)0,
                       (void * (*)(void *, size_t)) 0,
                       (void * (*)(void *, void *, size_t))0,
                       (void (*)(void *, void *)) 0 );

...

  /* set LDAP attributes in the environment handle */

  /* LDAP host name */
  (void) OCIAttrSet((void *)envhp, OCI_HTYPE_ENV, (void *)"yow", 3,
                    OCI_ATTR_LDAP_HOST, (OCIError *)errhp);

  /* LDAP server port */ 
  ldap_port = 389;
  (void) OCIAttrSet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;ldap_port,
                    (ub4)0, OCI_ATTR_LDAP_PORT, (OCIError *)errhp);

  /* bind DN of the client, normally the enterprise user name */
  (void) OCIAttrSet((void *)envhp, OCI_HTYPE_ENV, (void *)"cn=orcladmin",
                    12, OCI_ATTR_BIND_DN, (OCIError *)errhp);

  /* password of the client */
  (void) OCIAttrSet((void *)envhp, OCI_HTYPE_ENV, (void *)"welcome",
                    7, OCI_ATTR_LDAP_CRED, (OCIError *)errhp);

  /* authentication method is "simple", username/password authentication */
  ldap_auth = 0x01;
  (void) OCIAttrSet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;ldap_auth,
                    (ub4)0, OCI_ATTR_LDAP_AUTH, (OCIError *)errhp);

  /* administrative context: this is the DN above cn=oraclecontext */
  (void) OCIAttrSet((void *)envhp, OCI_HTYPE_ENV, (void *)"cn=acme,cn=com",
                    14, OCI_ATTR_LDAP_CTX, (OCIError *)errhp);

...

  /* retrieve the LDAP attributes from the environment handle */

  /* LDAP host */
  (void) OCIAttrGet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;buf, 
                    &amp;szp,  OCI_ATTR_LDAP_HOST,  (OCIError *)errhp);

  /* LDAP server port */
  (void) OCIAttrGet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;intval, 
                    0,  OCI_ATTR_LDAP_PORT,  (OCIError *)errhp);

  /* client binding DN */
  (void) OCIAttrGet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;buf, 
                    &amp;szp,  OCI_ATTR_BIND_DN,  (OCIError *)errhp);

  /* client password */
  (void) OCIAttrGet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;buf, 
                    &amp;szp,  OCI_ATTR_LDAP_CRED,  (OCIError *)errhp);

  /* administrative context */
  (void) OCIAttrGet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;buf, 
                    &amp;szp,  OCI_ATTR_LDAP_CTX,  (OCIError *)errhp);

  /* client authentication method */
  (void) OCIAttrGet((void *)envhp, OCI_HTYPE_ENV, (void *)&amp;intval, 
                    0,  OCI_ATTR_LDAP_AUTH,  (OCIError *)errhp);
  
  ...

  /* to set up the server DN descriptor in the subscription handle */

  /* allocate a server DN descriptor, dn is of type "OCIServerDNs **", 
     subhp is of type "OCISubscription **" */
  (void) OCIDescriptorAlloc((void *)envhp, (void **)dn, 
                         (ub4) OCI_DTYPE_SRVDN, (size_t)0, (void **)0);

  /* now *dn is the server DN descriptor, add the DN of the first database 
     that you want to register */
  (void) OCIAttrSet((void *)*dn, (ub4) OCI_DTYPE_SRVDN, 
                    (void *)"cn=server1,cn=oraclecontext,cn=acme,cn=com",
                    42, (ub4)OCI_ATTR_SERVER_DN, errhp);
  /* add the DN of another database in the descriptor */
  (void) OCIAttrSet((void *)*dn, (ub4) OCI_DTYPE_SRVDN, 
                    (void *)"cn=server2,cn=oraclecontext,cn=acme,cn=com",
                    42, (ub4)OCI_ATTR_SERVER_DN, errhp);

  /* set the server DN descriptor into the subscription handle */
  (void) OCIAttrSet((void *) *subhp, (ub4) OCI_HTYPE_SUBSCRIPTION,
                 (void *) *dn, (ub4)0, (ub4) OCI_ATTR_SERVER_DNS, errhp);

  ...

  /* now you will try to get the server DN information from the subscription
     handle */
 
  /* first, get the server DN descriptor out */
  (void) OCIAttrGet((void *) *subhp, (ub4) OCI_HTYPE_SUBSCRIPTION, 
                    (void *)dn, &amp;szp, OCI_ATTR_SERVER_DNS, errhp);

  /* then, get the number of server DNs in the descriptor */
  (void) OCIAttrGet((void *) *dn, (ub4)OCI_DTYPE_SRVDN, (void *)&amp;intval,
                    &amp;szp, (ub4)OCI_ATTR_DN_COUNT, errhp);

  /* allocate an array of char * to hold server DN pointers returned by
     an Oracle database*/
    if (intval)
    {
      arr = (char **)malloc(intval*sizeof(char *));
      (void) OCIAttrGet((void *)*dn, (ub4)OCI_DTYPE_SRVDN, (void *)arr,
                        &amp;intval, (ub4)OCI_ATTR_SERVER_DN, errhp);
    }

  /* OCISubscriptionRegister() calls have two modes: OCI_DEFAULT and 
     OCI_REG_LDAPONLY. If OCI_DEFAULT is used, there should be only one
     server DN in the server DN descriptor. The registration request will
     be sent to the database. If a database connection is not available,
     the registration request will be detoured to the LDAP server. However,
     if mode OCI_REG_LDAPONLY is used, the registration request
     will be directly sent to LDAP. This mode should be used when there is 
     more than one server DN in the server DN descriptor or you are sure
     that a database connection is not available.

     In this example, two DNs are entered, so you should use mode 
     OCI_REG_LDAPONLY in LDAP registration. */
  OCISubscriptionRegister(svchp, subhp, 1, errhp, OCI_REG_LDAPONLY);

  ...

  /* as OCISubscriptionRegister(), OCISubscriptionUnregister() also has
     mode OCI_DEFAULT and OCI_REG_LDAPONLY. The usage is the same. */

  OCISubscriptionUnRegister(svchp, *subhp, errhp, OCI_REG_LDAPONLY);
}
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" name="GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8"></a><h3 id="LNOCI-GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" class="sect3"><span class="enumeration_section">13.3 </span>OCI and Database Advanced Queuing
               </h3>
               <div>
                  <p>OCI provides an interface to the Database Advanced Queuing (Database AQ)
        feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle
        Database.</p>
                  <p>Database AQ provides this functionality by integrating the queuing system with the
            database, thereby creating a <span class="italic">message-enabled database.</span> By providing an integrated
            solution, Database AQ frees application developers to devote their efforts to their
            specific business logic rather than having to construct a messaging infrastructure. 
                  </p>
                  <div class="infoboxnote" id="GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8__GUID-338E254E-D679-4142-B350-4D50B42971DF">
                     <p class="notep1">Note:</p>
                     <p>To use Database Advanced Queuing, you must be using the Enterprise Edition of Oracle
                Database.</p>
                  </div>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-C7DB04D8-81D1-4253-851E-1C7C389CD7F4" title="Lists the OCI Database Advanced Queuing functions.">OCI Database Advanced Queuing Functions</a></p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-D4ED0510-8B6F-40F3-A142-F1DD89C49F02" title="Lists the OCI Database Advanced Queuing descriptors and shows their usage.">OCI Database Advanced Queuing Descriptors</a></p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3" title="Shows a comparison between functions, parameters, and options for OCI Database Advanced Queuing functions and descriptors, and PL/SQL AQ functions in the DBMS_AQ package.">Database Advanced Queuing in OCI Versus PL/SQL</a></p>
                        </li>
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD" title="Buffered messaging is a nonpersistent messaging capability within Database AQ that was first available in Oracle Database 10g Release 2.">Using Buffered Messaging</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8__GUID-21E3AAFE-0383-4731-9008-76A115228B7F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../adque/aq-introduction.html#ADQUE0100" target="_blank"><span><cite>Oracle Database Advanced Queuing User's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../adxdk/getting-started-with-XDK-for-C.html#ADXDK1300" target="_blank"><span><cite>Oracle XML Developer's Kit Programmer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p>The description of <a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a> for example code demonstrating the use of OCI with AQ 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C7DB04D8-81D1-4253-851E-1C7C389CD7F4" name="GUID-C7DB04D8-81D1-4253-851E-1C7C389CD7F4"></a><h4 id="LNOCI-GUID-C7DB04D8-81D1-4253-851E-1C7C389CD7F4" class="sect4"><span class="enumeration_section">13.3.1 </span>OCI Database Advanced Queuing
        Functions
                  </h4>
                  <div>
                     <p>Lists the OCI Database Advanced Queuing functions.</p>
                     <p>The OCI library includes several functions related to Database Advanced Queuing:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCIAQEnq()</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQDeq()</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQListen()</code> (Deprecated)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQListen2()</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQEnqArray()</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQDeqArray()</code></p>
                        </li>
                     </ul>
                     <p>You can enqueue an array of messages to a single queue. The messages all share the same enqueue options, but each message in the array can have different message properties. You can also dequeue an array of messages from a single queue. For transaction group queues, you can dequeue all messages for a single transaction group using one call.</p>
                     <div class="infoboxnotealso" id="GUID-C7DB04D8-81D1-4253-851E-1C7C389CD7F4__GUID-322AC3F2-FDB3-44D6-943B-8B8EA241FCBE">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3" title="Lists and describes the Database Advanced Queuing and publish-subscribe functions.">Database Advanced Queuing and Publish-Subscribe Functions</a></p>
                           </li>
                           <li>
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a></p>
                           </li>
                           <li>
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq()</a></p>
                           </li>
                           <li>
                              <p><a href="deprecated-oci-functions.html#GUID-D8F0FF2D-F9D7-470A-BD5A-54E88C971777" title="This function was deprecated in a release previous to Oracle Database 11g Release 2 (11.2).">OCIAQListen()</a></p>
                           </li>
                           <li>
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></p>
                           </li>
                           <li>
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" title="Enqueues an array of messages to a queue.">OCIAQEnqArray()</a></p>
                           </li>
                           <li>
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" title="Dequeues an array of messages from a queue.">OCIAQDeqArray()</a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D4ED0510-8B6F-40F3-A142-F1DD89C49F02" name="GUID-D4ED0510-8B6F-40F3-A142-F1DD89C49F02"></a><h4 id="LNOCI-GUID-D4ED0510-8B6F-40F3-A142-F1DD89C49F02" class="sect4"><span class="enumeration_section">13.3.2 </span>OCI Database Advanced Queuing
        Descriptors
                  </h4>
                  <div>
                     <p>Lists the OCI Database Advanced Queuing descriptors and shows their
        usage.</p>
                     <p>The following descriptors are used by OCI Database Advanced Queuing operations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCIAQEnqOptions</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQDeqOptions</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQMsgProperties</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCIAQAgent</code></p>
                        </li>
                     </ul>
                     <p>You can allocate these descriptors with the service handle using the standard <code class="codeph">OCIDescriptorAlloc()</code> call. The following code shows examples of this:
                     </p><pre class="oac_no_warn" dir="ltr">OCIDescriptorAlloc(svch, &amp;enqueue_options, OCI_DTYPE_AQENQ_OPTIONS, 0, 0 ); 
OCIDescriptorAlloc(svch, &amp;dequeue_options, OCI_DTYPE_AQDEQ_OPTIONS, 0, 0 ); 
OCIDescriptorAlloc(svch, &amp;message_properties, OCI_DTYPE_AQMSG_PROPERTIES, 0, 0);
OCIDescriptorAlloc(svch, &amp;agent, OCI_DTYPE_AQAGENT, 0, 0 ); 
</pre><p>Each descriptor has a variety of attributes that can be set or read. </p>
                     <div class="infoboxnotealso" id="GUID-D4ED0510-8B6F-40F3-A142-F1DD89C49F02__GUID-EA903651-B715-40A1-829D-FE2FCC0A3A77">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-011A5B7A-7F24-469A-841A-2FCAF48444CB" title="Lists and describes Database Advanced Queuing descriptor attributes">Database Advanced Queuing Descriptor Attributes</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-E9EF2766-E078-49A7-B1D1-738E4BA4814F" title="Allocates storage to hold descriptors or LOB locators.">OCIDescriptorAlloc()</a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3" name="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3"></a><h4 id="LNOCI-GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3" class="sect4"><span class="enumeration_section">13.3.3 </span>Database Advanced Queuing in OCI Versus
        PL/SQL
                  </h4>
                  <div>
                     <p>Shows a comparison between functions, parameters, and options for OCI
        Database Advanced Queuing functions and descriptors, and PL/SQL AQ functions in the DBMS_AQ
        package.</p>
                     <div class="section">
                        <p>The following tables compare functions, parameters, and options for OCI Database
                Advanced Queuing functions and descriptors, and PL/SQL AQ functions in the DBMS_AQ
                package. <a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACIAFCB" title="This table is described by 2 columns. Column 1 is the PL/SQL function and column 2 is its equivalent OCI function.">Table 13-2</a> compares AQ functions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACIAFCB">
                        <p class="titleintable">Table 13-2 AQ Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="AQ Functions " summary="This table is described by 2 columns. Column 1 is the PL/SQL function and column 2 is its equivalent OCI function. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d123500e4782">PL/SQL Function</th>
                                 <th align="left" valign="bottom" width="55%" id="d123500e4785">OCI Function</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d123500e4790" headers="d123500e4782 ">
                                    <p>DBMS_AQ.ENQUEUE</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d123500e4790 d123500e4785 ">
                                    <p><code class="codeph">OCIAQEnq()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d123500e4798" headers="d123500e4782 ">
                                    <p>DBMS_AQ.DEQUEUE</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d123500e4798 d123500e4785 ">
                                    <p><code class="codeph">OCIAQDeq()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d123500e4806" headers="d123500e4782 ">
                                    <p>DBMS_AQ.LISTEN</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d123500e4806 d123500e4785 ">
                                    <p><code class="codeph">OCIAQListen(), OCIAQListen2()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d123500e4814" headers="d123500e4782 ">
                                    <p>DBMS_AQ.ENQUEUE_ARRAY</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d123500e4814 d123500e4785 ">
                                    <p><code class="codeph">OCIAQEnqArray()</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d123500e4822" headers="d123500e4782 ">
                                    <p>DBMS_AQ.DEQUEUE_ARRAY</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d123500e4822 d123500e4785 ">
                                    <p><code class="codeph">OCIAQDeqArray()</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACBJFAJ" title="This table is described by 2 columns. Column 1 is the DBMS_AQ.ENQUEUE parameter and column 2 is its equivalent OCIAQEnq() parameter.">Table 13-3</a> compares the parameters for the enqueue functions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACBJFAJ">
                        <p class="titleintable">Table 13-3 Enqueue Parameters </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Enqueue Parameters " summary="This table is described by 2 columns. Column 1 is the DBMS_AQ.ENQUEUE parameter and column 2 is its equivalent OCIAQEnq() parameter. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d123500e4846">DBMS_AQ.ENQUEUE Parameter</th>
                                 <th align="left" valign="bottom" width="61%" id="d123500e4849">OCIAQEnq() Parameter</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4854" headers="d123500e4846 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4854 d123500e4849 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4861" headers="d123500e4846 "><pre class="oac_no_warn" dir="ltr">enqueue_options</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4861 d123500e4849 "><pre class="oac_no_warn" dir="ltr">enqueue_options</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4868" headers="d123500e4846 "><pre class="oac_no_warn" dir="ltr">message_properties</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4868 d123500e4849 "><pre class="oac_no_warn" dir="ltr">message_properties</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4875" headers="d123500e4846 "><pre class="oac_no_warn" dir="ltr">payload</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4875 d123500e4849 "><pre class="oac_no_warn" dir="ltr">payload</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4882" headers="d123500e4846 "><pre class="oac_no_warn" dir="ltr">msgid</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4882 d123500e4849 "><pre class="oac_no_warn" dir="ltr">msgid</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4889" headers="d123500e4846 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4889 d123500e4849 ">
                                    <p>Note: <code class="codeph">OCIAQEnq()</code> requires the following additional parameters: <code class="codeph">svch</code><code class="codeph">, </code><code class="codeph">errh, payload_tdo, payload_ind</code><code class="codeph">, and </code><code class="codeph">flags</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACIEGEG" title="This table is described by 2 columns. Column 1 is the DBMS_AQ.DEQUEUE parameter and column 2 is its equivalent OCIAQDeq() parameter.">Table 13-4</a> compares the parameters for the dequeue functions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACIEGEG">
                        <p class="titleintable">Table 13-4 Dequeue Parameters </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Dequeue Parameters " summary="This table is described by 2 columns. Column 1 is the DBMS_AQ.DEQUEUE parameter and column 2 is its equivalent OCIAQDeq() parameter. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d123500e4926">DBMS_AQ.DEQUEUE Parameter</th>
                                 <th align="left" valign="bottom" width="61%" id="d123500e4929">OCIAQDeq() Parameter</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4934" headers="d123500e4926 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4934 d123500e4929 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4941" headers="d123500e4926 "><pre class="oac_no_warn" dir="ltr">dequeue_options</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4941 d123500e4929 "><pre class="oac_no_warn" dir="ltr">dequeue_options</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4948" headers="d123500e4926 "><pre class="oac_no_warn" dir="ltr">message_properties</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4948 d123500e4929 "><pre class="oac_no_warn" dir="ltr">message_properties</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4955" headers="d123500e4926 "><pre class="oac_no_warn" dir="ltr">payload</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4955 d123500e4929 "><pre class="oac_no_warn" dir="ltr">payload</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4962" headers="d123500e4926 "><pre class="oac_no_warn" dir="ltr">msgid</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4962 d123500e4929 "><pre class="oac_no_warn" dir="ltr">msgid</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e4969" headers="d123500e4926 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d123500e4969 d123500e4929 ">
                                    <p>Note: <code class="codeph">OCIAQDeq()</code> requires the following additional parameters: <code class="codeph">svch</code><code class="codeph">, </code><code class="codeph">errh, dequeue_options, message_properties, payload_tdo, payload, payload_ind</code><code class="codeph">, and </code><code class="codeph">flags</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACCCDID" title="This table is described by 2 columns. Column 1 is the DBMS_AQ.LISTEN parameter and column 2 is its equivalent OCIAQListen2() parameter.">Table 13-5</a> compares parameters for the listen functions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACCCDID">
                        <p class="titleintable">Table 13-5 Listen Parameters </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Listen Parameters " summary="This table is described by 2 columns. Column 1 is the DBMS_AQ.LISTEN parameter and column 2 is its equivalent OCIAQListen2() parameter. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d123500e5006">DBMS_AQ.LISTEN Parameter</th>
                                 <th align="left" valign="bottom" width="61%" id="d123500e5009">OCIAQListen2() Parameter</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e5014" headers="d123500e5006 "><pre class="oac_no_warn" dir="ltr">agent_list</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e5014 d123500e5009 "><pre class="oac_no_warn" dir="ltr">agent_list</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e5021" headers="d123500e5006 "><pre class="oac_no_warn" dir="ltr">wait</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e5021 d123500e5009 "><pre class="oac_no_warn" dir="ltr">wait</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e5028" headers="d123500e5006 "><pre class="oac_no_warn" dir="ltr">agent</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e5028 d123500e5009 "><pre class="oac_no_warn" dir="ltr">agent</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e5035" headers="d123500e5006 "><pre class="oac_no_warn" dir="ltr">listen_delivery_mode</pre></td>
                                 <td align="left" valign="top" width="61%" headers="d123500e5035 d123500e5009 ">
                                    <p><code class="codeph">lopts</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d123500e5043" headers="d123500e5006 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d123500e5043 d123500e5009 ">
                                    <p>Note: <code class="codeph">OCIAQListen2()</code> requires the following additional parameters: <code class="codeph">svchp, errhp, agent_list, num_agents, agent</code><code class="codeph">, lmops, and </code><code class="codeph">flags</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACGGDAF" title="This table is described by 2 columns. Column 1 is the DBMS_AQ.ENQUEUE_ARRAY parameter and column 2 is its equivalent OCIAQEnqArray() parameter.">Table 13-6</a> compares parameters for the array enqueue functions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACGGDAF">
                        <p class="titleintable">Table 13-6 Array Enqueue Parameters </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Array Enqueue Parameters " summary="This table is described by 2 columns. Column 1 is the DBMS_AQ.ENQUEUE_ARRAY parameter and column 2 is its equivalent OCIAQEnqArray() parameter. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d123500e5076">DBMS_AQ.ENQUEUE_ARRAY Parameter</th>
                                 <th align="left" valign="bottom" width="53%" id="d123500e5079">OCIAQEnqArray() Parameter</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5084" headers="d123500e5076 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5084 d123500e5079 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5091" headers="d123500e5076 "><pre class="oac_no_warn" dir="ltr">enqueue_options</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5091 d123500e5079 "><pre class="oac_no_warn" dir="ltr">enqopt</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5098" headers="d123500e5076 "><pre class="oac_no_warn" dir="ltr">array_size</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5098 d123500e5079 "><pre class="oac_no_warn" dir="ltr">iters</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5105" headers="d123500e5076 "><pre class="oac_no_warn" dir="ltr">message_properties_array</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5105 d123500e5079 "><pre class="oac_no_warn" dir="ltr">msgprop</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5112" headers="d123500e5076 "><pre class="oac_no_warn" dir="ltr">payload_array</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5112 d123500e5079 "><pre class="oac_no_warn" dir="ltr">payload</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5119" headers="d123500e5076 "><pre class="oac_no_warn" dir="ltr">msgid_array</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5119 d123500e5079 "><pre class="oac_no_warn" dir="ltr">msgid</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5126" headers="d123500e5076 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5126 d123500e5079 ">
                                    <p>Note: <code class="codeph">OCIAQEnqArray()</code> requires the following additional parameters: <code class="codeph">svch</code><code class="codeph">, </code><code class="codeph">errh, payload_tdo, payload_ind, ctxp, enqcbfp,</code> <code class="codeph">and </code><code class="codeph">flags</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACFHBEI" title="This table is described by 2 columns. Column 1 is the DBMS_AQ.DEQUEUE_ARRAY parameter and column 2 is its equivalent OCIAQDeqArray() parameter.">Table 13-7</a> compares parameters for the array dequeue functions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACFHBEI">
                        <p class="titleintable">Table 13-7 Array Dequeue Parameters </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Array Dequeue Parameters " summary="This table is described by 2 columns. Column 1 is the DBMS_AQ.DEQUEUE_ARRAY parameter and column 2 is its equivalent OCIAQDeqArray() parameter. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d123500e5165">DBMS_AQ.DEQUEUE_ARRAY Parameter</th>
                                 <th align="left" valign="bottom" width="53%" id="d123500e5168">OCIAQDeqArray() Parameter</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5173" headers="d123500e5165 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5173 d123500e5168 "><pre class="oac_no_warn" dir="ltr">queue_name</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5180" headers="d123500e5165 "><pre class="oac_no_warn" dir="ltr">dequeue_options</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5180 d123500e5168 "><pre class="oac_no_warn" dir="ltr">deqopt</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5187" headers="d123500e5165 "><pre class="oac_no_warn" dir="ltr">array_size</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5187 d123500e5168 "><pre class="oac_no_warn" dir="ltr">iters</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5194" headers="d123500e5165 "><pre class="oac_no_warn" dir="ltr">message_properties_array</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5194 d123500e5168 "><pre class="oac_no_warn" dir="ltr">msgprop</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5201" headers="d123500e5165 "><pre class="oac_no_warn" dir="ltr">payload_array</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5201 d123500e5168 "><pre class="oac_no_warn" dir="ltr">payload</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5208" headers="d123500e5165 "><pre class="oac_no_warn" dir="ltr">msgid_array</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5208 d123500e5168 "><pre class="oac_no_warn" dir="ltr">msgid</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5215" headers="d123500e5165 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5215 d123500e5168 ">
                                    <p>Note: <code class="codeph">OCIAQDeqArray()</code> requires the following additional parameters: <code class="codeph">svch</code><code class="codeph">, </code><code class="codeph">errh,</code><code class="codeph"> </code><code class="codeph">msgprop, payload_tdo, payload_ind, ctxp, deqcbfp,</code><code class="codeph"> and </code><code class="codeph">flags</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACJHHDB" title="This table is described by 2 columns. Column 1 is the PL/SQL Agent property and column 2 is its equivalent OCIAQAgent attribute.">Table 13-8</a> compares parameters for the agent attributes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACJHHDB">
                        <p class="titleintable">Table 13-8 Agent Parameters </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Agent Parameters " summary="This table is described by 2 columns. Column 1 is the PL/SQL Agent property and column 2 is its equivalent OCIAQAgent attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="48%" id="d123500e5256">PL/SQL Agent Parameter</th>
                                 <th align="left" valign="bottom" width="52%" id="d123500e5259">OCIAQAgent Attribute</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="48%" id="d123500e5264" headers="d123500e5256 "><pre class="oac_no_warn" dir="ltr">name</pre></td>
                                 <td align="left" valign="top" width="52%" headers="d123500e5264 d123500e5259 ">
                                    <p><code class="codeph">OCI_ATTR_AGENT_NAME</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="48%" id="d123500e5272" headers="d123500e5256 "><pre class="oac_no_warn" dir="ltr">address</pre></td>
                                 <td align="left" valign="top" width="52%" headers="d123500e5272 d123500e5259 ">
                                    <p><code class="codeph">OCI_ATTR_AGENT_ADDRESS</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="48%" id="d123500e5280" headers="d123500e5256 "><pre class="oac_no_warn" dir="ltr">protocol</pre></td>
                                 <td align="left" valign="top" width="52%" headers="d123500e5280 d123500e5259 ">
                                    <p><code class="codeph">OCI_ATTR_AGENT_PROTOCOL</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACJGGBC" title="This table is described by 2 columns. Column 1 is the PL/SQL Message property and column 2 is its equivalent OCIAQMsgProperties attribute.">Table 13-9</a> compares parameters for the message properties.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACJGGBC">
                        <p class="titleintable">Table 13-9 Message Properties </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Message Properties " summary="This table is described by 2 columns. Column 1 is the PL/SQL Message property and column 2 is its equivalent OCIAQMsgProperties attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d123500e5304">PL/SQL Message Property</th>
                                 <th align="left" valign="bottom" width="53%" id="d123500e5307">OCIAQMsgProperties Attribute</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5312" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">priority</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5312 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_PRIORITY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5320" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">delay</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5320 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_DELAY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5328" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">expiration</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5328 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_EXPIRATION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5336" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">correlation</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5336 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_CORRELATION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5344" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">attempts</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5344 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_ATTEMPTS</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5352" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">recipient_list</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5352 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_RECIPIENT_LIST</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5360" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">exception_queue</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5360 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_EXCEPTION_QUEUE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5368" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">enqueue_time</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5368 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_ENQ_TIME</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5376" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">state</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5376 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_MSG_STATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5384" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">sender_id</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5384 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_SENDER_ID</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5392" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">transaction_group</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5392 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_TRANSACTION_NO</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5401" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">original_msgid</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5401 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_ORIGINAL_MSGID</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5409" headers="d123500e5304 "><pre class="oac_no_warn" dir="ltr">delivery_mode</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5409 d123500e5307 ">
                                    <p><code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACFFHAH" title="This table is described by 2 columns. Column 1 is the PL/SQL Enqueue option and column 2 is its equivalent OCIAQEnqOptions attribute.">Table 13-10</a> compares enqueue option attributes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACFFHAH">
                        <p class="titleintable">Table 13-10 Enqueue Option Attributes </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Enqueue Option Attributes " summary="This table is described by 2 columns. Column 1 is the PL/SQL Enqueue option and column 2 is its equivalent OCIAQEnqOptions attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="46%" id="d123500e5433">PL/SQL Enqueue Option</th>
                                 <th align="left" valign="bottom" width="54%" id="d123500e5436">OCIAQEnqOptions Attribute</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d123500e5441" headers="d123500e5433 "><pre class="oac_no_warn" dir="ltr">visibility</pre></td>
                                 <td align="left" valign="top" width="54%" headers="d123500e5441 d123500e5436 ">
                                    <p><code class="codeph">OCI_ATTR_VISIBILITY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d123500e5449" headers="d123500e5433 "><pre class="oac_no_warn" dir="ltr">relative_msgid</pre></td>
                                 <td align="left" valign="top" width="54%" headers="d123500e5449 d123500e5436 ">
                                    <p><code class="codeph">OCI_ATTR_RELATIVE_MSGID</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d123500e5457" headers="d123500e5433 "><pre class="oac_no_warn" dir="ltr">sequence_deviation</pre></td>
                                 <td align="left" valign="top" width="54%" headers="d123500e5457 d123500e5436 ">
                                    <p><code class="codeph">OCI_ATTR_SEQUENCE_DEVIATION</code></p>
                                    <p>(deprecated)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d123500e5467" headers="d123500e5433 ">
                                    <p><code class="codeph">transformation</code></p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d123500e5467 d123500e5436 ">
                                    <p><code class="codeph">OCI_ATTR_TRANSFORMATION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d123500e5476" headers="d123500e5433 "><pre class="oac_no_warn" dir="ltr">delivery_mode</pre></td>
                                 <td align="left" valign="top" width="54%" headers="d123500e5476 d123500e5436 ">
                                    <p><code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><a href="notification-streams-advanced-queuing.html#GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACEAIFB" title="This table is described by 2 columns. Column 1 is the PL/SQL Dequeue option and column 2 is its equivalent OCIAQDeqOptions attribute.">Table 13-11</a> compares dequeue option attributes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__CACEAIFB">
                        <p class="titleintable">Table 13-11 Dequeue Option Attributes </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Dequeue Option Attributes " summary="This table is described by 2 columns. Column 1 is the PL/SQL Dequeue option and column 2 is its equivalent OCIAQDeqOptions attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="47%" id="d123500e5500">PL/SQL Dequeue Option</th>
                                 <th align="left" valign="bottom" width="53%" id="d123500e5503">OCIAQDeqOptions Attribute</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5508" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">consumer_name</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5508 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_CONSUMER_NAME</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5516" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">dequeue_mode</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5516 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_DEQ_MODE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5524" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">navigation</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5524 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_NAVIGATION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5532" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">visibility</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5532 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_VISIBILITY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5540" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">wait</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5540 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_WAIT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5548" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">msgid</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5548 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_DEQ_MSGID</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5556" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">correlation</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5556 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_CORRELATION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5564" headers="d123500e5500 ">
                                    <p><code class="codeph">deq_condition</code></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5564 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_DEQCOND</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5573" headers="d123500e5500 ">
                                    <p><code class="codeph">transformation</code></p>
                                 </td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5573 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_TRANSFORMATION</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="47%" id="d123500e5582" headers="d123500e5500 "><pre class="oac_no_warn" dir="ltr">delivery_mode</pre></td>
                                 <td align="left" valign="top" width="53%" headers="d123500e5582 d123500e5503 ">
                                    <p><code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__GUID-B3E7CE42-2DE9-4687-B921-2A9C8A18F6B8">
                           <p class="notep1">Note:</p>
                           <p><code class="codeph">OCIAQEnq()</code> returns the error <code class="codeph">ORA-25219</code> while specifying the enqueue option <code class="codeph">OCI_ATTR_SEQUENCE</code> along with <code class="codeph">OCI_ATTR_RELATIVE_MSGID.</code> This happens when enqueuing two messages. For the second message, enqueue options <code class="codeph">OCI_ATTR_SEQUENCE</code> and <code class="codeph">OCI_ATTR_RELATIVE_MSGID</code> are set to dequeue this message before the first one. An error is not returned if you do not specify the sequence but, of course, the message is not dequeued before the relative message.
                           </p>
                           <p><code class="codeph">OCIAQEnq()</code> does not return an error if the <code class="codeph">OCI_ATTR_SEQUENCE</code> attribute is not set, but the message is not dequeued before the message with relative message ID.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-BB00AF24-95F4-4BE5-A4BE-DA9C6004F1A3__GUID-A127E45B-016A-47D0-A48C-9F580595B45F">
                           <p class="notep1">See Also:</p>
                           <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_2"><a id="GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD" name="GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD"></a><h4 id="LNOCI-GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD" class="sect4"><span class="enumeration_section">13.3.4 </span>Using Buffered Messaging
                  </h4>
                  <div>
                     <p>Buffered messaging is a nonpersistent messaging capability within Database
      AQ that was first available in Oracle Database 10<span class="italic">g</span> Release 2.
                     </p>
                     <div class="section">
                        <p> Buffered messages reside in shared memory and can be lost if there is an instance failure. Unlike persistent messages, redo does not get written to disk. Buffered message enqueue and dequeue is much faster than persistent message operations. Because shared memory is limited, buffered messages may have to be spilled to disk. Flow control can be enabled to prevent applications from flooding the shared memory when the message consumers are slow or have stopped for some reason. The following functions are used for buffered messaging:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCIAQEnq()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCIAQDeq()</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">OCIAQListen2()</code></p>
                           </li>
                        </ul>
                        <p><a href="notification-streams-advanced-queuing.html#GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD__CACBCHCE">Example 13-6</a> shows an example of enqueue buffered messaging. 
                        </p>
                        <p><a href="notification-streams-advanced-queuing.html#GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD__CACJHBEE">Example 13-7</a> shows an example of dequeue buffered messaging.
                        </p>
                        <div class="infoboxnote" id="GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD__GUID-104265C9-6D47-46B1-BE21-F757E931B5B3">
                           <p class="notep1">Note:</p>
                           <p>Array operations are not supported for buffered messaging. Applications can use the <code class="codeph">OCIAQEnqArray()</code> and <code class="codeph">OCIAQDeqArray()</code> functions with the array size set to 1.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD__CACBCHCE">
                        <p class="titleinexample">Example 13-6 Enqueue Buffered Messaging</p><pre class="oac_no_warn" dir="ltr">...
OCIAQMsgProperties  *msgprop;
OCIAQEnqueueOptions *enqopt;
message              msg;    /* message is an object type */
null_message         nmsg;   /* message indicator */
...
/* Allocate descriptors */
  OCIDescriptorAlloc(envhp, (void **)&amp;enqopt, OCI_DTYPE_AQENQ_OPTIONS, 0,
                     (void **)0));
 
 OCIDescriptorAlloc(envhp, (void **)&amp;msgprop,OCI_DTYPE_AQMSG_PROPERTIES, 0,
                    (void **)0));
 
/* Set delivery mode to buffered */
 dlvm = OCI_MSG_BUFFERED;
 OCIAttrSet(enqopt,  OCI_DTYPE_AQENQ_OPTIONS, (void *)&amp;dlvm, sizeof(ub2),
            OCI_ATTR_MSG_DELIVERY_MODE, errhp);
/* Set visibility to Immediate (visibility must always be immediate for buffered
   messages) */
vis = OCI_ENQ_ON_COMMIT;
 
OCIAttrSet(enqopt, OCI_DTYPE_AQENQ_OPTIONS,(void *)&amp;vis, sizeof(ub4),
           OCI_ATTR_VISIBILITY, errhp)
 
/* Message was an object type created earlier, msg_tdo is its type
   descriptor object */
OCIAQEnq(svchp, errhp, "Test_Queue", enqopt, msgprop, msg_tdo, (void **)&amp;mesg,
         (void **)&amp;nmesg, (OCIRaw **)0, 0));
...
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD__CACJHBEE">
                        <p class="titleinexample">Example 13-7 Dequeue Buffered Messaging</p><pre class="oac_no_warn" dir="ltr">...
OCIAQMsgProperties  *msgprop;
OCIAQDequeueOptions *deqopt;
...
OCIDescriptorAlloc(envhp, (void **)&amp;mprop, OCI_DTYPE_AQMSG_PROPERTIES, 0,
                   (void **)0));
OCIDescriptorAlloc(envhp, (void **)&amp;deqopt, OCI_DTYPE_AQDEQ_OPTIONS, 0,
                   (void **)0);

/* Set visibility to Immediate (visibility must always be immediate for buffered
   message operations) */
vis = OCI_ENQ_ON_COMMIT;
OCIAttrSet(deqopt, OCI_DTYPE_AQDEQ_OPTIONS,(void *)&amp;vis, sizeof(ub4),
           OCI_ATTR_VISIBILITY, errhp)
/* delivery mode is buffered */
dlvm  = OCI_MSG_BUFFERED;
OCIAttrSet(deqopt, OCI_DTYPE_AQDEQ_OPTIONS, (void *)&amp;dlvm,  sizeof(ub2),
           OCI_ATTR_MSG_DELIVERY_MODE, errhp);
/* Set the consumer for which to dequeue the message (this must be specified
   regardless of the type of message being dequeued).
*/
consumer = "FIRST_SUBSCRIBER";
OCIAttrSet(deqopt, OCI_DTYPE_AQDEQ_OPTIONS, (void *)consumer,
           (ub4)strlen((char*)consumer), OCI_ATTR_CONSUMER_NAME, errhp);
/* Dequeue the message but do not return the payload (to simplify the code
   fragment)
*/
OCIAQDeq(svchp, errhp,  "test_queue", deqopt, msgprop, msg_tdo, (void **)0,
         (void **)0, (OCIRaw**)0, 0);
...</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-145D489F-52D8-4D41-8319-EF1ACA19B7AD__GUID-E5BA0F0C-AD8B-486E-8A15-EABEACB71509">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a></p>
                              </li>
                              <li>
                                 <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq()</a></p>
                              </li>
                              <li>
                                 <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>