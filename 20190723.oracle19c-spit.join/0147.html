<html id='03619.PRCH-01000.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>PRCH-01000 to PRCH-01079</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Error Messages">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Error Messages">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-error-messages.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T07:32:34-07:00">
      <meta name="dcterms.title" content="Database Error Messages">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95938-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="PRCG-01000.html" title="Previous" type="text/html">
      <link rel="next" href="PRCI-01000.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ERRMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="PRCG-01000.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="PRCI-01000.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Error Messages</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> PRCH-01000 to PRCH-01079</li>
            </ol>
            <a id="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D" name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D"></a>
            
            <h2 id="ERRMG-GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D" class="sect2"><span class="enumeration_chapter">110 </span> PRCH-01000 to PRCH-01079
            </h2>
         </header>
         <div class="ind">
            <div>
               <dl>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-1558DF71-D957-4BF4-B466-B1D56D1CFBDB">
                        <!-- --></a>
PRCH-01000: Failed to stop resources running from Oracle home {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop one or more resources in the specified Oracle home failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to stop, check the cause and action for the individual resource stop failure and perform the steps for each resource that failed to stop.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-3928C563-C7AB-4F1F-88ED-6A38BF6D2E6A">
                        <!-- --></a>
PRCH-01001: Failed to start resources in Oracle home {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start one or more resources in the specified Oracle home failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to start, check the cause and action for the individual resource start failure and perform the steps for each resource that failed to start.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-FC851346-91F7-48A3-8DF9-DEC4A742A641">
                        <!-- --></a>
PRCH-01002: Failed  to stop resources running from CRS home {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop one or more resources in the specified CRS home failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to stop, check the cause and action for the individual resource stop failure, and perform the steps for each resource that failed to stop.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-8590CC9B-5BC1-4DD4-B6E2-14BD1A3A667F">
                        <!-- --></a>
PRCH-01003: Failed to start resources in CRS home {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start one or more resources in the specified CRS home failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to start, check the cause and action for the individual resource start failure and perform the steps for each resource that failed to start.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-1AD21C8D-3486-44F0-AF4D-250931D5B206">
                        <!-- --></a>
PRCH-01004: Failed to stop service
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop a service resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons and if needed, use the command 'srvctl stop service -db &lt;db_unique_name&gt;' to stop the service.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-D52CAE94-79A3-4795-8AD3-397A058A5885">
                        <!-- --></a>
PRCH-01005: Failed to stop database
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the database resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop database -db &lt;db_unique_name&gt;' to stop the database.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-94DED893-1F49-426C-A4B3-769516E81FD1">
                        <!-- --></a>
PRCH-01006: Failed to stop Listener
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the listener resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop listener' to stop the listener.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-7797ED91-6E4B-4CD3-8FDD-7C84CB398A97">
                        <!-- --></a>
PRCH-01007: Failed to stop Listener
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the listener resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop listener' to stop the listener.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-FC61C2A3-9C45-439D-9DE2-68DA12A2426B">
                        <!-- --></a>
PRCH-01008: Failed to start service
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start a service resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start service -db &lt;db_unique_name&gt;' to start the service.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-375CB5E6-56D0-4E18-A3B0-CABEE253B80F">
                        <!-- --></a>
PRCH-01009: Failed to start database
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the database resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start database -db &lt;db_unique_name&gt;' to start the database.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-1DCAB97E-B411-4787-BFEC-3D8C4AEE5577">
                        <!-- --></a>
PRCH-01010: Failed to start Listener
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the listener resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start listener' to start the listener.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-39B2917F-E08D-4EA4-80B9-E37A2326B02B">
                        <!-- --></a>
PRCH-01011: Failed to start Listener
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the listener resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start listener' to start the listener.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-880CAC80-BDB5-4026-8590-F2B6D7A0F49D">
                        <!-- --></a>
PRCH-01012: Failed to stop EONS
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the EONS resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop nodeapps' to stop the EONS resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-E79B0B00-9AFE-446C-AFF7-F7DEE6E2C1D7">
                        <!-- --></a>
PRCH-01013: Failed to start EONS
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the EONS resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start nodeapps' to start the EONS resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-995C6D91-BC8E-4A96-9294-EF640A14D47A">
                        <!-- --></a>
PRCH-01014: Failed to stop ONS
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the ONS resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop nodeapps' to stop the ONS resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-F42FEDB9-4BE9-41C9-8D33-DCDBDF724129">
                        <!-- --></a>
PRCH-01015: Failed to start ONS
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the ONS resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start nodeapps' to start the ONS resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-F695A781-5830-4330-9EE4-4609DE068E26">
                        <!-- --></a>
PRCH-01016: Failed to stop GSD resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the GSD resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop nodeapps' to stop the GSD resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-B272312A-4E22-4E4F-8569-8C17BDE61E99">
                        <!-- --></a>
PRCH-01017: Failed to start GSD resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the GSD resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start nodeapps' to start the GSD resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-B646F904-8426-494B-ABBB-23FFA337948D">
                        <!-- --></a>
PRCH-01018: Failed to stop VIP resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the VIP resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop vip -node &lt;node_name&gt;' to stop the VIP resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-FE6A2106-5E77-447A-B44C-D1A6E9C2E38A">
                        <!-- --></a>
PRCH-01019: Failed to start VIP resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the VIP resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start vip -node &lt;node_name&gt;' to start the VIP resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-644FBF05-ECA8-4591-89E6-DA8CABB88A60">
                        <!-- --></a>
PRCH-01020: Failed to stop Network resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the Network resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the error messages for possible reasons, correct the error and use the command 'srvctl stop nodeapps' to stop the Network resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-AA786969-E2E0-471C-BC81-1B0A35C070C2">
                        <!-- --></a>
PRCH-01021: Failed to start Network resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the Network resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start nodeapps' to start the Network resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-2F094B2D-9AC1-4D51-8094-8F819E060194">
                        <!-- --></a>
PRCH-01022: Failed to stop SCAN VIP resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the SCAN VIP resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop scan' to stop the SCAN VIP resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-E14C07CF-120F-4A0A-B2C3-037202FFD12F">
                        <!-- --></a>
PRCH-01023: Failed to start SCAN VIP resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the SCAN VIP resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start scan' to start the SCAN VIP resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-D1B23FD5-3E65-4A0C-A267-7DAC8125AB4E">
                        <!-- --></a>
PRCH-01024: Failed to stop SCAN Listener resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the SCAN listener resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop scan_listener' to stop the SCAN listener resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-4D46049A-7D52-4E43-8262-C3EC147565D5">
                        <!-- --></a>
PRCH-01025: Failed to start SCAN Listener
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the SCAN listener resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start scan_listener' to start the SCAN listener resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-A17EBD40-F281-47AB-87A9-B2532AF3AEB3">
                        <!-- --></a>
PRCH-01026: Failed to stop ASM
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the ASM resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop asm' to stop the ASM resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-1A795212-5A9D-43F1-B0C4-8F621DF2E3B0">
                        <!-- --></a>
PRCH-01027: Failed to start ASM
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the ASM resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start asm' to start the ASM resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-8F2B2B03-8207-4A57-A7E4-AB6D79F196E2">
                        <!-- --></a>
PRCH-01028: One or more resources failed to start: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start one or more resources failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to start, check the cause and action for the individual resource start failure and perform the steps for each resource that failed to start.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-A395BAA7-2164-4D10-977B-EE7958B518BC">
                        <!-- --></a>
PRCH-01029: One or more resources failed to stop: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop one or more resources failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to stop, check the cause and action for the individual resource stop failure and perform the steps for each resource that failed to stop.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-40D40CFA-412A-451B-9603-D756FF6B710B">
                        <!-- --></a>
PRCH-01030: One or more resources failed to stop: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop one or more resources failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying resource error messages and their documentation, and correct the problems indicated.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-918EC7FF-C100-4209-A888-B2E667AB3C90">
                        <!-- --></a>
PRCH-01031: One or more resources failed to start: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start one or more resources failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to start, check the cause and action for the individual resource start failure and perform the steps for each resource that failed to start.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-DEA3E9C9-0411-4BF8-BA93-979E77ADA4DF">
                        <!-- --></a>
PRCH-01032: Failed to stop GNS resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the GNS resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop gns' to stop the GNS resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-ABDA7335-AE16-4418-9430-B4CDA6CA0D9C">
                        <!-- --></a>
PRCH-01033: Failed to start GNS resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the GNS resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start gns' to start the GNS resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-92E59AB7-69DC-4657-AED8-8D65589250C5">
                        <!-- --></a>
PRCH-01034: Failed to stop diskgroup resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the diskgroup resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop diskgroup -diskgroup &lt;dg_name&gt;' to stop the diskgroup resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-17D5CEE2-85AC-4FCF-A67C-3216805804DF">
                        <!-- --></a>
PRCH-01035: Failed to start diskgroup resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the diskgroup resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start diskgroup -diskgroup &lt;dg_name&gt;' to start the diskgroup resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-B91D7265-90B4-4EB0-BC0E-BE551457FD3F">
                        <!-- --></a>
PRCH-01036: The state file "{0}" does not exist
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The state file required for the current operation was not found.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure the named file exists in the file system.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-BCA7F266-D2B6-44B8-BB24-36A4FA809E47">
                        <!-- --></a>
PRCH-01037: The filesystem object "{0}" is not a file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The content that was expected to be a file which turned out not to be a file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Retry the 'srvctl stop home' to generate this file. If the problem still exists, contact Oracle Support Services.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-DA231DC8-E580-4B27-A4C2-4FC10A94981A">
                        <!-- --></a>
PRCH-01038: "{0}" is a non-readable file
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The user does not have read permissions to open the file.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Modify the file permissions so that the file becomes readable or execute the command from an OS userid with the required privileges.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-773C4686-9A9D-4941-AB7A-1CEE9784BD57">
                        <!-- --></a>
PRCH-01039: Failed to stop CVU resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to stop the CVU resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl stop cvu' to stop the CVU resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-5D7D34C2-BBA9-49E2-9E29-F94B7B76D490">
                        <!-- --></a>
PRCH-01040: Failed to start CVU resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start the CVU resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and use the command 'srvctl start cvu' to start the CVU resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-0E4E51FD-45EE-43C8-BD34-776CE17FB998">
                        <!-- --></a>
PRCH-01041: Failed while checking status of service "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed service failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-21891FE6-99CE-4FA4-AF94-6A95F3BBE832">
                        <!-- --></a>
PRCH-01042: Failed while checking status of database "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed database failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-0455C9AC-9106-4EBC-93FB-968327CDE6D3">
                        <!-- --></a>
PRCH-01043: Failed while checking status of database instance "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed database instance failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-7D4E6A6E-500B-42C3-B9A1-A820D2E83C3F">
                        <!-- --></a>
PRCH-01044: Failed while checking status of listener "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed listener failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-E1563352-6322-4215-9F88-9FC78B0ECFF8">
                        <!-- --></a>
PRCH-01045: Failed while checking status of VIP "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed VIP failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-7D729C02-3E61-43F0-BCC3-AE7B23B4D038">
                        <!-- --></a>
PRCH-01046: Failed while checking status of SCAN VIP "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed SCAN VIP failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-3C701002-2645-468E-8C7E-4AC75D8E5663">
                        <!-- --></a>
PRCH-01047: Failed while checking status of SCAN Listener "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed SCAN listener failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-02354315-5D60-42F3-B2A6-E0E9E643E472">
                        <!-- --></a>
PRCH-01048: Failed while checking status of CVU resource "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed CVU resource failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-C07CB160-72DF-40F7-8FE2-09E5984B35E4">
                        <!-- --></a>
PRCH-01049: Failed while checking status of disk group "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed disk group failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-CE7D6F38-BA48-425D-861D-5DE51DCC2716">
                        <!-- --></a>
PRCH-01050: Failed while checking status of ASM "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed ASM failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-8300FBC8-50F7-436C-B29D-18E1A1ED803E">
                        <!-- --></a>
PRCH-01051: Failed while checking status of GNS "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed GNS failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-31D21ECB-65A9-4CCA-944E-9C9EB43883CB">
                        <!-- --></a>
PRCH-01052: Failed while checking status of GSD "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed GSD failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-3B7863A5-D246-44BD-8E9F-579081868272">
                        <!-- --></a>
PRCH-01053: Failed while checking status of Network "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed network failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-979647AF-37E4-460C-9379-A1FAE981768E">
                        <!-- --></a>
PRCH-01054: Failed while checking status of ONS "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the listed ONS failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-ABBC9C5A-8A52-4FAE-BFBF-9D23A2B841AA">
                        <!-- --></a>
PRCH-01055: Failed to create or open file "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
State file processing failed because: the file specified is a directory rather than a file, the file did not exist but could not be created, or the file exists but could not be opened.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Enable state file processing by: not specifying a directory name, ensuring the the directory is writable, or ensuring that an existing state file can be overwritten.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-50643062-B053-4C0D-B15E-777EF741D26C">
                        <!-- --></a>
PRCH-01056: Failed to write to file "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to write to the given file failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
If the state file already exists, then make sure that it is writable. Otherwise, make sure that parent directory of the state file path is writable.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-6FEDAADA-FFFD-45AA-97E2-0C444EDD2E40">
                        <!-- --></a>
PRCH-01057: The Clusterware resource for database "{0}" does not exist.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The Oracle Clusterware resource for the database with the given name did not exist.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Make sure that Oracle Clusterware resource for the database with the given name exists.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-CD0AF92F-78D0-46A8-BC54-D675AC527BCD">
                        <!-- --></a>
PRCH-01058: Failed while checking status of CRS home {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the CRS home failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-4CC57AFF-7C47-449E-81B1-1F433CD4F336">
                        <!-- --></a>
PRCH-01059: Failed while checking status of Oracle home {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status of the Oracle home failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the accompanying error messages for possible reasons, correct the error and retry.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-ADE8646B-0401-4C1B-B68B-E62B107D1C3C">
                        <!-- --></a>
PRCH-01060: Status check for one or more resources failed: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to check the status for one or more resources failed.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Review the underlying error messages that provide the details of which resources failed to query their status, check the cause and action for the individual resource start failure and perform the steps for each resource that failed to start.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-AB459F2A-0C76-4D35-839C-8C498292C6B0">
                        <!-- --></a>
PRCH-01061: The following resources specified in the state file do not exist: {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to start one or more resources in the specified state file failed because they do not exist.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Ensure that the correct state file was supplied.  If necessary, regenerate the file, or edit it to remove obsolete resources.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-E90760EA-2DDD-496F-A758-0ECD17BE27DD">
                        <!-- --></a>
PRCH-01062: unable to identify the version of Oracle home {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to retrieve the version of the specified Oracle home was unsuccessful either because the command 'srvctl -V' failed to execute or the version of the Oracle home is greater than the current software version.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Examine the accompanying error messages for details. If applicable, specify an Oracle home whose version is less than or equal to the current software version and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-EF3B9737-04DE-4354-9D73-365DFDAD956E">
                        <!-- --></a>
PRCH-01063: The home type {0} is invalid.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to set an Oracle home type failed because the specified home type was invalid.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Specify a valid home type (ADMIN or POLICY).

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-46CB5DC1-266D-4E3C-9F07-FD7B90F8CFA3">
                        <!-- --></a>
PRCH-01064: unable to set or modify the node list for a POLICY type Oracle home resource
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to set or modify the node list where the Oracle home will be available failed because setting or modifying the node list operation is not supported for POLICY type Oracle home resources.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Specify an Oracle home resource of ADMIN type.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-302CB13E-CAD3-4B00-A63A-136928C71584">
                        <!-- --></a>
PRCH-01065: An Oracle home resource already exists with the name {0}.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The Oracle home resource was already created for the specified name.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Supply a different name or delete the previous resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-BE1865C2-CCFE-425A-AB8F-6CDB9CE8F6D5">
                        <!-- --></a>
PRCH-01066: invalid Leaf Node {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to set or modify the node list where the Oracle home will be available failed because one or more of the specified nodes were Leaf Nodes, which is not supported for ADMIN type Oracle homes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Specify a node list without Leaf Nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-5A8E38A8-C910-422D-815A-40B8B8AB0215">
                        <!-- --></a>
PRCH-01067: invalid empty node list for ADMIN type Oracle home
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to set or modify the node list where the Oracle home will be available failed because a node list was not specified, which is required for ADMIN type Oracle homes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Specify a node list.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-7585BA79-4662-40CB-9540-DA2206CDA8DE">
                        <!-- --></a>
PRCH-01068: invalid node list for POLICY type Oracle home
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to create or modify a POLICY type Oracle home failed because a node list was specified, which is not supported for POLICY type Oracle homes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Repeat the operation without specifying a node list.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-B708D052-40C3-42DC-BFA7-81188AA3B5A6">
                        <!-- --></a>
PRCH-01069: failed to modify the Oracle home resource because it is running
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to modify the configuration of the specified Oracle home resource failed because the resource was running.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Stop the specified Oracle home resource and retry the operation.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-A2512903-D3BD-4B85-8D24-E6C4E12E144D">
                        <!-- --></a>
PRCH-01070: invalid node operation option for Oracle Restart environment
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to create or modify an Oracle home failed because one or more optional node inputs (node list, -addnode or -deletenode) was specified, which is not supported for an Oracle Restart environment.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Repeat the operation without specifying a node list, -addnode or -deletenode option.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-DEE12DE1-4804-41EC-85B4-4FAE76443E41">
                        <!-- --></a>
PRCH-01071: invalid Oracle home type for Oracle Restart environment
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to create or modify an Oracle home failed because a home type was specified.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Repeat the operation without specifying a home type.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-B79E4094-3907-43A1-AE46-3FC87341748E">
                        <!-- --></a>
PRCH-01072: Node {0} is already registered in the Oracle home node list.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to add a node to the node list where the Oracle home will be available failed because the specified node was already registered in the list.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Repeat the operation specifying a different node.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-8A3CDF68-6CE8-4F56-A79A-A6E6A8611588">
                        <!-- --></a>
PRCH-01073: Node list is empty.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to remove a node from the node list where the Oracle home will be available failed because the node list was empty.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
None

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-D80645FB-EC15-4E4E-9ED5-5F3F6B4AE262">
                        <!-- --></a>
PRCH-01074: Node {0} is not registered in the node list.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to remove a node from the node list where the Oracle home will be available failed because the specified node was not registered in the node list.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Repeat the operation specifying a node registered in the node list.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-4293516C-F781-429D-990B-628D0560787A">
                        <!-- --></a>
PRCH-01075: Oracle home path conflict in node {0}
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to create a server category for the Oracle home failed because one or more Oracle Automatic Storage Management Cluster File System (Oracle ACFS) file systems share the specified Oracle home path mount point across one or more nodes.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Verify Oracle ACFS file system configurations to avoid redundant nodes.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-216891D8-7672-4542-B7B5-09F9F1C6F414">
                        <!-- --></a>
PRCH-01076: Oracle home resources are not registered in Oracle Clusterware.
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
Oracle home resources were not registered with Oracle Clusterware.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use the command 'srvctl add oraclehome' to create an Oracle home resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-BEA84B82-A4E7-4160-A3EF-1004E48042E1">
                        <!-- --></a>
PRCH-01077: multiple Oracle home resources found for path "{0}"
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to add a new Oracle home resource failed because the indicated path contained an Oracle home resource.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Retry the operation specifying the correct Oracle home path.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-E9DCE84E-8DB4-4FA5-B868-E2A90B0C4D29">
                        <!-- --></a>
PRCH-01078: Oracle home resource does not exist for path "{0}".
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
The Oracle home resource with the specified path was not registered with Oracle Clusterware.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Use the command 'srvctl add oraclehome' to create an Oracle home resource.

                     </p>
                     
                  </dd>
                  <dt class="dlterm"><a name="GUID-49E9B06F-6B31-46F0-A335-84E3CBD6C11D__GUID-B7C5C96B-9780-4840-965D-C35285E2A70E">
                        <!-- --></a>
PRCH-01079: invalid operation to delete last node from nodelist
                  </dt>
                  <dd>
                     
                     <p>
                        <span class="keyword">Cause:</span>
An attempt to modify an Oracle home failed because the node specified is the last remaining node.

                     </p>
                     
                  </dd>
                  <dd class="ddexpand">
                     
                     <p>
                        <span class="keyword">Action:</span>
Do not modify the last node from the Oracle home resource.

                     </p>
                     
                  </dd>
               </dl>
            </div>
         </div>
      </article>
   </body>
</html><html id='00675.user-defined-repository-metadata.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">
      <meta name="description" content="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">
      <title>User-Defined Repository Metadata</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="repository-access-using-protocols.html" title="Previous" type="text/html">
      <link rel="next" href="XML-DB-repository-events.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="repository-access-using-protocols.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="XML-DB-repository-events.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name"> Oracle XML&nbsp;DB Repository</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> User-Defined Repository Metadata</li>
            </ol>
            <a id="GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" name="GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E"></a><a id="ADXDB2560"></a>
            
            <h2 id="ADXDB-GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" class="sect2"><span class="enumeration_chapter">29 </span> User-Defined Repository Metadata
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-812175D3-2558-4A84-A038-DF8FD932B7E6">Overview of Metadata and XML</a><br>Data that you use is often associated with additional information that is not part of the content. To process it in different ways, you can use such <strong class="term">metadata</strong> to group or classify data. 
                  </li>
                  <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227">Using XML Schemas to Define Resource Metadata</a><br>Before you can add user metadata to photo resources, you must define the structure of such metadata using XML Schema. An XML schema is created and registered for each kind (technique, category) of photo resource metadata.
                  </li>
                  <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C">Addition, Modification, and Deletion of Resource Metadata</a><br>You can add, update, and delete user-defined resource metadata using PL/SQL procedures in package <code class="codeph">DBMS_XDB_REPOS</code>, SQL DML statements <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code>, or WebDAV protocol method <code class="codeph">PROPPATCH</code>.
                  </li>
                  <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-71218C70-98BE-4336-A63D-129A1B4BD30A">Querying XML Schema-Based Resource Metadata</a><br>You can use metadata column <code class="codeph">RESID</code> when querying resource metadata, to join the metadata with the associated data.
                  </li>
                  <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-BB7CA0E0-E4A8-496C-BECF-46150BF27865">XML Image Metadata from Binary Image Metadata</a><br>Digital cameras include image metadata as part of the image files they produce. 
                  </li>
                  <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-9D74E515-7FB4-4FE4-B503-3F920AF3071C">Adding Non-Schema-Based Resource Metadata</a><br>You store user-defined resource metadata that is <span class="italic">not</span> XML Schema-based as a <code class="codeph">CLOB</code> instance under the <code class="codeph">Resource</code> element of the associated resource. 
                  </li>
                  <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-C224ED8C-338C-41D5-B714-4B9D403E600E">PL/SQL Procedures Affecting Resource Metadata</a><br>You can use PL/SQL procedures <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>, <code class="codeph">DBMS_XDBZ.enable_hierarchy</code>, <code class="codeph">DBMS_XDBZ.disable_hierarchy</code>, <code class="codeph">DBMS_XDBZ.is_hierarchy_enabled</code>, <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code>, <code class="codeph">DBMS_XDB_REPOS.deleteResourceMetadata</code>, <code class="codeph">DBMS_XDB_REPOS.purgeResourceMetadata</code>, and <code class="codeph">DBMS_XDB_REPOS.updateResourceMetadata</code> to perform resource metadata operations.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML&nbsp;DB Repository lets you version your data, implement and manage security, and use APIs to access and manipulate repository resources.">Oracle XML&nbsp;DB Repository</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5569"></a><div class="props_rev_3"><a id="GUID-812175D3-2558-4A84-A038-DF8FD932B7E6" name="GUID-812175D3-2558-4A84-A038-DF8FD932B7E6"></a><h3 id="ADXDB-GUID-812175D3-2558-4A84-A038-DF8FD932B7E6" class="sect3"><span class="enumeration_section">29.1 </span>Overview of Metadata and XML
               </h3>
               <div>
                  <p>Data that you use is often associated with additional information that is not part of the content. To process it in different ways, you can use such <strong class="term">metadata</strong> to group or classify data. 
                  </p>
                  <p>For example, you might have a collection of digital photographs, and you might associate metadata with each picture, such as information about the photographic characteristics (color composition, focal length) or context (location, kind of subject: landscape, people).</p>
                  <p>An Oracle XML&nbsp;DB repository <strong class="term">resource</strong> is an XML document that contains both metadata and data. The data is the contents of element <code class="codeph">Contents</code>. All other elements in the resource contain metadata. The data of a resource can be XML, but it need not be.
                  </p>
                  <p>You can associate resources in the Oracle XML&nbsp;DB repository with metadata that you define. In addition to such <span class="italic">user-defined metadata</span>, each repository resource also has associated metadata that Oracle XML&nbsp;DB creates automatically and uses (transparently) to manage the resource. Such <span class="italic">system-defined metadata</span> includes properties such as the owner and creation date of each resource.
                  </p>
                  <p>Except for system-defined metadata, you decide which resource information should be treated as data and which should be treated as metadata. For a photo resource, supplemental information about the photo is normally not considered to be part of the photo data, which is a binary image. For text, however, you sometimes have a choice of whether to include particular information in the resource contents (data) or keep it separate and associate it with the contents as metadata — that choice is often influenced by the applications that use or produce the data.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-A8AB40C5-A1ED-4FC5-8377-01EEA7A4E8FC">Kinds of Metadata &#x2013; Uses of the Term</a><br>The term "metadata" is used in the context of XML in various ways, including XML Schema definitions, XML tags, and Oracle XML&nbsp;DB Repository resource information that supplements the resource content.
                     </li>
                     <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-CAE23F8E-CF58-429A-BF69-21B5F49C5E98">User-Defined Resource Metadata</a><br><span class="italic">User-defined resource metadata</span> is itself <span class="italic">represented as XML</span>: it is XML data that is associated with other XML data, describing it or providing supplementary, related information. 
                     </li>
                     <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-24ED504A-B966-422A-8A8C-9CD94C85C8BA">Scenario: Metadata for a Photo Collection</a><br>A scenario used to illustrate the use of schema-based resource metadata uses metadata associated with photographic image files that are stored in repository resources. You can create any number of different kinds of metadata to be associated with the same resource. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5570"></a><div class="props_rev_3"><a id="GUID-A8AB40C5-A1ED-4FC5-8377-01EEA7A4E8FC" name="GUID-A8AB40C5-A1ED-4FC5-8377-01EEA7A4E8FC"></a><h4 id="ADXDB-GUID-A8AB40C5-A1ED-4FC5-8377-01EEA7A4E8FC" class="sect4"><span class="enumeration_section">29.1.1 </span>Kinds of Metadata &#x2013; Uses of the Term
                  </h4>
                  <div>
                     <p>The term "metadata" is used in the context of XML in various ways, including XML Schema definitions, XML tags, and Oracle XML&nbsp;DB Repository resource information that supplements the resource content.</p>
                     <p>In addition to resource metadata (system-defined and user-defined), the term "metadata" is sometimes used to refer to the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An XML <span class="italic">schema</span> is metadata that describes a class of XML documents.
                           </p>
                        </li>
                        <li>
                           <p>An XML <span class="italic">tag</span> (element or attribute name) is metadata that is used to label and organize the element content or attribute value.
                           </p>
                        </li>
                     </ul>
                     <p>You can associate metadata with an XML document that is the content of a repository resource in any of these ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can add additional XML elements containing the metadata information to the resource <span class="italic">contents</span>. For example, you could wrap digital image data in an XML document that also includes elements describing the photo. In this case, the data and its metadata are associated by being in the contents of the same resource. It is up to applications to separate the two and relate them correctly.
                           </p>
                        </li>
                        <li>
                           <p>You can add metadata information for a particular resource to the repository as the contents of a <span class="italic">separate resource</span>. In this case, it is up to applications to treat this resource as metadata and associate it with the data.
                           </p>
                        </li>
                        <li>
                           <p>You can add metadata information for a resource as repository <span class="italic">resource metadata</span>. In this case, Oracle XML&nbsp;DB recognizes the metadata as such. Applications can <span class="italic">discover</span> this metadata by querying the repository for it. They need not be informed separately of its existence and its association with the data.
                           </p>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="accessing-XML-DB-repository-data.html#GUID-950100D2-51D0-490F-B82A-A0C45BCCE8AD" title="Oracle XML&nbsp;DB Repository resources conform to the Oracle XML&nbsp;DB XML schema XDBResource.xsd. The elements in a resource include those needed to persistently store WebDAV-defined properties, such as creation date, modification date, WebDAV locks, owner, ACL, language, and character set.">Oracle XML&nbsp;DB Repository Resources</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-812175D3-2558-4A84-A038-DF8FD932B7E6" title="Data that you use is often associated with additional information that is not part of the content. To process it in different ways, you can use such metadata to group or classify data.">Overview of Metadata and XML</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5571"></a><div class="props_rev_3"><a id="GUID-CAE23F8E-CF58-429A-BF69-21B5F49C5E98" name="GUID-CAE23F8E-CF58-429A-BF69-21B5F49C5E98"></a><h4 id="ADXDB-GUID-CAE23F8E-CF58-429A-BF69-21B5F49C5E98" class="sect4"><span class="enumeration_section">29.1.2 </span>User-Defined Resource Metadata
                  </h4>
                  <div>
                     <p><span class="italic">User-defined resource metadata</span> is itself <span class="italic">represented as XML</span>: it is XML data that is associated with other XML data, describing it or providing supplementary, related information. 
                     </p>
                     <p>User-defined metadata for resources can be either XML schema-based or not:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Resource metadata that is <span class="italic">schema-based</span> is stored in separate (out-of-line) tables. These are related to the resource table by the resource OID, which is stored in the hidden object column <code class="codeph">RESID</code> of the metadata tables. 
                           </p>
                        </li>
                        <li>
                           <p>Resource metadata that is <span class="italic">not</span> schema-based is stored as part of the resource document in the resource table, <code class="codeph">XDB.XDB$RESOURCE</code>.
                           </p>
                        </li>
                     </ul>
                     <p>You can take advantage of schema-based metadata, in particular, to perform efficient queries and DML operations on resources. In this chapter, you learn how to perform the following tasks involving schema-based resource metadata:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create and register an <span class="italic">XML schema</span> that defines the metadata for a particular kind of resource.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">Add</span> metadata to a repository resource, and <span class="italic">update</span> (modify) such metadata.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">Query</span> resource metadata to find associated content.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">Delete</span> specific metadata associated with a resource and <span class="italic">purge</span> all metadata associated with a resource.
                           </p>
                        </li>
                     </ul>
                     <p>In addition, you learn how to add non-schema-based metadata to a resource.</p>
                     <p>You can generally use user-defined resource metadata just as you would use resource data. In particular, versioning and access control management apply.</p>
                     <p>Typical uses of resource metadata include workflow applications, enforcing user rights management, tracking resource ownership, and controlling resource validity dates.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-812175D3-2558-4A84-A038-DF8FD932B7E6" title="Data that you use is often associated with additional information that is not part of the content. To process it in different ways, you can use such metadata to group or classify data.">Overview of Metadata and XML</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5572"></a><div class="props_rev_3"><a id="GUID-24ED504A-B966-422A-8A8C-9CD94C85C8BA" name="GUID-24ED504A-B966-422A-8A8C-9CD94C85C8BA"></a><h4 id="ADXDB-GUID-24ED504A-B966-422A-8A8C-9CD94C85C8BA" class="sect4"><span class="enumeration_section">29.1.3 </span>Scenario: Metadata for a Photo Collection
                  </h4>
                  <div>
                     <p>A scenario used to illustrate the use of schema-based resource metadata uses metadata associated with photographic image files that are stored in repository resources. You can create any number of different kinds of metadata to be associated with the same resource. </p>
                     <p>For image files, examples create metadata for information about both 1) the technical aspects of a photo and 2) the photo subject or the uses to which a photo might be put. These two kinds of associated metadata are used to query photo resources.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-812175D3-2558-4A84-A038-DF8FD932B7E6" title="Data that you use is often associated with additional information that is not part of the content. To process it in different ways, you can use such metadata to group or classify data.">Overview of Metadata and XML</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5574"></a><a id="ADXDB5575"></a><a id="ADXDB5573"></a><div class="props_rev_3"><a id="GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227" name="GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227"></a><h3 id="ADXDB-GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227" class="sect3"><span class="enumeration_section">29.2 </span>Using XML Schemas to Define Resource Metadata
               </h3>
               <div>
                  <p>Before you can add user metadata to photo resources, you must define the structure of such metadata using XML Schema. An XML schema is created and registered for each kind (technique, category) of photo resource metadata.</p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227__GUID-8BB4B7B5-9538-46CE-908D-16AC79E09828">
                        <p class="notep1">See Also:</p>
                        <p><a href="user-defined-repository-metadata.html#GUID-24ED504A-B966-422A-8A8C-9CD94C85C8BA" title="A scenario used to illustrate the use of schema-based resource metadata uses metadata associated with photographic image files that are stored in repository resources. You can create any number of different kinds of metadata to be associated with the same resource.">Scenario: Metadata for a Photo Collection</a> for general information about the example user-defined metadata scenario
                        </p>
                     </div>
                     <p>The XML schema in <a href="user-defined-repository-metadata.html#GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227__BABCEEAA">Example 29-1</a> defines metadata used to describe the technical aspects of a photo image file. It uses PL/SQL procedure <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> to register the XML schema. To identify this schema as defining repository resource <span class="italic">metadata</span>, it uses <code class="codeph">ENABLE_HIERARCHY_RESMETADATA</code> as the value for parameter <code class="codeph">enableHierarchy</code>. Resource contents (data) are defined by using value <code class="codeph">ENABLE_HIERARCHY_CONTENTS</code> (the default value), instead.
                     </p>
                     <p>The properties defined in <a href="user-defined-repository-metadata.html#GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227__BABCEEAA">Example 29-1</a> are the image height, width, color depth, title, and brief description.
                     </p>
                     <p>The XML schema in <a href="user-defined-repository-metadata.html#GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227__BABHHHFC">Example 29-2</a> defines metadata used to categorize a photo image file: to describe its content or possible uses. This simple example defines a single, general property for classification, named <code class="codeph">Category</code>.
                     </p>
                     <p>Notice that there is nothing in the XML schema definitions of metadata that restrict that information to being associated with any particular kind of data. You are free to associate any type of metadata with any type of resource. And multiple types of metadata can be associated with the same resource.</p>
                     <p>Notice, too, that the XML schema does not, by itself, define its associated data as being metadata — it is the schema <span class="italic">registration</span> that makes this characterization, through <code class="codeph">enableHierarchy</code> value <code class="codeph">ENABLE_HIERARCHY_RESMETADATA</code>. If the same schema were registered instead with <code class="codeph">enableHierarchy</code> value <code class="codeph">ENABLE_HIERARCHY_CONTENTS</code> (the default value), then it would define not metadata for resources, but resource <span class="italic">contents</span> with the same information. The same XML schema cannot be registered more than once under the same name. 
                     </p>
                     <div class="infoboxnote" id="GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227__GUID-2773A2E9-886B-4425-BB59-567D29899CE6">
                        <p class="notep1">Note:</p>
                        <p>By default, user metadata is stored object-relationally if it is XML schema-based and as a <code class="codeph">CLOB</code> instance if non XML schema-based. You can store either as binary XML instead, by setting the <code class="codeph">OPTIONS</code> parameter for XML schema registration to <code class="codeph">REGISTER_BINARYXML</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227__BABCEEAA">
                     <p class="titleinexample">Example 29-1 Registering an XML Schema for Technical Photo Information</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_XMLSCHEMA.registerSchema(
    SCHEMAURL       =&gt; '<span class="bold">imagetechnique.xsd</span>',
    SCHEMADOC       =&gt; '&lt;xsd:schema targetNamespace="inamespace"
                                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                                    xmlns:xdb="http://xmlns.oracle.com/xdb"
                                    xmlns="inamespace"&gt;
                          &lt;xsd:element name="<span class="bold">ImgTechMetadata</span>"
                                       xdb:defaultTable="<span class="bold">IMGTECHMETADATATABLE</span>"&gt;
                            &lt;xsd:complexType&gt;
                              &lt;xsd:sequence&gt;
                                &lt;xsd:element name="<span class="bold">Height</span>"      type="xsd:float"/&gt;
                                &lt;xsd:element name="<span class="bold">Width</span>"       type="xsd:float"/&gt;
                                &lt;xsd:element name="<span class="bold">ColorDepth</span>"  type="xsd:integer"/&gt;
                                &lt;xsd:element name="<span class="bold">Title</span>"       type="xsd:string"/&gt;
                                &lt;xsd:element name="<span class="bold">Description</span>" type="xsd:string"/&gt;
                              &lt;/xsd:sequence&gt;
                            &lt;/xsd:complexType&gt;
                          &lt;/xsd:element&gt;
                        &lt;/xsd:schema&gt;',
    enableHierarchy =&gt; DBMS_XMLSCHEMA.<span class="bold">ENABLE_HIERARCHY_RESMETADATA</span>);
END;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-D299AF6E-5A5B-4757-B424-B558D0B5B227__BABHHHFC">
                     <p class="titleinexample">Example 29-2 Registering an XML Schema for Photo Categorization</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_XMLSCHEMA.registerSchema(
    SCHEMAURL       =&gt; '<span class="bold">imagecategories.xsd</span>',
    SCHEMADOC       =&gt; '&lt;xsd:schema targetNamespace="<span class="bold">cnamespace</span>"
                                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                                    xmlns:xdb="http://xmlns.oracle.com/xdb"
                                    xmlns="cnamespace"&gt;
                          &lt;xsd:element name="<span class="bold">ImgCatMetadata</span>"
                                       xdb:defaultTable="<span class="bold">IMGCATMETADATATABLE</span>"&gt;
                            &lt;xsd:complexType&gt;
                              &lt;xsd:sequence&gt;
                                &lt;xsd:element name="<span class="bold">Categories</span>" 
                                             type="CategoriesType"/&gt;
                              &lt;/xsd:sequence&gt;
                            &lt;/xsd:complexType&gt;
                          &lt;/xsd:element&gt;
                          &lt;xsd:complexType name="CategoriesType"&gt;
                            &lt;xsd:sequence&gt;
                              &lt;xsd:element name="<span class="bold">Category</span>" type="xsd:string"
                                           maxOccurs="unbounded"/&gt;
                            &lt;/xsd:sequence&gt;
                          &lt;/xsd:complexType&gt;
                        &lt;/xsd:schema&gt;',
    enableHierarchy =&gt; DBMS_XMLSCHEMA.ENABLE_HIERARCHY_RESMETADATA);
END;
/
</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5576"></a><div class="props_rev_3"><a id="GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C" name="GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C"></a><h3 id="ADXDB-GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C" class="sect3"><span class="enumeration_section">29.3 </span>Addition, Modification, and Deletion of Resource Metadata
               </h3>
               <div>
                  <p>You can add, update, and delete user-defined resource metadata using PL/SQL procedures in package <code class="codeph">DBMS_XDB_REPOS</code>, SQL DML statements <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code>, or WebDAV protocol method <code class="codeph">PROPPATCH</code>.
                  </p>
                  <p>You can add, update, and delete user-defined resource metadata in any of the following ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use PL/SQL procedures in package <code class="codeph">DBMS_XDB_REPOS</code>: 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">appendResourceMetadata</code> &#x2013; add metadata to a resource
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">updateResourceMetadata</code> &#x2013; modify resource metadata
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">deleteResourceMetadata</code> &#x2013; delete specific metadata from a resource
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">purgeResourceMetadata</code> &#x2013; delete <span class="italic">all</span> metadata from a resource
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Use SQL DML statements <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> to update the resource directly
                        </p>
                     </li>
                     <li>
                        <p>Use WebDAV protocol method <code class="codeph">PROPPATCH</code></p>
                     </li>
                  </ul>
                  <p>You use SQL DM statements and WebDAV method <code class="codeph">PROPPATCH</code> to update or delete metadata in the same way as you add metadata. If you supply a complete <code class="codeph">Resource</code> element for one of these operations, then keep in mind that each resource metadata property must be a child (not just a descendant) of element <code class="codeph">Resource</code> — if you want multiple metadata elements of the same kind, you must collect them as children of a single parent metadata element. The order among such top-level user-defined resource metadata properties is unimportant and is not necessarily maintained by Oracle XML&nbsp;DB.
                  </p>
                  <p>The separate PL/SQL procedures in package <code class="codeph">DBMS_XDB_REPOS</code> are similar in their use. Each can be used with either XML schema-based or non-schema-based metadata. Some forms (signatures) of some of the procedures apply only to schema-based metadata. Procedures <code class="codeph">appendResourceMetadata</code> and <code class="codeph">deleteResourceMetadata</code> are illustrated here with examples. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0">Adding Metadata Using APPENDRESOURCEMETADATA</a><br>You can use procedure <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code> to add user-defined metadata to resources.
                     </li>
                     <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-15C67AA1-B53C-4B4E-A768-46236D528593">Deleting Metadata Using DELETERESOURCEMETADATA</a><br>You can use procedure <code class="codeph">DBMS_XDB_REPOS.deleteResourceMetadata</code> to delete specific metadata associated with a resource. To delete <span class="italic">all</span> of the metadata associated with a resource, you can use procedure <code class="codeph">DBMS_XDB_REPOS.purgeResourceMetadata</code>.
                     </li>
                     <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-2A4F858D-D2C1-49AC-8A2C-87AA419D9596">Adding Metadata Using SQL DML</a><br>An alternative to using procedure <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code> to add, update, or delete resource metadata is to update the <code class="codeph">RESOURCE_VIEW</code> directly using DML statements <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code>. 
                     </li>
                     <li class="ulchildlink"><a href="user-defined-repository-metadata.html#GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD">Adding Metadata Using WebDAV PROPPATCH</a><br>An alternative to using procedure <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code> to add resource metadata is to use WebDAV method <code class="codeph">PROPPATCH</code>. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C__GUID-A393D061-0F6B-4DE9-80B1-E209AA525198">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XDB_REPOS.html#ARPLS74188" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the procedures in PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5578"></a><a id="ADXDB5579"></a><a id="ADXDB5577"></a><div class="props_rev_3"><a id="GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0" name="GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0"></a><h4 id="ADXDB-GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0" class="sect4"><span class="enumeration_section">29.3.1 </span>Adding Metadata Using APPENDRESOURCEMETADATA
                  </h4>
                  <div>
                     <p>You can use procedure <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code> to add user-defined metadata to resources.
                     </p>
                     <div class="section">
                        <p><a href="user-defined-repository-metadata.html#GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACFBID">Example 29-3</a> creates a photo resource and adds XML schema-based metadata of type <code class="codeph">ImgTechMetadata</code> to it, recording the technical information about the photo.
                        </p>
                        <p><a href="user-defined-repository-metadata.html#GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACDCJD">Example 29-4</a> adds metadata of type <code class="codeph">ImgTechMetadata</code> to the same resource as <a href="user-defined-repository-metadata.html#GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACFBID">Example 29-3</a>, placing the photo in several user-defined content categories.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACFBID">
                        <p class="titleinexample">Example 29-3 Add Metadata to a Resource &#x2013; Technical Photo Information</p><pre class="oac_no_warn" dir="ltr">DECLARE
  returnbool BOOLEAN;
BEGIN
  returnbool := DBMS_XDB_REPOS.createResource(
                  '/public/horse_with_pig.jpg',
                  bfilename('MYDIR', 'horse_with_pig.jpg'));
  DBMS_XDB_REPOS.<span class="bold">appendResourceMetadata</span>(
    '/public/horse_with_pig.jpg',
    XMLType('&lt;i:<span class="bold">ImgTechMetadata</span>
                 xmlns:i="inamespace"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="inamespace <span class="bold">imagetechnique.xsd</span>"&gt;
               &lt;Height&gt;1024&lt;/Height&gt;
               &lt;Width&gt;768&lt;/Width&gt;
               &lt;ColorDepth&gt;24&lt;/ColorDepth&gt;
               &lt;Title&gt;Pig Riding Horse&lt;/Title&gt;
               &lt;Description&gt;Picture of a pig riding a horse on the beach,
taken outside hotel window.&lt;/Description&gt;
             &lt;/i:ImgTechMetadata&gt;'));
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACDCJD">
                        <p class="titleinexample">Example 29-4 Add Metadata to a Resource &#x2013; Photo Content Categories</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_XDB_REPOS.appendResourceMetadata(
    '/public/horse_with_pig.jpg',
    XMLType('&lt;c:<span class="bold">ImgCatMetadata</span>
                 xmlns:c="cnamespace"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="cnamespace <span class="bold">imagecategories.xsd</span>"&gt;
               &lt;Categories&gt;
                 &lt;Category&gt;Vacation&lt;/Category&gt;
                 &lt;Category&gt;Animals&lt;/Category&gt;
                 &lt;Category&gt;Humor&lt;/Category&gt;
                 &lt;Category&gt;2005&lt;/Category&gt;
               &lt;/Categories&gt;
             &lt;/c:ImgCatMetadata&gt;'));
END;
/

PL/SQL procedure successfully completed.
 
SELECT * FROM imgcatmetadatatable;
 
SYS_NC_ROWINFO$
--------------------------------------------------------------------------------
&lt;c:ImgCatMetadata xmlns:c="cnamespace" xmlns:xsi="http://www.w3.org/2001/XMLSche
ma-instance" xsi:schemaLocation="cnamespace imagecategories.xsd"&gt;
  &lt;Categories&gt;
    &lt;Category&gt;Vacation&lt;/Category&gt;
    &lt;Category&gt;Animals&lt;/Category&gt;
    &lt;Category&gt;Humor&lt;/Category&gt;
    &lt;Category&gt;2005&lt;/Category&gt;
  &lt;/Categories&gt;
&lt;/c:ImgCatMetadata&gt;
 
1 row selected.</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C" title="You can add, update, and delete user-defined resource metadata using PL/SQL procedures in package DBMS_XDB_REPOS, SQL DML statements INSERT, UPDATE, and DELETE, or WebDAV protocol method PROPPATCH.">Addition, Modification, and Deletion of Resource Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5581"></a><a id="ADXDB5580"></a><div class="props_rev_3"><a id="GUID-15C67AA1-B53C-4B4E-A768-46236D528593" name="GUID-15C67AA1-B53C-4B4E-A768-46236D528593"></a><h4 id="ADXDB-GUID-15C67AA1-B53C-4B4E-A768-46236D528593" class="sect4"><span class="enumeration_section">29.3.2 </span>Deleting Metadata Using DELETERESOURCEMETADATA
                  </h4>
                  <div>
                     <p>You can use procedure <code class="codeph">DBMS_XDB_REPOS.deleteResourceMetadata</code> to delete specific metadata associated with a resource. To delete <span class="italic">all</span> of the metadata associated with a resource, you can use procedure <code class="codeph">DBMS_XDB_REPOS.purgeResourceMetadata</code>.
                     </p>
                     <div class="section">
                        <p><a href="user-defined-repository-metadata.html#GUID-15C67AA1-B53C-4B4E-A768-46236D528593__BABEJIGD">Example 29-5</a> deletes the category metadata that was added to the photo resource in <a href="user-defined-repository-metadata.html#GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACDCJD">Example 29-4</a>. By default, both the resource link (<code class="codeph">REF</code>) to the metadata and the metadata table identified by that link are deleted. An optional parameter can be used to specify that only the link is to be deleted. The metadata table is then left as is but becomes unrelated to the resource. In this example, the default behavior is used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-15C67AA1-B53C-4B4E-A768-46236D528593__BABEJIGD">
                        <p class="titleinexample">Example 29-5 Delete Specific Metadata from a Resource</p><pre class="pre codeblock"><code>BEGIN
  DBMS_XDB_REPOS.<span class="bold">deleteResourceMetadata</span>('/public/horse_with_pig.jpg',
                                  'cnamespace',
                                  'ImgCatMetadata');
END;
/

PL/SQL procedure successfully completed.
 
SELECT * FROM imgcatmetadatatable;
 
no rows selected</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C" title="You can add, update, and delete user-defined resource metadata using PL/SQL procedures in package DBMS_XDB_REPOS, SQL DML statements INSERT, UPDATE, and DELETE, or WebDAV protocol method PROPPATCH.">Addition, Modification, and Deletion of Resource Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5583"></a><a id="ADXDB5582"></a><div class="props_rev_3"><a id="GUID-2A4F858D-D2C1-49AC-8A2C-87AA419D9596" name="GUID-2A4F858D-D2C1-49AC-8A2C-87AA419D9596"></a><h4 id="ADXDB-GUID-2A4F858D-D2C1-49AC-8A2C-87AA419D9596" class="sect4"><span class="enumeration_section">29.3.3 </span>Adding Metadata Using SQL DML
                  </h4>
                  <div>
                     <p>An alternative to using procedure <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code> to add, update, or delete resource metadata is to update the <code class="codeph">RESOURCE_VIEW</code> directly using DML statements <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code>. 
                     </p>
                     <div class="section">
                        <p>Adding resource metadata in this way is illustrated by <a href="user-defined-repository-metadata.html#GUID-2A4F858D-D2C1-49AC-8A2C-87AA419D9596__CIAGJEDB">Example 29-6</a>. It shows how to accomplish the same thing as <a href="user-defined-repository-metadata.html#GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACFBID">Example 29-3</a> by inserting the metadata directly into <code class="codeph">RESOURCE_VIEW</code> using SQL statement <code class="codeph">UPDATE</code>. Other SQL DML statements may be used similarly.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2A4F858D-D2C1-49AC-8A2C-87AA419D9596__CIAGJEDB">
                        <p class="titleinexample">Example 29-6 Adding Metadata to a Resource Using DML with RESOURCE_VIEW</p><pre class="pre codeblock"><code>UPDATE RESOURCE_VIEW
  SET RES =
    XMLQuery('declare namespace r = "http://xmlns.oracle.com/xdb/XDBResource.xsd"; (: :)
              declare namespace c = "cnamespace"; (: :)
              copy $tmp := . modify insert node
               &lt;c:ImgCatMetadata
                   xmlns:c="cnamespace"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="cnamespace imagecategories.xsd"&gt;
                 &lt;Categories&gt;
                   &lt;Category&gt;Vacation&lt;/Category&gt;
                   &lt;Category&gt;Animals&lt;/Category&gt;
                   &lt;Category&gt;Humor&lt;/Category&gt;
                   &lt;Category&gt;2005&lt;/Category&gt;
                 &lt;/Categories&gt;
               &lt;/c:ImgCatMetadata&gt;
              into $tmp/r:Resource
              return $tmp'
             PASSING RES
             RETURNING CONTENT)
    WHERE equals_path(RES, '/public/horse_with_pig.jpg') = 1;
/

SELECT * FROM imgcatmetadatatable;
 
SYS_NC_ROWINFO$
--------------------------------------------------------------------------------
&lt;c:ImgCatMetadata xmlns:c="cnamespace" xmlns:xsi="http://www.w3.org/2001/XMLSche
ma-instance" xsi:schemaLocation="cnamespace imagecategories.xsd"&gt;
  &lt;Categories&gt;
    &lt;Category&gt;Vacation&lt;/Category&gt;
    &lt;Category&gt;Animals&lt;/Category&gt;
    &lt;Category&gt;Humor&lt;/Category&gt;
    &lt;Category&gt;2005&lt;/Category&gt;
  &lt;/Categories&gt;
&lt;/c:ImgCatMetadata&gt;
 
1 row selected.
</code></pre><p>The following query extracts the inserted metadata using <code class="codeph">RESOURCE_VIEW</code>, rather than directly using metadata table <code class="codeph">imgcatmetadatatable</code>. (The result is shown here pretty-printed, for clarity.)
                        </p><pre class="pre codeblock"><code>SELECT XMLQuery('declare namespace r
                   = "http://xmlns.oracle.com/xdb/XDBResource.xsd"; (: :)
                 declare namespace c
                   = "cnamespace"; (: :)
                 /r:Resource/c:ImgCatMetadata'
                PASSING RES RETURNING CONTENT)
  FROM RESOURCE_VIEW
  WHERE equals_path(RES, '/public/horse_with_pig.jpg') = 1;
 
XMLQUERY('DECLARENAMESPACER="HTTP://XMLNS.ORACLE.COM/XDB/XDBRESOURCE.XSD";(::)DE
--------------------------------------------------------------------------------
&lt;c:ImgCatMetadata xmlns:c="cnamespace" 
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="cnamespace imagecategories.xsd"&gt;
  &lt;Categories&gt;
    &lt;Category&gt;Vacation&lt;/Category&gt;
    &lt;Category&gt;Animals&lt;/Category&gt;
    &lt;Category&gt;Humor&lt;/Category&gt;
    &lt;Category&gt;2005&lt;/Category&gt;
  &lt;/Categories&gt;
&lt;/c:ImgCatMetadata&gt;
 
1 row selected.</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C" title="You can add, update, and delete user-defined resource metadata using PL/SQL procedures in package DBMS_XDB_REPOS, SQL DML statements INSERT, UPDATE, and DELETE, or WebDAV protocol method PROPPATCH.">Addition, Modification, and Deletion of Resource Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5584"></a><a id="ADXDB2565"></a><div class="props_rev_3"><a id="GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD" name="GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD"></a><h4 id="ADXDB-GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD" class="sect4"><span class="enumeration_section">29.3.4 </span>Adding Metadata Using WebDAV PROPPATCH
                  </h4>
                  <div>
                     <p>An alternative to using procedure <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code> to add resource metadata is to use WebDAV method <code class="codeph">PROPPATCH</code>. 
                     </p>
                     <div class="section">
                        <p>This is illustrated in <a href="user-defined-repository-metadata.html#GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD__CIAJIIEF">Example 29-7</a>. You can update and delete metadata similarly.
                        </p>
                        <p><a href="user-defined-repository-metadata.html#GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD__CIAJIIEF">Example 29-7</a> shows how to accomplish the same thing as <a href="user-defined-repository-metadata.html#GUID-F2E53FE2-75E7-4CBE-AA66-D5A5176001F0__CIACDCJD">Example 29-4</a> by inserting the metadata using WebDAV method <code class="codeph">PROPPATCH</code>. Using appropriate tools, your application creates such a <code class="codeph">PROPPATCH</code> WebDAV request and sends it to the WebDAV server for processing.
                        </p>
                        <p>To update user-defined metadata, you proceed in the same way. To <span class="italic">delete</span> user-defined metadata, the WebDAV request is similar, but it has <code class="codeph">D:remove</code> in place of <code class="codeph">D:set</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-065AB9FE-AC85-4AA3-861E-A97AE739E1FD__CIAJIIEF">
                        <p class="titleinexample">Example 29-7 Adding Metadata Using WebDAV PROPPATCH</p><pre class="pre codeblock"><code>PROPPATCH /public/horse_with_pig.jpg HTTP/1.1
Host: www.example.com
Content-Type: text/xml; charset="utf-8"
Content-Length: 609
Authorization: Basic dGRhZHhkYl9tZXRhOnRkYWR4ZGJfbWV0YQ==
Connection: close
 
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;D:<span class="bold">propertyupdate</span> xmlns:D="<span class="bold">DAV:</span>" xmlns:Z="http://www.w3.com/standards/z39.50/"&gt;
  &lt;D:<span class="bold">set</span>&gt;
    &lt;D:<span class="bold">prop</span>&gt;
      &lt;c:ImgCatMetadata
          xmlns:c="cnamespace"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="cnamespace imagecategories.xsd"&gt;
        &lt;Categories&gt;
          &lt;Category&gt;Vacation&lt;/Category&gt;
          &lt;Category&gt;Animals&lt;/Category&gt;
          &lt;Category&gt;Humor&lt;/Category&gt;
          &lt;Category&gt;2005&lt;/Category&gt;
        &lt;/Categories&gt;
      &lt;/c:ImgCatMetadata&gt;
    &lt;/D:prop&gt;
  &lt;/D:set&gt;
&lt;/D:propertyupdate&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-351751BE-25B8-4F4A-9706-5D54A1D93D4C" title="You can add, update, and delete user-defined resource metadata using PL/SQL procedures in package DBMS_XDB_REPOS, SQL DML statements INSERT, UPDATE, and DELETE, or WebDAV protocol method PROPPATCH.">Addition, Modification, and Deletion of Resource Metadata</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5586"></a><a id="ADXDB5585"></a><div class="props_rev_3"><a id="GUID-71218C70-98BE-4336-A63D-129A1B4BD30A" name="GUID-71218C70-98BE-4336-A63D-129A1B4BD30A"></a><h3 id="ADXDB-GUID-71218C70-98BE-4336-A63D-129A1B4BD30A" class="sect3"><span class="enumeration_section">29.4 </span>Querying XML Schema-Based Resource Metadata
               </h3>
               <div>
                  <p>You can use metadata column <code class="codeph">RESID</code> when querying resource metadata, to join the metadata with the associated data.
                  </p>
                  <div class="section">
                     <p>When you register an XML schema using the <code class="codeph">enableHierarchy</code> value <code class="codeph">ENABLE_HIERARCHY_RESMETADATA</code>, an additional column, <code class="codeph">RESID</code>, is added automatically to the <code class="codeph">XMLType</code> tables used to store the metadata. This column stores the object identifier (OID) of the resource associated with the metadata. You can use column <code class="codeph">RESID</code> when querying metadata, to join the metadata with the associated data.
                     </p>
                     <p>You can query metadata in these ways:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Query <code class="codeph">RESOURCE_VIEW</code> for the metadata. For example:
                           </p><pre class="pre codeblock"><code>SELECT count(*) FROM RESOURCE_VIEW
  WHERE
    XMLExists(
      'declare namespace r
         = "http://xmlns.oracle.com/xdb/XDBResource.xsd"; (: :)
       declare namespace c
         = "cnamespace"; (: :)
       /r:Resource/c:ImgCatMetadata/Categories/Category[text()="Vacation"]'
      PASSING RES);

  COUNT(*)
----------
         1
 
1 row selected.
</code></pre></li>
                        <li>
                           <p>Query the XML schema-based table for the user-defined metadata directly, and join this metadata back to the resource table, identifying which resource to select. Use column <code class="codeph">RESID</code> of the metadata table to do this. For example:
                           </p><pre class="pre codeblock"><code>SELECT COUNT(*) FROM RESOURCE_VIEW rs, <span class="bold">imgcatmetadatatable ct</span>
  WHERE
    XMLExists(
      'declare namespace r
         = "http://xmlns.oracle.com/xdb/XDBResource.xsd"; (: :)
       declare namespace c
         = "cnamespace"; (: :)
       /r:Resource/c:ImgCatMetadata/Categories/Category'
      PASSING RES)
    AND <span class="bold">rs.RESID = ct.RESID</span>;

  COUNT(*)
----------
         1
 
1 row selected.
</code></pre></li>
                     </ul>
                     <p>Oracle recommends querying for user-defined metadata directly, for performance reasons. Direct queries of the <code class="codeph">RESOURCE_VIEW</code> alone <span class="italic">cannot be optimized</span> using XPath rewrite, because there is no way to determine whether or not target elements like <code class="codeph">Category</code> are stored in the <code class="codeph">CLOB</code> value or in an out-of-line table. 
                     </p>
                     <p>To improve performance further, create an index on each metadata column you intend to query.</p>
                     <p><a href="user-defined-repository-metadata.html#GUID-71218C70-98BE-4336-A63D-129A1B4BD30A__BABEHBGB">Example 29-8</a> queries both kinds of photo resource metadata, retrieving the paths to the resources that are categorized as vacation photos and have the title "Pig Riding Horse".
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-71218C70-98BE-4336-A63D-129A1B4BD30A__BABEHBGB">
                     <p class="titleinexample">Example 29-8 Query XML Schema-Based Resource Metadata</p><pre class="pre codeblock"><code>SELECT ANY_PATH
  FROM RESOURCE_VIEW rs, imgcatmetadatatable ct, imgtechmetadatatable tt
  WHERE XMLExists(
          'declare namespace r
             = "http://xmlns.oracle.com/xdb/XDBResource.xsd"; (: :)
           declare namespace c
             = "cnamespace"; (: :)
           /r:Resource/c:ImgCatMetadata/Categories/Category[text()="Vacation"]'
          PASSING RES)
    AND XMLExists(
          'declare namespace r
             = "http://xmlns.oracle.com/xdb/XDBResource.xsd"; (: :)
           declare namespace i
             = "inamespace"; (: :)
           /r:Resource/i:ImgTechMetadata/Title[text()="Pig Riding Horse"]'
          PASSING RES)
    AND rs.RESID = ct.RESID
    AND rs.RESID = tt.RESID;

ANY_PATH
--------------------------
/public/horse_with_pig.jpg
 
1 row selected.</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5587"></a><div class="props_rev_3"><a id="GUID-BB7CA0E0-E4A8-496C-BECF-46150BF27865" name="GUID-BB7CA0E0-E4A8-496C-BECF-46150BF27865"></a><h3 id="ADXDB-GUID-BB7CA0E0-E4A8-496C-BECF-46150BF27865" class="sect3"><span class="enumeration_section">29.5 </span>XML Image Metadata from Binary Image Metadata
               </h3>
               <div>
                  <p>Digital cameras include image metadata as part of the image files they produce. </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>EXIF &#x2013; Exchangeable Image File Format</p>
                     </li>
                     <li>
                        <p>IPTC-NAA IIM &#x2013; International Press Telecommunications Council-Newspaper Association of America Information Interchange Model </p>
                     </li>
                     <li>
                        <p>XMP &#x2013; Extensible Metadata Platform</p>
                     </li>
                  </ul>
                  <p>EXIF is the metadata standard for digital still cameras. EXIF metadata is stored in TIFF and JPEG image files. IPTC and XMP metadata is commonly embedded in image files by desktop image-processing software.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5589"></a><a id="ADXDB5588"></a><div class="props_rev_3"><a id="GUID-9D74E515-7FB4-4FE4-B503-3F920AF3071C" name="GUID-9D74E515-7FB4-4FE4-B503-3F920AF3071C"></a><h3 id="ADXDB-GUID-9D74E515-7FB4-4FE4-B503-3F920AF3071C" class="sect3"><span class="enumeration_section">29.6 </span>Adding Non-Schema-Based Resource Metadata
               </h3>
               <div>
                  <p>You store user-defined resource metadata that is <span class="italic">not</span> XML Schema-based as a <code class="codeph">CLOB</code> instance under the <code class="codeph">Resource</code> element of the associated resource. 
                  </p>
                  <div class="section">
                     <p>The default XML schema for a resource has a top-level element <span class="bold"><code class="codeph">any</code></span> (declared with <code class="codeph">maxOccurs= "unbounded"</code>), which admits any valid XML data as part of the resource document in the resource table, <code class="codeph">XDB.XDB$RESOURCE</code>.
                     </p>
                     <p>The following skeleton shows the structure and position of non-schema-based resource metadata:</p><pre class="pre codeblock"><code>     &lt;Resource xmlns="http://xmlns.oracle.com/xdb/XDBResource.xsd"
       &lt;Owner&gt;DESELBY&lt;/Owner&gt;
       ... &lt;!-- other system-defined metadata --&gt;
       &lt;!-- contents of the resource&gt;
       &lt;Contents&gt;
         ...
       &lt;/Contents&gt;
       &lt;!-- User-defined metadata (appearing within different namespace) --&gt;
       <span class="bold">&lt;MyOwnMetadata xmlns="http://www.example.com/custommetadata"&gt;</span>
         <span class="bold">&lt;MyElement1&gt;value1&lt;/MyElement1&gt;</span>
         <span class="bold">&lt;MyElement2&gt;value2&lt;/MyElement2&gt;</span>
       <span class="bold">&lt;/MyOwnMetadata&gt;</span>
     &lt;/Resource&gt;
</code></pre><p>You can set and access non-schema-based resource metadata belonging to namespaces other than <code class="codeph">XDBResource.xsd</code> by using any of the means described previously for accessing XML schema-based resource metadata. 
                     </p>
                     <p><a href="user-defined-repository-metadata.html#GUID-9D74E515-7FB4-4FE4-B503-3F920AF3071C__BABEDFFF">Example 29-9</a> illustrates this for the case of SQL DML operations, adding user-defined metadata directly to the <code class="codeph">&lt;RESOURCE&gt;</code> <span class="italic">document</span>. It shows how to add non-schema-based metadata to a resource using SQL DML.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9D74E515-7FB4-4FE4-B503-3F920AF3071C__BABEDFFF">
                     <p class="titleinexample">Example 29-9 Add Non-Schema-Based Metadata to a Resource</p><pre class="pre codeblock"><code>DECLARE
  res BOOLEAN;
BEGIN
  res := DBMS_XDB_REPOS.createResource(
           '/public/NurseryRhyme.txt',
           bfilename('MYDIR', 'tdadxdb-xdb_repos_meta-011.txt'),
           nls_charset_id('AL32UTF8'));
  UPDATE RESOURCE_VIEW SET RES = 
   XMLQuery('declare namespace r = "http://xmlns.oracle.com/xdb/XDBResource.xsd"; (: :)
             declare namespace n = "nurserynamespace"; (: :)
             copy $tmp := . modify insert node
              &lt;n:NurseryMetadata&gt;
                &lt;Author&gt;Mother Goose&lt;/Author&gt;
              &lt;/n:NurseryMetadata&gt;
             into $tmp/r:Resource
             return $tmp'
            PASSING RES
            RETURNING CONTENT)
   WHERE equals_path(RES, '/public/NurseryRhyme.txt') = 1;
END;
/

PL/SQL procedure successfully completed.
 

SELECT XMLSerialize(DOCUMENT rs.RES AS CLOB) FROM RESOURCE_VIEW rs
  WHERE equals_path(RES, '/public/NurseryRhyme.txt') = 1;
 
XMLSERIALIZE(DOCUMENTRS.RESASCLOB)
--------------------------------------------------------------------------------
&lt;Resource xmlns="http://xmlns.oracle.com/xdb/XDBResource.xsd" Hidden="false" Inv
alid="false" Container="false" CustomRslv="false" VersionHistory="false" StickyR
ef="true"&gt;
  &lt;CreationDate&gt;2005-05-24T13:51:48.043234&lt;/CreationDate&gt;
  &lt;ModificationDate&gt;2005-05-24T13:51:48.290144&lt;/ModificationDate&gt;
  &lt;DisplayName&gt;NurseryRhyme.txt&lt;/DisplayName&gt;
  &lt;Language&gt;en-US&lt;/Language&gt;
  &lt;CharacterSet&gt;UTF-8&lt;/CharacterSet&gt;
  &lt;ContentType&gt;text/plain&lt;/ContentType&gt;
  &lt;RefCount&gt;1&lt;/RefCount&gt;
  &lt;ACL&gt;
    &lt;acl description="Public:All privileges to PUBLIC" xmlns="http://xmlns.oracl
e.com/xdb/acl.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:sch
emaLocation="http://xmlns.oracle.com/xdb/acl.xsd                           http:
//xmlns.oracle.com/xdb/acl.xsd" shared="true"&gt;
      &lt;ace&gt;
        &lt;principal&gt;PUBLIC&lt;/principal&gt;
        &lt;grant&gt;true&lt;/grant&gt;
        &lt;privilege&gt;
          &lt;all/&gt;
        &lt;/privilege&gt;
      &lt;/ace&gt;
    &lt;/acl&gt;
  &lt;/ACL&gt;
  &lt;Owner&gt;TDADXDB_META&lt;/Owner&gt;
  &lt;Creator&gt;TDADXDB_META&lt;/Creator&gt;
  &lt;LastModifier&gt;TDADXDB_META&lt;/LastModifier&gt;
  &lt;SchemaElement&gt;http://xmlns.oracle.com/xdb/XDBSchema.xsd#text&lt;/SchemaElement&gt;
  &lt;Contents&gt;
    &lt;text&gt;Mary had a little lamb
Its fleece was white as snow
and everywhere that Mary went
that lamb was sure to go
&lt;/text&gt;
  &lt;/Contents&gt;
  &lt;n:NurseryMetadata xmlns:n="nurserynamespace"&gt;
    &lt;Author xmlns=""&gt;Mother Goose&lt;/Author&gt;
  &lt;/n:NurseryMetadata&gt;
&lt;/Resource&gt;
 
1 row selected.</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5590"></a><div class="props_rev_3"><a id="GUID-C224ED8C-338C-41D5-B714-4B9D403E600E" name="GUID-C224ED8C-338C-41D5-B714-4B9D403E600E"></a><h3 id="ADXDB-GUID-C224ED8C-338C-41D5-B714-4B9D403E600E" class="sect3"><span class="enumeration_section">29.7 </span>PL/SQL Procedures Affecting Resource Metadata
               </h3>
               <div>
                  <p>You can use PL/SQL procedures <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>, <code class="codeph">DBMS_XDBZ.enable_hierarchy</code>, <code class="codeph">DBMS_XDBZ.disable_hierarchy</code>, <code class="codeph">DBMS_XDBZ.is_hierarchy_enabled</code>, <code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code>, <code class="codeph">DBMS_XDB_REPOS.deleteResourceMetadata</code>, <code class="codeph">DBMS_XDB_REPOS.purgeResourceMetadata</code>, and <code class="codeph">DBMS_XDB_REPOS.updateResourceMetadata</code> to perform resource metadata operations.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">DBMS_XMLSCHEMA.registerSchema</code> &#x2013; Register an XML schema. Parameter <code class="codeph">ENABLEHIERARCHY</code> affects resource metadata.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_XDBZ.enable_hierarchy</code> &#x2013; Enable repository support for an <code class="codeph">XMLType</code> table or view. Use parameter <code class="codeph">HIERARCHY_TYPE</code> with a value of <code class="codeph">DBMS_XDBZ.ENABLE_HIERARCHY_RESMETADATA</code> to enable resource metadata. This adds column <code class="codeph">RESID</code> to track the resource associated with the metadata.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_XDBZ.disable_hierarchy</code> &#x2013; Disable all repository support for an <code class="codeph">XMLType</code> table or view.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_XDBZ.is_hierarchy_enabled</code> &#x2013; Tests, using parameter <code class="codeph">HIERARCHY_TYPE</code>, whether the specified type of hierarchy is currently enabled for the specified <code class="codeph">XMLType</code> table or view. Value <code class="codeph">DBMS_XDBZ.IS_ENABLED_RESMETADATA</code> for <code class="codeph">HIERARCHY_TYPE</code> tests whether resource metadata is enabled.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_XDB_REPOS.appendResourceMetadata</code> &#x2013; Add metadata to a resource.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_XDB_REPOS.deleteResourceMetadata</code> &#x2013; Delete specified metadata from a resource.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_XDB_REPOS.purgeResourceMetadata</code> &#x2013; Delete all user-defined metadata from a resource. For schema-based resources, optional parameter <code class="codeph">DELETE_OPTION</code> can be used to specify whether or not to delete the metadata information, in addition to unlinking it.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_XDB_REPOS.updateResourceMetadata</code> &#x2013; Update the metadata for a resource.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-C224ED8C-338C-41D5-B714-4B9D403E600E__GUID-002227CC-7A19-4613-B874-449BD20F2CCB">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XDB_REPOS.html#ARPLS74188" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for detailed information about these PL/SQL procedures
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='04222.using-JMX.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Managing Your Applications Using JMX</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96468-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-Runtime-exec.html" title="Previous" type="text/html">
      <link rel="next" href="threading-in-database.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JJDEV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-Runtime-exec.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="threading-in-database.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Java-applications-in-database.html" property="item" typeof="WebPage"><span property="name"> Java Applications on Oracle Database </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Your Applications Using JMX</li>
            </ol>
            <a id="GUID-DCBEAE2C-7C92-4AE5-8069-CD4E5FFDAFB4" name="GUID-DCBEAE2C-7C92-4AE5-8069-CD4E5FFDAFB4"></a><a id="JJDEV13114"></a>
            
            <h2 id="JJDEV-GUID-DCBEAE2C-7C92-4AE5-8069-CD4E5FFDAFB4" class="sect2"><span class="enumeration_section">2.11 </span>Managing Your Applications Using JMX
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p> This section contain the following topics:</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-JMX.html#GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554">Overview of JMX</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-FDE7091A-893B-4776-8ACB-036196C16CC8">Enabling and Starting JMX in a Session</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA">Setting Oracle JVM JMX Defaults and Configurability</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-03FE6094-E90E-48A0-B170-12A53AE5398A">Examples of SQL calls to dbms_java.start_jmx_agent</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57">Using JConsole to Monitor and Control Oracle JVM</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE">Important Security Notes</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273">Shared Server Limitations for JMX</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="JJDEV13115"></a><div class="props_rev_3"><a id="GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554" name="GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554"></a><h3 id="JJDEV-GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554" class="sect3"><span class="enumeration_section">2.11.1 </span>Overview of JMX
               </h3>
               <div>
                  <p>JMX (Java Management Extensions) is a Java technology that supplies tools for managing and monitoring applications, system objects, devices, service-oriented networks, and JVM (Java Virtual Machine). This API allows its classes to be dynamically constructed and changed. So, you can use this technology to monitor and manage resources as they are created, installed, and implemented. The JMX API also includes remote access, so a remote management program can interact with a running application for these purposes.</p>
                  <p>In JMX, a given resource is instrumented by one or more Java objects known as MBeans (Managed Beans). These MBeans are registered in a core managed object server, known as an MBean server, that acts as a management agent and can run on most devices enabled for the Java programming language. A JMX agent consists of an MBean server, in which MBeans are registered, and a set of services for handling MBeans.</p>
                  <div class="infoboxnotealso" id="GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554__GUID-306923B2-2AED-4AF9-A289-74492BC782C5">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html</code></a></p>
                        </li>
                        <li>
                           <p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html" target="_blank"><code class="codeph">http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html</code></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JJDEV13116"></a><div class="props_rev_3"><a id="GUID-FDE7091A-893B-4776-8ACB-036196C16CC8" name="GUID-FDE7091A-893B-4776-8ACB-036196C16CC8"></a><h3 id="JJDEV-GUID-FDE7091A-893B-4776-8ACB-036196C16CC8" class="sect3"><span class="enumeration_section">2.11.2 </span>Enabling and Starting JMX in a Session
               </h3>
               <div>
                  <div class="section">
                     <p>To help in enabling and running JMX services in sessions running Java, the <code class="codeph">JMXSERVER</code> role and the <code class="codeph">dbms_java.start_jmx_agent</code> procedure are provided. The <code class="codeph">JMXSERVER</code> role is granted specific Java permissions that enable you to start and run MBeanServer and JMX agent in a session. The procedure <code class="codeph">dbms_java.start_jmx_agent</code> starts the agent in a specific session that generally remains active for the duration of the session. Perform the following to enable and start JMX:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Obtain <code class="codeph">JMXSERVER</code> from <code class="codeph">SYS </code>or <code class="codeph">SYSTEM</code>:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; grant jmxserver to HR;
</pre><p>where, <code class="codeph">HR</code> is the user name.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Invoke the procedure <code class="codeph">dbms_java.start_jmx_agent</code> to startup JMX in the session. The <code class="codeph">dbms_java.start_jmx_agent</code> procedure can be invoked with the following arguments:</span><div>
                           <p><code class="codeph">port</code>: the port for the JMX listener. The value of this parameter sets the Java property <code class="codeph">com.sun.management.jmxremote.port</code>.
                           </p>
                           <p><code class="codeph">ssl</code>: sets the value for the Java property <code class="codeph">com.sun.management.jmxremote.ssl</code>. Case for <code class="codeph">true</code> and <code class="codeph">false</code> values is ignored.
                           </p>
                           <p><code class="codeph">auth</code>: the value for the property <code class="codeph">com.sun.management.jmxremote.authenticate</code>, otherwise a semicolon-separated list of Java Authentication and Authorization Service (JAAS) credentials. The value is not case-sensitive.
                           </p>
                           <p>Each of these arguments can be <code class="codeph">null</code> or omitted, with <code class="codeph">null</code> as the default value. when an argument is <code class="codeph">null</code>, it does not alter the previously present value of the corresponding property in the session.
                           </p>
                           <div class="infoboxnote" id="GUID-FDE7091A-893B-4776-8ACB-036196C16CC8__GUID-62F0D3F7-FB22-49B3-954E-251D9FBD6F03">
                              <p class="notep1">Note:</p>
                              <p>The Java properties corresponding to the parameters of <code class="codeph">dbms_java.start_jmx_agent</code> are from the set of Java properties specified in standard Java 5.0 JMX documentation. For the full list of Java JMX properties please refer to
                              </p>
                              <p><a href="http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html</code></a></p>
                           </div>
                           <p>The <code class="codeph">dbms_java.start_jmx_agent</code> procedure starts an agent activating OJVM JMX server and a listener. The JMX server runs as one or more daemon threads in the current session and in general is available for the duration of the session. Once JMX Agent is started in a session, Java code running in the session can be monitored.
                           </p>
                           <p>The <code class="codeph">dbms_java.start_jmx_agent</code> procedure is a PL/SQL wrapper for the Java method <code class="codeph">oracle.aurora.rdbms.JMXAgent.startOJVMAgent</code>, which by itself can also be called programmatically from Java stored procedures. The <code class="codeph">startOJVMAgent</code> method starts the JMX Server and the JMX connectivity daemon threads, and then exits. On dedicated servers, these threads may remain active for the duration of the session, but go into an inert state for the time intervals between calls. When these intervals are short, then the same socket connections resume transparently. This enables clients such as JConsole to remain connected across multiple calls.
                           </p>
                           <p>A different mode of JMX monitoring is possible with the <code class="codeph">EXIT_CALL_WHEN_ALL_THREADS_TERMINATE</code> policy. By setting the call exit policy to <code class="codeph">OracleRuntime.EXIT_CALL_WHEN_ALL_THREADS_TERMINATE</code>, you can configure the session to run JMX server continuously in a call that invokes the <code class="codeph">startOJVMAgent</code> method till the Java call is exited programmatically. This mode is convenient when various Java tasks are fired up from a JMX client as operations of specific MBeans. This way, continuous JMX management and monitoring is driven by these operations. Please refer to the JVM JMX demo for such a bean, for example, <code class="codeph">jmxserv.Load</code>.
                           </p>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="using-JMX.html#GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273">Shared Server Limitations for JMX</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDEV13117"></a><div class="props_rev_3"><a id="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA" name="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA"></a><h3 id="JJDEV-GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA" class="sect3"><span class="enumeration_section">2.11.3 </span>Setting Oracle JVM JMX Defaults and Configurability
               </h3>
               <div>
                  <div class="section">
                     <p>When <code class="codeph">dbms_java.start_jmx_agent</code> is activated, the property <code class="codeph">com.sun.management.jmxremote</code> is set to <code class="codeph">true</code>. Before invoking <code class="codeph">start_jmx_agent</code>, a JMXSERVER-privileged user can preset various management properties in the following ways:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using the PL/SQL function <code class="codeph">dbms_java.set_property</code></p>
                        </li>
                        <li>
                           <p>Invoking method <code class="codeph">java.lang.System.setProperty</code></p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">JMXSERVER</code> role user can also preset the properties in database resident Java resource specified by Java property <code class="codeph">com.sun.management.config.file</code>. The default name for this resource, tried when <code class="codeph">com.sun.management.config.file</code> is not set, is <code class="codeph">lib.management.management.properties</code>. This resource mechanism is Oracle JVM extension of standard file-based JMX configuration management. This mechanism is superior for Oracle JVM as it provides more security and per-schema management. When the resource does not exist in schema, a file-read is attempted as a fall-back. The default file path, tried when <code class="codeph">com.sun.management.config.file</code> is not set, is <code class="codeph">$(java.home)/lib/management/management.properties</code>. In Oracle Database 12<span class="italic">c</span> this file contains the following presets:
                     </p><pre class="oac_no_warn" dir="ltr">com.sun.management.jmxremote.ssl.need.client.auth = true
com.sun.management.jmxremote.authenticate = false
</pre><p>The property <code class="codeph">com.sun.management.jmxremote.ssl.need.client.auth</code> in conjunction with <code class="codeph">com.sun.management.jmxremote.ssl</code>, sets JMX for two-way encrypted SSL authentication with client and server certificates. The default value of <code class="codeph">com.sun.management.jmxremote.ssl</code> is <code class="codeph">true</code>. This configuration is the default and is preferred over JAAS password authentication.
                     </p>
                     <div class="infoboxnote" id="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA__GUID-20F891D5-C54A-482C-8746-1201DC7D57BD">
                        <p class="notep1">Note:</p>
                        <p>For more information visit the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html</code></a></p>
                           </li>
                           <li>
                              <p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html" target="_blank"><code class="codeph">http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html</code></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA__GUID-6B326810-D42F-4DBC-B5C6-3FE91E3680C5">
                        <p class="notep1">Note:</p>
                        <p>The default JMX Login Module providing file-based store for passwords is not supported in Oracle JVM for security reasons. So, if JAAS password authentication must be used instead of SSL client authentication, then pass transient JAAS credentials securely as the <code class="codeph">auth</code> parameter to <code class="codeph">dbms_java.start_jmx_agent</code> as illustrated in this section, or configure JMX to use a secure custom LDAP login module.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13118"></a><div class="props_rev_3"><a id="GUID-03FE6094-E90E-48A0-B170-12A53AE5398A" name="GUID-03FE6094-E90E-48A0-B170-12A53AE5398A"></a><h3 id="JJDEV-GUID-03FE6094-E90E-48A0-B170-12A53AE5398A" class="sect3"><span class="enumeration_section">2.11.4 </span>Examples of SQL calls to dbms_java.start_jmx_agent
               </h3>
               <div>
                  <div class="section">
                     <p>Following are some examples of starting the JMX server:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Starts the JMX server and the listener using the default settings as described in the preceding sections or the values set earlier in the same session:</p><pre class="oac_no_warn" dir="ltr">call dbms_java.start_jmx_agent();
</pre></li>
                        <li>
                           <p>Starts the JMX server and the listener using the default settings as described in the preceding sections or the values set earlier in the same session:</p><pre class="oac_no_warn" dir="ltr">call dbms_java.start_jmx_agent(null, null, null);
</pre></li>
                        <li>
                           <p>Starts the JMX server and the listener on port 9999 with the other JMX settings having the default values or the values set earlier in the same session:</p><pre class="oac_no_warn" dir="ltr">call dbms_java.start_jmx_agent('9999');
</pre></li>
                        <li>
                           <p>Starts the JMX server and the listener on port 9999 with the other JMX settings having the default values or the values set earlier in the same session:</p><pre class="oac_no_warn" dir="ltr">call dbms_java.start_jmx_agent('9999', null, null);
</pre></li>
                        <li>
                           <p>Starts the JMX server and the listener with the JMX settings having the default values or the values set earlier in the same session and with JAAS credentials <code class="codeph">monitorRole/1z2x</code> and <code class="codeph">controlRole/2p3o</code>:
                           </p><pre class="oac_no_warn" dir="ltr">call dbms_java.start_jmx_agent(null, null, 'monitorRole/1z2x;controlRole/2p3o');
</pre><p>These credentials are transient. The property <code class="codeph">com.sun.management.jmxremote.authenticate</code> is set to <code class="codeph">true</code>.
                           </p>
                        </li>
                        <li>
                           <p>Starts JMX listener on port 9999 with no SSL and no JAAS authentication. Used only for development or demonstration.</p><pre class="oac_no_warn" dir="ltr">call dbms_java.start_jmx_agent('9999', 'false', 'false');
</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="using-JMX.html#GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE">Important Security Notes</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDEV13119"></a><div class="props_rev_3"><a id="GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57" name="GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57"></a><h3 id="JJDEV-GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57" class="sect3"><span class="enumeration_section">2.11.5 </span>Using JConsole to Monitor and Control Oracle JVM
               </h3>
               <div>
                  <div class="section">
                     <p>This section describes how to use JConsole, a standard JMX client tool, for monitoring and controlling Oracle JVM. JConsole is a part of standard Java JDK.</p>
                     <p>This section discusses the following topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-JMX.html#GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7">Using the jconsole Command</a></p>
                        </li>
                        <li>
                           <p><a href="using-JMX.html#GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502">About Using the JConsole interface</a></p>
                        </li>
                        <li>
                           <p><a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8">The OracleRuntime MBean</a></p>
                        </li>
                        <li>
                           <p><a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2">Memory Thresholds</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57__GUID-7E6C74C3-6944-456A-AAA1-2BCA338039BA">
                        <p class="notep1">Note:</p>
                        <p>To monitor Java in the database with JConsole, you should have a server-side Java session running JMX Agent.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="using-JMX.html#GUID-FDE7091A-893B-4776-8ACB-036196C16CC8">Enabling and Starting JMX in a Session</a></li>
                     </ul>
                  </div>
               </div>
               <a id="JJDEV13120"></a><div class="props_rev_3"><a id="GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7" name="GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7"></a><h4 id="JJDEV-GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7" class="sect4"><span class="enumeration_section">2.11.5.1 </span>Using the jconsole Command
                  </h4>
                  <div>
                     <div class="section">
                        <p>Use the <code class="codeph">jconsole</code> command syntax to start JConsole. The simplest format to start the JConsole tool is the following:
                        </p><pre class="oac_no_warn" dir="ltr">jconsole [hostName:portNum]
</pre><p>where:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">hostname</code> is the name of the system running the application
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">portNum</code> is the port number of the JMX listener
                              </p>
                           </li>
                        </ul>
                        <p>In the following examples, we connect to a host with name <code class="codeph">example.com</code> through default port 9999. This mode assumes no authentication and encryption. This mode is adequate only for demo or testing, and can be used to connect to Oracle JVM JMX sessions that are started with the following command:
                        </p><pre class="oac_no_warn" dir="ltr">call dbms_java.start_jmx_agent(<span class="italic">portNum</span>, false, false);
</pre><p>Remember that you can connect to and interact with Oracle JVM from JConsole, only when the daemon threads of the server are running and are not dormant. This means that there should be an active Java call in the session, which is running the JMX server on the specified port. During the time interval between subsequent Java calls, JMX server preserves its state and statistics, but is unable to communicate with JConsole.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-JMX.html#GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE">Important Security Notes</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13121"></a><div class="props_rev_3"><a id="GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502" name="GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502"></a><h4 id="JJDEV-GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502" class="sect4"><span class="enumeration_section">2.11.5.2 </span>About Using the JConsole interface
                  </h4>
                  <div>
                     <div class="section">
                        <p>The JConsole interface consists of the following tabs:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Summary tab</p>
                              <p>It displays summary information on Oracle JVM and the values monitored by JMX.</p>
                           </li>
                           <li>
                              <p>Memory tab</p>
                              <p>It displays information on memory usage.</p>
                           </li>
                           <li>
                              <p>Threads tab</p>
                              <p>It displays information on thread usage.</p>
                           </li>
                           <li>
                              <p>Classes tab</p>
                              <p>It displays information on class loading.</p>
                           </li>
                           <li>
                              <p>MBeans tab</p>
                              <p>It displays information on MBeans.</p>
                           </li>
                           <li>
                              <p>VM tab</p>
                              <p>It displays information on Oracle JVM.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502__GUID-5C12EE87-218C-473F-A974-523F6EAA263A">
                           <p class="notep1">Note:</p>
                           <p>In Oracle Database 12<span class="italic">c</span> Release 1 (12.1), the data collected and passed to JConsole is limited to the Oracle JVM session that runs the JMX agent. This data does not include the attributes of other sessions that may be running in Oracle JVM. One exception is the <code class="codeph">OracleRuntime</code> MBean that provides information about many WholeJVM_ Attributes and operations of Oracle JVM.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8">The OracleRuntime MBean</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13124"></a><a id="JJDEV13123"></a><div class="props_rev_3"><a id="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800" name="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800"></a><h4 id="JJDEV-GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800" class="sect4"><span class="enumeration_section">2.11.5.3 </span>About Viewing Oracle JVM Summary Information
                  </h4>
                  <div>
                     <div class="section">
                        <p> You can use the Summary tab of the JConsole interface to view Oracle JVM Summary Information. This tab displays key monitoring information on thread usage, memory consumption, class loading, and other VM and operating system specifics.</p>
                        <p>If JConsole successfully connects to an Oracle JVM session running a JMX Agent, then the Overview Tab looks the following image:</p>
                        <div class="figure" id="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800__GUID-910ECBE3-BECD-4CF7-9830-AF68AB0B9FCE">
                           <p class="titleinfigure">Figure 2-6 The Overview Tab of the JConsole Interface</p><img width="483" src="img/summary_tab.gif" alt="Description of Figure 2-6 follows" title="Description of Figure 2-6 follows" longdesc="img_text/summary_tab.html"><br><a href="img_text/summary_tab.html">Description of "Figure 2-6 The Overview Tab of the JConsole Interface"</a></div>
                        <!-- class="figure" -->
                        <p><a href="using-JMX.html#GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800__BABBHEFH" title="Description of the Summary tab field.">Table 2-10</a> provides description of the fields present in the Overview tab.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800__BABBHEFH">
                        <p class="titleintable">Table 2-10 Description of the Overview Tab Fields in JConsole Interface</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Description of the Overview Tab Fields in JConsole Interface" summary="Description of the Summary tab field." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d14592e1286">Field</th>
                                 <th align="left" valign="bottom" width="69%" id="d14592e1289">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1294" headers="d14592e1286 ">
                                    <p>Uptime</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1294 d14592e1289 ">
                                    <p>The duration for which the Oracle JVM session has been running.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1301" headers="d14592e1286 ">
                                    <p>Process CPU time</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1301 d14592e1289 ">
                                    <p>This information is not gathered for Oracle JVM sessions in Oracle Database 12<span class="italic">c</span> Release 1 (12.1).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1311" headers="d14592e1286 ">
                                    <p>Live threads</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1311 d14592e1289 ">
                                    <p>The current number of live daemon and non-daemon threads.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1318" headers="d14592e1286 ">
                                    <p>Peak</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1318 d14592e1289 ">
                                    <p>Highest number of live threads since Oracle JVM started.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1325" headers="d14592e1286 ">
                                    <p>Daemon threads</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1325 d14592e1289 ">
                                    <p>Current number of live daemon threads.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1332" headers="d14592e1286 ">
                                    <p>Total started</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1332 d14592e1289 ">
                                    <p>Total number of threads started since Oracle JVM started. It includes daemon, non-daemon, and terminated threads.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1339" headers="d14592e1286 ">
                                    <p>Current heap size</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1339 d14592e1289 ">
                                    <p>Number of kilobytes currently occupied by the heap.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1346" headers="d14592e1286 ">
                                    <p>Committed memory</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1346 d14592e1289 ">
                                    <p>Total amount of memory allocated for use by the heap.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1353" headers="d14592e1286 ">
                                    <p>Maximum heap size</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1353 d14592e1289 ">
                                    <p>Maximum number of kilobytes occupied by the heap.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1360" headers="d14592e1286 ">
                                    <p>Objects pending for finalization</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1360 d14592e1289 ">
                                    <p>Number of objects pending for finalization.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1367" headers="d14592e1286 ">
                                    <p>Garbage collector information</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1367 d14592e1289 ">
                                    <p>Information about the garbage collector, which includes name, number of collections performed, and total time spent performing garbage collection.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1375" headers="d14592e1286 ">
                                    <p>Current classes loaded</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1375 d14592e1289 ">
                                    <p>Number of classes currently loaded into memory for execution.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1382" headers="d14592e1286 ">
                                    <p>Total classes loaded</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1382 d14592e1289 ">
                                    <p>Total number of classes loaded into session memory since the session started.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1389" headers="d14592e1286 ">
                                    <p>Total classes unloaded</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1389 d14592e1289 ">
                                    <p>Number of classes unloaded from memory. Typically this is zero for Oracle Database 12<span class="italic">c</span> Release 1 (12.1).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1399" headers="d14592e1286 ">
                                    <p>Total physical memory</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1399 d14592e1289 ">
                                    <p>This information is not gathered for Oracle JVM sessions in Oracle Database 12<span class="italic">c</span> Release 1 (12.1). So, the value displayed is zero.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1409" headers="d14592e1286 ">
                                    <p>Free physical memory</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1409 d14592e1289 ">
                                    <p>This information is not gathered for Oracle JVM sessions in Oracle Database 12<span class="italic">c</span> Release 1 (12.1). So, the value displayed is zero.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1419" headers="d14592e1286 ">
                                    <p>Committed virtual memory</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1419 d14592e1289 ">
                                    <p>This information is not gathered for Oracle JVM sessions in Oracle Database 12<span class="italic">c</span> Release 1 (12.1). So, the value displayed is zero.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="JJDEV13126"></a><div class="props_rev_3"><a id="GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9" name="GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9"></a><h4 id="JJDEV-GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9" class="sect4"><span class="enumeration_section">2.11.5.4 </span>About Monitoring Memory Consumption
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use the Memory tab of the JConsole interface to monitor memory consumption. This tab provides information on memory consumption and memory pools. Figure 2&#x2013;7 shows the Memory tab.</p>
                        <div class="figure" id="GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9__BABIJHFD">
                           <p class="titleinfigure">Figure 2-7 The Memory Tab of the JConsole Interface</p><img src="img/memory_tab.gif" width="445" alt="Description of Figure 2-7 follows" title="Description of Figure 2-7 follows" longdesc="img_text/memory_tab.html"><br><a href="img_text/memory_tab.html">Description of "Figure 2-7 The Memory Tab of the JConsole Interface"</a></div>
                        <!-- class="figure" -->
                        <p>The chart on the Memory tab shows Oracle JVM memory usages versus time, for the whole memory space and also for specific memory pools. The memory pools available for Oracle JVM reflect the internal organization of Oracle JVM and correspond to object memories of Oracle JVM Memory Manager. The available memory pools in this release of Oracle Database are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>New Generation Space</p>
                              <p>This is the memory pool from which memory is initially allocated for most objects. This pool is also referred to as the Eden Space.</p>
                           </li>
                           <li>
                              <p>Old Generation Space</p>
                              <p>This memory pool contains objects that have survived the garbage collection process in Eden Space. This pool is also referred to as the Survival Space.</p>
                           </li>
                           <li>
                              <p>Malloc/Free Space</p>
                              <p>This memory pool contains objects for which memory is allocated and freed in malloc/free fashion.</p>
                           </li>
                           <li>
                              <p>End of Migration Space</p>
                              <p>This memory pool contains objects surviving end-of-session migration.</p>
                           </li>
                           <li>
                              <p>Dedicated Session Space</p>
                              <p>This memory pool is used to allocate memory to session objects in Oracle Dedicated Sessions mode.</p>
                           </li>
                           <li>
                              <p>Paged Session Space</p>
                              <p>This memory pool is used to allocate memory to session objects that are big and paged.</p>
                           </li>
                           <li>
                              <p>Run space</p>
                              <p>This memory pool is used to allocate memory to temporary and auxiliary objects.</p>
                           </li>
                           <li>
                              <p>Stack space</p>
                              <p>This memory pool is used to allocate memory to temporary objects for which memory is allocated and freed in stack-like fashion.</p>
                           </li>
                        </ul>
                        <p>The Details area in the Memory tab displays current memory matrixes that include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Used</p>
                              <p> This matrix indicates the amount of memory currently used by the process running the session.</p>
                           </li>
                           <li>
                              <p>Committed</p>
                              <p>This matrix indicates the amount of memory guaranteed to be available for use by Oracle JVM, as if the memory has already been allocated. The amount of Committed memory may change over time. But Committed memory will always be greater than or equal to Used memory.</p>
                           </li>
                           <li>
                              <p>Max</p>
                              <p>This matrix indicates the maximum amount of memory that can be used for memory management. It usually corresponds to the initial configuration of Oracle JVM.</p>
                           </li>
                        </ul>
                        <p>The bar chart at the lower right corner of the Memory tab shows memory consumed by the individual memory pools. The bar turns red when the memory used exceeds the memory usage threshold. You can set the memory usage threshold through an attribute of the <code class="codeph">MemoryMXBean</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2">Memory Thresholds</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13128"></a><div class="props_rev_3"><a id="GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903" name="GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903"></a><h4 id="JJDEV-GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903" class="sect4"><span class="enumeration_section">2.11.5.5 </span>About Monitoring Thread Use
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use the Threads tab of the JConsole interface to monitor thread usage.</p>
                        <div class="figure" id="GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903__GUID-C855D29D-9925-4926-A54D-7F0D00470A2B">
                           <p class="titleinfigure">Figure 2-8 The Threads Tab of the JConsole Interface</p><img width="447" src="img/thread_tab.gif" alt="Description of Figure 2-8 follows" title="Description of Figure 2-8 follows" longdesc="img_text/thread_tab.html"><br><a href="img_text/thread_tab.html">Description of "Figure 2-8 The Threads Tab of the JConsole Interface"</a></div>
                        <!-- class="figure" -->
                        <p>The chart on the Threads tab displays the number of live threads versus time, with a particular color representing a particular type of thread:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Magenta signifies total number of threads</p>
                           </li>
                           <li>
                              <p>Red signifies peak number of threads</p>
                           </li>
                           <li>
                              <p>Blue signifies number of live threads</p>
                           </li>
                        </ul>
                        <p>The list of threads on this tab displays the active threads. Select a thread in the list to display information about that thread on the right pane. This information includes name, state, and stack trace of the thread.</p>
                        <p>The Filter field helps to narrow the threads.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13130"></a><div class="props_rev_3"><a id="GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B" name="GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B"></a><h4 id="JJDEV-GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B" class="sect4"><span class="enumeration_section">2.11.5.6 </span>About Monitoring Class Loading
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use the Classes tab of the JConsole interface to monitor class loading. The chart on this tab plots the number of classes loaded versus time.</p>
                        <div class="figure" id="GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B__GUID-026CA565-9EE1-45B3-B640-2269D77E5A40">
                           <p class="titleinfigure">Figure 2-9 The Classes tab of the JConsole interface</p><img width="451" src="img/classes_tab.gif" alt="Description of Figure 2-9 follows" title="Description of Figure 2-9 follows" longdesc="img_text/classes_tab.html"><br><a href="img_text/classes_tab.html">Description of "Figure 2-9 The Classes tab of the JConsole interface"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13133"></a><a id="JJDEV13134"></a><a id="JJDEV13135"></a><a id="JJDEV13132"></a><div class="props_rev_3"><a id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772" name="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772"></a><h4 id="JJDEV-GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772" class="sect4"><span class="enumeration_section">2.11.5.7 </span>About Monitoring and Managing MBeans
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use the MBeans tab to monitor and manage MBeans. This tab displays information on all the MBeans registered with the platform MBean server.</p>
                        <p>The tree on the left pane of the MBean tab is called the MBean tree and it shows all the MBeans, organized according to their object Names. When you select an MBean in the MBean tree, then its attributes, operations, notifications, and other information are displayed on the right pane. For example, in <a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__CEGBGEDE">Figure 2-10</a>, we have selected the <code class="codeph">Old Generation</code> MemoryPool MBean in the MBean tree on the left and the attributes of the <code class="codeph">Old Generation</code> MemoryPool MBean are displayed on the right.
                        </p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__CEGBGEDE">
                           <p class="titleinfigure">Figure 2-10 Displaying the Attributes of an MBean</p><img width="387" src="img/mbeans_tab.gif" alt="Description of Figure 2-10 follows" title="Description of Figure 2-10 follows" longdesc="img_text/mbeans_tab.html"><br><a href="img_text/mbeans_tab.html">Description of "Figure 2-10 Displaying the Attributes of an MBean"</a></div>
                        <!-- class="figure" -->
                        <p>You can set the values of an attribute, if it is writeable. The writeable values are displayed in blue color. For example, in <a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__CEGBGEDE">Figure 2-10</a>, the attributes <code class="codeph">CollectionUaageThreshold</code> and <code class="codeph">UsageThreshold</code> are writable.
                        </p>
                        <p>You can also display a chart of the values of an attribute versus time, by double-clicking on the attribute value. For example, if you click on the value of the <code class="codeph">CollectionTime</code> property of the <code class="codeph">GCManager</code> MBean, then you will see a chart similar to <a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABHFJIC">Figure 2-11</a>:
                        </p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABHFJIC">
                           <p class="titleinfigure">Figure 2-11 Displaying a Chart of the Values of an Attribute</p><img width="499" src="img/chart.gif" alt="Description of Figure 2-11 follows" title="Description of Figure 2-11 follows" longdesc="img_text/chart.html"><br><a href="img_text/chart.html">Description of "Figure 2-11 Displaying a Chart of the Values of an Attribute"</a></div>
                        <!-- class="figure" -->
                        <p>You can display the details of a complex attribute by clicking on the attribute. For example, you can display the details of <code class="codeph">Usage</code> and <code class="codeph">PeakUsage</code> attributes of the Memory Pools as shown in <a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABEDCDH">Figure 2-12</a>:
                        </p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABEDCDH">
                           <p class="titleinfigure">Figure 2-12 Displaying Details of a Complex Attribute in the MBeans Tab</p><img width="421" src="img/complex_attr.gif" alt="Description of Figure 2-12 follows" title="Description of Figure 2-12 follows" longdesc="img_text/complex_attr.html"><br><a href="img_text/complex_attr.html">Description of "Figure 2-12 Displaying Details of a Complex Attribute in the MBeans Tab"</a></div>
                        <!-- class="figure" -->
                        <p>The Operations tab of an MBean provides manageability interface. For example, garbage collection can be invoked on a Memory Pool or Memory Manager by clicking <span class="bold">Perform Garbage Collection</span>. The JMX demo of Oracle JVM, namely, <code class="codeph">javavm/demo/jmx/</code>, provides several additional custom MBeans that are loaded into Oracle JVM. Here is an example shows the result of the <code class="codeph">getProp</code> operation of the <code class="codeph">DBProps</code> Mbean:
                        </p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__GUID-8B6367C5-8202-468F-9D33-7A08E7F0276B">
                           <p class="titleinfigure">Figure 2-13 Operations Tab of the MBeans Tab of the JConsole Interface</p><img width="509" src="img/operations.gif" alt="Description of Figure 2-13 follows" title="Description of Figure 2-13 follows" longdesc="img_text/operations.html"><br><a href="img_text/operations.html">Description of "Figure 2-13 Operations Tab of the MBeans Tab of the JConsole Interface"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13137"></a><div class="props_rev_3"><a id="GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC" name="GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC"></a><h4 id="JJDEV-GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC" class="sect4"><span class="enumeration_section">2.11.5.8 </span>About Viewing VM Information
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use the VM tab of the JConsole interface to view VM information.</p>
                        <div class="figure" id="GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC__GUID-09037EF2-8938-4AF3-B03E-0B8FF7ACB8A4">
                           <p class="titleinfigure">Figure 2-14 The VM Tab of the JConsole Interface</p><img width="450" src="img/vm_tab.gif" alt="Description of Figure 2-14 follows" title="Description of Figure 2-14 follows" longdesc="img_text/vm_tab.html"><br><a href="img_text/vm_tab.html">Description of "Figure 2-14 The VM Tab of the JConsole Interface"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13139"></a><a id="JJDEV13140"></a><a id="JJDEV13141"></a><a id="JJDEV13142"></a><a id="JJDEV13138"></a><div class="props_rev_3"><a id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8" name="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8"></a><h4 id="JJDEV-GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8" class="sect4"><span class="enumeration_section">2.11.5.9 </span>The OracleRuntime MBean
                  </h4>
                  <div>
                     <div class="section">
                        <p>Starting from Oracle Database 11<span class="italic">g</span> Release 2 (11.2), a new MBean, <code class="codeph">OracleRuntime</code> is added to the list of Oracle JVM platform MBeans, when the <code class="codeph">dbms_java.start_jmx_agent</code> procedure is called. This MBean is specific to Oracle JVM.
                        </p>
                        <p>The Attributes Tab of the <code class="codeph">OracleRuntime</code> MBean exposes most of the parameters manipulated by the <code class="codeph">oracle.aurora.vm.OracleRuntime</code> class. <a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABGEHFG">Figure 2-15</a> shows the Attributes tab of the <code class="codeph">OracleRuntime</code> MBean.
                        </p>
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABGEHFG">
                           <p class="titleinfigure">Figure 2-15 Attributes Tab of the OracleRuntime MBean</p><img width="506" src="img/oracleruntimembean1.gif" alt="Description of Figure 2-15 follows" title="Description of Figure 2-15 follows" longdesc="img_text/oracleruntimembean1.html"><br><a href="img_text/oracleruntimembean1.html">Description of "Figure 2-15 Attributes Tab of the OracleRuntime MBean"</a></div>
                        <!-- class="figure" -->
                        <p>The parameters displayed in black color are read-only and cannot be modified. For example, <code class="codeph">JavaPoolSize</code>, <code class="codeph">Platform</code>, and so on. Values in blue color are read/write, which means you can modify them. Most of the attributes of the <code class="codeph">OracleRuntime</code> MBean are local to the current session.
                        </p>
                        <p> The <code class="codeph">WholeJVM_</code> attributes of the <code class="codeph">OracleRuntime</code> MBean are global. These attributes reflect the totals of Oracle JVM memory usage statistics across all Java-enabled sessions in the Database instance, as gathered from the <code class="codeph">v$session</code> and <code class="codeph">v$sesstat</code> performance views. <a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABICDGG">Figure 2-16</a> displays the <code class="codeph">WholeJVM_</code> attributes of the <code class="codeph">OracleRuntime</code> MBean.
                        </p>
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABICDGG">
                           <p class="titleinfigure">Figure 2-16 OracleRuntime MBean</p><img width="502" src="img/oracleruntimembean2.gif" alt="Description of Figure 2-16 follows" title="Description of Figure 2-16 follows" longdesc="img_text/oracleruntimembean2.html"><br><a href="img_text/oracleruntimembean2.html">Description of "Figure 2-16 OracleRuntime MBean"</a></div>
                        <!-- class="figure" -->
                        <p>The Operations Tab of the <code class="codeph">OracleRuntime</code> MBean exposes many of the operations of the <code class="codeph">oracle.aurora.vm.OracleRuntime</code> class.
                        </p>
                        <p>In addition, individual memory consumption statistics of a specific Java-active Database session can be monitored using the <code class="codeph">sessionsRunningJava</code> and <code class="codeph">sessionDetailsBySID</code> operations as shown in <a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABJFCEC">Figure 2-17</a> and <a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABHDBFC">Figure 2-18</a>.
                        </p>
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABJFCEC">
                           <p class="titleinfigure">Figure 2-17 Operation sessionsRunningJava</p><img width="500" src="img/oracleruntimembean3.gif" alt="Description of Figure 2-17 follows" title="Description of Figure 2-17 follows" longdesc="img_text/oracleruntimembean3.html"><br><a href="img_text/oracleruntimembean3.html">Description of "Figure 2-17 Operation sessionsRunningJava"</a></div>
                        <!-- class="figure" -->
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABHDBFC">
                           <p class="titleinfigure">Figure 2-18 Operation sessionDetailsBySID</p><img width="505" src="img/oracleruntimembean4.gif" alt="Description of Figure 2-18 follows" title="Description of Figure 2-18 follows" longdesc="img_text/oracleruntimembean4.html"><br><a href="img_text/oracleruntimembean4.html">Description of "Figure 2-18 Operation sessionDetailsBySID"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13144"></a><a id="JJDEV13145"></a><a id="JJDEV13143"></a><div class="props_rev_3"><a id="GUID-78F07301-66B6-44A5-8F12-08C8406223B2" name="GUID-78F07301-66B6-44A5-8F12-08C8406223B2"></a><h4 id="JJDEV-GUID-78F07301-66B6-44A5-8F12-08C8406223B2" class="sect4"><span class="enumeration_section">2.11.5.10 </span>Memory Thresholds
                  </h4>
                  <div>
                     <p>The usage threshold is a manageable attribute of the memory pools. Collection usage threshold is a manageable attribute of some of the garbage-collected memory pools. You can set each of these to a positive value to enable corresponding threshold checking for a pool. Setting a threshold to zero disables the threshold checking for the memory pool. By default, threshold checking for all Oracle JVM pools is disabled.</p>
                     <p>The usage threshold and the collection usage threshold are set in the MBeans tab. For example, if you select the Old Generation memory pool from the tree on the left pane, and set the usage threshold of this memory pool to 20 megabytes and the collection threshold to 1 megabyte, then after a while, the threshold counts will show the number of threshold crossing events as shown in <a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABCIIBF">Figure 2-19</a>:
                     </p>
                     <div class="figure" id="GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABCIIBF">
                        <p class="titleinfigure">Figure 2-19 Setting the Usage Threshold and Collection Usage Threshold in the MBeans Tab</p><img width="486" src="img/memory_threshold.gif" alt="Description of Figure 2-19 follows" title="Description of Figure 2-19 follows" longdesc="img_text/memory_threshold.html"><br><a href="img_text/memory_threshold.html">Description of "Figure 2-19 Setting the Usage Threshold and Collection Usage Threshold in the MBeans Tab"</a></div>
                     <!-- class="figure" -->
                     <p>When the memory usage of the Old Generation memory pool exceeds 20 megabytes, then part of the bar representing the Old Generation memory pool in the JConsole interface turns red. The red portion indicates the portion of used memory that exceeds the usage threshold. The bar representing the heap memory also turns red as shown in <a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABHDHFJ">Figure 2-20</a>:
                     </p>
                     <div class="figure" id="GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABHDHFJ">
                        <p class="titleinfigure">Figure 2-20 Memory Tab of the JConsole Interface When Used Memory Exceeds the Usage Threshold</p><img width="485" src="img/exceed_usage.gif" alt="Description of Figure 2-20 follows" title="Description of Figure 2-20 follows" longdesc="img_text/exceed_usage.html"><br><a href="img_text/exceed_usage.html">Description of "Figure 2-20 Memory Tab of the JConsole Interface When Used Memory Exceeds the Usage Threshold"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div><a id="JJDEV13146"></a><div class="props_rev_3"><a id="GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE" name="GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE"></a><h3 id="JJDEV-GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE" class="sect3"><span class="enumeration_section">2.11.6 </span>Important Security Notes
               </h3>
               <div>
                  <div class="section">
                     <p>By starting the remote listener with disabled SSL and authentication you violate the general security guidelines and hence make server vulnerable to attacks. Therefore, it is always advisable not to use such mode in production environment. This mode is supported for compatibility with JDK and for development; any production use of JMX in Oracle JVM must use secure JMX connections.</p>
                     <p>When supplying security-related property values to <code class="codeph">dbms_java.set_property</code>, <code class="codeph">System.setProperty</code>, or <code class="codeph">dbms_java.start_jmx_agent</code>, use a non-echo listener or invoke these through an encrypted JDBC connection from a secure application layer, such as Oracle Application Server. Do not store passwords in clear-text files. Use Oracle Wallet to create and manage certificates. Use client certificates for SSL authentication for better security.
                     </p>
                     <div class="infoboxnotealso" id="GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE__GUID-97475714-5930-49AD-84A1-65DFAF47C48A">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/introduction-to-oracle-database-security.html#DBSEG-GUID-41040F53-D7A6-48FA-A92A-0C23118BC8A0" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13633"></a><div class="props_rev_3"><a id="GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273" name="GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273"></a><h3 id="JJDEV-GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273" class="sect3"><span class="enumeration_section">2.11.7 </span>Shared Server Limitations for JMX
               </h3>
               <div>
                  <div class="section">
                     <p>On dedicated mode servers, JMX connectivity is supported for the duration of a session. Shared server JMX connectivity is typically limited to a single call. The main factor causing this limitation is the fact that JMX connectivity intrinsically depends on operating system resources such as threads and sockets. These resources do not survive shared server call boundaries. As the result, JMX connectivity is fully supported only for the duration of a single call.</p>
                     <div class="infoboxnote" id="GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273__GUID-F8524F4B-2029-4A26-BA5A-04B9A0C3D317">
                        <p class="notep1">Note:</p>
                        <p>This restriction only affects agent connectivity and not the state of the MBeanSrver and Mbeans registered in it. The state of the MBeanSrver and Mbeans, and in particular, the statistics, are persevered across shared server call boundaries.</p>
                     </div>
                     <p>If using dedicated server mode is not feasible, you can still establish JMX connectivity and monitor shared servers by following these guidelines:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Plan for all JMX management and monitoring activities to happen within a single Java call.</p>
                        </li>
                        <li>
                           <p>Do not set the <code class="codeph">com.sun.management.jmxremote.port</code> property by calling the <code class="codeph">DBMS_JAVA.set_property</code> function and do not use the <code class="codeph">DBMS_JAVA.start_jmx_agent</code> method because these calls activate JMX and introduce a shared server call boundary. Instead, start the JMX agent by calling the <code class="codeph">oracle.aurora.rdbms.JMXAgent.startOJVMAgent</code> method directly from the Java code to be monitored. The value for the <code class="codeph">com.sun.management.jmxremote.port</code>  property should be passed to the <code class="codeph">startOJVMAgent</code> method. JMX-related properties other than the <code class="codeph">com.sun.management.jmxremote.port</code> property do not wake up a JMX Agent and can be set using any means.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="shared-server-consideration.html#GUID-94B10C5C-91C0-48EC-9C41-98FE4C2E2F9E">Shared Servers Considerations</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01252.general-considerations-of-using-transparent-data-encryption.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">
      <meta name="description" content="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">
      <title>General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Security Guide ">
      <meta property="og:description" content="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="advanced-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-13T09:26:12-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96301-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-keystores-encryption-keys-in-isolated-mode.html" title="Previous" type="text/html">
      <link rel="next" href="using-transparent-data-encryption-with-other-oracle-features.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Advanced Security Guide">
    <meta name="dcterms.isVersionOf" content="ASOAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-keystores-encryption-keys-in-isolated-mode.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-transparent-data-encryption-with-other-oracle-features.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asopart1.html" property="item" typeof="WebPage"><span property="name">Using Transparent Data Encryption</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</li>
            </ol>
            <a id="GUID-F02C9CBF-0374-408B-8655-F7531B681D41" name="GUID-F02C9CBF-0374-408B-8655-F7531B681D41"></a><a id="ASOAG10478"></a>
            
            <h2 id="ASOAG-GUID-F02C9CBF-0374-408B-8655-F7531B681D41" class="sect2"><span class="enumeration_chapter">7 </span>General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB">Compression and Data Deduplication of Encrypted Data</a><br>With tablespace encryption, Oracle Database compresses tables and indexes before encrypting the tablespace. 
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F">Security Considerations for Transparent Data Encryption</a><br>As with all Oracle Database features, you should consider security when you create TDE policies.
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B">Performance and Storage Overhead of Transparent Data Encryption</a><br>The performance of Transparent Data Encryption can vary. 
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-401720E6-463B-4473-ACE8-AF1B6127821F">Modifying Your Applications for Use with Transparent Data Encryption</a><br>You can modify your applications to use Transparent Data Encryption.
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245">How ALTER SYSTEM and orapki Map to ADMINISTER KEY MANAGEMENT</a><br>Many of the clauses from the <code class="codeph">ALTER SYSTEM</code> statement correspond to the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> statement. 
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262">Using Transparent Data Encryption with PKI Encryption</a><br>PKI encryption is deprecated, but if you are still using it, then there are several issues you must consider.
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-A29FA261-ECDB-4B99-A864-8FFD95568813">Data Loads from External Files to Tables with Encrypted Columns</a><br>You can use SQL*Loader to perform data loads from files to tables that have encrypted columns.
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-A637AB50-2A54-4248-8DC2-F50729C38B97">Transparent Data Encryption and Database Close Operations</a><br>You should ensure that the software or hardware keystore is open before you close the database.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="asopart1.html" title="Part I describes how to use Transparent Data Encryption.">Using Transparent Data Encryption</a></p>
                  </div>
               </div>
            </div>
            <a id="ASOAG10358"></a><div class="props_rev_3"><a id="GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB" name="GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB"></a><h3 id="ASOAG-GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB" class="sect3">Compression and Data Deduplication of Encrypted Data</h3>
               <div>
                  <p>With tablespace encryption, Oracle Database compresses tables and indexes before encrypting the tablespace. </p>
                  <p>This ensures that you receive the maximum space and performance benefits from compression, while also receiving the security of encryption at rest. In the <code class="codeph">CREATE TABLESPACE</code> SQL statement, include both the <code class="codeph">COMPRESS</code> and <code class="codeph">ENCRYPT</code> clauses. 
                  </p>
                  <p>With column encryption, Oracle Database compresses the data after it encrypts the column. This means that compression will have minimal effectiveness on encrypted columns. There is one notable exception: if the column is a SecureFiles LOB, and the encryption is implemented with SecureFiles LOB Encryption, and the compression (and possibly deduplication) are implemented with SecureFiles LOB Compression &amp; Deduplication, then compression is performed before encryption. Similar to the <code class="codeph">CREATE TABLESPACE</code> statement for tablespace encryption, include both the <code class="codeph">COMPRESS</code> and <code class="codeph">ENCRYPT</code> clauses.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB__GUID-621659FF-09B0-4C4E-B9F4-515B9A97B448">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../bradv/configuring-rman-client-advanced.html#BRADV187" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information about the Advanced Compression Option
                           </p>
                        </li>
                        <li>
                           <p><a href="../adlob/using-oracle-LOBs-storage.html#ADLOB45162" target="_blank"><span><cite>Oracle Database SecureFiles and Large Objects Developer's Guide</cite></span></a> for information about SecureFiles LOB storage
                           </p>
                        </li>
                        <li>
                           <p><a href="../adlob/using-oracle-LOBs-storage.html#ADLOB46109" target="_blank"><span><cite>Oracle Database SecureFiles and Large Objects Developer's Guide</cite></span></a> for information about SecureFiles Compression
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG9552"></a><div class="props_rev_3"><a id="GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" name="GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F"></a><h3 id="ASOAG-GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" class="sect3">Security Considerations for Transparent Data Encryption</h3>
               <div>
                  <p>As with all Oracle Database features, you should consider security when you create TDE policies.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-ED481093-51B0-42F2-BADB-E5E55889AD47">Transparent Data Encryption General Security Advice</a><br>Security considerations for Transparent Data Encryption (TDE) operate within the broader area of total system security. 
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F">Transparent Data Encryption Column Encryption-Specific Advice</a><br>Additional security considerations apply to normal database and network operations when using TDE. 
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-8DBBE636-3166-4828-92C1-12C93194C17D">Managing Security for Plaintext Fragments</a><br>You should remove old plaintext fragments that can appear over time.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10359"></a><div class="sect3"><a id="GUID-ED481093-51B0-42F2-BADB-E5E55889AD47" name="GUID-ED481093-51B0-42F2-BADB-E5E55889AD47"></a><h4 id="ASOAG-GUID-ED481093-51B0-42F2-BADB-E5E55889AD47" class="sect4">Transparent Data Encryption General Security Advice</h4>
                  <div>
                     <p>Security considerations for Transparent Data Encryption (TDE) operate within the broader area of total system security. </p>
                     <p>Follow these general guidelines:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Identify the degrees of sensitivity of data in your database, the protection that they need, and the levels of risk to be addressed. For example, highly sensitive data requiring stronger protection can be encrypted with the AES256 algorithm. A database that is not as sensitive can be protected with no <a href="glossary.html#GUID-6803F75B-7883-4D0B-B1FF-0084AD65E001"><span class="xrefglossterm">salt</span></a> or the <code class="codeph">nomac</code> option to enable performance benefits.
                           </p>
                        </li>
                        <li>
                           <p>Evaluate the costs and benefits that are acceptable to data and keystore protection. Protection of keys determines the type of keystore to be used: auto-login software keystores, password-based software keystores, or hardware keystores.</p>
                        </li>
                        <li>
                           <p>Consider having separate security administrators for TDE and for the database. </p>
                        </li>
                        <li>
                           <p>Consider having a separate and exclusive keystore for TDE. </p>
                        </li>
                        <li>
                           <p>Implement protected back-up procedures for your encrypted data.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" title="As with all Oracle Database features, you should consider security when you create TDE policies.">Security Considerations for Transparent Data Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10360"></a><div class="props_rev_3"><a id="GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F" name="GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F"></a><h4 id="ASOAG-GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F" class="sect4">Transparent Data Encryption Column Encryption-Specific Advice</h4>
                  <div>
                     <p>Additional security considerations apply to normal database and network operations when using TDE. </p>
                     <p>Encrypted column data stays encrypted in the data files, undo logs, redo logs, and the buffer cache of the system global area (SGA). However, data is decrypted during expression evaluation, making it possible for decrypted data to appear in the swap file on the disk. Privileged operating system users can potentially view this data.</p>
                     <p>Column values encrypted using TDE are stored in the data files in encrypted form. However, these data files may still contain some <a href="glossary.html#GUID-268B0C3E-D1AD-482D-939C-A9A6522A8E8D"><span class="xrefglossterm">plaintext</span></a> fragments, called ghost copies, left over by past data operations on the table. This is similar to finding data on the disk after a file was deleted by the operating system.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" title="As with all Oracle Database features, you should consider security when you create TDE policies.">Security Considerations for Transparent Data Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10361"></a><div class="props_rev_3"><a id="GUID-8DBBE636-3166-4828-92C1-12C93194C17D" name="GUID-8DBBE636-3166-4828-92C1-12C93194C17D"></a><h4 id="ASOAG-GUID-8DBBE636-3166-4828-92C1-12C93194C17D" class="sect4">Managing Security for Plaintext Fragments</h4>
                  <div>
                     <p>You should remove old plaintext fragments that can appear over time.</p>
                     <div class="section">
                        <p>Old <a href="glossary.html#GUID-268B0C3E-D1AD-482D-939C-A9A6522A8E8D"><span class="xrefglossterm">plaintext</span></a> fragments may be present for some time until the database overwrites the blocks containing such values. If privileged operating system users bypass the access controls of the database, then they might be able to directly access these values in the data file holding the tablespace. 
                        </p>
                        <p>To minimize this risk:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>Create a new tablespace in a new data file. </p>
                              <p>You can use the <code class="codeph">CREATE TABLESPACE</code> statement to create this tablespace.
                              </p>
                           </li>
                           <li>
                              <p>Move the table containing encrypted columns to the new tablespace. You can use the <code class="codeph">ALTER TABLE.....MOVE</code> statement. 
                              </p>
                              <p>Repeat this step for all of the objects in the original tablespace.</p>
                           </li>
                           <li>
                              <p>Drop the original tablespace. </p>
                              <p>You can use the <code class="codeph">DROP TABLESPACE </code><span class="italic"><code class="codeph">tablespace</code></span> <code class="codeph">INCLUDING CONTENTS KEEP DATAFILES</code> statement. Oracle recommends that you securely delete data files using platform-specific utilities.
                              </p>
                           </li>
                           <li>
                              <p>Use platform-specific and file system-specific utilities to securely delete the old data file. Examples of such utilities include <code class="codeph">shred</code> (on Linux) and <code class="codeph">sdelete</code> (on Windows).
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" title="As with all Oracle Database features, you should consider security when you create TDE policies.">Security Considerations for Transparent Data Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG9549"></a><div class="props_rev_3"><a id="GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" name="GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B"></a><h3 id="ASOAG-GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" class="sect3">Performance and Storage Overhead of Transparent Data Encryption</h3>
               <div>
                  <p>The performance of Transparent Data Encryption can vary. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295">Performance Overhead of Transparent Data Encryption</a><br>Transparent Data Encryption tablespace encryption has small associated performance overhead. 
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-24F03ED5-D3E1-4868-879F-834A4440B94B">Storage Overhead of Transparent Data Encryption</a><br>TDE tablespace encryption has no storage overhead, but TDE column encryption has some associated storage overhead. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG9550"></a><div class="props_rev_3"><a id="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295" name="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295"></a><h4 id="ASOAG-GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295" class="sect4">Performance Overhead of Transparent Data Encryption</h4>
                  <div>
                     <p>Transparent Data Encryption tablespace encryption has small associated performance overhead. </p>
                     <p>The actual performance impact on applications can vary. TDE column encryption affects performance only when data is retrieved from or inserted into an encrypted column. No reduction in performance occurs for operations involving unencrypted columns, even if these columns are in a table containing encrypted columns. Accessing data in encrypted columns involves small performance overhead, and the exact overhead you observe can vary.</p>
                     <p>The total performance overhead depends on the number of encrypted columns and their frequency of access. The columns most appropriate for encryption are those containing the most sensitive data.</p>
                     <p>Enabling encryption on an existing table results in a full table update like any other <code class="codeph">ALTER TABLE</code> operation that modifies table characteristics. Keep in mind the potential performance and redo log impact on the database server before enabling encryption on a large existing table.
                     </p>
                     <p>A table can temporarily become inaccessible for write operations while encryption is being enabled, <a href="glossary.html#GUID-78CFC3BC-9BDD-406E-A6E2-2374AC636269"><span class="xrefglossterm">TDE table key</span></a>s are being rekeyed, or the encryption algorithm is being changed. You can use online table redefinition to ensure that the table is available for write operations during such procedures. 
                     </p>
                     <p>If you enable TDE column encryption on a very large table, then you may need to increase the redo log size to accommodate the operation.</p>
                     <p>Encrypting an indexed column takes more time than encrypting a column without indexes. If you must encrypt a column that has an index built on it, you can try dropping the index, encrypting the column with <code class="codeph">NO SALT</code>, and then re-creating the index.
                     </p>
                     <p>If you index an encrypted column, then the index is created on the encrypted values. When you query for a value in the encrypted column, Oracle Database transparently encrypts the value used in the SQL query. It then performs an index lookup using the encrypted value. </p>
                     <div class="infoboxnote" id="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295__GUID-715968D0-7652-411E-94AD-A42AB225191D">
                        <p class="notep1">Note:</p>
                        <p>If you must perform range scans over indexed, encrypted columns, then use TDE tablespace encryption in place of TDE column encryption. </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295__GUID-B4D8DE68-23D0-4843-B996-1438FE7B8382">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-transparent-data-encryption.html#GUID-936CC3D2-8102-454C-AC49-D0126929D738" title="The external table feature enables you to access data in external sources as if the data were in a database table.">Creating an Encrypted Column in an External Table</a></p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-tables.html#ADMIN01514" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about redefining tables online
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" title="The performance of Transparent Data Encryption can vary.">Performance and Storage Overhead of Transparent Data Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG9551"></a><div class="props_rev_3"><a id="GUID-24F03ED5-D3E1-4868-879F-834A4440B94B" name="GUID-24F03ED5-D3E1-4868-879F-834A4440B94B"></a><h4 id="ASOAG-GUID-24F03ED5-D3E1-4868-879F-834A4440B94B" class="sect4">Storage Overhead of Transparent Data Encryption</h4>
                  <div>
                     <p>TDE tablespace encryption has no storage overhead, but TDE column encryption has some associated storage overhead. </p>
                     <p>Encrypted column data must have more storage space than <a href="glossary.html#GUID-268B0C3E-D1AD-482D-939C-A9A6522A8E8D"><span class="xrefglossterm">plaintext</span></a> data. In addition, TDE pads out encrypted values to multiples of 16 bytes. This means that if a credit card number requires nine bytes for storage, then an encrypted credit card value will require an additional seven bytes.
                     </p>
                     <p>Each encrypted value is also associated with a 20-byte integrity check. This does not apply if you have encrypted columns using the <code class="codeph">NOMAC</code> parameter. If data was encrypted with <a href="glossary.html#GUID-6803F75B-7883-4D0B-B1FF-0084AD65E001"><span class="xrefglossterm">salt</span></a>, then each encrypted value requires an additional 16 bytes of storage.
                     </p>
                     <p>The maximum storage overhead for each encrypted value is from one to 52 bytes.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="configuring-transparent-data-encryption.html#GUID-936CC3D2-8102-454C-AC49-D0126929D738" title="The external table feature enables you to access data in external sources as if the data were in a database table.">Creating an Encrypted Column in an External Table</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" title="The performance of Transparent Data Encryption can vary.">Performance and Storage Overhead of Transparent Data Encryption</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ASOAG10342"></a><div class="props_rev_3"><a id="GUID-401720E6-463B-4473-ACE8-AF1B6127821F" name="GUID-401720E6-463B-4473-ACE8-AF1B6127821F"></a><h3 id="ASOAG-GUID-401720E6-463B-4473-ACE8-AF1B6127821F" class="sect3">Modifying Your Applications for Use with Transparent Data Encryption</h3>
               <div>
                  <p>You can modify your applications to use Transparent Data Encryption.</p>
                  <div class="section">
                     <ol>
                        <li>
                           <p>Configure the software or hardware keystore for TDE, and then set the master encryption key. </p>
                           <p>See the following sections for more information:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-1FA85E9E-5666-4CF3-A3C7-1F8A9230B0C9" title="A software keystore is a container for the master encryption key, and it resides in the software file system.">Configuring a Software Keystore</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-753C4808-CC51-4DA1-A5C3-980417FDAB14" title="A hardware keystore resides in a hardware security module (HSM), which is designed to store encryption keys.">Configuring a Hardware Keystore</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Verify that the master encryption key was created by querying the <code class="codeph">KEY_ID</code> column of the <code class="codeph">V$ENCRYPTION_KEYS</code> view.
                           </p>
                        </li>
                        <li>
                           <p>Identify the sensitive columns (such as those containing credit card data) that require Transparent Data Encryption protection.</p>
                        </li>
                        <li>
                           <p>Decide whether to use TDE column encryption or TDE tablespace encryption. </p>
                           <p>See the following sections for more information: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="introduction-to-transparent-data-encryption.html#GUID-547EA215-9576-4C61-A414-3DA3287692A4" title="Transparent Data Encryption (TDE) column encryption protects confidential data, such as credit card and Social Security numbers, that is stored in table columns.">How Transparent Data Encryption Column Encryption Works</a></p>
                              </li>
                              <li>
                                 <p><a href="introduction-to-transparent-data-encryption.html#GUID-688B2CA5-EB00-4BEE-9486-9046670CCA70" title="Transparent Data Encryption (TDE) tablespace encryption enables you to encrypt an entire tablespace.">How Transparent Data Encryption Tablespace Encryption Works</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Open the keystore. </p>
                           <p>See the following sections for more information: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-37296947-18DB-4CFA-A112-794A55E942E2" title="Depending on the type of keystore you create, you must manually open the keystore before you can use it.">Step 3: Open the Software Keystore</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-4FBC5088-A045-4306-88C0-FEBC07CA18AC" title="After you have configured the hardware security module, you must open the hardware keystore before it can be used.">Step 3: Open the Hardware Keystore</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Encrypt the columns or tablespaces.</p>
                           <p>See the following sections for more information: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-A0E2C279-10F6-48D9-AB92-C547529C06EE" title="You can use Transparent Data Encryption to encrypt individual columns in database tables.">Encrypting Columns in Tables</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-1CA947A5-164A-4AA9-AD75-F7D9D4F6FFF8" title="You can perform encryption operations on both offline and online tablespaces and databases.">Encryption Conversions for Tablespaces and Databases</a></p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10467"></a><a id="ASOAG10408"></a><div class="props_rev_3"><a id="GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245" name="GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245"></a><h3 id="ASOAG-GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245" class="sect3">How ALTER SYSTEM and orapki Map to ADMINISTER KEY MANAGEMENT</h3>
               <div>
                  <p>Many of the clauses from the <code class="codeph">ALTER SYSTEM</code> statement correspond to the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> statement. 
                  </p>
                  <p><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245__CIHHJJCC" title="How ALTER SYSTEM Maps to ADMINISTER KEY MANAGEMENT">Table 7-1</a> compares the Transparent Data Encryption usage of the <code class="codeph">ALTER SYSTEM</code> statement and the <code class="codeph">orapki</code> utility from previous releases with the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> statement. 
                  </p>
                  <div class="tblformalwide" id="GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245__CIHHJJCC">
                     <p class="titleintable">Table 7-1 How ALTER SYSTEM and orapki Map to ADMINISTER KEY MANAGEMENT</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="How ALTER SYSTEM and orapki Map to ADMINISTER KEY MANAGEMENT" summary="How ALTER SYSTEM Maps to ADMINISTER KEY MANAGEMENT" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d45546e1303">Behavior&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                              <th align="left" valign="bottom" width="33%" id="d45546e1306">ALTER SYSTEM or orapki&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                              <th align="left" valign="bottom" width="45%" id="d45546e1309">ADMINISTER KEY MANAGEMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1314" headers="d45546e1303 ">
                                 <p>Creating a keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1314 d45546e1306 ">
                                 <p>For software keystores (called wallets in previous releases):</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY
["<span class="italic">certificate_ID</span>"] IDENTIFIED
BY <span class="italic">keystore_password</span>;</pre><p>For hardware keystores, the keystore is available after you configure the hardware security module.</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1314 d45546e1309 ">
                                 <p>For software keystores:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT CREATE KEYSTORE
'<span class="italic">keystore_location</span>' 
IDENTIFIED BY <span class="italic">software_keystore_password</span></pre><p>For hardware keystores, the keystore is available after you configure the hardware security module. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1343" headers="d45546e1303 ">
                                 <p>Creating an auto-login keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1343 d45546e1306 "><pre class="oac_no_warn" dir="ltr">orapki wallet create -wallet
<span class="italic">wallet_location</span> 
-auto_login [-pwd <span class="italic">password</span>]</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1343 d45546e1309 ">
                                 <p>For software keystores:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT CREATE [LOCAL]
AUTO_LOGIN KEYSTORE FROM KEYSTORE
'<span class="italic">keystore_location</span>' 
IDENTIFIED BY <span class="italic">software_keystore_password</span>;</pre><p>This type of keystore applies to software keystores only. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1369" headers="d45546e1303 ">
                                 <p>Opening a keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1369 d45546e1306 "><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION
WALLET OPEN IDENTIFIED BY
<span class="italic">password</span>;</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1369 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET KEYSTORE 
OPEN IDENTIFIED BY <span class="italic">keystore_password</span>
[CONTAINER = ALL | CURRENT];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1385" headers="d45546e1303 ">
                                 <p>Closing a keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1385 d45546e1306 "><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION
WALLET CLOSE IDENTIFIED BY
<span class="italic">password</span>;</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1385 d45546e1309 ">
                                 <p>For both software and hardware keystores:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET KEYSTORE 
CLOSE IDENTIFIED BY <span class="italic">keystore_password</span>
[CONTAINER = ALL | CURRENT];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1403" headers="d45546e1303 ">
                                 <p>Migrating from a hardware keystore to a software keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1403 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1403 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET ENCRYPTION
KEY IDENTIFIED BY
<span class="italic">software_keystore_password</span> 
REVERSE MIGRATE USING "<span class="italic">user_name</span>:<span class="italic">password</span>"
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1425" headers="d45546e1303 ">
                                 <p>Migrating from a software keystore to a hardware keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1425 d45546e1306 "><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY
IDENTIFIED BY
"<span class="italic">user_name</span>:<span class="italic">password</span>" MIGRATE
USING <span class="italic">wallet_password</span>;</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1425 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET ENCRYPTION
KEY IDENTIFIED BY "<span class="italic">user_name</span>:<span class="italic">password</span>"
MIGRATE USING <span class="italic">software_keystore_password</span>;</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1453" headers="d45546e1303 ">
                                 <p>Changing a keystore password</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1453 d45546e1306 "><pre class="oac_no_warn" dir="ltr">orapki wallet change_pwd
-wallet <span class="italic">wallet_location</span>
[-oldpwd <span class="italic">password</span> ] 
[-newpwd <span class="italic">password</span>]</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1453 d45546e1309 ">
                                 <p>For password-based software keystores:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT ALTER KEYSTORE
PASSWORD IDENTIFIED BY
<span class="italic">software_keystore_old_password</span> 
SET <span class="italic">software_keystore_new_password</span>
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>']];</pre><p>For hardware keystores, you close the keystore, change it in the hardware security module interface, and then reopen the keystore.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1485" headers="d45546e1303 ">
                                 <p>Backing up a password-based software keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1485 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1485 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT BACKUP KEYSTORE
[USING '<span class="italic">backup_identifier</span>'] IDENTIFIED BY
<span class="italic">software_keystore_password</span> 
[TO '<span class="italic">keystore_location</span>'];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1504" headers="d45546e1303 ">
                                 <p>Merging two software keystores into a third new keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1504 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1504 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT MERGE KEYSTORE
'<span class="italic">keystore1_location</span>' [IDENTIFIED BY
<span class="italic">software_keystore1_password</span>] 
AND KEYSTORE '<span class="italic">keystore2_location</span>'
[IDENTIFIED BY <span class="italic">software_keystore2_password</span>]
INTO NEW KEYSTORE '<span class="italic">keystore3_location</span>'
IDENTIFIED BY <span class="italic">software_keystore3_password</span>;</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1533" headers="d45546e1303 ">
                                 <p>Merging one software keystore into another existing keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1533 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1533 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT MERGE KEYSTORE
'<span class="italic">keystore1_location</span>' [IDENTIFIED BY
<span class="italic">software_keystore1_password</span>] 
INTO EXISTNG KEYSTORE '<span class="italic">keystore2_location</span>'
IDENTIFIED BY <span class="italic">software_keystore2_password</span>
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1558" headers="d45546e1303 ">
                                 <p>Setting or rekeying the master encryption key</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1558 d45546e1306 ">
                                 <p>For software wallets:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY
["<span class="italic">certificate_ID</span>"] IDENTIFIED
BY <span class="italic">keystore_password</span>;</pre><p>For hardware security modules:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY
IDENTIFIED BY "<span class="italic">user_name</span>:<span class="italic">password</span>"</pre><p><span class="bold">Note:</span> The <code class="codeph">ALTER SYSTEM SET ENCRYPTION KEY</code> statement does not update the <code class="codeph">V$ENCRYPTION_KEYS</code> dynamic view after you rekey the encryption key.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1558 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT 
SET ENCRYPTION KEY [USING TAG '<span class="italic">tag</span>']
IDENTIFIED BY <span class="italic">keystore_password</span> 
WITH BACKUP [USING '<span class="italic">backup_identifier</span>'] 
[CONTAINER = ALL | CURRENT];</pre><p>After you rekey the encryption key, the <code class="codeph">V$ENCRYPTION_KEYS</code> dynamic view is updated.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1611" headers="d45546e1303 ">
                                 <p>Creating a master encryption key for later user</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1611 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1611 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT CREATE KEY 
[USING TAG '<span class="italic">tag</span>'] 
IDENTIFIED BY <span class="italic">keystore_password</span> 
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>']]
[CONTAINER = (ALL|CURRENT)];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1630" headers="d45546e1303 ">
                                 <p>Activating a master encryption key</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1630 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1630 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT USE KEY
'<span class="italic">key_identifier</span>' [USING TAG '<span class="italic">tag</span>'] 
IDENTIFIED BY <span class="italic">keystore_password</span> 
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1652" headers="d45546e1303 ">
                                 <p>Creating custom tags for master encryption keys</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1652 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1652 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET TAG '<span class="italic">tag</span>' 
FOR '<span class="italic">master_key_identifier</span>' 
IDENTIFIED BY <span class="italic">keystore_password</span> 
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1674" headers="d45546e1303 ">
                                 <p>Exporting a master encryption key</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1674 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1674 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT 
EXPORT [ENCRYPTION] KEYS 
WITH SECRET "<span class="italic">export_secret</span>" 
TO '<span class="italic">file_path</span>' 
IDENTIFIED BY <span class="italic">software_keystore_password</span>
[WITH IDENTIFIER IN 
'<span class="italic">key_id1</span>', '<span class="italic">key_id2</span>', '<span class="italic">key_idn</span>' | 
(<span class="italic">SQL_query</span>)]</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1706" headers="d45546e1303 ">
                                 <p>Importing a master encryption key</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1706 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1706 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT 
IMPORT [ENCRYPTION] KEYS 
WITH SECRET "<span class="italic">import_secret</span>" |  
FROM '<span class="italic">file_name</span>' 
IDENTIFIED BY <span class="italic">software_keystore_password</span>
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1728" headers="d45546e1303 ">
                                 <p>Storing Oracle Database secrets in a keystore</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1728 d45546e1306 ">
                                 <p>Not available</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1728 d45546e1309 ">
                                 <p>For software keystores:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
ADD SECRET|UPDATE SECRET|DELETE SECRET
"<span class="italic">secret</span>" FOR CLIENT '<span class="italic">client_identifier</span>' 
[USING TAG'<span class="italic">tag</span>'] 
IDENTIFIED BY <span class="italic">keystore_password</span> 
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>'];
</pre><p>For hardware keystores:</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT
ADD SECRET|UPDATE SECRET|DELETE SECRET
"<span class="italic">secret</span>" FOR CLIENT '<span class="italic">client_identifier</span>' 
[USING TAG '<span class="italic">tag</span>'] 
IDENTIFIED BY "<span class="italic">user_name</span>:<span class="italic">password</span>" 
[WITH BACKUP [USING '<span class="italic">backup_identifier</span>'];</pre></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10447"></a><div class="props_rev_3"><a id="GUID-5600990E-F520-4F10-BF68-63756E595262" name="GUID-5600990E-F520-4F10-BF68-63756E595262"></a><h3 id="ASOAG-GUID-5600990E-F520-4F10-BF68-63756E595262" class="sect3">Using Transparent Data Encryption with PKI Encryption</h3>
               <div>
                  <p>PKI encryption is deprecated, but if you are still using it, then there are several issues you must consider.</p>
                  <div class="infoboxnote" id="GUID-5600990E-F520-4F10-BF68-63756E595262__GUID-F51266EE-499D-43D0-B1D0-C84E1E6E0796">
                     <p class="notep1">Note:</p>
                     <p>The use of PKI encryption with Transparent Data Encryption is deprecated. To configure Transparent Data Encryption, use the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL statement.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489">Software Master Encryption Key Use with PKI Key Pairs</a><br>A master encryption key can be an existing key pair from a PKI certificate designated for encryption. 
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7">TDE Tablespace and Hardware Keystores with PKI Encryption</a><br>PKI encryption is a cryptographic system that uses two keys, a public key and a private key, to encrypt data. 
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-72A07686-B782-40E3-99A6-9EF8E885EE87">Backup and Recovery of a PKI Key Pair</a><br>For software keystores, Transparent Data Encryption supports the use of PKI asymmetric key pairs as master encryption keys for column encryption. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10448"></a><div class="props_rev_3"><a id="GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489" name="GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489"></a><h4 id="ASOAG-GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489" class="sect4">Software Master Encryption Key Use with PKI Key Pairs</h4>
                  <div>
                     <p>A master encryption key can be an existing key pair from a PKI certificate designated for encryption. </p>
                     <p>Note the following: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If you have already deployed PKI in your organization, then you can use PKI services such as key escrow and recovery. However, encryption using current PKI algorithms requires significantly more system resources than symmetric key encryption. Using a PKI key pair as a master encryption key may result in greater performance degradation when accessing encrypted columns in the database.</p>
                        </li>
                        <li>
                           <p>For PKI-based keys, certificate revocation lists are not enforced because enforcing certificate revocation may lead to losing access to all of the encrypted information in the database. However, you cannot use the same certificate to create the master encryption key again.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262" title="PKI encryption is deprecated, but if you are still using it, then there are several issues you must consider.">Using Transparent Data Encryption with PKI Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10449"></a><div class="props_rev_3"><a id="GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7" name="GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7"></a><h4 id="ASOAG-GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7" class="sect4">TDE Tablespace and Hardware Keystores with PKI Encryption</h4>
                  <div>
                     <p>PKI encryption is a cryptographic system that uses two keys, a public key and a private key, to encrypt data. </p>
                     <p></p>
                     <p>You cannot use PKI-based encryption with TDE tablespace encryption or with hardware keystores. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262" title="PKI encryption is deprecated, but if you are still using it, then there are several issues you must consider.">Using Transparent Data Encryption with PKI Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG9547"></a><div class="props_rev_3"><a id="GUID-72A07686-B782-40E3-99A6-9EF8E885EE87" name="GUID-72A07686-B782-40E3-99A6-9EF8E885EE87"></a><h4 id="ASOAG-GUID-72A07686-B782-40E3-99A6-9EF8E885EE87" class="sect4">Backup and Recovery of a PKI Key Pair</h4>
                  <div>
                     <p>For software keystores, Transparent Data Encryption supports the use of PKI asymmetric key pairs as master encryption keys for column encryption. </p>
                     <p>This enables the database to use existing key backup, escrow, and recovery facilities from leading certificate authority vendors. </p>
                     <p>In current key escrow or recovery systems, the certificate authority with key recovery capabilities typically stores a version of the private key, or a piece of information that helps recover the private key. If the private key is lost, then you can recover the original key and certificate by contacting the certificate authority and initiating a key recovery process.</p>
                     <p>Typically, the key recovery process is automated and requires the user to present certain authenticating credentials to the certificate authority. TDE puts no restrictions on the key recovery process other than that the recovered key and its associated certificate be a PKCS#12 file that can be imported into an keystore. This requirement is consistent with the key recovery mechanisms of leading certificate authorities.</p>
                     <p>After obtaining the PKCS#12 file with the original certificate and private key, you must create an empty keystore in the same location as the previous keystore. You can then import the PKCS#12 file into the new keystore by using the same utility. Choose a strong password to protect the keystore.</p>
                     <p>After you use the <code class="codeph">ADMINISTER KEY MANAGEMENT</code> statements to create the keystore and import the correct encryption keys, log in to the database and run the following <code class="codeph">ALTER SYSTEM</code> statement at the SQL prompt to complete the recovery process:
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY "<span class="italic">cert_id</span>" IDENTIFIED BY <span class="italic">keystore_password</span>;
</pre><p>In this specification:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><code class="codeph">cert_id</code></span> is the certificate ID of the certificate to be used as the master encryption key.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">keystore_password</code></span> is a password that you create. 
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-72A07686-B782-40E3-99A6-9EF8E885EE87__GUID-EEB13062-BFCE-4E8D-9502-1E53CB8BD64D">
                        <p class="notep1">Note:</p>
                        <p>You must use the <code class="codeph">ALTER SYSTEM</code> statement to regenerate encryption keys for PKI key pairs only. This restriction does not apply to non-PKI encryption keys.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262" title="PKI encryption is deprecated, but if you are still using it, then there are several issues you must consider.">Using Transparent Data Encryption with PKI Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-A29FA261-ECDB-4B99-A864-8FFD95568813" name="GUID-A29FA261-ECDB-4B99-A864-8FFD95568813"></a><h3 id="ASOAG-GUID-A29FA261-ECDB-4B99-A864-8FFD95568813" class="sect3">Data Loads from External Files to Tables with Encrypted Columns</h3>
               <div>
                  <p>You can use SQL*Loader to perform data loads from files to tables that have encrypted columns.</p>
                  <p>Be aware that with SQL*Loader, you cannot include the <code class="codeph">ENCRYPT</code> clause in the column definition of an external table of the type <code class="codeph">ORACLE_LOADER</code>, but you can include it in the column definitions of external tables of type <code class="codeph">ORACLE_DATAPUMP</code>.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>External tables of type <code class="codeph">ORACLE_LOADER</code></p>
                        <p>The reason that you cannot include the <code class="codeph">ENCRYPT</code> clause in the column definitions of external tables of the type <code class="codeph">ORACLE_LOADER</code> is because the contents of an external table with the <code class="codeph">ORACLE_LOADER</code> type must come from a user-specified plaintext "backing file," and such plaintext files cannot contain any TDE encrypted data.
                        </p>
                        <p>If you use the <code class="codeph">ENCRYPT</code> clause in the definition of an external  table of type <code class="codeph">ORACLE_LOADER</code>, then when you query the TDE-encrypted column in this external table, the query fails. This is because TDE expects the external  data to have been encrypted, and automatically tries to decrypt it on  load. This action fails because the "backing file" only contains plaintext.
                        </p>
                     </li>
                     <li>
                        <p>External tables of type <code class="codeph">ORACLE_DATAPUMP</code></p>
                        <p>You can use TDE column encryption with external tables of type <code class="codeph">ORACLE_DATAPUMP</code>.  This is because for external tables of <code class="codeph">ORACLE_DATAPUMP</code> type, the "backing file" is always created by Oracle Database(during an unload operation) and thus does have support  for being populated with encrypted data.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-A637AB50-2A54-4248-8DC2-F50729C38B97" name="GUID-A637AB50-2A54-4248-8DC2-F50729C38B97"></a><h3 id="ASOAG-GUID-A637AB50-2A54-4248-8DC2-F50729C38B97" class="sect3">Transparent Data Encryption and Database Close Operations</h3>
               <div>
                  <p>You should ensure that the software or hardware keystore is open before you close the database.</p>
                  <p>The master encryption keys may be required during the database close operation. The database close operation automatically closes the software or hardware keystore.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="configuring-transparent-data-encryption.html#GUID-37296947-18DB-4CFA-A112-794A55E942E2" title="Depending on the type of keystore you create, you must manually open the keystore before you can use it.">Step 3: Open the Software Keystore</a></li>
                        <li><a href="configuring-transparent-data-encryption.html#GUID-4FBC5088-A045-4306-88C0-FEBC07CA18AC" title="After you have configured the hardware security module, you must open the hardware keystore before it can be used.">Step 3: Open the Hardware Keystore</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads.">General Considerations of Using&nbsp;Transparent&nbsp;Data Encryption</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03808.optimizing-queries-with-join-groups.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">
      <meta name="description" content="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">
      <title>Optimizing Joins with Join Groups</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database In-Memory Guide">
      <meta property="og:description" content="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database In-Memory Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00">
      <meta name="dcterms.title" content="Database In-Memory Guide">
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96137-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="optimizing-in-memory-expressions.html" title="Previous" type="text/html">
      <link rel="next" href="optimizing-in-memory-aggregation.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="optimizing-in-memory-expressions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="optimizing-in-memory-aggregation.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database In-Memory Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-optimizations-for-in-memory-queries.html" property="item" typeof="WebPage"><span property="name">Optimizing In-Memory Queries</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Optimizing Joins with Join Groups</li>
            </ol>
            <a id="GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" name="GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797"></a>
            
            <h2 id="INMEM-GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" class="sect2"><span class="enumeration_chapter">8 </span>Optimizing Joins with Join Groups
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>A <strong class="term">join group</strong> is a user-created dictionary object that lists one or more columns that can be meaningfully joined. 
               </p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-5FC74CA4-FD3E-4A17-A40D-9EE4EC61F355">About In-Memory Joins</a><br>Joins are an integral part of data warehousing workloads. The IM column store enhances the performance of joins when the tables being joined are stored in memory.
                  </li>
                  <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-DC6B8DF7-C959-443F-B7D9-06ECA84BCD55">About Join Groups</a><br>When the IM column store is enabled, the database can use join groups to optimize joins of tables populated in the IM column store.
                  </li>
                  <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-5322DCBB-EC1A-435F-A552-C71A8879DE5B">Purpose of Join Groups</a><br>In certain queries, join groups eliminate the performance overhead of decompressing and hashing column values.
                  </li>
                  <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-7972FD49-0418-4196-9069-A4F44D16A9F1">How Join Groups Work</a><br>In a join group, the database compresses all columns in the join group using the same common dictionary.
                  </li>
                  <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-B09C155D-FE48-408F-AD69-5EAD85372E64">When a Hash Join Uses Common Dictionary Encodings</a><br>Joins on columns in a join group typically see a performance benefit.
                  </li>
                  <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74">Creating Join Groups</a><br>Define join groups using the <code class="codeph">CREATE INMEMORY JOIN GROUP</code> statement. 
                  </li>
                  <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1">Monitoring Join Group Usage</a><br>To determine whether queries are using the join group, you can use either a graphical SQL Monitor report (recommended) or a SQL query that uses the <code class="codeph">DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML</code> function.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="advanced-optimizations-for-in-memory-queries.html#GUID-33034151-7BD7-4186-B336-C693FBB27634" title="This Part explains how to optimize queries using In-Memory Expressions, join groups, and In-Memory aggregation. It also explains how the IM column store repopulates modified data.">Optimizing In-Memory Queries</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-5FC74CA4-FD3E-4A17-A40D-9EE4EC61F355" name="GUID-5FC74CA4-FD3E-4A17-A40D-9EE4EC61F355"></a><h3 id="INMEM-GUID-5FC74CA4-FD3E-4A17-A40D-9EE4EC61F355" class="sect3"><span class="enumeration_section">8.1 </span>About In-Memory Joins
               </h3>
               <div>
                  <p>Joins are an integral part of data warehousing workloads. The IM column store enhances the performance of joins when the tables being joined are stored in memory.</p>
                  <p>Because of faster scan and join processing, complex multitable joins and simple joins that use Bloom filters benefit from the IM column store. In a data warehousing environment, the most frequently-used joins involved a fact table and one or more dimension tables.</p>
                  <p>The following joins run faster when the tables are populated in the IM column store:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Joins that are amenable to using Bloom filters</p>
                     </li>
                     <li>
                        <p>Joins of multiple small dimension tables with one fact table</p>
                     </li>
                     <li>
                        <p>Joins between two tables that have a primary key-foreign key relationship</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" title="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">Optimizing Joins with Join Groups</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-DC6B8DF7-C959-443F-B7D9-06ECA84BCD55" name="GUID-DC6B8DF7-C959-443F-B7D9-06ECA84BCD55"></a><h3 id="INMEM-GUID-DC6B8DF7-C959-443F-B7D9-06ECA84BCD55" class="sect3"><span class="enumeration_section">8.2 </span>About Join Groups
               </h3>
               <div>
                  <p>When the IM column store is enabled, the database can use join groups to optimize joins of tables populated in the IM column store.</p>
                  <p>A join group is a set of columns on which a set of tables is frequently joined. The column set contains one or more columns, with a maximum of 255 columns. The table set includes one or more internal tables. External tables are not supported.</p>
                  <p>The columns in the join group can be in the same or different tables. For example, if the <code class="codeph">sales</code> and <code class="codeph">times</code> tables frequently join on the <code class="codeph">time_id</code> column, then you might create a join group for <code class="codeph">(times(time_id), sales(time_id))</code>. If the <code class="codeph">employees</code> table often joins to itself on the <code class="codeph">employee_id</code> column, then a join group could be <code class="codeph">(employees(employee_id))</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-DC6B8DF7-C959-443F-B7D9-06ECA84BCD55__GUID-A998E38C-24D3-4007-A36F-4F8A9E30BF3D">
                     <p class="notep1">Note:</p>
                     <p>The same column cannot be a member of multiple join groups.</p>
                  </div>
                  <p>When you create a join group, the database invalidates the current In-Memory contents of the tables referenced in the join group. Subsequent <a href="glossary.html#GUID-9168517C-C8A2-4433-946A-037631B840E2"><span class="xrefglossterm">repopulation</span></a> causes the database to re-encode the IMCUs of the tables with the <a href="glossary.html#GUID-D04AB5B8-A58B-4494-A54F-09CEBC113460"><span class="xrefglossterm">common dictionary</span></a>. For this reason, Oracle recommends that you first create the join group, and then populate the tables.
                  </p>
                  <p>Create join groups using the <code class="codeph">CREATE INMEMORY JOIN GROUP</code> statement. To add columns to or drop columns from a join group, use an <code class="codeph">ALTER INMEMORY JOIN GROUP</code> statement. Drop a join group using the <code class="codeph">DROP INMEMORY JOIN GROUP</code> statement.
                  </p>
                  <div class="infoboxnote" id="GUID-DC6B8DF7-C959-443F-B7D9-06ECA84BCD55__GUID-1126C22A-11D9-4682-96EB-3EC4AF8CB094">
                     <p class="notep1">Note:</p>
                     <p>In <span>Oracle Active Data Guard</span>, a standby database ignores join group definitions. A standby database does not use common dictionaries, and executes queries as if join groups did not exist.
                     </p>
                  </div>
                  <div class="example" id="GUID-DC6B8DF7-C959-443F-B7D9-06ECA84BCD55__GUID-B3380351-7EC3-44A4-B197-53787C717631">
                     <p class="titleinexample">Example 8-1 Creating a Join Group</p>
                     <p>This example creates a join group named <code class="codeph">deptid_jg</code> that includes the <code class="codeph">department_id</code> column in the <code class="codeph">hr.employees</code> and <code class="codeph">hr.departments</code> tables.
                     </p><pre class="pre codeblock"><code>CREATE INMEMORY JOIN GROUP deptid_jg (hr.employees(department_id),hr.departments(department_id));</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" title="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">Optimizing Joins with Join Groups</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-5322DCBB-EC1A-435F-A552-C71A8879DE5B" name="GUID-5322DCBB-EC1A-435F-A552-C71A8879DE5B"></a><h3 id="INMEM-GUID-5322DCBB-EC1A-435F-A552-C71A8879DE5B" class="sect3"><span class="enumeration_section">8.3 </span>Purpose of Join Groups
               </h3>
               <div>
                  <p>In certain queries, join groups eliminate the performance overhead of decompressing and hashing column values.</p>
                  <p>Without join groups, if the optimizer uses a hash join but cannot use a Bloom filter, or if the Bloom filter does not filter rows effectively, then the database must decompress IMCUs and use an expensive hash join. To illustrate the problem, assume a star schema has a <code class="codeph">sales</code> fact table and a <code class="codeph">vehicles</code> dimension table. The following query joins these tables, but does not filter the output, which means that the database cannot use a Bloom filter:
                  </p><pre class="pre codeblock"><code>SELECT v.year, v.name, s.sales_price
FROM   vehicles v, sales s
WHERE  v.name = s.name;</code></pre><p>The following figure illustrates how the database joins the two data sets.</p>
                  <div class="figure" id="GUID-5322DCBB-EC1A-435F-A552-C71A8879DE5B__GUID-F6A22D09-F119-45D9-BBDE-1E9E34631E75">
                     <p class="titleinfigure">Figure 8-1 Hash Join without Join Group</p><img src="img/inmem_3v_004.png" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/inmem_3v_004.html"><br><a href="img_text/inmem_3v_004.html">Description of "Figure 8-1 Hash Join without Join Group"</a></div>
                  <!-- class="figure" -->
                  <p>The database performs a hash join as follows:</p>
                  <ol>
                     <li>
                        <p>Scans the <code class="codeph">vehicles</code> table, decompresses the rows that satisfy the predicate (in this case, all rows satisfy the predicate because no filters exist), and sends the rows to the hash join
                        </p>
                     </li>
                     <li>
                        <p>Builds a hash table in the PGA based on the decompressed rows</p>
                     </li>
                     <li>
                        <p>Scans the <code class="codeph">sales</code> table and applies any filters (in this case, the query does not specify filters)
                        </p>
                     </li>
                     <li>
                        <p>Processes matching rows from the IMCUs and then sends the rows to the join</p>
                        <p>When the hash join can consume row sets from the probe side (in this case, the <code class="codeph">sales</code> table), the row sets sent by the table scan are in compressed form. Depending on whether the local dictionary or join group is leveraged to find matching rows from the build side, the hash join either decompresses the rows or leaves them uncompressed.
                        </p>
                     </li>
                     <li>
                        <p>Probes the hash table using the join column, which in this case is the vehicle name</p>
                     </li>
                  </ol>
                  <p>If a join group exists on the <code class="codeph">v.name</code> and <code class="codeph">s.name</code> columns, then the database can make the preceding steps more efficient, eliminating the decompression and filtering overhead. The benefits of join groups are:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The database operates on compressed data.</p>
                     </li>
                     <li>
                        <p>The database avoids hashing on the join key and probing the hash table, which requires comparing the join keys of the probe rows and hashed rows.</p>
                        <p>When a join group exists, the database stores codes for each join column value in a <a href="glossary.html#GUID-D04AB5B8-A58B-4494-A54F-09CEBC113460"><span class="xrefglossterm">common dictionary</span></a>. The database builds a join group array using dictionary codes. Every array element points to a build-side row stored in the hash area (typically, PGA memory). During the probe, each probe row has a code associated with the join key. The database uses this code to search the array to determine whether a pointer exists in the array element. If a pointer exists, then there is a match; otherwise, there is no match.
                        </p>
                     </li>
                     <li>
                        <p>The dictionary codes are dense and have a fixed length, which makes them space efficient.</p>
                     </li>
                     <li>
                        <p>Optimizing a query with a join group is sometimes possible when it is not possible to use a Bloom filter.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" title="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">Optimizing Joins with Join Groups</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-7972FD49-0418-4196-9069-A4F44D16A9F1" name="GUID-7972FD49-0418-4196-9069-A4F44D16A9F1"></a><h3 id="INMEM-GUID-7972FD49-0418-4196-9069-A4F44D16A9F1" class="sect3"><span class="enumeration_section">8.4 </span>How Join Groups Work
               </h3>
               <div>
                  <p>In a join group, the database compresses all columns in the join group using the same common dictionary.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-88A573DD-99D3-48D7-8310-B46F70184793">How a Join Group Uses a Common Dictionary</a><br>A <strong class="term">common dictionary</strong> is a table-level, instance-specific set of dictionary codes.
                     </li>
                     <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-94A4125F-E7DA-4462-8F8D-65AB8CB2BB63">How a Join Group Optimizes Scans</a><br>The key optimization is joining on common dictionary codes instead of column values, thereby avoiding the use of a hash table for the join.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" title="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">Optimizing Joins with Join Groups</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-88A573DD-99D3-48D7-8310-B46F70184793" name="GUID-88A573DD-99D3-48D7-8310-B46F70184793"></a><h4 id="INMEM-GUID-88A573DD-99D3-48D7-8310-B46F70184793" class="sect4"><span class="enumeration_section">8.4.1 </span>How a Join Group Uses a Common Dictionary
                  </h4>
                  <div>
                     <p>A <strong class="term">common dictionary</strong> is a table-level, instance-specific set of dictionary codes.
                     </p>
                     <p>The database automatically creates a common dictionary in the IM column store when a join group is defined on the underlying columns. The common dictionary enables the join columns to share the same dictionary codes.</p>
                     <p>A common dictionary provides the following benefits:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Encodes the values in the local dictionaries with codes from the common dictionary, which provides compression and increases the cache efficiency of the IMCU</p>
                        </li>
                        <li>
                           <p>Enables joins to use dictionary codes to construct and probe the data structures used during hash joins</p>
                        </li>
                        <li>
                           <p>Enables the optimizer to obtain statistics such as cardinality, distribution of column values, and so on</p>
                        </li>
                     </ul>
                     <p>The following figure illustrates a common dictionary that corresponds to a join group created on the <code class="codeph">sales.name</code> and <code class="codeph">vehicles.name</code> columns. 
                     </p>
                     <div class="figure" id="GUID-88A573DD-99D3-48D7-8310-B46F70184793__GUID-EDFD9FE8-3916-46BF-9F9D-227869F4B166">
                        <p class="titleinfigure">Figure 8-2 Common Dictionary for a Join Group</p><img src="img/inmem_pb_001a.png" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows" longdesc="img_text/inmem_pb_001a.html"><br><a href="img_text/inmem_pb_001a.html">Description of "Figure 8-2 Common Dictionary for a Join Group"</a></div>
                     <!-- class="figure" -->
                     <p>When the database uses a common dictionary, the local dictionary for each CU does not store the original values: <code class="codeph">AUDI</code>, <code class="codeph">BMW</code>, <code class="codeph">CADILLAC</code>, <code class="codeph">FORD</code>, and so on. Instead, the local dictionary stores <span class="italic">references</span> to the values stored in the common dictionary. For example, the <span class="italic">local</span> dictionary might store the value <code class="codeph">101</code> for <code class="codeph">Audi</code> and <code class="codeph">220</code> for <code class="codeph">BMW</code>. The <span class="italic">common</span> dictionary might store the value <code class="codeph">0</code> for <code class="codeph">Audi</code> and <code class="codeph">1</code> for <code class="codeph">BMW</code>. The <code class="codeph">101</code> (AUDI) in the local dictionary is a pointer to the <code class="codeph">0</code> (AUDI) in the common dictionary.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-7972FD49-0418-4196-9069-A4F44D16A9F1" title="In a join group, the database compresses all columns in the join group using the same common dictionary.">How Join Groups Work</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-94A4125F-E7DA-4462-8F8D-65AB8CB2BB63" name="GUID-94A4125F-E7DA-4462-8F8D-65AB8CB2BB63"></a><h4 id="INMEM-GUID-94A4125F-E7DA-4462-8F8D-65AB8CB2BB63" class="sect4"><span class="enumeration_section">8.4.2 </span>How a Join Group Optimizes Scans
                  </h4>
                  <div>
                     <p>The key optimization is joining on common dictionary codes instead of column values, thereby avoiding the use of a hash table for the join.</p>
                     <p>Consider the following query, which uses a join group to join <code class="codeph">vehicles</code> and <code class="codeph">sales</code> on the <code class="codeph">name</code> column:
                     </p><pre class="pre codeblock"><code>SELECT v.year, v.name, s.sales_price
FROM   vehicles v, sales s
WHERE  v.name = s.name
AND    v.name IN ('Audi', 'BMW', 'Porsche', 'VW');</code></pre><p>The following figure illustrates how the join benefits from the common dictionary created on the join group.</p>
                     <div class="figure" id="GUID-94A4125F-E7DA-4462-8F8D-65AB8CB2BB63__GUID-F6A22D09-F119-45D9-BBDE-1E9E34631E75">
                        <p class="titleinfigure">Figure 8-3 Hash Join with Join Group</p><img src="img/inmem_3v_005.png" alt="Description of Figure 8-3 follows" title="Description of Figure 8-3 follows" longdesc="img_text/inmem_3v_005.html"><br><a href="img_text/inmem_3v_005.html">Description of "Figure 8-3 Hash Join with Join Group"</a></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-94A4125F-E7DA-4462-8F8D-65AB8CB2BB63__GUID-62904BC2-650D-4E6C-A559-4182D2B7E5DE"></div>
                     <!-- class="figure" -->
                     <p>As illustrated in the preceding diagram, the database performs a hash join on the compressed data as follows:</p>
                     <ol>
                        <li>
                           <p>Scans the <code class="codeph">vehicles</code> table, and sends the dictionary codes (not the original column values) to the hash join: <code class="codeph">0</code> (Audi), <code class="codeph">1</code> (BMW), <code class="codeph">2</code> (Cadillac), and so on
                           </p>
                        </li>
                        <li>
                           <p>Builds an array of distinct common dictionary codes in the PGA</p>
                        </li>
                        <li>
                           <p>Scans the <code class="codeph">sales</code> table and applies any filters (in this case, the filter is for German cars only)
                           </p>
                        </li>
                        <li>
                           <p>Sends matching rows to the join in compressed format</p>
                        </li>
                        <li>
                           <p>Looks up corresponding values in the array rather than probing a hash table, thus avoiding the need to compute a hash function on the join key columns</p>
                        </li>
                     </ol>
                     <p>In this example, the <code class="codeph">vehicles</code> table has only seven rows. The <code class="codeph">vehicles.name</code> column has the following values:
                     </p><pre class="pre codeblock"><code>Audi
BMW
Cadillac
Ford
Porsche
Tesla
VW</code></pre><p>The common dictionary assigns a dictionary code to each distinct value. Conceptually, the common dictionary looks as follows:</p><pre class="pre codeblock"><code>Audi     0
BMW      1
Cadillac 2
Ford     3
Porsche  4
Tesla    5
VW       6
</code></pre><p>The database scans <code class="codeph">vehicles.name</code>, starting at the first dictionary code in the first IMCU and ending at the last code in the last IMCU. It stores a <code class="codeph">1</code> for every row that matches the filter (German cars only), and <code class="codeph">0</code> for every row that does not match the filter. Conceptually, the array might look as follows:
                     </p><pre class="pre codeblock"><code>array[0]: 1
array[1]: 1
array[2]: 0
array[3]: 0
array[4]: 1
array[5]: 0
array[6]: 1</code></pre><p>The database now scans the <code class="codeph">sales</code> fact table. To simplify the example, assume that the <code class="codeph">sales</code> table only has 6 rows. The database scans the rows as follows (the common dictionary code for each value is shown in parentheses):
                     </p><pre class="pre codeblock"><code>Cadillac (2)
Cadillac (2)
BMW      (1)
Ford     (3)
Audi     (0)
Tesla    (5)</code></pre><p>The database then proceeds through the <code class="codeph">vehicles.name</code> array, looking for matches. If a row matches, then the database sends the matching row with its associated common dictionary code, and retrieves the corresponding column value from the <code class="codeph">vehicles.name</code> and <code class="codeph">sales.name</code> IMCUs:
                     </p><pre class="pre codeblock"><code>2  -&gt; array[2] is 0, so no join
2  -&gt; array[2] is 0, so no join
1  -&gt; array[1] is 1, so join
3  -&gt; array[3] is 0, so no join
0  -&gt; array[0] is 1, so join
5  -&gt; array[5] is 0, so no join</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-7972FD49-0418-4196-9069-A4F44D16A9F1" title="In a join group, the database compresses all columns in the join group using the same common dictionary.">How Join Groups Work</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-B09C155D-FE48-408F-AD69-5EAD85372E64" name="GUID-B09C155D-FE48-408F-AD69-5EAD85372E64"></a><h3 id="INMEM-GUID-B09C155D-FE48-408F-AD69-5EAD85372E64" class="sect3"><span class="enumeration_section">8.5 </span>When a Hash Join Uses Common Dictionary Encodings
               </h3>
               <div>
                  <p>Joins on columns in a join group typically see a performance benefit.</p>
                  <p>At join group creation, the database does the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Caches the hash of the dictionary values for the join key columns</p>
                     </li>
                     <li>
                        <p>Caches the binary representation of the <code class="codeph">NUMBER</code> data for the join key columns
                        </p>
                     </li>
                     <li>
                        <p>Encodes columns with the same common dictionary</p>
                     </li>
                  </ul>
                  <p>A join on columns in a join group <span class="italic">always</span> uses the first two optimizations to improve performance. For example, if the optimizer chooses a hash join, then the query uses the cached hash values to probe the bloom filter. If the query uses an IM aggregation join, then the query uses the cached binary number to index into the key vector.
                  </p>
                  <p>A hash join may or may not use dictionary encodings. When dictionary encodings are present in at least one column of the hash join, the query can leverage the encodings in the following ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Join group-aware hash join</p>
                        <p>Both columns in the hash join carry common dictionary encoding data during runtime. The execution plan must show either a parallel hash join plan without any distribution involved from <span class="italic">both</span> sides of the hash join, or a serial hash join plan.
                        </p>
                     </li>
                     <li>
                        <p>Encoding-aware hash join</p>
                        <p>One fact table column in the hash join carries dictionary encoding data during runtime. The execution plan must show either a parallel hash join without any distribution from the right side of the hash join, or a serial hash join plan. In some cases, if the common dictionary has good compression ratio, and if a parallel hash join plan cannot leverage a join group-aware hash join (for example, in a parallel broadcast-none plan), then the query can use an encoding-aware hash join for the common dictionary.</p>
                     </li>
                  </ul>
                  <p>In a SQL Monitor report, the following fields show dictionary usage: <code class="codeph">Columnar Encodings Observed</code>, and <code class="codeph">Columnar Encodings Leveraged</code>. The statistics are cumulative. In a parallel hash join, the fields summarize statistics collected from all slave processes involved in executing a row source. In the context of the local dictionary in an IMCU, the statistics show the number of encoding IDs observed from the right child row source and the number of encodings leveraged by the join. If a hash join on a single process leverages the common dictionary, then <code class="codeph">Columnar Encodings Leveraged</code> shows the number of encodings leveraged in the join.<code class="codeph"></code></p>
                  <p>The following table indicates the possible values for <code class="codeph">Columnar Encodings Observed</code> and <code class="codeph">Columnar Encodings Leveraged</code>, and what the combinations mean.
                  </p>
                  <div class="tblformal" id="GUID-B09C155D-FE48-408F-AD69-5EAD85372E64__GUID-33F19E11-C1EB-4FB3-8E8C-35C2A70FA52D">
                     <p class="titleintable">Table 8-1 Join Group Usage in a SQL Monitor Report</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Join Group Usage in a SQL Monitor Report" summary="This table describes when a hash join uses dictionary encodings" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d24838e1395">Columnar Encodings Observed</th>
                              <th align="left" valign="bottom" id="d24838e1397">Columnar Encodings Leveraged</th>
                              <th align="left" valign="bottom" id="d24838e1399">Encoding-Aware Hash Join Used?</th>
                              <th align="left" valign="bottom" id="d24838e1401">Join Group-Aware Hash Join Used?</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24838e1405" headers="d24838e1395 ">
                                 <p>Not present</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1405 d24838e1397 ">
                                 <p>Not present</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1405 d24838e1399 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1405 d24838e1401 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24838e1418" headers="d24838e1395 ">
                                 <p>Positive value</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1418 d24838e1397 ">
                                 <p>Not present</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1418 d24838e1399 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1418 d24838e1401 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24838e1431" headers="d24838e1395 ">
                                 <p>Positive value</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1431 d24838e1397 ">
                                 <p>Positive value</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1431 d24838e1399 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1431 d24838e1401 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d24838e1444" headers="d24838e1395 ">
                                 <p>Not present</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1444 d24838e1397 ">
                                 <p>Positive value</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1444 d24838e1399 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d24838e1444 d24838e1401 ">
                                 <p>Yes</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>For example, if the report shows that the <code class="codeph">Columnar Encodings Leveraged</code> field is <code class="codeph">4</code> (for example, because the parallel degree is 4) but the <code class="codeph">Columnar Encodings Observed</code> field is absent, then the query leveraged the join group for the hash join. If the <code class="codeph">Columnar Encodings Observed</code> field is <code class="codeph">4</code> but the <code class="codeph">Columnar Encodings Leveraged</code> field is absent, then dictionary encodings existed, but the query did not use them.
                  </p>
                  <p>Various factors can prevent a query from engaging an encoding-aware hash join. Factors include the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The compression ratio of the common dictionary is suboptimal.</p>
                     </li>
                     <li>
                        <p>The query observes too many row sets passed from the table scan without a common dictionary.</p>
                     </li>
                     <li>
                        <p>The build-side row length is too large.</p>
                     </li>
                     <li>
                        <p>The build-side rows cannot fit into PGA memory.</p>
                     </li>
                     <li>
                        <p>The build side has duplicate join keys.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-B09C155D-FE48-408F-AD69-5EAD85372E64__GUID-7FFF20F7-9A99-40A3-968F-284A2B25FBEC">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="optimizing-queries-with-join-groups.html#GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1" title="To determine whether queries are using the join group, you can use either a graphical SQL Monitor report (recommended) or a SQL query that uses the DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML function.">Monitoring Join Group Usage</a>"</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" title="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">Optimizing Joins with Join Groups</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74" name="GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74"></a><h3 id="INMEM-GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74" class="sect3"><span class="enumeration_section">8.6 </span>Creating Join Groups
               </h3>
               <div>
                  <p>Define join groups using the <code class="codeph">CREATE INMEMORY JOIN GROUP</code> statement. 
                  </p>
                  <div class="section">
                     <p>Candidates for join groups are columns that are frequently paired in a join predicate. Typical examples include a column joining a fact and dimension table, or a column joining a table to itself.</p>
                     <p>The <code class="codeph">CREATE INMEMORY JOIN GROUP</code> statement immediately defines a join group, which means that its metadata is visible in the data dictionary. The database does not immediately construct the common dictionary. Rather, the database builds the common dictionary the next time that a table referenced in the join group is populated or repopulated in the IM column store.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74__GUID-FD391BEF-F6C8-4F48-8C1F-CC77A158B6EE">Guidelines</p>
                     <p>Creating, modifying, or dropping a join group typically invalidates all the underlying tables referenced in the join group. Thus, Oracle recommends that you create join groups <span class="italic">before</span> initially populating the tables.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74__GUID-F9BF7619-09C1-4475-9F73-83AA019B4083">To create a join group:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus or SQL Developer, log in to the database as a user with the necessary privileges.</p>
                        </li>
                        <li>
                           <p>Create a join group by using a statement in the following form:</p><pre class="pre codeblock"><code>CREATE INMEMORY JOIN GROUP <span class="italic">join_group_name</span> ( <span class="italic">table1</span>(<span class="italic">col1</span>), <span class="italic">table2</span>(<span class="italic">col2</span>) );</code></pre><p>For example, the following statement creates a join group named <code class="codeph">sales_products_jg</code>:
                           </p><pre class="pre codeblock"><code>CREATE INMEMORY JOIN GROUP sales_products_jg (sales(prod_id), products(prod_id));</code></pre></li>
                        <li>
                           <p>Optionally, view the join group definition by querying the data dictionary (sample output included):</p><pre class="pre codeblock"><code>COL JOINGROUP_NAME FORMAT a18
COL TABLE_NAME FORMAT a8
COL COLUMN_NAME FORMAT a7

SELECT JOINGROUP_NAME, TABLE_NAME, COLUMN_NAME, GD_ADDRESS 
FROM   DBA_JOINGROUPS;

JOINGROUP_NAME     TABLE_NA COLUMN_ GD_ADDRESS
------------------ -------- ------- ----------------
SALES_PRODUCTS_JG  SALES    PROD_ID 00000000A142AE50
SALES_PRODUCTS_JG  PRODUCTS PROD_ID 00000000A142AE50</code></pre></li>
                        <li>
                           <p>Populate the tables referenced in the join group, or repopulate them if they are currently populated.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74__GUID-433C0743-8571-4517-AB19-5F33402BCDAA">
                     <p class="titleinexample">Example 8-2 Optimizing a Query Using a Join Group</p>
                     <p>In this example,  you log in to the database as <code class="codeph">SYSTEM</code>, and then create a join group on the <code class="codeph">prod_id</code> column of <code class="codeph">sales</code> and <code class="codeph">products</code>, which are not yet populated in the IM column store:
                     </p><pre class="pre codeblock"><code>CREATE INMEMORY JOIN GROUP 
  sh.sales_products_jg (sh.sales(prod_id), sh.products(prod_id));
</code></pre><p>You enable the <code class="codeph">sh.sales</code> and <code class="codeph">sh.products</code> tables for population in the IM column store:
                     </p><pre class="pre codeblock"><code>ALTER TABLE sh.sales INMEMORY;
ALTER TABLE sh.products INMEMORY;</code></pre><p>The following query indicates the tables are not yet populated in the IM column store (sample output included):</p><pre class="pre codeblock"><code>COL OWNER FORMAT a3
COL NAME FORMAT a10
COL STATUS FORMAT a20

SELECT OWNER, SEGMENT_NAME NAME,
       POPULATE_STATUS STATUS
FROM   V$IM_SEGMENTS;

no rows selected</code></pre><p>Query both tables to populate them in the IM column store:</p><pre class="pre codeblock"><code>SELECT /*+ FULL(s) NO_PARALLEL(s) */ COUNT(*) FROM sh.sales s;
SELECT /*+ FULL(p) NO_PARALLEL(p) */ COUNT(*) FROM sh.products p;
</code></pre><p>The following query indicates the tables are now populated in the IM column store (sample output included):</p><pre class="pre codeblock"><code>COL OWNER FORMAT a3
COL NAME FORMAT a10
COL PARTITION FORMAT a13
COL STATUS FORMAT a20

SELECT OWNER, SEGMENT_NAME NAME, PARTITION_NAME PARTITION,
       POPULATE_STATUS STATUS, BYTES_NOT_POPULATED
FROM   V$IM_SEGMENTS;

OWN NAME       PARTITION     STATUS               BYTES_NOT_POPULATED
--- ---------- ------------- -------------------- -------------------
SH  SALES      SALES_Q3_1998 COMPLETED            0
SH  SALES      SALES_Q4_2001 COMPLETED            0
SH  SALES      SALES_Q4_1999 COMPLETED            0
SH  PRODUCTS                 COMPLETED            0
SH  SALES      SALES_Q1_2001 COMPLETED            0
SH  SALES      SALES_Q1_1999 COMPLETED            0
SH  SALES      SALES_Q2_2000 COMPLETED            0
SH  SALES      SALES_Q2_1998 COMPLETED            0
SH  SALES      SALES_Q3_2001 COMPLETED            0
SH  SALES      SALES_Q3_1999 COMPLETED            0
SH  SALES      SALES_Q4_2000 COMPLETED            0
SH  SALES      SALES_Q4_1998 COMPLETED            0
SH  SALES      SALES_Q1_2000 COMPLETED            0
SH  SALES      SALES_Q1_1998 COMPLETED            0
SH  SALES      SALES_Q2_2001 COMPLETED            0
SH  SALES      SALES_Q2_1999 COMPLETED            0
SH  SALES      SALES_Q3_2000 COMPLETED            0
</code></pre><p>Query <code class="codeph">DBA_JOINGROUPS</code> to get information about the join group (sample output included):
                     </p><pre class="pre codeblock"><code>COL JOINGROUP_NAME FORMAT a18
COL TABLE_NAME FORMAT a8
COL COLUMN_NAME FORMAT a7

SELECT JOINGROUP_NAME, TABLE_NAME, COLUMN_NAME, GD_ADDRESS 
FROM   DBA_JOINGROUPS;

JOINGROUP_NAME     TABLE_NA COLUMN_ GD_ADDRESS
------------------ -------- ------- ----------------
SALES_PRODUCTS_JG  SALES    PROD_ID 00000000A142AE50
SALES_PRODUCTS_JG  PRODUCTS PROD_ID 00000000A142AE50
</code></pre><p>The preceding output shows that the join group <code class="codeph">sales_products_jg</code> joins on the same common dictionary address.
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-67D6F161-BEAD-495F-94C1-86D47B8A8E74__GUID-7612DCEE-ACBA-4551-8203-B86FFE6734BF">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sqlrf/CREATE-INMEMORY-JOIN-GROUP.html#SQLRF-GUID-87CA7034-4F80-4D46-8EE1-5CC865C2D676" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about the <code class="codeph">CREATE INMEMORY JOIN GROUP</code> statement
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/DBA_JOINGROUPS.html#GUID-285814BC-3BE0-47DA-8832-779229D5A93A" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">DBA_JOINGROUPS</code> view
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" title="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">Optimizing Joins with Join Groups</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1" name="GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1"></a><h3 id="INMEM-GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1" class="sect3"><span class="enumeration_section">8.7 </span>Monitoring Join Group Usage
               </h3>
               <div>
                  <p>To determine whether queries are using the join group, you can use either a graphical SQL Monitor report (recommended) or a SQL query that uses the <code class="codeph">DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML</code> function.
                  </p>
                  <div class="section">
                     <p><span class="q">"<a href="optimizing-queries-with-join-groups.html#GUID-B09C155D-FE48-408F-AD69-5EAD85372E64" title="Joins on columns in a join group typically see a performance benefit.">When a Hash Join Uses Common Dictionary Encodings</a>"</span> explains how to interpret the SQL Monitor output.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1__GUID-6F09B066-9BAC-4AAA-92CB-4B7D7D240221">Prerequisites</p>
                     <p>To monitor join groups, you must meet the following prerequisites:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A join group must exist.</p>
                        </li>
                        <li>
                           <p>The columns referenced by the join group must have been populated <span class="italic">after</span> join group creation.
                           </p>
                        </li>
                        <li>
                           <p>You must execute a join query that could potentially use the join group.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1__GUID-6D62F80B-334C-4684-99D9-028A3CD859BD">To monitor join group usage:</p>
                     <ol>
                        <li>
                           <p>Log in to the database as a user with the necessary privileges.</p>
                        </li>
                        <li>
                           <p>Create a SQL*Plus variable to store the SQL ID as follows:</p><pre class="pre codeblock"><code>VAR b_sqlid VARCHAR2(13)</code></pre></li>
                        <li>
                           <p>Execute a query that joins on the columns in the join group.</p>
                        </li>
                        <li>
                           <p>Use either following techniques:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Graphical SQL Monitor Report</p>
                                 <p>SQL Monitor reports are available in Enterprise Manager. In SQL*Plus, you can use <code class="codeph">DBMS_SQL_MONITOR.REPORT_SQL_MONITOR</code> to generate a SQL Monitor report as follows:
                                 </p><pre class="pre codeblock"><code>SET TRIMSPOOL ON
SET TRIM ON
SET PAGES 0
SET LINESIZE 1000
SET LONG 1000000
SET LONGCHUNKSIZE 1000000
SPOOL /tmp/long_sql.htm
SELECT DBMS_SQL_MONITOR.REPORT_SQL_MONITOR(
         sql_id       =&gt; :<span class="bold">b_sqlid</span>, 
         report_level =&gt; 'ALL', 
         TYPE         =&gt; 'active') 
FROM   DUAL;
SPOOL OFF</code></pre><p>Access the report in a browser, and then click the binoculars icon on the hash join to view the join group statistics.</p>
                              </li>
                              <li>
                                 <p>Command-Line Query</p>
                                 <p>Use the <code class="codeph">DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML</code> function in a query, as shown in the following example:
                                 </p><pre class="pre codeblock"><code>SELECT
  encoding_hj.rowsource_id row_source_id,
    CASE
      WHEN encoding_hj.encodings_observed IS NULL     
      AND encoding_hj.encodings_leveraged IS NOT NULL 
      THEN
        'join group was leveraged on ' || encoding_hj.encodings_leveraged || ' processes'
      ELSE
        'join group was NOT leveraged'
    END columnar_encoding_usage_info
FROM
  (SELECT DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML(session_id=&gt;-1,sql_id=&gt;:<span class="bold">b_sqlid</span>).
          EXTRACT(q'#//operation[@name='HASH JOIN' and @parent_id]#') xmldata
   FROM   DUAL) hj_operation_data,
  XMLTABLE('/operation'
    PASSING hj_operation_data.xmldata
    COLUMNS
     "ROWSOURCE_ID"        NUMBER PATH '@id',
     "ENCODINGS_LEVERAGED" NUMBER PATH 'rwsstats/stat[@id="9"]',
     "ENCODINGS_OBSERVED"  NUMBER PATH 'rwsstats/stat[@id="10"]') encoding_hj;</code></pre></li>
                           </ul>
                        </li>
                     </ol>
                     <p>The following sections demonstrate both techniques for obtaining join group usage information:</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC">Monitoring Join Groups Using a SQL Monitor Report: Example</a><br>Your goal is to use a graphical SQL Monitor report to determine whether a query leveraged a join group.
                     </li>
                     <li class="ulchildlink"><a href="optimizing-queries-with-join-groups.html#GUID-8F56486B-B706-4A5B-96CA-FD7C46D1CEB1">Monitoring Join Groups from the Command Line: Example</a><br>Your goal is to use command-line tools to determine whether a query leveraged a join group.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-3E5491C4-B345-4A8E-8B1B-8DC150C8A797" title="A join group is a user-created dictionary object that lists one or more columns that can be meaningfully joined.">Optimizing Joins with Join Groups</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC" name="GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC"></a><h4 id="INMEM-GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC" class="sect4"><span class="enumeration_section">8.7.1 </span>Monitoring Join Groups Using a SQL Monitor Report: Example
                  </h4>
                  <div>
                     <p>Your goal is to use a graphical SQL Monitor report to determine whether a query leveraged a join group.</p>
                     <div class="section">
                        <p>In this example, you create a join group on the <code class="codeph">prod_id</code> columns of <code class="codeph">sh.products</code> and <code class="codeph">sh.sales</code> tables, and then join these tables on this column. You grant the <code class="codeph">sh</code> account administrative privileges. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC__MONITORINGAJOINGROUP-4943C700">
                        <p class="titleinexample">Example 8-3 Monitoring a Join Group Using a SQL Monitor Report</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, log in to the database as user <code class="codeph">sh</code>.
                              </p>
                           </li>
                           <li>
                              <p>Create a SQL*Plus variable to store the SQL ID as follows:</p><pre class="pre codeblock"><code>VAR b_sqlid VARCHAR2(13)</code></pre></li>
                           <li>
                              <p>Apply the <code class="codeph">INMEMORY</code> attribute to the <code class="codeph">sh.products</code> and <code class="codeph">sh.sales</code> tables as follows:
                              </p><pre class="pre codeblock"><code>ALTER TABLE sales NO INMEMORY;
ALTER TABLE products NO INMEMORY;

ALTER TABLE sales INMEMORY MEMCOMPRESS FOR QUERY;
ALTER TABLE products INMEMORY MEMCOMPRESS FOR QUERY;
</code></pre></li>
                           <li>
                              <p>Create a join group on <code class="codeph">prod_id</code>:
                              </p><pre class="pre codeblock"><code>CREATE INMEMORY JOIN GROUP jgrp_products_sales (products(prod_id), sales(prod_id)); </code></pre></li>
                           <li>
                              <p>Scan the tables to populate them in the IM column store:</p><pre class="pre codeblock"><code>SELECT /*+ FULL(s) */ COUNT(*) FROM sales s;
SELECT /*+ FULL(p) */ COUNT(*) FROM products p;</code></pre></li>
                           <li>
                              <p>Execute a query that joins on the <code class="codeph">prod_id</code> column, and then aggregates product sales:
                              </p><pre class="pre codeblock"><code>SELECT /*+ USE_HASH(sales) LEADING(products sales) MONITOR */ products.prod_id, 
       products.prod_category_id, SUM(sales.amount_sold) 
FROM   products, sales 
WHERE  products.prod_id = sales.prod_id 
GROUP BY products.prod_category_id, products.prod_id;</code></pre></li>
                           <li>
                              <p>Generate an HTML-based SQL Monitor report by using <code class="codeph">DBMS_SQLTUNE.REPORT_SQL_MONITOR</code>.
                              </p>
                              <p>For example, create a SQL script with the following contents, and run it in SQL*Plus:</p><pre class="pre codeblock"><code>SET TRIMSPOOL ON
SET TRIM ON
SET PAGES 0
SET LINESIZE 1000
SET LONG 1000000
SET LONGCHUNKSIZE 1000000
SPOOL /tmp/jg_report.htm
SELECT DBMS_SQL_MONITOR.REPORT_SQL_MONITOR(
         sql_id       =&gt; :b_sqlid, 
         report_level =&gt; 'ALL', 
         TYPE         =&gt; 'active') 
FROM   DUAL;
SPOOL OFF</code></pre></li>
                           <li>
                              <p>Open the HTML report in a browser.</p>
                              <p>The following sample report shows the execution plan for the join. The binoculars in the hash join open a window that shows additional statistics.</p>
                              <div class="figure" id="GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC__GUID-288CAD91-6046-4B7C-AAAE-D3ED916DA306">
                                 <p class="titleinfigure">Figure 8-4 Monitored SQL Execution Details Page</p><img src="img/sql_monitor_jg.png" alt="Description of Figure 8-4 follows" title="Description of Figure 8-4 follows" longdesc="img_text/sql_monitor_jg.html"><br><a href="img_text/sql_monitor_jg.html">Description of "Figure 8-4 Monitored SQL Execution Details Page"</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>Click the binoculars icon to open a window that shows join group statistics.</p>
                              <p>The following sample window shows the statistics:</p>
                              <div class="figure" id="GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC__GUID-8613B645-AD08-40AC-A381-67982FA82335"><img src="img/other_plan_line_stats.png" alt="Description of other_plan_line_stats.png follows" title="Description of other_plan_line_stats.png follows" longdesc="img_text/other_plan_line_stats.html"><br><a href="img_text/other_plan_line_stats.html">Description of the illustration other_plan_line_stats.png</a></div>
                              <!-- class="figure" -->
                              <p>Because <code class="codeph">Columnar Encodings Leveraged</code> is a positive value and <code class="codeph">Columnar Encodings Observed</code> is not present, the join group was leveraged.
                              </p>
                           </li>
                           <li>
                              <p>Optionally, clean up after the example:</p><pre class="pre codeblock"><code>DROP INMEMORY JOIN GROUP jgrp_products_sales;
ALTER TABLE sales NO INMEMORY;
ALTER TABLE products NO INMEMORY;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A1CEDB0F-5ADF-42B1-82F7-EB3D895E20DC__GUID-D82CCE85-3ABB-4DE9-A617-6CC4E6A592F1">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="optimizing-queries-with-join-groups.html#GUID-B09C155D-FE48-408F-AD69-5EAD85372E64" title="Joins on columns in a join group typically see a performance benefit.">When a Hash Join Uses Common Dictionary Encodings</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_SQLTUNE.html#GUID-DA3BD815-42EE-4CF4-8C59-9C40332D66C5" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML</code> function
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-SESSION.html#GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">V$SESSION</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1" title="To determine whether queries are using the join group, you can use either a graphical SQL Monitor report (recommended) or a SQL query that uses the DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML function.">Monitoring Join Group Usage</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-8F56486B-B706-4A5B-96CA-FD7C46D1CEB1" name="GUID-8F56486B-B706-4A5B-96CA-FD7C46D1CEB1"></a><h4 id="INMEM-GUID-8F56486B-B706-4A5B-96CA-FD7C46D1CEB1" class="sect4"><span class="enumeration_section">8.7.2 </span>Monitoring Join Groups from the Command Line: Example
                  </h4>
                  <div>
                     <p>Your goal is to use command-line tools to determine whether a query leveraged a join group.</p>
                     <div class="section">
                        <p>In this example, you create a join group on the <code class="codeph">prod_id</code> columns of <code class="codeph">sh.products</code> and <code class="codeph">sh.sales</code> tables, and then join these tables on this column. You grant the <code class="codeph">sh</code> account administrative privileges. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8F56486B-B706-4A5B-96CA-FD7C46D1CEB1__MONITORINGAJOINGROUP-4943C700">
                        <p class="titleinexample">Example 8-4 Monitoring a Join Group from the Command Line</p>
                        <ol>
                           <li>
                              <p>Log in to the database as <code class="codeph">sh</code>.
                              </p>
                           </li>
                           <li>
                              <p>Create a SQL*Plus variable to store the SQL ID as follows:</p><pre class="pre codeblock"><code>VAR b_sqlid VARCHAR2(13)</code></pre></li>
                           <li>
                              <p>Apply the <code class="codeph">INMEMORY</code> attribute to the <code class="codeph">sh.products</code> and <code class="codeph">sh.sales</code> tables as follows:
                              </p><pre class="pre codeblock"><code>ALTER TABLE sales NO INMEMORY;
ALTER TABLE products NO INMEMORY;

ALTER TABLE sales INMEMORY MEMCOMPRESS FOR QUERY;
ALTER TABLE products INMEMORY MEMCOMPRESS FOR QUERY;
</code></pre></li>
                           <li>
                              <p>Create a join group on <code class="codeph">prod_id</code>:
                              </p><pre class="pre codeblock"><code>CREATE INMEMORY JOIN GROUP jgrp_products_sales (products(prod_id), sales(prod_id)); </code></pre></li>
                           <li>
                              <p>Scan the tables to populate them in the IM column store:</p><pre class="pre codeblock"><code>SELECT /*+ FULL(s) */ COUNT(*) FROM sales s;
SELECT /*+ FULL(p) */ COUNT(*) FROM products p;</code></pre></li>
                           <li>
                              <p>Execute a query that joins on the <code class="codeph">prod_id</code> column, and then aggregates product sales:
                              </p><pre class="pre codeblock"><code>SELECT /*+ USE_HASH(sales) LEADING(products sales) MONITOR */ products.prod_id, 
       products.prod_category_id, SUM(sales.amount_sold) 
FROM   products, sales 
WHERE  products.prod_id = sales.prod_id 
GROUP BY products.prod_category_id, products.prod_id;</code></pre></li>
                           <li>
                              <p>Obtain the SQL ID of the preceding aggregation query:</p><pre class="pre codeblock"><code>BEGIN
  SELECT PREV_SQL_ID 
    INTO :b_sqlid
  FROM   V$SESSION 
  WHERE  SID=USERENV('SID');
END;
</code></pre></li>
                           <li>
                              <p>Use <code class="codeph">DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML</code> to determine whether the database used the join group.
                              </p>
                              <p>For example, execute the following query:</p><pre class="pre codeblock"><code>COL row_source_id FORMAT 999
COL columnar_encoding_usage_info FORMAT A40

SELECT
  encoding_hj.rowsource_id row_source_id,
    CASE
      WHEN encoding_hj.encodings_observed IS NULL     
      AND encoding_hj.encodings_leveraged IS NOT NULL 
      THEN
        'join group was leveraged on ' || encoding_hj.encodings_leveraged || ' processes'
      ELSE
        'join group was NOT leveraged'
    END columnar_encoding_usage_info
FROM
  (SELECT DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML(session_id=&gt;-1,sql_id=&gt;:b_sqlid).
          EXTRACT(q'#//operation[@name='HASH JOIN' and @parent_id]#') xmldata
   FROM   DUAL
  ) hj_operation_data,
  XMLTABLE('/operation'
    PASSING hj_operation_data.xmldata
    COLUMNS
     "ROWSOURCE_ID"       NUMBER PATH '@id',
     "ENCODINGS_LEVERAGED" NUMBER PATH 'rwsstats/stat[@id="9"]',
     "ENCODINGS_OBSERVED"  NUMBER PATH 'rwsstats/stat[@id="10"]'
     ) encoding_hj;</code></pre><p>The following sample output shows that the join group was leveraged in the query:</p><pre class="pre codeblock"><code>ROW_SOURCE_ID COLUMNAR_ENCODING_USAGE_INFO
------------- ----------------------------------------
            2 join group was leveraged on 1 processes</code></pre></li>
                           <li>
                              <p>Optionally, clean up after the example:</p><pre class="pre codeblock"><code>DROP INMEMORY JOIN GROUP jgrp_products_sales;
ALTER TABLE sales NO INMEMORY;
ALTER TABLE products NO INMEMORY;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8F56486B-B706-4A5B-96CA-FD7C46D1CEB1__GUID-D82CCE85-3ABB-4DE9-A617-6CC4E6A592F1">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="optimizing-queries-with-join-groups.html#GUID-B09C155D-FE48-408F-AD69-5EAD85372E64" title="Joins on columns in a join group typically see a performance benefit.">When a Hash Join Uses Common Dictionary Encodings</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_SQLTUNE.html#GUID-DA3BD815-42EE-4CF4-8C59-9C40332D66C5" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML</code> function
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">V$SESSION</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="optimizing-queries-with-join-groups.html#GUID-5E6B9757-ADA2-408D-8FA4-274D36AE22E1" title="To determine whether queries are using the join group, you can use either a graphical SQL Monitor report (recommended) or a SQL query that uses the DBMS_SQLTUNE.REPORT_SQL_MONITOR_XML function.">Monitoring Join Group Usage</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13238.database-gateway-sybase-features.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Sybase Gateway Features and Restrictions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content=" User's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-sybase-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T17:28:14-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18237-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="database-gateway-sybase-introduction.html" title="Previous" type="text/html">
      <link rel="next" href="database-gateway-sybase-case-studies.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for Sybase User's Guide">
    <meta name="dcterms.isVersionOf" content="TGSYU">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-sybase-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="database-gateway-sybase-case-studies.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name"> User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Sybase Gateway Features and Restrictions</li>
            </ol>
            <a id="GUID-CFB6D407-A926-4763-B6E7-F2F6705CFB16" name="GUID-CFB6D407-A926-4763-B6E7-F2F6705CFB16"></a><a id="TGSYU200"></a>
            
            <h2 id="TGSYU-GUID-CFB6D407-A926-4763-B6E7-F2F6705CFB16" class="sect2"><span class="enumeration_chapter">2 </span> Sybase Gateway Features and Restrictions
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After the gateway is installed and configured, you can use the gateway to access Sybase data, pass Sybase commands from applications to the Sybase database, perform distributed queries, and copy data. </p>
               <p>Topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" title="A remote insert rowsource feature allows remote insert requiring local Oracle data to work through the Oracle database and Oracle Database Gateway. This functionality requires that the Oracle database and the Oracle Database Gateway to be version 12.2 or later.">Remote Insert Rowsource</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05">Using the Pass-Through Feature</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F">Executing Stored Procedures and Functions</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1">CHAR Semantics</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4">Multi-byte Character Sets Ratio Suppression</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1">IPv6 Support</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46">Gateway Session IDLE Timeout</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5">Database Compatibility Issues for Sybase</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331">Known Restrictions </a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sybase-features.html#GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01">Known Problems</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" name="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A"></a><h3 id="TGSYU-GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" class="sect3">Remote Insert Rowsource</h3>
               <div>
                  <p>A remote insert rowsource feature allows remote insert requiring local Oracle data to work through the Oracle database and Oracle Database Gateway. This functionality requires that the Oracle database and the Oracle Database Gateway to be version 12.2 or later.</p>
                  <p>By Oracle Database design, some distributed statement must be executed at the database link site. But in certain circumstances, there is data needed to execute these queries that must be fetched from the originating Oracle Database. Under homogeneous connections, the remote Oracle database would call back the source Oracle database for such data. But in heterogeneous connections, this is not viable, because this means that the Foreign Data Store would have to query call back functions, or data, that can only be provided by the Oracle instance that issued the query. In general, these kinds of statements are not something that can be supported through the Oracle Database Gateway. </p>
                  <p>The following categories of SQL statements results in a callback:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Any DML with a sub-select, which refers to a table in Oracle database.</p>
                     </li>
                     <li>
                        <p>Any <code class="codeph">DELETE</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code> or  "<code class="codeph">SELECT... FOR UPDATE..."</code> SQL statement containing SQL functions or statements that needs to be executed at the originating Oracle database. 
                        </p>
                        <p>These SQL functions include <code class="codeph">USER</code>, <code class="codeph">USERENV</code>, and <code class="codeph">SYSDATE</code>; and involve the selection of data from the originating Oracle database.
                        </p>
                     </li>
                     <li>
                        <p>Any SQL statement that involves a table in Oracle database, and a <code class="codeph">LONG</code> or <code class="codeph">LOB</code> column in a remote table.
                        </p>
                     </li>
                  </ul>
                  <p>An example of a remote <code class="codeph">INSERT</code> statement that can work through the remote insert rowsource feature is as follows:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO <span class="italic">gateway_table</span>@gateway_link select * from <span class="italic">local_table</span>;
</pre></div>
            </div><a id="TGSYU704"></a><div class="props_rev_3"><a id="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05" name="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05"></a><h3 id="TGSYU-GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05" class="sect3">Using the Pass-Through Feature</h3>
               <div>
                  <div class="section">
                     <p>The gateway can pass Sybase commands or statements from the application to the Sybase database using the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package. 
                     </p>
                     <p>Use the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package in a PL/SQL block to specify the statement to be passed to the Sybase database, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
    num_rows INTEGER;
BEGIN
    num_rows := DBMS_HS_PASSTHROUGH.EXECUTE_IMMEDIATE@SYBS('<span class="italic">command</span>');
END;
/
</pre><p>Where <span class="italic">command</span> cannot be one of the following:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">BEGIN TRANSACTION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">COMMIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ROLLBACK</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SAVE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SHUTDOWN</code></p>
                        </li>
                        <li>
                           <p>Sybase tool commands</p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">DBMS_HS_PASSTHROUGH</code> package supports passing bind values and executing <code class="codeph">SELECT</code> statements.
                     </p>
                     <div class="infoboxnote" id="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05__GUID-4BA2BFB1-C137-406A-B7E6-3842E1254053">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">TRUNCATE</code> cannot be used in a pass-through statement.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1B2EA918-D70D-4D1B-9228-15F925D01C05__GUID-0BB80AD8-C642-4EDA-9EA1-AB15E59939EF">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_HS_PASSTHROUGH.html#ARPLS017" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsyu&amp;id=HETER003" target="_blank">Chapter 3, Features of Oracle Database Gateways,</a> of <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for more information about the <code class="codeph">DBMS_HS_PASSTHROUGH</code> package.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGSYU705"></a><div class="props_rev_3"><a id="GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F" name="GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F"></a><h3 id="TGSYU-GUID-3A2CB44E-5A6F-45B7-A67B-BF043CEEAF8F" class="sect3">Executing Stored Procedures and Functions</h3>
               <div>
                  <div class="section">
                     <p>Using the procedural feature, the gateway can execute stored procedures that are defined in the Sybase database. It is not necessary to relink the gateway or define the procedure to the gateway, but the procedure's access privileges must permit access by the gateway.</p>
                     <p>Standard PL/SQL statements are used to execute a stored procedure.</p>
                     <p>The gateway supports stored procedures in three mutually exclusive modes:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Normal mode: Have access to <code class="codeph">IN</code>/<code class="codeph">OUT</code> arguments only
                           </p>
                        </li>
                        <li>
                           <p>Return value mode: Have a return value for all stored procedures</p>
                        </li>
                        <li>
                           <p>Resultset mode: Out values are available as last result set</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="TGSYU706"></a><div class="props_rev_3"><a id="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F" name="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F"></a><h4 id="TGSYU-GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F" class="sect4">Return Values and Stored Procedures</h4>
                  <div>
                     <p>By default, all stored procedures and functions do not return a return value to the user. To enable return values, set the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> parameter in the initialization parameter file.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F__GUID-5E021613-FACF-4BC8-98CF-99D8904BE91D">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B"> Initialization Parameters</a> for information about both editing the initialization parameter file and the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> parameter.
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-4EBE98C4-3A4C-4996-968D-1B30AE79396F__GUID-08F68BA8-8FAE-49A5-9A7E-70ED126CA230">
                        <p class="notep1">Note:</p>
                        <p>If you set the <code class="codeph">HS_FDS_PROC_IS_FUNC</code> gateway initialization parameter, you must change the syntax of the procedure execute statement for all existing stored procedures.
                        </p>
                     </div>
                     <p>In the following example, the employee name <code class="codeph">JOHN SMYTHE </code>is passed to the Sybase stored procedure <code class="codeph">REVISE_SALARY</code>. The stored procedure retrieves the salary value from the Sybase database to calculate a new yearly salary for <code class="codeph">JOHN SMYTHE</code>. The revised salary returned in <code class="codeph">RESULT</code> is used to update <code class="codeph">EMP</code> in a table of an Oracle database:
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  INPUT VARCHAR2(15);
  RESULT NUMBER(8,2);
BEGIN
  INPUT := 'JOHN SMYTHE';
  RESULT := REVISE_SALARY@SYBS(INPUT);
  UPDATE EMP SET SAL = RESULT WHERE ENAME =: INPUT;
END;
/
</pre><p>The procedural feature automatically converts non-Oracle data types to and from PL/SQL data types.</p>
                  </div>
               </div><a id="TGSYU707"></a><div class="props_rev_3"><a id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192" name="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192"></a><h4 id="TGSYU-GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192" class="sect4">Result Sets and Stored Procedures</h4>
                  <div>
                     <p>The Oracle Database Gateway for Sybase provides support for stored procedures which return result sets.</p>
                     <p>By default, all stored procedures and functions do not return a result set to the user. To enable result sets, set the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> parameter in the initialization parameter file.
                     </p>
                     <div class="infoboxnotealso" id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192__GUID-4F66410E-4F2E-4317-BE25-B9430CD26B3D">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B"> Initialization Parameters</a> for information about both editing the initialization parameter file and the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> parameter. For further information about Oracle support for result sets in non-Oracle databases see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsyu&amp;id=HETER4061" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a>.
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192__GUID-F722595D-74E6-4D2F-A378-D432BF232D7C">
                        <p class="notep1">Note:</p>
                        <p>If you set the <code class="codeph">HS_FDS_RESULTSET_SUPPORT</code> gateway initialization parameter, you must change the syntax of the procedure execute statement for all existing stored procedures or errors will occur.
                        </p>
                     </div>
                     <p>When accessing stored procedures with result sets through the Oracle Database Gateway for Sybase, you will be in the sequential mode of Heterogeneous Services.</p>
                     <p>The Oracle Database Gateway for Sybase returns the following information to Heterogeneous Services during procedure description:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>All the input arguments of the remote stored procedure</p>
                        </li>
                        <li>
                           <p>None of the output arguments</p>
                        </li>
                        <li>
                           <p>One out argument of type ref cursor (corresponding to the first result set returned by the stored procedure)</p>
                        </li>
                     </ul>
                     <p>Client programs have to use the virtual package function <code class="codeph">dbms_hs_result_set.get_next_result_set</code> to get the ref cursor for subsequent result sets. The last result set returned is the out argument from the procedure.
                     </p>
                     <p>The limitations of accessing result sets are the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Result sets returned by a remote stored procedure have to be retrieved in the order in which they were placed on the wire</p>
                        </li>
                        <li>
                           <p>On execution of a stored procedure, all result sets returned by a previously executed stored procedure will be closed (regardless of whether the data has been completely</p>
                        </li>
                     </ul>
                     <p>In the following example, the Sybase stored procedure is executed to fetch the contents of the <code class="codeph">emp</code> and <code class="codeph">dept</code> tables from Sybase:
                     </p><pre class="oac_no_warn" dir="ltr">create procedure REFCURPROC (@arg1 varchar(255), @arg2 varchar(255) output)
as
select @arg2 = @arg1
select * from EMP
select * from DEPT
go
</pre><p>This stored procedure assigns the input parameter arg1 to the output parameter arg2, opens the query <code class="codeph">SELECT * FROM EMP</code> in ref cursor rc1, and opens the query <code class="codeph">SELECT * FROM DEPT</code> in ref cursor <code class="codeph">rc2</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-3FB9797A-BFFA-48B2-BBB6-A7FDBC13C192__GUID-433E3623-2510-4620-B296-E113DB245E16">
                        <p class="notep1">Note:</p>
                        <p>Chained mode must be set before creating the stored procedure. Issue the following command in Sybase: <code class="codeph">set chained on</code></p>
                     </div>
                  </div><a id="TGSYU708"></a><div class="props_rev_3"><a id="GUID-937C769C-3F43-491A-A2AA-79930359A995" name="GUID-937C769C-3F43-491A-A2AA-79930359A995"></a><h5 id="TGSYU-GUID-937C769C-3F43-491A-A2AA-79930359A995" class="sect5">OCI Program Fetching from Result Sets in Sequential Mode</h5>
                     <div>
                        <p>The following example shows OCI program fetching from result sets in sequential mode:</p><pre class="oac_no_warn" dir="ltr">OCIEnv *ENVH;
OCISvcCtx *SVCH;
OCIStmt *STMH;
OCIError *ERRH;
OCIBind *BNDH[3];
OraText arg1[20];
OraText arg2[255];
OCIResult *rset;
OCIStmt *rstmt;
ub2 rcode[3];
ub2 rlens[3];
sb2 inds[3];
OraText *stmt = (OraText *) "begin refcurproc@SYBS(:1,:2,:3); end;";
OraText *n_rs_stm = (OraText *)
  "begin :ret := DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET@SYBS; end;";

/* Prepare procedure call statement */

/* Handle Initialization code skipped */
OCIStmtPrepare(STMH, ERRH, stmt, strlen(stmt), OCI_NTV_SYNTAX, OCI_DEFAULT);

/* Bind procedure arguments */
inds[0] = 0;
strcpy((char *) arg1, "Hello World");
rlens[0] = strlen(arg1);
OCIBindByPos(STMH, &amp;BNDH[0], ERRH, 1, (dvoid *) arg1, 20, SQLT_CHR,
             (dvoid *) &amp;(inds[0]), &amp;(rlens[0]), &amp;(rcode[0]), 0, (ub4 *) 0, 
             OCI_DEFAULT);
inds[1] = -1;
OCIBindByPos(STMH, &amp;BNDH[1], ERRH, 1, (dvoid *) arg2, 20, SQLT_CHR,
             (dvoid *) &amp;(inds[1]), &amp;(rlens[1]), &amp;(rcode[1]), 0, (ub4 *) 0, 
             OCI_DEFAULT);

inds[2] = 0;
rlens[2] = 0;
OCIDescriptorAlloc(ENVH, (dvoid **) &amp;rset, OCI_DTYPE_RSET, 0, (dvoid **) 0);
OCIBindByPos(STMH, &amp;BNDH[2], ERRH, 2, (dvoid *) rset, 0, SQLT_RSET,
             (dvoid *) &amp;(inds[2]), &amp;(rlens[2]), &amp;(rcode[2]),
             0, (ub4 *) 0, OCI_DEFAULT);

/* Execute procedure */
OCIStmtExecute(SVCH, STMH, ERRH, 1, 0, (CONST OCISnapshot *) 0,
               (OCISnapshot *) 0, OCI_DEFAULT);

/* Convert result set to statement handle */
OCIResultSetToStmt(rset, ERRH);
rstmt = (OCIStmt *) rset;

/* After this the user can fetch from rstmt */
/* Issue get_next_result_set call to get handle to next_result set */
/* Prepare Get next result set procedure call */

OCIStmtPrepare(STMH, ERRH, n_rs_stm, strlen(n_rs_stm), OCI_NTV_SYNTAX,
               OCI_DEFAULT);

/* Bind return value */
OCIBindByPos(STMH, &amp;BNDH[1], ERRH, 1, (dvoid *) rset, 0, SQLT_RSET,
             (dvoid *) &amp;(inds[1]), &amp;(rlens[1]), &amp;(rcode[1]),
             0, (ub4 *) 0, OCI_DEFAULT);

/* Execute statement to get next result set*/
OCIStmtExecute(SVCH, STMH, ERRH, 1, 0, (CONST OCISnapshot *) 0,
               (OCISnapshot *) 0, OCI_DEFAULT);

/* Convert next result set to statement handle */
OCIResultSetToStmt(rset, ERRH);
rstmt = (OCIStmt *) rset;

/* Now rstmt will point to the second result set returned by the
remote stored procedure */

/* Repeat execution of get_next_result_set to get the output arguments */
</pre></div>
                  </div><a id="TGSYU709"></a><div class="props_rev_3"><a id="GUID-F7875611-3416-435A-9867-70224E16CB83" name="GUID-F7875611-3416-435A-9867-70224E16CB83"></a><h5 id="TGSYU-GUID-F7875611-3416-435A-9867-70224E16CB83" class="sect5">PL/SQL Program Fetching from Result Sets in Sequential Mode</h5>
                     <div>
                        <p>Assume that the table <code class="codeph">loc_emp</code> is a local table exactly like the Sybase emp table. The same assumption applies for <code class="codeph">loc_dept</code>. <code class="codeph">outargs</code> is a table with columns corresponding to the out arguments of the Sybase stored procedure.
                        </p><pre class="oac_no_warn" dir="ltr">create or replace package rcpackage is
  type RCTYPE is ref cursor;
end rcpackage;
/</pre><pre class="oac_no_warn" dir="ltr">declare
  rc1 rcpackage.rctype;
  rec1 loc_emp%rowtype;
  rc2 rcpackage.rctype;
  rec2 loc_dept%rowtype;
  rc3 rcpackage.rctype;
  rec3 outargs%rowtype;
  out_arg varchar2(255);

begin

  -- Execute procedure
  out_arg := null;  refcurproc@SYBS('Hello World', out_arg, rc1);

  -- Fetch 20 rows from the remote emp table and insert them into loc_emp
  for i in 1 .. 20 loop
    fetch rc1 into rec1;
    insert into loc_emp (rec1.empno, rec1.ename, rec1.job,
    rec1.mgr, rec1.hiredate, rec1.sal, rec1.comm, rec1.deptno);
  end loop;

  -- Close ref cursor
  close rc1;

  -- Get the next result set returned by the stored procedure
  rc2 := dbms_hs_result_set.get_next_result_set@SYBS;

  -- Fetch 5 rows from the remote dept table and insert them into loc_dept
  for i in 1 .. 5 loop
    fetch rc2 into rec2;
    insert into loc_dept values (rec2.deptno, rec2.dname, rec2.loc);
  end loop;

  --Close ref cursor
  close rc2;

  -- Get the output arguments from the remote stored procedure
  -- Since we are in sequential mode, they will be returned in the
  -- form of a result set
  rc3 := dbms_hs_result_set.get_next_result_set@SYBS;

  -- Fetch them and insert them into the outarguments table
  fetch rc3 into rec3;
  insert into outargs (rec3.outarg, rec3.retval);

  -- Close ref cursor
  close rc3;

end;
/</pre></div>
                  </div>
               </div>
            </div><a id="TGSYU825"></a><div class="props_rev_3"><a id="GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1" name="GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1"></a><h3 id="TGSYU-GUID-15E36EB6-400C-40A2-B9C1-02E8E7F1C5C1" class="sect3">CHAR Semantics</h3>
               <div>
                  <p>This feature allows the gateway to optionally run in <code class="codeph">CHAR</code> Semantics mode.  Rather than always describing Sybase <code class="codeph">CHAR</code> columns as <code class="codeph">CHAR(n BYTE)</code>, this feature describes them as <code class="codeph">CHAR(n CHAR)</code> and <code class="codeph">VARCHAR(n CHAR)</code>. The concept is similar to Oracle database <code class="codeph">CHAR</code> Semantics. You need to specify <code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>  gateway parameter to activate this option. Refer to <a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B"> Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="TGSYU826"></a><div class="props_rev_3"><a id="GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4" name="GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4"></a><h3 id="TGSYU-GUID-5B78184A-33B2-42E4-AF70-4571BAE38FF4" class="sect3">Multi-byte Character Sets Ratio Suppression</h3>
               <div>
                  <p>This feature optionally suppresses the ratio expansion from Sybase database to Oracle database involving multi-byte character set. By default, Oracle gateways assume the worst ratio to prevent data being truncated or insufficient buffer size situation. However, if you have specific knowledge of your Sybase database and do not want the expansion to occur, you can specify <code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code> parameter to suppress the expansion. Refer to <a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B"> Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="TGSYU827"></a><div class="props_rev_3"><a id="GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1" name="GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1"></a><h3 id="TGSYU-GUID-6C58A72D-6DC2-400B-8633-6B849D96C0C1" class="sect3">IPv6 Support</h3>
               <div>
                  <p>Besides full IPv6 support between Oracle databases and the gateway, IPv6 is also supported between this gateway and Sybase database. Refer to the <code class="codeph">HS_FDS_CONNECT_INFO</code> parameter in <a href="database-gateway-sybase-initialization-parameters.html#GUID-F1D90A28-69A0-4D6B-9A46-AA52A0D7246B"> Initialization Parameters</a> for more detail.
                  </p>
               </div>
            </div><a id="TGSYU828"></a><div class="props_rev_3"><a id="GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46" name="GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46"></a><h3 id="TGSYU-GUID-5F63126A-637A-46F4-AB73-59EE3B17AB46" class="sect3">Gateway Session IDLE Timeout</h3>
               <div>
                  <p>You can optionally choose to terminate long idle gateway sessions automatically with the gateway parameter <code class="codeph">HS_IDLE_TIMEOUT</code>. Specifically, when a gateway session is idle for more than the specified time limit, the gateway session is terminated with any pending update rolled back.
                  </p>
               </div>
            </div><a id="TGSYU710"></a><div class="props_rev_3"><a id="GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5" name="GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5"></a><h3 id="TGSYU-GUID-FD4FEED3-3EAF-4EB1-A135-ED757DD185E5" class="sect3">Database Compatibility Issues for Sybase</h3>
               <div>
                  <p>Sybase and Oracle databases function differently in some areas, causing compatibility problems such as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86">Chained Mode</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59">Column Definitions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5">Naming Rules</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6">Data Types</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883">Queries</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436">Locking</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B">Sybase Identifiers Length Limit</a></p>
                     </li>
                  </ul>
               </div><a id="TGSYU711"></a><div class="props_rev_3"><a id="GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86" name="GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86"></a><h4 id="TGSYU-GUID-762CE1AA-7851-4CA6-939A-9C2E6DA3FB86" class="sect4">Chained Mode</h4>
                  <div>
                     <p><a id="d2102e882" class="indexterm-anchor"></a><a id="d2102e884" class="indexterm-anchor"></a>The gateway supports the ANSI-standard chained mode. Sybase stored procedures must be written for this mode. Running in chained mode allows the gateway to extend the Oracle two-phase commit protection to transactions updating Oracle and Sybase databases.
                     </p>
                  </div>
               </div><a id="TGSYU712"></a><div class="props_rev_3"><a id="GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59" name="GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59"></a><h4 id="TGSYU-GUID-ED529C72-88A0-40EE-931A-BFFDDD88BE59" class="sect4">Column Definitions</h4>
                  <div>
                     <p><a id="d2102e920" class="indexterm-anchor"></a>By default, a Sybase table column cannot contain null values unless <code class="codeph">NULL</code> is specified in the column definition. In compliance with the ANSI standard, the Sybase database option "allow nulls by default" can be set to true to change the default column definition to <code class="codeph">NULL</code>.
                     </p>
                     <p>For an Oracle table, null values are allowed in a column unless <code class="codeph">NOT NULL</code> is specified in the column definition.
                     </p>
                  </div>
               </div><a id="TGSYU713"></a><div class="props_rev_3"><a id="GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5" name="GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5"></a><h4 id="TGSYU-GUID-3A4D7100-8846-43E3-8D8E-6A56F8123AD5" class="sect4">Naming Rules</h4>
                  <div>
                     <p>Naming rule issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED">Rules for Naming Objects</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F">Case Sensitivity</a></p>
                        </li>
                     </ul>
                  </div><a id="TGSYU714"></a><div class="props_rev_3"><a id="GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED" name="GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED"></a><h5 id="TGSYU-GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED" class="sect5">Rules for Naming Objects</h5>
                     <div>
                        <p>Oracle and Sybase use different database object naming rules. For example, the maximum number of characters allowed for each object name can be different. Also, the use of single and double quotation marks, case sensitivity, and the use of alphanumeric characters can all be different. </p>
                        <div class="infoboxnotealso" id="GUID-87A010B5-4DB6-4B03-9618-90EF3B1853ED__GUID-68DFD59B-AD31-4BE0-AD9C-FB59E9F2F532">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> and Sybase documentation.
                           </p>
                        </div>
                     </div>
                  </div><a id="TGSYU715"></a><div class="props_rev_3"><a id="GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F" name="GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F"></a><h5 id="TGSYU-GUID-2466F5F3-E009-40D4-8021-C17FFE60C20F" class="sect5">Case Sensitivity</h5>
                     <div>
                        <p>The Oracle database defaults to uppercase unless you surround identifiers with double quote characters. For example, to refer to the Sybase table called <code class="codeph">emp</code>, enter the name with double quote characters, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM "emp"@SYBS;
</pre><p>However, to refer to the Sybase table called <code class="codeph">emp</code> owned by <code class="codeph">SCOTT</code> from an Oracle application, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM "Scott"."emp"@SYBS;
</pre><p>If the Sybase table called <code class="codeph">emp</code> is owned by <code class="codeph">SCOTT</code>, a table owner name in uppercase letters, you can enter the owner name without double quote characters, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM SCOTT."emp"@SYBS;
</pre><p>Or</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM scott."emp"@SYBS;
</pre><p>Oracle recommends that you surround all Sybase object names with double quote characters and use the exact letter case for the object names as they appear in the Sybase data dictionary. This convention is not required when referring to the supported Oracle data dictionary tables or views listed in <a href="database-gateway-sybase-data-dictionary.html#GUID-E2DD24BF-4852-4B60-8494-26E4D0B000DD"> Data Dictionary</a>.
                        </p>
                        <p>If existing applications cannot be changed according to these conventions, create views in Oracle to associate Sybase names to the correct letter case. For example, to refer to the Sybase table <code class="codeph">emp</code> from an existing Oracle application by using only uppercase names, define the following view:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE VIEW EMP (EMPNO, ENAME, SAL, HIREDATE)
      AS SELECT "empno", "ename", "sal", "hiredate"
      FROM "emp"@SYBS;
</pre><p>With this view, the application can issue statements such as the following:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT EMPNO, ENAME FROM EMP;
</pre><p>Using views is a workaround solution that duplicates data dictionary information originating in the Sybase data dictionary. You must be prepared to update the Oracle view definitions whenever the data definitions for the corresponding tables are changed in the Sybase database.</p>
                     </div>
                  </div>
               </div><a id="TGSYU716"></a><div class="props_rev_3"><a id="GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6" name="GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6"></a><h4 id="TGSYU-GUID-FA7F6492-C872-4278-B51F-825CA36C4DA6" class="sect4">Data Types</h4>
                  <div>
                     <p>Data type issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-7A240833-3297-455C-9E73-4F0FDC430CF9">Binary Literal Notation</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-8D591454-5203-45BC-A53F-153CD43FCC86">Data Type Conversion</a></p>
                        </li>
                     </ul>
                  </div><a id="TGSYU717"></a><div class="props_rev_3"><a id="GUID-7A240833-3297-455C-9E73-4F0FDC430CF9" name="GUID-7A240833-3297-455C-9E73-4F0FDC430CF9"></a><h5 id="TGSYU-GUID-7A240833-3297-455C-9E73-4F0FDC430CF9" class="sect5">Binary Literal Notation</h5>
                     <div>
                        <p>Oracle SQL uses hexadecimal digits surrounded by single quotes to express literal values being compared or inserted into columns defined as data type <code class="codeph">RAW</code>. 
                        </p>
                        <p><a id="d2102e1185" class="indexterm-anchor"></a>This notation is not converted to syntax compatible with the Sybase <code class="codeph">VARBINARY</code> and <code class="codeph">BINARY</code> data types (a 0x followed by hexadecimal digits, surrounded by single quotes). 
                        </p>
                        <p>For example, the following statement is not supported:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO BINARY_TAB@SYBS VALUES ('0xff')
</pre><p>Where <code class="codeph">BINARY_TAB</code> contains a column of data type <code class="codeph">VARBINARY</code> or <code class="codeph">BINARY</code>. Use bind variables when inserting into or updating <code class="codeph">VARBINARY</code> and <code class="codeph">BINARY</code> data types.
                        </p>
                     </div>
                  </div><a id="TGSYU718"></a><div class="props_rev_3"><a id="GUID-8D591454-5203-45BC-A53F-153CD43FCC86" name="GUID-8D591454-5203-45BC-A53F-153CD43FCC86"></a><h5 id="TGSYU-GUID-8D591454-5203-45BC-A53F-153CD43FCC86" class="sect5">Data Type Conversion</h5>
                     <div>
                        <p>Sybase does not support implicit date conversions. Such conversions must be explicit.</p>
                        <p>For example, the gateway issues an error for the following <code class="codeph">SELECT</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT DATE_COL FROM TEST@SYBS WHERE DATE_COL = "1-JAN-2001";
</pre><p>To avoid problems with implicit conversions, add explicit conversions, as in the following:</p><pre class="oac_no_warn" dir="ltr">SELECT DATE_COL FROM TEST@SYBS WHERE DATE_COL = TO_DATE("1-JAN-2001")
</pre><div class="infoboxnotealso" id="GUID-8D591454-5203-45BC-A53F-153CD43FCC86__GUID-5A582B33-C014-4797-9066-61466323DF3D">
                           <p class="notep1">See Also:</p>
                           <p><a href="database-gateway-sybase-data-type-conversion.html#GUID-815363B3-5372-4C85-AF55-BFB5EA0F7F98"> Data Type Conversion</a> for more information about restrictions on data types.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="TGSYU719"></a><div class="props_rev_3"><a id="GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883" name="GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883"></a><h4 id="TGSYU-GUID-6A362818-FAC8-41AB-BAA1-86B8E0C01883" class="sect4">Queries</h4>
                  <div>
                     <p>Query issues include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420">Row Selection</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9">Empty Strings</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF">Empty Bind Variables</a></p>
                        </li>
                     </ul>
                  </div><a id="TGSYU720"></a><div class="props_rev_3"><a id="GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420" name="GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420"></a><h5 id="TGSYU-GUID-554E8EB3-2FB2-4640-B069-1FDC392D9420" class="sect5">Row Selection</h5>
                     <div>
                        <p>Sybase evaluates a query condition for all selected rows before returning any of the rows. If there is an error in the evaluation process for one or more rows, no rows are returned even though the remaining rows satisfy the condition. </p>
                        <p>Oracle evaluates the query condition row-by-row and returns a row when the evaluation is successful. Rows are returned until a row fails the evaluation.</p>
                     </div>
                  </div><a id="TGSYU721"></a><div class="props_rev_3"><a id="GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9" name="GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9"></a><h5 id="TGSYU-GUID-11D2483A-E45F-44B2-A8BD-4DC419632FF9" class="sect5">Empty Strings</h5>
                     <div>
                        <p>Oracle processes an empty string in a SQL statement as a null value. Sybase processes an empty string as an empty string.</p>
                        <p>When comparing an empty string, the gateway passes literal empty strings to the Sybase database without any conversion. If you intended an empty string to represent a null value, Sybase does not process the statement that way; it uses the empty string.</p>
                        <p>You can avoid this problem by using <code class="codeph">NULL</code> or<code class="codeph"> IS NULL</code> in the SQL statement instead of the empty string syntax, as in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * from "emp"@SYBS where "ename" IS NULL;</pre><p>Selecting an empty string</p>
                        <p>For <code class="codeph">VARCHAR</code> columns, the gateway returns an empty string to the Oracle database as <code class="codeph">NULL</code> value.
                        </p>
                        <p>For <code class="codeph">CHAR</code> columns, the gateway returns the full size of the column with each character as empty space (' ').
                        </p>
                     </div>
                  </div><a id="TGSYU722"></a><div class="props_rev_3"><a id="GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF" name="GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF"></a><h5 id="TGSYU-GUID-0F1F8A14-703C-4CD7-91E4-4C66560B4EDF" class="sect5">Empty Bind Variables</h5>
                     <div>
                        <p>For <code class="codeph">VARCHAR</code> bind variables, the gateway passes empty bind variables to the Sybase database as a <code class="codeph">NULL</code> value.
                        </p>
                     </div>
                  </div>
               </div><a id="TGSYU723"></a><div class="props_rev_3"><a id="GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436" name="GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436"></a><h4 id="TGSYU-GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436" class="sect4">Locking</h4>
                  <div>
                     <p>The locking model for a Sybase database differs significantly from the Oracle model. The gateway depends on the underlying Sybase behavior, so Oracle applications that access Sybase through the gateway can be affected by the following possible scenarios:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Read access might block write access</p>
                        </li>
                        <li>
                           <p>Write access might block read access</p>
                        </li>
                        <li>
                           <p>Statement-level read consistency is not guaranteed</p>
                           <div class="infoboxnotealso" id="GUID-1DE3B1D7-BD6D-43B6-8127-BF4220DA3436__GUID-4164D2C6-B5A7-4AFB-ACE3-87E01AF66931">
                              <p class="notep1">See Also:</p>
                              <p>Sybase documentation for information about the Sybase locking model.</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGSYU829"></a><div class="props_rev_3"><a id="GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B" name="GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B"></a><h4 id="TGSYU-GUID-166C6B2E-C5B2-433B-AA4B-7FCA54EC162B" class="sect4">Sybase Identifiers Length Limit</h4>
                  <div>
                     <p>By default, the gateway will always quote identifiers. However, certain Sybase releases have a limit of 30 characters for identifiers such as table or column names and quotes are considered part of the names when checking against this limit. Therefore, when quotes are used, you can only specify 28 characters. In order to support the maximum length limit in those Sybase releases,  you need to specify <code class="codeph">HS_FDS_QUOTE_IDENTIFIER=FALSE</code>  in your gateway initialization parameter file. Setting this initialization parameter will cause the gateway to send identifiers without quotes. However, it has the side effect of precluding the use of identifiers that contain dots (.) or spaces, and the identifiers will follow the case sensitivity of the Sybase database being used.
                     </p>
                  </div>
               </div>
            </div><a id="TGSYU724"></a><div class="props_rev_3"><a id="GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331" name="GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331"></a><h3 id="TGSYU-GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331" class="sect3">Known Restrictions </h3>
               <div>
                  <p>If you encounter incompatibility problems not listed in this section or in <span class="q">"<a href="database-gateway-sybase-features.html#GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01">Known Problems</a>"</span>, contact Oracle Support Services. The following section describes the known restrictions and includes suggestions for dealing with them when possible:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B">Transactional Integrity </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC">Transaction Capability </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9">COMMIT or ROLLBACK in PL/SQL Cursor Loops Closes Open Cursors </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF">Stored Procedures</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3">Pass-Through Feature</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-3E756805-B67F-49D2-A4FB-3E2C87676758">Sybase NCHAR and NVARCHAR Data Types</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C">SQL Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9">SQL*Plus COPY Command with Lowercase Table Names</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1">Database Links</a></p>
                     </li>
                  </ul>
                  <p>The following restriction also applies:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>When negative numbers are used as the second parameter in a <code class="codeph">SUBSTR</code> function, incorrect results are returned. This is due to incompatibility between the Oracle <code class="codeph">SUBSTR</code> function and the equivalent in Sybase.
                        </p>
                        <div class="infoboxnote" id="GUID-F68B4168-F105-4F4E-ABC6-8D08DF973331__GUID-60C6EBC9-0132-4451-99AD-8956476EEBED">
                           <p class="notep1">Note:</p>
                           <p>If you have any questions or concerns about the restrictions, contact Oracle Support Services.</p>
                        </div>
                     </li>
                  </ul>
               </div><a id="TGSYU725"></a><div class="props_rev_3"><a id="GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B" name="GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B"></a><h4 id="TGSYU-GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B" class="sect4">Transactional Integrity </h4>
                  <div>
                     <p>The gateway cannot guarantee transactional integrity in the following cases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When a statement that is processed by the gateway causes an implicit commit in the target database</p>
                        </li>
                        <li>
                           <p>When the target database is configured to work in autocommit mode</p>
                           <div class="infoboxnote" id="GUID-C5D89B64-1A0C-4343-88A0-871B2FDA381B__GUID-88C634D4-2E9B-4E22-BDF1-510A0F8DDDE3">
                              <p class="notep1">Note:</p>
                              <p>Oracle strongly recommends the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you know that executing a particular statement causes an implicit commit in the target database, then ensure that this statement is executed in its own transaction.</p>
                                 </li>
                                 <li>
                                    <p>Do not configure the target database to work in autocommit mode.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGSYU726"></a><div class="props_rev_3"><a id="GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC" name="GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC"></a><h4 id="TGSYU-GUID-AD2A40D0-EDEB-4973-89F6-62F1254E69CC" class="sect4">Transaction Capability </h4>
                  <div>
                     <p><a id="d2102e1726" class="indexterm-anchor"></a>The gateway does not support savepoints. If a distributed update transaction is under way involving the gateway and a user attempts to create a savepoint, the following error occurs:
                     </p><pre class="oac_no_warn" dir="ltr"><a id="d2102e1730" class="indexterm-anchor"></a>ORA-02070: database dblink does not support savepoint in this context<a id="d2102e1733" class="indexterm-anchor"></a>
</pre><p><a id="d2102e1739" class="indexterm-anchor"></a>By default, the gateway is configured as <code class="codeph">COMMIT_CONFIRM</code> and it is always the <a id="d2102e1745" class="indexterm-anchor"></a>commit point site when the Sybase database is updated by the transaction.
                     </p>
                  </div>
               </div><a id="TGSYU727"></a><div class="props_rev_3"><a id="GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9" name="GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9"></a><h4 id="TGSYU-GUID-B4C4699D-084D-4A17-BE95-9261CF0566C9" class="sect4">COMMIT or ROLLBACK in PL/SQL Cursor Loops Closes Open Cursors </h4>
                  <div>
                     <p>Any <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> issued in a PL/SQL cursor loop closes all open cursors, which can result in the following error:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-1002:  fetch out of sequence 
</pre><p>To prevent this error, move the <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> statement outside the cursor loop.
                     </p>
                  </div>
               </div><a id="TGSYU728"></a><div class="props_rev_3"><a id="GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF" name="GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF"></a><h4 id="TGSYU-GUID-1206D772-5969-4CDA-B321-C27C97AF2AEF" class="sect4">Stored Procedures</h4>
                  <div>
                     <p>Changes issued through stored procedures that embed commits or rollbacks cannot be controlled by the Oracle transaction manager or Oracle <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> commands.
                     </p>
                     <p>When accessing stored procedures with result sets through the Oracle Database Gateway for Sybase, you must work in the sequential mode of Heterogeneous Services.</p>
                     <p>When accessing stored procedures with multiple result sets through the Oracle Database Gateway for Sybase, you must read all the result sets before continuing.</p>
                     <p>Output parameters of stored procedures must be initialized to a <code class="codeph">NULL</code> value.
                     </p>
                     <p>Oracle Database Gateway for Sybase does not support output parameters or stored procedures with output parameters, inside a pass through query.</p>
                  </div>
               </div><a id="TGSYU729"></a><div class="props_rev_3"><a id="GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3" name="GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3"></a><h4 id="TGSYU-GUID-8BDE3120-0401-42AD-889D-D6EC12C1FBE3" class="sect4">Pass-Through Feature</h4>
                  <div>
                     <p>DDL statements executed by Sybase using the gateway <a id="d2102e1896" class="indexterm-anchor"></a>pass-through feature might fail if they are in a multi-statement transaction. Set the Sybase option "ddl in tran" to allow DDL statements in a transaction.
                     </p>
                     <p>Oracle recommends that you place a <a id="d2102e1901" class="indexterm-anchor"></a>DDL statement in its own transaction when executing such a statement with the pass-through feature. An explicit <code class="codeph">COMMIT</code> must be issued after the DDL statement.
                     </p>
                     <p><a id="d2102e1908" class="indexterm-anchor"></a>If the SQL statements being passed through the gateway result in an implicit commit at the Sybase database, the Oracle transaction manager is unaware of the commit and an Oracle <code class="codeph">ROLLBACK</code> command cannot be used to roll back the transaction.
                     </p>
                  </div>
               </div><a id="TGSYU730"></a><div class="props_rev_3"><a id="GUID-3E756805-B67F-49D2-A4FB-3E2C87676758" name="GUID-3E756805-B67F-49D2-A4FB-3E2C87676758"></a><h4 id="TGSYU-GUID-3E756805-B67F-49D2-A4FB-3E2C87676758" class="sect4">Sybase NCHAR and NVARCHAR Data Types</h4>
                  <div>
                     <p>The gateway cannot select a column defined with a Sybase <code class="codeph">NCHAR</code> or <code class="codeph">NVARCHAR</code> data type.
                     </p>
                  </div>
               </div><a id="TGSYU731"></a><div class="props_rev_3"><a id="GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C" name="GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C"></a><h4 id="TGSYU-GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C" class="sect4">SQL Syntax</h4>
                  <div>
                     <p>Restrictions on SQL syntax are listed as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E">WHERE CURRENT OF Clause</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7">CONNECT BY Clause</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071">ROWID</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-A0E56148-7576-4A73-93DA-4EDAB603339B">Subqueries in INSERT Statement</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sybase-features.html#GUID-2B5F7861-B8A6-496B-A1EB-79A814117790">EXPLAIN PLAN Statement</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FE84730A-B9AD-4399-8A79-1FC21346AE7C__GUID-7985B3F7-A3B6-43C6-B609-B671A1BFAB99">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sybase-supported-sqlsyntax-function.html#GUID-55F1375A-ACD9-4606-BE3B-AA63FEE172AE"> Supported SQL Syntax and Functions</a> for more information about restrictions on SQL syntax.
                        </p>
                     </div>
                  </div><a id="TGSYU732"></a><div class="props_rev_3"><a id="GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E" name="GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E"></a><h5 id="TGSYU-GUID-A82DE02F-345F-4647-A62E-91F4F41CF91E" class="sect5">WHERE CURRENT OF Clause</h5>
                     <div>
                        <p><code class="codeph">UPDATE</code> and <code class="codeph">DELETE</code> statements with the <code class="codeph">WHERE CURRENT OF</code> clause are not supported by the gateway because they rely on the Oracle <a id="d2102e2061" class="indexterm-anchor"></a><code class="codeph">ROWID</code> implementation. To update or delete a specific row through the gateway, a condition style <code class="codeph">WHERE</code> clause must be used.
                        </p>
                     </div>
                  </div><a id="TGSYU733"></a><div class="props_rev_3"><a id="GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7" name="GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7"></a><h5 id="TGSYU-GUID-7C089AEA-A094-4242-A58E-776B96C9F4E7" class="sect5">CONNECT BY Clause</h5>
                     <div>
                        <p>The gateway does not support the <code class="codeph">CONNECT BY </code>clause in a <code class="codeph">SELECT</code> statement.
                        </p>
                     </div>
                  </div><a id="TGSYU734"></a><div class="props_rev_3"><a id="GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071" name="GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071"></a><h5 id="TGSYU-GUID-F2163EA1-E8CE-4140-B2EA-D3448866F071" class="sect5">ROWID</h5>
                     <div>
                        <p>The Oracle <code class="codeph">ROWID</code> implementation is not supported.
                        </p>
                     </div>
                  </div><a id="TGSYU735"></a><div class="props_rev_3"><a id="GUID-A0E56148-7576-4A73-93DA-4EDAB603339B" name="GUID-A0E56148-7576-4A73-93DA-4EDAB603339B"></a><h5 id="TGSYU-GUID-A0E56148-7576-4A73-93DA-4EDAB603339B" class="sect5">Subqueries in INSERT Statement</h5>
                     <div>
                        <p>Subqueries of <code class="codeph">INSERT</code> statements cannot use multiple aliases for the same table. For example, the following statement is not supported:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO "emp_target"@SYBS
         SELECT a."empno" FROM "emp_source"@SYBS a,
            "emp_source"@SYBS b WHERE b."empno"=9999</pre></div>
                  </div><a id="TGSYU736"></a><div class="props_rev_3"><a id="GUID-2B5F7861-B8A6-496B-A1EB-79A814117790" name="GUID-2B5F7861-B8A6-496B-A1EB-79A814117790"></a><h5 id="TGSYU-GUID-2B5F7861-B8A6-496B-A1EB-79A814117790" class="sect5">EXPLAIN PLAN Statement</h5>
                     <div>
                        <p>The <code class="codeph">EXPLAIN PLAN </code>statement is not supported.
                        </p>
                     </div>
                  </div>
               </div><a id="TGSYU738"></a><div class="props_rev_3"><a id="GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9" name="GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9"></a><h4 id="TGSYU-GUID-DA57D529-D68B-4D91-99D8-83330D1C0FA9" class="sect4">SQL*Plus COPY Command with Lowercase Table Names</h4>
                  <div>
                     <p>You need to use double quotes to wrap around lowercase table names.</p>
                     <p>For example:</p><pre class="oac_no_warn" dir="ltr">copy from tkhouser/tkhouser@inst1 insert loc_tkhodept using select * from "tkhodept"@holink2;</pre></div>
               </div><a id="TGSYU739"></a><div class="props_rev_3"><a id="GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1" name="GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1"></a><h4 id="TGSYU-GUID-9AB95238-30AC-4AB7-8D7C-7B0E8B8A3AD1" class="sect4">Database Links</h4>
                  <div>
                     <p>The gateway is not multithreaded and cannot support shared database links. Each gateway session spawns a separate gateway process and connections cannot be shared.</p>
                  </div>
               </div>
            </div><a id="TGSYU740"></a><div class="props_rev_3"><a id="GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01" name="GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01"></a><h3 id="TGSYU-GUID-43A40ADA-3E5E-4F32-A070-2D472F234F01" class="sect3">Known Problems</h3>
               <div>
                  <p>This section describes known problems and includes suggestions for correcting them when possible. If you have any questions or concerns about the problems, contact Oracle Support Services. A current list of problems is available online. Contact your local Oracle office for information about accessing the list.</p>
                  <p>The known problems are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939">Encrypted Format Login </a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8">Date Arithmetic</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827">Sybase IMAGE and TEXT Data Type</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07">String Functions</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E">Schema Names and PL/SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798">Data Dictionary Views and PL/SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sybase-features.html#GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2">Stored Procedures</a></p>
                     </li>
                  </ul>
               </div><a id="TGSYU741"></a><div class="props_rev_3"><a id="GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939" name="GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939"></a><h4 id="TGSYU-GUID-22D3B18B-3414-4BDA-8CCB-109DE9763939" class="sect4">Encrypted Format Login </h4>
                  <div>
                     <p>Oracle database no longer supports the initialization parameter <code class="codeph">DBLINK_ENCRYPT_LOGIN</code>. Up to version 7.3, this parameter's default TRUE value prevented the password for the login user ID from being sent over the network (in the clear). Later versions automatically encrypt the password.
                     </p>
                  </div>
               </div><a id="TGSYU742"></a><div class="props_rev_3"><a id="GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8" name="GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8"></a><h4 id="TGSYU-GUID-DFBCD7A4-742B-40A2-8CEC-9BC22C1131A8" class="sect4">Date Arithmetic</h4>
                  <div>
                     <p>The following SQL expressions do not function correctly with the gateway:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">date </span>+<span class="italic"> numbernumber </span>+<span class="italic"> datedate - numberdate1 - date2</span>
</pre><p>Statements with the preceding expressions are sent to the Sybase database without any translation. Since Sybase does not support these date arithmetic functions, the statements return an error.</p>
                  </div>
               </div><a id="TGSYU743"></a><div class="props_rev_3"><a id="GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827" name="GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827"></a><h4 id="TGSYU-GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827" class="sect4">Sybase IMAGE and TEXT Data Type</h4>
                  <div>
                     <p>The following restrictions apply when using <code class="codeph">IMAGE</code> and <code class="codeph">TEXT</code> data types:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An unsupported SQL function cannot be used in a SQL statement that accesses a column defined as Sybase data type <code class="codeph">IMAGE</code> or <code class="codeph">TEXT</code>. 
                           </p>
                        </li>
                        <li>
                           <p>You cannot use SQL*Plus to select data from a column defined as Sybase data type <code class="codeph">IMAGE</code> or <code class="codeph">TEXT</code> when the data is greater than 80 characters in length. Oracle recommends using Pro*C or Oracle Call Interface to access such data in a Sybase database.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IMAGE</code> and <code class="codeph">TEXT</code> data cannot be read through pass-through queries.
                           </p>
                        </li>
                     </ul>
                     <p>The gateway does not support the PL/SQL function <code class="codeph">COLUMN_VALUE_LONG</code> of the <code class="codeph">DBMS_SQL</code> package.
                     </p>
                     <div class="infoboxnotealso" id="GUID-9B6A69F6-3D35-498F-9122-E4D22CE2C827__GUID-90E0CA7F-B5FF-4172-86F6-96294885E095">
                        <p class="notep1">See Also:</p>
                        <p><a href="database-gateway-sybase-supported-sqlsyntax-function.html#GUID-55F1375A-ACD9-4606-BE3B-AA63FEE172AE"> Supported SQL Syntax and Functions</a> for more information about restrictions on SQL syntax.
                        </p>
                     </div>
                  </div>
               </div><a id="TGSYU744"></a><div class="props_rev_3"><a id="GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07" name="GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07"></a><h4 id="TGSYU-GUID-9FCA8C8C-BEAD-4155-84FC-B73D8CD0DE07" class="sect4">String Functions</h4>
                  <div>
                     <p>If you concatenate numeric literals using the "<code class="codeph">||</code>" <a id="d2102e2574" class="indexterm-anchor"></a>operator when using the gateway to query a Sybase database, the result is an arithmetic addition. For example, the result of the following statement is 18:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT 9 || 9 FROM DUAL@SYBS;
</pre><p>The result is <code class="codeph">99</code> when using Oracle to query an Oracle database.
                     </p>
                  </div>
               </div><a id="TGSYU745"></a><div class="props_rev_3"><a id="GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E" name="GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E"></a><h4 id="TGSYU-GUID-0081DC7C-A0DD-4848-83E2-A069C6386C3E" class="sect4">Schema Names and PL/SQL</h4>
                  <div>
                     <p>If you do not prefix a Sybase database object with its schema name in a SQL statement within a PL/SQL block, the following error message occurs:</p><pre class="oac_no_warn" dir="ltr">ORA-6550 PLS-201 Identifier <span class="italic">table_name</span> must be declared.
</pre><p>Change the SQL statement to include the schema name of the object.</p>
                  </div>
               </div><a id="TGSYU746"></a><div class="props_rev_3"><a id="GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798" name="GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798"></a><h4 id="TGSYU-GUID-8FAA9284-10BB-49D3-B4BF-E300EA76C798" class="sect4">Data Dictionary Views and PL/SQL</h4>
                  <div>
                     <p>You cannot refer to data dictionary views in SQL statements that are inside a PL/SQL block.</p>
                  </div>
               </div><a id="TGSYU747"></a><div class="props_rev_3"><a id="GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2" name="GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2"></a><h4 id="TGSYU-GUID-C0B7E445-BF8F-478E-80E2-90DCF980DDF2" class="sect4">Stored Procedures</h4>
                  <div>
                     <p>Return values of stored procedures that return result sets are incorrect.</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01142.DBMS_XDB_CONSTANTS.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_XDB_CONSTANTS package provides an interface to commonly used constants. Users should use constants instead of dynamic strings to avoid typographical errors.">
      <meta name="description" content="The DBMS_XDB_CONSTANTS package provides an interface to commonly used constants. Users should use constants instead of dynamic strings to avoid typographical errors.">
      <title>DBMS_XDB_CONSTANTS</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_XDB_CONSTANTS package provides an interface to commonly used constants. Users should use constants instead of dynamic strings to avoid typographical errors.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_XDB_CONFIG.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_XDB_REPOS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_XDB_CONFIG.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_XDB_REPOS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_XDB_CONSTANTS </li>
            </ol>
            <a id="GUID-DA296C1A-98DF-45B5-BD70-1EC44047BF8D" name="GUID-DA296C1A-98DF-45B5-BD70-1EC44047BF8D"></a><a id="ARPLS73572"></a><a id="ARPLS73572"></a>
            
            <h2 id="ARPLS-GUID-DA296C1A-98DF-45B5-BD70-1EC44047BF8D" class="sect2"><span class="enumeration_chapter">189 </span>DBMS_XDB_CONSTANTS 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_XDB_CONSTANTS</code> package provides an interface to commonly used constants. Users should use constants instead of dynamic strings to avoid typographical errors.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_XDB_CONSTANTS.html#GUID-1474799E-7600-4006-B1BF-BFFFBA7F0F97" title="Owned by XDB, the DBMS_XDB_CONSTANTS package must be created by SYS or XDB. The EXECUTE privilege is granted to PUBLIC. Subprograms in this package are executed using the privileges of the current user.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XDB_CONSTANTS.html#GUID-99BA6C2C-0F44-457E-BE8A-35DF5BD08FA0" title="This table lists the DBMS_XDB_CONSTANTS subprograms and briefly describes them.">Summary of DBMS_XDB_CONSTANTS Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS73575"></a><a id="ARPLS73575"></a><div class="props_rev_3"><a id="GUID-1474799E-7600-4006-B1BF-BFFFBA7F0F97" name="GUID-1474799E-7600-4006-B1BF-BFFFBA7F0F97"></a><h3 id="ARPLS-GUID-1474799E-7600-4006-B1BF-BFFFBA7F0F97" class="sect3"><span class="enumeration_section">189.1 </span>DBMS_XDB_CONSTANTS Security Model
               </h3>
               <div>
                  <p>Owned by <code class="codeph">XDB</code>, the <code class="codeph">DBMS_XDB_CONSTANTS</code> package must be created by <code class="codeph">SYS</code> or <code class="codeph">XDB</code>. The <code class="codeph">EXECUTE</code> privilege is granted to <code class="codeph">PUBLIC</code>. Subprograms in this package are executed using the privileges of the current user.
                  </p>
               </div>
            </div><a id="ARPLS74705"></a><a id="ARPLS74706"></a><a id="ARPLS74706"></a><a id="ARPLS74705"></a><div class="props_rev_3"><a id="GUID-99BA6C2C-0F44-457E-BE8A-35DF5BD08FA0" name="GUID-99BA6C2C-0F44-457E-BE8A-35DF5BD08FA0"></a><h3 id="ARPLS-GUID-99BA6C2C-0F44-457E-BE8A-35DF5BD08FA0" class="sect3"><span class="enumeration_section">189.2 </span>Summary of DBMS_XDB_CONSTANTS Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_XDB_CONSTANTS</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-99BA6C2C-0F44-457E-BE8A-35DF5BD08FA0__GUID-A1867BA1-79CA-44A5-BCEA-06D836C5B33D">
                     <p class="titleintable">Table 189-1 DBMS_XDB_CONSTANTS Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XDB_CONSTANTS Package Subprograms" summary="This table lists the DBMS_XDB_CONSTANTS subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="38%" id="d1149547e335">Subprograms</th>
                              <th align="left" valign="bottom" width="62%" id="d1149547e338">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e343" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-1C2AF7C4-2326-46FD-A9C3-97542289936E" title="This function returns 'AL32UTF8'.">ENCODING_DEFAULT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e343 d1149547e338 ">
                                 <p>Returns <code class="codeph">'AL32UTF8'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e360" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-BB774B2A-9DD5-4DA3-B64F-343B3EFC79BA" title="This function returns 'WE8ISO8859P1'.">ENCODING_ISOLATIN1 Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e360 d1149547e338 ">
                                 <p>Returns <code class="codeph">'WE8ISO8859P1'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e377" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-3465DD06-907B-424B-9D21-FC2F929F9228" title="This function returns 'AL32UTF8'.">ENCODING_UTF8 Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e377 d1149547e338 ">
                                 <p>Returns <code class="codeph">'AL32UTF8'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e394" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-F6F2381B-4E90-4524-A0C5-AF7A6EB26235" title="This function returns 'WE8MSWIN1252'.">ENCODING_WIN1252 Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e394 d1149547e338 ">
                                 <p>Returns <code class="codeph">'WE8MSWIN1252'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e411" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-CE58183B-24CB-4871-BBA1-DF6C58C14295" title="This function returns 'http://xmlns.oracle.com/xdb/acl.xsd'.">NAMESPACE_ACL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e411 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e428" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-AF5B29C9-7238-48C1-85A5-269F4360AB9D" title="This function returns 'http://xmlns.oracle.com/xdbuserMetaData'.">NAMESPACE_METADATA Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e428 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdbuserMetaData'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e445" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-DD8EC21B-AAFA-4FE9-97E7-35D5F308E293" title="This function returns 'http://xmlns.oracle.com'.">NAMESPACE_ORACLE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e445 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e462" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-978C7ABB-4837-4BA4-88D9-6B5161F41D10" title="This function returns 'http://xmlns.oracle.com/xdb'.">NAMESPACE_ORACLE_XDB Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e462 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e479" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-C363732E-3C14-456B-A2A0-1C8EB1F41027" title="This function returns '/XDBResource.xsd'">NAMESPACE_RESOURCE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e479 d1149547e338 ">
                                 <p>Returns<code class="codeph"> 'http://xmlns.oracle.com/xdb/XDBResource.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e495" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-9504B5E4-BAF3-475D-AABE-306B977957C6" title="This function returns 'http://xmlns.oracle.com/resourceEvent'.">NAMESPACE_RESOURCE_EVENT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e495 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/resourceEvent'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e512" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-A63F12E6-7467-4E7E-B4F5-30ABD9C43B71" title="This function returns 'http://xmlns.oracle.com/XDBResConfig.xsd'.">NAMESPACE_RESOURCE_CONFIG Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e512 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/XDBResConfig.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e530" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-1E95D6BA-9E18-4219-BB73-3BC5771EA46A" title="This function returns 'http://xmlns.oracle.com/xdb/XDBSchema.xsd'.">NAMESPACE_XDBSCHEMA Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e530 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e547" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-66E058AB-F454-4DAA-A46F-651874041AC3" title="This function returns 'http://xmlns.oracle.com/xdb/xdiff.xsd'.">NAMESPACE_XMLDIFF Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e547 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb/xdiff.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e564" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-E5CABD5E-5C1F-4E10-A374-C81C4CE8BE0D" title="This function returns 'http://www.w3.org/2001/XMLSchema-instance'.">NAMESPACE_XMLINSTANCE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e564 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://www.w3.org/2001/XMLSchema-instance'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e581" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-9CCD2DF6-E4EE-4B6B-95CB-012E96100EDA" title="This function returns 'http://www.w3.org/2001/XMLSchema'.">NAMESPACE_XMLSCHEMA Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e581 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://www.w3.org/2001/XMLSchema'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e598" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-8D5CC0AE-7E44-4E9A-8E16-608BE0252CB4" title="This function returns 'xmlns:acl= 'http://xmlns.oracle.com/acs.xsd'.">NSPREFIX_ACL_ACL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e598 d1149547e338 ">
                                 <p>Returns <code class="codeph">'xmlns:acl= 'http://xmlns.oracle.com/acs.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e615" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-C4FE5538-4346-4AE4-9CAA-CF4A86F3FFB3" title="This function returns ''xmlns:rc=" http: xmlns.oracle.com xdb xdbresconfig.xsd"'.">NSPREFIX_RESCONFIG_RC Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e615 d1149547e338 ">
                                 <p>Returns <code class="codeph">'xmlns:rc="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e632" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-C37F76CC-CB08-4ABC-B197-7FEC9B8D0DD7" title="This function returns 'xmlns:r=" http: xmlns.oracle.com xdbresource.xsd'.">NSPREFIX_RESOURCE_R Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e632 d1149547e338 ">
                                 <p>Returns <code class="codeph">'xmlns:r="http://xmlns.oracle.com/XDBResource.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e649" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-4222FE64-26AE-4745-A096-1C72AF7DF855" title="This function returns 'http://xmlns.oracle.com/xdb'.">NSPREFIX_XDB_XDB Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e649 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e666" headers="d1149547e335 ">
                                 <p><a 2001 href="DBMS_XDB_CONSTANTS.html#GUID-035083C5-DB0B-456D-8F7B-15E2563E8522" title="This function returns 'xmlns:xsi=" http: www.w3.org xmlschema-instance"'.">NSPREFIX_XMLINSTANCE_XSI Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e666 d1149547e338 ">
                                 <p>Returns <code class="codeph">'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e683" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-8935FEEA-C4AE-467F-AABB-3676F6EC83E5" title="This function returns 'xmlns:xd=" http: xmlns.oracle.com xdb xdiff.xsd"'.">NSPREFIX_XMLDIFF_XD Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e683 d1149547e338 ">
                                 <p>Returns <code class="codeph">'xmlns:xd="http://xmlns.oracle.com/xdb/xdiff.xsd"'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e700" headers="d1149547e335 ">
                                 <p><a 2001 href="DBMS_XDB_CONSTANTS.html#GUID-85CCD7D8-E0E5-428D-8769-2BA6132A6B60" title="This function returns 'xmlns:xsd=" http: www.w3.org xmlschema"'.">NSPREFIX_XMLSCHEMA_XSD Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e700 d1149547e338 ">
                                 <p>Returns <code class="codeph">'xmlns:xsd="http://www.w3.org/2001/XMLSchema"'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e718" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-9939C761-2263-456B-BFFE-503FC0BADD09" title="This function returns 'http://xmlns.oracle.com/xdb/acl.xsd'.">SCHEMAURL_ACL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e718 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e735" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-D1AB3274-2695-4CBB-B9FD-0DE0E7ABAD5A" title="This function returns 'http://xmlns.oracle.com/xdb/acl.xsd#acl'.">SCHEMAELEM_RES_ACL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e735 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd#acl'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e752" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-6CBC30AD-871C-476E-ABAD-62CF75252207" title="This function returns 'http://xmlns.oracle.com/xdb/XDBSchema.xsd#binary'.">SCHEMAELEM_RESCONTENT_BINARY Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e752 d1149547e338 ">
                                 <p>Returns<code class="codeph"> 'http://xmlns.oracle.com/xdb/XDBSchema.xsd#binary'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e769" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-2BD2A9FD-83EE-4ADF-AD76-C7C9380A9088" title="This function returns 'http://xmlns.oracle.com/xdb/XDBSchema.xsd#text'.">SCHEMAELEM_RESCONTENT_TEXT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e769 d1149547e338 ">
                                 <p>Returns<code class="codeph"> 'http://xmlns.oracle.com/xdb/XDBSchema.xsd#text'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e786" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-1E8F7828-FAE7-441A-9C03-FB8DCA952A6D" title="This function returns 'http://xmlns.oracle.com/xdb/XDBResource.xsd'.">SCHEMAURL_RESOURCE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e786 d1149547e338 ">
                                 <p>Returns<code class="codeph"> 'http://xmlns.oracle.com/xdb/XDBResource.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e803" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-BD183F9C-1DB4-4809-8D98-448502063395" title="This function returns 'http://xmlns.oracle.com/xdb/XDBSchema.xsd'.">SCHEMAURL_XDBSCHEMA Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e803 d1149547e338 ">
                                 <p>Returns <code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e820" headers="d1149547e335 ">
                                 <p><a 2001 href="DBMS_XDB_CONSTANTS.html#GUID-B8B8F730-4278-4194-8CB7-3FEAAC943D4C" title="This function returns 'xmlns:xsd=" http: www.w3.org xmlschema" xmlns:xdb="http://xmlns.oracle.com/xdb'.">XDBSCHEMA_PREFIXES Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e820 d1149547e338 ">
                                 <p>Returns <code class="codeph">'xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xdb="http://xmlns.oracle.com/xdb'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e837" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-B2BB8155-CD89-4450-911A-05997A387092" title="This function returns 'attribute'.">XSD_ATTRIBUTE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e837 d1149547e338 ">
                                 <p>Returns <code class="codeph">'attribute'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e854" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-1EFE9DD1-31A5-4CA7-A779-B7A3EC839918" title="This function returns 'complexType'.">XSD_COMPLEX_TYPE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e854 d1149547e338 ">
                                 <p>Returns <code class="codeph">'complexType'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e871" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-0BD3C080-D31F-4E44-A31A-8409A052DCB2" title="This function returns 'element'.">XSD_ELEMENT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e871 d1149547e338 ">
                                 <p>Returns <code class="codeph">'element'</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d1149547e888" headers="d1149547e335 ">
                                 <p><a href="DBMS_XDB_CONSTANTS.html#GUID-277B6F16-30D3-4504-8747-93C490DBAB3F" title="This function returns 'group'">XSD_GROUP Function</a></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d1149547e888 d1149547e338 ">
                                 <p>Returns <code class="codeph">'group'</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS74707"></a><a id="ARPLS74707"></a><div class="props_rev_3"><a id="GUID-1C2AF7C4-2326-46FD-A9C3-97542289936E" name="GUID-1C2AF7C4-2326-46FD-A9C3-97542289936E"></a><h4 id="ARPLS-GUID-1C2AF7C4-2326-46FD-A9C3-97542289936E" class="sect4"><span class="enumeration_section">189.2.1 </span>ENCODING_DEFAULT Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'AL32UTF8'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1C2AF7C4-2326-46FD-A9C3-97542289936E__GUID-25F1E0D5-55FF-4B69-B21E-727B013FC603">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.ENCODING_DEFAULT   
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1C2AF7C4-2326-46FD-A9C3-97542289936E__GUID-CAA3F5B4-DB32-4438-A542-531C8C385A08">Return Value</p>
                        <p><code class="codeph">'AL32UTF8'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74708"></a><a id="ARPLS74708"></a><div class="props_rev_3"><a id="GUID-BB774B2A-9DD5-4DA3-B64F-343B3EFC79BA" name="GUID-BB774B2A-9DD5-4DA3-B64F-343B3EFC79BA"></a><h4 id="ARPLS-GUID-BB774B2A-9DD5-4DA3-B64F-343B3EFC79BA" class="sect4"><span class="enumeration_section">189.2.2 </span>ENCODING_ISOLATIN1 Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'WE8ISO8859P1'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BB774B2A-9DD5-4DA3-B64F-343B3EFC79BA__GUID-2A6B0F38-B3E0-4F0C-A603-6F18EAF026C9">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.ENCODING_ISOLATIN1      
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BB774B2A-9DD5-4DA3-B64F-343B3EFC79BA__GUID-F5FC2966-8A9C-4A20-B248-12B884564D5E">Return Value</p>
                        <p><code class="codeph">'WE8ISO8859P1'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74709"></a><a id="ARPLS74709"></a><div class="props_rev_3"><a id="GUID-3465DD06-907B-424B-9D21-FC2F929F9228" name="GUID-3465DD06-907B-424B-9D21-FC2F929F9228"></a><h4 id="ARPLS-GUID-3465DD06-907B-424B-9D21-FC2F929F9228" class="sect4"><span class="enumeration_section">189.2.3 </span>ENCODING_UTF8 Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'AL32UTF8'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3465DD06-907B-424B-9D21-FC2F929F9228__GUID-D8132663-EAAD-4096-85A2-0DC4DE04BE02">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.ENCODING_UTF8      
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3465DD06-907B-424B-9D21-FC2F929F9228__GUID-46322841-BF8F-4131-81E5-7A6E1118F4B4">Return Value</p>
                        <p><code class="codeph">'AL32UTF8'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74710"></a><a id="ARPLS74710"></a><div class="props_rev_3"><a id="GUID-F6F2381B-4E90-4524-A0C5-AF7A6EB26235" name="GUID-F6F2381B-4E90-4524-A0C5-AF7A6EB26235"></a><h4 id="ARPLS-GUID-F6F2381B-4E90-4524-A0C5-AF7A6EB26235" class="sect4"><span class="enumeration_section">189.2.4 </span>ENCODING_WIN1252 Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'WE8MSWIN1252'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6F2381B-4E90-4524-A0C5-AF7A6EB26235__GUID-CD822FC5-8640-414E-857B-4AAE9F2BB377">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.ENCODING_WIN1252    
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6F2381B-4E90-4524-A0C5-AF7A6EB26235__GUID-40C4DA25-8978-484E-9EDF-E9CBEC677701">Return Value</p>
                        <p><code class="codeph">'WE8MSWIN1252'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74711"></a><a id="ARPLS74711"></a><div class="props_rev_3"><a id="GUID-CE58183B-24CB-4871-BBA1-DF6C58C14295" name="GUID-CE58183B-24CB-4871-BBA1-DF6C58C14295"></a><h4 id="ARPLS-GUID-CE58183B-24CB-4871-BBA1-DF6C58C14295" class="sect4"><span class="enumeration_section">189.2.5 </span>NAMESPACE_ACL Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CE58183B-24CB-4871-BBA1-DF6C58C14295__GUID-FDDE250E-8361-4804-A8C9-3EE3E52C2B9A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_ACL          
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CE58183B-24CB-4871-BBA1-DF6C58C14295__GUID-4F5AC8A7-EA3B-424E-9DCA-9154D1A0F689">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74712"></a><a id="ARPLS74712"></a><div class="props_rev_3"><a id="GUID-AF5B29C9-7238-48C1-85A5-269F4360AB9D" name="GUID-AF5B29C9-7238-48C1-85A5-269F4360AB9D"></a><h4 id="ARPLS-GUID-AF5B29C9-7238-48C1-85A5-269F4360AB9D" class="sect4"><span class="enumeration_section">189.2.6 </span>NAMESPACE_METADATA Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdbuserMetaData'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AF5B29C9-7238-48C1-85A5-269F4360AB9D__GUID-8BE27226-3889-4B34-B166-99A011046FC7">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_METADATA    
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF5B29C9-7238-48C1-85A5-269F4360AB9D__GUID-9A4C5068-FB8F-427E-A6B8-4BD24AE06DCC">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdbuserMetaData'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74713"></a><a id="ARPLS74713"></a><div class="props_rev_3"><a id="GUID-DD8EC21B-AAFA-4FE9-97E7-35D5F308E293" name="GUID-DD8EC21B-AAFA-4FE9-97E7-35D5F308E293"></a><h4 id="ARPLS-GUID-DD8EC21B-AAFA-4FE9-97E7-35D5F308E293" class="sect4"><span class="enumeration_section">189.2.7 </span>NAMESPACE_ORACLE Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DD8EC21B-AAFA-4FE9-97E7-35D5F308E293__GUID-0B6060D5-F30B-4982-BB64-F596DC42751F">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_ORACLE      
  RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD8EC21B-AAFA-4FE9-97E7-35D5F308E293__GUID-8BB86399-35C7-42D7-AB8C-D3ABEA4CD5A7">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74714"></a><a id="ARPLS74714"></a><div class="props_rev_3"><a id="GUID-978C7ABB-4837-4BA4-88D9-6B5161F41D10" name="GUID-978C7ABB-4837-4BA4-88D9-6B5161F41D10"></a><h4 id="ARPLS-GUID-978C7ABB-4837-4BA4-88D9-6B5161F41D10" class="sect4"><span class="enumeration_section">189.2.8 </span>NAMESPACE_ORACLE_XDB Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-978C7ABB-4837-4BA4-88D9-6B5161F41D10__GUID-D44C626C-901B-4A3F-B496-7ABD3253DB2E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_ORACLE_XDB     
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-978C7ABB-4837-4BA4-88D9-6B5161F41D10__GUID-B75B1989-FCA7-4134-A767-A35335A51971">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74715"></a><a id="ARPLS74715"></a><div class="props_rev_3"><a id="GUID-C363732E-3C14-456B-A2A0-1C8EB1F41027" name="GUID-C363732E-3C14-456B-A2A0-1C8EB1F41027"></a><h4 id="ARPLS-GUID-C363732E-3C14-456B-A2A0-1C8EB1F41027" class="sect4"><span class="enumeration_section">189.2.9 </span>NAMESPACE_RESOURCE Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'/XDBResource.xsd'</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C363732E-3C14-456B-A2A0-1C8EB1F41027__GUID-0F745A0C-9488-4EA0-AE5B-F80DF0C9BF25">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_RESOURCE     
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C363732E-3C14-456B-A2A0-1C8EB1F41027__GUID-70CED1B8-77B4-410F-9BA1-0C33AD965B5F">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/XDBResource.xsd</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74716"></a><a id="ARPLS74716"></a><div class="props_rev_3"><a id="GUID-9504B5E4-BAF3-475D-AABE-306B977957C6" name="GUID-9504B5E4-BAF3-475D-AABE-306B977957C6"></a><h4 id="ARPLS-GUID-9504B5E4-BAF3-475D-AABE-306B977957C6" class="sect4"><span class="enumeration_section">189.2.10 </span>NAMESPACE_RESOURCE_EVENT Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/resourceEvent'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9504B5E4-BAF3-475D-AABE-306B977957C6__GUID-92DFA81E-E047-4AD4-B0BE-700A67D5A9FB">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_RESOURCE_EVENT   
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9504B5E4-BAF3-475D-AABE-306B977957C6__GUID-400E7FAD-DC85-47E9-985D-3B2C4317B35C">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/resourceEvent'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74717"></a><a id="ARPLS74717"></a><div class="props_rev_3"><a id="GUID-A63F12E6-7467-4E7E-B4F5-30ABD9C43B71" name="GUID-A63F12E6-7467-4E7E-B4F5-30ABD9C43B71"></a><h4 id="ARPLS-GUID-A63F12E6-7467-4E7E-B4F5-30ABD9C43B71" class="sect4"><span class="enumeration_section">189.2.11 </span>NAMESPACE_RESOURCE_CONFIG Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/XDBResConfig.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A63F12E6-7467-4E7E-B4F5-30ABD9C43B71__GUID-35C6F7C2-E72D-4B07-9679-F8225F86E79F">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_RESOURCE_CONFIG  
  RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A63F12E6-7467-4E7E-B4F5-30ABD9C43B71__GUID-FAD59964-4AF4-4842-A048-C5888F83EC81">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/XDBResConfig.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74718"></a><a id="ARPLS74718"></a><div class="props_rev_3"><a id="GUID-1E95D6BA-9E18-4219-BB73-3BC5771EA46A" name="GUID-1E95D6BA-9E18-4219-BB73-3BC5771EA46A"></a><h4 id="ARPLS-GUID-1E95D6BA-9E18-4219-BB73-3BC5771EA46A" class="sect4"><span class="enumeration_section">189.2.12 </span>NAMESPACE_XDBSCHEMA Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1E95D6BA-9E18-4219-BB73-3BC5771EA46A__GUID-7D3AF82C-9376-4AE3-8FA9-B8EF3B541B17">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_XDBSCHEMA  
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E95D6BA-9E18-4219-BB73-3BC5771EA46A__GUID-35AEAA84-A81D-4845-BB3D-C1A7CACAC6E1">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74719"></a><a id="ARPLS74719"></a><div class="props_rev_3"><a id="GUID-66E058AB-F454-4DAA-A46F-651874041AC3" name="GUID-66E058AB-F454-4DAA-A46F-651874041AC3"></a><h4 id="ARPLS-GUID-66E058AB-F454-4DAA-A46F-651874041AC3" class="sect4"><span class="enumeration_section">189.2.13 </span>NAMESPACE_XMLDIFF Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/xdiff.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-66E058AB-F454-4DAA-A46F-651874041AC3__GUID-6F1BDB2D-6103-4354-951C-BFFD97ACF79C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_XMLDIFF       
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66E058AB-F454-4DAA-A46F-651874041AC3__GUID-3C5D32C5-D354-45E7-8602-8E378F32B402">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/xdiff.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74720"></a><a id="ARPLS74720"></a><div class="props_rev_3"><a id="GUID-E5CABD5E-5C1F-4E10-A374-C81C4CE8BE0D" name="GUID-E5CABD5E-5C1F-4E10-A374-C81C4CE8BE0D"></a><h4 id="ARPLS-GUID-E5CABD5E-5C1F-4E10-A374-C81C4CE8BE0D" class="sect4"><span class="enumeration_section">189.2.14 </span>NAMESPACE_XMLINSTANCE Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://www.w3.org/2001/XMLSchema-instance'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E5CABD5E-5C1F-4E10-A374-C81C4CE8BE0D__GUID-6259B300-3DC6-482A-B767-C62646994D21">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NAMESPACE_XMLINSTANCE    
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E5CABD5E-5C1F-4E10-A374-C81C4CE8BE0D__GUID-F812E2A1-F91D-4849-9E98-324B8CD17581">Return Value</p>
                        <p><code class="codeph">'http://www.w3.org/2001/XMLSchema-instance'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74721"></a><a id="ARPLS74721"></a><div class="props_rev_3"><a id="GUID-9CCD2DF6-E4EE-4B6B-95CB-012E96100EDA" name="GUID-9CCD2DF6-E4EE-4B6B-95CB-012E96100EDA"></a><h4 id="ARPLS-GUID-9CCD2DF6-E4EE-4B6B-95CB-012E96100EDA" class="sect4"><span class="enumeration_section">189.2.15 </span>NAMESPACE_XMLSCHEMA Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://www.w3.org/2001/XMLSchema'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCD2DF6-E4EE-4B6B-95CB-012E96100EDA__GUID-1303AB25-B0F2-4A47-B30D-673CCD66832E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS. NAMESPACE_XMLSCHEMA     
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCD2DF6-E4EE-4B6B-95CB-012E96100EDA__GUID-28C5A25D-9633-4AC6-8BF6-5278DAF26E26">Return Value</p>
                        <p><code class="codeph">'http://www.w3.org/2001/XMLSchema'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74722"></a><a id="ARPLS74722"></a><div class="props_rev_3"><a id="GUID-8D5CC0AE-7E44-4E9A-8E16-608BE0252CB4" name="GUID-8D5CC0AE-7E44-4E9A-8E16-608BE0252CB4"></a><h4 id="ARPLS-GUID-8D5CC0AE-7E44-4E9A-8E16-608BE0252CB4" class="sect4"><span class="enumeration_section">189.2.16 </span>NSPREFIX_ACL_ACL Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'xmlns:acl= 'http://xmlns.oracle.com/acs.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8D5CC0AE-7E44-4E9A-8E16-608BE0252CB4__GUID-3C65A26B-0A3F-4D63-A43B-0DBD6318024B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NSPREFIX_ACL_ACL          
  RETURN VARCHAR2 DETERMINISTIC;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8D5CC0AE-7E44-4E9A-8E16-608BE0252CB4__GUID-400FEFF7-3622-46A4-83D2-579E60E72C68">Return Value</p>
                        <p><code class="codeph">'xmlns:acl= 'http://xmlns.oracle.com/acs.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74723"></a><a id="ARPLS74723"></a><div class="props_rev_3"><a id="GUID-C4FE5538-4346-4AE4-9CAA-CF4A86F3FFB3" name="GUID-C4FE5538-4346-4AE4-9CAA-CF4A86F3FFB3"></a><h4 id="ARPLS-GUID-C4FE5538-4346-4AE4-9CAA-CF4A86F3FFB3" class="sect4"><span class="enumeration_section">189.2.17 </span>NSPREFIX_RESCONFIG_RC Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">''xmlns:rc="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C4FE5538-4346-4AE4-9CAA-CF4A86F3FFB3__GUID-A83D98CF-232B-4D7D-9066-C921D2A9C7E0">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NSPREFIX_RESCONFIG_RC   
  RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4FE5538-4346-4AE4-9CAA-CF4A86F3FFB3__GUID-17467439-4F34-4B75-83A1-CA38FBB02735">Return Value</p>
                        <p><code class="codeph">Returns ''xmlns:rc="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74724"></a><a id="ARPLS74724"></a><div class="props_rev_3"><a id="GUID-C37F76CC-CB08-4ABC-B197-7FEC9B8D0DD7" name="GUID-C37F76CC-CB08-4ABC-B197-7FEC9B8D0DD7"></a><h4 id="ARPLS-GUID-C37F76CC-CB08-4ABC-B197-7FEC9B8D0DD7" class="sect4"><span class="enumeration_section">189.2.18 </span>NSPREFIX_RESOURCE_R Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'xmlns:r="http://xmlns.oracle.com/XDBResource.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C37F76CC-CB08-4ABC-B197-7FEC9B8D0DD7__GUID-F0783089-642C-42CB-BD96-7AA2AE036DFA">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NSPREFIX_RESOURCE_R         
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C37F76CC-CB08-4ABC-B197-7FEC9B8D0DD7__GUID-A06F9435-16F3-4635-BD5E-F3E2FC707387">Return Value</p>
                        <p><code class="codeph">'xmlns:r="http://xmlns.oracle.com/XDBResource.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74725"></a><a id="ARPLS74725"></a><div class="props_rev_3"><a id="GUID-4222FE64-26AE-4745-A096-1C72AF7DF855" name="GUID-4222FE64-26AE-4745-A096-1C72AF7DF855"></a><h4 id="ARPLS-GUID-4222FE64-26AE-4745-A096-1C72AF7DF855" class="sect4"><span class="enumeration_section">189.2.19 </span>NSPREFIX_XDB_XDB Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4222FE64-26AE-4745-A096-1C72AF7DF855__GUID-4BB1A843-1EB0-436F-A3CA-9EA92280D056">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NSPREFIX_XDB_XDB     
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4222FE64-26AE-4745-A096-1C72AF7DF855__GUID-9CDDC270-DA55-42D9-BEE1-87385066932B">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74726"></a><a id="ARPLS74726"></a><div class="props_rev_3"><a id="GUID-035083C5-DB0B-456D-8F7B-15E2563E8522" name="GUID-035083C5-DB0B-456D-8F7B-15E2563E8522"></a><h4 id="ARPLS-GUID-035083C5-DB0B-456D-8F7B-15E2563E8522" class="sect4"><span class="enumeration_section">189.2.20 </span>NSPREFIX_XMLINSTANCE_XSI Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-035083C5-DB0B-456D-8F7B-15E2563E8522__GUID-69384276-4E4B-4F72-8EBC-ACA9774199ED">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NSPREFIX_XMLINSTANCE_XSI  
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-035083C5-DB0B-456D-8F7B-15E2563E8522__GUID-621D1D62-81DC-4182-8CC0-D86434127277">Return Value</p>
                        <p><code class="codeph">'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</code>'
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74727"></a><a id="ARPLS74727"></a><div class="props_rev_3"><a id="GUID-8935FEEA-C4AE-467F-AABB-3676F6EC83E5" name="GUID-8935FEEA-C4AE-467F-AABB-3676F6EC83E5"></a><h4 id="ARPLS-GUID-8935FEEA-C4AE-467F-AABB-3676F6EC83E5" class="sect4"><span class="enumeration_section">189.2.21 </span>NSPREFIX_XMLDIFF_XD Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'xmlns:xd="http://xmlns.oracle.com/xdb/xdiff.xsd"'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8935FEEA-C4AE-467F-AABB-3676F6EC83E5__GUID-AB2F1487-F9BD-4EBC-92D0-B98824BB813F">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NSPREFIX_XMLDIFF_XD      
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8935FEEA-C4AE-467F-AABB-3676F6EC83E5__GUID-100D7CFB-EC53-46C5-9862-3479F1B46462">Return Value</p>
                        <p><code class="codeph">'xmlns:xd="http://xmlns.oracle.com/xdb/xdiff.xsd"'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74728"></a><a id="ARPLS74728"></a><div class="props_rev_3"><a id="GUID-85CCD7D8-E0E5-428D-8769-2BA6132A6B60" name="GUID-85CCD7D8-E0E5-428D-8769-2BA6132A6B60"></a><h4 id="ARPLS-GUID-85CCD7D8-E0E5-428D-8769-2BA6132A6B60" class="sect4"><span class="enumeration_section">189.2.22 </span>NSPREFIX_XMLSCHEMA_XSD Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'xmlns:xsd="http://www.w3.org/2001/XMLSchema"'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-85CCD7D8-E0E5-428D-8769-2BA6132A6B60__GUID-86541120-CEB9-4CBB-8994-AEB6796AD44B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.NSPREFIX_XMLSCHEMA_XSD   
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-85CCD7D8-E0E5-428D-8769-2BA6132A6B60__GUID-CB9E2F54-A0A4-4E67-8E96-20DF1164949B">Return Value</p>
                        <p><code class="codeph">'xmlns:xsd="http://www.w3.org/2001/XMLSchema"'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74729"></a><a id="ARPLS74729"></a><div class="props_rev_3"><a id="GUID-9939C761-2263-456B-BFFE-503FC0BADD09" name="GUID-9939C761-2263-456B-BFFE-503FC0BADD09"></a><h4 id="ARPLS-GUID-9939C761-2263-456B-BFFE-503FC0BADD09" class="sect4"><span class="enumeration_section">189.2.23 </span>SCHEMAURL_ACL Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9939C761-2263-456B-BFFE-503FC0BADD09__GUID-B232D3C6-4A34-4A98-8160-902E1E347FFD">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.SCHEMAURL_ACL         
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9939C761-2263-456B-BFFE-503FC0BADD09__GUID-EBAA6D41-2CC2-44D1-83E1-191CD5CD1FB8">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74730"></a><a id="ARPLS74730"></a><div class="props_rev_3"><a id="GUID-D1AB3274-2695-4CBB-B9FD-0DE0E7ABAD5A" name="GUID-D1AB3274-2695-4CBB-B9FD-0DE0E7ABAD5A"></a><h4 id="ARPLS-GUID-D1AB3274-2695-4CBB-B9FD-0DE0E7ABAD5A" class="sect4"><span class="enumeration_section">189.2.24 </span>SCHEMAELEM_RES_ACL Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd#acl'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D1AB3274-2695-4CBB-B9FD-0DE0E7ABAD5A__GUID-D4DE7474-F454-49D7-809C-CCBED3238C57">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.SCHEMAELEM_RES_ACL           
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1AB3274-2695-4CBB-B9FD-0DE0E7ABAD5A__GUID-83A4D0C8-E3AD-47D0-8804-E0EB9145217D">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/acl.xsd#acl'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74731"></a><a id="ARPLS74731"></a><div class="props_rev_3"><a id="GUID-6CBC30AD-871C-476E-ABAD-62CF75252207" name="GUID-6CBC30AD-871C-476E-ABAD-62CF75252207"></a><h4 id="ARPLS-GUID-6CBC30AD-871C-476E-ABAD-62CF75252207" class="sect4"><span class="enumeration_section">189.2.25 </span>SCHEMAELEM_RESCONTENT_BINARY Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd#binary'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6CBC30AD-871C-476E-ABAD-62CF75252207__GUID-C09462AC-3685-4E06-88A1-41B453ED4740">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.SCHEMAELEM_RESCONTENT_BINARY         
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6CBC30AD-871C-476E-ABAD-62CF75252207__GUID-2C4F72B5-783D-430B-8DB7-ADFF4DAC0754">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd#binary'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74732"></a><a id="ARPLS74732"></a><div class="props_rev_3"><a id="GUID-2BD2A9FD-83EE-4ADF-AD76-C7C9380A9088" name="GUID-2BD2A9FD-83EE-4ADF-AD76-C7C9380A9088"></a><h4 id="ARPLS-GUID-2BD2A9FD-83EE-4ADF-AD76-C7C9380A9088" class="sect4"><span class="enumeration_section">189.2.26 </span>SCHEMAELEM_RESCONTENT_TEXT Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd#text'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2BD2A9FD-83EE-4ADF-AD76-C7C9380A9088__GUID-D74F8E06-EAD9-4448-82A0-1F6A2A5AF42D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.SCHEMAELEM_RESCONTENT_TEXT        
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BD2A9FD-83EE-4ADF-AD76-C7C9380A9088__GUID-AA748354-27E8-4743-B852-89238A5B16E1">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd#text'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74733"></a><a id="ARPLS74733"></a><div class="props_rev_3"><a id="GUID-1E8F7828-FAE7-441A-9C03-FB8DCA952A6D" name="GUID-1E8F7828-FAE7-441A-9C03-FB8DCA952A6D"></a><h4 id="ARPLS-GUID-1E8F7828-FAE7-441A-9C03-FB8DCA952A6D" class="sect4"><span class="enumeration_section">189.2.27 </span>SCHEMAURL_RESOURCE Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/XDBResource.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1E8F7828-FAE7-441A-9C03-FB8DCA952A6D__GUID-A9AEA047-5AA8-400C-A506-A9D48FB8B857">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.SCHEMAURL_RESOURCE     
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E8F7828-FAE7-441A-9C03-FB8DCA952A6D__GUID-9907D3FB-A060-454E-8F4C-3EC6361DA608">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/XDBResource.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74734"></a><a id="ARPLS74734"></a><div class="props_rev_3"><a id="GUID-BD183F9C-1DB4-4809-8D98-448502063395" name="GUID-BD183F9C-1DB4-4809-8D98-448502063395"></a><h4 id="ARPLS-GUID-BD183F9C-1DB4-4809-8D98-448502063395" class="sect4"><span class="enumeration_section">189.2.28 </span>SCHEMAURL_XDBSCHEMA Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BD183F9C-1DB4-4809-8D98-448502063395__GUID-AD59369C-84AA-4A09-A1F2-72E1E5C8CFA7">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.SCHEMAURL_XDBSCHEMA 
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BD183F9C-1DB4-4809-8D98-448502063395__GUID-5F27AC77-17EB-49F9-8CE0-A81C9CA72CE7">Return Value</p>
                        <p><code class="codeph">'http://xmlns.oracle.com/xdb/XDBSchema.xsd'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74735"></a><a id="ARPLS74735"></a><div class="props_rev_3"><a id="GUID-B8B8F730-4278-4194-8CB7-3FEAAC943D4C" name="GUID-B8B8F730-4278-4194-8CB7-3FEAAC943D4C"></a><h4 id="ARPLS-GUID-B8B8F730-4278-4194-8CB7-3FEAAC943D4C" class="sect4"><span class="enumeration_section">189.2.29 </span>XDBSCHEMA_PREFIXES Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xdb="http://xmlns.oracle.com/xdb'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B8B8F730-4278-4194-8CB7-3FEAAC943D4C__GUID-D431BBDA-B29F-4C20-B288-6FEA345931F3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.XDBSCHEMA_PREFIXES        
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8B8F730-4278-4194-8CB7-3FEAAC943D4C__GUID-256D573E-3F80-49A2-80D3-40FF6E34130B">Return Value</p>
                        <p><code class="codeph">'xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xdb="http://xmlns.oracle.com/xdb'</code> 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74736"></a><a id="ARPLS74736"></a><div class="props_rev_3"><a id="GUID-B2BB8155-CD89-4450-911A-05997A387092" name="GUID-B2BB8155-CD89-4450-911A-05997A387092"></a><h4 id="ARPLS-GUID-B2BB8155-CD89-4450-911A-05997A387092" class="sect4"><span class="enumeration_section">189.2.30 </span>XSD_ATTRIBUTE Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'attribute'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B2BB8155-CD89-4450-911A-05997A387092__GUID-4AA1FE5F-4497-43A9-B707-B4E5D17C7AC0">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.XSD_ATTRIBUTE  
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2BB8155-CD89-4450-911A-05997A387092__GUID-6EB74624-EA6D-4299-8202-1752F9DD8EFD">Return Value</p>
                        <p><code class="codeph">'attribute'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74737"></a><a id="ARPLS74737"></a><div class="props_rev_3"><a id="GUID-1EFE9DD1-31A5-4CA7-A779-B7A3EC839918" name="GUID-1EFE9DD1-31A5-4CA7-A779-B7A3EC839918"></a><h4 id="ARPLS-GUID-1EFE9DD1-31A5-4CA7-A779-B7A3EC839918" class="sect4"><span class="enumeration_section">189.2.31 </span>XSD_COMPLEX_TYPE Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'complexType'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1EFE9DD1-31A5-4CA7-A779-B7A3EC839918__GUID-E6952D94-0D1C-43BC-9261-201661017073">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.XSD_COMPLEX_TYPE    
  RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1EFE9DD1-31A5-4CA7-A779-B7A3EC839918__GUID-677C8AAB-4BF1-4118-9AB4-3F062AD33F50">Return Value</p>
                        <p><code class="codeph">'complexType'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74738"></a><a id="ARPLS74738"></a><div class="props_rev_3"><a id="GUID-0BD3C080-D31F-4E44-A31A-8409A052DCB2" name="GUID-0BD3C080-D31F-4E44-A31A-8409A052DCB2"></a><h4 id="ARPLS-GUID-0BD3C080-D31F-4E44-A31A-8409A052DCB2" class="sect4"><span class="enumeration_section">189.2.32 </span>XSD_ELEMENT Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'element'</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0BD3C080-D31F-4E44-A31A-8409A052DCB2__GUID-FCB7B3C5-BA7E-43F3-AC0A-996914E74F90">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS. XSD_ELEMENT      
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0BD3C080-D31F-4E44-A31A-8409A052DCB2__GUID-262E856B-381E-410E-BFE5-6D31E279FB0E">Return Value</p>
                        <p><code class="codeph">'element'</code> 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74739"></a><a id="ARPLS74739"></a><div class="props_rev_3"><a id="GUID-277B6F16-30D3-4504-8747-93C490DBAB3F" name="GUID-277B6F16-30D3-4504-8747-93C490DBAB3F"></a><h4 id="ARPLS-GUID-277B6F16-30D3-4504-8747-93C490DBAB3F" class="sect4"><span class="enumeration_section">189.2.33 </span>XSD_GROUP Function
                  </h4>
                  <div>
                     <p>This function returns <code class="codeph">'group'</code></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-277B6F16-30D3-4504-8747-93C490DBAB3F__GUID-20E60B9D-0B72-45C3-B406-2F23C60F9438">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XDB_CONSTANTS.XSD_GROUP   
 RETURN VARCHAR2 DETERMINISTIC;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-277B6F16-30D3-4504-8747-93C490DBAB3F__GUID-C3454A2D-880C-4B36-B580-224861AA68C5">Return Value</p>
                        <p><code class="codeph">'group'</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='09302.V-SQL_PLAN_MONITOR.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="V$SQL_PLAN_MONITOR displays plan level monitoring statistics for each SQL statement found in V$SQL_MONITOR.">
      <meta name="description" content="V$SQL_PLAN_MONITOR displays plan level monitoring statistics for each SQL statement found in V$SQL_MONITOR.">
      <title>V$SQL_PLAN_MONITOR</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Reference">
      <meta property="og:description" content="V$SQL_PLAN_MONITOR displays plan level monitoring statistics for each SQL statement found in V$SQL_MONITOR.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00">
      <meta name="dcterms.title" content="Database Reference">
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96196-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="V-SQL_PLAN.html" title="Previous" type="text/html">
      <link rel="next" href="V-SQL_PLAN_STATISTICS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="V-SQL_PLAN.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="V-SQL_PLAN_STATISTICS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-views.html" property="item" typeof="WebPage"><span property="name"> Dynamic Performance Views </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-v-views-3.html" property="item" typeof="WebPage"><span property="name"> Dynamic Performance (V$) Views: V$SCHEDULER_RUNNING_JOBS to V$ZONEMAP_USAGE_STATS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">V$SQL_PLAN_MONITOR</li>
            </ol>
            <a id="GUID-85354ECB-7E2E-4D4B-AE78-243A4BB6E523" name="GUID-85354ECB-7E2E-4D4B-AE78-243A4BB6E523"></a><a id="REFRN30480"></a>
            
            <h2 id="REFRN-GUID-85354ECB-7E2E-4D4B-AE78-243A4BB6E523" class="sect2"><span class="enumeration_section">9.59 </span>V$SQL_PLAN_MONITOR
            </h2>
         </header>
         <div class="ind">
            <div>
               <div><span><code class="codeph">V$SQL_PLAN_MONITOR</code> displays plan level monitoring statistics for each SQL statement found in <code class="codeph">V$SQL_MONITOR</code>.</span> Each row in <code class="codeph">V$SQL_PLAN_MONITOR</code> corresponds to an operation of the execution plan being monitored. As with <code class="codeph">V$SQL_MONITOR</code>, statistics exposed in <code class="codeph">V$SQL_PLAN_MONITOR</code> are generally updated every second when the statement executes. These statistics are recycled on the same basis as <code class="codeph">V$SQL_MONITOR</code>.
               </div>
               <div class="section">
                  <p>To eliminate the overhead of SQL plan monitoring, statistics collected for each operation of the plan do not record timing information such as elapsed time, CPU time, or I/O time. Instead, this timing information can be estimated quite accurately by joining <code class="codeph">V$SQL_PLAN_MONITOR</code> with <code class="codeph">V$ACTIVE_SESSION_HISTORY</code> on <code class="codeph">SQL_ID</code>, <code class="codeph">SQL_EXEC_START</code>, <code class="codeph">SQL_EXEC_ID</code>, and <code class="codeph">SQL_PLAN_LINE_ID</code> (simply named <code class="codeph">PLAN_LINE_ID</code> in <code class="codeph">V$SQL_PLAN_MONITOR</code>). The result of that join is a sample of the activity performed by each operation in the plan, from which an estimate of CPU time and wait time can be derived. This can be achieved by breaking statement level monitoring time statistics found in <code class="codeph">V$SQL_MONITOR</code> in proportion to the number of samples found in <code class="codeph">V$ACTIVE_SESSION_HISTORY</code> for the corresponding activity type.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-85354ECB-7E2E-4D4B-AE78-243A4BB6E523__GUID-0B4C1723-5A61-43DE-96A9-3FFBE4A47C15">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title summary="This table describes the columns for this database view" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d2095259e220">Column</th>
                           <th align="left" valign="bottom" width="18%" id="d2095259e223">Datatype</th>
                           <th align="left" valign="bottom" width="58%" id="d2095259e226">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e231" headers="d2095259e220 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e231 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e231 d2095259e226 ">
                              <p>The ID of the container to which the data pertains. Possible values include:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">0</code>: This value is used for rows containing data that pertain to the entire CDB. This value is also used for rows in non-CDBs.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code>: This value is used for rows containing data that pertain to only the root
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span>: Where <span class="italic">n</span> is the applicable container ID for the rows containing data
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e262" headers="d2095259e220 ">
                              <p><code class="codeph">KEY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e262 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e262 d2095259e226 ">
                              <p>Foreign key to efficiently join <code class="codeph">V$SQL_PLAN_MONITOR</code> with <code class="codeph">V$SQL_MONITOR</code> (see <code class="codeph">V$SQL_MONITOR</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e283" headers="d2095259e220 ">
                              <p><code class="codeph">STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e283 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(19)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e283 d2095259e226 ">
                              <p>SQL execution status:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">EXECUTING</code> - SQL statement is still executing
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DONE (ERROR)</code> - Execution terminated with an error
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DONE (FIRST N ROWS)</code> - Execution terminated by the application before all rows were fetched
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DONE (ALL ROWS)</code> - Execution terminated and all rows were fetched
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DONE</code> - Execution terminated (parallel execution)
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e321" headers="d2095259e220 ">
                              <p><code class="codeph">FIRST_REFRESH_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e321 d2095259e223 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e321 d2095259e226 ">
                              <p>Time when monitoring of the SQL statement started</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e333" headers="d2095259e220 ">
                              <p><code class="codeph">LAST_REFRESH_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e333 d2095259e223 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e333 d2095259e226 ">
                              <p>Time when statistics were last updated for the SQL statement</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e345" headers="d2095259e220 ">
                              <p><code class="codeph">FIRST_CHANGE_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e345 d2095259e223 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e345 d2095259e226 ">
                              <p>First time a row was produced by this operation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e357" headers="d2095259e220 ">
                              <p><code class="codeph">LAST_CHANGE_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e357 d2095259e223 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e357 d2095259e226 ">
                              <p>Last time a row was produced by this operation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e369" headers="d2095259e220 ">
                              <p><code class="codeph">REFRESH_COUNT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e369 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e369 d2095259e226 ">
                              <p>Number of times statistics have been refreshed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e381" headers="d2095259e220 ">
                              <p><code class="codeph">SID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e381 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e381 d2095259e226 ">
                              <p>Session identifier executing (or having executed) the SQL statement being monitored</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e393" headers="d2095259e220 ">
                              <p><code class="codeph">PROCESS_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e393 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(5)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e393 d2095259e226 ">
                              <p>Process name identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e405" headers="d2095259e220 ">
                              <p><code class="codeph">SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e405 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(13)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e405 d2095259e226 ">
                              <p>SQL identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e418" headers="d2095259e220 ">
                              <p><code class="codeph">SQL_EXEC_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e418 d2095259e223 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e418 d2095259e226 ">
                              <p>Time when the execution started</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e430" headers="d2095259e220 ">
                              <p><code class="codeph">SQL_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e430 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e430 d2095259e226 ">
                              <p>Execution identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e442" headers="d2095259e220 ">
                              <p><code class="codeph">SQL_PLAN_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e442 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e442 d2095259e226 ">
                              <p>SQL plan hash value</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e454" headers="d2095259e220 ">
                              <p><code class="codeph">SQL_CHILD_ADDRESS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e454 d2095259e223 ">
                              <p><code class="codeph">RAW(4 | 8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e454 d2095259e226 ">
                              <p>Address of the child cursor</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e466" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_PARENT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e466 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e466 d2095259e226 ">
                              <p>ID of the next execution step that operates on the output of the current step</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e478" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_LINE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e478 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e478 d2095259e226 ">
                              <p>Plan line number for the entry</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e490" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_OPERATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e490 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(30)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e490 d2095259e226 ">
                              <p>Plan operation name (from <code class="codeph">V$SQL_PLAN</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e505" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_OPTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e505 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(30)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e505 d2095259e226 ">
                              <p>Plan option name (from <code class="codeph">V$SQL_PLAN</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e520" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_OBJECT_OWNER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e520 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e520 d2095259e226 ">
                              <p>Name of the user who owns the schema containing the table or index</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e532" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_OBJECT_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e532 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e532 d2095259e226 ">
                              <p>Name of the table or index</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e544" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_OBJECT_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e544 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(80)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e544 d2095259e226 ">
                              <p>Type of the object</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e557" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_DEPTH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e557 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e557 d2095259e226 ">
                              <p>Depth (or level) of the operation in the tree. It is not necessary to issue a <code class="codeph">CONNECT BY</code> statement to get the level information, which is generally used to indent the rows from the <code class="codeph">PLAN_TABLE</code> table. The root operation (statement) is level 0.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e575" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_POSITION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e575 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e575 d2095259e226 ">
                              <p>Order of processing for all operations that have the same <code class="codeph">PARENT_ID</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e589" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_COST</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e589 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e589 d2095259e226 ">
                              <p>Cost of the operation as estimated by the optimizer's cost-based approach. For statements that use the rule-based approach, this column is NULL.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e601" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_CARDINALITY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e601 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e601 d2095259e226 ">
                              <p>Estimate, by the cost-based optimizer, of the number of rows produced by the operation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e613" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e613 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e613 d2095259e226 ">
                              <p>Estimate, by the cost-based optimizer, of the number of bytes produced by the operation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e625" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e625 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e625 d2095259e226 ">
                              <p>Elapsed time (in seconds) of the operation as estimated by the optimizer's cost-based approach. For statements that use the rule-based approach, this column is NULL.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e637" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_PARTITION_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e637 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(256)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e637 d2095259e226 ">
                              <p>Start partition of a range of accessed partitions</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e649" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_PARTITION_STOP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e649 d2095259e223 ">
                              <p><code class="codeph">VARCHAR2(256)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e649 d2095259e226 ">
                              <p>Stop partition of a range of accessed partitions</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e661" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_CPU_COST</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e661 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e661 d2095259e226 ">
                              <p>CPU cost of the operation as estimated by the optimizer's cost-based approach. For statements that use the rule-based approach, this column is NULL.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e673" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_IO_COST</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e673 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e673 d2095259e226 ">
                              <p>I/O cost of the operation as estimated by the optimizer's cost-based approach. For statements that use the rule-based approach, this column is NULL.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e685" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_TEMP_SPACE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e685 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e685 d2095259e226 ">
                              <p>Temporary space usage of the operation (sort or hash-join) as estimated by the optimizer's cost-based approach. For statements that use the rule-based approach, this column is NULL.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e698" headers="d2095259e220 ">
                              <p><code class="codeph">STARTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e698 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e698 d2095259e226 ">
                              <p>Number of times this operation was executed. For example, an operation is executed multiple times when it is on the right side of a nested-loop join (once for each row of the left input of that nested-loop join).</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e710" headers="d2095259e220 ">
                              <p><code class="codeph">OUTPUT_ROWS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e710 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e710 d2095259e226 ">
                              <p>Number of rows produced by this operation since the execution started. This number is cumulated for all executions of this operation. Divide by the value of the STARTS column to compute the average number of rows per execution of the operation. Note that the value in the <code class="codeph">STARTS</code> column is equal to or higher than the value in the <code class="codeph">OUTPUT_ROWS</code> column. The value will usually be equal, but depending on internal optimizations a higher value may be seen.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e728" headers="d2095259e220 ">
                              <p><code class="codeph">IO_INTERCONNECT_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e728 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e728 d2095259e226 ">
                              <p>Number of I/O bytes exchanged between Oracle Database and the storage system. Maintained only after Oracle starts to monitor the execution.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e740" headers="d2095259e220 ">
                              <p><code class="codeph">PHYSICAL_READ_REQUESTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e740 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e740 d2095259e226 ">
                              <p>Number of physical read I/O requests issued by the monitored SQL. Maintained only after Oracle starts to monitor the execution.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e752" headers="d2095259e220 ">
                              <p><code class="codeph">PHYSICAL_READ_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e752 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e752 d2095259e226 ">
                              <p>Number of bytes read from disks by the monitored SQL. Maintained only after Oracle starts to monitor the execution.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e764" headers="d2095259e220 ">
                              <p><code class="codeph">PHYSICAL_WRITE_REQUESTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e764 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e764 d2095259e226 ">
                              <p>Number of physical write I/O requests issued by the monitored SQL. Maintained only after Oracle starts to monitor the execution.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e776" headers="d2095259e220 ">
                              <p><code class="codeph">PHYSICAL_WRITE_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e776 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e776 d2095259e226 ">
                              <p>Number of bytes written to disks by the monitored SQL. Maintained only after Oracle starts to monitor the execution.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e788" headers="d2095259e220 ">
                              <p><code class="codeph">WORKAREA_MEM</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e788 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e788 d2095259e226 ">
                              <p>Amount of memory (in bytes) used by the operation when the query is executing; NULL if the execution is done. This applies only to operations using a work area, such as sort, hash-join, group-by, and so on.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e800" headers="d2095259e220 ">
                              <p><code class="codeph">WORKAREA_MAX_MEM</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e800 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e800 d2095259e226 ">
                              <p>Maximum value (in bytes) for <code class="codeph">WORKAREA_MEM</code>; NULL if the operation is not using a work area. When the execution is finished, this value will hold the maximum amount of memory consumed by this operation during the execution of the statement.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e815" headers="d2095259e220 ">
                              <p><code class="codeph">WORKAREA_TEMPSEG</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e815 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e815 d2095259e226 ">
                              <p>Amount of temporary space (in bytes) used by the operation when the query is executing; NULL if the operation has not spilled to disk or if the execution is finished</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e827" headers="d2095259e220 ">
                              <p><code class="codeph">WORKAREA_MAX_TEMPSEG</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e827 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e827 d2095259e226 ">
                              <p>Maximum value (in bytes) for <code class="codeph">WORKAREA_TEMPSEG</code>; NULL if this operation never spilled to disk. When the execution is done, this value will hold the maximum amount of temporary space consumed by this operation during the entire execution.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e843" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_GROUP_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e843 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e843 d2095259e226 ">
                              <p>Plan line statistic group identifier (see <code class="codeph">GROUP_ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e861" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_1_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e861 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e861 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 1 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e879" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_1_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e879 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e879 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e891" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_1_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e891 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e891 d2095259e226 ">
                              <p>Value of statistic number 1 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e903" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_2_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e903 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e903 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 2 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e921" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_2_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e921 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e921 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e933" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_2_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e933 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e933 d2095259e226 ">
                              <p>Value of statistic number 2 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e945" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_3_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e945 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e945 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 3 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e963" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_3_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e963 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e963 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e975" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_3_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e975 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e975 d2095259e226 ">
                              <p>Value of statistic number 3 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e987" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_4_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e987 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e987 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 4 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1006" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_4_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1006 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1006 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1018" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_4_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1018 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1018 d2095259e226 ">
                              <p>Value of statistic number 4 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1030" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_5_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1030 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1030 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 5 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1048" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_5_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1048 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1048 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1060" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_5_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1060 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1060 d2095259e226 ">
                              <p>Value of statistic number 5 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1072" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_6_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1072 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1072 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 6 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1090" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_6_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1090 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1090 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1102" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_6_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1102 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1102 d2095259e226 ">
                              <p>Value of statistic number 6 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1114" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_7_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1114 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1114 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 7 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1132" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_7_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1132 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1132 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1144" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_7_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1144 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1144 d2095259e226 ">
                              <p>Value of statistic number 7 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1157" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_8_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1157 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1157 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 8 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1175" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_8_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1175 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1175 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1187" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_8_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1187 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1187 d2095259e226 ">
                              <p>Value of statistic number 8 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1199" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_9_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1199 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1199 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 9 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1217" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_9_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1217 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1217 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1229" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_9_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1229 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1229 d2095259e226 ">
                              <p>Value of statistic number 9 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1241" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_10_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1241 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1241 d2095259e226 ">
                              <p>Statistic identifier (see <code class="codeph">ID</code> column in <code class="codeph">V$SQL_MONITOR_STATNAME</code>) for statistic number 10 of that plan line
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1259" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_10_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1259 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1259 d2095259e226 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1271" headers="d2095259e220 ">
                              <p><code class="codeph">OTHERSTAT_10_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1271 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1271 d2095259e226 ">
                              <p>Value of statistic number 10 of that plan line</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1283" headers="d2095259e220 ">
                              <p><code class="codeph">OTHER_XML</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1283 d2095259e223 ">
                              <p><code class="codeph">CLOB</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1283 d2095259e226 ">
                              <p>Provides extra information specific to an execution step of the execution plan. The content of this column is structured using XML because it allows multiple pieces of information to be stored, including the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Name of the schema against which the query was parsed</p>
                                 </li>
                                 <li>
                                    <p>Release number of the Oracle Database that produced the explain plan</p>
                                 </li>
                                 <li>
                                    <p>Hash value associated with the execution plan</p>
                                 </li>
                                 <li>
                                    <p>Name (if any) of the outline or the SQL profile used to build the execution plan</p>
                                 </li>
                                 <li>
                                    <p>Indication of whether or not dynamic statistics were used to produce the plan</p>
                                 </li>
                                 <li>
                                    <p>The outline data, a set of optimizer hints that can be used to regenerate the same plan</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2095259e1314" headers="d2095259e220 ">
                              <p><code class="codeph">PLAN_OPERATION_INACTIVE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2095259e1314 d2095259e223 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2095259e1314 d2095259e226 ">
                              <p>Indicates whether this plan operation was part of the final resolved plan</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-85354ECB-7E2E-4D4B-AE78-243A4BB6E523__GUID-0F6A5EC4-9A62-4B98-AC3C-BB9D24B82401">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="V-SQL_MONITOR_STATNAME.html#GUID-0548ED49-A959-4BFA-A8E0-36881CBCFA20" title="V$SQL_MONITOR_STATNAME provides information about the plan line statistics exposed in V$SQL_PLAN_MONITOR. A plan line statistic is identified by its group ID (column GROUP_ID) and its ID (column ID).">V$SQL_MONITOR_STATNAME</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='13482.vldb-backup.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Backup and recovery is a crucial and important job for a DBA to protect business data.">
      <meta name="description" content="Backup and recovery is a crucial and important job for a DBA to protect business data.">
      <title>Backing Up and Recovering VLDBs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="VLDB and Partitioning Guide">
      <meta property="og:description" content="Backup and recovery is a crucial and important job for a DBA to protect business data.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="VLDB and Partitioning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00">
      <meta name="dcterms.title" content="VLDB and Partitioning Guide">
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96199-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="parallel-exec-tips.html" title="Previous" type="text/html">
      <link rel="next" href="vldb-storage.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="parallel-exec-tips.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="vldb-storage.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB and Partitioning Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Backing Up and Recovering VLDBs</li>
            </ol>
            <a id="GUID-8B6DB99C-5265-480B-B227-DBCFBCBD4D98" name="GUID-8B6DB99C-5265-480B-B227-DBCFBCBD4D98"></a><a id="VLDBG008"></a>
            
            <h2 id="VLDBG-GUID-8B6DB99C-5265-480B-B227-DBCFBCBD4D98" class="sect2"><span class="enumeration_chapter">9 </span>Backing Up and Recovering VLDBs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Backup and recovery is a crucial and important job for a DBA to protect business data.</p>
               <p>As data storage grows larger each year, DBAs are continually challenged to ensure that critical data is backed up and that it can be recovered quickly and easily to meet business needs. Very large databases are unique in that they are large and data may come from many resources. OLTP and data warehouse systems have some distinct characteristics. Generally, the availability considerations for a very large OLTP system are no different from the considerations for a small OLTP system. Assuming a fixed allowed downtime, a large OLTP system requires more hardware resources than a small OLTP system.</p>
               <p>This chapter proposes an efficient backup and recovery strategy for very large databases to reduce the overall resources necessary to support backup and recovery by using some special characteristics that differentiate data warehouses from OLTP systems. </p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="vldb-backup.html#GUID-836E38BE-FD44-42FC-AB7C-FD58108DC83C" title="A data warehouse is a system that is designed to support analysis and decision-making.">Data Warehouses</a></p>
                  </li>
                  <li>
                     <p><a href="vldb-backup.html#GUID-9FA8366F-9413-4239-9FF3-CB492686C8BA" title="In general, backup and recovery refers to the various strategies and procedures involved in protecting your database against data loss and reconstructing the database after any kind of data loss.">Oracle Backup and Recovery</a></p>
                  </li>
                  <li>
                     <p><a href="vldb-backup.html#GUID-79223C42-48E1-4036-AD74-4856A24935D5" title="Data warehouse recovery is similar to that of an OLTP system.">Data Warehouse Backup and Recovery</a></p>
                  </li>
                  <li>
                     <p><a href="vldb-backup.html#GUID-E6542B38-2388-4152-AFBC-C1CA03837D93" title="Devising a backup and recovery strategy can be a complicated and challenging task.">The Data Warehouse Recovery Methodology</a></p>
                  </li>
               </ul>
            </div><a id="VLDBG1552"></a><div class="props_rev_3"><a id="GUID-836E38BE-FD44-42FC-AB7C-FD58108DC83C" name="GUID-836E38BE-FD44-42FC-AB7C-FD58108DC83C"></a><h3 id="VLDBG-GUID-836E38BE-FD44-42FC-AB7C-FD58108DC83C" class="sect3">Data Warehouses</h3>
               <div>
                  <p>A data warehouse is a system that is designed to support analysis and decision-making.</p>
                  <p>In a typical enterprise, hundreds or thousands of users may rely on the data warehouse to provide the information to help them understand their business and make better decisions. Therefore, availability is a key requirement for data warehousing. This chapter discusses one key aspect of data warehouse availability: the recovery of data after a data loss.</p>
                  <p>Before looking at the backup and recovery techniques in detail, it is important to discuss specific techniques for backup and recovery of a data warehouse. In particular, one legitimate question might be: Should a data warehouse backup and recovery strategy be just like that of every other database system?</p>
                  <p>A DBA should initially approach the task of data warehouse backup and recovery by applying the same techniques that are used in OLTP systems: the DBA must decide what information to protect and quickly recover when media recovery is required, prioritizing data according to its importance and the degree to which it changes. However, the issue that commonly arises for data warehouses is that an approach that is efficient and cost-effective for a 100 GB OLTP system may not be viable for a 10 TB data warehouse. The backup and recovery may take 100 times longer or require 100 times more storage.</p>
                  <div class="infoboxnotealso" id="GUID-836E38BE-FD44-42FC-AB7C-FD58108DC83C__GUID-DE3EC844-6FCC-4CB4-81D1-DB543B28F90C">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/introduction-data-warehouse-concepts.html#DWHSG-GUID-452FBA23-6976-4590-AA41-1369647AD14D" target="_blank"><span><cite>Oracle Database Data Warehousing Guide</cite></span></a> for more information about data warehouses
                     </p>
                  </div>
               </div><a id="VLDBG1553"></a><div class="props_rev_3"><a id="GUID-38705383-2C31-48BE-8EA5-ECAD0F479B89" name="GUID-38705383-2C31-48BE-8EA5-ECAD0F479B89"></a><h4 id="VLDBG-GUID-38705383-2C31-48BE-8EA5-ECAD0F479B89" class="sect4">Data Warehouse Characteristics</h4>
                  <div>
                     <p>There are several key differences between data warehouses and OLTP systems that have significant impacts on backup and recovery.</p>
                     <p>These differences are:</p>
                     <ol>
                        <li>
                           <p>A data warehouse is typically much larger than an OLTP system. Data warehouses over 10's of terabytes are not uncommon and the largest data warehouses grow to orders of magnitude larger. Thus, scalability is a particularly important consideration for data warehouse backup and recovery.</p>
                        </li>
                        <li>
                           <p>A data warehouse often has lower availability requirements than an OLTP system. While data warehouses are critical to businesses, there is also a significant cost associated with the ability to recover multiple terabytes in a few hours compared to recovering in a day. Some organizations may determine that in the unlikely event of a failure requiring the recovery of a significant portion of the data warehouse, they may tolerate an outage of a day or more if they can save significant expenditures in backup hardware and storage.</p>
                        </li>
                        <li>
                           <p>A data warehouse is typically updated through a controlled process called the ETL (Extract, Transform, Load) process, unlike in OLTP systems where users are modifying data themselves. Because the data modifications are done in a controlled process, the updates to a data warehouse are often known and reproducible from sources other than redo logs.</p>
                        </li>
                        <li>
                           <p>A data warehouse contains historical information, and often, significant portions of the older data in a data warehouse are static. For example, a data warehouse may track five years of historical sales data. While the most recent year of data may still be subject to modifications (due to returns, restatements, and so on), the last four years of data may be entirely static. The advantage of static data is that it does not need to be backed up frequently.</p>
                        </li>
                     </ol>
                     <p>These four characteristics are key considerations when devising a backup and recovery strategy that is optimized for data warehouses.</p>
                  </div>
               </div>
            </div><a id="VLDBG1554"></a><div class="props_rev_3"><a id="GUID-9FA8366F-9413-4239-9FF3-CB492686C8BA" name="GUID-9FA8366F-9413-4239-9FF3-CB492686C8BA"></a><h3 id="VLDBG-GUID-9FA8366F-9413-4239-9FF3-CB492686C8BA" class="sect3">Oracle Backup and Recovery</h3>
               <div>
                  <p>In general, backup and recovery refers to the various strategies and procedures involved in protecting your database against data loss and reconstructing the database after any kind of data loss.</p>
                  <p>A backup is a representative copy of data. This copy can include important parts of a database such as the control file, archived redo logs, and data files. A backup protects data from application error and acts as a safeguard against unexpected data loss, by providing a way to restore original data.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="vldb-backup.html#GUID-8B4CA295-6392-48C3-868E-0C5BD687FDCC" title="Before you begin to think seriously about a backup and recovery strategy, the physical data structures relevant for backup and recovery operations must be identified.">Physical Database Structures Used in Recovering Data</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-E037DA35-38AD-42D2-8D6D-D66568333429" title="Backups are divided into physical backups and logical backups.">Backup Type</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-003FB14B-0FD7-4E45-A136-854803A2702B" title="Oracle Database provides several tools to manage backup and recovery of Oracle Databases.">Backup Tools</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1555"></a><div class="props_rev_3"><a id="GUID-8B4CA295-6392-48C3-868E-0C5BD687FDCC" name="GUID-8B4CA295-6392-48C3-868E-0C5BD687FDCC"></a><h4 id="VLDBG-GUID-8B4CA295-6392-48C3-868E-0C5BD687FDCC" class="sect4">Physical Database Structures Used in Recovering Data</h4>
                  <div>
                     <p>Before you begin to think seriously about a backup and recovery strategy, the physical data structures relevant for backup and recovery operations must be identified.</p>
                     <p>These components include the files and other structures that constitute data for an Oracle data store and safeguard the data store against possible failures. Three basic components are required for the recovery of Oracle Database:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="vldb-backup.html#GUID-32A8CC6B-E800-4EC8-B1B9-A10638848BD0" title="Oracle Database consists of one or more logical storage units called tablespaces. Each tablespace in Oracle Database consists of one or more files called data files, which are physical files located on or attached to the host operating system in which Oracle Database is running.">Data files</a></p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-862076BF-4F81-44BC-BEB3-2180785888D4" title="Redo logs record all changes made to a database's data files.">Redo Logs</a></p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-1624A713-7AC0-4647-96AE-48E67FCF5079" title="The control file contains a crucial record of the physical structures of the database and their status.">Control Files</a></p>
                        </li>
                     </ul>
                  </div><a id="VLDBG1556"></a><div class="props_rev_3"><a id="GUID-32A8CC6B-E800-4EC8-B1B9-A10638848BD0" name="GUID-32A8CC6B-E800-4EC8-B1B9-A10638848BD0"></a><h5 id="VLDBG-GUID-32A8CC6B-E800-4EC8-B1B9-A10638848BD0" class="sect5">Data files</h5>
                     <div>
                        <p>Oracle Database consists of one or more logical storage units called tablespaces. Each tablespace in Oracle Database consists of one or more files called data files, which are physical files located on or attached to the host operating system in which Oracle Database is running.</p>
                        <p>The data in a database is collectively stored in the data files that constitute each tablespace of the database. The simplest Oracle Database would have one tablespace, stored in one data file. Copies of the data files of a database are a critical part of any backup strategy. The sheer size of the data files is the main challenge from a VLDB backup and recovery perspective.</p>
                     </div>
                  </div><a id="VLDBG1557"></a><div class="props_rev_3"><a id="GUID-862076BF-4F81-44BC-BEB3-2180785888D4" name="GUID-862076BF-4F81-44BC-BEB3-2180785888D4"></a><h5 id="VLDBG-GUID-862076BF-4F81-44BC-BEB3-2180785888D4" class="sect5">Redo Logs</h5>
                     <div>
                        <p>Redo logs record all changes made to a database's data files.</p>
                        <p>With a complete set of redo logs and an older copy of a data file, Oracle can reapply the changes recorded in the redo logs to re-create the database at any point between the backup time and the end of the last redo log. Each time data is changed in Oracle Database, that change is recorded in the online redo log first, before it is applied to the data files.</p>
                        <p>Oracle Database requires at least two online redo log groups. In each group, there is at least one online redo log member, an individual redo log file where the changes are recorded. At intervals, Oracle Database rotates through the online redo log groups, storing changes in the current online redo log while the groups not in use can be copied to an archive location, where they are called archived redo logs (or, collectively, the archived redo log). For high availability reasons, production systems should always use multiple online redo members per group, preferably on different storage systems. Preserving the archived redo log is a major part of your backup strategy, as it contains a record of all updates to data files. Backup strategies often involve copying the archived redo logs to disk or tape for longer-term storage.</p>
                     </div>
                  </div><a id="VLDBG1558"></a><div class="props_rev_3"><a id="GUID-1624A713-7AC0-4647-96AE-48E67FCF5079" name="GUID-1624A713-7AC0-4647-96AE-48E67FCF5079"></a><h5 id="VLDBG-GUID-1624A713-7AC0-4647-96AE-48E67FCF5079" class="sect5">Control Files</h5>
                     <div>
                        <p>The control file contains a crucial record of the physical structures of the database and their status.</p>
                        <p>Several types of information stored in the control file are related to backup and recovery:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Database information required to recover from failures or to perform media recovery</p>
                           </li>
                           <li>
                              <p>Database structure information, such as data file details</p>
                           </li>
                           <li>
                              <p>Redo log details</p>
                           </li>
                           <li>
                              <p>Archived log records</p>
                           </li>
                           <li>
                              <p>A record of past RMAN backups</p>
                           </li>
                        </ul>
                        <p>Oracle Database data file recovery process is in part guided by status information in the control file, such as the database checkpoints, current online redo log file, and the data file header checkpoints. Loss of the control file makes recovery from a data loss much more difficult. The control file should be backed up regularly, to preserve the latest database structural changes, and to simplify recovery.</p>
                     </div>
                  </div>
               </div><a id="VLDBG1559"></a><div class="props_rev_3"><a id="GUID-E037DA35-38AD-42D2-8D6D-D66568333429" name="GUID-E037DA35-38AD-42D2-8D6D-D66568333429"></a><h4 id="VLDBG-GUID-E037DA35-38AD-42D2-8D6D-D66568333429" class="sect4">Backup Type</h4>
                  <div>
                     <p>Backups are divided into physical backups and logical backups.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Physical</span> <span class="bold">backups</span> are backups of the physical files used in storing and recovering your database, such as data files, control files, and archived redo logs. Ultimately, every physical backup is a copy of files storing database information to some other location, whether on disk or offline storage, such as tape.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Logical</span> <span class="bold">backups</span> contain logical data (for example, tables or stored procedures) extracted from a database with Oracle Data Pump (export/import) utilities. The data is stored in a binary file that can be imported into Oracle Database.
                           </p>
                        </li>
                     </ul>
                     <p>Physical backups are the foundation of any backup and recovery strategy. Logical backups are a useful supplement to physical backups in many circumstances but are not sufficient protection against data loss without physical backups.</p>
                     <p>Reconstructing the contents of all or part of a database from a backup typically involves two phases: retrieving a copy of the data file from a backup, and reapplying changes to the file since the backup, from the archived and online redo logs, to bring the database to the desired recovery point in time. To restore a data file or control file from backup is to retrieve the file from the backup location on tape, disk, or other media, and make it available to Oracle Database. To recover a data file, is to take a restored copy of the data file and apply to it the changes recorded in the database's redo logs. To recover a whole database is to perform recovery on each of its data files.</p>
                  </div>
               </div><a id="VLDBG1560"></a><div class="props_rev_3"><a id="GUID-003FB14B-0FD7-4E45-A136-854803A2702B" name="GUID-003FB14B-0FD7-4E45-A136-854803A2702B"></a><h4 id="VLDBG-GUID-003FB14B-0FD7-4E45-A136-854803A2702B" class="sect4">Backup Tools</h4>
                  <div>
                     <p>Oracle Database provides several tools to manage backup and recovery of Oracle Databases.</p>
                     <p>Each tool gives you a choice of several basic methods for making backups. The methods include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="vldb-backup.html#GUID-69A6FC62-06CB-48BD-AAC6-F5F1BE00E504" title="Oracle Recovery Manager (RMAN), a command-line is the Oracle-preferred method for efficiently backing up and recovering Oracle Database.">Oracle Recovery Manager (RMAN)</a></p>
                           <p>RMAN reduces the administration work associated with your backup strategy by maintaining an extensive record of metadata about all backups and needed recovery-related files. In restore and recovery operations, RMAN uses this information to eliminate the need for the user to identify needed files. RMAN is efficient, supporting file multiplexing and parallel streaming, and verifies blocks for physical and (optionally) logical corruptions, on backup and restore.</p>
                           <p>Backup activity reports can be generated using <code class="codeph">V$BACKUP</code> views.
                           </p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-BEF89467-A14D-4B90-A6C6-37BDAABFE2F9" title="Physical backups can be supplemented by using the Oracle Data Pump (export/import) utilities to make logical backups of data.">Oracle Data Pump</a></p>
                           <p>Oracle Data Pump provides high speed, parallel, bulk data and metadata movement of Oracle Database contents. This utility makes logical backups by writing data from Oracle Database to operating system files. This data can later be imported into Oracle Database.</p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-E2A62C86-11FB-4B51-89F9-326228ABB228" title="If you do not want to use Recovery Manager, you can use operating system commands, such as the UNIX dd or tar commands, to make backups.">User-Managed Backups</a></p>
                           <p>The database is backed up manually by executing commands specific to your operating system.</p>
                        </li>
                     </ul>
                  </div><a id="VLDBG1561"></a><div class="props_rev_3"><a id="GUID-69A6FC62-06CB-48BD-AAC6-F5F1BE00E504" name="GUID-69A6FC62-06CB-48BD-AAC6-F5F1BE00E504"></a><h5 id="VLDBG-GUID-69A6FC62-06CB-48BD-AAC6-F5F1BE00E504" class="sect5">Oracle Recovery Manager (RMAN)</h5>
                     <div>
                        <p>Oracle Recovery Manager (RMAN), a command-line is the Oracle-preferred method for efficiently backing up and recovering Oracle Database.</p>
                        <p>RMAN is designed to work intimately with the server, providing block-level corruption detection during backup and recovery. RMAN optimizes performance and space consumption during backup with file multiplexing and backup set compression, and integrates with leading tape and storage media products with the supplied Media Management Library (MML) API.</p>
                        <p>RMAN takes care of all underlying database procedures before and after backup or recovery, freeing dependency on operating system and SQL*Plus scripts. It provides a common interface for backup tasks across different host operating systems, and offers features not available through user-managed methods, such as data file and tablespace-level backup and recovery, parallelization of backup and recovery data streams, incremental backups, automatic backup of the control file on database structural changes, backup retention policy, and detailed history of all backups.</p>
                        <div class="infoboxnotealso" id="GUID-69A6FC62-06CB-48BD-AAC6-F5F1BE00E504__GUID-09BEB90C-9B5C-40E9-88B1-3E7E090B609B">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/vldbg&amp;id=BRADV8001" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information about RMAN
                           </p>
                        </div>
                     </div>
                  </div><a id="VLDBG1564"></a><div class="props_rev_3"><a id="GUID-BEF89467-A14D-4B90-A6C6-37BDAABFE2F9" name="GUID-BEF89467-A14D-4B90-A6C6-37BDAABFE2F9"></a><h5 id="VLDBG-GUID-BEF89467-A14D-4B90-A6C6-37BDAABFE2F9" class="sect5">Oracle Data Pump</h5>
                     <div>
                        <p>Physical backups can be supplemented by using the Oracle Data Pump (export/import) utilities to make logical backups of data.</p>
                        <p>Logical backups store information about the schema objects created for a database. Oracle Data Pump loads data and metadata into a set of operating system files that can be imported on the same system or moved to another system and imported there.</p>
                        <p>The dump file set is made up of one or more disk files that contain table data, database object metadata, and control information. The files are written in a binary format. During an import operation, the Data Pump Import utility uses these files to locate each database object in the dump file set.</p>
                     </div>
                  </div><a id="VLDBG1565"></a><div class="props_rev_3"><a id="GUID-E2A62C86-11FB-4B51-89F9-326228ABB228" name="GUID-E2A62C86-11FB-4B51-89F9-326228ABB228"></a><h5 id="VLDBG-GUID-E2A62C86-11FB-4B51-89F9-326228ABB228" class="sect5">User-Managed Backups</h5>
                     <div>
                        <p>If you do not want to use Recovery Manager, you can use operating system commands, such as the UNIX <code class="codeph">dd</code> or <code class="codeph">tar</code> commands, to make backups. 
                        </p>
                        <p>To create a user-managed online backup, the database must manually be placed into hot backup mode. Hot backup mode causes additional write operations to the online log files, increasing their size.</p>
                        <p>Backup operations can also be automated by writing scripts. You can make a backup of the entire database immediately, or back up individual tablespaces, data files, control files, or archived logs. An entire database backup can be supplemented with backups of individual tablespaces, data files, control files, and archived logs.</p>
                        <p>Operating system commands or third-party backup software can perform database backups. Conversely, the third-party software must be used to restore the backups of the database.</p>
                     </div>
                  </div>
               </div>
            </div><a id="VLDBG1566"></a><div class="props_rev_3"><a id="GUID-79223C42-48E1-4036-AD74-4856A24935D5" name="GUID-79223C42-48E1-4036-AD74-4856A24935D5"></a><h3 id="VLDBG-GUID-79223C42-48E1-4036-AD74-4856A24935D5" class="sect3">Data Warehouse Backup and Recovery</h3>
               <div>
                  <p>Data warehouse recovery is similar to that of an OLTP system.</p>
                  <p>However, a data warehouse may not require all of the data to be recovered from a backup, or for a complete failure, restoring the entire database before user access can commence. An efficient and fast recovery of a data warehouse begins with a well-planned backup.</p>
                  <p>The next several sections help you to identify what data should be backed up and guide you to the method and tools that enable you to recover critical data in the shortest amount of time.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="vldb-backup.html#GUID-76435B39-EF7E-418B-9C33-0C43B088178A" title="A Recovery Time Objective (RTO) is the time duration in which you want to be able to recover your data.">Recovery Time Objective (RTO)</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-AD7289B0-0D01-4382-AA5D-CBE458ADDF91" title="A Recovery Point Objective, or RPO, is the maximum amount of data that can be lost before causing detrimental harm to the organization.">Recovery Point Objective (RPO)</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1567"></a><div class="props_rev_3"><a id="GUID-76435B39-EF7E-418B-9C33-0C43B088178A" name="GUID-76435B39-EF7E-418B-9C33-0C43B088178A"></a><h4 id="VLDBG-GUID-76435B39-EF7E-418B-9C33-0C43B088178A" class="sect4">Recovery Time Objective (RTO)</h4>
                  <div>
                     <p>A <span class="bold">Recovery</span> <span class="bold">Time</span> <span class="bold">Objective</span> (RTO) is the time duration in which you want to be able to recover your data.
                     </p>
                     <p> Your backup and recovery plan should be designed to meet RTOs your company chooses for its data warehouse. For example, you may determine that 5% of the data must be available within 12 hours, 50% of the data must be available after a complete loss of the database within 2 days, and the remainder of the data be available within 5 days. In this case you have two RTOs. Your total RTO is 7.5 days.</p>
                     <p>To determine what your RTO should be, you must first identify the impact of the data not being available. To establish an RTO, follow these four steps:</p>
                     <ol>
                        <li>
                           <p>Analyze and identify: Understand your recovery readiness, risk areas, and the business costs of unavailable data. In a data warehouse, you should identify critical data that must be recovered in the <span class="italic">n</span> days after an outage.
                           </p>
                        </li>
                        <li>
                           <p>Design: Transform the recovery requirements into backup and recovery strategies. This can be accomplished by organizing the data into logical relationships and criticality.</p>
                        </li>
                        <li>
                           <p>Build and integrate: Deploy and integrate the solution into your environment to back up and recover your data. Document the backup and recovery plan.</p>
                        </li>
                        <li>
                           <p>Manage and evolve: Test your recovery plans at regular intervals. Implement change management processes to refine and update the solution as your data, IT infrastructure, and business processes change.</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="VLDBG1568"></a><div class="props_rev_3"><a id="GUID-AD7289B0-0D01-4382-AA5D-CBE458ADDF91" name="GUID-AD7289B0-0D01-4382-AA5D-CBE458ADDF91"></a><h4 id="VLDBG-GUID-AD7289B0-0D01-4382-AA5D-CBE458ADDF91" class="sect4">Recovery Point Objective (RPO)</h4>
                  <div>
                     <p>A Recovery Point Objective, or RPO, is the maximum amount of data that can be lost before causing detrimental harm to the organization.</p>
                     <p>RPO indicates the data loss tolerance of a business process or an organization in general. This data loss is often measured in terms of time, for example, 5 hours or 2 days worth of data loss. A zero RPO means that no committed data should be lost when media loss occurs, while a 24 hour RPO can tolerate a day's worth of data loss.</p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="vldb-backup.html#GUID-1EC8332F-35B1-4441-8E03-67D29247E526" title="The most obvious characteristic of the data warehouse is the size of the database.">More Data Means a Longer Backup Window</a></p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-E573779F-B18F-4080-A60E-5C33E36F129C" title="In a data warehouse, there may be times when the database is not being fully used.">Divide and Conquer</a></p>
                        </li>
                     </ul>
                  </div><a id="VLDBG1569"></a><div class="props_rev_3"><a id="GUID-1EC8332F-35B1-4441-8E03-67D29247E526" name="GUID-1EC8332F-35B1-4441-8E03-67D29247E526"></a><h5 id="VLDBG-GUID-1EC8332F-35B1-4441-8E03-67D29247E526" class="sect5">More Data Means a Longer Backup Window</h5>
                     <div>
                        <p>The most obvious characteristic of the data warehouse is the size of the database.</p>
                        <p>This can be upward of 100's of terabytes. Hardware is the limiting factor to a fast backup and recovery. However, today's tape storage continues to evolve to accommodate the amount of data that must be offloaded to tape (for example, advent of Virtual Tape Libraries which use disks internally with the standard tape access interface). RMAN can fully use, in parallel, all available tape devices to maximize backup and recovery performance.</p>
                        <p>Essentially, the time required to back up a large database can be derived from the minimum throughput among: production disk, host bus adapter (HBA) and network to tape devices, and tape drive streaming specifications * the number of tape drives. The host CPU can also be a limiting factor to overall backup performance, if RMAN backup encryption or compression is used. Backup and recovery windows can be adjusted to fit any business requirements, given adequate hardware resources.</p>
                     </div>
                  </div><a id="VLDBG1570"></a><div class="props_rev_3"><a id="GUID-E573779F-B18F-4080-A60E-5C33E36F129C" name="GUID-E573779F-B18F-4080-A60E-5C33E36F129C"></a><h5 id="VLDBG-GUID-E573779F-B18F-4080-A60E-5C33E36F129C" class="sect5">Divide and Conquer</h5>
                     <div>
                        <p>In a data warehouse, there may be times when the database is not being fully used. </p>
                        <p>While this window of time may be several contiguous hours, it is not enough to back up the entire database. You may want to consider breaking up the database backup over several days. RMAN enables you to specify how long a given backup job is allowed to run. When using <code class="codeph">BACKUP</code> <code class="codeph">DURATION</code>, you can choose between running the backup to completion as quickly as possible and running it more slowly to minimize the load the backup may impose on your database.
                        </p>
                        <p>In the following example, RMAN backs up all database files that have not been backed up in the last 7 days first, runs for 4 hours, and reads the blocks as fast as possible.</p><pre class="oac_no_warn" dir="ltr">BACKUP DATABASE NOT BACKED UP SINCE 'sysdate - 7' 
  PARTIAL DURATION 4:00 MINIMIZE TIME;
</pre><p>Each time this RMAN command is run, it backs up the data files that have not been backed up in the last 7 days first. You do not need to manually specify the tablespaces or data files to be backed up each night. Over the course of several days, all of your database files are backed up.</p>
                        <p>While this is a simplistic approach to database backup, it is easy to implement and provides more flexibility in backing up large amounts of data. During recovery, RMAN may point you to multiple different storage devices to perform the restore operation. Consequently, your recovery time may be longer.</p>
                     </div>
                  </div>
               </div>
            </div><a id="VLDBG1571"></a><div class="props_rev_3"><a id="GUID-E6542B38-2388-4152-AFBC-C1CA03837D93" name="GUID-E6542B38-2388-4152-AFBC-C1CA03837D93"></a><h3 id="VLDBG-GUID-E6542B38-2388-4152-AFBC-C1CA03837D93" class="sect3">The Data Warehouse Recovery Methodology</h3>
               <div>
                  <p>Devising a backup and recovery strategy can be a complicated and challenging task.</p>
                  <p>When you have hundreds of terabytes of data that must be protected and recovered for a failure, the strategy can be very complex. This section contains several best practices that can be implemented to ease the administration of backup and recovery.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="vldb-backup.html#GUID-DE407D9D-F392-4436-89B8-960ADD4AE300" title="Archived redo logs are crucial for recovery when no data can be lost because they constitute a record of changes to the database.">Best Practice 1: Use ARCHIVELOG Mode</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-6AF7DEE0-8916-42C6-8EDA-A0464C5DA57B" title="Many data warehouses, which were developed on earlier releases of Oracle Database, may not have integrated RMAN for backup and recovery.">Best Practice 2: Use RMAN</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-6D73D7DA-7F4F-4CC3-A4EC-7A84F7ACF2B7" title="Enabling block change tracking allows incremental backups to be completed faster, by reading and writing only the changed blocks since the last full or incremental backup.">Best Practice 3: Use Block Change Tracking</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-FA70B6EF-0C8B-435B-98C9-CDEBCDCED145" title="With the advent of big file tablespaces, data warehouses have the opportunity to consolidate a large number of data files into fewer, better managed data files.">Best Practice 4: Use RMAN Multisection Backups</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-70595966-7453-4EAD-AE6F-6CDEF4C7049F" title="An important issue facing a data warehouse is the sheer size of a typical data warehouse. Even with powerful backup hardware, backups may still take several hours.">Best Practice 5: Leverage Read-Only Tablespaces</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-42825ED1-C4C5-449B-870F-D2C8627CBF86" title="In general, a high priority for a data warehouse is performance. Not only must the data warehouse provide good query performance for online users, but the data warehouse must also be efficient during the extract, transform, and load (ETL) process so that large amounts of data can be loaded in the shortest amount of time. One common optimization used by data warehouses is to execute bulk-data operations using the NOLOGGING mode.">Best Practice 6: Plan for NOLOGGING Operations in Your Backup/Recovery Strategy</a></p>
                     </li>
                     <li>
                        <p><a href="vldb-backup.html#GUID-12293CA0-65A8-469F-BEDE-4D502B250724" title="Not all of the tablespaces in a data warehouse are equally significant from a backup and recovery perspective.">Best Practice 7: Not All Tablespaces Should Be Treated Equally</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG1572"></a><div class="props_rev_3"><a id="GUID-DE407D9D-F392-4436-89B8-960ADD4AE300" name="GUID-DE407D9D-F392-4436-89B8-960ADD4AE300"></a><h4 id="VLDBG-GUID-DE407D9D-F392-4436-89B8-960ADD4AE300" class="sect4">Best Practice 1: Use ARCHIVELOG Mode</h4>
                  <div>
                     <p>Archived redo logs are crucial for recovery when no data can be lost because they constitute a record of changes to the database. </p>
                     <p>Oracle Database can be run in either of two modes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ARCHIVELOG</code></p>
                           <p>Oracle Database archives the filled online redo log files before reusing them in the cycle.</p>
                        </li>
                        <li>
                           <p><code class="codeph">NOARCHIVELOG</code></p>
                           <p>Oracle Database does not archive the filled online redo log files before reusing them in the cycle.</p>
                        </li>
                     </ul>
                     <p>Running the database in <code class="codeph">ARCHIVELOG</code> mode has the following benefits:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The database can be recovered from both instance and media failure.</p>
                        </li>
                        <li>
                           <p>Backups can be performed while the database is open and available for use.</p>
                        </li>
                        <li>
                           <p>Oracle Database supports multiplexed archive logs to avoid any possible single point of failure on the archive logs.</p>
                        </li>
                        <li>
                           <p>More recovery options are available, such as the ability to perform tablespace point-in-time recovery (TSPITR).</p>
                        </li>
                        <li>
                           <p>Archived redo logs can be transmitted and applied to the physical standby database, which is an exact replica of the primary database.</p>
                        </li>
                     </ul>
                     <p>Running the database in <code class="codeph">NOARCHIVELOG</code> mode has the following consequences:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The database can be backed up only while it is closed after a clean shutdown.</p>
                        </li>
                        <li>
                           <p>Typically, the only media recovery option is to restore the whole database to the point-in-time in which the full or incremental backups were made, which can result in the loss of recent transactions.</p>
                        </li>
                     </ul>
                  </div><a id="VLDBG1573"></a><div class="props_rev_3"><a id="GUID-5905FBA5-9F21-4FAC-AA64-71FCF074635D" name="GUID-5905FBA5-9F21-4FAC-AA64-71FCF074635D"></a><h5 id="VLDBG-GUID-5905FBA5-9F21-4FAC-AA64-71FCF074635D" class="sect5">Is Downtime Acceptable?</h5>
                     <div>
                        <p> It is important to design a backup plan to minimize database interruptions.</p>
                        <p>Oracle Database backups can be made while the database is open or closed. Planned downtime of the database can be disruptive to operations, especially in global enterprises that support users in multiple time zones, up to 24-hours per day.</p>
                        <p>Depending on the business, some enterprises can afford downtime. If the overall business strategy requires little or no downtime, then the backup strategy should implement an online backup. The database never needs to be taken down for a backup. An online backup requires the database to be in <code class="codeph">ARCHIVELOG</code> mode.
                        </p>
                        <p>Given the size of a data warehouse (and consequently the amount of time to back up a data warehouse), it is generally not viable to make an offline backup of a data warehouse, which would be necessitated if one were using <code class="codeph">NOARCHIVELOG</code> mode.
                        </p>
                     </div>
                  </div>
               </div><a id="VLDBG1574"></a><div class="props_rev_3"><a id="GUID-6AF7DEE0-8916-42C6-8EDA-A0464C5DA57B" name="GUID-6AF7DEE0-8916-42C6-8EDA-A0464C5DA57B"></a><h4 id="VLDBG-GUID-6AF7DEE0-8916-42C6-8EDA-A0464C5DA57B" class="sect4">Best Practice 2: Use RMAN</h4>
                  <div>
                     <p>Many data warehouses, which were developed on earlier releases of Oracle Database, may not have integrated RMAN for backup and recovery.</p>
                     <p>However, just as there are many reasons to leverage <code class="codeph">ARCHIVELOG</code> mode, there is a similarly compelling list of reasons to adopt RMAN. Consider the following:
                     </p>
                     <ol>
                        <li>
                           <p>Trouble-free backup and recovery</p>
                        </li>
                        <li>
                           <p>Corrupt block detection</p>
                        </li>
                        <li>
                           <p>Archive log validation and management</p>
                        </li>
                        <li>
                           <p>Block Media Recovery (BMR)</p>
                        </li>
                        <li>
                           <p>Easily integrates with Media Managers</p>
                        </li>
                        <li>
                           <p>Backup and restore optimization</p>
                        </li>
                        <li>
                           <p>Backup and restore validation</p>
                        </li>
                        <li>
                           <p>Downtime-free backups</p>
                        </li>
                        <li>
                           <p>Incremental backups</p>
                        </li>
                        <li>
                           <p>Extensive reporting</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="VLDBG1575"></a><div class="props_rev_3"><a id="GUID-6D73D7DA-7F4F-4CC3-A4EC-7A84F7ACF2B7" name="GUID-6D73D7DA-7F4F-4CC3-A4EC-7A84F7ACF2B7"></a><h4 id="VLDBG-GUID-6D73D7DA-7F4F-4CC3-A4EC-7A84F7ACF2B7" class="sect4">Best Practice 3: Use Block Change Tracking</h4>
                  <div>
                     <p>Enabling block change tracking allows incremental backups to be completed faster, by reading and writing only the changed blocks since the last full or incremental backup.</p>
                     <p>For data warehouses, this can be extremely helpful if the database typically undergoes a low to medium percentage of changes.</p>
                     <div class="infoboxnotealso" id="GUID-6D73D7DA-7F4F-4CC3-A4EC-7A84F7ACF2B7__GUID-FDE85183-87ED-491F-8258-DC122A535892">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/vldbg&amp;id=BRADV8001" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information about block change tracking
                        </p>
                     </div>
                  </div>
               </div><a id="VLDBG1576"></a><div class="props_rev_3"><a id="GUID-FA70B6EF-0C8B-435B-98C9-CDEBCDCED145" name="GUID-FA70B6EF-0C8B-435B-98C9-CDEBCDCED145"></a><h4 id="VLDBG-GUID-FA70B6EF-0C8B-435B-98C9-CDEBCDCED145" class="sect4">Best Practice 4: Use RMAN Multisection Backups</h4>
                  <div>
                     <p>With the advent of big file tablespaces, data warehouses have the opportunity to consolidate a large number of data files into fewer, better managed data files.</p>
                     <p>For backing up very large data files, RMAN provides multisection backups as a way to parallelize the backup operation within the file itself, such that sections of a file are backed up in parallel, rather than backing up on a per-file basis.</p>
                     <p>For example, a one TB data file can be sectioned into ten 100 GB backup pieces, with each section backed up in parallel, rather than the entire one TB file backed up as one file. The overall backup time for large data files can be dramatically reduced.</p>
                     <div class="infoboxnotealso" id="GUID-FA70B6EF-0C8B-435B-98C9-CDEBCDCED145__GUID-F28215A7-7FFF-46F5-A141-CC01F58F4CD8">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/vldbg&amp;id=BRADV8001" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information about configuring multisection backups
                        </p>
                     </div>
                  </div>
               </div><a id="VLDBG1577"></a><div class="props_rev_3"><a id="GUID-70595966-7453-4EAD-AE6F-6CDEF4C7049F" name="GUID-70595966-7453-4EAD-AE6F-6CDEF4C7049F"></a><h4 id="VLDBG-GUID-70595966-7453-4EAD-AE6F-6CDEF4C7049F" class="sect4">Best Practice 5: Leverage Read-Only Tablespaces</h4>
                  <div>
                     <p>An important issue facing a data warehouse is the sheer size of a typical data warehouse. Even with powerful backup hardware, backups may still take several hours.</p>
                     <p>One important consideration in improving backup performance is minimizing the amount of data to be backed up. Read-only tablespaces are the simplest mechanism to reduce the amount of data to be backed up in a data warehouse. Even with incremental backups, both backup and recovery are faster if tablespaces are set to read-only.</p>
                     <p>The advantage of a read-only tablespace is that data must be backed up only one time. If a data warehouse contains five years of historical data and the first four years of data can be made read-only, then theoretically the regular backup of the database would back up only 20% of the data. This can dramatically reduce the amount of time required to back up the data warehouse.</p>
                     <p>Most data warehouses store their data in tables that have been range-partitioned by time. In a typical data warehouse, data is generally active for a period ranging anywhere from 30 days to one year. During this period, the historical data can still be updated and changed (for example, a retailer may accept returns up to 30 days beyond the date of purchase, so that sales data records could change during this period). However, after data reaches a certain age, it is often known to be static.</p>
                     <p>By taking advantage of partitioning, users can make the static portions of their data read-only. Currently, Oracle supports read-only tablespaces rather than read-only partitions or tables. To take advantage of the read-only tablespaces and reduce the backup window, a strategy of storing constant data partitions in a read-only tablespace should be devised. Here are two strategies for implementing a rolling window:</p>
                     <ol>
                        <li>
                           <p>When the data in a partition matures to the point where it is entirely static, implement a regularly scheduled process to move the partition from the current read-write tablespace to a tablespace that can then be made read-only.</p>
                        </li>
                        <li>
                           <p>Create a series of tablespaces, each containing a small number of partitions, and regularly modify a tablespace from read-write to read-only as the data in that tablespace ages.</p>
                        </li>
                     </ol>
                     <p>One consideration is that backing up data is only half the recovery process. If you configure a tape system so that it can back up the read-write portions of a data warehouse in 4 hours, the corollary is that a tape system might take 20 hours to recover the database if a complete recovery is necessary when 80% of the database is read-only.</p>
                  </div>
               </div><a id="VLDBG1578"></a><div class="props_rev_3"><a id="GUID-42825ED1-C4C5-449B-870F-D2C8627CBF86" name="GUID-42825ED1-C4C5-449B-870F-D2C8627CBF86"></a><h4 id="VLDBG-GUID-42825ED1-C4C5-449B-870F-D2C8627CBF86" class="sect4">Best Practice 6: Plan for NOLOGGING Operations in Your Backup/Recovery Strategy</h4>
                  <div>
                     <p>In general, a high priority for a data warehouse is performance. Not only must the data warehouse provide good query performance for online users, but the data warehouse must also be efficient during the extract, transform, and load (ETL) process so that large amounts of data can be loaded in the shortest amount of time. One common optimization used by data warehouses is to execute bulk-data operations using the <code class="codeph">NOLOGGING</code> mode.
                     </p>
                     <p></p>
                     <p> The database operations that support <code class="codeph">NOLOGGING</code> modes are direct-path load and insert operations, index creation, and table creation. When an operation runs in <code class="codeph">NOLOGGING</code> mode, data is not written to the redo log (or more precisely, only a small set of metadata is written to the redo log). This mode is widely used within data warehouses and can improve the performance of bulk data operations by up to 50%.
                     </p>
                     <p>However, the tradeoff is that a <code class="codeph">NOLOGGING</code> operation cannot be recovered using conventional recovery mechanisms, because the necessary data to support the recovery was never written to the log file. Moreover, subsequent operations to the data upon which a <code class="codeph">NOLOGGING</code> operation has occurred also cannot be recovered even if those operations were not using <code class="codeph">NOLOGGING</code> mode. Because of the performance gains provided by <code class="codeph">NOLOGGING</code> operations, it is generally recommended that data warehouses use <code class="codeph">NOLOGGING</code> mode in their ETL process.
                     </p>
                     <p>The presence of <code class="codeph">NOLOGGING</code> operations must be taken into account when devising the backup and recovery strategy. When a database is relying on <code class="codeph">NOLOGGING</code> operations, the conventional recovery strategy (of recovering from the latest tape backup and applying the archived log files) is no longer applicable because the log files are not able to recover the <code class="codeph">NOLOGGING</code> operation.
                     </p>
                     <p>The first principle to remember is, do not make a backup when a <code class="codeph">NOLOGGING</code> operation is occurring. Oracle Database does not currently enforce this rule, so DBAs must schedule the backup jobs and the ETL jobs such that the <code class="codeph">NOLOGGING</code> operations do not overlap with backup operations.
                     </p>
                     <p>There are two approaches to backup and recovery in the presence of <code class="codeph">NOLOGGING</code> operations: ETL or incremental backups. If you are not using <code class="codeph">NOLOGGING</code> operations in your data warehouse, then you do not have to choose either option: you can recover your data warehouse using archived logs. However, the options may offer some performance benefits over an archive log-based approach for a recovery. You can also use flashback logs and guaranteed restore points to flashback your database to a previous point in time.
                     </p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="vldb-backup.html#GUID-D4A6BA18-4B9D-4C8A-9228-A7A347B6EB42" title="The ETL process uses several Oracle features and a combination of methods to load (re-load) data into a data warehouse.">Extract, Transform, and Load</a></p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-894D16AF-2719-4C42-95D0-9A8E0E156343" title="One approach is to take regular database backups and also store the necessary data files to re-create the ETL process for that entire week.">The Extract, Transform, and Load Strategy</a></p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-8BB8C9D9-FF95-49B5-9E3B-F768459AB3EA" title="A more automated backup and recovery strategy in the presence of NOLOGGING operations uses RMAN's incremental backup capability.">Incremental Backup</a></p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-4FDB71A7-3761-4899-9BCA-1E97FB17BF9B" title="A typical backup and recovery strategy using this approach is to back up the data warehouse every weekend, and then take incremental backups of the data warehouse every night following the completion of the ETL process.">The Incremental Approach</a></p>
                        </li>
                        <li>
                           <p><a href="vldb-backup.html#GUID-F4F3145C-A462-4963-ACF6-BA66C5E9DD70" title="Flashback Database is a fast, continuous point-in-time recovery method to repair widespread logical errors.">Flashback Database and Guaranteed Restore Points</a></p>
                        </li>
                     </ul>
                  </div><a id="VLDBG1579"></a><div class="props_rev_3"><a id="GUID-D4A6BA18-4B9D-4C8A-9228-A7A347B6EB42" name="GUID-D4A6BA18-4B9D-4C8A-9228-A7A347B6EB42"></a><h5 id="VLDBG-GUID-D4A6BA18-4B9D-4C8A-9228-A7A347B6EB42" class="sect5">Extract, Transform, and Load</h5>
                     <div>
                        <p>The ETL process uses several Oracle features and a combination of methods to load (re-load) data into a data warehouse.</p>
                        <p>These features consist of:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Transportable tablespaces</p>
                              <p>Transportable tablespaces allow users to quickly move a tablespace across Oracle Databases. It is the most efficient way to move bulk data between databases. Oracle Database provides the ability to transport tablespaces across platforms. If the source platform and the target platform are of different endianness, then RMAN converts the tablespace being transported to the target format.</p>
                           </li>
                           <li>
                              <p>SQL*Loader</p>
                              <p>SQL*Loader loads data from external flat files into tables of Oracle Database. It has a powerful data parsing engine that puts little limitation on the format of the data in the data file.</p>
                           </li>
                           <li>
                              <p>Data Pump (export/import)</p>
                              <p>Oracle Data Pump enables high-speed movement of data and metadata from one database to another. This technology is the basis for the Oracle Data Pump Export and Data Pump Import utilities.</p>
                           </li>
                           <li>
                              <p>External tables</p>
                              <p>The external tables feature is a complement to existing SQL*Loader functionality. It enables you to access data in external sources as if it were in a table in the database. External tables can also be used with the Data Pump driver to export data from a database, using <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> <code class="codeph">*</code> <code class="codeph">FROM</code>, and then import data into Oracle Database.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="VLDBG1580"></a><div class="props_rev_3"><a id="GUID-894D16AF-2719-4C42-95D0-9A8E0E156343" name="GUID-894D16AF-2719-4C42-95D0-9A8E0E156343"></a><h5 id="VLDBG-GUID-894D16AF-2719-4C42-95D0-9A8E0E156343" class="sect5">The Extract, Transform, and Load Strategy</h5>
                     <div>
                        <p>One approach is to take regular database backups and also store the necessary data files to re-create the ETL process for that entire week.</p>
                        <p>In the event where a recovery is necessary, the data warehouse could be recovered from the most recent backup. Then, instead of rolling forward by applying the archived redo logs (as would be done in a conventional recovery scenario), the data warehouse could be rolled forward by rerunning the ETL processes. This paradigm assumes that the ETL processes can be easily replayed, which would typically involve storing a set of extract files for each ETL process.</p>
                        <p>A sample implementation of this approach is to make a backup of the data warehouse every weekend, and then store the necessary files to support the ETL process each night. At most, 7 days of ETL processing must be reapplied to recover a database. The data warehouse administrator can easily project the length of time to recover the data warehouse, based upon the recovery speeds from tape and performance data from previous ETL runs.</p>
                        <p>Essentially, the data warehouse administrator is gaining better performance in the ETL process with <code class="codeph">NOLOGGING</code> operations, at a price of slightly more complex and a less automated recovery process. Many data warehouse administrators have found that this is a desirable trade-off.
                        </p>
                        <p>One downside to this approach is that the burden is on the data warehouse administrator to track all of the relevant changes that have occurred in the data warehouse. This approach does not capture changes that fall outside of the ETL process. For example, in some data warehouses, users may create their own tables and data structures. Those changes are lost during a recovery.</p>
                        <p>This restriction must be conveyed to the end-users. Alternatively, one could also mandate that end-users create all private database objects in a separate tablespace, and during recovery, the DBA could recover this tablespace using conventional recovery while recovering the rest of the database using the approach of rerunning the ETL process.</p>
                     </div>
                  </div><a id="VLDBG1581"></a><div class="props_rev_3"><a id="GUID-8BB8C9D9-FF95-49B5-9E3B-F768459AB3EA" name="GUID-8BB8C9D9-FF95-49B5-9E3B-F768459AB3EA"></a><h5 id="VLDBG-GUID-8BB8C9D9-FF95-49B5-9E3B-F768459AB3EA" class="sect5">Incremental Backup</h5>
                     <div>
                        <p>A more automated backup and recovery strategy in the presence of <code class="codeph">NOLOGGING</code> operations uses RMAN's incremental backup capability. 
                        </p>
                        <p>Incremental backups provide the capability to back up only the changed blocks since the previous backup. Incremental backups of data files capture data changes on a block-by-block basis, rather than requiring the backup of all used blocks in a data file. The resulting backup sets are generally smaller and more efficient than full data file backups, unless every block in the data file is changed.</p>
                        <p>When you enable block change tracking, Oracle Database tracks the physical location of all database changes. RMAN automatically uses the change tracking file to determine which blocks must be read during an incremental backup. The block change tracking file is approximately 1/30000 of the total size of the database.</p>
                        <div class="infoboxnotealso" id="GUID-8BB8C9D9-FF95-49B5-9E3B-F768459AB3EA__GUID-15C766EE-97C7-456A-880F-59ADC195C6A1">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/vldbg&amp;id=BRADV8001" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> for more information about block change tracking and how to enable it
                           </p>
                        </div>
                     </div>
                  </div><a id="VLDBG1582"></a><div class="props_rev_3"><a id="GUID-4FDB71A7-3761-4899-9BCA-1E97FB17BF9B" name="GUID-4FDB71A7-3761-4899-9BCA-1E97FB17BF9B"></a><h5 id="VLDBG-GUID-4FDB71A7-3761-4899-9BCA-1E97FB17BF9B" class="sect5">The Incremental Approach</h5>
                     <div>
                        <p>A typical backup and recovery strategy using this approach is to back up the data warehouse every weekend, and then take incremental backups of the data warehouse every night following the completion of the ETL process. </p>
                        <p>Incremental backups, like conventional backups, must not be run concurrently with <code class="codeph">NOLOGGING</code> operations. To recover the data warehouse, the database backup would be restored, and then each night's incremental backups would be reapplied.
                        </p>
                        <p>Although the <code class="codeph">NOLOGGING</code> operations were not captured in the archive logs, the data from the <code class="codeph">NOLOGGING</code> operations is present in the incremental backups. Moreover, unlike the previous approach, this backup and recovery strategy can be managed using RMAN.
                        </p>
                     </div>
                  </div><a id="VLDBG1583"></a><div class="props_rev_3"><a id="GUID-F4F3145C-A462-4963-ACF6-BA66C5E9DD70" name="GUID-F4F3145C-A462-4963-ACF6-BA66C5E9DD70"></a><h5 id="VLDBG-GUID-F4F3145C-A462-4963-ACF6-BA66C5E9DD70" class="sect5">Flashback Database and Guaranteed Restore Points</h5>
                     <div>
                        <p>Flashback Database is a fast, continuous point-in-time recovery method to repair widespread logical errors. </p>
                        <p>Flashback Database relies on additional logging, called flashback logs, which are created in the fast recovery area and retained for a user-defined time interval according to the recovery needs. These logs track the original block images when they are updated.</p>
                        <p>When a Flashback Database operation is executed, just the block images corresponding to the changed data are restored and recovered, versus traditional data file restore where all blocks from the backup must be restored before recovery can start. Flashback logs are created proportionally to redo logs.</p>
                        <p>For very large and active databases, it may not be feasible to keep all needed flashback logs for continuous point-in-time recovery. However, there may be a requirement to create a specific point-in-time snapshot (for example, right before a nightly batch job) for logical errors during the batch run. For this scenario, guaranteed restore points can be created without enabling flashback logging.</p>
                        <p>When the guaranteed restore points are created, flashback logs are maintained just to satisfy Flashback Database to the guaranteed restore points and no other point in time, thus saving space. For example, guaranteed restore points can be created followed by a nologging batch job. As long as there are no previous nologging operations within the last hour of the creation time of the guaranteed restore points, Flashback Database to the guaranteed restore points undoes the nologging batch job. To flash back to a time after the nologging batch job finishes, then create the guaranteed restore points at least one hour away from the end of the batch job.</p>
                        <p>Estimating flashback log space for guaranteed restore points in this scenario depends on how much of the database changes over the number of days you intend to keep guaranteed restore points. For example, to keep guaranteed restore points for 2 days and you expect 100 GB of the database to change, then plan for 100 GB for the flashback logs. The 100 GB refers to the subset of the database changed after the guaranteed restore points are created and not the frequency of changes.</p>
                     </div>
                  </div>
               </div><a id="VLDBG1584"></a><div class="props_rev_3"><a id="GUID-12293CA0-65A8-469F-BEDE-4D502B250724" name="GUID-12293CA0-65A8-469F-BEDE-4D502B250724"></a><h4 id="VLDBG-GUID-12293CA0-65A8-469F-BEDE-4D502B250724" class="sect4">Best Practice 7: Not All Tablespaces Should Be Treated Equally</h4>
                  <div>
                     <p>Not all of the tablespaces in a data warehouse are equally significant from a backup and recovery perspective.</p>
                     <p>Database administrators can use this information to devise more efficient backup and recovery strategies when necessary. The basic granularity of backup and recovery is a tablespace, so different tablespaces can potentially have different backup and recovery strategies.</p>
                     <p>On the most basic level, temporary tablespaces never need to be backed up (a rule which RMAN enforces). Moreover, in some data warehouses, there may be tablespaces dedicated to scratch space for users to store temporary tables and incremental results. These tablespaces are not explicit temporary tablespaces but are essentially functioning as temporary tablespaces. Depending upon the business requirements, these tablespaces may not need to be backed up and restored; instead, for a loss of these tablespaces, the users would re-create their own data objects.</p>
                     <p>In many data warehouses, some data is more important than other data. For example, the sales data in a data warehouse may be crucial and in a recovery situation this data must be online as soon as possible. But, in the same data warehouse, a table storing clickstream data from the corporate website may be much less critical to businesses. The business may tolerate this data being offline for a few days or may even be able to accommodate the loss of several days of clickstream data if there is a loss of database files. In this scenario, the tablespaces containing sales data must be backed up often, while the tablespaces containing clickstream data need to be backed up only once every week or two weeks.</p>
                     <p>While the simplest backup and recovery scenario is to treat every tablespace in the database the same, Oracle Database provides the flexibility for a DBA to devise a backup and recovery scenario for each tablespace as needed.</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13444.create-composite-partition-table.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="When creating a composite partitioned table, you use the PARTITION and SUBPARTITION clauses of the CREATE TABLE SQL statement.">
      <meta name="description" content="When creating a composite partitioned table, you use the PARTITION and SUBPARTITION clauses of the CREATE TABLE SQL statement.">
      <title>Specifying Composite Partitioning When Creating Tables</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="VLDB and Partitioning Guide">
      <meta property="og:description" content="When creating a composite partitioned table, you use the PARTITION and SUBPARTITION clauses of the CREATE TABLE SQL statement.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="VLDB and Partitioning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00">
      <meta name="dcterms.title" content="VLDB and Partitioning Guide">
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96199-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="partition-create-tables-indexes.html" title="Previous" type="text/html">
      <link rel="next" href="maintenance-partition-can-be-performed.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="partition-create-tables-indexes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="maintenance-partition-can-be-performed.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB and Partitioning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="partition-admin.html" property="item" typeof="WebPage"><span property="name">Partition Administration</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Specifying Composite Partitioning When Creating Tables</li>
            </ol>
            <a id="GUID-CB1047B0-EBD7-4919-AC77-346BB48A98C4" name="GUID-CB1047B0-EBD7-4919-AC77-346BB48A98C4"></a><a id="VLDBG1094"></a>
            
            <h2 id="VLDBG-GUID-CB1047B0-EBD7-4919-AC77-346BB48A98C4" class="sect2">Specifying Composite Partitioning When Creating Tables</h2>
         </header>
         <div class="ind">
            <div>
               <p>When creating a composite partitioned table, you use the <code class="codeph">PARTITION</code> and <code class="codeph">SUBPARTITION</code> clauses of the <code class="codeph">CREATE TABLE</code> SQL statement.
               </p>
               <p>To create a composite partitioned table, you start by using the <code class="codeph">PARTITION</code> <code class="codeph">BY</code> {<code class="codeph">HASH</code> | <code class="codeph">RANGE</code> [<code class="codeph">INTERVAL</code>]| <code class="codeph">LIST</code>} clause of a <code class="codeph">CREATE TABLE</code> statement. Next, you specify a <code class="codeph">SUBPARTITION BY</code> clause that follows similar syntax and rules as the <code class="codeph">PARTITION BY</code> clause. 
               </p>
               <p>The following topics are discussed:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C" title="Composite hash-* partitioning enables hash partitioning along two dimensions.">Creating Composite Hash-* Partitioned Tables</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-92F34170-30CD-40E3-9899-67A2DA49429F" title="The concepts of interval-* composite partitioning are similar to the concepts for range-* partitioning.">Creating Composite Interval-* Partitioned Tables</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-795E1D0E-A298-404B-B66C-4832A63264F1" title="The concepts of list-hash, list-list, and list-range composite partitioning are similar to the concepts for range-hash, range-list, and range-range partitioning.">Creating Composite List-* Partitioned Tables</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C" title="The methods for creating composite range-* partitioned tables are introduced in this topic.">Creating Composite Range-* Partitioned Tables</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C" name="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C"></a><h3 id="VLDBG-GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C" class="sect3">Creating Composite Hash-* Partitioned Tables</h3>
               <div>
                  <p>Composite hash-* partitioning enables hash partitioning along two dimensions. </p>
                  <p>The composite hash-hash partitioning strategy has the most business value of the composite hash-* partitioned tables. This technique is beneficial to enable partition-wise joins along two dimensions.</p>
                  <p>In the following example, the number of subpartitions is specified when creating a composite hash-hash partitioned table; however, names are not specified. System generated names are assigned to partitions and subpartitions, which are stored in the default tablespace of the table.</p>
                  <div class="infoboxnote" id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C__VIEWANDRUNARELATEDEXAMPLEONORACLELI-6582E293">
                     <p class="notep1">Live SQL:</p>
                     <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-hash-hash-partitioning-example.html" target="_blank"><span class="italic">Oracle Live SQL: Creating a Composite Hash-Hash Partition Table</span></a>.
                     </p>
                  </div>
                  <div class="example" id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C__GUID-38047322-24F3-4BEB-81B1-B27068465524">
                     <p class="titleinexample">Example 4-17 Creating a composite hash-hash partitioned table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE departments_courses_hash (
             department_id NUMBER(4) NOT NULL, 
             department_name VARCHAR2(30),
             course_id NUMBER(4) NOT NULL)
     PARTITION BY HASH(department_id)
     SUBPARTITION BY HASH (course_id) SUBPARTITIONS 32 PARTITIONS 16;</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C__TOLEARNMOREABOUTHOWTOUSEASUBPARTITI-AFD0459F">
                        <p class="notep1">See Also:</p>
                        <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a> to learn how using a subpartition template can simplify the specification of a composite partitioned table
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="VLDBG1102"></a><div class="props_rev_3"><a id="GUID-92F34170-30CD-40E3-9899-67A2DA49429F" name="GUID-92F34170-30CD-40E3-9899-67A2DA49429F"></a><h3 id="VLDBG-GUID-92F34170-30CD-40E3-9899-67A2DA49429F" class="sect3">Creating Composite Interval-* Partitioned Tables</h3>
               <div>
                  <p>The concepts of interval-* composite partitioning are similar to the concepts for range-* partitioning.</p>
                  <p>However, you extend the <code class="codeph">PARTITION BY RANGE</code> clause to include the <code class="codeph">INTERVAL</code> definition. You must specify at least one range partition using the <code class="codeph">PARTITION</code> clause. The range partitioning key value determines the high value of the range partitions, which is called the transition point, and the database automatically creates interval partitions for data beyond that transition point.
                  </p>
                  <p>The subpartitions for intervals in an interval-* partitioned table are created when the database creates the interval. You can specify the definition of future subpartitions only with a subpartition template. </p>
                  <p>The following topics show examples for the different interval-* composite partitioning methods.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33" title="You can create an interval-hash partitioned table with multiple hash partitions by specifying multiple hash partitions in the PARTITION clause or by using a subpartition template.">Creating Composite Interval-Hash Partitioned Tables</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47" title="To define list subpartitions for future interval-list partitions, you must use the subpartition template.">Creating Composite Interval-List Partitioned Tables</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14" title="To define range subpartitions for future interval-range partitions, you must use the subpartition template.">Creating Composite Interval-Range Partitioned Tables</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-92F34170-30CD-40E3-9899-67A2DA49429F__GUID-A751E780-EB0C-4F06-B52C-A7EE182126C2">
                     <p class="notep1">See Also:</p>
                     <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a> to learn how using a subpartition template can simplify the specification of a composite partitioned table
                     </p>
                  </div>
               </div><a id="VLDBG1103"></a><div class="props_rev_3"><a id="GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33" name="GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33"></a><h4 id="VLDBG-GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33" class="sect4">Creating Composite Interval-Hash Partitioned Tables</h4>
                  <div>
                     <p>You can create an interval-hash partitioned table with multiple hash partitions by specifying multiple hash partitions in the <code class="codeph">PARTITION</code> clause or by using a subpartition template.
                     </p>
                     <div class="section">
                        <p>If you do not use either of these methods, then future interval partitions get only a single hash subpartition.</p>
                        <p>The following example shows the <code class="codeph">sales</code> table, interval partitioned using monthly intervals on <code class="codeph">time_id</code>, with hash subpartitions by <code class="codeph">cust_id</code>. This example specifies multiple hash partitions, without any specific tablespace assignment to the individual hash partitions.
                        </p>
                        <div class="infoboxnote" id="GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33__VIEWANDRUNARELATEDEXAMPLEONORACLELI-65836DC7">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-interval-hash-partitioning-example.html" target="_blank"><span class="italic">Oracle Live SQL: Creating a Composite Interval-Hash Partitioned Table</span></a>.
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales
  ( prod_id       NUMBER(6)
  , cust_id       NUMBER
  , time_id       DATE
  , channel_id    CHAR(1)
  , promo_id      NUMBER(6)
  , quantity_sold NUMBER(3)
  , amount_sold   NUMBER(10,2)
  )
 PARTITION BY RANGE (time_id) INTERVAL (NUMTOYMINTERVAL(1,'MONTH'))
 SUBPARTITION BY HASH (cust_id) SUBPARTITIONS 4
 (PARTITION before_2000 VALUES LESS THAN (TO_DATE('01-JAN-2000','dd-MON-yyyy'))
  )
PARALLEL;
</pre><p>This next example shows the same <code class="codeph">sales</code> table, interval partitioned using monthly intervals on <code class="codeph">time_id</code>, again with hash subpartitions by <code class="codeph">cust_id</code>. This time, however, individual hash partitions are stored in separate tablespaces. The subpartition template is used to define the tablespace assignment for future hash subpartitions. 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales
  ( prod_id       NUMBER(6)
  , cust_id       NUMBER
  , time_id       DATE
  , channel_id    CHAR(1)
  , promo_id      NUMBER(6)
  , quantity_sold NUMBER(3)
  , amount_sold   NUMBER(10,2)
  )
 PARTITION BY RANGE (time_id) INTERVAL (NUMTOYMINTERVAL(1,'MONTH'))
 SUBPARTITION BY hash(cust_id)
   SUBPARTITION template
   ( SUBPARTITION p1 TABLESPACE ts1
   , SUBPARTITION p2 TABLESPACE ts2
   , SUBPARTITION p3 TABLESPACE ts3
   , SUBPARTITION P4 TABLESPACE ts4
   )
 (PARTITION before_2000 VALUES LESS THAN (TO_DATE('01-JAN-2000','dd-MON-yyyy'))
  )
PARALLEL;
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="VLDBG14055"></a><a id="VLDBG1104"></a><div class="props_rev_3"><a id="GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47" name="GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47"></a><h4 id="VLDBG-GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47" class="sect4">Creating Composite Interval-List Partitioned Tables</h4>
                  <div>
                     <p>To define list subpartitions for future interval-list partitions, you must use the subpartition template.</p>
                     <div class="section">
                        <p>If you do not use the subpartitioning template, then the only subpartition that are created for every interval partition is a <code class="codeph">DEFAULT</code> subpartition. 
                        </p>
                        <p><a href="create-composite-partition-table.html#GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47__CHDCJDAD">Example 4-18</a> shows the <code class="codeph">sales_interval_list</code> table, interval partitioned using monthly intervals on <code class="codeph">sales_date</code>, with list subpartitions by <code class="codeph">channel_id</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47__CHDCJDAD">
                        <p class="titleinexample">Example 4-18 Creating a composite interval-list partitioned table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_interval_list
  ( product_id       NUMBER(6)
  , customer_id      NUMBER
  , channel_id       CHAR(1)
  , promo_id         NUMBER(6)
  , sales_date       DATE
  , quantity_sold    INTEGER
  , amount_sold      NUMBER(10,2)
  )
 PARTITION BY RANGE (sales_date) INTERVAL (NUMTOYMINTERVAL(1,'MONTH'))
 SUBPARTITION BY LIST (channel_id)
   SUBPARTITION TEMPLATE
   ( SUBPARTITION p_catalog VALUES ('C')
   , SUBPARTITION p_internet VALUES ('I')
   , SUBPARTITION p_partners VALUES ('P')
   , SUBPARTITION p_direct_sales VALUES ('S')
   , SUBPARTITION p_tele_sales VALUES ('T')
   )
 (PARTITION before_2017 VALUES LESS THAN (TO_DATE('01-JAN-2017','dd-MON-yyyy'))
  )
PARALLEL;

SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME FROM USER_TAB_SUBPARTITIONS WHERE TABLE_NAME ='SALES_INTERVAL_LIST';
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14056"></a><a id="VLDBG1105"></a><div class="props_rev_3"><a id="GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14" name="GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14"></a><h4 id="VLDBG-GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14" class="sect4">Creating Composite Interval-Range Partitioned Tables</h4>
                  <div>
                     <p>To define range subpartitions for future interval-range partitions, you must use the subpartition template.</p>
                     <div class="section">
                        <p>If you do not use the subpartition template, then the only subpartition that is created for every interval partition is a range subpartition with the <code class="codeph">MAXVALUE</code> upper boundary. 
                        </p>
                        <p><a href="create-composite-partition-table.html#GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14__CHDIFGBB">Example 4-19</a> shows the <code class="codeph">sales</code> table, interval partitioned using daily intervals on <code class="codeph">time_id</code>, with range subpartitions by <code class="codeph">amount_sold</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14__CHDIFGBB">
                        <p class="titleinexample">Example 4-19 Creating a composite interval-range partitioned table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales
  ( prod_id       NUMBER(6)
  , cust_id       NUMBER
  , time_id       DATE
  , channel_id    CHAR(1)
  , promo_id      NUMBER(6)
  , quantity_sold NUMBER(3)
  , amount_sold   NUMBER(10,2)
  )
 PARTITION BY RANGE (time_id) INTERVAL (NUMTODSINTERVAL(1,'DAY'))
SUBPARTITION BY RANGE(amount_sold)
   SUBPARTITION TEMPLATE
   ( SUBPARTITION p_low VALUES LESS THAN (1000)
   , SUBPARTITION p_medium VALUES LESS THAN (4000)
   , SUBPARTITION p_high VALUES LESS THAN (8000)
   , SUBPARTITION p_ultimate VALUES LESS THAN (maxvalue)
   )
 (PARTITION before_2000 VALUES LESS THAN (TO_DATE('01-JAN-2000','dd-MON-yyyy'))
  )
PARALLEL;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="VLDBG1098"></a><div class="props_rev_3"><a id="GUID-795E1D0E-A298-404B-B66C-4832A63264F1" name="GUID-795E1D0E-A298-404B-B66C-4832A63264F1"></a><h3 id="VLDBG-GUID-795E1D0E-A298-404B-B66C-4832A63264F1" class="sect3">Creating Composite List-* Partitioned Tables</h3>
               <div>
                  <p>The concepts of list-hash, list-list, and list-range composite partitioning are similar to the concepts for range-hash, range-list, and range-range partitioning.</p>
                  <p>However, for list-* composite partitioning you specify <code class="codeph">PARTITION BY LIST</code> to define the partitioning strategy.
                  </p>
                  <p>The list partitions of a list-* composite partitioned table are similar to non-composite range partitioned tables. This organization enables optional subclauses of a <code class="codeph">PARTITION</code> clause to specify physical and other attributes, including tablespace, specific to a partition segment. If not overridden at the partition level, then partitions inherit the attributes of their underlying table.
                  </p>
                  <p>The subpartition descriptions, in the <code class="codeph">SUBPARTITION</code> or <code class="codeph">SUBPARTITIONS</code> clauses, are similar to range-* composite partitioning methods.
                  </p>
                  <p>The following topics show examples for the different list-* composite partitioning methods.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-E4131251-C76F-4DA0-8235-294C40F836B1" title="The example in this topic shows how to create a composite list-hash partitioned table.">Creating Composite List-Hash Partitioned Tables</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-7854B907-B11C-41A6-A7AC-E01D063198B6" title="The example in this topic shows how to create a composite list-list partitioned table.">Creating Composite List-List Partitioned Tables</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-84DF5438-912C-40FD-895B-B624C57C1862" title="The example in this topic shows how to create a composite list-range partitioned table.">Creating Composite List-Range Partitioned Tables</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-795E1D0E-A298-404B-B66C-4832A63264F1__TOLEARNMOREABOUTHOWTOUSEASUBPARTITI-AFD1687A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a> to learn how using a subpartition template can simplify the specification of a composite partitioned table
                           </p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" title="The partitions of a range-hash partitioned table are logical structures only, because their data is stored in the segments of their subpartitions.">About Creating Composite Range-Hash Partitioned Tables</a> for more information about the subpartition definition of a list-hash composite partitioning method
                           </p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" title="The range partitions of a range-list composite partitioned table are described as the same for non-composite range partitioned tables.">About Creating Composite Range-List Partitioned Tables</a> for more information about the subpartition definition of a list-list composite partitioning method
                           </p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" title="The range partitions of a range-range composite partitioned table are similar to non-composite range partitioned tables.">Creating Composite Range-Range Partitioned Tables</a> for more information about the subpartition definition of a list-range composite partitioning method 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG14051"></a><a id="VLDBG1099"></a><div class="props_rev_3"><a id="GUID-E4131251-C76F-4DA0-8235-294C40F836B1" name="GUID-E4131251-C76F-4DA0-8235-294C40F836B1"></a><h4 id="VLDBG-GUID-E4131251-C76F-4DA0-8235-294C40F836B1" class="sect4">Creating Composite List-Hash Partitioned Tables</h4>
                  <div>
                     <p>The example in this topic shows how to create a composite list-hash partitioned table.</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-E4131251-C76F-4DA0-8235-294C40F836B1__CHDJFCCD">Example 4-20</a> shows an <code class="codeph">accounts</code> table that is list partitioned by region and subpartitioned using hash by customer identifier.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E4131251-C76F-4DA0-8235-294C40F836B1__CHDJFCCD">
                        <p class="titleinexample">Example 4-20 Creating a composite list-hash partitioned table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE accounts
( id             NUMBER
 , account_number NUMBER
 , customer_id    NUMBER
 , balance        NUMBER
 , branch_id      NUMBER
 , region         VARCHAR(2)
 , status         VARCHAR2(1)
)
PARTITION BY LIST (region)
SUBPARTITION BY HASH (customer_id) SUBPARTITIONS 8
( PARTITION p_northwest VALUES ('OR', 'WA')
 , PARTITION p_southwest VALUES ('AZ', 'UT', 'NM')
 , PARTITION p_northeast VALUES ('NY', 'VM', 'NJ')
 , PARTITION p_southeast VALUES ('FL', 'GA')
 , PARTITION p_northcentral VALUES ('SD', 'WI')
 , PARTITION p_southcentral VALUES ('OK', 'TX')
);
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14052"></a><a id="VLDBG1100"></a><div class="props_rev_3"><a id="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6" name="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6"></a><h4 id="VLDBG-GUID-7854B907-B11C-41A6-A7AC-E01D063198B6" class="sect4">Creating Composite List-List Partitioned Tables</h4>
                  <div>
                     <p>The example in this topic shows how to create a composite list-list partitioned table.</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-7854B907-B11C-41A6-A7AC-E01D063198B6__CHDGDCID">Example 4-21</a> shows an <code class="codeph">accounts</code> table that is list partitioned by region and subpartitioned using list by account status.
                        </p>
                        <div class="infoboxnote" id="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6__VIEWANDRUNARELATEDEXAMPLEONORACLELI-6B564683">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-list-list-partitioning-example.html" target="_blank"><span class="italic">Oracle Live SQL: Creating a Composite List-List Partitioned Table</span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6__CHDGDCID">
                        <p class="titleinexample">Example 4-21 Creating a composite list-list partitioned table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE accounts
( id             NUMBER
, account_number NUMBER
, customer_id    NUMBER
, balance        NUMBER
, branch_id      NUMBER
, region         VARCHAR(2)
, status         VARCHAR2(1)
)
PARTITION BY LIST (region)
SUBPARTITION BY LIST (status)
( PARTITION p_northwest VALUES ('OR', 'WA')
  ( SUBPARTITION p_nw_bad VALUES ('B')
  , SUBPARTITION p_nw_average VALUES ('A')
  , SUBPARTITION p_nw_good VALUES ('G')
  )
, PARTITION p_southwest VALUES ('AZ', 'UT', 'NM')
  ( SUBPARTITION p_sw_bad VALUES ('B')
  , SUBPARTITION p_sw_average VALUES ('A')
  , SUBPARTITION p_sw_good VALUES ('G')
  )
, PARTITION p_northeast VALUES ('NY', 'VM', 'NJ')
  ( SUBPARTITION p_ne_bad VALUES ('B')
  , SUBPARTITION p_ne_average VALUES ('A')
  , SUBPARTITION p_ne_good VALUES ('G')
  )
, PARTITION p_southeast VALUES ('FL', 'GA')
  ( SUBPARTITION p_se_bad VALUES ('B')
  , SUBPARTITION p_se_average VALUES ('A')
  , SUBPARTITION p_se_good VALUES ('G')
  )
, PARTITION p_northcentral VALUES ('SD', 'WI')
  ( SUBPARTITION p_nc_bad VALUES ('B')
  , SUBPARTITION p_nc_average VALUES ('A')
  , SUBPARTITION p_nc_good VALUES ('G')
  )
, PARTITION p_southcentral VALUES ('OK', 'TX')
  ( SUBPARTITION p_sc_bad VALUES ('B')
  , SUBPARTITION p_sc_average VALUES ('A')
  , SUBPARTITION p_sc_good VALUES ('G')
  )
);
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14053"></a><a id="VLDBG1101"></a><div class="props_rev_3"><a id="GUID-84DF5438-912C-40FD-895B-B624C57C1862" name="GUID-84DF5438-912C-40FD-895B-B624C57C1862"></a><h4 id="VLDBG-GUID-84DF5438-912C-40FD-895B-B624C57C1862" class="sect4">Creating Composite List-Range Partitioned Tables</h4>
                  <div>
                     <p>The example in this topic shows how to create a composite list-range partitioned table.</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-84DF5438-912C-40FD-895B-B624C57C1862__CHDEAECF">Example 4-22</a> shows an <code class="codeph">accounts</code> table that is list partitioned by region and subpartitioned using range by account balance, and row movement is enabled. Subpartitions for different list partitions could have different ranges specified.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-84DF5438-912C-40FD-895B-B624C57C1862__CHDEAECF">
                        <p class="titleinexample">Example 4-22 Creating a composite list-range partitioned table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE accounts
( id             NUMBER
, account_number NUMBER
, customer_id    NUMBER
, balance        NUMBER
, branch_id      NUMBER
, region         VARCHAR(2)
, status         VARCHAR2(1)
)
PARTITION BY LIST (region)
SUBPARTITION BY RANGE (balance)
( PARTITION p_northwest VALUES ('OR', 'WA')
  ( SUBPARTITION p_nw_low VALUES LESS THAN (1000)
  , SUBPARTITION p_nw_average VALUES LESS THAN (10000)
  , SUBPARTITION p_nw_high VALUES LESS THAN (100000)
  , SUBPARTITION p_nw_extraordinary VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_southwest VALUES ('AZ', 'UT', 'NM')
  ( SUBPARTITION p_sw_low VALUES LESS THAN (1000)
  , SUBPARTITION p_sw_average VALUES LESS THAN (10000)
  , SUBPARTITION p_sw_high VALUES LESS THAN (100000)
  , SUBPARTITION p_sw_extraordinary VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_northeast VALUES ('NY', 'VM', 'NJ')
  ( SUBPARTITION p_ne_low VALUES LESS THAN (1000)
  , SUBPARTITION p_ne_average VALUES LESS THAN (10000)
  , SUBPARTITION p_ne_high VALUES LESS THAN (100000)
  , SUBPARTITION p_ne_extraordinary VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_southeast VALUES ('FL', 'GA')
  ( SUBPARTITION p_se_low VALUES LESS THAN (1000)
  , SUBPARTITION p_se_average VALUES LESS THAN (10000)
  , SUBPARTITION p_se_high VALUES LESS THAN (100000)
  , SUBPARTITION p_se_extraordinary VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_northcentral VALUES ('SD', 'WI')
  ( SUBPARTITION p_nc_low VALUES LESS THAN (1000)
  , SUBPARTITION p_nc_average VALUES LESS THAN (10000)
  , SUBPARTITION p_nc_high VALUES LESS THAN (100000)
  , SUBPARTITION p_nc_extraordinary VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_southcentral VALUES ('OK', 'TX')
  ( SUBPARTITION p_sc_low VALUES LESS THAN (1000)
  , SUBPARTITION p_sc_average VALUES LESS THAN (10000)
  , SUBPARTITION p_sc_high VALUES LESS THAN (100000)
  , SUBPARTITION p_sc_extraordinary VALUES LESS THAN (MAXVALUE)
  )
) ENABLE ROW MOVEMENT;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C" name="GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C"></a><h3 id="VLDBG-GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C" class="sect3">Creating Composite Range-* Partitioned Tables</h3>
               <div>
                  <p>The methods for creating composite range-* partitioned tables are introduced in this topic.</p>
                  <p>The following topics show examples of the different range-* composite partitioning methods.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" title="The partitions of a range-hash partitioned table are logical structures only, because their data is stored in the segments of their subpartitions.">About Creating Composite Range-Hash Partitioned Tables</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" title="The range partitions of a range-list composite partitioned table are described as the same for non-composite range partitioned tables.">About Creating Composite Range-List Partitioned Tables</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" title="The range partitions of a range-range composite partitioned table are similar to non-composite range partitioned tables.">Creating Composite Range-Range Partitioned Tables</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C__TOLEARNMOREABOUTHOWTOUSEASUBPARTITI-AFD25FB4">
                     <p class="notep1">See Also:</p>
                     <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a> to learn how using a subpartition template can simplify the specification of a composite partitioned table
                     </p>
                  </div>
               </div><a id="VLDBG1095"></a><div class="props_rev_3"><a id="GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" name="GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449"></a><h4 id="VLDBG-GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" class="sect4">About Creating Composite Range-Hash Partitioned Tables</h4>
                  <div>
                     <p>The partitions of a range-hash partitioned table are logical structures only, because their data is stored in the segments of their subpartitions.</p>
                     <p>As with partitions, these subpartitions share the same logical attributes. Unlike range partitions in a range-partitioned table, the subpartitions cannot have different physical attributes from the owning partition, although they are not required to reside in the same tablespace.</p>
                     <p>The following topics are discussed:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43" title="The example in this topic shows how to create a composite range-hash partitioned table using the same tablespaces.">Creating a Composite Range-Hash Partitioned Table With the Same Tablespaces</a></p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14" title="The example in this topic shows how to create a composite range-hash partitioned table using varying tablespaces.">Creating a Composite Range-Hash Partitioned Table With Varying Tablespaces</a></p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D" title="The example in this topic shows how to create a local index across multiple tablespaces.">Creating a Local Index Across Multiple Tablespaces</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449__TOLEARNHOWUSINGASUBPARTITIONTEMPLAT-AFD34188">
                        <p class="notep1">See Also:</p>
                        <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a> to learn how using a subpartition template can simplify the specification of a composite partitioned table
                        </p>
                     </div>
                  </div><a id="VLDBG14048"></a><div class="props_rev_3"><a id="GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43" name="GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43"></a><h5 id="VLDBG-GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43" class="sect5">Creating a Composite Range-Hash Partitioned Table With the Same Tablespaces</h5>
                     <div>
                        <p>The example in this topic shows how to create a composite range-hash partitioned table using the same tablespaces.</p>
                        <div class="section">
                           <p> The statement in <a href="create-composite-partition-table.html#GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43__CHDGECFB">Example 4-23</a> creates a range-hash partitioned table. Four range partitions are created, each containing eight subpartitions. Because the subpartitions are not named, system generated names are assigned, but the <code class="codeph">STORE IN</code> clause distributes them across the 4 specified tablespaces (<code class="codeph">ts1</code>, <code class="codeph">ts2</code>, <code class="codeph">ts3</code>,<code class="codeph">ts4</code>).
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43__CHDGECFB">
                           <p class="titleinexample">Example 4-23 Creating a composite range-hash partitioned table using one STORE IN clause</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales
  ( prod_id       NUMBER(6)
  , cust_id       NUMBER
  , time_id       DATE
  , channel_id    CHAR(1)
  , promo_id      NUMBER(6)
  , quantity_sold NUMBER(3)
  , amount_sold   NUMBER(10,2)
  )
 PARTITION BY RANGE (time_id) SUBPARTITION BY HASH (cust_id)
  SUBPARTITIONS 8 STORE IN (ts1, ts2, ts3, ts4)
 ( PARTITION sales_q1_2006 VALUES LESS THAN (TO_DATE('01-APR-2006','dd-MON-yyyy'))
  , PARTITION sales_q2_2006 VALUES LESS THAN (TO_DATE('01-JUL-2006','dd-MON-yyyy'))
  , PARTITION sales_q3_2006 VALUES LESS THAN (TO_DATE('01-OCT-2006','dd-MON-yyyy'))
  , PARTITION sales_q4_2006 VALUES LESS THAN (TO_DATE('01-JAN-2007','dd-MON-yyyy'))
 );
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14" name="GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14"></a><h5 id="VLDBG-GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14" class="sect5">Creating a Composite Range-Hash Partitioned Table With Varying Tablespaces</h5>
                     <div>
                        <p>The example in this topic shows how to create a composite range-hash partitioned table using varying tablespaces.</p>
                        <div class="section">
                           <p>Attributes specified for a range partition apply to all subpartitions of that partition. You can specify different attributes for each range partition, and you can specify a <code class="codeph">STORE IN</code> clause at the partition level if the list of tablespaces across which the subpartitions of that partition should be spread is different from those of other partitions. This is illustrated in the following example.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employees_range_hash 
         (department_id NUMBER(4) NOT NULL, 
          last_name VARCHAR2(25), 
          job_id VARCHAR2(10))   
     PARTITION BY RANGE(department_id) SUBPARTITION BY HASH(last_name)
        SUBPARTITIONS 8 STORE IN (ts1, ts3, ts5, ts7)
    (PARTITION p1 VALUES LESS THAN (1000),
     PARTITION p2 VALUES LESS THAN (2000)
        STORE IN (ts2, ts4, ts6, ts8),
     PARTITION p3 VALUES LESS THAN (MAXVALUE)
       (SUBPARTITION p3_s1 TABLESPACE ts4,
        SUBPARTITION p3_s2 TABLESPACE ts5));
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D" name="GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D"></a><h5 id="VLDBG-GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D" class="sect5">Creating a Local Index Across Multiple Tablespaces</h5>
                     <div>
                        <p>The example in this topic shows how to create a local index across multiple tablespaces.</p>
                        <div class="section">
                           <p>The following statement is an example of creating a local index on a table where the index segments are spread across tablespaces <code class="codeph">ts7</code>, <code class="codeph">ts8</code>, and <code class="codeph">ts9</code>.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX employee_ix ON employees_range_hash(department_id)
     LOCAL STORE IN (ts7, ts8, ts9);
</pre><p>This local index is equipartitioned with the base table so that it consists of as many partitions as the base table. Each index partition consists of as many subpartitions as the corresponding base table partition. Index entries for rows in a given subpartition of the base table are stored in the corresponding subpartition of the index.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="VLDBG1096"></a><div class="props_rev_3"><a id="GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" name="GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3"></a><h4 id="VLDBG-GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" class="sect4">About Creating Composite Range-List Partitioned Tables</h4>
                  <div>
                     <p>The range partitions of a range-list composite partitioned table are described as the same for non-composite range partitioned tables.</p>
                     <p>This organization enables optional subclauses of a <code class="codeph">PARTITION</code> clause to specify physical and other attributes, including tablespace, specific to a partition segment. If not overridden at the partition level, partitions inherit the attributes of their underlying table.
                     </p>
                     <p>The list subpartition descriptions, in the <code class="codeph">SUBPARTITION</code> clauses, are described as for non-composite list partitions, except the only physical attribute that can be specified is a tablespace (optional). Subpartitions inherit all other physical attributes from the partition description.
                     </p>
                     <p>The following topics are discussed:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-50581F67-E90A-49E4-A445-2332910D8608" title="The example in this topic shows how to create a composite range-list partitioned table.">Creating a Composite Range-List Partitioned Table</a></p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-9028BE6A-9CC3-4625-83D6-7A6233477176" title="The example in this topic shows how to create a composite range-list partitioned table while specifying tablespaces.">Creating a Composite Range-List Partitioned Table Specifying Tablespaces</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3__GUID-F85C82F0-1A72-412C-A50F-82BE92771665">
                        <p class="notep1">See Also:</p>
                        <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a> to learn how using a subpartition template can simplify the specification of a composite partitioned table
                        </p>
                     </div>
                  </div><a id="VLDBG14049"></a><div class="props_rev_3"><a id="GUID-50581F67-E90A-49E4-A445-2332910D8608" name="GUID-50581F67-E90A-49E4-A445-2332910D8608"></a><h5 id="VLDBG-GUID-50581F67-E90A-49E4-A445-2332910D8608" class="sect5">Creating a Composite Range-List Partitioned Table</h5>
                     <div>
                        <p>The example in this topic shows how to create a composite range-list partitioned table.</p>
                        <div class="section">
                           <p><a href="create-composite-partition-table.html#GUID-50581F67-E90A-49E4-A445-2332910D8608__CHDFIFJG">Example 4-24</a> illustrates how range-list partitioning might be used. The example tracks sales data of products by quarters and within each quarter, groups it by specified states.
                           </p>
                           <p>A row is mapped to a partition by checking whether the value of the partitioning column for a row falls within a specific partition range. The row is then mapped to a subpartition within that partition by identifying the subpartition whose descriptor value list contains a value matching the subpartition column value. For example, the following list describes how some sample rows are inserted.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>(10, 4532130, '23-Jan-1999', 8934.10, 'WA') maps to subpartition <code class="codeph">q1_1999_northwest</code></p>
                              </li>
                              <li>
                                 <p>(20, 5671621, '15-May-1999', 49021.21, 'OR') maps to subpartition <code class="codeph">q2_1999_northwest</code></p>
                              </li>
                              <li>
                                 <p>(30, 9977612, '07-Sep-1999', 30987.90, 'FL') maps to subpartition <code class="codeph">q3_1999_southeast</code></p>
                              </li>
                              <li>
                                 <p>(40, 9977612, '29-Nov-1999', 67891.45, 'TX') maps to subpartition <code class="codeph">q4_1999_southcentral</code></p>
                              </li>
                              <li>
                                 <p>(40, 4532130, '5-Jan-2000', 897231.55, 'TX') does not map to any partition in the table and displays an error</p>
                              </li>
                              <li>
                                 <p>(50, 5671621, '17-Dec-1999', 76123.35, 'CA') does not map to any subpartition in the table and displays an error</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-50581F67-E90A-49E4-A445-2332910D8608__VIEWANDRUNARELATEDEXAMPLEONORACLELI-2CE23B0B">
                              <p class="notep1">Live SQL:</p>
                              <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-range-list-partitioning-example.html" target="_blank"><span class="italic">Oracle Live SQL: Creating a Composite Range-List Partitioned Table</span></a>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-50581F67-E90A-49E4-A445-2332910D8608__CHDFIFJG">
                           <p class="titleinexample">Example 4-24 Creating a composite range-list partitioned table</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE quarterly_regional_sales
      (deptno number, item_no varchar2(20),
       txn_date date, txn_amount number, state varchar2(2))
  TABLESPACE ts4
  PARTITION BY RANGE (txn_date)
    SUBPARTITION BY LIST (state)
      (PARTITION q1_1999 VALUES LESS THAN (TO_DATE('1-APR-1999','DD-MON-YYYY'))
         (SUBPARTITION q1_1999_northwest VALUES ('OR', 'WA'),
          SUBPARTITION q1_1999_southwest VALUES ('AZ', 'UT', 'NM'),
          SUBPARTITION q1_1999_northeast VALUES ('NY', 'VM', 'NJ'),
          SUBPARTITION q1_1999_southeast VALUES ('FL', 'GA'),
          SUBPARTITION q1_1999_northcentral VALUES ('SD', 'WI'),
          SUBPARTITION q1_1999_southcentral VALUES ('OK', 'TX')
         ),
       PARTITION q2_1999 VALUES LESS THAN ( TO_DATE('1-JUL-1999','DD-MON-YYYY'))
         (SUBPARTITION q2_1999_northwest VALUES ('OR', 'WA'),
          SUBPARTITION q2_1999_southwest VALUES ('AZ', 'UT', 'NM'),
          SUBPARTITION q2_1999_northeast VALUES ('NY', 'VM', 'NJ'),
          SUBPARTITION q2_1999_southeast VALUES ('FL', 'GA'),
          SUBPARTITION q2_1999_northcentral VALUES ('SD', 'WI'),
          SUBPARTITION q2_1999_southcentral VALUES ('OK', 'TX')
         ),
       PARTITION q3_1999 VALUES LESS THAN (TO_DATE('1-OCT-1999','DD-MON-YYYY'))
         (SUBPARTITION q3_1999_northwest VALUES ('OR', 'WA'),
          SUBPARTITION q3_1999_southwest VALUES ('AZ', 'UT', 'NM'),
          SUBPARTITION q3_1999_northeast VALUES ('NY', 'VM', 'NJ'),
          SUBPARTITION q3_1999_southeast VALUES ('FL', 'GA'),
          SUBPARTITION q3_1999_northcentral VALUES ('SD', 'WI'),
          SUBPARTITION q3_1999_southcentral VALUES ('OK', 'TX')
         ),
       PARTITION q4_1999 VALUES LESS THAN ( TO_DATE('1-JAN-2000','DD-MON-YYYY'))
         (SUBPARTITION q4_1999_northwest VALUES ('OR', 'WA'),
          SUBPARTITION q4_1999_southwest VALUES ('AZ', 'UT', 'NM'),
          SUBPARTITION q4_1999_northeast VALUES ('NY', 'VM', 'NJ'),
          SUBPARTITION q4_1999_southeast VALUES ('FL', 'GA'),
          SUBPARTITION q4_1999_northcentral VALUES ('SD', 'WI'),
          SUBPARTITION q4_1999_southcentral VALUES ('OK', 'TX')
         )
      );
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-9028BE6A-9CC3-4625-83D6-7A6233477176" name="GUID-9028BE6A-9CC3-4625-83D6-7A6233477176"></a><h5 id="VLDBG-GUID-9028BE6A-9CC3-4625-83D6-7A6233477176" class="sect5">Creating a Composite Range-List Partitioned Table Specifying Tablespaces</h5>
                     <div>
                        <p>The example in this topic shows how to create a composite range-list partitioned table while specifying tablespaces.</p>
                        <div class="section">
                           <p>The partitions of a range-list partitioned table are logical structures only, because their data is stored in the segments of their subpartitions. The list subpartitions have the same characteristics as list partitions. You can specify a default subpartition, just as you specify a default partition for list partitioning.</p>
                           <p>The following example creates a table that specifies a tablespace at the partition and subpartition levels. The number of subpartitions within each partition varies, and default subpartitions are specified. This example results in the following subpartition descriptions:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>All subpartitions inherit their physical attributes, other than tablespace, from tablespace level defaults. This is because the only physical attribute that has been specified for partitions or subpartitions is tablespace. There are no table level physical attributes specified, thus tablespace level defaults are inherited at all levels. </p>
                              </li>
                              <li>
                                 <p>The first 4 subpartitions of partition <code class="codeph">q1_1999</code> are all contained in <code class="codeph">tbs_1</code>, except for the subpartition <code class="codeph">q1_others</code>, which is stored in <code class="codeph">tbs_4</code> and contains all rows that do not map to any of the other partitions. 
                                 </p>
                              </li>
                              <li>
                                 <p>The 6 subpartitions of partition <code class="codeph">q2_1999</code> are all stored in <code class="codeph">tbs_2</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The first 2 subpartitions of partition <code class="codeph">q3_1999</code> are all contained in <code class="codeph">tbs_3</code>, except for the subpartition <code class="codeph">q3_others</code>, which is stored in <code class="codeph">tbs_4</code> and contains all rows that do not map to any of the other partitions.
                                 </p>
                              </li>
                              <li>
                                 <p>There is no subpartition description for partition <code class="codeph">q4_1999</code>. This results in one default subpartition being created and stored in <code class="codeph">tbs_4</code>. The subpartition name is system generated in the form <code class="codeph">SYS_SUBP</code><span class="italic"><code class="codeph">n</code></span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE TABLE sample_regional_sales
      (deptno number, item_no varchar2(20),
       txn_date date, txn_amount number, state varchar2(2))
  PARTITION BY RANGE (txn_date)
    SUBPARTITION BY LIST (state)
      (PARTITION q1_1999 VALUES LESS THAN (TO_DATE('1-APR-1999','DD-MON-YYYY'))
          TABLESPACE tbs_1
         (SUBPARTITION q1_1999_northwest VALUES ('OR', 'WA'),
          SUBPARTITION q1_1999_southwest VALUES ('AZ', 'UT', 'NM'),
          SUBPARTITION q1_1999_northeast VALUES ('NY', 'VM', 'NJ'),
          SUBPARTITION q1_1999_southeast VALUES ('FL', 'GA'),
          SUBPARTITION q1_others VALUES (DEFAULT) TABLESPACE tbs_4
         ),
       PARTITION q2_1999 VALUES LESS THAN ( TO_DATE('1-JUL-1999','DD-MON-YYYY'))
          TABLESPACE tbs_2
         (SUBPARTITION q2_1999_northwest VALUES ('OR', 'WA'),
          SUBPARTITION q2_1999_southwest VALUES ('AZ', 'UT', 'NM'),
          SUBPARTITION q2_1999_northeast VALUES ('NY', 'VM', 'NJ'),
          SUBPARTITION q2_1999_southeast VALUES ('FL', 'GA'),
          SUBPARTITION q2_1999_northcentral VALUES ('SD', 'WI'),
          SUBPARTITION q2_1999_southcentral VALUES ('OK', 'TX')
         ),
       PARTITION q3_1999 VALUES LESS THAN (TO_DATE('1-OCT-1999','DD-MON-YYYY'))
          TABLESPACE tbs_3
         (SUBPARTITION q3_1999_northwest VALUES ('OR', 'WA'),
          SUBPARTITION q3_1999_southwest VALUES ('AZ', 'UT', 'NM'),
          SUBPARTITION q3_others VALUES (DEFAULT) TABLESPACE tbs_4
         ),
       PARTITION q4_1999 VALUES LESS THAN ( TO_DATE('1-JAN-2000','DD-MON-YYYY'))
          TABLESPACE tbs_4
      );
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="VLDBG14050"></a><a id="VLDBG1097"></a><div class="props_rev_3"><a id="GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" name="GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61"></a><h4 id="VLDBG-GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" class="sect4">Creating Composite Range-Range Partitioned Tables</h4>
                  <div>
                     <p>The range partitions of a range-range composite partitioned table are similar to non-composite range partitioned tables. </p>
                     <div class="section">
                        <p>This organization enables optional subclauses of a <code class="codeph">PARTITION</code> clause to specify physical and other attributes, including tablespace, specific to a partition segment. If not overridden at the partition level, then partitions inherit the attributes of their underlying table.
                        </p>
                        <p>The range subpartition descriptions, in the <code class="codeph">SUBPARTITION</code> clauses, are similar to non-composite range partitions, except the only physical attribute that can be specified is an optional tablespace. Subpartitions inherit all other physical attributes from the partition description.
                        </p>
                        <p>The following example illustrates how range-range partitioning might be used. The example tracks shipments. The service level agreement with the customer states that every order is delivered in the calendar month after the order was placed. The following types of orders are identified:</p>
                        <p>A row is mapped to a partition by checking whether the value of the partitioning column for a row falls within a specific partition range. The row is then mapped to a subpartition within that partition by identifying whether the value of the subpartitioning column falls within a specific range. For example, a shipment with an order date in September 2006 and a delivery date of October 28, 2006 falls in partition <code class="codeph">p06_oct_a</code>.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>E (EARLY): orders that are delivered before the middle of the next month after the order was placed. These orders likely exceed customers' expectations.</p>
                           </li>
                           <li>
                              <p>A (AGREED): orders that are delivered in the calendar month after the order was placed (but not early orders).</p>
                           </li>
                           <li>
                              <p>L (LATE): orders that were only delivered starting the second calendar month after the order was placed.</p>
                           </li>
                        </ul><pre class="oac_no_warn" dir="ltr">CREATE TABLE shipments
( order_id      NUMBER NOT NULL
, order_date    DATE NOT NULL
, delivery_date DATE NOT NULL
, customer_id   NUMBER NOT NULL
, sales_amount  NUMBER NOT NULL
)
PARTITION BY RANGE (order_date)
SUBPARTITION BY RANGE (delivery_date)
( PARTITION p_2006_jul VALUES LESS THAN (TO_DATE('01-AUG-2006','dd-MON-yyyy'))
  ( SUBPARTITION p06_jul_e VALUES LESS THAN (TO_DATE('15-AUG-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_jul_a VALUES LESS THAN (TO_DATE('01-SEP-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_jul_l VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_2006_aug VALUES LESS THAN (TO_DATE('01-SEP-2006','dd-MON-yyyy'))
  ( SUBPARTITION p06_aug_e VALUES LESS THAN (TO_DATE('15-SEP-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_aug_a VALUES LESS THAN (TO_DATE('01-OCT-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_aug_l VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_2006_sep VALUES LESS THAN (TO_DATE('01-OCT-2006','dd-MON-yyyy'))
  ( SUBPARTITION p06_sep_e VALUES LESS THAN (TO_DATE('15-OCT-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_sep_a VALUES LESS THAN (TO_DATE('01-NOV-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_sep_l VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_2006_oct VALUES LESS THAN (TO_DATE('01-NOV-2006','dd-MON-yyyy'))
  ( SUBPARTITION p06_oct_e VALUES LESS THAN (TO_DATE('15-NOV-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_oct_a VALUES LESS THAN (TO_DATE('01-DEC-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_oct_l VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_2006_nov VALUES LESS THAN (TO_DATE('01-DEC-2006','dd-MON-yyyy'))
  ( SUBPARTITION p06_nov_e VALUES LESS THAN (TO_DATE('15-DEC-2006','dd-MON-yyyy'))
  , SUBPARTITION p06_nov_a VALUES LESS THAN (TO_DATE('01-JAN-2007','dd-MON-yyyy'))
  , SUBPARTITION p06_nov_l VALUES LESS THAN (MAXVALUE)
  )
, PARTITION p_2006_dec VALUES LESS THAN (TO_DATE('01-JAN-2007','dd-MON-yyyy'))
  ( SUBPARTITION p06_dec_e VALUES LESS THAN (TO_DATE('15-JAN-2007','dd-MON-yyyy'))
  , SUBPARTITION p06_dec_a VALUES LESS THAN (TO_DATE('01-FEB-2007','dd-MON-yyyy'))
  , SUBPARTITION p06_dec_l VALUES LESS THAN (MAXVALUE)
  )
);
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61__GUID-5040BD31-1B3D-4180-826D-88DEA656B626">
                           <p class="notep1">See Also:</p>
                           <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="You can create subpartitions in a composite partitioned table using a subpartition template.">Specifying Subpartition Templates to Describe Composite Partitioned Tables</a> to learn how using a subpartition template can simplify the specification of a composite partitioned table
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="VLDBG1106"></a><div class="props_rev_3"><a id="GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" name="GUID-03D5C9BE-54AE-4156-B462-90E41757AE93"></a><h3 id="VLDBG-GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" class="sect3">Specifying Subpartition Templates to Describe Composite Partitioned Tables</h3>
               <div>
                  <p>You can create subpartitions in a composite partitioned table using a subpartition template.</p>
                  <p>A subpartition template simplifies the specification of subpartitions by not requiring that a subpartition descriptor be specified for every partition in the table. Instead, you describe subpartitions only one time in a template, then apply that subpartition template to every partition in the table. For interval-* composite partitioned tables, the subpartition template is the only way to define subpartitions for interval partitions. </p>
                  <p>The subpartition template is used whenever a subpartition descriptor is not specified for a partition. If a subpartition descriptor is specified, then it is used instead of the subpartition template for that partition. If no subpartition template is specified, and no subpartition descriptor is supplied for a partition, then a single default subpartition is created. </p>
                  <p>The following topics are discussed:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD" title="For range-hash, interval-hash, and list-hash partitioned tables, the subpartition template can describe the subpartitions in detail, or it can specify just the number of hash subpartitions.">Specifying a Subpartition Template for a *-Hash Partitioned Table</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A" title="For -list partitioned tables, the subpartition template can describe the subpartitions in detail.">Specifying a Subpartition Template for a *-List Partitioned Table</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG14057"></a><a id="VLDBG1107"></a><div class="props_rev_3"><a id="GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD" name="GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD"></a><h4 id="VLDBG-GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD" class="sect4">Specifying a Subpartition Template for a *-Hash Partitioned Table</h4>
                  <div>
                     <p>For range-hash, interval-hash, and list-hash partitioned tables, the subpartition template can describe the subpartitions in detail, or it can specify just the number of hash subpartitions.</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD__CHDCGBAB">Example 4-25</a> creates a range-hash partitioned table using a subpartition template and displays the subpartition names and tablespaces.
                        </p>
                        <p>The example produces a table with the following description.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Every partition has four subpartitions as described in the subpartition template.</p>
                           </li>
                           <li>
                              <p>Each subpartition has a tablespace specified. It is required that if a tablespace is specified for one subpartition in a subpartition template, then one must be specified for all.</p>
                           </li>
                           <li>
                              <p>The names of the subpartitions, unless you use interval-* subpartitioning, are generated by concatenating the partition name with the subpartition name in the form:</p>
                              <p><span class="italic">partition name</span>_<span class="italic">subpartition name</span></p>
                              <p>For interval-* subpartitioning, the subpartition names are system-generated in the form:</p>
                              <p><code class="codeph">SYS_SUBP</code><span class="italic"><code class="codeph">n</code></span></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD__CHDCGBAB">
                        <p class="titleinexample">Example 4-25 Creating a range-hash partitioned table with a subpartition template</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employees_sub_template (department_id NUMBER(4) NOT NULL, 
             last_name VARCHAR2(25), job_id VARCHAR2(10))   
     PARTITION BY RANGE(department_id) SUBPARTITION BY HASH(last_name)
     SUBPARTITION TEMPLATE
         (SUBPARTITION a TABLESPACE ts1,
          SUBPARTITION b TABLESPACE ts2,
          SUBPARTITION c TABLESPACE ts3,
          SUBPARTITION d TABLESPACE ts4
         )
    (PARTITION p1 VALUES LESS THAN (1000),
     PARTITION p2 VALUES LESS THAN (2000),
     PARTITION p3 VALUES LESS THAN (MAXVALUE)
    );

SQL&gt; SELECT TABLESPACE_NAME, PARTITION_NAME, SUBPARTITION_NAME
  2  FROM DBA_TAB_SUBPARTITIONS WHERE TABLE_NAME='EMPLOYEEES_SUB_TEMPLATE'
  3  ORDER BY TABLESPACE_NAME;

TABLESPACE_NAME PARTITION_NAME  SUBPARTITION_NAME
--------------- --------------- ------------------
TS1             P1              P1_A
TS1             P2              P2_A
TS1             P3              P3_A
TS2             P1              P1_B
TS2             P2              P2_B
TS2             P3              P3_B
TS3             P1              P1_C
TS3             P2              P2_C
TS3             P3              P3_C
TS4             P1              P1_D
TS4             P2              P2_D
TS4             P3              P3_D

12 rows selected.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14058"></a><a id="VLDBG1108"></a><div class="props_rev_3"><a id="GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A" name="GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A"></a><h4 id="VLDBG-GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A" class="sect4">Specifying a Subpartition Template for a *-List Partitioned Table</h4>
                  <div>
                     <p>For -list partitioned tables, the subpartition template can describe the subpartitions in detail.</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A__CHDDADIE">Example 4-26</a>, for a range-list partitioned table, illustrates how using a subpartition template can help you stripe data across tablespaces. In this example, a table is created where the table subpartitions are vertically striped, meaning that subpartition <span class="italic">n</span> from every partition is in the same tablespace.
                        </p>
                        <p>If you specified the tablespaces at the partition level (for example, <code class="codeph">tbs_1</code> for partition <code class="codeph">q1_1999</code>, <code class="codeph">tbs_2</code> for partition <code class="codeph">q2_1999</code>, <code class="codeph">tbs_3</code> for partition <code class="codeph">q3_1999</code>, and <code class="codeph">tbs_4</code> for partition <code class="codeph">q4_1999</code>) and not in the subpartition template, then the table would be horizontally striped. All subpartitions would be in the tablespace of the owning partition. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A__CHDDADIE">
                        <p class="titleinexample">Example 4-26 Creating a range-list partitioned table with a subpartition template</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE stripe_regional_sales
            ( deptno number, item_no varchar2(20),
              txn_date date, txn_amount number, state varchar2(2))
   PARTITION BY RANGE (txn_date)
   SUBPARTITION BY LIST (state)
   SUBPARTITION TEMPLATE 
      (SUBPARTITION northwest VALUES ('OR', 'WA') TABLESPACE tbs_1,
       SUBPARTITION southwest VALUES ('AZ', 'UT', 'NM') TABLESPACE tbs_2,
       SUBPARTITION northeast VALUES ('NY', 'VM', 'NJ') TABLESPACE tbs_3,
       SUBPARTITION southeast VALUES ('FL', 'GA') TABLESPACE tbs_4,
       SUBPARTITION midwest VALUES ('SD', 'WI') TABLESPACE tbs_5,
       SUBPARTITION south VALUES ('AL', 'AK') TABLESPACE tbs_6,
       SUBPARTITION others VALUES (DEFAULT ) TABLESPACE tbs_7
      )
  (PARTITION q1_1999 VALUES LESS THAN ( TO_DATE('01-APR-1999','DD-MON-YYYY')),
   PARTITION q2_1999 VALUES LESS THAN ( TO_DATE('01-JUL-1999','DD-MON-YYYY')),
   PARTITION q3_1999 VALUES LESS THAN ( TO_DATE('01-OCT-1999','DD-MON-YYYY')),
   PARTITION q4_1999 VALUES LESS THAN ( TO_DATE('1-JAN-2000','DD-MON-YYYY'))
  );
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='05683.sql-and-plsql-programming-in-global-environment.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SQL and PL/SQL Programming in a Global Environment</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Globalization Support Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Globalization Support Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-globalization-support-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T02:55:13-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96349-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-globalization-development-kit.html" title="Previous" type="text/html">
      <link rel="next" href="OCI-programming-in-global-environment.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Globalization Support Guide">
    <meta name="dcterms.isVersionOf" content="NLSPG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-globalization-development-kit.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="OCI-programming-in-global-environment.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Globalization Support Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> SQL and PL/SQL Programming in a Global Environment</li>
            </ol>
            <a id="GUID-B16ADD64-24AC-46FC-B96F-D15B28C70C1D" name="GUID-B16ADD64-24AC-46FC-B96F-D15B28C70C1D"></a><a id="NLSPG009"></a>
            
            <h2 id="NLSPG-GUID-B16ADD64-24AC-46FC-B96F-D15B28C70C1D" class="sect2"><span class="enumeration_chapter">9 </span> SQL and PL/SQL Programming in a Global Environment
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter contains information useful for SQL programming in a globalization support environment. This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-BB47294E-98E2-4193-85F8-4475401F95C8">Locale-Dependent SQL Functions with Optional NLS Parameters</a></p>
                  </li>
                  <li>
                     <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-7E4AA2C5-8CD7-4836-AA69-6C8E02594FAC">Other Locale-Dependent SQL Functions</a></p>
                  </li>
                  <li>
                     <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F">Miscellaneous Topics for SQL and PL/SQL Programming in a Global Environment</a></p>
                  </li>
               </ul>
            </div><a id="NLSPG429"></a><div class="props_rev_3"><a id="GUID-BB47294E-98E2-4193-85F8-4475401F95C8" name="GUID-BB47294E-98E2-4193-85F8-4475401F95C8"></a><h3 id="NLSPG-GUID-BB47294E-98E2-4193-85F8-4475401F95C8" class="sect3"><span class="enumeration_section">9.1 </span>Locale-Dependent SQL Functions with Optional NLS Parameters
               </h3>
               <div>
                  <p>NLS parameters can be specified for all SQL functions whose behavior depends on globalization support conventions. These functions are:</p><pre class="pre codeblock"><code>TO_CHAR
TO_DATE
TO_NUMBER
NLS_UPPER
NLS_LOWER
NLS_INITCAP
NLSSORT</code></pre><p>Explicitly specifying the optional NLS parameters for these functions enables the functions to be evaluated independently of the session's NLS parameters. This feature can be important for SQL statements that contain numbers and dates as string literals.</p>
                  <p>For example, the following query is evaluated correctly if the language specified for dates is <code class="codeph">AMERICAN</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT last_name FROM employees WHERE hire_date &gt; '01-JAN-2005';
</pre><p>Such a query can be made independent of the current date language by using a statement similar to the following:</p><pre class="oac_no_warn" dir="ltr">SELECT last_name FROM employees
     WHERE hire_date &gt; TO_DATE('01-JAN-2005','DD-MON-YYYY',
     'NLS_DATE_LANGUAGE = AMERICAN');
</pre><p>In this way, SQL statements that are independent of the session language can be defined where necessary. Such statements are necessary when string literals appear in SQL statements in views, <code class="codeph">CHECK</code> constraints, or triggers.
                  </p>
                  <div class="infoboxnote" id="GUID-BB47294E-98E2-4193-85F8-4475401F95C8__GUID-187E0F48-BCC2-4D09-B527-B5FEAB537BC7">
                     <p class="notep1">Note:</p>
                     <p>Only SQL statements that must be independent of the session NLS parameter values should explicitly specify optional NLS parameters in locale-dependent SQL functions. Using session default values for NLS parameters in SQL functions usually results in better performance.</p>
                  </div>
                  <p>All character functions support both single-byte and multibyte characters. Except where explicitly stated, character functions operate character by character, rather than byte by byte.</p>
                  <p>The rest of this section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-4C2F8D76-8DC1-4066-9DFD-1F01FACCC432">Default Values for NLS Parameters in SQL Functions</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-9C3508E2-F00A-4BE3-8923-5F893678884D">Specifying NLS Parameters in SQL Functions</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-3A2A3358-8203-4474-8905-7E055D77A435">Unacceptable NLS Parameters in SQL Functions</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG430"></a><div class="props_rev_3"><a id="GUID-4C2F8D76-8DC1-4066-9DFD-1F01FACCC432" name="GUID-4C2F8D76-8DC1-4066-9DFD-1F01FACCC432"></a><h4 id="NLSPG-GUID-4C2F8D76-8DC1-4066-9DFD-1F01FACCC432" class="sect4"><span class="enumeration_section">9.1.1 </span>Default Values for NLS Parameters in SQL Functions
                  </h4>
                  <div>
                     <p>When SQL functions evaluate views and triggers, default values from the current session are used for the NLS function parameters. When SQL functions evaluate <code class="codeph">CHECK</code> constraints, they use the default values that were specified for the NLS parameters when the database was created.
                     </p>
                  </div>
               </div><a id="NLSPG842"></a><a id="NLSPG431"></a><div class="props_rev_3"><a id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D" name="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D"></a><h4 id="NLSPG-GUID-9C3508E2-F00A-4BE3-8923-5F893678884D" class="sect4"><span class="enumeration_section">9.1.2 </span>Specifying NLS Parameters in SQL Functions
                  </h4>
                  <div>
                     <div class="section">
                        <p>NLS parameters are specified in SQL functions as follows:</p><pre class="oac_no_warn" dir="ltr">'<span class="italic"><code class="codeph">parameter</code></span> = <span class="italic"><code class="codeph">value</code></span>'
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">'NLS_DATE_LANGUAGE = AMERICAN'
</pre><p>The following NLS parameters can be specified in SQL functions:</p><pre class="pre codeblock"><code>NLS_DATE_LANGUAGE
NLS_NUMERIC_CHARACTERS
NLS_CURRENCY
NLS_ISO_CURRENCY
NLS_DUAL_CURRENCY
NLS_CALENDAR
NLS_SORT</code></pre><p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__CIHDAACF" title="This table lists NLS parameters and their valid SQL functions.">Table 9-1</a> shows which NLS parameters are valid for specific SQL functions.
                        </p>
                        <div class="tblformal" id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__CIHDAACF">
                           <p class="titleintable">Table 9-1 SQL Functions and Their Valid NLS Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL Functions and Their Valid NLS Parameters " summary="This table lists NLS parameters and their valid SQL functions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d78171e413">SQL Functions</th>
                                    <th align="left" valign="bottom" id="d78171e416">Valid NLS Parameters</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d78171e421" headers="d78171e413 "><pre class="pre codeblock"><code>TO_DATE</code></pre></td>
                                    <td align="left" valign="top" headers="d78171e421 d78171e416 "><pre class="pre codeblock"><code>NLS_DATE_LANGUAGE
NLS_CALENDAR</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d78171e428" headers="d78171e413 "><pre class="pre codeblock"><code>TO_NUMBER</code></pre></td>
                                    <td align="left" valign="top" headers="d78171e428 d78171e416 "><pre class="pre codeblock"><code>NLS_NUMERIC_CHARACTERS
NLS_CURRENCY
NLS_DUAL_CURRENCY
NLS_ISO_CURRENCY</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d78171e435" headers="d78171e413 "><pre class="pre codeblock"><code>TO_CHAR, TO_NCHAR</code></pre></td>
                                    <td align="left" valign="top" headers="d78171e435 d78171e416 "><pre class="pre codeblock"><code>NLS_DATE_LANGUAGE
NLS_NUMERIC_CHARACTERS
NLS_CURRENCY
NLS_ISO_CURRENCY
NLS_DUAL_CURRENCY
NLS_CALENDAR</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d78171e442" headers="d78171e413 "><pre class="pre codeblock"><code>NLS_UPPER, NLS_LOWER,
NLS_INITCAP, NLSSORT</code></pre></td>
                                    <td align="left" valign="top" headers="d78171e442 d78171e416 "><pre class="pre codeblock"><code>NLS_SORT</code></pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following examples show how to use NLS parameters in SQL functions:</p><pre class="oac_no_warn" dir="ltr">TO_DATE ('1-JAN-99', 'DD-MON-YY',
   'nls_date_language = American')

TO_CHAR (hire_date, 'DD/MON/YYYY',
   'nls_date_language = French')

TO_CHAR (SYSDATE, 'DD/MON/YYYY',
    'nls_date_language=''Traditional Chinese'' ')

TO_NUMBER ('13.000,00', '99G999D99',
   'nls_numeric_characters = '',.''')

TO_CHAR (salary, '9G999D99L', 'nls_numeric_characters = '',.''
   nls_currency = ''EUR''')

TO_CHAR (salary, '9G999D99C', 'nls_numeric_characters = ''.,''
   nls_iso_currency = Japan')

NLS_UPPER (last_name, 'nls_sort = Swiss')

NLSSORT (last_name, 'nls_sort = German')</pre><div class="infoboxnote" id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__GUID-45453CDB-1417-45EA-8762-03CD5F54020E">
                           <p class="notep1">Note:</p>
                           <p>In some languages, some lowercase characters correspond to more than one uppercase character or vice versa. As a result, the length of the output from the <code class="codeph">NLS_UPPER</code>, <code class="codeph">NLS_LOWER</code>, and <code class="codeph">NLS_INITCAP</code> functions can differ from the length of the input.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-9C3508E2-F00A-4BE3-8923-5F893678884D__GUID-327DAEC3-256A-42ED-A950-3AE457FCC2B1">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="linguistic-sorting-and-matching.html#GUID-911BCCDC-6FA9-4B5E-B76E-C7D05B969E26">Special Uppercase Letters</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="linguistic-sorting-and-matching.html#GUID-9E1B89DF-1E19-4660-9D5C-A27D628DDD16">Special Lowercase Letters</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="NLSPG432"></a><div class="props_rev_3"><a id="GUID-3A2A3358-8203-4474-8905-7E055D77A435" name="GUID-3A2A3358-8203-4474-8905-7E055D77A435"></a><h4 id="NLSPG-GUID-3A2A3358-8203-4474-8905-7E055D77A435" class="sect4"><span class="enumeration_section">9.1.3 </span>Unacceptable NLS Parameters in SQL Functions
                  </h4>
                  <div>
                     <p>The following NLS parameters are not accepted in SQL functions except for <code class="codeph">NLSSORT</code>:
                     </p><pre class="pre codeblock"><code>NLS_LANGUAGE
NLS_TERRITORY
NLS_DATE_FORMAT</code></pre><p><code class="codeph">NLS_DATE_FORMAT</code> and <code class="codeph">NLS_TERRITORY_FORMAT</code> are not accepted as parameters because they can interfere with required format masks. A date format must always be specified if an NLS parameter is in a <code class="codeph">TO_CHAR</code> or <code class="codeph">TO_DATE</code> function. As a result, <code class="codeph">NLS_DATE_FORMAT</code> and <code class="codeph">NLS_TERRITORY_FORMAT</code> are not valid NLS parameters for the <code class="codeph">TO_CHAR</code> or <code class="codeph">TO_DATE</code> functions. If you specify <code class="codeph">NLS_DATE_FORMAT</code> or <code class="codeph">NLS_TERRITORY_FORMAT</code> in the <code class="codeph">TO_CHAR</code> or <code class="codeph">TO_DATE</code> function, then an error is returned.
                     </p>
                     <p><code class="codeph">NLS_LANGUAGE</code> can interfere with the session value of <code class="codeph">NLS_DATE_LANGUAGE</code>. If you specify <code class="codeph">NLS_LANGUAGE</code> in the <code class="codeph">TO_CHAR</code> function, for example, then its value is ignored if it differs from the session value of <code class="codeph">NLS_DATE_LANGUAGE</code>.
                     </p>
                  </div>
               </div>
            </div><a id="NLSPG433"></a><div class="props_rev_3"><a id="GUID-7E4AA2C5-8CD7-4836-AA69-6C8E02594FAC" name="GUID-7E4AA2C5-8CD7-4836-AA69-6C8E02594FAC"></a><h3 id="NLSPG-GUID-7E4AA2C5-8CD7-4836-AA69-6C8E02594FAC" class="sect3"><span class="enumeration_section">9.2 </span>Other Locale-Dependent SQL Functions
               </h3>
               <div>
                  <p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-CC307763-CC57-460A-80FC-ED3395BC94AB">The CONVERT Function</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB">SQL Functions for Different Length Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE">LIKE Conditions for Different Length Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264">Character Set SQL Functions</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497">The NLSSORT Function</a></p>
                     </li>
                  </ul>
               </div><a id="NLSPG434"></a><div class="props_rev_3"><a id="GUID-CC307763-CC57-460A-80FC-ED3395BC94AB" name="GUID-CC307763-CC57-460A-80FC-ED3395BC94AB"></a><h4 id="NLSPG-GUID-CC307763-CC57-460A-80FC-ED3395BC94AB" class="sect4"><span class="enumeration_section">9.2.1 </span>The CONVERT Function
                  </h4>
                  <div>
                     <p><a id="d78171e804" class="indexterm-anchor"></a><a id="d78171e808" class="indexterm-anchor"></a><a id="d78171e812" class="indexterm-anchor"></a><a id="d78171e814" class="indexterm-anchor"></a>The <code class="codeph">CONVERT</code> function enables conversion of character data between character sets.
                     </p>
                     <p>The <code class="codeph">CONVERT</code> function converts the binary representation of a character string in one character set to another. It uses exactly the same technique as conversion between database and client character sets. Hence, it uses <a id="d78171e827" class="indexterm-anchor"></a>replacement characters and has the same limitations. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-CC307763-CC57-460A-80FC-ED3395BC94AB__GUID-64A765ED-0FB6-480E-B225-20C86A4BC69C">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="choosing-character-set.html#GUID-B02F1730-CE1B-4210-BBA6-ED605E507D6F">Character Set Conversion Between Clients and the Server</a>"</span></p>
                     </div>
                     <p>The syntax for <code class="codeph">CONVERT</code> is as follows:
                     </p><pre class="oac_no_warn" dir="ltr">CONVERT(<span class="italic"><code class="codeph">char</code></span>, <span class="italic"><code class="codeph">dest_char_set</code></span>[, <span class="italic"><code class="codeph">source_char_set</code></span>])
</pre><p><span class="italic"><code class="codeph">char</code></span> is the value to be converted. <span class="italic"><code class="codeph">source_char_set</code></span> is the source character set and <span class="italic"><code class="codeph">dest_char_set</code></span> is the destination character set. If the <span class="italic"><code class="codeph">source_char_set</code></span> parameter is not specified, then it defaults to the database character set.
                     </p>
                     <div class="infoboxnotealso" id="GUID-CC307763-CC57-460A-80FC-ED3395BC94AB__GUID-19B1E6D2-02AC-47D8-B761-DD80EAB87DDA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/CONVERT.html#SQLRF00620" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">CONVERT</code> function
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="appendix-A-locale-data.html#GUID-2547D8E3-DC0F-4970-B9B4-3D0E03BA050A">Character Set Conversion Support</a>"</span> for character set encodings that are used only for the <code class="codeph">CONVERT</code> function
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="NLSPG843"></a><a id="NLSPG435"></a><div class="props_rev_3"><a id="GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB" name="GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB"></a><h4 id="NLSPG-GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB" class="sect4"><span class="enumeration_section">9.2.2 </span>SQL Functions for Different Length Semantics
                  </h4>
                  <div>
                     <p>Oracle provides SQL functions that work in accordance with different length semantics. There are three groups of such SQL functions: <code class="codeph">SUBSTR</code>, <code class="codeph">LENGTH</code>, and <code class="codeph">INSTR</code>. Each function in a group is based on a different kind of length semantics and is distinguished by the character or number appended to the function name. For example, <code class="codeph">SUBSTRB</code> is based on byte semantics. 
                     </p>
                     <p>The <code class="codeph">SUBSTR</code> functions return a requested portion of a substring. The <code class="codeph">LENGTH</code> functions return the length of a string. The <code class="codeph">INSTR</code> functions search for a substring in a string.
                     </p>
                     <p>The <code class="codeph">SUBSTR</code> functions calculate the length of a string differently. <a href="sql-and-plsql-programming-in-global-environment.html#GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB__CIHBDIBC" title="This table is described in the preceding text">Table 9-2</a> summarizes the calculation methods.
                     </p>
                     <div class="tblformalwide" id="GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB__CIHBDIBC">
                        <p class="titleintable">Table 9-2 How the SUBSTR Functions Calculate the Length of a String </p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="How the SUBSTR Functions Calculate the Length of a String " summary="This table is described in the preceding text" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d78171e1014">Function</th>
                                 <th align="left" valign="bottom" width="83%" id="d78171e1017">Calculation Method</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1022" headers="d78171e1014 ">
                                    <p><code class="codeph">SUBSTR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1022 d78171e1017 ">
                                    <p>Calculates the length of a string in characters based on the length semantics associated with the character set of the data type. For example, AL32UTF8 characters are calculated in UCS-4 characters. UTF8 and AL16UTF16 characters are calculated in UCS-2 characters. A supplementary character is counted as one character in AL32UTF8 and as two characters in UTF8 and AL16UTF16. Because <code class="codeph">VARCHAR</code> and <code class="codeph">NVARCHAR2</code> may use different character sets, <code class="codeph">SUBSTR</code> may give different results for different data types even if two strings are identical. If your application requires consistency, then use <code class="codeph">SUBSTR2</code> or <code class="codeph">SUBSTR4</code> to force all semantic calculations to be UCS-2 or UCS-4, respectively.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1045" headers="d78171e1014 ">
                                    <p><code class="codeph">SUBSTRB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1045 d78171e1017 ">
                                    <p>Calculates the length of a string in bytes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1053" headers="d78171e1014 ">
                                    <p><code class="codeph">SUBSTR2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1053 d78171e1017 ">
                                    <p>Calculates the length of a string in UCS-2 characters, which is compliant with Java strings and Windows client environments. Characters are represented in UCS-2 or 16-bit Unicode values. Supplementary characters are counted as two characters.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1061" headers="d78171e1014 ">
                                    <p><code class="codeph">SUBSTR4</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1061 d78171e1017 ">
                                    <p>Calculates the length of a string in UCS-4 characters. Characters are represented in UCS-4 or 32-bit Unicode values. Supplementary characters are counted as one character.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1069" headers="d78171e1014 ">
                                    <p><code class="codeph">SUBSTRC</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1069 d78171e1017 ">
                                    <p>Calculates the length of a string in Unicode composed characters. Supplementary characters and composed characters are counted as one character.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The <code class="codeph">LENGTH</code> and <code class="codeph">INSTR</code> functions calculate string length in the same way, according to the character or number added to the function name.
                     </p>
                     <p>The following examples demonstrate the differences between <code class="codeph">SUBSTR</code> and <code class="codeph">SUBSTRB</code> on a database whose character set is AL32UTF8.
                     </p>
                     <p>For the string <code class="codeph">Fußball,</code> the following statement returns a substring that is 4 characters long, beginning with the second character:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR ('Fußball', 2 , 4) SUBSTR FROM DUAL;

SUBS
----
ußba
</pre><p>For the string <code class="codeph">Fußball,</code> the following statement returns a substring 4 bytes long, beginning with the second byte:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTRB ('Fußball', 2 , 4) SUBSTRB FROM DUAL;

SUB
---
ußb</pre><div class="infoboxnotealso" id="GUID-FC7BC2B1-DC06-4439-B422-5AB80D675BAB__GUID-2A072DEF-C65D-4D66-8070-99C2139087BA">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/About-SQL-Functions.html#SQLRF51173" target="_blank"><span class="italic">Oracle Database SQL Language Reference </span></a>for more information about the <code class="codeph">SUBSTR</code>, <code class="codeph">LENGTH</code>, and <code class="codeph">INSTR</code> functions
                        </p>
                     </div>
                  </div>
               </div><a id="NLSPG844"></a><a id="NLSPG436"></a><div class="props_rev_3"><a id="GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE" name="GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE"></a><h4 id="NLSPG-GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE" class="sect4"><span class="enumeration_section">9.2.3 </span>LIKE Conditions for Different Length Semantics
                  </h4>
                  <div>
                     <p>The <code class="codeph">LIKE</code> conditions specify a test that uses pattern-matching. The equality operator (=) exactly matches one character value to another, but the <code class="codeph">LIKE</code> conditions match a portion of one character value to another by searching the first value for the pattern specified by the second. 
                     </p>
                     <p><code class="codeph">LIKE</code> calculates the length of strings in characters using the length semantics associated with the input character set. The <code class="codeph">LIKE2</code>, <code class="codeph">LIKE4</code>, and <code class="codeph">LIKEC</code> conditions are summarized in <a href="sql-and-plsql-programming-in-global-environment.html#GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE__G1007320" title="This table is described in the preceding text">Table 9-3</a>.
                     </p>
                     <div class="tblformalwide" id="GUID-0D3BAA34-CA1E-43EE-B36B-A64616EB33FE__G1007320">
                        <p class="titleintable">Table 9-3 LIKE Conditions</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="LIKE Conditions" summary="This table is described in the preceding text" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d78171e1240">Function</th>
                                 <th align="left" valign="bottom" width="83%" id="d78171e1243">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1248" headers="d78171e1240 ">
                                    <p><code class="codeph">LIKE2</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1248 d78171e1243 ">
                                    <p>Use when characters are represented in UCS-2 semantics. A supplementary character is considered as two characters.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1256" headers="d78171e1240 ">
                                    <p><code class="codeph">LIKE4</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1256 d78171e1243 ">
                                    <p>Use when characters are represented in UCS-4 semantics. A supplementary character is considered as one character.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d78171e1264" headers="d78171e1240 ">
                                    <p><code class="codeph">LIKEC</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d78171e1264 d78171e1243 ">
                                    <p>Use when characters are represented in Unicode complete character semantics. A composed character is treated as one character.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>There is no <code class="codeph">LIKEB</code> condition.
                     </p>
                  </div>
               </div><a id="NLSPG437"></a><div class="props_rev_3"><a id="GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264" name="GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264"></a><h4 id="NLSPG-GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264" class="sect4"><span class="enumeration_section">9.2.4 </span>Character Set SQL Functions
                  </h4>
                  <div>
                     <p>Two SQL functions, <code class="codeph">NLS_CHARSET_NAME</code> and <code class="codeph">NLS_CHARSET_ID</code>, can convert between character set ID numbers and character set names. They are used by programs that need to determine character set ID numbers for binding variables through OCI. <a id="d78171e1356" class="indexterm-anchor"></a></p>
                     <p>Another SQL function, <code class="codeph">NLS_CHARSET_DECL_LEN</code>, returns the declaration length of a column in number of characters, given the byte length of the column.
                     </p>
                     <p>This section includes the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-9C93FB3E-6642-4D05-8394-FF88EEAD64EA">Converting from Character Set Number to Character Set Name</a></p>
                        </li>
                        <li>
                           <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560">Converting from Character Set Name to Character Set Number</a></p>
                        </li>
                        <li>
                           <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-3CC9B10F-0A9E-4FCC-B09E-FE1607ED0E38">Returning the Length of an NCHAR Column</a></p>
                           <div class="infoboxnotealso" id="GUID-D9CD67BB-C3A7-4C77-BB46-48C65B4DF264__GUID-B7E420AC-2502-4A68-BDC8-93F9E6AB841E">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/About-SQL-Functions.html#SQLRF51173" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </div>
                        </li>
                     </ul>
                  </div><a id="NLSPG438"></a><div class="props_rev_3"><a id="GUID-9C93FB3E-6642-4D05-8394-FF88EEAD64EA" name="GUID-9C93FB3E-6642-4D05-8394-FF88EEAD64EA"></a><h5 id="NLSPG-GUID-9C93FB3E-6642-4D05-8394-FF88EEAD64EA" class="sect5"><span class="enumeration_section">9.2.4.1 </span>Converting from Character Set Number to Character Set Name
                     </h5>
                     <div>
                        <p>The <code class="codeph">NLS_CHARSET_NAME</code>(<span class="italic"><code class="codeph">n</code></span>) function returns the name of the character set corresponding to ID number<span class="italic"> </span><span class="italic"><code class="codeph">n</code></span>. The function returns <code class="codeph">NULL</code> if <span class="italic"><code class="codeph">n</code></span> is not a recognized character set ID value.
                        </p>
                     </div>
                  </div><a id="NLSPG439"></a><div class="props_rev_3"><a id="GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560" name="GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560"></a><h5 id="NLSPG-GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560" class="sect5"><span class="enumeration_section">9.2.4.2 </span>Converting from Character Set Name to Character Set Number
                     </h5>
                     <div>
                        <p><code class="codeph">NLS_CHARSET_ID</code>(<span class="italic"><code class="codeph">text</code></span>) returns the character set ID corresponding to the name specified by <span class="italic"><code class="codeph">text</code></span>. <span class="italic"><code class="codeph">text</code></span> is defined as a run-time <code class="codeph">VARCHAR2</code> quantity, a character set name. Values for <code class="codeph">text</code> can be <code class="codeph">NLSRTL</code> names that resolve to character sets that are not the database character set or the national character set. 
                        </p>
                        <p>If the value <code class="codeph">CHAR_CS</code> is entered for <span class="italic"><code class="codeph">text</code></span>, then the function returns the ID of the database character set. If the value <code class="codeph">NCHAR_CS</code> is entered for <span class="italic"><code class="codeph">text</code></span>, then the function returns the ID of the database's national character set. The function returns <code class="codeph">NULL</code> if <span class="italic"><code class="codeph">text</code></span> is not a recognized name. 
                        </p>
                        <div class="infoboxnote" id="GUID-55D0BD42-56EC-4765-9DFB-4F2D3E904560__GUID-2295974B-6BE3-4533-866B-1C969CEE5BBA">
                           <p class="notep1">Note:</p>
                           <p>The value for <span class="italic"><code class="codeph">text</code></span> must be entered in uppercase characters.
                           </p>
                        </div>
                     </div>
                  </div><a id="NLSPG440"></a><div class="props_rev_3"><a id="GUID-3CC9B10F-0A9E-4FCC-B09E-FE1607ED0E38" name="GUID-3CC9B10F-0A9E-4FCC-B09E-FE1607ED0E38"></a><h5 id="NLSPG-GUID-3CC9B10F-0A9E-4FCC-B09E-FE1607ED0E38" class="sect5"><span class="enumeration_section">9.2.4.3 </span>Returning the Length of an NCHAR Column
                     </h5>
                     <div>
                        <p><code class="codeph">NLS_CHARSET_DECL_LEN</code>(<span class="italic"><code class="codeph">BYTECNT</code></span>, <span class="italic"><code class="codeph">CSID</code></span>) returns the declaration length of a column in number of characters, given the byte length of the column. <span class="italic"><code class="codeph">BYTECNT</code></span> is the byte length of the column. <span class="italic"><code class="codeph">CSID</code></span> is the character set ID of the column. 
                        </p>
                     </div>
                  </div>
               </div><a id="NLSPG845"></a><a id="NLSPG846"></a><a id="NLSPG847"></a><a id="NLSPG441"></a><div class="props_rev_3"><a id="GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497" name="GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497"></a><h4 id="NLSPG-GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497" class="sect4"><span class="enumeration_section">9.2.5 </span>The NLSSORT Function
                  </h4>
                  <div>
                     <p>The <code class="codeph">NLSSORT</code> function enables you to force a specific collation (sort order) for <code class="codeph">ORDER BY</code>, <code class="codeph">GROUP BY</code>, comparison conditions, and a number of other collation-sensitive operations. However, starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the recommended way to force a specific collation for such operations is to use the <code class="codeph">COLLATE</code> operator. The <code class="codeph">COLLATE</code> operator works for all the collation-sensitive operations, including those for which <code class="codeph">NLSSORT</code> cannot be used, for example <code class="codeph">MAX</code>, <code class="codeph">MIN</code>, and <code class="codeph">INSTR</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497__GUID-B86B77ED-A994-4ACC-B48A-4D9506AB3582">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="linguistic-sorting-and-matching.html#GUID-4146F48A-FB6F-4593-8098-BDF45404EB24">Expression Evaluation and the COLLATE Operator</a>"</span></p>
                     </div>
                     <p>The <code class="codeph">NLSSORT</code> function calculates a collation key for its character argument. The collation key is a value of data type <code class="codeph">RAW</code>, which has the following property: when two collation keys created for a given collation for two (possibly different) source character values are compared as binary, their mutual ordering corresponds to the expected mutual ordering of the source character values in this collation, that is, <code class="codeph">NLSSORT(c1) &lt; NLSSORT(c2)</code>, if and only if <code class="codeph">c1 &lt; c2</code>, where both <code class="codeph">NLSSORT</code> and the character operator <code class="codeph">&lt;</code> (less-than) use the same collation.
                     </p>
                     <p>The collations used for <code class="codeph">ORDER BY</code>, <code class="codeph">GROUP BY</code>, comparison conditions, and other collation-sensitive operations are determined by the data-bound collation determination rules. If these rules yield a pseudo-collation, the session parameters <code class="codeph">NLS_COMP</code> and <code class="codeph">NLS_SORT</code> determine the actual collation.
                     </p>
                     <div class="infoboxnotealso" id="GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497__GUID-5D495F29-8CC5-41EB-BCA9-FA19366F002E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#GUID-88301F82-36AE-47DB-8F60-54FAEEAECADE">Collation Determination</a>"</span></p>
                     </div>
                     <p>The following example specifies a German collation with the <code class="codeph">NLS_SORT</code> session parameter. It assumes that the declared collation of <code class="codeph">column1</code> is <code class="codeph">USING_NLS_COMP</code> or <code class="codeph">USING_NLS_SORT</code>.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET NLS_SORT = GERMAN;
SELECT * FROM table1
     ORDER BY column1;</pre><p>The following example first sets the <code class="codeph">NLS_SORT</code> session parameter to German, but the <code class="codeph">NLSSORT</code> function overrides it by specifying a French sort.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET NLS_SORT = GERMAN;
SELECT * FROM table1
     ORDER BY NLSSORT(column1, 'NLS_SORT=FRENCH');
</pre><p>The <code class="codeph">WHERE</code> clause uses binary comparison when <code class="codeph">NLS_COMP</code> is set to <code class="codeph">BINARY</code> and the declared collation of referenced columns is <code class="codeph">USING_NLS_COMP</code>. But, this can be overridden by using the <code class="codeph">NLSSORT</code> function in the <code class="codeph">WHERE</code> clause.
                     </p>
                     <div class="infoboxnote" id="GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497__GUID-E1626E8D-903A-4694-9577-213736DB2458">
                        <p class="notep1">Note:</p>
                        <p>If the Data-bound Collation feature is not used, then all the columns have the declared collation of <code class="codeph">USING_NLS_COMP</code>.
                        </p>
                     </div>
                     <p>The following example makes a linguistic comparison using the <code class="codeph">WHERE</code> clause.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET NLS_COMP = BINARY;
SELECT * FROM table1
WHERE NLSSORT(column1, 'NLS_SORT=FRENCH')&gt;
      NLSSORT(column2, 'NLS_SORT=FRENCH');
</pre><p>Setting the <code class="codeph">NLS_COMP</code> session parameter to <code class="codeph">LINGUISTIC</code> causes the <code class="codeph">NLS_SORT</code> value to be used in the <code class="codeph">WHERE</code> clause.
                     </p>
                     <p>Oracle Database may add the <code class="codeph">NLSSORT</code> function implicitly to SQL expressions in a subquery to implement linguistic behavior for a category of collation-sensitive operations. The implicitly added <code class="codeph">NLSSORT</code> calls are visible in the execution plan for an SQL statement.
                     </p>
                     <div class="infoboxnote" id="GUID-8C7B0DAC-2379-45A3-9CCF-B7A4811E5497__GUID-BE57E9B1-8167-4F32-A5D0-89AAC744E0EF">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">NLSSORT</code> function, whether called explicitly or implicitly, may report error <code class="codeph">ORA-12742</code> under certain conditions. See <span class="q">"<a href="linguistic-sorting-and-matching.html#GUID-F2CF03B7-BD32-42D5-803A-0F4F03A1D4FE">Avoiding ORA-12742 Error</a>"</span> for more details regarding this error.
                        </p>
                     </div>
                     <p>The rest of this section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-65741DDD-B962-4D2A-9352-12789CC21A5A">NLSSORT Syntax</a></p>
                        </li>
                        <li>
                           <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF">Comparing Strings in a WHERE Clause</a></p>
                        </li>
                        <li>
                           <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88">Controlling an ORDER BY Clause</a></p>
                        </li>
                     </ul>
                  </div><a id="NLSPG442"></a><div class="props_rev_3"><a id="GUID-65741DDD-B962-4D2A-9352-12789CC21A5A" name="GUID-65741DDD-B962-4D2A-9352-12789CC21A5A"></a><h5 id="NLSPG-GUID-65741DDD-B962-4D2A-9352-12789CC21A5A" class="sect5"><span class="enumeration_section">9.2.5.1 </span>NLSSORT Syntax
                     </h5>
                     <div>
                        <div class="section">
                           <p>There are four ways to use <code class="codeph">NLSSORT</code>:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">NLSSORT()</code>, which relies on the collation determination rules
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NLSSORT(column1, 'NLS_SORT=</code><span class="italic"><code class="codeph">xxxx</code></span><code class="codeph">')</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NLSSORT(column1, 'NLS_LANG=</code><span class="italic"><code class="codeph">xxxx</code></span><code class="codeph">')</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">NLSSORT(column1, 'NLS_LANGUAGE=</code><span class="italic"><code class="codeph">xxxx</code></span><code class="codeph">')</code></p>
                              </li>
                           </ul>
                           <p>The <code class="codeph">NLS_LANG</code> parameter of the <code class="codeph">NLSSORT</code> function is not the same as the <code class="codeph">NLS_LANG</code> client environment setting. In the <code class="codeph">NLSSORT</code> function, <code class="codeph">NLS_LANG</code> specifies the abbreviated language name, such as <code class="codeph">US</code> for American or <code class="codeph">PL</code> for Polish. For example:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM table1
ORDER BY NLSSORT(column1, 'NLS_LANG=PL');</pre><p>When a language is specified in an <code class="codeph">NLSSORT</code> call, the default collation for that language is used by the function.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="NLSPG443"></a><div class="props_rev_3"><a id="GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF" name="GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF"></a><h5 id="NLSPG-GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF" class="sect5"><span class="enumeration_section">9.2.5.2 </span>Comparing Strings in a WHERE Clause
                     </h5>
                     <div>
                        <p><code class="codeph">NLSSORT</code> enables applications to perform string matching that follows alphabetic conventions. Normally, character strings in a <code class="codeph">WHERE</code> clause are compared by using the binary values of the characters. One character is considered greater than another character if it has a greater binary value in the database character set. Because the sequence of characters based on their binary values might not match the alphabetic sequence for a language, such comparisons may not follow alphabetic conventions. For example, if a column (<code class="codeph">column1</code>) contains the values ABC, ABZ, BCD, and ÄBC in the ISO 8859-1 8-bit character set, then the following query returns both <code class="codeph">BCD</code> and <code class="codeph">ÄBC</code> because <code class="codeph">Ä</code> has a higher numeric value than <code class="codeph">B</code>:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT column1 FROM table1 WHERE column1 &gt; 'B';
</pre><p>In German, <code class="codeph">Ä</code> is sorted alphabetically before <code class="codeph">B</code>, but in Swedish, <code class="codeph">Ä</code> is sorted after <code class="codeph">Z</code>. Linguistic comparisons can be made by using <code class="codeph">NLSSORT</code> in the <code class="codeph">WHERE</code> clause:
                        </p><pre class="oac_no_warn" dir="ltr">WHERE NLSSORT(col) <span class="italic"><code class="codeph">comparison_operator</code></span> NLSSORT(<span class="italic"><code class="codeph">comparison_string</code></span>)
</pre><p>Note that <code class="codeph">NLSSORT</code> must be on both sides of the comparison operator. For example:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT column1 FROM table1 WHERE NLSSORT(column1) &gt; NLSSORT('B');
</pre><p>If a German linguistic sort has been set, then the statement does not return strings beginning with <code class="codeph">Ä</code> because <code class="codeph">Ä</code> comes before <code class="codeph">B</code> in the German alphabet. If a Swedish linguistic sort has been set, then strings beginning with <code class="codeph">Ä</code> are returned because <code class="codeph">Ä</code> comes after <code class="codeph">Z</code> in the Swedish alphabet.
                        </p>
                        <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the recommended way to make the <code class="codeph">&gt;</code> (greater-than) operator use linguistic comparison is to add the <code class="codeph">COLLATE</code> operator to one of the compared values. For example:
                        </p><pre class="pre codeblock"><code>SELECT column1 FROM table1 WHERE column1 COLLATE USING_NLS_SORT &gt; 'B';</code></pre><p>When you want to force a particular collation, independent of the session NLS parameters, you can specify it in place of the pseudo-collation <code class="codeph">USING_NLS_SORT</code>. For example:
                        </p><pre class="pre codeblock"><code>SELECT column1 FROM table1 WHERE column1 COLLATE GERMAN &gt; 'B';</code></pre><div class="infoboxnote" id="GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF__GUID-3F46EDBF-D4EE-4E0C-B641-DFD04BF5033C">
                           <p class="notep1">Note:</p>
                           <p>You will get the same result as shown in the preceding examples for the <code class="codeph">COLLATE</code> operator, if you remove the operator <code class="codeph">COLLATE</code> and specify the corresponding collation when declaring collation of <code class="codeph">column1</code> in <code class="codeph">table1</code>.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-54B3745F-3CD3-4D6F-B63D-36A1793484CF__GUID-4FDCEC69-ED14-4D6A-BD83-20E22E195985">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="linguistic-sorting-and-matching.html#GUID-C8F381FC-FD1F-411E-B92D-256B728BAFAA">Specifying Data-Bound Collation for a Column</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="NLSPG445"></a><div class="props_rev_3"><a id="GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88" name="GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88"></a><h5 id="NLSPG-GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88" class="sect5"><span class="enumeration_section">9.2.5.3 </span>Controlling an ORDER BY Clause
                     </h5>
                     <div>
                        <p>If a linguistic sort is in use, then <code class="codeph">ORDER BY</code> clauses use an implicit <code class="codeph">NLSSORT</code> on character data. The sort mechanism (linguistic or binary) for an <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause is transparent to the application. However, if the <code class="codeph">NLSSORT</code> function is explicitly specified in an <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause, then the implicit <code class="codeph">NLSSORT</code> is not done. 
                        </p>
                        <p>If a linguistic sort has been defined by the <code class="codeph">NLS_SORT</code> session parameter, then an <code class="codeph">ORDER BY</code> clause in an application uses an implicit <code class="codeph">NLSSORT</code> function. If you specify an explicit <code class="codeph">NLSSORT</code> function, then it overrides the implicit <code class="codeph">NLSSORT</code> function.
                        </p>
                        <p>When the sort mechanism has been defined as linguistic, the <code class="codeph">NLSSORT</code> function is usually unnecessary in an <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause. 
                        </p>
                        <p>When the sort mechanism either defaults or is defined as binary, then a query like the following uses a binary sort:</p><pre class="oac_no_warn" dir="ltr">SELECT last_name FROM employees 
     ORDER BY last_name;
</pre><p>A German linguistic sort can be obtained as follows:</p><pre class="oac_no_warn" dir="ltr">SELECT last_name FROM employees
     ORDER BY NLSSORT(last_name, 'NLS_SORT = GERMAN');</pre><div class="infoboxnotealso" id="GUID-ECF1E342-FB26-48C8-9BE0-F6938791DB88__GUID-66363717-F90A-48B7-BBDD-BE40DEF212C0">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="linguistic-sorting-and-matching.html#GUID-3D736236-BF98-4A4D-9D09-293AAA50A04E">Using Linguistic Collation</a>"</span></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="NLSPG446"></a><div class="props_rev_3"><a id="GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F" name="GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F"></a><h3 id="NLSPG-GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F" class="sect3"><span class="enumeration_section">9.3 </span>Miscellaneous Topics for SQL and PL/SQL Programming in a Global Environment
               </h3>
               <div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-155B5CEA-070D-48A5-A01C-44946C5DF6C4">SQL Date Format Masks</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-2679DAC4-AC21-4AB1-A2EF-8382620B1C89">Calculating Week Numbers</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81">SQL Numeric Format Masks</a></p>
                     </li>
                     <li>
                        <p><a href="sql-and-plsql-programming-in-global-environment.html#GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193">Loading External BFILE Data into LOB Columns</a></p>
                        <div class="infoboxnotealso" id="GUID-1EB0DFBE-FF78-4DAC-A549-58F0A5C35C9F__GUID-7A784CF8-68F5-455B-9CEF-500760E32EFC">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/Format-Models.html#SQLRF00212" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for a complete description of format masks
                           </p>
                        </div>
                     </li>
                  </ul>
               </div><a id="NLSPG447"></a><div class="props_rev_3"><a id="GUID-155B5CEA-070D-48A5-A01C-44946C5DF6C4" name="GUID-155B5CEA-070D-48A5-A01C-44946C5DF6C4"></a><h4 id="NLSPG-GUID-155B5CEA-070D-48A5-A01C-44946C5DF6C4" class="sect4"><span class="enumeration_section">9.3.1 </span>SQL Date Format Masks
                  </h4>
                  <div>
                     <p>Several format<a id="d78171e2667" class="indexterm-anchor"></a> masks are provided with the <code class="codeph">TO_CHAR</code><a id="d78171e2672" class="indexterm-anchor"></a>, <code class="codeph">TO_DATE</code><a id="d78171e2679" class="indexterm-anchor"></a>, and <code class="codeph">TO_NUMBER</code><a id="d78171e2686" class="indexterm-anchor"></a> functions.
                     </p>
                     <p>The <code class="codeph">RM</code> (Roman Month) format<a id="d78171e2696" class="indexterm-anchor"></a> element returns a month as a Roman numeral. You can specify either upper case or lower case by using <code class="codeph">RM</code> or <code class="codeph">rm</code>. For example, for the date 7 Sep 2007, <code class="codeph">DD-rm-YYYY</code> returns <code class="codeph">07-ix-2007</code> and <code class="codeph">DD-RM-YYYY</code> returns <code class="codeph">07-IX-2007</code>.
                     </p>
                     <p>Note that the <code class="codeph">MON</code> and <code class="codeph">DY</code> format masks explicitly support month and day abbreviations that may not be three characters in length. For example, the abbreviations "Lu" and "Ma" can be specified for the French "Lundi" and "Mardi", respectively.
                     </p>
                  </div>
               </div><a id="NLSPG448"></a><div class="props_rev_3"><a id="GUID-2679DAC4-AC21-4AB1-A2EF-8382620B1C89" name="GUID-2679DAC4-AC21-4AB1-A2EF-8382620B1C89"></a><h4 id="NLSPG-GUID-2679DAC4-AC21-4AB1-A2EF-8382620B1C89" class="sect4"><span class="enumeration_section">9.3.2 </span>Calculating Week Numbers
                  </h4>
                  <div>
                     <p>The week numbers returned by the <code class="codeph">WW</code> format mask are calculated according to the following algorithm: <code class="codeph">int(dayOfYear+6)/7</code>. This algorithm does not follow the ISO<a id="d78171e2808" class="indexterm-anchor"></a> standard (2015, 1992-06-15).<a id="d78171e2811" class="indexterm-anchor"></a></p>
                     <p>To support the ISO<a id="d78171e2815" class="indexterm-anchor"></a><a id="d78171e2819" class="indexterm-anchor"></a> standard, the <code class="codeph">IW</code> format element is provided. It returns the ISO week number. In addition, the <code class="codeph">I</code>, <code class="codeph">IY</code>, <code class="codeph">IYY</code>, and <code class="codeph">IYYY</code> format elements, equivalent in behavior to the <code class="codeph">Y</code>, <code class="codeph">YY</code>, <code class="codeph">YYY</code>, and <code class="codeph">YYYY</code> format elements, return the year relating to the ISO week number.
                     </p>
                     <p>In the ISO standard, the year relating to an ISO week number can be different from the calendar year. For example, 1st Jan 1988 is in ISO week number 53 of 1987. A week always starts on a Monday and ends on a Sunday. The week number is determined according the following rules:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If January 1 falls on a Friday, Saturday, or Sunday, then the week including January 1 is the last week of the previous year, because most of the days in the week belong to the previous year.</p>
                        </li>
                        <li>
                           <p>If January 1 falls on a Monday, Tuesday, Wednesday, or Thursday, then the week is the first week of the new year, because most of the days in the week belong to the new year.</p>
                        </li>
                     </ul>
                     <p>For example, January 1, 1991, is a Tuesday, so Monday, December 31, 1990, to Sunday, January 6, 1991, is in week 1. Thus, the ISO week number and year for December 31, 1990, is 1, 1991. To get the ISO week number, use the <code class="codeph">IW</code> format mask for the week number and one of the <code class="codeph">IY</code> formats for the year.<a id="d78171e2869" class="indexterm-anchor"></a><a id="d78171e2871" class="indexterm-anchor"></a><a id="d78171e2873" class="indexterm-anchor"></a><a id="d78171e2877" class="indexterm-anchor"></a></p>
                  </div>
               </div><a id="NLSPG449"></a><div class="props_rev_3"><a id="GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81" name="GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81"></a><h4 id="NLSPG-GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81" class="sect4"><span class="enumeration_section">9.3.3 </span>SQL Numeric Format Masks
                  </h4>
                  <div>
                     <div class="section">
                        <p>Several additional format<a id="d78171e2963" class="indexterm-anchor"></a> elements are provided for formatting numbers:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9FEE0C03-A841-41BE-A819-2EA9BA535B81__GUID-43675CF6-B467-43AE-BE7D-B1A0F86DDD85">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists some of the SQL format masks for formatting numbers." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d78171e2975">Element</th>
                                 <th align="left" valign="bottom" width="30%" id="d78171e2978">Description</th>
                                 <th align="left" valign="bottom" width="50%" id="d78171e2981">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d78171e2986" headers="d78171e2975 ">
                                    <p><code class="codeph">D</code></p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78171e2986 d78171e2978 ">
                                    <p>Decimal</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d78171e2986 d78171e2981 ">
                                    <p>Returns the decimal point character<a id="d78171e2996" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d78171e3001" headers="d78171e2975 ">
                                    <p><code class="codeph">G</code></p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78171e3001 d78171e2978 ">
                                    <p>Group</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d78171e3001 d78171e2981 ">
                                    <p>Returns the group separator<a id="d78171e3011" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d78171e3016" headers="d78171e2975 ">
                                    <p><code class="codeph">L</code></p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78171e3016 d78171e2978 ">
                                    <p>Local currency</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d78171e3016 d78171e2981 ">
                                    <p>Returns the local currency symbol<a id="d78171e3026" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d78171e3031" headers="d78171e2975 ">
                                    <p><code class="codeph">C</code></p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78171e3031 d78171e2978 ">
                                    <p>International currency</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d78171e3031 d78171e2981 ">
                                    <p>Returns the ISO currency symbol<a id="d78171e3041" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d78171e3046" headers="d78171e2975 ">
                                    <p><code class="codeph">RN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78171e3046 d78171e2978 ">
                                    <p>Roman numeral</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d78171e3046 d78171e2981 ">
                                    <p>Returns the number as its Roman numeral equivalent<a id="d78171e3056" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>For Roman numerals, you can specify either upper case or lower case, using <code class="codeph">RN</code> or <code class="codeph">rn</code>, respectively. The number being converted must be an integer in the range 1 to 3999<span>.</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="NLSPG450"></a><div class="props_rev_3"><a id="GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193" name="GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193"></a><h4 id="NLSPG-GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193" class="sect4"><span class="enumeration_section">9.3.4 </span>Loading External BFILE Data into LOB Columns
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBMS_LOB</code> PL/SQL package can load external <code class="codeph">BFILE</code> data into <code class="codeph">LOB</code> columns. Oracle Database performs character set conversion before loading the binary data into <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code> columns. Thus, the <code class="codeph">BFILE</code> data does not need to be in the same character set as the database or national character set to work properly. The APIs convert the data from the specified <code class="codeph">BFILE</code> character set into the database character set for the <code class="codeph">CLOB</code> data type, or the national character set for the <code class="codeph">NCLOB</code> data type. The loading takes place on the server because <code class="codeph">BFILE</code> data is not supported on the client.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use <code class="codeph">DBMS_LOB.LOADBLOBFROMFILE</code> to load <code class="codeph">BLOB</code> columns. 
                           </p>
                        </li>
                        <li>
                           <p>Use <code class="codeph">DBMS_LOB.LOADCLOBFROMFILE</code> to load <code class="codeph">CLOB</code> and <code class="codeph">NCLOB</code> columns.
                           </p>
                           <div class="infoboxnotealso" id="GUID-3E5ADD9C-2EDD-4E48-B8E7-01E83BF93193__GUID-FBBFB997-A25F-49E1-B062-EA3AE478A515">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../arpls/DBMS_LOB.html#ARPLS600" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </li>
                                 <li>
                                    <p><a href="../adlob/using-LOB-APIs.html#ADLOB1017" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13607.using-dynamic-SQL.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using Dynamic SQL</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide to the Oracle Precompilers">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide to the Oracle Precompilers">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="programmers-guide-oracle-precompilers.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T01:36:30-08:00">
      <meta name="dcterms.title" content="Programmer's Guide to the Oracle Precompilers">
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96474-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-host-arrays.html" title="Previous" type="text/html">
      <link rel="next" href="writing-user-exits.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ZZPRE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-host-arrays.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="writing-user-exits.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide to the Oracle Precompilers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using Dynamic SQL</li>
            </ol>
            <a id="GUID-5C0F172A-6D8C-45FC-8F23-B544995108FE" name="GUID-5C0F172A-6D8C-45FC-8F23-B544995108FE"></a><a id="ZZPRE869"></a>
            
            <h2 id="ZZPRE-GUID-5C0F172A-6D8C-45FC-8F23-B544995108FE" class="sect2"><span class="enumeration_chapter">10 </span> Using Dynamic SQL
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-09DE3FA0-C622-466A-9A2E-A7735A970271">What Is Dynamic SQL?</a> 
                     </p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-FF94FD6C-7224-42AC-895A-18DD4DD386CD">Advantages and Disadvantages of Dynamic SQL</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-B9CBB2E6-5A6C-46FD-9089-27A73A3AF803">When to Use Dynamic SQL</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-6E1145C9-54DD-4861-85B1-8F406701F65F">Requirements for Dynamic SQL Statements</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-30F8C760-69E7-4524-BF21-92C063CF513B">How Dynamic SQL Statements Are Processed</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-189A80C3-3816-42AC-AB03-CC664C0E9E85">Methods for Using Dynamic SQL</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-16F4F40D-E2C0-455C-9088-9173F96218A0">About Using Method 1</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-6D4826F3-E794-4A64-A9E9-497B9096B4C7">About Using Method 2</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-0234861C-39A8-4AE3-980E-31CA185076F1">About Using Method 3</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-C4762850-789A-463B-B573-7A7630EC1931">Using Method 4</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-364E812E-312C-42BE-B0DA-7AC132EF46B8">About Using the DECLARE STATEMENT Statement</a></p>
                  </li>
                  <li>
                     <p><a href="using-dynamic-SQL.html#GUID-25F8ABB7-6A51-4C3A-9DE7-DF86E3E3AA6B">About Using PL/SQL</a></p>
                  </li>
               </ul>
               <p>This chapter shows you how to use dynamic SQL, an advanced programming technique that adds flexibility and functionality to your applications. After weighing the advantages and disadvantages of dynamic SQL, you learn four methods from simple to complex for writing programs that accept and process SQL statements "on the fly" at run time. You learn the requirements and limitations of each method and how to choose the right method for a given job.</p>
            </div><a id="ZZPRE870"></a><div class="props_rev_3"><a id="GUID-09DE3FA0-C622-466A-9A2E-A7735A970271" name="GUID-09DE3FA0-C622-466A-9A2E-A7735A970271"></a><h3 id="ZZPRE-GUID-09DE3FA0-C622-466A-9A2E-A7735A970271" class="sect3"><span class="enumeration_section">10.1 </span>What Is Dynamic SQL?
               </h3>
               <div>
                  <p><a id="d71876e106" class="indexterm-anchor"></a><a id="d71876e108" class="indexterm-anchor"></a>Most database applications do a specific job. For example, a simple program might prompt the user for an employee number, then update rows in the EMP and DEPT tables. In this case, you know the makeup of the <code class="codeph">UPDATE</code> statement at precompile time. That is, you know which tables might be changed, the constraints defined for each table and column, which columns might be updated, and the datatype of each column.
                  </p>
                  <p>However, some applications must accept (or build) and process a variety of SQL statements at run time. For example, a general-purpose report writer must build different <code class="codeph">SELECT</code> statements for the various reports it generates. In this case, the statement's makeup is unknown until run time. Such statements can, and probably will, change from execution to execution. They are aptly called <span class="italic">dynamic</span> SQL statements.
                  </p>
                  <p>Unlike static SQL statements, dynamic SQL statements are not embedded in your source program. Instead, they are stored in character strings input to or built by the program at run time. They can be entered interactively or read from a file.</p>
                  <p></p>
               </div>
            </div><a id="ZZPRE871"></a><div class="props_rev_3"><a id="GUID-FF94FD6C-7224-42AC-895A-18DD4DD386CD" name="GUID-FF94FD6C-7224-42AC-895A-18DD4DD386CD"></a><h3 id="ZZPRE-GUID-FF94FD6C-7224-42AC-895A-18DD4DD386CD" class="sect3"><span class="enumeration_section">10.2 </span>Advantages and Disadvantages of Dynamic SQL
               </h3>
               <div>
                  <p><a id="d71876e148" class="indexterm-anchor"></a>Host programs that accept and process dynamically defined SQL statements are more versatile than plain embedded SQL programs. Dynamic SQL statements can be built interactively with input from users having little or no knowledge of SQL.
                  </p>
                  <p>For example, your program might simply prompt users for a search condition to be used in the <code class="codeph">WHERE</code> clause of a <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement. A more complex program might allow users to choose from menus listing SQL operations, table and view names, column names, and so on. Thus, dynamic SQL lets you write highly flexible applications.
                  </p>
                  <p>However, some dynamic queries require complex coding, the use of special data structures, and more run-time processing. While you might not notice the added processing time, you might find the coding difficult unless you fully understand dynamic SQL concepts and methods.</p>
                  <p></p>
               </div>
            </div><a id="ZZPRE872"></a><div class="props_rev_3"><a id="GUID-B9CBB2E6-5A6C-46FD-9089-27A73A3AF803" name="GUID-B9CBB2E6-5A6C-46FD-9089-27A73A3AF803"></a><h3 id="ZZPRE-GUID-B9CBB2E6-5A6C-46FD-9089-27A73A3AF803" class="sect3"><span class="enumeration_section">10.3 </span>When to Use Dynamic SQL
               </h3>
               <div>
                  <p>In practice, static SQL will meet nearly all your programming needs. Use dynamic SQL only if you need its open-ended flexibility. Its use is suggested when one or more of the following items is unknown at precompile time:<a id="d71876e193" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Text Of The Sql Statement (Commands, Clauses, And So On)</p>
                     </li>
                     <li>
                        <p>The Number Of Host Variables</p>
                     </li>
                     <li>
                        <p>The Datatypes Of Host Variables</p>
                     </li>
                     <li>
                        <p>References To Database Objects Such As Columns, Indexes, Sequences, Tables, Usernames, And Views</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ZZPRE873"></a><div class="props_rev_3"><a id="GUID-6E1145C9-54DD-4861-85B1-8F406701F65F" name="GUID-6E1145C9-54DD-4861-85B1-8F406701F65F"></a><h3 id="ZZPRE-GUID-6E1145C9-54DD-4861-85B1-8F406701F65F" class="sect3"><span class="enumeration_section">10.4 </span>Requirements for Dynamic SQL Statements
               </h3>
               <div>
                  <p><a id="d71876e237" class="indexterm-anchor"></a>To represent a dynamic SQL statement, a character string must contain the text of a valid SQL statement, but <span class="italic">not</span> contain the EXEC SQL clause, host-language delimiters or statement terminator, or any of the following embedded SQL commands:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">CLOSE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">DECLARE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">DESCRIBE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">EXECUTE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">FETCH</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">INCLUDE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">OPEN</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">PREPARE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">WHENEVER</code></p>
                     </li>
                  </ul>
                  <p><a id="d71876e283" class="indexterm-anchor"></a>In most cases, the character string can contain <span class="italic">dummy</span> host variables. They hold places in the SQL statement for actual host variables. Because dummy host variables are just <a id="d71876e289" class="indexterm-anchor"></a><a id="d71876e293" class="indexterm-anchor"></a>placeholders, you do not declare them and can name them anything you like. For example, Oracle makes no distinction between the following two strings:
                  </p><pre class="oac_no_warn" dir="ltr">'DELETE FROM EMP WHERE MGR = :mgr_number AND JOB = :job_title'
'DELETE FROM EMP WHERE MGR = :m AND JOB = :j'</pre></div>
            </div><a id="ZZPRE874"></a><div class="props_rev_3"><a id="GUID-30F8C760-69E7-4524-BF21-92C063CF513B" name="GUID-30F8C760-69E7-4524-BF21-92C063CF513B"></a><h3 id="ZZPRE-GUID-30F8C760-69E7-4524-BF21-92C063CF513B" class="sect3"><span class="enumeration_section">10.5 </span>How Dynamic SQL Statements Are Processed
               </h3>
               <div>
                  <p><a id="d71876e321" class="indexterm-anchor"></a><a id="d71876e325" class="indexterm-anchor"></a>Typically, an application program prompts the user for the text of a SQL statement and the values of host variables used in the statement. Then Oracle <span class="italic">parses</span> the SQL statement. That is, Oracle examines the SQL statement to make sure it follows syntax rules and refers to valid database objects. Parsing also involves checking database access rights, reserving needed resources, and finding the optimal access path.
                  </p>
                  <p><a id="d71876e332" class="indexterm-anchor"></a><a id="d71876e334" class="indexterm-anchor"></a>Next, Oracle <span class="italic">binds</span> the host variables to the SQL statement. That is, Oracle gets the addresses of the host variables so that it can read or write their values.
                  </p>
                  <p>Then Oracle <span class="italic">executes</span> the SQL statement. That is, Oracle does what the SQL statement requested, such as deleting rows from a table.
                  </p>
                  <p>The SQL statement can be executed repeatedly using new values for the host variables.</p>
               </div>
            </div><a id="ZZPRE876"></a><a id="ZZPRE875"></a><div class="props_rev_3"><a id="GUID-189A80C3-3816-42AC-AB03-CC664C0E9E85" name="GUID-189A80C3-3816-42AC-AB03-CC664C0E9E85"></a><h3 id="ZZPRE-GUID-189A80C3-3816-42AC-AB03-CC664C0E9E85" class="sect3"><span class="enumeration_section">10.6 </span>Methods for Using Dynamic SQL
               </h3>
               <div>
                  <p>This section introduces four methods you can use to define dynamic SQL statements. It briefly describes the capabilities and limitations of each method, then offers guidelines for choosing the right method. Later sections describe how to use the methods. In addition, you can find sample host-language programs in your supplement to this Guide.</p>
                  <p>The four methods are increasingly general. That is, Method 2 encompasses Method 1, Method 3 encompasses Methods 1 and 2, and so on. However, each method is most useful for handling a certain kind of SQL statement, as <a href="using-dynamic-SQL.html#GUID-189A80C3-3816-42AC-AB03-CC664C0E9E85__BCEGIJJC" title="methods for using dynamic sql">Table 10-1</a> shows.
                  </p>
                  <div class="tblformal" id="GUID-189A80C3-3816-42AC-AB03-CC664C0E9E85__BCEGIJJC">
                     <p class="titleintable">Table 10-1 Dynamic SQL Method Applicability</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Dynamic SQL Method Applicability" summary="methods for using dynamic sql" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="13%" id="d71876e390">Method</th>
                              <th align="left" valign="bottom" width="87%" id="d71876e393">Kind of SQL Statement</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="13%" id="d71876e398" headers="d71876e390 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="87%" headers="d71876e398 d71876e393 ">
                                 <p>nonquery without input host variables</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="13%" id="d71876e405" headers="d71876e390 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="87%" headers="d71876e405 d71876e393 ">
                                 <p>nonquery with known number of input host variables</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="13%" id="d71876e412" headers="d71876e390 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="87%" headers="d71876e412 d71876e393 ">
                                 <p>query with known number of select-list items and input host variables</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="13%" id="d71876e419" headers="d71876e390 ">
                                 <p>4</p>
                              </td>
                              <td align="left" valign="top" width="87%" headers="d71876e419 d71876e393 ">
                                 <p>query with unknown number of select-list items or input host variables</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>The term <span class="italic">select-list item</span> includes column names and expressions.
                  </p>
               </div><a id="ZZPRE877"></a><div class="props_rev_3"><a id="GUID-2CFACD56-25D2-417A-A5F1-C5917E3610B3" name="GUID-2CFACD56-25D2-417A-A5F1-C5917E3610B3"></a><h4 id="ZZPRE-GUID-2CFACD56-25D2-417A-A5F1-C5917E3610B3" class="sect4"><span class="enumeration_section">10.6.1 </span>Method 1
                  </h4>
                  <div>
                     <div class="section">
                        <p>This method lets your program accept or build a dynamic SQL statement, then immediately execute it using the<code class="codeph"> EXECUTE</code> <code class="codeph">IMMEDIATE</code> command. The SQL statement must not be a query (<code class="codeph">SELECT</code> statement) and must not contain any placeholders for input host variables. For example, the following host strings qualify:
                        </p><pre class="oac_no_warn" dir="ltr">'DELETE FROM EMP WHERE DEPTNO = 20'
'GRANT SELECT ON EMP TO scott'
</pre><p>With Method 1, the SQL statement is parsed every time it is executed (unless you specify <code class="codeph">HOLD_CURSOR</code>=<code class="codeph">YES</code>).
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE878"></a><div class="props_rev_3"><a id="GUID-F1FF4F30-336F-43D0-85C1-AAA624CEB9C8" name="GUID-F1FF4F30-336F-43D0-85C1-AAA624CEB9C8"></a><h4 id="ZZPRE-GUID-F1FF4F30-336F-43D0-85C1-AAA624CEB9C8" class="sect4"><span class="enumeration_section">10.6.2 </span>Method 2
                  </h4>
                  <div>
                     <div class="section">
                        <p>This method lets your program accept or build a dynamic SQL statement, then process it using the <code class="codeph">PREPARE</code> and <code class="codeph">EXECUTE </code>commands<a id="d71876e501" class="indexterm-anchor"></a> .The SQL statement must not be a query. The number of placeholders for input host variables and the datatypes of the input host variables must be known at precompile time. For example, the following host strings fall into this category:
                        </p><pre class="oac_no_warn" dir="ltr">'INSERT INTO EMP (ENAME, JOB) VALUES (:emp_name, :job_title)'
'DELETE FROM EMP WHERE EMPNO = :emp_number'
</pre><p>With Method 2, the SQL statement is parsed just once (unless you specify <code class="codeph">RELEASE_CURSOR</code>=<code class="codeph">YES</code>), but it can be executed many times with different values for the host variables. SQL data definition statements such as <code class="codeph">CREATE</code> are executed when they are <code class="codeph">PREPARE</code>d.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE879"></a><div class="props_rev_3"><a id="GUID-CDCAC1E4-5F06-421A-80FC-8B119B5788E8" name="GUID-CDCAC1E4-5F06-421A-80FC-8B119B5788E8"></a><h4 id="ZZPRE-GUID-CDCAC1E4-5F06-421A-80FC-8B119B5788E8" class="sect4"><span class="enumeration_section">10.6.3 </span>Method 3
                  </h4>
                  <div>
                     <div class="section">
                        <p>This method lets your program accept or build a dynamic query, then process it using the PREPARE command with the <code class="codeph">DECLARE</code>,<code class="codeph"> OPEN</code>, <code class="codeph">FETCH</code>, and <code class="codeph">CLOSE </code>cursor commands. The number of select-list items, the number of placeholders for input host variables, and the datatypes of the input host variables must be known at precompile time. For example, the following host strings qualify:
                        </p><pre class="oac_no_warn" dir="ltr">'SELECT DEPTNO, MIN(SAL), MAX(SAL) FROM EMP GROUP BY DEPTNO'
'SELECT ENAME, EMPNO FROM EMP WHERE DEPTNO = :dept_number'
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE880"></a><div class="props_rev_3"><a id="GUID-7711238F-BE2F-4858-8E6D-C7271375CF8B" name="GUID-7711238F-BE2F-4858-8E6D-C7271375CF8B"></a><h4 id="ZZPRE-GUID-7711238F-BE2F-4858-8E6D-C7271375CF8B" class="sect4"><span class="enumeration_section">10.6.4 </span>Method 4
                  </h4>
                  <div>
                     <div class="section">
                        <p>This method lets your program accept or build a dynamic SQL statement, then process it using descriptors (discussed in "Using Method 4"). The number of select-list items, the number of placeholders for input host variables, and the datatypes of the input host variables can be unknown until run time. For example, the following host strings fall into this category:</p><pre class="oac_no_warn" dir="ltr">'INSERT INTO EMP (&lt;unknown&gt;) VALUES (&lt;unknown&gt;)'
'SELECT &lt;unknown&gt; FROM EMP WHERE DEPTNO = 20'
</pre><p>Method 4 is required for dynamic SQL statements that contain an unknown number of select-list items or input host variables.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE881"></a><div class="props_rev_3"><a id="GUID-A00CDB28-2CB4-4622-87CF-093FDBE172CD" name="GUID-A00CDB28-2CB4-4622-87CF-093FDBE172CD"></a><h4 id="ZZPRE-GUID-A00CDB28-2CB4-4622-87CF-093FDBE172CD" class="sect4"><span class="enumeration_section">10.6.5 </span>Guidelines
                  </h4>
                  <div>
                     <p><a id="d71876e608" class="indexterm-anchor"></a><a id="d71876e612" class="indexterm-anchor"></a>With all four methods, you must store the dynamic SQL statement in a character string, which must be a host variable or quoted literal. When you store the SQL statement in the string, omit the keywords EXEC SQL and the statement terminator.
                     </p>
                     <p><a id="d71876e618" class="indexterm-anchor"></a>With Methods 2 and 3, the number of placeholders for input host variables and the datatypes of the input host variables must be known at precompile time.
                     </p>
                     <p>Each succeeding method imposes fewer constraints on your application, but is more difficult to code. As a rule, use the simplest method you can. However, if a dynamic SQL statement is to be executed repeatedly by Method 1, use Method 2 instead to avoid reparsing for each execution.</p>
                     <p>Method 4 provides maximum flexibility, but requires complex coding and a full understanding of dynamic SQL concepts. In general, use Method 4 only if you cannot use Methods 1, 2, or 3. The decision logic in <a href="using-dynamic-SQL.html#GUID-2F002EC7-F447-4AA3-9646-65DFF46D3B3F__CHDJHDJA">Figure 10-1</a> will help you choose the correct method.
                     </p>
                  </div>
               </div><a id="ZZPRE883"></a><a id="ZZPRE882"></a><div class="props_rev_3"><a id="GUID-2F002EC7-F447-4AA3-9646-65DFF46D3B3F" name="GUID-2F002EC7-F447-4AA3-9646-65DFF46D3B3F"></a><h4 id="ZZPRE-GUID-2F002EC7-F447-4AA3-9646-65DFF46D3B3F" class="sect4"><span class="enumeration_section">10.6.6 </span>Avoiding Common Errors
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you use a character array to store the dynamic SQL statement, blank-pad the array before storing the SQL statement. That way, you clear extraneous characters. This is especially important when you reuse the array for different SQL statements. As a rule, always initialize (or reinitialize) the host string before storing the SQL statement.</p>
                        <p>Do not null-terminate the host string. Oracle does not recognize the null terminator as an end-of-string sentinel. Instead, Oracle treats it as part of the SQL statement.</p>
                        <p>If you use a <code class="codeph">VARCHAR</code> variable to store the dynamic SQL statement, make sure the length of the <code class="codeph">VARCHAR</code> is set (or reset) correctly before you execute the PREPARE or <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> statement.
                        </p>
                        <p><code class="codeph">EXECUTE</code> resets the SQLWARN warning flags in the SQLCA. So, to catch mistakes such as an unconditional update (caused by omitting a <code class="codeph">WHERE</code> clause), check the SQLWARN flags after executing the <code class="codeph">PREPARE</code> statement but before executing the <code class="codeph">EXECUTE</code> statement.
                        </p>
                        <div class="figure" id="GUID-2F002EC7-F447-4AA3-9646-65DFF46D3B3F__CHDJHDJA">
                           <p class="titleinfigure">Figure 10-1 Choosing the Right Method</p><img src="img/image013.gif" alt="Description of Figure 10-1 follows" title="Description of Figure 10-1 follows" longdesc="img_text/image013.html"><br><a href="img_text/image013.html">Description of "Figure 10-1 Choosing the Right Method"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ZZPRE884"></a><div class="props_rev_3"><a id="GUID-16F4F40D-E2C0-455C-9088-9173F96218A0" name="GUID-16F4F40D-E2C0-455C-9088-9173F96218A0"></a><h3 id="ZZPRE-GUID-16F4F40D-E2C0-455C-9088-9173F96218A0" class="sect3"><span class="enumeration_section">10.7 </span>About Using Method 1
               </h3>
               <div>
                  <p><a id="d71876e709" class="indexterm-anchor"></a>The simplest kind of dynamic SQL statement results only in "success" or "failure" and uses no host variables. Some examples follow:
                  </p><pre class="oac_no_warn" dir="ltr">'DELETE FROM table_name WHERE column_name = constant'
'CREATE TABLE table_name ...'
'DROP INDEX index_name'
'UPDATE table_name SET column_name = constant'
'GRANT SELECT ON table_name TO username'
'REVOKE RESOURCE FROM username'
</pre></div><a id="ZZPRE885"></a><div class="props_rev_3"><a id="GUID-96884DCF-A70A-4C01-84FB-14CE9E1B8A0B" name="GUID-96884DCF-A70A-4C01-84FB-14CE9E1B8A0B"></a><h4 id="ZZPRE-GUID-96884DCF-A70A-4C01-84FB-14CE9E1B8A0B" class="sect4"><span class="enumeration_section">10.7.1 </span>The EXECUTE IMMEDIATE Statement
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d71876e738" class="indexterm-anchor"></a> Method 1 parses, then immediately executes the SQL statement using the <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> command. The command is followed by a character string (host variable or literal) containing the SQL statement to be executed, which cannot be a query.
                        </p>
                        <p><a id="d71876e750" class="indexterm-anchor"></a>The syntax of the <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> statement follows:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE IMMEDIATE { :host_string | string_literal };
</pre><p><a id="d71876e764" class="indexterm-anchor"></a>In the following example, you use the host variable <span class="italic">sql_stmt</span> to store SQL statements input by the user:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION;
 ...
 sql_stmt CHARACTER(120);
EXEC SQL END DECLARE SECTION;
...
LOOP
 display 'Enter SQL statement: ';
 read sql_stmt;
 IF sql_stmt is empty THEN
 exit loop;
 ENDIF;
 -- sql_stmt now contains the text of a SQL statement
 EXEC SQL EXECUTE IMMEDIATE :sql_stmt;
ENDLOOP;
</pre><p>You can also use string literals, as the following example shows:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE IMMEDIATE 'REVOKE RESOURCE FROM MILLER';
</pre><p>Because EXECUTE IMMEDIATE parses the input SQL statement before every execution, Method 1 is best for statements that are executed only once. Data definition statements usually fall into this category.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE886"></a><div class="props_rev_3"><a id="GUID-2589EFC3-AEF9-4B6E-ADE4-BA521B663E9C" name="GUID-2589EFC3-AEF9-4B6E-ADE4-BA521B663E9C"></a><h4 id="ZZPRE-GUID-2589EFC3-AEF9-4B6E-ADE4-BA521B663E9C" class="sect4"><span class="enumeration_section">10.7.2 </span>An Example
                  </h4>
                  <div>
                     <p><a id="d71876e801" class="indexterm-anchor"></a>The following program prompts the user for a search condition to be used in the <code class="codeph">WHERE</code> clause of an <code class="codeph">UPDATE</code> statement, then executes the statement using Method 1:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION;
 username CHARACTER(20);
 password CHARACTER(20);
 update_stmt CHARACTER(120);
EXEC SQL END DECLARE SECTION;
 search_cond CHARACTER(40);
EXEC SQL INCLUDE SQLCA;
display 'Username? ';
read username;
display 'Password? ';
read password;
EXEC SQL WHENEVER SQLERROR GOTO sql_error;
EXEC SQL CONNECT :username IDENTIFIED BY :password;
display 'Connected to Oracle';
set update_stmt = 'UPDATE EMP SET COMM = 500 WHERE ';
display 'Enter a search condition for the following statement:';
display update_stmt;
read search_cond;
concatenate update_stmt, search_cond;
EXEC SQL EXECUTE IMMEDIATE :update_stmt;
EXEC SQL COMMIT WORK RELEASE;
exit program;
sql_error:
 EXEC SQL WHENEVER SQLERROR CONTINUE;
 EXEC SQL ROLLBACK WORK RELEASE;
 display 'Processing error';
 exit program with an error;
</pre></div>
               </div>
            </div><a id="ZZPRE887"></a><div class="props_rev_3"><a id="GUID-6D4826F3-E794-4A64-A9E9-497B9096B4C7" name="GUID-6D4826F3-E794-4A64-A9E9-497B9096B4C7"></a><h3 id="ZZPRE-GUID-6D4826F3-E794-4A64-A9E9-497B9096B4C7" class="sect3"><span class="enumeration_section">10.8 </span>About Using Method 2
               </h3>
               <div>
                  <p><a id="d71876e839" class="indexterm-anchor"></a>What Method 1 does in one step, Method 2 does in two. The dynamic SQL statement, <a id="d71876e844" class="indexterm-anchor"></a>which cannot be a query, is first <code class="codeph">PREPARE</code>d (named and parsed), then executed.
                  </p>
                  <p> <a id="d71876e854" class="indexterm-anchor"></a>With Method 2, the SQL statement can contain <a id="d71876e859" class="indexterm-anchor"></a>placeholders for input host variables and indicator variables. You can <code class="codeph">PREPARE</code> the SQL statement once, then <code class="codeph">EXECUTE</code> it repeatedly using different values of the host variables. Also, you need <span class="italic">not</span> rePREPARE the SQL statement after a <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> (unless you log off and reconnect).
                  </p>
                  <p>Note that you can use <code class="codeph">EXECUTE</code> for nonqueries with Method 4.
                  </p>
                  <p>The syntax of the <code class="codeph">PREPARE</code> statement follows:
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE statement_name
 FROM { :host_string | string_literal };
</pre><p><code class="codeph">PREPARE</code> parses the SQL statement and gives it a name.
                  </p>
                  <p>The <span class="italic">statement_name</span> is an identifier used by the precompiler, <span class="italic">not</span> a host or program variable, and should not be declared in the Declare Section. It simply designates the <code class="codeph">PREPAREd</code> statement you want to <code class="codeph">EXECUTE</code>.
                  </p>
                  <p>The syntax of the <code class="codeph">EXECUTE</code> statement is
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE statement_name [USING host_variable_list];
</pre><p>where <span class="italic">host_variable_list</span> stands for the following syntax:
                  </p><pre class="oac_no_warn" dir="ltr">:host_variable1[:indicator1] [, host_variable2[:indicator2], ...]
</pre><p><code class="codeph">EXECUTE</code> executes the parsed SQL statement, using the values supplied for each input host variable. In the following example, the input SQL statement contains the placeholder <span class="italic">n</span>:
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION;
 ...
 emp_number INTEGER;
 delete_stmt CHARACTER(120);
EXEC SQL END DECLARE SECTION;
 search_cond CHARACTER(40);
...
set delete_stmt = 'DELETE FROM EMP WHERE EMPNO = :n AND ';
display 'Complete the following statement's search condition:';
display delete_stmt;
read search_cond;
concatenate delete_stmt, search_cond;
EXEC SQL PREPARE sql_stmt FROM :delete_stmt;
LOOP
 display 'Enter employee number: ';
 read emp_number;
 IF emp_number = 0 THEN
 exit loop;
 EXEC SQL EXECUTE sql_stmt USING :emp_number;
ENDLOOP;
</pre><p>With Method 2, you must know the datatypes of input host variables at precompile time. In the last example, <span class="italic">emp_number</span> was declared as type <code class="codeph">INTEGER</code>. It could also have been declared as type <code class="codeph">CHARACTER</code> or <code class="codeph">REAL</code>, because Oracle supports all these datatype conversions to the <code class="codeph">NUMBER</code> datatype.
                  </p>
               </div><a id="ZZPRE888"></a><div class="props_rev_3"><a id="GUID-25E6C4AD-4E12-4039-BC00-586DD183E92F" name="GUID-25E6C4AD-4E12-4039-BC00-586DD183E92F"></a><h4 id="ZZPRE-GUID-25E6C4AD-4E12-4039-BC00-586DD183E92F" class="sect4"><span class="enumeration_section">10.8.1 </span>The USING Clause
                  </h4>
                  <div>
                     <p>When the SQL statement is <code class="codeph">EXECUTEd</code>, input host variables in the <code class="codeph">USING</code> clause replace corresponding placeholders in the <code class="codeph">PREPAREd</code> dynamic SQL statement.
                     </p>
                     <p>Every placeholder in the PREPAREd dynamic SQL statement must correspond to a host variable in the <code class="codeph">USING</code> clause. So, if the same placeholder appears two or more times in the <code class="codeph">PREPAREd</code> statement, each appearance must correspond to a host variable in the <code class="codeph">USING</code> clause. If one of the host variables in the <code class="codeph">USING</code> clause is an array, all must be arrays.
                     </p>
                     <p><a id="d71876e1001" class="indexterm-anchor"></a>The names of the placeholders need not match the names of the host variables. However, the order of the placeholders in the <code class="codeph">PREPAREd</code> dynamic SQL statement must match the order of corresponding host variables in the <code class="codeph">USING</code> clause.
                     </p>
                     <p><a id="d71876e1013" class="indexterm-anchor"></a>To specify nulls, you can associate indicator variables with host variables in the <code class="codeph">USING</code> clause. For more information, refer to <span class="q">"<a href="using-embedded-SQL.html#GUID-E4FC1AF8-5BCC-49CB-B3A5-83C99CA7A45A">About Using Indicator Variables</a>"</span>.
                     </p>
                  </div>
               </div><a id="ZZPRE889"></a><div class="props_rev_3"><a id="GUID-AFD24CAC-6353-4295-814B-0C8C5CCD25EB" name="GUID-AFD24CAC-6353-4295-814B-0C8C5CCD25EB"></a><h4 id="ZZPRE-GUID-AFD24CAC-6353-4295-814B-0C8C5CCD25EB" class="sect4"><span class="enumeration_section">10.8.2 </span>An Example
                  </h4>
                  <div>
                     <p> <a id="d71876e1048" class="indexterm-anchor"></a>The following program prompts the user for a search condition to be used in the <code class="codeph">WHERE</code> clause of an <code class="codeph">UPDATE</code> statement, then prepares and executes the statement using Method 2. Notice that the <code class="codeph">SET</code> clause of the <code class="codeph">UPDATE</code> statement contains a placeholder (<span class="italic">c</span>).
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION;
 username CHARACTER(20);
 password CHARACTER(20);
 sql_stmt CHARACTER(80);
 empno INTEGER VALUE 1234;
 deptno1 INTEGER VALUE 97;
 deptno2 INTEGER VALUE 99;
EXEC SQL END DECLARE SECTION;
EXEC SQL INCLUDE SQLCA;
EXEC ORACLE OPTION (ORACA=YES);
EXEC SQL WHENEVER SQLERROR GOTO sql_error;
display 'Username? ';
read username;
display 'Password? ';
read password;
EXEC SQL CONNECT :username IDENTIFIED BY :password;
display 'Connected to Oracle';
set sql_stmt = 
 'INSERT INTO EMP (EMPNO, DEPTNO) VALUES (:v1, :v2)';
display "V1 = ", empno, "V2 = ", deptno1;
EXEC SQL PREPARE S FROM :sql_stmt;
EXEC SQL EXECUTE S USING :empno, :deptno1;
set empno = empno + 1;
display "V1 = ", empno, "V2 = ", deptno2;
EXEC SQL EXECUTE S USING :empno, :deptno2;
set sql_stmt = 
 'DELETE FROM EMP WHERE DEPTNO = :v1 OR DEPTNO = :v2")';
display "V1 = ", deptno1, "V2 = ", deptno2;
EXEC SQL PREPARE S FROM :sql_stmt;
EXEC SQL EXECUTE S USING :deptno1, :deptno2;
EXEC SQL COMMIT WORK RELEASE;
exit program;
sql_error:
 EXEC SQL WHENEVER SQLERROR CONTINUE;
 display 'Processing error';
 EXEC SQL ROLLBACK WORK RELEASE;
 exit program with an error;
</pre></div>
               </div>
            </div><a id="ZZPRE890"></a><div class="props_rev_3"><a id="GUID-0234861C-39A8-4AE3-980E-31CA185076F1" name="GUID-0234861C-39A8-4AE3-980E-31CA185076F1"></a><h3 id="ZZPRE-GUID-0234861C-39A8-4AE3-980E-31CA185076F1" class="sect3"><span class="enumeration_section">10.9 </span>About Using Method 3
               </h3>
               <div>
                  <p><a id="d71876e1093" class="indexterm-anchor"></a>Method 3 is similar to Method 2<a id="d71876e1098" class="indexterm-anchor"></a> but combines the <code class="codeph">PREPARE</code> statement with the statements needed to define and manipulate a cursor. This allows your program to accept and process queries. In fact, if the dynamic SQL statement is a query, you <span class="italic">must</span> use Method 3 or 4.
                  </p>
                  <p><a id="d71876e1110" class="indexterm-anchor"></a>For Method 3, the number of columns in the query select list and the number of placeholders for input host variables must be known at precompile time. However, the names of database objects such as tables and columns need not be specified until run time (they cannot duplicate the names of host variables). Clauses that limit, group, and sort query results (such as <code class="codeph">WHERE</code>, <code class="codeph">GROUP</code> <code class="codeph">BY</code>, and <code class="codeph">ORDER</code> <code class="codeph">BY</code>) can also be specified at run time.
                  </p>
                  <p>With Method 3, you use the following sequence of embedded SQL statements:</p><pre class="oac_no_warn" dir="ltr">PREPARE statement_name FROM { :host_string | string_literal };
DECLARE cursor_name CURSOR FOR statement_name;
OPEN cursor_name [USING host_variable_list];
FETCH cursor_name INTO host_variable_list;
CLOSE cursor_name;
</pre><p>Now let us look at what each statement does.</p>
               </div><a id="ZZPRE891"></a><div class="props_rev_3"><a id="GUID-47931071-4091-4D65-9AD4-21D4BEC2804A" name="GUID-47931071-4091-4D65-9AD4-21D4BEC2804A"></a><h4 id="ZZPRE-GUID-47931071-4091-4D65-9AD4-21D4BEC2804A" class="sect4"><span class="enumeration_section">10.9.1 </span>PREPARE
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d71876e1164" class="indexterm-anchor"></a><code class="codeph">PREPARE</code> parses the dynamic SQL statement and gives it a name. In the following example, <code class="codeph">PREPARE</code> parses the query stored in the character string <span class="italic">select_stmt</span> and gives it the name <span class="italic">sql_stmt</span>:
                        </p><pre class="oac_no_warn" dir="ltr">set select_stmt = 'SELECT MGR, JOB FROM EMP WHERE SAL &lt; :salary';
EXEC SQL PREPARE sql_stmt FROM :select_stmt;
</pre><p>Commonly, the query <code class="codeph">WHERE</code> clause is input from a terminal at run time or is generated by the application.
                        </p>
                        <p>The identifier <span class="italic">sql_stmt</span> is <span class="italic">not</span> a host or program variable, but must be unique. It designates a particular dynamic SQL statement.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE892"></a><div class="props_rev_3"><a id="GUID-E0FCAF15-F8E5-4AF8-A155-77ABA06C2370" name="GUID-E0FCAF15-F8E5-4AF8-A155-77ABA06C2370"></a><h4 id="ZZPRE-GUID-E0FCAF15-F8E5-4AF8-A155-77ABA06C2370" class="sect4"><span class="enumeration_section">10.9.2 </span>DECLARE
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">DECLARE</code> defines a cursor by giving it a name and associating it with a specific query. The cursor declaration is local to its precompilation unit. Continuing our example, <code class="codeph">DECLARE</code> defines a cursor named <span class="italic">emp_cursor</span> and associates it with <span class="italic">sql_stmt</span>, as follows:
                        </p><pre class="oac_no_warn" dir="ltr"><a id="d71876e1230" class="indexterm-anchor"></a>EXEC SQL DECLARE emp_cursor CURSOR FOR sql_stmt;
</pre><p>The identifiers <span class="italic">sql_stmt</span> and <span class="italic">emp_cursor</span> are <span class="italic">not</span> host or program variables, but must be unique. If you declare two cursors using the same statement name, the precompiler considers the two cursor names synonymous. For example, if you execute the statements
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE sql_stmt FROM :select_stmt;
EXEC SQL DECLARE emp_cursor FOR sql_stmt;
EXEC SQL PREPARE sql_stmt FROM :delete_stmt;
EXEC SQL DECLARE dept_cursor FOR sql_stmt;
</pre><p>when you OPEN <span class="italic">emp_cursor</span>, you will process the dynamic SQL statement stored in <span class="italic">delete_stmt</span>, not the one stored in <span class="italic">select_stmt.</span></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE893"></a><div class="props_rev_3"><a id="GUID-D6313AED-13FD-42B7-B229-5694EE080400" name="GUID-D6313AED-13FD-42B7-B229-5694EE080400"></a><h4 id="ZZPRE-GUID-D6313AED-13FD-42B7-B229-5694EE080400" class="sect4"><span class="enumeration_section">10.9.3 </span>OPEN
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d71876e1287" class="indexterm-anchor"></a><code class="codeph">OPEN</code> allocates an Oracle cursor, binds input host variables, and executes the query, identifying its active set. OPEN also positions the cursor on the first row in the active set and zeroes the rows-processed count kept by the third element of SQLERRD in the SQLCA. Input host variables in the USING clause replace corresponding placeholders in the <code class="codeph">PREPAREd</code> dynamic SQL statement.
                        </p>
                        <p>In our example, <code class="codeph">OPEN</code> allocates <span class="italic">emp_cursor</span> and assigns the host variable <span class="italic">salary</span> to the <code class="codeph">WHERE</code> clause, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN emp_cursor USING :salary;
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE894"></a><div class="props_rev_3"><a id="GUID-A2105218-5AF9-481E-B7D9-8607062E76B7" name="GUID-A2105218-5AF9-481E-B7D9-8607062E76B7"></a><h4 id="ZZPRE-GUID-A2105218-5AF9-481E-B7D9-8607062E76B7" class="sect4"><span class="enumeration_section">10.9.4 </span>FETCH
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">FETCH</code> returns a row from the active set, assigns column values in the select list to corresponding host variables in the <code class="codeph">INTO</code> clause, and advances the cursor to the next row. When no more rows are found, <code class="codeph">FETCH</code> returns the "no data found" Oracle error code to SQLCODE in the SQLCA.
                        </p>
                        <p><a id="d71876e1345" class="indexterm-anchor"></a> In our example, FETCH returns a row from the active set and assigns the values of columns MGR and JOB to host variables <span class="italic">mgr_number</span> and <span class="italic">job_title</span>, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH emp_cursor INTO :mgr_number, :job_title;
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE895"></a><div class="props_rev_3"><a id="GUID-1D1151ED-608B-4B8C-AA38-6B6449340665" name="GUID-1D1151ED-608B-4B8C-AA38-6B6449340665"></a><h4 id="ZZPRE-GUID-1D1151ED-608B-4B8C-AA38-6B6449340665" class="sect4"><span class="enumeration_section">10.9.5 </span>CLOSE
                  </h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">CLOSE</code> disables the cursor. After you <code class="codeph">CLOSE</code> a cursor, you can no longer <code class="codeph">FETCH</code> from it. In our example, the <code class="codeph">CLOSE</code> statement disables <span class="italic">emp_cursor</span>, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE emp_cursor;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE896"></a><div class="props_rev_3"><a id="GUID-2F2CF0C2-9066-462C-AD85-D377DB2B7766" name="GUID-2F2CF0C2-9066-462C-AD85-D377DB2B7766"></a><h4 id="ZZPRE-GUID-2F2CF0C2-9066-462C-AD85-D377DB2B7766" class="sect4"><span class="enumeration_section">10.9.6 </span>An Example
                  </h4>
                  <div>
                     <p> <a id="d71876e1420" class="indexterm-anchor"></a>The following program prompts the user for a search condition to be used in the <code class="codeph">WHERE</code> clause of a query, then prepares and executes the query using Method 3.
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL BEGIN DECLARE SECTION;
 username CHARACTER(20);
 password CHARACTER(20);
 dept_number INTEGER;
 emp_name CHARACTER(10);
 salary REAL;
 select_stmt CHARACTER(120);
EXEC SQL END DECLARE SECTION;
 search_cond CHARACTER(40);
EXEC SQL INCLUDE SQLCA;
display 'Username? ';
read username;
display 'Password? ';
read password;
EXEC SQL WHENEVER SQLERROR GOTO sql_error;
EXEC SQL CONNECT :username IDENTIFIED BY :password;
display 'Connected to Oracle';
set select_stmt = 'SELECT ENAME,SAL FROM EMP WHERE ';
display 'Enter a search condition for the following statement:';
display select_stmt;
read search_cond;
concatenate select_stmt, search_cond;
EXEC SQL PREPARE sql_stmt FROM :select_stmt;
EXEC SQL DECLARE emp_cursor CURSOR FOR sql_stmt;
EXEC SQL OPEN emp_cursor;
EXEC SQL WHENEVER NOT FOUND GOTO no_more;
display 'Employee Salary';
display '-------- ------';
LOOP
 EXEC SQL FETCH emp_cursor INTO :emp_name, :salary;
 display emp_name, salary;
ENDLOOP;
no_more:
 EXEC SQL CLOSE emp_cursor;
 EXEC SQL COMMIT WORK RELEASE;
 exit program;
sql_error:
 EXEC SQL WHENEVER SQLERROR CONTINUE;
 EXEC SQL ROLLBACK WORK RELEASE;
 exit program with an error;
</pre></div>
               </div>
            </div><a id="ZZPRE897"></a><div class="props_rev_3"><a id="GUID-C4762850-789A-463B-B573-7A7630EC1931" name="GUID-C4762850-789A-463B-B573-7A7630EC1931"></a><h3 id="ZZPRE-GUID-C4762850-789A-463B-B573-7A7630EC1931" class="sect3"><span class="enumeration_section">10.10 </span>Using Method 4
               </h3>
               <div>
                  <p><a id="d71876e1455" class="indexterm-anchor"></a>The implementation of Method 4 is very language-dependent. Therefore, this section only gives an overview. For details, see your host-language supplement.
                  </p>
                  <p>There is a kind of dynamic SQL statement that your program cannot process using Method 3. When the number of select-list items or placeholders for input host variables is unknown until run time, your program must use a descriptor. A <a id="d71876e1462" class="indexterm-anchor"></a><span class="italic">descriptor</span> is an area of memory used by your program and Oracle to hold a complete description of the variables in a dynamic SQL statement.
                  </p>
                  <p><a id="d71876e1470" class="indexterm-anchor"></a>Recall that for a multirow query, you <code class="codeph">FETCH</code> selected column values <code class="codeph">INTO</code> a list of declared output host variables. If the select list is unknown, the host-variable list cannot be established at precompile time by the <code class="codeph">INTO</code> clause. For example, you know the following query returns two column values:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT ENAME, EMPNO FROM EMP WHERE DEPTNO = :dept_number;
</pre><p>However, if you let the user define the select list, you might not know how many column values the query will return.</p>
               </div><a id="ZZPRE898"></a><div class="props_rev_3"><a id="GUID-EE32B8F6-EC76-4413-8654-553D0D04B0B7" name="GUID-EE32B8F6-EC76-4413-8654-553D0D04B0B7"></a><h4 id="ZZPRE-GUID-EE32B8F6-EC76-4413-8654-553D0D04B0B7" class="sect4"><span class="enumeration_section">10.10.1 </span>Need for the SQLDA
                  </h4>
                  <div>
                     <p><a id="d71876e1513" class="indexterm-anchor"></a>To process this kind of dynamic query, your program must issue the <code class="codeph">DESCRIBE</code> <code class="codeph">SELECT</code> <code class="codeph">LIST</code> command and declare a data structure called the SQL Descriptor Area <a id="d71876e1525" class="indexterm-anchor"></a>(SQLDA). Because it holds descriptions of columns in the query select list, this structure is also called a <span class="italic">select descriptor</span>.
                     </p>
                     <p>Likewise, if a dynamic SQL statement contains an unknown number of placeholders for input host variables, the host-variable list cannot be established at precompile time by the <code class="codeph">USING</code> clause.
                     </p>
                     <p><a id="d71876e1539" class="indexterm-anchor"></a>To process the dynamic SQL statement, your program must issue the <code class="codeph">DESCRIBE</code> <code class="codeph">BIND</code> <code class="codeph">VARIABLES</code> command and declare another kind of SQLDA called a <span class="italic">bind descriptor</span> to hold descriptions of the placeholders for the input host variables. (Input host variables are also called <span class="italic">bind variables</span>.)
                     </p>
                     <p>If your program has more than one active SQL statement (it might have OPENed two or more cursors, for example), each statement must have its own SQLDA(s). However, non-concurrent cursors can reuse SQLDAs. There is no set limit on the number of SQLDAs in a program.</p>
                  </div>
               </div><a id="ZZPRE899"></a><div class="props_rev_3"><a id="GUID-FD8C392F-A0A6-41C7-BCC5-4EBB51D35630" name="GUID-FD8C392F-A0A6-41C7-BCC5-4EBB51D35630"></a><h4 id="ZZPRE-GUID-FD8C392F-A0A6-41C7-BCC5-4EBB51D35630" class="sect4"><span class="enumeration_section">10.10.2 </span>The DESCRIBE Statement
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d71876e1581" class="indexterm-anchor"></a>DESCRIBE initializes a descriptor to hold descriptions of select-list items or input host variables.<a id="d71876e1584" class="indexterm-anchor"></a></p>
                        <p>If you supply a select descriptor, the <code class="codeph">DESCRIBE</code> <code class="codeph">SELECT</code> <code class="codeph">LIST</code> statement examines each select-list item in a <code class="codeph">PREPAREd</code> dynamic query to determine its name, datatype, constraints, length, scale, and precision. It then stores this information in the select descriptor.
                        </p>
                        <p>If you supply a bind descriptor, the <code class="codeph">DESCRIBE</code> <code class="codeph">BIND</code> <code class="codeph">VARIABLES</code> statement examines each placeholder in a <code class="codeph">PREPAREd</code> dynamic SQL statement to determine its name, length, and the datatype of its associated input host variable. It then stores this information in the bind descriptor for your use. For example, you might use placeholder names to prompt the user for the values of input host variables.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ZZPRE900"></a><div class="props_rev_3"><a id="GUID-094EB69B-E8A7-4ACA-BB74-BDEDA29C02D0" name="GUID-094EB69B-E8A7-4ACA-BB74-BDEDA29C02D0"></a><h4 id="ZZPRE-GUID-094EB69B-E8A7-4ACA-BB74-BDEDA29C02D0" class="sect4"><span class="enumeration_section">10.10.3 </span>What Is a SQLDA?
                  </h4>
                  <div>
                     <p>A SQLDA is a host-program data structure that holds descriptions of select-list items or input host variables.</p>
                     <p>SQLDA variables are <span class="italic">not</span> defined in the Declare Section.
                     </p>
                     <p>Though SQLDAs differ among host languages, a generic select SQLDA contains the following information about a query select list:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Maximum number of columns that can be described</p>
                        </li>
                        <li>
                           <p>Actual number of columns found by describe</p>
                        </li>
                        <li>
                           <p>Addresses of buffers to store column values</p>
                        </li>
                        <li>
                           <p>Lengths of column values</p>
                        </li>
                        <li>
                           <p>Datatypes of column values</p>
                        </li>
                        <li>
                           <p>addresses of indicator-variable values</p>
                        </li>
                        <li>
                           <p>Addresses of buffers to store column names</p>
                        </li>
                        <li>
                           <p>Sizes of buffers to store column names</p>
                        </li>
                        <li>
                           <p>Current lengths of column names</p>
                        </li>
                     </ul>
                     <p>A generic bind SQLDA contains the following information about the input host variables in a SQL statement:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Maximum number of placeholders that can be described</p>
                        </li>
                        <li>
                           <p>Actual number of placeholders found by describe</p>
                        </li>
                        <li>
                           <p>Addresses of input host variables</p>
                        </li>
                        <li>
                           <p>Lengths of input host variables</p>
                        </li>
                        <li>
                           <p>Datatypes of input host variables</p>
                        </li>
                        <li>
                           <p>Addresses of indicator variables</p>
                        </li>
                        <li>
                           <p>Addresses of buffers to store placeholder names</p>
                        </li>
                        <li>
                           <p>Sizes of buffers to store placeholder names</p>
                        </li>
                        <li>
                           <p>Current lengths of placeholder names</p>
                        </li>
                        <li>
                           <p>Addresses of buffers to store indicator-variable names</p>
                        </li>
                        <li>
                           <p>Sizes of buffers to store indicator-variable names</p>
                        </li>
                        <li>
                           <p>Current lengths of indicator-variable names</p>
                        </li>
                     </ul>
                     <p>To see the SQLDA structure and variable names in a particular host language, refer to your host-language supplement.</p>
                  </div>
               </div><a id="ZZPRE901"></a><div class="props_rev_3"><a id="GUID-62C89F8E-21BB-43A3-A3BE-D21A95DCF1D3" name="GUID-62C89F8E-21BB-43A3-A3BE-D21A95DCF1D3"></a><h4 id="ZZPRE-GUID-62C89F8E-21BB-43A3-A3BE-D21A95DCF1D3" class="sect4"><span class="enumeration_section">10.10.4 </span>Implementing Method 4
                  </h4>
                  <div>
                     <p>With Method 4, you generally use the following sequence of embedded SQL statements:</p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE statement_name
 FROM { :host_string | string_literal };
EXEC SQL DECLARE cursor_name CURSOR FOR statement_name;
EXEC SQL DESCRIBE BIND VARIABLES FOR statement_name
 INTO bind_descriptor_name;
EXEC SQL OPEN cursor_name
 [USING DESCRIPTOR bind_descriptor_name];
EXEC SQL DESCRIBE [SELECT LIST FOR] statement_name
 INTO select_descriptor_name;
EXEC SQL FETCH cursor_name
 USING DESCRIPTOR select_descriptor_name;
EXEC SQL CLOSE cursor_name;
</pre><p>Select and bind descriptors need not work in tandem. If the number of columns in a query select list is known, but the number of placeholders for input host variables is unknown, you can use the Method 4 <code class="codeph">OPEN</code> statement with the following Method 3 <code class="codeph">FETCH</code> statement:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH emp_cursor INTO host_variable_list;
</pre><p>Conversely, if the number of placeholders for input host variables is known, but the number of columns in the select list is unknown, you can use the following Method 3 <code class="codeph">OPEN</code> statement with the Method 4 <code class="codeph">FETCH</code> statement:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN cursor_name [USING host_variable_list];
</pre><p>Note that <code class="codeph">EXECUTE</code> can be used for nonqueries with Method 4.
                     </p>
                     <p>To learn how these statements allow your program to process dynamic SQL statements using descriptors, see your host-language supplement.</p>
                  </div>
               </div>
            </div><a id="ZZPRE902"></a><div class="props_rev_3"><a id="GUID-364E812E-312C-42BE-B0DA-7AC132EF46B8" name="GUID-364E812E-312C-42BE-B0DA-7AC132EF46B8"></a><h3 id="ZZPRE-GUID-364E812E-312C-42BE-B0DA-7AC132EF46B8" class="sect3"><span class="enumeration_section">10.11 </span>About Using the DECLARE STATEMENT Statement
               </h3>
               <div>
                  <p><a id="d71876e1788" class="indexterm-anchor"></a>With Methods 2, 3, and 4, you might need to use the statement
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL [AT db_name] DECLARE statement_name STATEMENT;
</pre><p>where <span class="italic">db_name</span> and <span class="italic">statement_name</span> are identifiers used by the precompiler, <span class="italic">not</span> host or program variables.
                  </p>
                  <p><code class="codeph">DECLARE</code> <code class="codeph">STATEMENT</code> declares the name of a dynamic SQL statement so that the statement can be referenced by <code class="codeph">PREPARE</code>, <code class="codeph">EXECUTE</code>, <code class="codeph">DECLARE</code> <code class="codeph">CURSOR</code>, and <code class="codeph">DESCRIBE</code>. It is <a id="d71876e1829" class="indexterm-anchor"></a>required if you want to execute the dynamic SQL statement at a nondefault database. An example using Method 2 follows:
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL AT remote_db DECLARE sql_stmt STATEMENT;
EXEC SQL PREPARE sql_stmt FROM :sql_string;
EXEC SQL EXECUTE sql_stmt;
</pre><p>In the example, <span class="italic">remote_db</span> tells Oracle where to <code class="codeph">EXECUTE</code> the SQL statement.
                  </p>
                  <p><a id="d71876e1845" class="indexterm-anchor"></a>With Methods <a id="d71876e1850" class="indexterm-anchor"></a>3 and <a id="d71876e1855" class="indexterm-anchor"></a>4, <code class="codeph">DECLARE</code> <code class="codeph">STATEMENT</code> is also required if the DECLARE <code class="codeph">CURSOR</code> statement precedes the PREPARE statement, as shown in the following example:
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE sql_stmt STATEMENT;
EXEC SQL DECLARE emp_cursor CURSOR FOR sql_stmt;
EXEC SQL PREPARE sql_stmt FROM :sql_string;
</pre><p>The usual sequence of statements is</p><pre class="oac_no_warn" dir="ltr">EXEC SQL PREPARE sql_stmt FROM :sql_string;
EXEC SQL DECLARE emp_cursor CURSOR FOR sql_stmt;
</pre></div><a id="ZZPRE903"></a><div class="props_rev_3"><a id="GUID-406CB08D-F866-43B6-9420-27AF3EFA288E" name="GUID-406CB08D-F866-43B6-9420-27AF3EFA288E"></a><h4 id="ZZPRE-GUID-406CB08D-F866-43B6-9420-27AF3EFA288E" class="sect4"><span class="enumeration_section">10.11.1 </span>Usage of Host Arrays
                  </h4>
                  <div>
                     <p><a id="d71876e1896" class="indexterm-anchor"></a><a id="d71876e1900" class="indexterm-anchor"></a>Usage of host arrays in static and dynamic SQL is similar. For example, to use input host arrays with dynamic SQL Method 2, use the syntax
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL EXECUTE statement_name USING host_array_list;
</pre><p>where <span class="italic">host_array_list</span> contains one or more host arrays. With Method 3, use the following syntax:
                     </p><pre class="oac_no_warn" dir="ltr">OPEN cursor_name USING host_array_list;
</pre><p>To use output host arrays with Method 3, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">FETCH cursor_name INTO host_array_list;
</pre><p>With Method 4, you must use the optional FOR clause to tell Oracle the size of your input or output host array. To learn how this is done, see your host-language supplement.</p>
                     <p></p>
                  </div>
               </div>
            </div><a id="ZZPRE904"></a><div class="props_rev_3"><a id="GUID-25F8ABB7-6A51-4C3A-9DE7-DF86E3E3AA6B" name="GUID-25F8ABB7-6A51-4C3A-9DE7-DF86E3E3AA6B"></a><h3 id="ZZPRE-GUID-25F8ABB7-6A51-4C3A-9DE7-DF86E3E3AA6B" class="sect3"><span class="enumeration_section">10.12 </span>About Using PL/SQL
               </h3>
               <div>
                  <p><a id="d71876e1943" class="indexterm-anchor"></a>The Oracle Precompilers treat a PL/SQL block like a single SQL statement. So, like a <a id="d71876e1946" class="indexterm-anchor"></a>SQL statement, a PL/SQL block can be stored in a string host variable or literal. When you store the PL/SQL block in the string, omit the keywords EXEC SQL <code class="codeph">EXECUTE</code>, the keyword END-EXEC, and the statement terminator.
                  </p>
                  <p>However, there are two differences in the way the precompiler handles SQL and PL/SQL:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The precompiler treats all PL/SQL host variables as <span class="italic">input</span> host variables whether they serve as input or output host variables (or both) inside the PL/SQL block.
                        </p>
                     </li>
                     <li>
                        <p>You cannot FETCH from a PL/SQL block because it might contain any number of SQL statements.</p>
                     </li>
                  </ul>
               </div><a id="ZZPRE905"></a><div class="props_rev_3"><a id="GUID-208024EB-90D7-4CAA-95BA-342240FBF1C7" name="GUID-208024EB-90D7-4CAA-95BA-342240FBF1C7"></a><h4 id="ZZPRE-GUID-208024EB-90D7-4CAA-95BA-342240FBF1C7" class="sect4"><span class="enumeration_section">10.12.1 </span>With Method 1
                  </h4>
                  <div>
                     <p><a id="d71876e1987" class="indexterm-anchor"></a>If the PL/SQL block contains no host variables, you can use Method 1 to <code class="codeph">EXECUTE</code> the PL/SQL string in the usual way.
                     </p>
                  </div>
               </div><a id="ZZPRE906"></a><div class="props_rev_3"><a id="GUID-3D0AF9F7-3851-469E-8F84-F1D07345F2D9" name="GUID-3D0AF9F7-3851-469E-8F84-F1D07345F2D9"></a><h4 id="ZZPRE-GUID-3D0AF9F7-3851-469E-8F84-F1D07345F2D9" class="sect4"><span class="enumeration_section">10.12.2 </span>With Method 2
                  </h4>
                  <div>
                     <p><a id="d71876e2016" class="indexterm-anchor"></a>If the PL/SQL block contains a known number of input and output host variables, you can use Method 2 to <code class="codeph">PREPARE</code> and <code class="codeph">EXECUTE</code> the PL/SQL string in the usual way.
                     </p>
                     <p>You must put <span class="italic">all</span> host variables in the USING clause. When the PL/SQL string is <code class="codeph">EXECUTEd</code>, host variables in the USING clause replace corresponding placeholders in the <code class="codeph">PREPAREd</code> string. Though the precompiler treats all PL/SQL host variables as input host variables, values are assigned correctly. Input (program) values are assigned to input host variables, and output (column) values are assigned to output host variables.
                     </p>
                     <p>Every placeholder in the <code class="codeph">PREPAREd</code> PL/SQL string must correspond to a host variable in the <code class="codeph">USING</code> clause. So, if the same placeholder appears two or more times in the <code class="codeph">PREPAREd</code> string, each appearance must correspond to a host variable in the USING clause.
                     </p>
                  </div>
               </div><a id="ZZPRE907"></a><div class="props_rev_3"><a id="GUID-60E80DC6-F288-4123-8DC6-DC363E25DA04" name="GUID-60E80DC6-F288-4123-8DC6-DC363E25DA04"></a><h4 id="ZZPRE-GUID-60E80DC6-F288-4123-8DC6-DC363E25DA04" class="sect4"><span class="enumeration_section">10.12.3 </span>With Method 3
                  </h4>
                  <div>
                     <p><a id="d71876e2071" class="indexterm-anchor"></a>Methods 2 and 3 are the same except that Method 3 allows <code class="codeph">FETCHing</code>. Since you cannot <code class="codeph">FETCH</code> from a PL/SQL block, use Method 2 instead.
                     </p>
                  </div>
               </div><a id="ZZPRE908"></a><div class="props_rev_3"><a id="GUID-8A644727-9074-424E-AF79-AA6603091DA3" name="GUID-8A644727-9074-424E-AF79-AA6603091DA3"></a><h4 id="ZZPRE-GUID-8A644727-9074-424E-AF79-AA6603091DA3" class="sect4"><span class="enumeration_section">10.12.4 </span>With Method 4
                  </h4>
                  <div>
                     <p><a id="d71876e2103" class="indexterm-anchor"></a>If the PL/SQL block contains an unknown number of input or output host variables, you must use Method 4.
                     </p>
                     <p>To use Method 4, you set up one bind descriptor for all the input and output host variables. Executing <code class="codeph">DESCRIBE</code> <code class="codeph">BIND</code> <code class="codeph">VARIABLES</code> stores information about input <span class="italic">and</span> output host variables in the bind descriptor. Because the precompiler treats all PL/SQL host variables as input host variables, executing <code class="codeph">DESCRIBE</code> <code class="codeph">SELECT</code> <code class="codeph">LIST</code> has no effect.
                     </p>
                     <p>The use of bind descriptors with Method 4 is detailed in your host-language supplement.</p>
                     <div class="infoboxnote" id="GUID-8A644727-9074-424E-AF79-AA6603091DA3__GUID-7EAD97A0-939E-447A-B096-27A0121065AB">
                        <p class="notep1">Note:</p>
                        <p> In dynamic SQL Method 4, a host array cannot be bound to a PL/SQL procedure with a parameter of type "table."</p>
                     </div>
                  </div>
               </div><a id="ZZPRE909"></a><div class="props_rev_3"><a id="GUID-F12F7699-0216-407A-8DED-A3F068C839A6" name="GUID-F12F7699-0216-407A-8DED-A3F068C839A6"></a><h4 id="ZZPRE-GUID-F12F7699-0216-407A-8DED-A3F068C839A6" class="sect4"><span class="enumeration_section">10.12.5 </span>Caution
                  </h4>
                  <div>
                     <p><a id="d71876e2158" class="indexterm-anchor"></a>Do not use ANSI-style comments (- - ...) in a PL/SQL block that will be processed dynamically because end-of-line characters are ignored. As a result, ANSI-style comments extend to the end of the block, not just to the end of a line. Instead, use C-style comments (/* ... */).
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00673.transformation-and-validation-of-XMLType-data.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="There are several Oracle SQL functions and XMLType APIs for transforming XMLType data using XSLT stylesheets and for validating XMLType instances against an XML schema.">
      <meta name="description" content="There are several Oracle SQL functions and XMLType APIs for transforming XMLType data using XSLT stylesheets and for validating XMLType instances against an XML schema.">
      <title>Transformation and Validation of XMLType Data</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="There are several Oracle SQL functions and XMLType APIs for transforming XMLType data using XSLT stylesheets and for validating XMLType instances against an XML schema.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="indexes-for-XMLType-data.html" title="Previous" type="text/html">
      <link rel="next" href="relational-data-to-and-from-XML-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="indexes-for-XMLType-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="relational-data-to-and-from-XML-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manipulation-of-XML-in-XML-DB.html" property="item" typeof="WebPage"><span property="name"> Manipulation of XML Data in Oracle XML&nbsp;DB</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Transformation and Validation of XMLType Data</li>
            </ol>
            <a id="GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" name="GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7"></a><a id="ADXDB0900"></a>
            
            <h2 id="ADXDB-GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" class="sect2"><span class="enumeration_chapter">7 </span> Transformation and Validation of XMLType Data
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>There are several Oracle SQL functions and <code class="codeph">XMLType</code> APIs for transforming <code class="codeph">XMLType</code> data using XSLT stylesheets and for validating <code class="codeph">XMLType</code> instances against an XML schema.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D">XSL Transformation and Oracle XML&nbsp;DB</a><br>You can apply XSL transformations to XML Schema-based documents using the built-in Oracle XML&nbsp;DB XSLT processor. In-database XML-specific optimizations can significantly reduce the memory required, eliminate the overhead associated with parsing, and reduce network traffic.
                  </li>
                  <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50">Validation of XMLType Instances</a><br>Besides needing to know whether a particular XML document is well-formed, you often need to know whether it conforms to a given XML schema, that is, whether it is valid with respect to that XML schema.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="manipulation-of-XML-in-XML-DB.html#GUID-87C758D5-5792-483D-8894-4C01FCD2A8A0" title="The following are covered here: XQuery, XMLType operations, and indexing of XML data.">Manipulation of XML Data in Oracle XML&nbsp;DB</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB4172"></a><a id="ADXDB4171"></a><div class="props_rev_3"><a id="GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D" name="GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D"></a><h3 id="ADXDB-GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D" class="sect3"><span class="enumeration_section">7.1 </span>XSL Transformation and Oracle XML&nbsp;DB
               </h3>
               <div>
                  <p>You can apply XSL transformations to XML Schema-based documents using the built-in Oracle XML&nbsp;DB XSLT processor. In-database XML-specific optimizations can significantly reduce the memory required, eliminate the overhead associated with parsing, and reduce network traffic.</p>
                  <p>The W3C XSLT Recommendation defines an XML language for specifying how to transform XML documents from one form to another. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=w3_org_tr_xslt" target="_blank"><code class="codeph">http://www.w3.org/TR/xslt</code></a> for information about the XSLT standard.
                  </p>
                  <p>Transformation can include mapping from one XML schema to another or mapping from XML to some other format such as HTML or WML. </p>
                  <p>XSL transformation can be costly in terms of the amount of memory and processing required. In typical XSL processors, the entire source document and stylesheet must be parsed and loaded into memory, before processing can begin. Typically, XSL processors use DOM to provide dynamic memory representations of document and stylesheet, to allow random access to their different parts. The XSL processor then applies the stylesheet to the source document, generating a third document. </p>
                  <p>Parsing and loading the document and stylesheet into memory before beginning transformation requires significant memory and processor resources. It is especially inefficient when only a small part of the document needs to be transformed.</p>
                  <p>Oracle XML&nbsp;DB includes an XSLT processor that performs XSL transformations <span class="italic">inside the database</span>. In this way, it can provide XML-specific optimizations that can significantly reduce the memory required to perform the transformation, eliminate overhead associated with parsing, and reduce network traffic. 
                  </p>
                  <p>These optimizations are available, however, <span class="italic">only</span> when the source for the transformation is a <span class="italic">schema-based</span> XML document. In that case, there is no need to parse before processing can begin. The Oracle XML&nbsp;DB lazily loaded virtual DOM loads content only on demand, as the nodes are accessed. This also reduces the memory required, because only parts of the document that need to be processed are loaded. 
                  </p>
                  <p>You can transform XML data in the following ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>In Oracle Database &#x2013; Using Oracle SQL function <code class="codeph">XMLtransform</code>, <code class="codeph">XMLType</code> method <code class="codeph">transform()</code>, or PL/SQL package <code class="codeph">DBMS_XSLPROCESSOR</code></p>
                     </li>
                     <li>
                        <p>In the middle tier &#x2013; Using Oracle XML Developer's Kit transformation options , such as XSLT Processor for Java.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D__GUID-EF4E8E76-0AB6-4F9D-90FA-750FD31F6442">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=SQLRF06171" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about SQL function <code class="codeph">XMLTransform</code></p>
                        </li>
                        <li>
                           <p><a href="PLSQL-APIs-for-XMLType.html#GUID-0E3358AF-0819-4B17-AF0B-793E96DA5EB9" title="You can use PL/SQL package DBMS_XSLPROCESSOR to transform one XML document to another or to convert XML data into HTML, PDF, or other formats. This package traverses the DOM tree for the document and applies Extensible Stylesheet Language Transformation (XSLT) statements to it to produce the transformed document.">PL/SQL XSLT Processor for XMLType (DBMS_XSLPROCESSOR)</a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ARPLS379" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about PL/SQL package <code class="codeph">DBMS_XSLPROCESSOR</code></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=ADXDK19222" target="_blank"><span><cite>Oracle XML Developer's Kit Programmer's Guide</cite></span></a> for information about XSLT Processor for Java
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>Each of these XML transformation methods takes as input a source XML document and an XSL stylesheet in the form of <code class="codeph">XMLType</code> instances. For SQL function <code class="codeph">XMLtransform</code> and <code class="codeph">XMLType</code> method <code class="codeph">transform()</code>, the result of the transformation can be an XML document or a non-XML document, such as HTML. However, for PL/SQL package <code class="codeph">DBMS_XSLPROCESSOR</code>, the result of the transformation is expected to be a valid XML document. Any HTML data generated by a transformation using package <code class="codeph">DBMS_XSLPROCESSOR</code> is XHTML data, which is both valid XML data and valid HTML data.
                  </p>
                  <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D__BJFCGIFJ">Example 7-1</a> shows part of an XSLT stylesheet, <code class="codeph">PurchaseOrder.xsl</code>. The complete stylesheet is given in <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-7593BF83-2C00-477D-8973-C070253C4456" title="The full listing is presented of XSLT stylesheet PurchaseOrder.xsl, which is used in various examples.">XSLT Stylesheet Example, PurchaseOrder.xsl</a>.
                  </p>
                  <p>These is nothing Oracle XML&nbsp;DB-specific about the stylesheet of <a href="transformation-and-validation-of-XMLType-data.html#GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D__BJFCGIFJ">Example 7-1</a>. A stylesheet can be stored in an <code class="codeph">XMLType</code> table or column or stored as non-schema-based XML data inside Oracle XML&nbsp;DB Repository.
                  </p>
                  <div class="example" id="GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D__BJFCGIFJ">
                     <p class="titleinexample">Example 7-1 XSLT Stylesheet Example: PurchaseOrder.xsl</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="WINDOWS-1252"?&gt;
&lt;xsl:stylesheet version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:xdb="http://xmlns.oracle.com/xdb" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;xsl:template match="/"&gt;
    &lt;html&gt;
      &lt;head/&gt;
      &lt;body bgcolor="#003333" text="#FFFFCC" link="#FFCC00" vlink="#66CC99" alink="#669999"&gt;
        &lt;FONT FACE="Arial, Helvetica, sans-serif"&gt;
          &lt;xsl:for-each select="PurchaseOrder"/&gt;
          &lt;xsl:for-each select="PurchaseOrder"&gt;
            &lt;center&gt;
              &lt;span style="font-family:Arial; font-weight:bold"&gt;
                &lt;FONT COLOR="#FF0000"&gt;
                  &lt;B&gt;PurchaseOrder &lt;/B&gt;
                &lt;/FONT&gt;
              &lt;/span&gt;
            &lt;/center&gt;
            &lt;br/&gt;
            &lt;center&gt;
              &lt;xsl:for-each select="Reference"&gt;
                &lt;span style="font-family:Arial; font-weight:bold"&gt;
                  &lt;xsl:apply-templates/&gt;
                &lt;/span&gt;
              &lt;/xsl:for-each&gt;
            &lt;/center&gt;
          &lt;/xsl:for-each&gt;
          &lt;P&gt;
            &lt;xsl:for-each select="PurchaseOrder"&gt;
              &lt;br/&gt;
            &lt;/xsl:for-each&gt;
            &lt;P/&gt;
            &lt;P&gt;
              &lt;xsl:for-each select="PurchaseOrder"&gt;
                &lt;br/&gt;
              &lt;/xsl:for-each&gt;
            &lt;/P&gt;
          &lt;/P&gt;
          &lt;xsl:for-each select="PurchaseOrder"/&gt;
          &lt;xsl:for-each select="PurchaseOrder"&gt;
            &lt;table border="0" width="100%" BGCOLOR="#000000"&gt;
              &lt;tbody&gt;
                &lt;tr&gt;
                  &lt;td WIDTH="296"&gt;
                    &lt;P&gt;
                      &lt;B&gt;
                        &lt;FONT SIZE="+1" COLOR="#FF0000" FACE="Arial, Helvetica, sans-serif"&gt;Internal&lt;/FONT&gt;
                      &lt;/B&gt;
                    &lt;/P&gt;

                    <span class="bold">...</span>

                  &lt;/td&gt;
                  &lt;td width="93"/&gt;
                  &lt;td valign="top" WIDTH="340"&gt;
                    &lt;B&gt;
                      &lt;FONT COLOR="#FF0000"&gt;
                        &lt;FONT SIZE="+1"&gt;Ship To&lt;/FONT&gt;
                      &lt;/FONT&gt;
                    &lt;/B&gt;
                    &lt;xsl:for-each select="ShippingInstructions"&gt;
                      &lt;xsl:if test="position()=1"/&gt;
                    &lt;/xsl:for-each&gt;
                    &lt;xsl:for-each select="ShippingInstructions"&gt;
                    &lt;/xsl:for-each&gt;
 
                      <span class="bold">...</span>
</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8">SQL Function XMLTRANSFORM and XMLType Method TRANSFORM()</a><br>SQL function <code class="codeph">XMLtransform</code> transforms an XML document by using an XSLT stylesheet. It returns the processed output as XML, HTML, and so on, as specified by the stylesheet.
                     </li>
                     <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF">XSL Transformation Using DBUri Servlet</a><br>You can apply an XSL transformation to XML content that is generated by the DBUri servlet.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" title="There are several Oracle SQL functions and XMLType APIs for transforming XMLType data using XSLT stylesheets and for validating XMLType instances against an XML schema.">Transformation and Validation of XMLType Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4722"></a><a id="ADXDB4723"></a><a id="ADXDB4721"></a><div class="props_rev_3"><a id="GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8" name="GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8"></a><h4 id="ADXDB-GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8" class="sect4"><span class="enumeration_section">7.1.1 </span>SQL Function XMLTRANSFORM and XMLType Method TRANSFORM()
                  </h4>
                  <div>
                     <p>SQL function <code class="codeph">XMLtransform</code> transforms an XML document by using an XSLT stylesheet. It returns the processed output as XML, HTML, and so on, as specified by the stylesheet.
                     </p>
                     <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8__I1026954">Figure 7-1</a> shows the syntax of Oracle SQL function <code class="codeph">XMLtransform</code>. This function takes as arguments an <code class="codeph">XMLType</code> instance and an XSLT stylesheet. The stylesheet can be an <code class="codeph">XMLType</code> instance or a <code class="codeph">VARCHAR2</code> string literal. It applies the stylesheet to the instance and returns an <code class="codeph">XMLType</code> instance.
                     </p>
                     <div class="figure" id="GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8__I1026954">
                        <p class="titleinfigure">Figure 7-1 XMLTRANSFORM Syntax</p><img src="img/xmltransform.gif" width="391" alt="Description of Figure 7-1 follows" title="Description of Figure 7-1 follows" longdesc="img_text/xmltransform.html"><br><a href="img_text/xmltransform.html">Description of "Figure 7-1 XMLTRANSFORM Syntax"</a></div>
                     <!-- class="figure" -->
                     <p>You can alternatively use <code class="codeph">XMLType</code> method <code class="codeph">transform()</code> as an alternative to Oracle SQL function <code class="codeph">XMLtransform</code>. It has the same functionality.
                     </p>
                     <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8__I1026237">Figure 7-2</a> shows how <code class="codeph">XMLtransform</code> transforms an XML document by using an XSLT stylesheet. It returns the processed output as XML, HTML, and so on, as specified by the XSLT stylesheet. You typically use <code class="codeph">XMLtransform</code> when retrieving or generating XML documents stored as <code class="codeph">XMLType</code> in the database. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8__GUID-D322B013-B74D-40C1-90A9-9A4D54B532F9">
                        <p class="notep1">See Also:</p>
                        <p><a href="intro-to-XML-DB.html#GUID-43B25825-FE37-4782-B627-8B2EFB44068D__BABCJCII">Figure 1-3</a> in <a href="intro-to-XML-DB.html#GUID-A8E97BAC-3685-46C8-8FD9-3D31D36F9344" title="Oracle XML&nbsp;DB provides Oracle Database with native XML support by encompassing both the SQL and XML data models in an interoperable way."> Introduction to Oracle XML&nbsp;DB</a></p>
                     </div>
                     <div class="figure" id="GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8__I1026237">
                        <p class="titleinfigure">Figure 7-2 Using XMLTRANSFORM</p><img src="img/adxdb008.png" width="405" alt="Description of Figure 7-2 follows" title="Description of Figure 7-2 follows" longdesc="img_text/adxdb008.html"><br><a href="img_text/adxdb008.html">Description of "Figure 7-2 Using XMLTRANSFORM"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091">XMLTRANSFORM and XMLType.transform(): Examples</a><br>Examples illustrate how to use Oracle SQL function <code class="codeph">XMLtransform</code> and <code class="codeph">XMLType</code> method <code class="codeph">transform()</code> to transform XML data stored as <code class="codeph">XMLType</code> to various formats. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D" title="You can apply XSL transformations to XML Schema-based documents using the built-in Oracle XML&nbsp;DB XSLT processor. In-database XML-specific optimizations can significantly reduce the memory required, eliminate the overhead associated with parsing, and reduce network traffic.">XSL Transformation and Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4725"></a><a id="ADXDB4726"></a><a id="ADXDB4728"></a><a id="ADXDB4173"></a><a id="ADXDB4724"></a><div class="props_rev_3"><a id="GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091" name="GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091"></a><h5 id="ADXDB-GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091" class="sect5"><span class="enumeration_section">7.1.1.1 </span>XMLTRANSFORM and XMLType.transform(): Examples
                     </h5>
                     <div>
                        <p>Examples illustrate how to use Oracle SQL function <code class="codeph">XMLtransform</code> and <code class="codeph">XMLType</code> method <code class="codeph">transform()</code> to transform XML data stored as <code class="codeph">XMLType</code> to various formats. 
                        </p>
                        <div class="section">
                           <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__CFHJDEJE">Example 7-2</a> sets up an XML schema and tables that are needed to run other examples in this chapter. The call to <code class="codeph">deleteSchema</code> here ensures that there is no existing XML schema before creating one. If no such schema exists, then <code class="codeph">deleteSchema</code> raises an error.
                           </p>
                           <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__I1027535">Example 7-3</a> stores an XSLT stylesheet, then retrieves it and uses it with Oracle SQL function <code class="codeph">XMLTransform</code> to transform the XML data stored in <a href="transformation-and-validation-of-XMLType-data.html#GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__CFHJDEJE">Example 7-2</a>.
                           </p>
                           <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__CFHGHGJI">Example 7-4</a> uses <code class="codeph">XMLType</code> method <code class="codeph">transform()</code> with an XSL stylesheet created on the fly.
                           </p>
                           <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__BJFJJDIB">Example 7-5</a> uses <code class="codeph">XMLTransform</code> to apply an XSL stylesheet to produce HTML code. PL/SQL constructor <code class="codeph">XDBURIType</code> reads the XSL stylesheet from Oracle XML&nbsp;DB Repository.
                           </p>
                           <p>Only part of the HTML result is shown in <a href="transformation-and-validation-of-XMLType-data.html#GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__BJFJJDIB">Example 7-5</a>. Omitted parts are indicated with an ellipsis (<span class="bold"><code class="codeph">. . .</code></span>). <a href="transformation-and-validation-of-XMLType-data.html#GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF__BABJGIGH">Figure 7-3</a> shows what the transformed result looks like in a Web browser.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__CFHJDEJE">
                           <p class="titleinexample">Example 7-2 Registering an XML Schema and Inserting XML Data</p><pre class="oac_no_warn" dir="ltr">BEGIN
  -- Delete the schema, if it already exists.
  DBMS_XMLSCHEMA.deleteSchema('http://www.example.com/schemas/ipo.xsd',4);
END;
/
BEGIN
  -- Register the schema
  DBMS_XMLSCHEMA.registerSchema(
    SCHEMAURL =&gt; 'http://www.example.com/schemas/ipo.xsd',
    SCHEMADOC =&gt; '&lt;schema targetNamespace="http://www.example.com/IPO"
                          xmlns="http://www.w3.org/2001/XMLSchema"
                          xmlns:ipo="http://www.example.com/IPO"&gt;
                    &lt;!-- annotation&gt;
                      &lt;documentation xml:lang="en"&gt;
                       International Purchase order schema for Example.com
                       Copyright 2000 Example.com. All rights reserved.
                      &lt;/documentation&gt;
                    &lt;/annotation --&gt;
                    &lt;element name="purchaseOrder" type="ipo:PurchaseOrderType"/&gt;
                    &lt;element name="comment" type="string"/&gt;
                    &lt;complexType name="PurchaseOrderType"&gt;
                      &lt;sequence&gt;
                        &lt;element name="shipTo"     type="ipo:Address"/&gt;
                        &lt;element name="billTo"     type="ipo:Address"/&gt;
                        &lt;element ref="ipo:comment" minOccurs="0"/&gt;
                        &lt;element name="items"      type="ipo:Items"/&gt;
                      &lt;/sequence&gt;
                      &lt;attribute name="orderDate" type="date"/&gt;
                    &lt;/complexType&gt;
                    &lt;complexType name="Items"&gt;
                      &lt;sequence&gt;
                        &lt;element name="item" minOccurs="0" maxOccurs="unbounded"&gt;
                          &lt;complexType&gt;
                            &lt;sequence&gt;
                              &lt;element name="productName" type="string"/&gt;
                              &lt;element name="quantity"&gt;
                                &lt;simpleType&gt;
                                  &lt;restriction base="positiveInteger"&gt;
                                    &lt;maxExclusive value="100"/&gt;
                                  &lt;/restriction&gt;
                                &lt;/simpleType&gt;
                              &lt;/element&gt;
                              &lt;element name="USPrice"    type="decimal"/&gt;
                              &lt;element ref="ipo:comment" minOccurs="0"/&gt;
                              &lt;element name="shipDate"   type="date" minOccurs="0"/&gt;
                            &lt;/sequence&gt;
                            &lt;attribute name="partNum" type="ipo:SKU" use="required"/&gt;
                          &lt;/complexType&gt;
                        &lt;/element&gt;
                      &lt;/sequence&gt;
                    &lt;/complexType&gt;
                    &lt;complexType name="Address"&gt;
                      &lt;sequence&gt;
                        &lt;element name="name"    type="string"/&gt;
                        &lt;element name="street"  type="string"/&gt;
                        &lt;element name="city"    type="string"/&gt;
                        &lt;element name="state"   type="string"/&gt;
                        &lt;element name="country" type="string"/&gt;
                        &lt;element name="zip"     type="string"/&gt;
                      &lt;/sequence&gt;
                    &lt;/complexType&gt;
                    &lt;simpleType name="SKU"&gt;
                      &lt;restriction base="string"&gt;
                        &lt;pattern value="[0-9]{3}-[A-Z]{2}"/&gt;
                      &lt;/restriction&gt;
                    &lt;/simpleType&gt;
                  &lt;/schema&gt;',
    LOCAL     =&gt; TRUE,
    GENTYPES  =&gt; TRUE);
END;
/

-- Create table to hold XML purchase-order documents, and insert the documents
DROP TABLE po_tab;
CREATE TABLE po_tab (id NUMBER, xmlcol XMLType) 
 XMLType COLUMN xmlcol
 XMLSCHEMA "http://www.example.com/schemas/ipo.xsd"
 ELEMENT "purchaseOrder";

INSERT INTO po_tab 
  VALUES(1, XMLType(
              '&lt;?xml version="1.0"?&gt;
               &lt;ipo:purchaseOrder
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xmlns:ipo="http://www.example.com/IPO"
                 xsi:schemaLocation="http://www.example.com/IPO
                                     http://www.example.com/schemas/ipo.xsd"
                 orderDate="1999-12-01"&gt;
                 &lt;shipTo&gt;
                   &lt;name&gt;Helen Zoe&lt;/name&gt;
                   &lt;street&gt;121 Broadway&lt;/street&gt;
                   &lt;city&gt;Cardiff&lt;/city&gt;
                   &lt;state&gt;Wales&lt;/state&gt;
                   &lt;country&gt;UK&lt;/country&gt;
                   &lt;zip&gt;CF2 1QJ&lt;/zip&gt;
                 &lt;/shipTo&gt;
                 &lt;billTo&gt;
                   &lt;name&gt;Robert Smith&lt;/name&gt;
                   &lt;street&gt;8 Oak Avenue&lt;/street&gt;
                   &lt;city&gt;Old Town&lt;/city&gt;
                   &lt;state&gt;CA&lt;/state&gt;
                   &lt;country&gt;US&lt;/country&gt;
                   &lt;zip&gt;95819&lt;/zip&gt;
                 &lt;/billTo&gt;
                 &lt;items&gt;
                   &lt;item partNum="833-AA"&gt;
                     &lt;productName&gt;Lapis necklace&lt;/productName&gt;
                     &lt;quantity&gt;1&lt;/quantity&gt;
                     &lt;USPrice&gt;99.95&lt;/USPrice&gt;
                     &lt;ipo:comment&gt;Want this for the holidays!&lt;/ipo:comment&gt;
                     &lt;shipDate&gt;1999-12-05&lt;/shipDate&gt;
                   &lt;/item&gt;
                 &lt;/items&gt;
               &lt;/ipo:purchaseOrder&gt;'));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__I1027535">
                           <p class="titleinexample">Example 7-3 Using SQL Function XMLTRANSFORM to Apply an XSL Stylesheet</p><pre class="oac_no_warn" dir="ltr">DROP TABLE stylesheet_tab;
CREATE TABLE stylesheet_tab (id NUMBER, stylesheet XMLType);
INSERT INTO stylesheet_tab 
  VALUES (1, 
          XMLType(
            '&lt;?xml version="1.0" ?&gt;
             &lt;xsl:stylesheet version="1.0" 
                             xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
               &lt;xsl:template match="*"&gt;
                 &lt;td&gt;
                   &lt;xsl:choose&gt;
                     &lt;xsl:when test="count(child::*) &gt; 1"&gt;
                       &lt;xsl:call-template name="nested"/&gt;
                     &lt;/xsl:when&gt;
                     &lt;xsl:otherwise&gt;
                       &lt;xsl:value-of select="name(.)"/&gt;:&lt;xsl:value-of 
                                                          select="text()"/&gt;
                     &lt;/xsl:otherwise&gt;
                   &lt;/xsl:choose&gt;
                 &lt;/td&gt;
               &lt;/xsl:template&gt;
               &lt;xsl:template match="*" name="nested" priority="-1" mode="nested2"&gt;
                 &lt;b&gt;
                   &lt;!-- xsl:value-of select="count(child::*)"/ --&gt;
                   &lt;xsl:choose&gt;
                     &lt;xsl:when test="count(child::*) &gt; 1"&gt;
                       &lt;xsl:value-of select="name(.)"/&gt;:&lt;xsl:apply-templates 
                                                          mode="nested2"/&gt;
                     &lt;/xsl:when&gt;
                     &lt;xsl:otherwise&gt;
                       &lt;xsl:value-of select="name(.)"/&gt;:&lt;xsl:value-of 
                                                          select="text()"/&gt;
                     &lt;/xsl:otherwise&gt;
                   &lt;/xsl:choose&gt;
                 &lt;/b&gt;
               &lt;/xsl:template&gt;
             &lt;/xsl:stylesheet&gt;'));

SELECT XMLSerialize(DOCUMENT <span class="bold">XMLtransform</span>(x.xmlcol, y.stylesheet)
                    AS VARCHAR2(1000))
  AS result FROM po_tab x, stylesheet_tab y WHERE y.id = 1;
</pre><p>This produces the following output (pretty-printed here for readability):</p><pre class="oac_no_warn" dir="ltr">RESULT
---------------------------------------------------------
&lt;td&gt;
  &lt;b&gt;ipo:purchaseOrder:
    &lt;b&gt;shipTo:
      &lt;b&gt;name:Helen Zoe&lt;/b&gt;
      &lt;b&gt;street:100 Broadway&lt;/b&gt;
      &lt;b&gt;city:Cardiff&lt;/b&gt;
      &lt;b&gt;state:Wales&lt;/b&gt;
      &lt;b&gt;country:UK&lt;/b&gt;
      &lt;b&gt;zip:CF2 1QJ&lt;/b&gt;
    &lt;/b&gt;
    &lt;b&gt;billTo:
      &lt;b&gt;name:Robert Smith&lt;/b&gt;
      &lt;b&gt;street:8 Oak Avenue&lt;/b&gt;
      &lt;b&gt;city:Old Town&lt;/b&gt;
      &lt;b&gt;state:CA&lt;/b&gt;
      &lt;b&gt;country:US&lt;/b&gt;
      &lt;b&gt;zip:95819&lt;/b&gt;
    &lt;/b&gt;
    &lt;b&gt;items:&lt;/b&gt;
  &lt;/b&gt;
&lt;/td&gt;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__CFHGHGJI">
                           <p class="titleinexample">Example 7-4 Using XMLType Method TRANSFORM() with a Transient XSL Stylesheet</p><pre class="oac_no_warn" dir="ltr">SELECT XMLSerialize(
         DOCUMENT
         x.xmlcol.<span class="bold">transform</span>(
           XMLType('&lt;?xml version="1.0" ?&gt;
                  &lt;xsl:stylesheet
                      version="1.0"
                      xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
                    &lt;xsl:template match="*"&gt;
                      &lt;td&gt;
                        &lt;xsl:choose&gt;
                          &lt;xsl:when test="count(child::*) &gt; 1"&gt;
                            &lt;xsl:call-template name="nested"/&gt;
                          &lt;/xsl:when&gt;
                          &lt;xsl:otherwise&gt;
                            &lt;xsl:value-of
                               select =
                                 "name(.)"/&gt;:&lt;xsl:value-of select="text()"/&gt;
                          &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                      &lt;/td&gt;
                    &lt;/xsl:template&gt;
                    &lt;xsl:template match="*" name="nested" priority="-1"
                                  mode="nested2"&gt;
                      &lt;b&gt;
                        &lt;!-- xsl:value-of select="count(child::*)"/ --&gt;
                        &lt;xsl:choose&gt;
                          &lt;xsl:when test="count(child::*) &gt; 1"&gt;
                            &lt;xsl:value-of select="name(.)"/&gt;:
                            &lt;xsl:apply-templates mode="nested2"/&gt;
                          &lt;/xsl:when&gt;
                          &lt;xsl:otherwise&gt;
                            &lt;xsl:value-of
                               select =
                                 "name(.)"/&gt;:&lt;xsl:value-of select="text()"/&gt;
                          &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                      &lt;/b&gt;
                    &lt;/xsl:template&gt;
                  &lt;/xsl:stylesheet&gt;'))
         AS varchar2(1000))
  FROM po_tab x;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-8AC216AA-45F5-43F1-8E0E-0A85021E7091__BJFJJDIB">
                           <p class="titleinexample">Example 7-5 Using XMLTRANSFORM to Apply an XSL Stylesheet Retrieved Using XDBURIType</p><pre class="oac_no_warn" dir="ltr">SELECT
  <span class="bold">XMLTransform</span>(
    OBJECT_VALUE, 
    <span class="bold">XDBURIType</span>('/source/schemas/poSource/xsl/purchaseOrder.xsl').getXML())
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");
 
XMLTRANSFORM(OBJECT_VALUE, XDBURITYPE('/SOURCE/SCHEMAS/POSOURCE/XSL/PURCHASEORDER.XSL').GET
---------------------------------------------------------------------------------------------
&lt;html xmlns:xdb="http://xmlns.oracle.com/xdb"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;head/&gt;
  &lt;body bgcolor="#003333" text="#FFFFCC" link="#FFCC00" vlink="#66CC99" alink="#669999"&gt;
    &lt;FONT FACE="Arial, Helvetica, sans-serif"&gt;
      &lt;center&gt;
        &lt;span style="font-family:Arial; font-weight:bold"&gt;
          &lt;FONT COLOR="#FF0000"&gt;
            &lt;B&gt;PurchaseOrder &lt;/B&gt;
          &lt;/FONT&gt;
        &lt;/span&gt;
      &lt;/center&gt;
      &lt;br/&gt;
      &lt;center&gt;
        &lt;span style="font-family:Arial; font-weight:bold"&gt;SBELL-2002100912333601PDT&lt;/span&gt;
      &lt;/center&gt;
      &lt;P&gt;
        &lt;br/&gt;
        &lt;P/&gt;
        &lt;P&gt;
          &lt;br/&gt;
        &lt;/P&gt;
      &lt;/P&gt;
      &lt;table border="0" width="100%" BGCOLOR="#000000"&gt;
        &lt;tbody&gt;
          &lt;tr&gt;
            &lt;td WIDTH="296"&gt;
              &lt;P&gt;
                &lt;B&gt;
                  &lt;FONT SIZE="+1" COLOR="#FF0000" FACE="Arial, Helvetica,
                        sans-serif"&gt;Internal&lt;/FONT&gt;
                &lt;/B&gt;
              &lt;/P&gt;
              &lt;table border="0" width="98%" BGCOLOR="#000099"&gt;</pre><pre class="oac_no_warn" dir="ltr"><span class="bold">                                                     . . .</span></pre><pre class="oac_no_warn" dir="ltr">              &lt;/table&gt;
            &lt;/td&gt;
            &lt;td width="93"&gt;
            &lt;/td&gt;
            &lt;td valign="top" WIDTH="340"&gt;
              &lt;B&gt;
                &lt;FONT COLOR="#FF0000"&gt;
                  &lt;FONT SIZE="+1"&gt;Ship To&lt;/FONT&gt;
                &lt;/FONT&gt;
              &lt;/B&gt;
              &lt;table border="0" BGCOLOR="#999900"&gt;
                <span class="bold">. . .</span>
              &lt;/table&gt;
            &lt;/td&gt;
          &lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
      &lt;br/&gt;
      &lt;B&gt;
        &lt;FONT COLOR="#FF0000" SIZE="+1"&gt;Items:&lt;/FONT&gt;
      &lt;/B&gt;
      &lt;br/&gt;
      &lt;br/&gt;
      &lt;table border="0"&gt;
        <span class="bold">. . .</span>
      &lt;/table&gt;
    &lt;/FONT&gt;
  &lt;/body&gt;
&lt;/html&gt;
 
1 row selected.</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-9E65513C-C113-4EA1-8511-462AC3EEE2D8" title="SQL function XMLtransform transforms an XML document by using an XSLT stylesheet. It returns the processed output as XML, HTML, and so on, as specified by the stylesheet.">SQL Function XMLTRANSFORM and XMLType Method TRANSFORM()</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDB4227"></a><a id="ADXDB4228"></a><a id="ADXDB4226"></a><div class="props_rev_3"><a id="GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF" name="GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF"></a><h4 id="ADXDB-GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF" class="sect4"><span class="enumeration_section">7.1.2 </span>XSL Transformation Using DBUri Servlet
                  </h4>
                  <div>
                     <p>You can apply an XSL transformation to XML content that is generated by the DBUri servlet.</p>
                     <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF__BABJGIGH">Figure 7-3</a> shows the result of such a transformation. The URL is the following (it is split and truncated here):
                     </p><pre class="pre codeblock"><code>http://localhost:8080/oradb/SCOTT/PURCHASEORDER/ROW/PurchaseOrder[Reference="SBELL-2003030912333601PDT"]
contenttype=text/html&amp;<span class="bold">transform=/home/SCOTT/xsl/purchaseOrder.xsl</span>...
</code></pre><p>The presence of parameter <code class="codeph">transform</code> causes the DBUri servlet to use SQL function <code class="codeph">XMLTransform</code> to apply the XSL stylesheet at <code class="codeph">/home/SCOTT/xsl/purchaseOrder.xsl</code> to the <code class="codeph">PurchaseOrder</code> document that is identified by the main URL. The result of the transformation, which is HTML code, is returned to the browser for display. The URL also uses parameter <code class="codeph">contentType</code> to specify that the MIME-type of the final document is <code class="codeph">text/html</code>.
                     </p>
                     <div class="figure" id="GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF__BABJGIGH">
                        <p class="titleinfigure">Figure 7-3 Database XSL Transformation of a PurchaseOrder Using DBUri Servlet</p><img src="img/xslt_po.gif" width="515" alt="Description of Figure 7-3 follows" title="Description of Figure 7-3 follows" longdesc="img_text/xslt_po.html"><br><a href="img_text/xslt_po.html">Description of "Figure 7-3 Database XSL Transformation of a PurchaseOrder Using DBUri Servlet"</a></div>
                     <!-- class="figure" -->
                     <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF__CEGGCDJE">Figure 7-4</a> shows table <code class="codeph">departments</code> displayed as an HTML document. You need no code to achieve this. You need only an <code class="codeph">XMLType</code> view based on SQL/XML functions, an industry-standard XSL stylesheet, and <code class="codeph">DBUri</code> servlet. 
                     </p>
                     <div class="figure" id="GUID-A35A47AF-A28C-4B2F-BB1C-AA10500E3BAF__CEGGCDJE">
                        <p class="titleinfigure">Figure 7-4 Database XSL Transformation of Departments Table Using DBUri Servlet</p><img src="img/dburi_emp.gif" width="597" alt="Description of Figure 7-4 follows" title="Description of Figure 7-4 follows" longdesc="img_text/dburi_emp.html"><br><a href="img_text/dburi_emp.html">Description of "Figure 7-4 Database XSL Transformation of Departments Table Using DBUri Servlet"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-DBEB8B7E-B335-4D07-8A5D-42083A83155D" title="You can apply XSL transformations to XML Schema-based documents using the built-in Oracle XML&nbsp;DB XSLT processor. In-database XML-specific optimizations can significantly reduce the memory required, eliminate the overhead associated with parsing, and reduce network traffic.">XSL Transformation and Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4729"></a><div class="props_rev_3"><a id="GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50" name="GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50"></a><h3 id="ADXDB-GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50" class="sect3"><span class="enumeration_section">7.2 </span>Validation of XMLType Instances
               </h3>
               <div>
                  <p>Besides needing to know whether a particular XML document is well-formed, you often need to know whether it conforms to a given XML schema, that is, whether it is valid with respect to that XML schema.</p>
                  <p>XML schema-based data that is stored as binary XML it is automatically validated fully whenever it is inserted or updated. This validation does not require building a DOM. It is done using streaming, which is efficient and minimizes memory use.</p>
                  <p>For <code class="codeph">XMLType</code> data that is stored object-relationally, full validation requires building a DOM, which can be costly in terms of memory management. For this reason, Oracle XML&nbsp;DB does not automatically perform full validation when you insert or update data that is stored object-relationally.
                  </p>
                  <p>However, in the process of decomposing XML data to store it object-relationally, Oracle XML&nbsp;DB does automatically perform partial validation, to ensure that the structure of the XML document conforms to the SQL data type definitions that were derived from the XML schema.</p>
                  <p>If you require full validation for <code class="codeph">XMLType</code> data stored object-relationally, then consider validating on the client before inserting the data into the database or updating it.
                  </p>
                  <p>You can use the following to perform full validation and manipulate the recorded validation status of XML documents:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle SQL function <span class="bold"><code class="codeph">XMLIsValid</code></span> and <code class="codeph">XMLType</code> method <span class="bold"><code class="codeph">IsSchemaValid()</code></span> &#x2013; Run the validation process unconditionally. Do not record any validation status. Return:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">1</code> if the document is determined to be <span class="italic">valid</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">0</code> if the document is determined to be <span class="italic">invalid</span> or the validity of the document <span class="italic">cannot be determined</span>.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">XMLType</code> method <span class="bold"><code class="codeph">SchemaValidate()</code></span> &#x2013; Runs the validation process if the validation status is <code class="codeph">0</code>, which it is by default. Sets the validation status to <code class="codeph">1</code> if the document is determined to be <span class="italic">valid</span>. (Otherwise, the status remains <code class="codeph">0</code>.)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">XMLType</code> method <span class="bold"><code class="codeph">isSchemaValidated()</code></span> returns the recorded validation status of an <code class="codeph">XMLType</code> instance.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">XMLType</code> method <span class="bold"><code class="codeph">setSchemaValidated()</code></span> sets (records) the validation status of an <code class="codeph">XMLType</code> instance.
                        </p>
                     </li>
                  </ul>
                  <p>The validation status indicates knowledge of validity, as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">1</code> means that the document is known to be <span class="italic">valid</span>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">0</code> means that validity of the document is <span class="italic">unknown</span>. The document might have been shown to be invalid during a validation check, but that invalidity is not recorded. A recorded validation status of <code class="codeph">0</code> indicates only a lack of knowledge about the document's validity.
                        </p>
                     </li>
                  </ul>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC">Partial and Full XML Schema Validation</a><br>When you insert XML Schema-based documents into the database they can be validated partially or fully.
                     </li>
                     <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B">Validating XML Data Stored as XMLType: Examples</a><br>Examples here illustrate how to use Oracle SQL function <code class="codeph">XMLIsValid</code> and <code class="codeph">XMLType</code> methods <code class="codeph">isSchemaValid()</code> and <code class="codeph">schemaValidate()</code> to validate XML data being stored as <code class="codeph">XMLType</code> in Oracle XML&nbsp;DB.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50__GUID-F462B68A-F414-4F2B-98FB-5EBD0D1D0AAE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sqlrf/XMLISVALID.html#SQLRF06147" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about Oracle SQL function <code class="codeph">XMLIsValid</code></p>
                        </li>
                        <li>
                           <p><a href="../arpls/XMLTYPE.html#ARPLS369" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about <code class="codeph">XMLType</code> methods <code class="codeph">IsSchemaValid()</code>, <code class="codeph">IsSchemaValidated()</code>, <code class="codeph">SchemaValidate()</code>, and <code class="codeph">setSchemaValidated()</code></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-EC4E2212-67EF-425C-AB5E-D48E62EAB9A7" title="There are several Oracle SQL functions and XMLType APIs for transforming XMLType data using XSLT stylesheets and for validating XMLType instances against an XML schema.">Transformation and Validation of XMLType Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4102"></a><div class="props_rev_3"><a id="GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC" name="GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC"></a><h4 id="ADXDB-GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC" class="sect4"><span class="enumeration_section">7.2.1 </span>Partial and Full XML Schema Validation
                  </h4>
                  <div>
                     <p>When you insert XML Schema-based documents into the database they can be validated partially or fully.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-2360608F-BA11-4BEB-98F3-E79888A57BDD">Partial Validation</a><br>For binary XML storage, Oracle XML&nbsp;DB validates XML Schema-based documents fully when they are inserted into an <code class="codeph">XMLType</code> table or column. For object-relational XML storage, only a partial validation is performed. This is because complete XML schema validation is quite costly for object-relational storage, in terms of performance. 
                        </li>
                        <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-CD089007-3832-4812-8617-642B2854C6BE">Full Validation</a><br>Loading XML Schema-based data into binary XML storage fully validates it against the target XML schemas. For object-relational <code class="codeph">XMLType</code> storage, you can force full validation at any time.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50" title="Besides needing to know whether a particular XML document is well-formed, you often need to know whether it conforms to a given XML schema, that is, whether it is valid with respect to that XML schema.">Validation of XMLType Instances</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADXDB4104"></a><a id="ADXDB4103"></a><div class="props_rev_3"><a id="GUID-2360608F-BA11-4BEB-98F3-E79888A57BDD" name="GUID-2360608F-BA11-4BEB-98F3-E79888A57BDD"></a><h5 id="ADXDB-GUID-2360608F-BA11-4BEB-98F3-E79888A57BDD" class="sect5"><span class="enumeration_section">7.2.1.1 </span>Partial Validation
                     </h5>
                     <div>
                        <p>For binary XML storage, Oracle XML&nbsp;DB validates XML Schema-based documents fully when they are inserted into an <code class="codeph">XMLType</code> table or column. For object-relational XML storage, only a partial validation is performed. This is because complete XML schema validation is quite costly for object-relational storage, in terms of performance. 
                        </p>
                        <p><span class="bold">Partial validation</span> ensures only that all of the mandatory elements and attributes are present, and that there are no unexpected elements or attributes in the document. That is, it ensures only that the structure of the XML document conforms to the SQL data type definitions that were derived from the XML schema. Partial validation does not ensure that the instance document is fully compliant with the XML schema.
                        </p>
                        <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-2360608F-BA11-4BEB-98F3-E79888A57BDD__BABFEGDC">Example 7-6</a> provides an example of failing partial validation while inserting an XML document into table <code class="codeph">PurchaseOrder</code>, which is stored object-relationally.
                        </p>
                        <div class="example" id="GUID-2360608F-BA11-4BEB-98F3-E79888A57BDD__BABFEGDC">
                           <p class="titleinexample">Example 7-6 Error When Inserting Incorrect XML Document (Partial Validation)</p><pre class="pre codeblock"><code>INSERT INTO purchaseorder
  VALUES(XMLType(bfilename('XMLDIR', 'InvalidElement.xml'),
                 nls_charset_id('AL32UTF8')));
  VALUES(XMLType(bfilename('XMLDIR', 'InvalidElement.xml'),
         *
ERROR at line 2:
ORA-30937: No schema definition for 'UserName' (namespace '##local') in parent
'/PurchaseOrder'</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC" title="When you insert XML Schema-based documents into the database they can be validated partially or fully.">Partial and Full XML Schema Validation</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADXDB4105"></a><div class="props_rev_3"><a id="GUID-CD089007-3832-4812-8617-642B2854C6BE" name="GUID-CD089007-3832-4812-8617-642B2854C6BE"></a><h5 id="ADXDB-GUID-CD089007-3832-4812-8617-642B2854C6BE" class="sect5"><span class="enumeration_section">7.2.1.2 </span>Full Validation
                     </h5>
                     <div>
                        <p>Loading XML Schema-based data into binary XML storage fully validates it against the target XML schemas. For object-relational <code class="codeph">XMLType</code> storage, you can force full validation at any time.
                        </p>
                        <p>To force full validation, use either of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Table level <code class="codeph">CHECK</code> constraint
                              </p>
                           </li>
                           <li>
                              <p>PL/SQL <code class="codeph">BEFORE INSERT</code> trigger
                              </p>
                           </li>
                        </ul>
                        <p>Both approaches ensure that only valid XML documents can be stored in the <code class="codeph">XMLType</code> table. 
                        </p>
                        <p>The advantage of a <code class="codeph">TABLE CHECK</code> constraint is that it is easy to code. The disadvantage is that it is based on Oracle SQL function <code class="codeph">XMLisValid</code>, so it can only indicate whether or not the XML document is valid. If an XML document is invalid, a <code class="codeph">TABLE CHECK</code> constraint cannot provide any information about <span class="italic">why</span> it is invalid. 
                        </p>
                        <p>A <code class="codeph">BEFORE INSERT</code> trigger requires slightly more code. The trigger validates the XML document by invoking <code class="codeph">XMLType</code> method <code class="codeph">schemaValidate()</code>. The advantage of using <code class="codeph">schemaValidate()</code> is that the exception raised provides additional information about what was wrong with the instance document. Using a <code class="codeph">BEFORE INSERT</code> trigger also makes it possible to attempt corrective action when an invalid document is encountered.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="transformation-and-validation-of-XMLType-data.html#GUID-2920BC25-F964-452D-973B-5FACD538A744">Full XML Schema Validation Costs Processing Time and Memory Usage</a><br>Unless you are using binary XML storage, full XML schema validation costs processing time and memory. You should thus perform full XML schema validation only when necessary. 
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC" title="When you insert XML Schema-based documents into the database they can be validated partially or fully.">Partial and Full XML Schema Validation</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADXDB4107"></a><a id="ADXDB4108"></a><a id="ADXDB4106"></a><div class="props_rev_3"><a id="GUID-2920BC25-F964-452D-973B-5FACD538A744" name="GUID-2920BC25-F964-452D-973B-5FACD538A744"></a><h6 id="ADXDB-GUID-2920BC25-F964-452D-973B-5FACD538A744" class="sect6"><span class="enumeration_section">7.2.1.2.1 </span>Full XML Schema Validation Costs Processing Time and Memory Usage
                        </h6>
                        <div>
                           <p>Unless you are using binary XML storage, full XML schema validation costs processing time and memory. You should thus perform full XML schema validation only when necessary. </p>
                           <p>If you can rely on your application to validate an XML document then you can obtain higher overall throughput with non-binary XML storage, by avoiding the overhead associated with full validation. If you cannot be sure about the validity of incoming XML documents, you can rely on the database to ensure that an <code class="codeph">XMLType</code> table or column contains only schema-valid XML documents.
                           </p>
                           <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-2920BC25-F964-452D-973B-5FACD538A744__BABHIFBH">Example 7-7</a> shows how to force a full XML schema validation by adding a <code class="codeph">CHECK</code> constraint to an <code class="codeph">XMLType</code> table. In <a href="transformation-and-validation-of-XMLType-data.html#GUID-2920BC25-F964-452D-973B-5FACD538A744__BABHIFBH">Example 7-7</a>, the XML document <code class="codeph">InvalidReference</code> is a not valid with respect to the XML schema. The XML schema defines a minimum length of 18 characters for the text node associated with the <code class="codeph">Reference</code> element. In this document, the node contains the value <code class="codeph">SBELL-20021009</code>, which is only 14 characters long. Partial validation would not catch this error. Unless the constraint or trigger is present, attempts to insert this document into the database would succeed. 
                           </p>
                           <div class="example" id="GUID-2920BC25-F964-452D-973B-5FACD538A744__BABHIFBH">
                              <p class="titleinexample">Example 7-7 Forcing Full XML Schema Validation Using a CHECK Constraint</p><pre class="pre codeblock"><code>ALTER TABLE purchaseorder
  ADD CONSTRAINT validate_purchaseorder
  <span class="bold">CHECK (XMLIsValid(OBJECT_VALUE) = 1);</span>
 
Table altered.
 
INSERT INTO purchaseorder
  VALUES (XMLType(bfilename('XMLDIR', 'InvalidReference.xml'),
                  nls_charset_id('AL32UTF8')));

INSERT INTO purchaseorder
*
 
ERROR at line 1:
ORA-02290: check constraint (QUINE.VALIDATE_PURCHASEORDER) violated
</code></pre><p>Pseudocolumn <code class="codeph">OBJECT_VALUE</code> can be used to access the content of an <code class="codeph">XMLType</code> table from within a trigger. <a href="transformation-and-validation-of-XMLType-data.html#GUID-2920BC25-F964-452D-973B-5FACD538A744__BABDJDHC">Example 7-8</a> illustrates this, showing how to use a <code class="codeph">BEFORE INSERT</code> trigger to validate that the data being inserted into the <code class="codeph">XMLType</code> table conforms to the specified XML schema.
                              </p>
                           </div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-2920BC25-F964-452D-973B-5FACD538A744__BABDJDHC">
                              <p class="titleinexample">Example 7-8 Enforcing Full XML Schema Validation Using a BEFORE INSERT Trigger</p><pre class="pre codeblock"><code>CREATE OR REPLACE TRIGGER validate_purchaseorder
   BEFORE INSERT ON purchaseorder
   FOR EACH ROW
BEGIN
  IF (:new.OBJECT_VALUE IS NOT NULL) THEN :new.<span class="bold">OBJECT_VALUE.schemavalidate</span>();
  END IF;
END;
/

INSERT INTO purchaseorder  VALUES (XMLType(bfilename('XMLDIR', 'InvalidReference.xml'),
                  nls_charset_id('AL32UTF8')));
  VALUES (XMLType( bfilename('XMLDIR', 'InvalidReference.xml'),
          *
ERROR at line 2:
ORA-31154: invalid XML document
ORA-19202: Error occurred in XML processing
LSX-00221: "SBELL-20021009" is too short (minimum length is 18)
LSX-00213: only 0 occurrences of particle "sequence", minimum is 1
ORA-06512: at "SYS.XMLTYPE", line 354
ORA-06512: at "QUINE.VALIDATE_PURCHASEORDER", line 3
ORA-04088: error during execution of trigger 'QUINE.VALIDATE_PURCHASEORDER'</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-CD089007-3832-4812-8617-642B2854C6BE" title="Loading XML Schema-based data into binary XML storage fully validates it against the target XML schemas. For object-relational XMLType storage, you can force full validation at any time.">Full Validation</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="ADXDB4741"></a><a id="ADXDB4742"></a><a id="ADXDB4743"></a><a id="ADXDB4744"></a><a id="ADXDB4740"></a><div class="props_rev_3"><a id="GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B" name="GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B"></a><h4 id="ADXDB-GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B" class="sect4"><span class="enumeration_section">7.2.2 </span>Validating XML Data Stored as XMLType: Examples
                  </h4>
                  <div>
                     <p>Examples here illustrate how to use Oracle SQL function <code class="codeph">XMLIsValid</code> and <code class="codeph">XMLType</code> methods <code class="codeph">isSchemaValid()</code> and <code class="codeph">schemaValidate()</code> to validate XML data being stored as <code class="codeph">XMLType</code> in Oracle XML&nbsp;DB.
                     </p>
                     <div class="section">
                        <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHHFGAI">Example 7-9</a> and <a href="transformation-and-validation-of-XMLType-data.html#GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHCEHFA">Example 7-10</a> show how to validate an XML instance against an XML schema using PL/SQL method <code class="codeph">isSchemaValid</code>().
                        </p>
                        <p><code class="codeph">XMLType</code> method <code class="codeph">schemaValidate()</code> can be used within <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code> triggers to ensure that all instances stored in the table are validated against the XML schema. <a href="transformation-and-validation-of-XMLType-data.html#GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHJFAEG">Example 7-11</a> illustrates this.
                        </p>
                        <p><a href="transformation-and-validation-of-XMLType-data.html#GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHEGCDB">Example 7-12</a> uses Oracle SQL function <code class="codeph">XMLIsValid</code> to do the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Verify that the <code class="codeph">XMLType</code> instance conforms to the specified XML schema
                              </p>
                           </li>
                           <li>
                              <p>Ensure that the incoming XML documents are valid by using <code class="codeph">CHECK</code> constraints
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__GUID-432B1B1F-C9D8-4FCA-BF9B-E888BBA6DA28">
                           <p class="notep1">Note:</p>
                           <p>The validation functions and procedures described in <a href="transformation-and-validation-of-XMLType-data.html#GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50" title="Besides needing to know whether a particular XML document is well-formed, you often need to know whether it conforms to a given XML schema, that is, whether it is valid with respect to that XML schema.">Validation of XMLType Instances</a> facilitate validation checking. Of these, <code class="codeph">schemaValidate</code> is the only one that raises errors that indicate why validation has failed.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHHFGAI">
                        <p class="titleinexample">Example 7-9 Validating XML Using Method ISSCHEMAVALID() in SQL</p><pre class="oac_no_warn" dir="ltr">SELECT x.xmlcol.<span class="bold">isSchemaValid</span>('http://www.example.com/schemas/ipo.xsd',
                              'purchaseOrder')
    FROM po_tab x;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHCEHFA">
                        <p class="titleinexample">Example 7-10 Validating XML Using Method ISSCHEMAVALID() in PL/SQL</p><pre class="oac_no_warn" dir="ltr">DECLARE
  xml_instance XMLType;
BEGIN
  SELECT x.xmlcol INTO xml_instance FROM po_tab x WHERE id = 1;
  IF xml_instance.<span class="bold">isSchemaValid</span>('http://www.example.com/schemas/ipo.xsd') = 0
    THEN raise_application_error(-20500, 'Invalid Instance');
    ELSE DBMS_OUTPUT.put_line('Instance is valid');
  END IF;
END;
/
Instance is valid
 
PL/SQL procedure successfully completed.
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHJFAEG">
                        <p class="titleinexample">Example 7-11 Validating XML Using Method SCHEMAVALIDATE() within Triggers</p><pre class="oac_no_warn" dir="ltr">DROP TABLE po_tab;
CREATE TABLE po_tab OF XMLType 
  XMLSCHEMA "http://www.example.com/schemas/ipo.xsd" ELEMENT "purchaseOrder";

CREATE TRIGGER emp_trig BEFORE INSERT OR UPDATE ON po_tab FOR EACH ROW

DECLARE 
  newxml XMLType;
BEGIn
  newxml := :new.OBJECT_VALUE;
  XMLTYPE.<span class="bold">schemavalidate</span>(newxml);
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-3563099E-B1F3-4B70-8D2F-8FA001FF632B__CFHEGCDB">
                        <p class="titleinexample">Example 7-12 Checking XML Validity Using XMLISVALID Within CHECK Constraints</p><pre class="oac_no_warn" dir="ltr">DROP TABLE po_tab;
CREATE TABLE po_tab OF XMLType 
   (<span class="bold">CHECK</span>(<span class="bold">XMLIsValid</span>(OBJECT_VALUE) = 1))
   XMLSCHEMA "http://www.example.com/schemas/ipo.xsd" ELEMENT "purchaseOrder";</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="transformation-and-validation-of-XMLType-data.html#GUID-45DAA30E-3F14-4D70-8105-ED3855B92A50" title="Besides needing to know whether a particular XML document is well-formed, you often need to know whether it conforms to a given XML schema, that is, whether it is valid with respect to that XML schema.">Validation of XMLType Instances</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>