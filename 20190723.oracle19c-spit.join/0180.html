<html id='09248.V-SESSION.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="V$SESSION displays session information for each current session.">
      <meta name="description" content="V$SESSION displays session information for each current session.">
      <title>V$SESSION</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Reference">
      <meta property="og:description" content="V$SESSION displays session information for each current session.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00">
      <meta name="dcterms.title" content="Database Reference">
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96196-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="V-SESS_TIME_MODEL.html" title="Previous" type="text/html">
      <link rel="next" href="V-SESSION_BLOCKERS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="V-SESS_TIME_MODEL.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="V-SESSION_BLOCKERS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-views.html" property="item" typeof="WebPage"><span property="name"> Dynamic Performance Views </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="dynamic-performance-v-views-3.html" property="item" typeof="WebPage"><span property="name"> Dynamic Performance (V$) Views: V$SCHEDULER_RUNNING_JOBS to V$ZONEMAP_USAGE_STATS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">V$SESSION</li>
            </ol>
            <a id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" name="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9"></a><a id="REFRN30223"></a>
            
            <h2 id="REFRN-GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" class="sect2"><span class="enumeration_section">9.17 </span>V$SESSION
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='V-SESSION'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p><code class="codeph">V$SESSION</code> displays session information for each current session.
               </p>
               <div class="tblformalwide" id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__GUID-455E4BEF-C98D-4A01-9766-D56972C31F16">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="This table describes the columns for this database view" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d2035542e169">Column</th>
                           <th align="left" valign="bottom" width="18%" id="d2035542e172">Datatype</th>
                           <th align="left" valign="bottom" width="58%" id="d2035542e175">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e180" headers="d2035542e169 ">
                              <p><code class="codeph">SADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e180 d2035542e172 ">
                              <p><code class="codeph">RAW(4 | 8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e180 d2035542e175 ">
                              <p>Session address</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e192" headers="d2035542e169 ">
                              <p><code class="codeph">SID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e192 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e192 d2035542e175 ">
                              <p>Session identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e204" headers="d2035542e169 ">
                              <p><code class="codeph">SERIAL#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e204 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e204 d2035542e175 ">
                              <p>Session serial number. Used to uniquely identify a session's objects. Guarantees that session-level commands are applied to the correct session objects if the session ends and another session begins with the same session ID.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e216" headers="d2035542e169 ">
                              <p><code class="codeph">AUDSID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e216 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e216 d2035542e175 ">
                              <p>Auditing session ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e228" headers="d2035542e169 ">
                              <p><code class="codeph">PADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e228 d2035542e172 ">
                              <p><code class="codeph">RAW(4 | 8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e228 d2035542e175 ">
                              <p>Address of the process that owns the session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e240" headers="d2035542e169 ">
                              <p><code class="codeph">USER#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e240 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e240 d2035542e175 ">
                              <p>Oracle user identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e252" headers="d2035542e169 ">
                              <p><code class="codeph">USERNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e252 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e252 d2035542e175 ">
                              <p>Oracle username</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e264" headers="d2035542e169 ">
                              <p><code class="codeph">COMMAND</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e264 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e264 d2035542e175 ">
                              <p>Command in progress (last statement parsed).</p>
                              <p>You can find the command name for any value <span class="italic">n</span> returned in this <code class="codeph">COMMAND</code> column by running this SQL query:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT command_name
   FROM v$sqlcommand
   WHERE command_type = <span class="italic"><code class="codeph">n</code></span>;</pre><p>A value of <code class="codeph">0</code> in this <code class="codeph">COMMAND</code> column means the command is not recorded in <code class="codeph">V$SESSION</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e301" headers="d2035542e169 ">
                              <p><code class="codeph">OWNERID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e301 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e301 d2035542e175 ">
                              <p>Identifier of the user who owns the migratable session; the column contents are invalid if the value is <code class="codeph">2147483644</code></p>
                              <p>For operations using Parallel Slaves, interpret this value as a 4-byte value. The low-order 2 bytes represent the session number and the high-order bytes represent the instance ID of the query coordinator.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e317" headers="d2035542e169 ">
                              <p><code class="codeph">TADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e317 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(16)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e317 d2035542e175 ">
                              <p>Address of the transaction state object</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e329" headers="d2035542e169 ">
                              <p><code class="codeph">LOCKWAIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e329 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(16)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e329 d2035542e175 ">
                              <p>Address of the lock the session is waiting for; NULL if none</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e342" headers="d2035542e169 ">
                              <p><code class="codeph">STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e342 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e342 d2035542e175 ">
                              <p>Status of the session:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ACTIVE</code> - Session currently executing SQL
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">INACTIVE</code> - Session which is inactive and either has no configured limits or has not yet exceeded the configured limits
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">KILLED</code> - Session marked to be killed
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CACHED</code> - Session temporarily cached for use by Oracle*XA
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SNIPED</code> - An inactive session that has exceeded some configured limits (for example, resource limits specified for the resource manager consumer group or idle_time specified in the user's profile). Such sessions will not be allowed to become active again.
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e380" headers="d2035542e169 ">
                              <p><code class="codeph">SERVER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e380 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(9)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e380 d2035542e175 ">
                              <p>Server type:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">DEDICATED</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SHARED</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PSEUDO</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">POOLED</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NONE</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e413" headers="d2035542e169 ">
                              <p><code class="codeph">SCHEMA#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e413 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e413 d2035542e175 ">
                              <p>Schema user identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e425" headers="d2035542e169 ">
                              <p><code class="codeph">SCHEMANAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e425 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e425 d2035542e175 ">
                              <p>Schema user name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e437" headers="d2035542e169 ">
                              <p><code class="codeph">OSUSER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e437 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e437 d2035542e175 ">
                              <p>Operating system client user name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e449" headers="d2035542e169 ">
                              <p><code class="codeph">PROCESS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e449 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(24)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e449 d2035542e175 ">
                              <p>Operating system client process ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e461" headers="d2035542e169 ">
                              <p><code class="codeph">MACHINE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e461 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e461 d2035542e175 ">
                              <p>Operating system machine name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e473" headers="d2035542e169 ">
                              <p><code class="codeph">PORT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e473 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e473 d2035542e175 ">
                              <p>Client port number</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e485" headers="d2035542e169 ">
                              <p><code class="codeph">TERMINAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e485 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(30)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e485 d2035542e175 ">
                              <p>Operating system terminal name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e497" headers="d2035542e169 ">
                              <p><code class="codeph">PROGRAM</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e497 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(48)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e497 d2035542e175 ">
                              <p>Operating system program name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e509" headers="d2035542e169 ">
                              <p><code class="codeph">TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e509 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(10)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e509 d2035542e175 ">
                              <p>Session type</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e522" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_ADDRESS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e522 d2035542e172 ">
                              <p><code class="codeph">RAW(4 | 8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e522 d2035542e175 ">
                              <p>Used with <code class="codeph">SQL_HASH_VALUE</code> to identify the SQL statement that is currently being executed
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e537" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e537 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e537 d2035542e175 ">
                              <p>Used with <code class="codeph">SQL_ADDRESS</code> to identify the SQL statement that is currently being executed
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e552" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e552 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(13)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e552 d2035542e175 ">
                              <p>SQL identifier of the SQL statement that is currently being executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e564" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_CHILD_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e564 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e564 d2035542e175 ">
                              <p>Child number of the SQL statement that is currently being executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e576" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_EXEC_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e576 d2035542e172 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e576 d2035542e175 ">
                              <p>Time when the execution of the SQL currently executed by this session started; NULL if <code class="codeph">SQL_ID</code> is NULL
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e591" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e591 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e591 d2035542e175 ">
                              <p>SQL execution identifier; NULL if <code class="codeph">SQL_ID</code> is NULL or if the execution of that SQL has not yet started (see <code class="codeph">V$SQL_MONITOR</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e609" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_SQL_ADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e609 d2035542e172 ">
                              <p><code class="codeph">RAW(4 | 8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e609 d2035542e175 ">
                              <p>Used with <code class="codeph">PREV_HASH_VALUE</code> to identify the last SQL statement executed
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e624" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e624 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e624 d2035542e175 ">
                              <p>Used with <code class="codeph">SQL_HASH_VALUE</code> to identify the last SQL statement executed
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e639" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e639 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(13)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e639 d2035542e175 ">
                              <p>SQL identifier of the last SQL statement executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e651" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_CHILD_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e651 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e651 d2035542e175 ">
                              <p>Child number of the last SQL statement executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e663" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_EXEC_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e663 d2035542e172 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e663 d2035542e175 ">
                              <p>SQL execution start of the last executed SQL statement</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e676" headers="d2035542e169 ">
                              <p><code class="codeph">PREV_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e676 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e676 d2035542e175 ">
                              <p>SQL execution identifier of the last executed SQL statement</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e688" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_ENTRY_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e688 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e688 d2035542e175 ">
                              <p>Object ID of the top-most PL/SQL subprogram on the stack; NULL if there is no PL/SQL subprogram on the stack</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e700" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_ENTRY_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e700 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e700 d2035542e175 ">
                              <p>Subprogram ID of the top-most PL/SQL subprogram on the stack; NULL if there is no PL/SQL subprogram on the stack</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e712" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e712 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e712 d2035542e175 ">
                              <p>Object ID of the currently executing PL/SQL subprogram; NULL if executing SQL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e724" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e724 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e724 d2035542e175 ">
                              <p>Subprogram ID of the currently executing PL/SQL object; NULL if executing SQL</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e736" headers="d2035542e169 ">
                              <p><code class="codeph">MODULE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e736 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e736 d2035542e175 ">
                              <p>Name of the currently executing module as set by calling the <code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> procedure
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e751" headers="d2035542e169 ">
                              <p><code class="codeph">MODULE_HASH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e751 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e751 d2035542e175 ">
                              <p>Hash value of the <code class="codeph">MODULE</code> column
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e766" headers="d2035542e169 ">
                              <p><code class="codeph">ACTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e766 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e766 d2035542e175 ">
                              <p>Name of the currently executing action as set by calling the <code class="codeph">DBMS_APPLICATION_INFO.SET_ACTION</code> procedure
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e781" headers="d2035542e169 ">
                              <p><code class="codeph">ACTION_HASH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e781 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e781 d2035542e175 ">
                              <p>Hash value of the <code class="codeph">ACTION</code> column
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e796" headers="d2035542e169 ">
                              <p><code class="codeph">CLIENT_INFO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e796 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e796 d2035542e175 ">
                              <p>Information set by the <code class="codeph">DBMS_APPLICATION_INFO.SET_CLIENT_INFO</code> procedure
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e811" headers="d2035542e169 ">
                              <p><code class="codeph">FIXED_TABLE_SEQUENCE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e811 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e811 d2035542e175 ">
                              <p>This contains a number that increases every time the session completes a call to the database and there has been an intervening select from a dynamic performance table. This column can be used by performance monitors to monitor statistics in the database. Each time the performance monitor looks at the database, it only needs to look at sessions that are currently active or have a higher value in this column than the highest value that the performance monitor saw the last time. All the other sessions have been idle since the last time the performance monitor looked at the database.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e824" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_OBJ#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e824 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e824 d2035542e175 ">
                              <p>Object ID for the table containing the row specified in <code class="codeph">ROW_WAIT_ROW#</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e838" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_FILE#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e838 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e838 d2035542e175 ">
                              <p>Identifier for the data file containing the row specified in <code class="codeph">ROW_WAIT_ROW#</code>. This column is valid only if the session is currently waiting for another transaction to commit and the value of <code class="codeph">ROW_WAIT_OBJ#</code> is not <code class="codeph">-1</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e859" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_BLOCK#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e859 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e859 d2035542e175 ">
                              <p>Identifier for the block containing the row specified in<code class="codeph"> ROW_WAIT_ROW#</code>. This column is valid only if the session is currently waiting for another transaction to commit and the value of <code class="codeph">ROW_WAIT_OBJ#</code> is not <code class="codeph">-1</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e880" headers="d2035542e169 ">
                              <p><code class="codeph">ROW_WAIT_ROW#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e880 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e880 d2035542e175 ">
                              <p>Current row being locked. This column is valid only if the session is currently waiting for another transaction to commit and the value of <code class="codeph">ROW_WAIT_OBJ#</code> is not <code class="codeph">-1</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e898" headers="d2035542e169 ">
                              <p><code class="codeph">TOP_LEVEL_CALL#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e898 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e898 d2035542e175 ">
                              <p>Oracle top level call number</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e910" headers="d2035542e169 ">
                              <p><code class="codeph">LOGON_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e910 d2035542e172 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e910 d2035542e175 ">
                              <p>Time of logon</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e922" headers="d2035542e169 ">
                              <p><code class="codeph">LAST_CALL_ET</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e922 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e922 d2035542e175 ">
                              <p>If the session <code class="codeph">STATUS</code> is currently <code class="codeph">ACTIVE</code>, then the value represents the elapsed time (in seconds) since the session has become active. 
                              </p>
                              <p>If the session <code class="codeph">STATUS</code> is currently <code class="codeph">INACTIVE</code>, then the value represents the elapsed time (in seconds) since the session has become inactive.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e948" headers="d2035542e169 ">
                              <p><code class="codeph">PDML_ENABLED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e948 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(3)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e948 d2035542e175 ">
                              <p>This column has been replaced by the <code class="codeph">PDML_STATUS</code> column
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e963" headers="d2035542e169 ">
                              <p><code class="codeph">FAILOVER_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e963 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(13)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e963 d2035542e175 ">
                              <p>Indicates whether and to what extent transparent application failover (TAF) is enabled for the session:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">NONE</code> - Failover is disabled for this session
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SESSION</code> - Client can fail over its session following a disconnect
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SELECT</code> - Client can fail over queries in progress as well
                                    </p>
                                 </li>
                              </ul>
                              <p><span class="bold">See Also:</span></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../netag/identifying-and-accessing-database.html#NETAG180" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for more information on TAF
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../netag/enabling-advanced-features.html#NETAG455" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information on configuring TAF
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1011" headers="d2035542e169 ">
                              <p><code class="codeph">FAILOVER_METHOD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1011 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(10)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1011 d2035542e175 ">
                              <p>Indicates the transparent application failover method for the session:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">NONE</code> - Failover is disabled for this session
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">BASIC</code> - Client itself reconnects following a disconnect
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PRECONNECT</code> - Backup instance can support all connections from every instance for which it is backed up
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1039" headers="d2035542e169 ">
                              <p><code class="codeph">FAILED_OVER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1039 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(3)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1039 d2035542e175 ">
                              <p>Indicates whether the session is running in failover mode and failover has occurred (<code class="codeph">YES</code>) or not (<code class="codeph">NO</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1058" headers="d2035542e169 ">
                              <p><code class="codeph">RESOURCE_CONSUMER_GROUP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1058 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(32)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1058 d2035542e175 ">
                              <p>Name of the session's current resource consumer group</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1070" headers="d2035542e169 ">
                              <p><code class="codeph">PDML_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1070 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1070 d2035542e175 ">
                              <p>If <code class="codeph">ENABLED</code>, the session is in a <code class="codeph">PARALLEL</code> <code class="codeph">DML</code> enabled mode. If <code class="codeph">DISABLED</code>, <code class="codeph">PARALLEL</code> <code class="codeph">DML</code> enabled mode is not supported for the session. If <code class="codeph">FORCED</code>, the session has been altered to force <code class="codeph">PARALLEL</code> <code class="codeph">DML</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1110" headers="d2035542e169 ">
                              <p><code class="codeph">PDDL_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1110 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1110 d2035542e175 ">
                              <p>If <code class="codeph">ENABLED</code>, the session is in a <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> enabled mode. If <code class="codeph">DISABLED</code>, <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> enabled mode is not supported for the session. If <code class="codeph">FORCED</code>, the session has been altered to force <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1150" headers="d2035542e169 ">
                              <p><code class="codeph">PQ_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1150 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1150 d2035542e175 ">
                              <p>If <code class="codeph">ENABLED</code>, the session is in a <code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code> enabled mode. If <code class="codeph">DISABLED</code>, <code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code> enabled mode is not supported for the session. If <code class="codeph">FORCED</code>, the session has been altered to force <code class="codeph">PARALLEL</code> <code class="codeph">QUERY</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1190" headers="d2035542e169 ">
                              <p><code class="codeph">CURRENT_QUEUE_DURATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1190 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1190 d2035542e175 ">
                              <p>If queued (<code class="codeph">1</code>), the current amount of time the session has been queued. If not currently queued, the value is <code class="codeph">0</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1208" headers="d2035542e169 ">
                              <p><code class="codeph">CLIENT_IDENTIFIER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1208 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1208 d2035542e175 ">
                              <p>Client identifier of the session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1220" headers="d2035542e169 ">
                              <p><code class="codeph">BLOCKING_SESSION_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1220 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(11)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1220 d2035542e175 ">
                              <p>This column provides details on whether there is a blocking session:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">VALID</code> - there is a blocking session, and it is identified in the <code class="codeph">BLOCKING_INSTANCE</code> and <code class="codeph">BLOCKING_SESSION</code> columns
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO HOLDER</code> - there is no session blocking this session
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NOT IN WAIT</code> - this session is not in a wait
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNKNOWN</code> - the blocking session is unknown
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1259" headers="d2035542e169 ">
                              <p><code class="codeph">BLOCKING_INSTANCE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1259 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1259 d2035542e175 ">
                              <p>Instance identifier of the blocking session. This column is valid only if <code class="codeph">BLOCKING_SESSION_STATUS</code> has the value <code class="codeph">VALID</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1277" headers="d2035542e169 ">
                              <p><code class="codeph">BLOCKING_SESSION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1277 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1277 d2035542e175 ">
                              <p>Session identifier of the blocking session. This column is valid only if <code class="codeph">BLOCKING_SESSION_STATUS</code> has the value <code class="codeph">VALID</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1295" headers="d2035542e169 ">
                              <p><code class="codeph">FINAL_BLOCKING_SESSION_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1295 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(11)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1295 d2035542e175 ">
                              <p>The final blocking session is the final element in the wait chain constructed by following the sessions that are blocked by one another starting with this session. In the case of a cyclical wait chain, one of the sessions in the wait chain will be chosen as the final blocker. </p>
                              <p>This column provides details on whether there is a final blocking session:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">VALID</code> - there is a final blocking session and it is identified in the <code class="codeph">FINAL_BLOCKING_INSTANCE</code> and <code class="codeph">FINAL_BLOCKING_SESSION</code> columns
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO HOLDER</code> - there is no session blocking this session
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NOT IN WAIT</code> - this session is not in a wait
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNKNOWN</code> - the final blocking session is unknown
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1336" headers="d2035542e169 ">
                              <p><code class="codeph">FINAL_BLOCKING_INSTANCE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1336 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1336 d2035542e175 ">
                              <p>Instance identifier of the final blocking session. This column is valid only if <code class="codeph">FINAL_BLOCKING_SESSION_STATUS</code> has the value <code class="codeph">VALID</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1355" headers="d2035542e169 ">
                              <p><code class="codeph">FINAL_BLOCKING_SESSION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1355 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1355 d2035542e175 ">
                              <p>Session identifier of the blocking session. This column is valid only if <code class="codeph">FINAL_BLOCKING_SESSION_STATUS</code> has the value <code class="codeph">VALID</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1373" headers="d2035542e169 ">
                              <p><code class="codeph">SEQ#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1373 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1373 d2035542e175 ">
                              <p>A number that uniquely identifies the current or last wait (incremented for each wait)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1385" headers="d2035542e169 ">
                              <p><code class="codeph">EVENT#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1385 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1385 d2035542e175 ">
                              <p>If the session is currently waiting, then the number of the resource or event for which the session is waiting. If the session is not in a wait, then the number of the resource or event for which the session most recently waited.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1397" headers="d2035542e169 ">
                              <p><code class="codeph">EVENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1397 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1397 d2035542e175 ">
                              <p>If the session is currently waiting, then the resource or event for which the session is waiting. If the session is not in a wait, then the resource or event for which the session most recently waited.</p>
                              <p><span class="bold">See Also:</span> <span class="q">"<a href="oracle-wait-events.html#GUID-03BFEEFB-1020-4F3F-8CF8-A23E7026684B" title="This appendix describes Oracle wait events.">Oracle Wait Events</a>"</span></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1419" headers="d2035542e169 ">
                              <p><code class="codeph">P1TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1419 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1419 d2035542e175 ">
                              <p>Description of the first wait event parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1431" headers="d2035542e169 ">
                              <p><code class="codeph">P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1431 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1431 d2035542e175 ">
                              <p>First wait event parameter (in decimal)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1443" headers="d2035542e169 ">
                              <p><code class="codeph">P1RAW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1443 d2035542e172 ">
                              <p><code class="codeph">RAW(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1443 d2035542e175 ">
                              <p>First wait event parameter (in hexadecimal)<a id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__CJAEBHFB" name="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__CJAEBHFB" href="#GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__CJAEBHFB" onclick="footdisplay(1, "The P1RAW, P2RAW, and P3RAW columns display the same values as the P1, P2, and P3 columns, except that the numbers are displayed in hexadecimal.")"><sup>Foot&nbsp;1</sup></a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1477" headers="d2035542e169 ">
                              <p><code class="codeph">P2TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1477 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1477 d2035542e175 ">
                              <p>Description of the second wait event parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1489" headers="d2035542e169 ">
                              <p><code class="codeph">P2</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1489 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1489 d2035542e175 ">
                              <p>Second wait event parameter (in decimal)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1501" headers="d2035542e169 ">
                              <p><code class="codeph">P2RAW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1501 d2035542e172 ">
                              <p><code class="codeph">RAW(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1501 d2035542e175 ">
                              <p>Second wait event parameter (in hexadecimal)<a id="fnsrc_d2035542e1512" name="fnsrc_d2035542e1512" href="#fnsrc_d2035542e1512" onclick="footdisplay(1, "The P1RAW, P2RAW, and P3RAW columns display the same values as the P1, P2, and P3 columns, except that the numbers are displayed in hexadecimal.")"><sup>Footref&nbsp;1</sup></a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1515" headers="d2035542e169 ">
                              <p><code class="codeph">P3TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1515 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1515 d2035542e175 ">
                              <p>Description of the third wait event parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1528" headers="d2035542e169 ">
                              <p><code class="codeph">P3</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1528 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1528 d2035542e175 ">
                              <p>Third wait event parameter (in decimal)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1540" headers="d2035542e169 ">
                              <p><code class="codeph">P3RAW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1540 d2035542e172 ">
                              <p><code class="codeph">RAW(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1540 d2035542e175 ">
                              <p>Third wait event parameter (in hexadecimal)<a id="fnsrc_d2035542e1551" name="fnsrc_d2035542e1551" href="#fnsrc_d2035542e1551" onclick="footdisplay(1, "The P1RAW, P2RAW, and P3RAW columns display the same values as the P1, P2, and P3 columns, except that the numbers are displayed in hexadecimal.")"><sup>Footref&nbsp;1</sup></a></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1554" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_CLASS_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1554 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1554 d2035542e175 ">
                              <p>Identifier of the class of the wait event</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1566" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_CLASS#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1566 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1566 d2035542e175 ">
                              <p>Number of the class of the wait event</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1578" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_CLASS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1578 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1578 d2035542e175 ">
                              <p>Name of the class of the wait event</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1590" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1590 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1590 d2035542e175 ">
                              <p>If the session is currently waiting, then the value is <code class="codeph">0</code>. If the session is not in a wait, then the value is as follows:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>&gt; <code class="codeph">0</code> - Value is the duration of the last wait in hundredths of a second
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">-1</code> - Duration of the last wait was less than a hundredth of a second
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">-2</code> - Parameter <code class="codeph">TIMED_STATISTICS</code> was set to <code class="codeph">false</code></p>
                                 </li>
                              </ul>
                              <p>This column has been deprecated in favor of the columns <code class="codeph">WAIT_TIME_MICRO</code> and <code class="codeph">STATE</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1635" headers="d2035542e169 ">
                              <p><code class="codeph">SECONDS_IN_WAIT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1635 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1635 d2035542e175 ">
                              <p>If the session is currently waiting, then the value is the amount of time waited for the current wait. If the session is not in a wait, then the value is the amount of time since the start of the last wait.</p>
                              <p>This column has been deprecated in favor of the columns <code class="codeph">WAIT_TIME_MICRO</code> and <code class="codeph">TIME_SINCE_LAST_WAIT_MICRO</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1655" headers="d2035542e169 ">
                              <p><code class="codeph">STATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1655 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(19)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1655 d2035542e175 ">
                              <p>Wait state:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">WAITING</code> - Session is currently waiting
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">WAITED UNKNOWN TIME</code> - Duration of the last wait is unknown; this is the value when the parameter <code class="codeph">TIMED_STATISTICS</code> is set to <code class="codeph">false</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">WAITED SHORT TIME</code> - Last wait was less than a hundredth of a second
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">WAITED KNOWN TIME</code> - Duration of the last wait is specified in the <code class="codeph">WAIT_TIME</code> column
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1696" headers="d2035542e169 ">
                              <p><code class="codeph">WAIT_TIME_MICRO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1696 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1696 d2035542e175 ">
                              <p>Amount of time waited (in microseconds). If the session is currently waiting, then the value is the time spent in the current wait. If the session is currently not in a wait, then the value is the amount of time waited in the last wait.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1708" headers="d2035542e169 ">
                              <p><code class="codeph">TIME_REMAINING_MICRO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1708 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1708 d2035542e175 ">
                              <p>Value is interpreted as follows:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>&gt; <code class="codeph">0</code> - Amount of time remaining for the current wait (in microseconds)
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">0</code> - Current wait has timed out
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">-1</code> - Session can indefinitely wait in the current wait
                                    </p>
                                 </li>
                                 <li>
                                    <p>NULL - Session is not currently waiting</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1740" headers="d2035542e169 ">
                              <p><code class="codeph">TIME_SINCE_LAST_WAIT_MICRO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1740 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1740 d2035542e175 ">
                              <p>Time elapsed since the end of the last wait (in microseconds). If the session is currently in a wait, then the value is <code class="codeph">0</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1756" headers="d2035542e169 ">
                              <p><code class="codeph">SERVICE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1756 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1756 d2035542e175 ">
                              <p>Service name of the session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1768" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1768 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1768 d2035542e175 ">
                              <p>Indicates whether SQL tracing is enabled (<code class="codeph">ENABLED</code>) or disabled (<code class="codeph">DISABLED</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1786" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE_WAITS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1786 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(5)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1786 d2035542e175 ">
                              <p>Indicates whether wait tracing is enabled (<code class="codeph">TRUE</code>) or not (<code class="codeph">FALSE</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1804" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE_BINDS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1804 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(5)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1804 d2035542e175 ">
                              <p>Indicates whether bind tracing is enabled (<code class="codeph">TRUE</code>) or not (<code class="codeph">FALSE</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1822" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRACE_PLAN_STATS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1822 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(10)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1822 d2035542e175 ">
                              <p>Frequency at which row source statistics are dumped in the trace files for each cursor:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">never</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">first_execution</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">all_executions</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1847" headers="d2035542e169 ">
                              <p><code class="codeph">SESSION_EDITION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1847 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1847 d2035542e175 ">
                              <p>Shows the value that, in the session, would be reported by <code class="codeph">sys_context('USERENV', 'SESSION_EDITION_ID')</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1861" headers="d2035542e169 ">
                              <p><code class="codeph">CREATOR_ADDR</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1861 d2035542e172 ">
                              <p><code class="codeph">RAW(4 | 8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1861 d2035542e175 ">
                              <p>Address of the creating process or circuit</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1873" headers="d2035542e169 ">
                              <p><code class="codeph">CREATOR_SERIAL#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1873 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1873 d2035542e175 ">
                              <p>Serial number of the creating process or circuit</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1885" headers="d2035542e169 ">
                              <p><code class="codeph">ECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1885 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1885 d2035542e175 ">
                              <p>Execution context identifier (sent by Application Server)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1897" headers="d2035542e169 ">
                              <p><code class="codeph">SQL_TRANSLATION_PROFILE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1897 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1897 d2035542e175 ">
                              <p>Object number of the SQL translation profile</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1909" headers="d2035542e169 ">
                              <p><code class="codeph">PGA_TUNABLE_MEM</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1909 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1909 d2035542e175 ">
                              <p>The amount of tunable PGA memory (in bytes).</p>
                              <p>Untunable memory is <code class="codeph">PGA_ALLOC_MEM</code> from <code class="codeph">V$PROCESS</code> minus <code class="codeph">PGA_TUNABLE_MEM</code> from <code class="codeph">V$SESSION</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1936" headers="d2035542e169 ">
                              <p><code class="codeph">SHARD_DDL_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1936 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1936 d2035542e175 ">
                              <p>Indicates whether shard DDL is enabled in the current session (<code class="codeph">ENABLED</code>) or not (<code class="codeph">DISABLED</code>).
                              </p>
                              <p>This value is only relevant for the shard catalog database.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1956" headers="d2035542e169 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1956 d2035542e172 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1956 d2035542e175 ">
                              <p>The ID of the container to which the data pertains. Possible values include:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">0</code>: This value is used for rows containing data that pertain to the entire CDB. This value is also used for rows in non-CDBs.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code>: This value is used for rows containing data that pertain to only the root
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span>: Where <span class="italic">n</span> is the applicable container ID for the rows containing data
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1987" headers="d2035542e169 ">
                              <p><code class="codeph">EXTERNAL_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1987 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(1024)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1987 d2035542e175 ">
                              <p>External name of the database user. For enterprise users, returns the Oracle Internet Directory DN.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d2035542e1999" headers="d2035542e169 ">
                              <p><code class="codeph">PLSQL_DEBUGGER_CONNECTED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d2035542e1999 d2035542e172 ">
                              <p><code class="codeph">VARCHAR2(5)</code></p>
                           </td>
                           <td align="left" valign="top" width="58%" headers="d2035542e1999 d2035542e175 ">
                              <div class="p">Indicates whether the session is connected to a PL/SQL debugger. Possible values:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">TRUE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">FALSE</code></p>
                                    </li>
                                 </ul>
                              </div>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>The <code class="codeph">P1RAW</code>, <code class="codeph">P2RAW</code>, and <code class="codeph">P3RAW</code> columns display the same values as the <code class="codeph">P1</code>, <code class="codeph">P2</code>, and <code class="codeph">P3</code> columns, except that the numbers are displayed in hexadecimal.
                  </p>
               <p></p>
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-28E2DC75-E157-4C0A-94AB-117C205789B9__GUID-8171BF1F-9696-4392-A360-C6524AF3D2E7">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../tgdba/instance-tuning-using-performance-views.html#TGDBA-GUID-03401D0F-DB3E-49E5-89E0-2F2A6164A5C0" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for an example of using <code class="codeph">V$SESSION</code> to help identify an object that is waiting for buffer busy waits
                           </p>
                        </li>
                        <li>
                           <p><a href="../tgdba/instance-tuning-using-performance-views.html#TGDBA-GUID-E8F12EF9-B4A8-441F-9814-763BB793FAF9" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for an example of using <code class="codeph">V$SESSION</code> to determine which sessions are waiting for I/O
                           </p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information on the <code class="codeph">DBMS_APPLICATION_INFO</code> package
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='13038.designing-and-developing-for-performance.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Designing and Developing for Performance</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Performance Tuning Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Performance Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00">
      <meta name="dcterms.title" content="Database Performance Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96347-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performance-tuning-overview.html" title="Previous" type="text/html">
      <link rel="next" href="performance-improvement-methods.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performance-tuning-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="performance-improvement-methods.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Performance Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-I-database-performance-fundamentals.html" property="item" typeof="WebPage"><span property="name">Database Performance Fundamentals </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Designing and Developing for Performance</li>
            </ol>
            <a id="GUID-CF4C8C89-9FFA-474F-B0F8-79049B8EB5FC" name="GUID-CF4C8C89-9FFA-474F-B0F8-79049B8EB5FC"></a><a id="TGDBA030"></a>
            
            <h2 id="TGDBA-GUID-CF4C8C89-9FFA-474F-B0F8-79049B8EB5FC" class="sect2"><span class="enumeration_chapter">2 </span> Designing and Developing for Performance
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Optimal system performance begins with design and continues throughout the life of your system. Carefully consider performance issues during the initial design phase so that you can tune your system more easily during production. </p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-30C7065F-C099-4D3A-AA43-D61991FA5883">Oracle Methodology</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083">Understanding Investment Options</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD" title="Scalability is a system's ability to process more workload, with a proportional increase in system resource usage.Applications that are accessible through the Internet have more complex performance and availability requirements.When building applications, designers and architects should aim for as close to perfect scalability as possible. This is sometimes called linear scalability, where system throughput is directly proportional to the number of CPUs.">Understanding Scalability</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503">System Architecture</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570"> Application Design Principles</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594">Workload Testing, Modeling, and Implementation</a></p>
                  </li>
                  <li>
                     <p><a href="designing-and-developing-for-performance.html#GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76">Deploying New Applications</a></p>
                  </li>
               </ul>
            </div><a id="TGDBA94087"></a><div class="props_rev_3"><a id="GUID-30C7065F-C099-4D3A-AA43-D61991FA5883" name="GUID-30C7065F-C099-4D3A-AA43-D61991FA5883"></a><h3 id="TGDBA-GUID-30C7065F-C099-4D3A-AA43-D61991FA5883" class="sect3"><span class="enumeration_section">2.1 </span>Oracle Methodology
               </h3>
               <div>
                  <p>System performance has become increasingly important as computer systems get larger and more complex as the Internet plays a bigger role in business applications. To accommodate this, Oracle has produced a performance methodology based on years of designing and performance experience. This methodology explains clear and simple activities that can dramatically improve system performance.</p>
                  <p>Performance strategies vary in their effectiveness, and systems with different purposes—such as operational systems and decision support systems—require different performance skills. This book examines the considerations that any database designer, administrator, or performance expert should focus their efforts on.</p>
                  <p>System performance is designed and built into a system. It does not just happen. Performance problems are usually the result of contention for, or exhaustion of, some system resource. When a system resource is exhausted, the system cannot scale to higher levels of performance. This new performance methodology is based on careful planning and design of the database, to prevent system resources from becoming exhausted and causing down-time. By eliminating resource conflicts, systems can be made scalable to the levels required by the business. </p>
               </div>
            </div><a id="TGDBA94088"></a><div class="props_rev_3"><a id="GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083" name="GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083"></a><h3 id="TGDBA-GUID-7521343A-F41D-4A5A-873F-ECB29E4E5083" class="sect3"><span class="enumeration_section">2.2 </span>Understanding Investment Options
               </h3>
               <div>
                  <p>With the availability of relatively inexpensive, high-powered processors, memory, and disk drives, there is a temptation to buy more system resources to improve performance. In many situations, new CPUs, memory, or more disk drives can indeed provide an immediate performance improvement. However, any performance increases achieved by adding hardware should be considered a short-term relief to an immediate problem. If the demand and load rates on the application continue to grow, then the chance of the same problem occurring soon is likely. </p>
                  <p>In other situations, additional hardware does not improve the system's performance at all. Poorly designed systems perform poorly no matter how much extra hardware is allocated. Before purchasing additional hardware, ensure that serialization or single threading is not occurring within the application. Long-term, it is generally more valuable to increase the efficiency of your application in terms of the number of physical resources used for each business transaction.</p>
               </div>
            </div><a id="TGDBA94089"></a><div class="props_rev_3"><a id="GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD" name="GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD"></a><h3 id="TGDBA-GUID-A0BA6C45-EF2B-4171-B716-51E7595F7DCD" class="sect3"><span class="enumeration_section">2.3 </span>Understanding Scalability
               </h3>
               <div>
                  <p>The word <span class="italic">scalability</span> is used in many contexts in development environments. The following section provides an explanation of scalability that is aimed at application designers and performance specialists. 
                  </p>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155" title="Scalability is a system's ability to process more workload, with a proportional increase in system resource usage.">What is Scalability?</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3" title="Applications that are accessible through the Internet have more complex performance and availability requirements.">System Scalability</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2" title="When building applications, designers and architects should aim for as close to perfect scalability as possible. This is sometimes called linear scalability, where system throughput is directly proportional to the number of CPUs.">Factors Preventing Scalability</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94090"></a><div class="props_rev_3"><a id="GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155" name="GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155"></a><h4 id="TGDBA-GUID-8168998B-9EC1-4AC2-8176-AFEFCAF7F155" class="sect4"><span class="enumeration_section">2.3.1 </span>What is Scalability?
                  </h4>
                  <div>
                     <p>Scalability is a system's ability to process more workload, with a proportional increase in system resource usage.</p>
                     <p>In a scalable system, if you double the workload, then the system uses twice as many system resources. This sounds obvious, but due to conflicts within the system, the resource usage might exceed twice the original workload.</p>
                     <p>Examples of poor scalability due to resource conflicts include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Applications requiring significant concurrency management as user populations increase</p>
                        </li>
                        <li>
                           <p>Increased locking activities</p>
                        </li>
                        <li>
                           <p>Increased data consistency workload</p>
                        </li>
                        <li>
                           <p>Increased operating system workload</p>
                        </li>
                        <li>
                           <p>Transactions requiring increases in data access as data volumes increase</p>
                        </li>
                        <li>
                           <p>Poor SQL and index design resulting in a higher number of logical I/Os for the same number of rows returned</p>
                        </li>
                        <li>
                           <p>Reduced availability, because database objects take longer to maintain</p>
                        </li>
                     </ul>
                     <p>An application is said to be unscalable if it exhausts a system resource to the point where no more throughput is possible when its workload is increased. Such applications result in fixed throughputs and poor response times.</p>
                     <p>Examples of resource exhaustion include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Hardware exhaustion</p>
                        </li>
                        <li>
                           <p>Table scans in high-volume transactions causing inevitable disk I/O shortages</p>
                        </li>
                        <li>
                           <p>Excessive network requests, resulting in network and scheduling bottlenecks</p>
                        </li>
                        <li>
                           <p>Memory allocation causing paging and swapping</p>
                        </li>
                        <li>
                           <p>Excessive process and thread allocation causing operating system thrashing</p>
                        </li>
                     </ul>
                     <p>This means that application designers must create a design that uses the same resources, regardless of user populations and data volumes, and does not put loads on the system resources beyond their limits.</p>
                  </div>
               </div><a id="TGDBA94092"></a><a id="TGDBA94091"></a><div class="props_rev_3"><a id="GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3" name="GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3"></a><h4 id="TGDBA-GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3" class="sect4"><span class="enumeration_section">2.3.2 </span>System Scalability
                  </h4>
                  <div>
                     <p>Applications that are accessible through the Internet have more complex performance and availability requirements.</p>
                     <p>Some applications are designed and written only for Internet use, but even typical back-office applications—such as a general ledger application—might require some or all data to be available online.</p>
                     <p>Characteristics of Internet age applications include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Availability 24 hours a day, 365 days a year</p>
                        </li>
                        <li>
                           <p>Unpredictable and imprecise number of concurrent users</p>
                        </li>
                        <li>
                           <p>Difficulty in capacity planning</p>
                        </li>
                        <li>
                           <p>Availability for any type of query</p>
                        </li>
                        <li>
                           <p>Multitier architectures</p>
                        </li>
                        <li>
                           <p>Stateless middleware</p>
                        </li>
                        <li>
                           <p>Rapid development timescale</p>
                        </li>
                        <li>
                           <p>Minimal time for testing</p>
                        </li>
                     </ul>
                     <p>The following figure illustrates the classic workload growth curve, with demand growing at an increasing rate. Applications must scale with the increase of workload and also when additional hardware is added to support increasing demand. Design errors can cause the implementation to reach its maximum, regardless of additional hardware resources or re-design efforts.</p>
                     <div class="figure" id="GUID-5D62A34F-3A74-496A-A4F6-28CBC64BF0A3__I27836">
                        <p class="titleinfigure">Figure 2-1 Workload Growth Curve</p><img src="img/figure_021_workload_growth_curve.gif" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows" longdesc="img_text/figure_021_workload_growth_curve.html"><br><a href="img_text/figure_021_workload_growth_curve.html">Description of "Figure 2-1 Workload Growth Curve"</a></div>
                     <!-- class="figure" -->
                     <p>Applications are challenged by very short development timeframes with limited time for testing and evaluation. However, bad design typically means that you must later rearchitect and reimplement the system. If you deploy an application with known architectural and implementation limitations on the Internet, and if the workload exceeds the anticipated demand, then failure is a real possibility. From a business perspective, poor performance can mean a loss of customers. If Web users do not get a response in seven seconds, then the user's attention could be lost forever.</p>
                     <p>In many cases, the cost of re-designing a system with the associated downtime costs in migrating to new implementations exceeds the costs of properly building the original system. The moral of the story is simple: design and implement with scalability in mind from the start.</p>
                  </div>
               </div><a id="TGDBA94093"></a><div class="props_rev_3"><a id="GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2" name="GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2"></a><h4 id="TGDBA-GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2" class="sect4"><span class="enumeration_section">2.3.3 </span>Factors Preventing Scalability
                  </h4>
                  <div>
                     <p>When building applications, designers and architects should aim for as close to perfect scalability as possible. This is sometimes called <span class="italic">linear</span> scalability, where system throughput is directly proportional to the number of CPUs.
                     </p>
                     <p></p>
                     <p>In the real world, linear scalability is impossible for reasons beyond a designer's control. However, making the application design and implementation as scalable as possible should ensure that current and future performance objectives can be achieved through expansion of hardware components and the evolution of CPU technology.</p>
                     <p>Factors that may prevent linear scalability include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Poor application design, implementation, and configuration</p>
                           <p> The application has the biggest impact on scalability. For example:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Poor schema design can cause expensive SQL that do not scale. </p>
                              </li>
                              <li>
                                 <p>Poor transaction design can cause locking and serialization problems. </p>
                              </li>
                              <li>
                                 <p>Poor connection management can cause poor response times and unreliable systems. </p>
                              </li>
                           </ul>
                           <p>However, the design is not the only problem. The physical implementation of the application can be the weak link. For example:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Systems can move to production environments with bad I/O strategies. </p>
                              </li>
                              <li>
                                 <p>The production environment could might different execution plans from those generated in testing.</p>
                              </li>
                              <li>
                                 <p>Memory-intensive applications that allocate a large amount of memory without much thought for freeing the memory at run time can cause excessive memory usage.</p>
                              </li>
                              <li>
                                 <p>Inefficient memory usage and memory leaks put a high stress on the operating virtual memory subsystem. This impacts performance and availability.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Incorrect sizing of hardware components</p>
                           <p>Bad capacity planning of all hardware components is becoming less of a problem as relative hardware prices decrease. However, too much capacity can mask scalability problems as the workload is increased on a system.</p>
                        </li>
                        <li>
                           <p>Limitations of software components</p>
                           <p>All software components have scalability and resource usage limitations. This applies to application servers, database servers, and operating systems. Application design should not place demands on the software beyond what it can handle.</p>
                        </li>
                        <li>
                           <p>Limitations of hardware components</p>
                           <p>Hardware is not perfectly scalable. Most multiprocessor computers can get close to linear scaling with a finite number of CPUs, but after a certain point each additional CPU can increase performance overall, but not proportionately. There might come a time when an additional CPU offers no increase in performance, or even degrades performance. This behavior is very closely linked to the workload and the operating system setup.</p>
                           <div class="infoboxnote" id="GUID-8C0104E0-B20B-475A-9F03-93063D05A4E2__GUID-9B8138ED-49D3-4A7D-AA8A-5577CE843FBD">
                              <p class="notep1">Note:</p>
                              <p>These factors are based on Oracle Server Performance group's experience of tuning unscalable systems.</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TGDBA94094"></a><div class="props_rev_3"><a id="GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503" name="GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503"></a><h3 id="TGDBA-GUID-F8511B21-9EEA-4F1D-A1A0-C7CCEF914503" class="sect3"><span class="enumeration_section">2.4 </span>System Architecture
               </h3>
               <div>
                  <p><a id="d5548e672" class="indexterm-anchor"></a>There are two main parts to a system's architecture:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-066F374E-35CE-4884-82C8-4F12BE61D727">Hardware and Software Components</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09">Configuring the Right System Architecture for Your Requirements</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94095"></a><div class="props_rev_3"><a id="GUID-066F374E-35CE-4884-82C8-4F12BE61D727" name="GUID-066F374E-35CE-4884-82C8-4F12BE61D727"></a><h4 id="TGDBA-GUID-066F374E-35CE-4884-82C8-4F12BE61D727" class="sect4"><span class="enumeration_section">2.4.1 </span>Hardware and Software Components
                  </h4>
                  <div>
                     <p>A system architecture mainly contains hardware and software components.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B">Hardware Components</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-9D533999-8218-4895-A914-382EEC08B6A9">Software Components</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA94096"></a><div class="props_rev_3"><a id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B" name="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B"></a><h5 id="TGDBA-GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B" class="sect5"><span class="enumeration_section">2.4.1.1 </span>Hardware Components
                     </h5>
                     <div>
                        <p>Today's designers and architects are responsible for sizing and capacity planning of hardware at each tier in a multitier environment. It is the architect's responsibility to achieve a balanced design. This is analogous to a bridge designer who must consider all the various payload and structural requirements for the bridge. A bridge is only as strong as its weakest component. As a result, a bridge is designed in balance, such that all components reach their design limits simultaneously.</p>
                        <p>The following are the main hardware components of a system.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-9669160A-54D2-4888-BC7F-52976D08C512">CPU</p>
                           <p><a id="d5548e819" class="indexterm-anchor"></a><a id="d5548e825" class="indexterm-anchor"></a>There can be one or more CPUs, and they can vary in processing power from simple CPUs found in hand-held devices to high-powered server CPUs. Sizing of other hardware components is usually a multiple of the CPUs on the system.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-5F989B02-9AE8-4B95-9D61-685BAC4A559C">Memory</p>
                           <p><a id="d5548e832" class="indexterm-anchor"></a><a id="d5548e838" class="indexterm-anchor"></a>Database and application servers require considerable amounts of memory to cache data and avoid time-consuming disk access.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-370E3734-8A26-48D7-8C3F-6A15067B4CC6">I/O Subsystem</p>
                           <p><a id="d5548e847" class="indexterm-anchor"></a>The I/O subsystem can vary between the hard disk on a client PC and high performance disk arrays. Disk arrays can perform thousands of I/Os each second and provide availability through redundancy in terms of multiple I/O paths and hot pluggable mirrored disks.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-97E036C1-B8CF-4CF8-BCE6-2E9AE10D3D1B__GUID-D0ACD511-C48C-4795-B342-1531CBD73425">Network</p>
                           <p><a id="d5548e858" class="indexterm-anchor"></a><a id="d5548e864" class="indexterm-anchor"></a>All computers in a system are connected to a network, from a modem line to a high speed internal LAN. The primary concerns with network specifications are bandwidth (volume) and latency (speed).
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA94101"></a><div class="props_rev_3"><a id="GUID-9D533999-8218-4895-A914-382EEC08B6A9" name="GUID-9D533999-8218-4895-A914-382EEC08B6A9"></a><h5 id="TGDBA-GUID-9D533999-8218-4895-A914-382EEC08B6A9" class="sect5"><span class="enumeration_section">2.4.1.2 </span>Software Components
                     </h5>
                     <div>
                        <p>The same way computers have common hardware components, applications have common functional components. By dividing software development into functional components, it is possible to better comprehend the application design and architecture. Some components of the system are performed by existing software bought to accelerate application implementation, or to avoid re-development of common components. </p>
                        <p>The difference between software components and hardware components is that while hardware components only perform one task, a piece of software can perform the roles of various software components. For example, a disk drive only stores and retrieves data, but a client program can manage the user interface and perform business logic.</p>
                        <p>Most applications involve the following software components:</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-2234C6B9-58B4-414C-BC61-5BB089F631C9">User Interface</p>
                           <p><a id="d5548e942" class="indexterm-anchor"></a><a id="d5548e948" class="indexterm-anchor"></a>This component is the most visible to application users, and includes the following functions:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Displaying the screen to the user</p>
                              </li>
                              <li>
                                 <p>Collecting user data and transferring it to business logic </p>
                              </li>
                              <li>
                                 <p>Validating data entry </p>
                              </li>
                              <li>
                                 <p>Navigating through levels or states of the application</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-F3208F93-01BE-484A-A92D-BE5639E37484">Business Logic</p>
                           <p><a id="d5548e968" class="indexterm-anchor"></a><a id="d5548e974" class="indexterm-anchor"></a><a id="d5548e976" class="indexterm-anchor"></a>This component implements core business rules that are central to the application function. Errors made in this component can be very costly to repair. This component is implemented by a mixture of declarative and procedural approaches. An example of a declarative activity is defining unique and foreign keys. An example of procedure-based logic is implementing a discounting strategy. 
                           </p>
                           <p>Common functions of this component include:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Moving a data model to a relational table structure</p>
                              </li>
                              <li>
                                 <p>Defining constraints in the relational table structure</p>
                              </li>
                              <li>
                                 <p>Coding procedural logic to implement business rules </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-8CF7611D-B97F-47EB-87A7-642E37C7D6D9">Resources for Managing User Requests</p>
                           <p><a id="d5548e995" class="indexterm-anchor"></a><a id="d5548e1001" class="indexterm-anchor"></a>This component is implemented in all pieces of software. However, there are some requests and resources that can be influenced by the application design and some that cannot. 
                           </p>
                           <p>In a multiuser application, most resource allocation by user requests are handled by the database server or the operating system. However, in a large application where the number of users and their usage pattern is unknown or growing rapidly, the system architect must be proactive to ensure that no single software component becomes overloaded and unstable.</p>
                           <p>Common functions of this component include:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Connection management with the database</p>
                              </li>
                              <li>
                                 <p>Executing SQL efficiently (cursors and SQL sharing)</p>
                              </li>
                              <li>
                                 <p>Managing client state information</p>
                              </li>
                              <li>
                                 <p>Balancing the load of user requests across hardware resources</p>
                              </li>
                              <li>
                                 <p>Setting operational targets for hardware and software components </p>
                              </li>
                              <li>
                                 <p>Persistent queuing for asynchronous execution of tasks</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9D533999-8218-4895-A914-382EEC08B6A9__GUID-8100FF86-0A9E-46FE-A288-A9BDC4ECDB3F">Data and Transactions</p>
                           <p><a id="d5548e1033" class="indexterm-anchor"></a><a id="d5548e1039" class="indexterm-anchor"></a><a id="d5548e1043" class="indexterm-anchor"></a>This component is largely the responsibility of the database server and the operating system. 
                           </p>
                           <p>Common functions of this component include:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Providing concurrent access to data using locks and transactional semantics</p>
                              </li>
                              <li>
                                 <p>Providing optimized access to the data using indexes and memory cache</p>
                              </li>
                              <li>
                                 <p>Ensuring that data changes are logged in the event of a hardware failure</p>
                              </li>
                              <li>
                                 <p>Enforcing any rules defined for the data</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TGDBA94106"></a><div class="props_rev_3"><a id="GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09" name="GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09"></a><h4 id="TGDBA-GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09" class="sect4"><span class="enumeration_section">2.4.2 </span>Configuring the Right System Architecture for Your Requirements
                  </h4>
                  <div>
                     <p><a id="d5548e1111" class="indexterm-anchor"></a>Configuring the initial system architecture is a largely iterative process. System architects must satisfy the system requirements within budget and schedule constraints. If the system requires interactive users transacting business-making decisions based on the contents of a database, then user requirements drive the architecture. If there are few interactive users on the system, then the architecture is process-driven. 
                     </p>
                     <p>Examples of interactive user applications: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Accounting and bookkeeping applications </p>
                        </li>
                        <li>
                           <p>Order entry systems</p>
                        </li>
                        <li>
                           <p>Email servers</p>
                        </li>
                        <li>
                           <p>Web-based retail applications</p>
                        </li>
                        <li>
                           <p>Trading systems</p>
                        </li>
                     </ul>
                     <p>Examples of process-driven applications:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Utility billing systems</p>
                        </li>
                        <li>
                           <p>Fraud detection systems</p>
                        </li>
                        <li>
                           <p>Direct mail</p>
                        </li>
                     </ul>
                     <p>In many ways, process-driven applications are easier to design than multiuser applications because the user interface element is eliminated. However, because the objectives are process-oriented, system architects not accustomed to dealing with large data volumes and different success factors can become confused. Process-driven applications draw from the skills sets used in both user-based applications and data warehousing. Therefore, this book focuses on evolving system architectures for interactive users.</p>
                     <div class="infoboxnote" id="GUID-8537D484-BF0E-4D6B-A37E-32797B66AE09__GUID-594CDD81-8D52-4AAA-B7E2-07E66313B64A">
                        <p class="notep1">Note:</p>
                        <p>Generating a system architecture is not a deterministic process. It requires careful consideration of business requirements, technology choices, existing infrastructure and systems, and actual physical resources, such as budget and manpower.</p>
                     </div>
                     <p>The following questions should stimulate thought on system architecture, though they are not a definitive guide to system architecture. These questions demonstrate how business requirements can influence the architecture, ease of implementation, and overall performance and availability of a system. For example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d5548e1156" class="indexterm-anchor"></a>How many users must the system support?
                           </p>
                           <p>Most applications fall into one of the following categories: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Very few users on a lightly-used or exclusive computer </p>
                                 <p>For this type of application, there is usually one user. The focus of the application design is to make the single user as productive as possible by providing good response time, yet make the application require minimal administration. Users of these applications rarely interfere with each other and have minimal resource conflicts.</p>
                              </li>
                              <li>
                                 <p>A medium to large number of users in a corporation using shared applications</p>
                                 <p>For this type of application, the users are limited by the number of employees in the corporation actually transacting business through the system. Therefore, the number of users is predictable. However, delivering a reliable service is crucial to the business. The users must share a resource, so design efforts must address response time under heavy system load, escalation of resource for each session usage, and room for future growth. </p>
                              </li>
                              <li>
                                 <p>An infinite user population distributed on the Internet </p>
                                 <p>For this type of application, extra engineering effort is required to ensure that no system component exceeds its design limits. This creates a bottleneck that halts or destabilizes the system. These applications require complex load balancing, stateless application servers, and efficient database connection management. In addition, use statistics and governors to ensure that the user receives feedback if the database cannot satisfy their requests because of system overload.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><a id="d5548e1181" class="indexterm-anchor"></a>What will be the user interaction method? 
                           </p>
                           <p>The choices of user interface range from a simple Web browser to a custom client program.</p>
                        </li>
                        <li>
                           <p><a id="d5548e1190" class="indexterm-anchor"></a>Where are the users located?
                           </p>
                           <p>The distance between users influences how the application is engineered to cope with network latencies. The location also affects which times of the day are busy, when it is impossible to perform batch or system maintenance functions.</p>
                        </li>
                        <li>
                           <p><a id="d5548e1199" class="indexterm-anchor"></a><a id="d5548e1203" class="indexterm-anchor"></a>What is the network speed?
                           </p>
                           <p>Network speed affects the amount of data and the conversational nature of the user interface with the application and database servers. A highly conversational user interface can communicate with back-end servers on every key stroke or field level validation. A less conversational interface works on a screen-sent and a screen-received model. On a slow network, it is impossible to achieve high data entry speeds with a highly conversational user interface.</p>
                        </li>
                        <li>
                           <p>How much data will the user access, and how much of that data is largely read only?</p>
                           <p><a id="d5548e1214" class="indexterm-anchor"></a><a id="d5548e1218" class="indexterm-anchor"></a><a id="d5548e1222" class="indexterm-anchor"></a>The amount of data queried online influences all aspects of the design, from table and index design to the presentation layers. Design efforts must ensure that user response time is not a function of the size of the database. If the application is largely read only, then replication and data distribution to local caches in the application servers become a viable option. This also reduces workload on the core transactional server.
                           </p>
                        </li>
                        <li>
                           <p><a id="d5548e1229" class="indexterm-anchor"></a><a id="d5548e1233" class="indexterm-anchor"></a>What is the user response time requirement?
                           </p>
                           <p>Consideration of the user type is important. If the user is an executive who requires accurate information to make split second decisions, then user response time cannot be compromised. Other types of users, such as users performing data entry activities, might not need such a high level of performance.</p>
                        </li>
                        <li>
                           <p><a id="d5548e1240" class="indexterm-anchor"></a><a id="d5548e1242" class="indexterm-anchor"></a>Do users expect 24 hour service?
                           </p>
                           <p>This is mandatory for today's Internet applications where trade is conducted 24 hours a day. However, corporate systems that run in a single time zone might be able to tolerate after-hours downtime. You can use this after-hours downtime to run batch processes or to perform system administration. In this case, it might be more economic not to run a fully-available system.</p>
                        </li>
                        <li>
                           <p>Must all changes be made in real time?</p>
                           <p>It is important to determine whether transactions must be executed within the user response time, or if they can be queued for asynchronous execution.</p>
                        </li>
                     </ul>
                     <p>The following are secondary questions, which can also influence the design, but really have more impact on budget and ease of implementation. For example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d5548e1257" class="indexterm-anchor"></a>How big will the database be?
                           </p>
                           <p>This influences the sizing of the database server. On servers with a very large database, it might be necessary to have a bigger computer than dictated by the workload. This is because the administration overhead with large databases is largely a function of the database size. As tables and indexes grow, it takes proportionately more CPUs to allow table reorganizations and index builds to complete in an acceptable time limit.</p>
                        </li>
                        <li>
                           <p>What is the required throughput of business transactions?</p>
                        </li>
                        <li>
                           <p>What are the availability requirements?</p>
                        </li>
                        <li>
                           <p>Do skills exist to build and administer this application?</p>
                        </li>
                        <li>
                           <p>What compromises are forced by budget constraints?</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TGDBA94107"></a><div class="props_rev_3"><a id="GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570" name="GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570"></a><h3 id="TGDBA-GUID-FB81D395-1940-49A2-925A-5AD3E1DBB570" class="sect3"><span class="enumeration_section">2.5 </span> Application Design Principles
               </h3>
               <div>
                  <p><a id="d5548e1326" class="indexterm-anchor"></a><a id="d5548e1330" class="indexterm-anchor"></a>This section describes the following design decisions that are involved in building applications:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596">Simplicity In Application Design</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47">Data Modeling</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D">Table and Index Design</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21">Using Views</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D">SQL Execution Efficiency</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F">Implementing the Application </a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2">Trends in Application Development</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94108"></a><div class="props_rev_3"><a id="GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596" name="GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596"></a><h4 id="TGDBA-GUID-FEF689B9-9D3B-4671-BBA7-AF9F0DB3B596" class="sect4"><span class="enumeration_section">2.5.1 </span>Simplicity In Application Design
                  </h4>
                  <div>
                     <p>Applications are no different than any other designed and engineered product. Well-designed structures, computers, and tools are usually reliable, easy to use and maintain, and simple in concept. In the most general terms, if the design looks correct, then it probably is. This principle should always be kept in mind when building applications. </p>
                     <p>Consider the following design issues:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the table design is so complicated that nobody can fully understand it, then the table is probably poorly designed.</p>
                        </li>
                        <li>
                           <p>If SQL statements are so long and involved that it would be impossible for any optimizer to effectively optimize it in real time, then there is probably a bad statement, underlying transaction, or table design.</p>
                        </li>
                        <li>
                           <p>If there are indexes on a table and the same columns are repeatedly indexed, then there is probably a poor index design.</p>
                        </li>
                        <li>
                           <p>If queries are submitted without suitable qualification for rapid response for online users, then there is probably a poor user interface or transaction design.</p>
                        </li>
                        <li>
                           <p>If the calls to the database are abstracted away from the application logic by many layers of software, then there is probably a bad software development method.   </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA94109"></a><div class="props_rev_3"><a id="GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47" name="GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47"></a><h4 id="TGDBA-GUID-BCFE8E0F-E08E-4D4A-8AD8-73C5342ACE47" class="sect4"><span class="enumeration_section">2.5.2 </span>Data Modeling
                  </h4>
                  <div>
                     <p><a id="d5548e1488" class="indexterm-anchor"></a><a id="d5548e1492" class="indexterm-anchor"></a>Data modeling is important to successful relational application design. You must perform this modeling in a way that quickly represents the business practices. Heated debates may occur about the correct data model. The important thing is to apply greatest modeling efforts to those entities affected by the most frequent business transactions. In the modeling phase, there is a great temptation to spend too much time modeling the non-core data elements, which results in increased development lead times. Use of modeling tools can then rapidly generate schema definitions and can be useful when a fast prototype is required.
                     </p>
                  </div>
               </div><a id="TGDBA94110"></a><div class="props_rev_3"><a id="GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D" name="GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D"></a><h4 id="TGDBA-GUID-99A7FD1B-CEFD-4E91-9486-2CBBFC2B7A1D" class="sect4"><span class="enumeration_section">2.5.3 </span>Table and Index Design
                  </h4>
                  <div>
                     <p><a id="d5548e1548" class="indexterm-anchor"></a>Table design is largely a compromise between flexibility and performance of core transactions. To keep the database flexible and able to accommodate unforeseen workloads, the table design should be very similar to the data model, and it should be normalized to at least 3rd normal form. However, certain core transactions required by users can require selective denormalization for performance purposes.
                     </p>
                     <p>Examples of this technique include storing tables pre-joined, the addition of derived columns, and aggregate values. Oracle Database provides numerous options for storage of aggregates and pre-joined data by clustering and materialized view functions. These features allow a simpler table design to be adopted initially.</p>
                     <p>Again, focus and resources should be spent on the business critical tables, so that optimal performance can be achieved. For non-critical tables, shortcuts in design can be adopted to enable a more rapid application development. However, if prototyping and testing a non-core table becomes a performance problem, then remedial design effort should be applied immediately.</p>
                     <p><a id="d5548e1558" class="indexterm-anchor"></a>Index design is also a largely iterative process, based on the SQL generated by application designers. However, it is possible to make a sensible start by building indexes that enforce primary key constraints and indexes on known access patterns, such as a person's name. As the application evolves, and as you perform testing on realistic amounts of data, you may need to improve the performance of specific queries by building a better index. Consider the following list of indexing design ideas when building a new index:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9">Appending Columns to an Index or Using Index-Organized Tables</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC">Using a Different Index Type</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335">Finding the Cost of an Index</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-914D618C-022A-4517-BBD0-C1D91D60272C">Serializing within Indexes</a></p>
                        </li>
                        <li>
                           <p><a href="designing-and-developing-for-performance.html#GUID-667C9B46-3D71-427E-BEDF-218718CF2038">Ordering Columns in an Index</a></p>
                        </li>
                     </ul>
                  </div><a id="TGDBA94111"></a><div class="props_rev_3"><a id="GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9" name="GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9"></a><h5 id="TGDBA-GUID-474426C8-9CE1-4BE2-B922-F77F35444FD9" class="sect5"><span class="enumeration_section">2.5.3.1 </span>Appending Columns to an Index or Using Index-Organized Tables
                     </h5>
                     <div>
                        <p><a id="d5548e1639" class="indexterm-anchor"></a><a id="d5548e1643" class="indexterm-anchor"></a>One of the easiest ways to speed up a query is to reduce the number of logical I/Os by eliminating a table access from the execution plan. This can be done by appending to the index all columns referenced by the query. These columns are the select list columns, and any required join or sort columns. This technique is particularly useful in speeding up online applications response times when time-consuming I/Os are reduced. This is best applied when testing the application with properly sized data for the first time.
                        </p>
                        <p>The most aggressive form of this technique is to build an index-organized table (IOT). However, you must be careful that the increased leaf size of an IOT does not undermine the efforts to reduce I/O.</p>
                     </div>
                  </div><a id="TGDBA94112"></a><div class="props_rev_3"><a id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC" name="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC"></a><h5 id="TGDBA-GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC" class="sect5"><span class="enumeration_section">2.5.3.2 </span>Using a Different Index Type
                     </h5>
                     <div>
                        <p>There are several index types available, and each index has benefits for certain situations. The following list gives performance ideas associated with each index type.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-D48B6E6C-0C1E-4E68-ACC6-45DD823F6787">B-Tree Indexes</p>
                           <p><a id="d5548e1705" class="indexterm-anchor"></a><a id="d5548e1707" class="indexterm-anchor"></a>These indexes are the standard index type, and they are excellent for primary key and highly-selective indexes. Used as concatenated indexes, the database can use B-tree indexes to retrieve data sorted by the index columns.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-F41DC082-F6C9-4807-ACC1-43B1C37E53CA">Bitmap Indexes</p>
                           <p><a id="d5548e1716" class="indexterm-anchor"></a><a id="d5548e1718" class="indexterm-anchor"></a>These indexes are suitable for columns that have a relatively low number of distinct values, where the benefit of adding a B-tree index is likely to be limited. These indexes are suitable for data warehousing applications where there is low DML activity and ad hoc filtering patterns. Combining bitmap indexes on columns allows efficient <code class="codeph">AND</code> and <code class="codeph">OR</code> operations with minimal I/O. Further, through compression techniques they can generate a large number of rowids with minimal I/Os. Bitmap indexes are particularly efficient in queries with <code class="codeph">COUNT()</code>, because the query can be satisfied within the index.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-77D4DD35-18F4-447D-9889-7227B79FC2F6">Function-based Indexes</p>
                           <p><a id="d5548e1736" class="indexterm-anchor"></a><a id="d5548e1738" class="indexterm-anchor"></a>These indexes allow access through a B-tree on a value derived from a function on the base data. Function-based indexes have some limitations with regards to the use of nulls, and they require that you have the query optimizer enabled.
                           </p>
                           <p>Function-based indexes are particularly useful when querying on composite columns to produce a derived result or to overcome limitations in the way data is stored in the database. An example is querying for line items in an order exceeding a certain value derived from (sales price - discount) x quantity, where these were columns in the table. Another example is to apply the <code class="codeph">UPPER</code> function to the data to allow case-insensitive searches.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-B87EB95E-4FF5-43F5-A906-01EDEF1A27E9">Partitioned Indexes</p>
                           <p><a id="d5548e1752" class="indexterm-anchor"></a><a id="d5548e1756" class="indexterm-anchor"></a>Partitioning a global index allows partition pruning to take place within an index access, which results in reduced I/Os. By definition of good range or list partitioning, fast index scans of the correct index partitions can result in very fast query times.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-38FC5A9F-89E6-4812-8EE4-F9949B69BCFC__GUID-71C2F820-80AF-4C13-BB71-380C100E6734">Reverse Key Indexes</p>
                           <p><a id="d5548e1763" class="indexterm-anchor"></a><a id="d5548e1767" class="indexterm-anchor"></a>These indexes are designed to eliminate index hot spots on insert applications. These indexes are excellent for insert performance, but they are limited because the database cannot use them for index range scans.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA94118"></a><div class="props_rev_3"><a id="GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335" name="GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335"></a><h5 id="TGDBA-GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335" class="sect5"><span class="enumeration_section">2.5.3.3 </span>Finding the Cost of an Index
                     </h5>
                     <div>
                        <p><a id="d5548e1821" class="indexterm-anchor"></a>Building and maintaining an index structure can be expensive, and it can consume resources such as disk space, CPU, and I/O capacity. Designers must ensure that the benefits of any index outweigh the negatives of index maintenance.
                        </p>
                        <p>Use this simple estimation guide for the cost of index maintenance: each index maintained by an <code class="codeph">INSERT</code>, <code class="codeph">DELETE</code>, or <code class="codeph">UPDATE</code> of the indexed keys requires about three times as much resource as the actual DML operation on the table. Thus, if you <code class="codeph">INSERT</code> into a table with three indexes, then the insertion is approximately 10 times slower than an <code class="codeph">INSERT</code> into a table with no indexes. For DML, and particularly for <code class="codeph">INSERT</code>-heavy applications, the index design should be seriously reviewed, which might require a compromise between the query and <code class="codeph">INSERT</code> performance.
                        </p>
                        <div class="infoboxnotealso" id="GUID-D2F5B6B1-4A75-42D4-8DB7-793C6BACB335__GUID-233AD9CD-BE68-4917-81E9-79B170934E36">
                           <p class="notep1">See Also:</p>
                           <p><a href="../admin/managing-indexes.html#ADMIN11735" target="_blank"><span class="italic">Oracle Database Administrator's Guide </span></a>to learn how to monitor index usage
                           </p>
                        </div>
                     </div>
                  </div><a id="TGDBA94119"></a><div class="props_rev_3"><a id="GUID-914D618C-022A-4517-BBD0-C1D91D60272C" name="GUID-914D618C-022A-4517-BBD0-C1D91D60272C"></a><h5 id="TGDBA-GUID-914D618C-022A-4517-BBD0-C1D91D60272C" class="sect5"><span class="enumeration_section">2.5.3.4 </span>Serializing within Indexes
                     </h5>
                     <div>
                        <p>Use of sequences or timestamps to generate key values that are indexed themselves can lead to database hotspot problems, which affect response time and throughput. This is usually the result of a monotonically growing key that results in a right-growing index. To avoid this problem, try to generate keys that insert over the full range of the index so as to make a workload more scalable. You can achieve this by using any of the following methods:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>using a reverse key index</p>
                           </li>
                           <li>
                              <p>using a hash partitioned index</p>
                           </li>
                           <li>
                              <p>using a cycling sequence to prefix sequence values</p>
                           </li>
                           <li>
                              <p>using a scalable sequence</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-914D618C-022A-4517-BBD0-C1D91D60272C__GUID-93CF383D-787E-4796-B899-117BBA28BFFA">
                           <p class="notep1">See Also:</p>
                           <p><a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN-GUID-700340BB-7517-4994-B9DA-348E6113DD57" target="_blank"><span class="italic">Oracle Database Administrator's Guide </span></a> for more information about the scalable sequences
                           </p>
                        </div>
                     </div>
                  </div><a id="TGDBA94120"></a><div class="props_rev_3"><a id="GUID-667C9B46-3D71-427E-BEDF-218718CF2038" name="GUID-667C9B46-3D71-427E-BEDF-218718CF2038"></a><h5 id="TGDBA-GUID-667C9B46-3D71-427E-BEDF-218718CF2038" class="sect5"><span class="enumeration_section">2.5.3.5 </span>Ordering Columns in an Index
                     </h5>
                     <div>
                        <p><a id="d5548e1988" class="indexterm-anchor"></a><a id="d5548e1992" class="indexterm-anchor"></a><a id="d5548e1996" class="indexterm-anchor"></a><a id="d5548e2000" class="indexterm-anchor"></a>Designers should be flexible in defining any rules for index building. Depending on your circumstances, use one of the following two ways to order the keys in an index:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Order columns with most <a id="d5548e2009" class="indexterm-anchor"></a>selectivity first. This method is the most commonly used because it provides the fastest access with minimal I/O to the actual rowids required. This technique is used mainly for primary keys and for very selective range scans.
                              </p>
                           </li>
                           <li>
                              <p>Order columns to reduce I/O by clustering or sorting data. In large range scans, I/Os can usually be reduced by ordering the columns in the least selective order, or in a manner that sorts the data in the way it should be retrieved.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA94121"></a><div class="props_rev_3"><a id="GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21" name="GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21"></a><h4 id="TGDBA-GUID-5262FB3D-4473-47A6-BDAE-F996192F9F21" class="sect4"><span class="enumeration_section">2.5.4 </span>Using Views
                  </h4>
                  <div>
                     <p><a id="d5548e2067" class="indexterm-anchor"></a>Views can speed up and simplify application design. A simple view definition can mask data model complexity from the programmers whose priorities are to retrieve, display, collect, and store data. 
                     </p>
                     <p>However, while views provide clean programming interfaces, they can cause sub-optimal, resource-intensive queries. The worst type of view use is when a view references other views, and when they are joined in queries. In many cases, developers can satisfy the query directly from the table without using a view. Usually, because of their inherent properties, views make it difficult for the optimizer to generate the optimal execution plan.</p>
                  </div>
               </div><a id="TGDBA94122"></a><div class="props_rev_3"><a id="GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D" name="GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D"></a><h4 id="TGDBA-GUID-B95920ED-53C2-42A7-A53D-9083974A7A1D" class="sect4"><span class="enumeration_section">2.5.5 </span>SQL Execution Efficiency
                  </h4>
                  <div>
                     <p>In the design and architecture phase of any system development, care should be taken to ensure that the application developers understand SQL execution efficiency. To achieve this goal, the development environment must support the following characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Good database connection management</p>
                           <p>Connecting to the database is an expensive operation that is highly unscalable. Therefore, the number of concurrent connections to the database should be minimized as much as possible. A simple system, where a user connects at application initialization, is ideal. However, in a Web-based or multitiered application, where application servers are used to multiplex database connections to users, this can be difficult. With these types of applications, design efforts should ensure that database connections are pooled and are not reestablished for each user request.</p>
                        </li>
                        <li>
                           <p>Good cursor usage and management</p>
                           <p>Maintaining user connections is equally important to minimizing the parsing activity on the system. Parsing is the process of interpreting a SQL statement and creating an execution plan for it. This process has many phases, including syntax checking, security checking, execution plan generation, and loading shared structures into the shared pool. There are two types of parse operations:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d5548e2137" class="indexterm-anchor"></a><a id="d5548e2139" class="indexterm-anchor"></a>Hard parsing
                                 </p>
                                 <p>A SQL statement is submitted for the first time, and no match is found in the shared pool. Hard parses are the most resource-intensive and unscalable, because they perform all the operations involved in a parse.</p>
                              </li>
                              <li>
                                 <p><a id="d5548e2148" class="indexterm-anchor"></a><a id="d5548e2150" class="indexterm-anchor"></a>Soft parsing
                                 </p>
                                 <p>A SQL statement is submitted for the first time, and a match <span class="italic">is</span> found in the shared pool. The match can be the result of previous execution by another user. The SQL statement is shared, which is good for performance. However, soft parses are not ideal, because they still require syntax and security checking, which consume system resources.
                                 </p>
                              </li>
                           </ul>
                           <p>Because parsing should be minimized as much as possible, application developers should design their applications to parse SQL statements once and execute them many times. This is done through cursors. Experienced SQL programmers should be familiar with the concept of opening and re-executing cursors.</p>
                           <p>Application developers must also ensure that SQL statements are shared within the shared pool. To achieve this goal, use bind variables to represent the parts of the query that change from execution to execution. If this is not done, then the SQL statement is likely to be parsed once and never re-used by other users. To ensure that SQL is shared, use bind variables and do not use string literals with SQL statements. For example:</p>
                           <p>Statement with string literals:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees 
  WHERE last_name LIKE 'KING';
</pre><p>Statement with bind variables:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees 
  WHERE last_name LIKE :1;
</pre><p>The following example shows the results of some tests on a simple OLTP application:</p><pre class="oac_no_warn" dir="ltr">Test                         #Users Supported
No Parsing all statements           270 
Soft Parsing all statements         150
Hard Parsing all statements          60
Re-Connecting for each Transaction   30
</pre><p>These tests were performed on a four-CPU computer. The differences increase as the number of CPUs on the system increase.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="TGDBA94123"></a><div class="props_rev_3"><a id="GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F" name="GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F"></a><h4 id="TGDBA-GUID-D322A76C-FBFF-4A54-BD32-FFEA7A3C414F" class="sect4"><span class="enumeration_section">2.5.6 </span>Implementing the Application 
                  </h4>
                  <div>
                     <p><a id="d5548e2230" class="indexterm-anchor"></a><a id="d5548e2234" class="indexterm-anchor"></a><a id="d5548e2236" class="indexterm-anchor"></a>The choice of development environment and programming language is largely a function of the skills available in the development team and architectural decisions made when specifying the application. There are, however, some simple performance management rules that can lead to scalable, high-performance applications.
                     </p>
                     <ol>
                        <li>
                           <p>Choose a development environment suitable for software components, and do not let it limit your design for performance decisions. If it does, then you probably chose the wrong language or environment. </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d5548e2246" class="indexterm-anchor"></a>User interface 
                                 </p>
                                 <p>The programming model can vary between HTML generation and calling the windowing system directly. The development method should focus on response time of the user interface code. If HTML or Java is being sent over a network, then try to minimize network volume and interactions.</p>
                              </li>
                              <li>
                                 <p><a id="d5548e2255" class="indexterm-anchor"></a>Business logic
                                 </p>
                                 <p>Interpreted languages, such as Java and PL/SQL, are ideal to encode business logic. They are fully portable, which makes upgrading logic relatively easy. Both languages are syntactically rich to allow code that is easy to read and interpret. If business logic requires complex mathematical functions, then a compiled binary language might be needed. The business logic code can be on the client computer, the application server, and the database server. However, the application server is the most common location for business logic.</p>
                              </li>
                              <li>
                                 <p><a id="d5548e2262" class="indexterm-anchor"></a><a id="d5548e2266" class="indexterm-anchor"></a>User requests and resource allocation 
                                 </p>
                                 <p>Most of this is not affected by the programming language, but tools and fourth generation languages that mask database connection and cursor management might use inefficient mechanisms. When evaluating these tools and environments, check their database connection model and their use of cursors and bind variables.</p>
                              </li>
                              <li>
                                 <p>Data management and transactions</p>
                                 <p>Most of this is not affected by the programming language.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>When implementing a software component, implement its function and not the functionality associated with other components. Implementing another component's functionality results in sub-optimal designs and implementations. This applies to all components.</p>
                        </li>
                        <li>
                           <p>Do not leave gaps in functionality or have software components under-researched in design, implementation, or testing. In many cases, gaps are not discovered until the application is rolled out or tested at realistic volumes. This is usually a sign of poor architecture or initial system specification. Data archival and purge modules are most frequently neglected during initial system design, build, and implementation. </p>
                        </li>
                        <li>
                           <p>When implementing procedural logic, implement in a procedural language, such as C, Java, or PL/SQL. When implementing data access (queries) or data changes (DML), use SQL. This rule is specific to the business logic modules of code where procedural code is mixed with data access (nonprocedural SQL) code. There is great temptation to put procedural logic into the SQL access. This tends to result in poor SQL that is resource-intensive. SQL statements with <code class="codeph">DECODE</code> case statements are very often candidates for optimization, as are statements with a large amount of <code class="codeph">OR</code> predicates or set operators, such as <code class="codeph">UNION</code> and <code class="codeph">MINUS</code>.
                           </p>
                        </li>
                        <li>
                           <p>Cache frequently accessed, rarely changing data that is expensive to retrieve on a repeated basis. However, make this cache mechanism easy to use, and ensure that it is indeed cheaper than accessing the data in the original method. This is applicable to all modules where frequently used data values should be cached or stored locally, rather than be repeatedly retrieved from a remote or expensive data store.</p>
                           <p>The most common examples of candidates for local caching include the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Today's date. <code class="codeph">SELECT</code> <code class="codeph">SYSDATE</code> <code class="codeph">FROM</code> <code class="codeph">DUAL</code> can account for over 60% of the workload on a database.
                                 </p>
                              </li>
                              <li>
                                 <p>The current user name.</p>
                              </li>
                              <li>
                                 <p>Repeated application variables and constants, such as tax rates, discounting rates, or location information.</p>
                              </li>
                              <li>
                                 <p>Caching data locally can be further extended into building a local data cache into the application server middle tiers. This helps take load off the central database servers. However, care should be taken when constructing local caches so that they do not become so complex that they cease to give a performance gain. </p>
                              </li>
                              <li>
                                 <p>Local sequence generation.</p>
                              </li>
                           </ul>
                           <p>The design implications of using a cache should be considered. For example, if a user is connected at midnight and the date is cached, then the user's date value becomes invalid. </p>
                        </li>
                        <li>
                           <p>Optimize the interfaces between components, and ensure that all components are used in the most scalable configuration. This rule requires minimal explanation and applies to all modules and their interfaces.</p>
                        </li>
                        <li>
                           <p>Use foreign key references. Enforcing referential integrity through an application is expensive. You can maintain a foreign key reference by selecting the column value of the child from the parent and ensuring that it exists. The foreign key constraint enforcement supplied by Oracle—which does not use SQL—is fast, easy to declare, and does not create network traffic.</p>
                        </li>
                        <li>
                           <p>Consider setting up action and module names in the application to use with <a id="d5548e2343" class="indexterm-anchor"></a>End to End Application Tracing. This allows greater flexibility in tracing workload problems.
                           </p>
                        </li>
                     </ol>
                  </div>
               </div><a id="TGDBA94124"></a><div class="props_rev_3"><a id="GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2" name="GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2"></a><h4 id="TGDBA-GUID-AA42DCCB-193C-4ED3-A6B6-D3059B6F4ED2" class="sect4"><span class="enumeration_section">2.5.7 </span>Trends in Application Development
                  </h4>
                  <div>
                     <p><a id="d5548e2398" class="indexterm-anchor"></a>The two biggest challenges in application development today are the increased use of Java to replace compiled C or C++ applications, and increased use of object-oriented techniques, influencing the schema design.
                     </p>
                     <p>Java provides better portability of code and availability to programmers. However, there are several performance implications associated with Java. Because Java is an interpreted language, it is slower at executing similar logic than compiled languages, such as C. As a result, resource usage of client computers increases. This requires more powerful CPUs to be applied in the client or middle-tier computers and greater care from programmers to produce efficient code.</p>
                     <p>Because Java is an object-oriented language, it encourages insulation of data access into classes not performing the business logic. As a result, programmers might invoke methods without knowledge of the efficiency of the data access method being used. This tends to result in minimal database access and uses the simplest and crudest interfaces to the database. </p>
                     <p>With this type of software design, queries do not always include all the <code class="codeph">WHERE</code> predicates to be efficient, and row filtering is performed in the Java program. This is very inefficient. In addition, for DML operations—and especially for <code class="codeph">INSERT</code>s—single <code class="codeph">INSERT</code>s are performed, making use of the array interface impossible. In some cases, this is made more inefficient by procedure calls. More resources are used moving the data to and from the database than in the actual database calls.
                     </p>
                     <p>In general, it is best to place data access calls next to the business logic to achieve the best overall transaction design.</p>
                     <p><a id="d5548e2421" class="indexterm-anchor"></a>The acceptance of object-orientation at a programming level has led to the creation of object-oriented databases within the Oracle Server. This has manifested itself in many ways, from storing object structures within <code class="codeph">BLOB</code>s and only using the database effectively as an indexed card file to the use of the Oracle Database object-relational features. 
                     </p>
                     <p>If you adopt an object-oriented approach to schema design, then ensure that you do not lose the flexibility of the relational storage model. In many cases, the object-oriented approach to schema design ends up in a heavily denormalized data structure that requires considerable maintenance and <code class="codeph">REF</code> pointers associated with objects. Often, these designs represent a step backward to the hierarchical and network database designs that were replaced with the relational storage method. 
                     </p>
                     <p>In summary, if you are storing your data in your database for the long-term, and if you anticipate a degree of ad hoc queries or application development on the same schema, then the relational storage method probably gives the best performance and flexibility.</p>
                  </div>
               </div>
            </div><a id="TGDBA94125"></a><div class="props_rev_3"><a id="GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594" name="GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594"></a><h3 id="TGDBA-GUID-E6DFD7FD-E2E8-4C34-A81A-D25366F69594" class="sect3"><span class="enumeration_section">2.6 </span>Workload Testing, Modeling, and Implementation
               </h3>
               <div>
                  <p>This section describes workload estimation, modeling, implementation, and testing. This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A">Sizing Data</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-8CD59302-6016-4A0A-A198-D216341927C6">Estimating Workloads</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-04661179-051C-4F56-992B-DE8C08ECF2EA">Application Modeling</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-03D24516-86DF-407A-814A-2C5FE6629E4D">Testing, Debugging, and Validating a Design</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94126"></a><div class="props_rev_3"><a id="GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A" name="GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A"></a><h4 id="TGDBA-GUID-436CDBC3-D9ED-424E-B06B-429777C12F3A" class="sect4"><span class="enumeration_section">2.6.1 </span>Sizing Data
                  </h4>
                  <div>
                     <p>You could experience errors in your sizing estimates when dealing with variable length data if you work with a poor sample set. As data volumes grow, your key lengths could grow considerably, altering your assumptions for column sizes. </p>
                     <p>When the system becomes operational, it becomes more difficult to predict database growth, especially for indexes. Tables grow over time, and indexes are subject to the individual behavior of the application in terms of key generation, insertion pattern, and deletion of rows. The worst case is where you insert using an ascending key, and then delete most rows from the left-hand side but not all the rows. This leaves gaps and wasted space. If you have index use like this, then ensure that you know how to use the online index rebuild facility.</p>
                     <p>DBAs should monitor space allocation for each object and look for objects that may grow out of control. A good understanding of the application can highlight objects that may grow rapidly or unpredictably. This is a crucial part of both performance and availability planning for any system. When implementing the production database, the design should attempt to ensure that minimal space management takes place when interactive users are using the application. This applies for all data, temp, and rollback segments.</p>
                  </div>
               </div><a id="TGDBA94127"></a><div class="props_rev_3"><a id="GUID-8CD59302-6016-4A0A-A198-D216341927C6" name="GUID-8CD59302-6016-4A0A-A198-D216341927C6"></a><h4 id="TGDBA-GUID-8CD59302-6016-4A0A-A198-D216341927C6" class="sect4"><span class="enumeration_section">2.6.2 </span>Estimating Workloads
                  </h4>
                  <div>
                     <p><a id="d5548e2612" class="indexterm-anchor"></a><a id="d5548e2614" class="indexterm-anchor"></a>Considering the number of variables involved, estimation of workloads for capacity planning and testing purposes is extremely difficult. However, designers must specify computers with CPUs, memory, and disk drives, and eventually roll out an application. There are several techniques used for sizing, and each technique has merit. When sizing, it is best to use the following methods to validate your decision-making process and provide supporting documentation.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8CD59302-6016-4A0A-A198-D216341927C6__GUID-C68628BE-1E63-42EF-AFAD-897D2403E3E9">Extrapolating From a Similar System</p>
                        <p><a id="d5548e2621" class="indexterm-anchor"></a><a id="d5548e2623" class="indexterm-anchor"></a><a id="d5548e2627" class="indexterm-anchor"></a>This is an entirely empirical approach where an existing system of similar characteristics and known performance is used as a basis system. The specification of this system is then modified by the sizing specialist according to the known differences. This approach has merit in that it correlates with an existing system, but it provides little assistance when dealing with the differences.
                        </p>
                        <p>This approach is used in nearly all large engineering disciplines when preparing the cost of an engineering project, such as a large building, a ship, a bridge, or an oil rig. If the reference system is an order of magnitude different in size from the anticipated system, then some components may have exceeded their design limits.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CD59302-6016-4A0A-A198-D216341927C6__GUID-B83FDFAD-884F-4A1D-B1B7-270EF66EE103">Benchmarking</p>
                        <p><a id="d5548e2636" class="indexterm-anchor"></a><a id="d5548e2638" class="indexterm-anchor"></a><a id="d5548e2642" class="indexterm-anchor"></a>The benchmarking process is both resource and time consuming, and it might not produce the correct results. By simulating an application in early development or prototype form, there is a danger of measuring something that has no resemblance to the actual production system. This sounds strange, but over the many years of benchmarking customer applications with the database development organization, Oracle has yet to see reliable correlation between the benchmark application and the actual production system. This is mainly due to the number of application inefficiencies introduced in the development process. 
                        </p>
                        <p>However, benchmarks have been used successfully to size systems to an acceptable level of accuracy. In particular, benchmarks are very good at determining the actual I/O requirements and testing recovery processes when a system is fully loaded.</p>
                        <p>Benchmarks by their nature stress all system components to their limits. As the benchmark stresses all components, be prepared to see all errors in application design and implementation manifest themselves while benchmarking. Benchmarks also test database, operating system, and hardware components. Because most benchmarks are performed in a rush, expect setbacks and problems when a system component fails. Benchmarking is a stressful activity, and it takes considerable experience to get the most out of a benchmarking exercise.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94130"></a><div class="props_rev_3"><a id="GUID-04661179-051C-4F56-992B-DE8C08ECF2EA" name="GUID-04661179-051C-4F56-992B-DE8C08ECF2EA"></a><h4 id="TGDBA-GUID-04661179-051C-4F56-992B-DE8C08ECF2EA" class="sect4"><span class="enumeration_section">2.6.3 </span>Application Modeling
                  </h4>
                  <div>
                     <p><a id="d5548e2700" class="indexterm-anchor"></a><a id="d5548e2702" class="indexterm-anchor"></a>Modeling the application can range from complex mathematical modeling exercises to the classic simple calculations performed on the back of an envelope. Both methods have merit, with one attempting to be very precise and the other making gross estimates. The downside of both methods is that they do not allow for implementation errors and inefficiencies.
                     </p>
                     <p>The estimation and sizing process is an imprecise science. However, by investigating the process, some intelligent estimates can be made. The whole estimation process makes no allowances for application inefficiencies introduced by poor SQL, index design, or cursor management. A sizing engineer should build in margin for application inefficiencies. A performance engineer should discover the inefficiencies and make the estimates look realistic. The Oracle performance method describes how to discover the application inefficiencies.</p>
                  </div>
               </div><a id="TGDBA94131"></a><div class="props_rev_3"><a id="GUID-03D24516-86DF-407A-814A-2C5FE6629E4D" name="GUID-03D24516-86DF-407A-814A-2C5FE6629E4D"></a><h4 id="TGDBA-GUID-03D24516-86DF-407A-814A-2C5FE6629E4D" class="sect4"><span class="enumeration_section">2.6.4 </span>Testing, Debugging, and Validating a Design
                  </h4>
                  <div>
                     <p><a id="d5548e2759" class="indexterm-anchor"></a><a id="d5548e2761" class="indexterm-anchor"></a><a id="d5548e2763" class="indexterm-anchor"></a><a id="d5548e2767" class="indexterm-anchor"></a><a id="d5548e2769" class="indexterm-anchor"></a><a id="d5548e2773" class="indexterm-anchor"></a><a id="d5548e2775" class="indexterm-anchor"></a>The testing process mainly consists of functional and stability testing. At some point in the process, performance testing is performed.
                     </p>
                     <p>The following list describes some simple rules for performance testing an application. If correctly documented, then this list provides important information for the production application and the capacity planning process after the application has gone live.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use the Automatic Database Diagnostic Monitor (ADDM) and SQL Tuning Advisor for design validation</p>
                        </li>
                        <li>
                           <p>Test with realistic data volumes and distributions</p>
                           <p>All testing must be done with fully populated tables. The test database should contain data representative of the production system in terms of data volume and cardinality between tables. All the production indexes should be built and the schema statistics should be populated correctly.</p>
                        </li>
                        <li>
                           <p>Use the correct optimizer mode</p>
                           <p>Perform all testing with the optimizer mode that you plan to use in production. All Oracle Database research and development effort is focused on the query optimizer. Therefore, the use of the query optimizer is recommended.</p>
                        </li>
                        <li>
                           <p>Test a single user performance</p>
                           <p>Test a single user on an idle or lightly-used database for acceptable performance. If a single user cannot achieve acceptable performance under ideal conditions, then multiple users cannot achieve acceptable performance under real conditions.</p>
                        </li>
                        <li>
                           <p>Obtain and document plans for all SQL statements</p>
                           <p>Obtain an execution plan for each SQL statement. Use this process to verify that the optimizer is obtaining an optimal execution plan, and that the relative cost of the SQL statement is understood in terms of CPU time and physical I/Os. This process assists in identifying the heavy use transactions that require the most tuning and performance work in the future.</p>
                        </li>
                        <li>
                           <p>Attempt multiuser testing</p>
                           <p>This process is difficult to perform accurately, because user workload and profiles might not be fully quantified. However, transactions performing DML statements should be tested to ensure that there are no locking conflicts or serialization problems.</p>
                        </li>
                        <li>
                           <p>Test with the correct hardware configuration</p>
                           <p>Test with a configuration as close to the production system as possible. Using a realistic system is particularly important for network latencies, I/O subsystem bandwidth, and processor type and speed. Failing to use this approach may result in an incorrect analysis of potential performance problems.</p>
                        </li>
                        <li>
                           <p>Measure steady state performance</p>
                           <p>When benchmarking, it is important to measure the performance under steady state conditions. Each benchmark run should have a ramp-up phase, where users are connected to the application and gradually start performing work on the application. This process allows for frequently cached data to be initialized into the cache and single execution operations—such as parsing—to be completed before the steady state condition. Likewise, at the end of a benchmark run, there should be a ramp-down period, where resources are freed from the system and users cease work and disconnect.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="TGDBA94132"></a><div class="props_rev_3"><a id="GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76" name="GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76"></a><h3 id="TGDBA-GUID-2E491D68-37F1-4D6B-B6E8-841A2C050E76" class="sect3"><span class="enumeration_section">2.7 </span>Deploying New Applications
               </h3>
               <div>
                  <p><a id="d5548e2871" class="indexterm-anchor"></a><a id="d5548e2875" class="indexterm-anchor"></a>The following are the key design decisions involved in deploying applications:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5">Rollout Strategies</a></p>
                     </li>
                     <li>
                        <p><a href="designing-and-developing-for-performance.html#GUID-DFCECF0D-152F-4892-9B17-24BD0744444E">Performance Checklist</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94133"></a><div class="props_rev_3"><a id="GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5" name="GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5"></a><h4 id="TGDBA-GUID-BF4B19B8-B09A-40EE-B453-F31A98D003F5" class="sect4"><span class="enumeration_section">2.7.1 </span>Rollout Strategies
                  </h4>
                  <div>
                     <p>When new applications are rolled out, two strategies are commonly adopted:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d5548e2943" class="indexterm-anchor"></a><a id="d5548e2947" class="indexterm-anchor"></a>Big Bang approach - all users migrate to the new system at once
                           </p>
                        </li>
                        <li>
                           <p><a id="d5548e2952" class="indexterm-anchor"></a><a id="d5548e2956" class="indexterm-anchor"></a>Trickle approach - users slowly migrate from existing systems to the new one
                           </p>
                        </li>
                     </ul>
                     <p>Both approaches have merits and disadvantages. The Big Bang approach relies on reliable testing of the application at the required scale, but has the advantage of minimal data conversion and synchronization with the old system, because it is simply switched off. The Trickle approach allows debugging of scalability issues as the workload increases, but might mean that data must be migrated to and from legacy systems as the transition takes place.</p>
                     <p>It is difficult to recommend one approach over the other, because each method has associated risks that could lead to system outages as the transition takes place. Certainly, the Trickle approach allows profiling of real users as they are introduced to the new application, and allows the system to be reconfigured while only affecting the migrated users. This approach affects the work of the early adopters, but limits the load on support services. This means that unscheduled outages only affect a small percentage of the user population.</p>
                     <p>The decision on how to roll out a new application is specific to each business. Any adopted approach has its own unique pressures and stresses. The more testing and knowledge that you derive from the testing process, the more you realize what is best for the rollout.</p>
                  </div>
               </div><a id="TGDBA94134"></a><div class="props_rev_3"><a id="GUID-DFCECF0D-152F-4892-9B17-24BD0744444E" name="GUID-DFCECF0D-152F-4892-9B17-24BD0744444E"></a><h4 id="TGDBA-GUID-DFCECF0D-152F-4892-9B17-24BD0744444E" class="sect4"><span class="enumeration_section">2.7.2 </span>Performance Checklist
                  </h4>
                  <div>
                     <div class="section">
                        <p>To assist in the rollout, build a list of tasks that increase the chance of optimal performance in production and enable rapid debugging of the application. Do the following:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>When you create the control file for the production database, allow for growth by setting <code class="codeph">MAXINSTANCES</code>, <code class="codeph">MAXDATAFILES</code>, <code class="codeph">MAXLOGFILES</code>, <code class="codeph">MAXLOGMEMBERS</code>, and <code class="codeph">MAXLOGHISTORY</code> to values higher than what you anticipate for the rollout. This technique results in more disk space usage and larger control files, but saves time later should these need extension in an emergency.</span></li>
                        <li><span>Set block size to the value used to develop the application. Export the schema statistics from the development or test environment to the production database if the testing was done on representative data volumes and the current SQL execution plans are correct.</span></li>
                        <li><span>Set the minimal number of initialization parameters. Ideally, most other parameters should be left at default. If there is more tuning to perform, then this appears when the system is under load.</span></li>
                        <li><span>Be prepared to manage block contention by setting storage options of database objects. Tables and indexes that experience high <code class="codeph">INSERT</code>/<code class="codeph">UPDATE</code>/<code class="codeph">DELETE</code> rates should be created with automatic segment space management. To avoid contention of rollback segments, use automatic undo management.</span></li>
                        <li><span>All SQL statements should be verified to be optimal and their resource usage understood.</span></li>
                        <li><span>Validate that middleware and programs that connect to the database are efficient in their connection management and do not logon or logoff repeatedly.</span></li>
                        <li><span>Validate that the SQL statements use cursors efficiently. The database should parse each SQL statement once and then execute it multiple times. The most common reason this does not happen is because bind variables are not used properly and <code class="codeph">WHERE</code> clause predicates are sent as string literals. If you use precompilers to develop the application, then make sure to reset the parameters <code class="codeph">MAXOPENCURSORS</code>, <code class="codeph">HOLD_CURSOR</code>, and <code class="codeph">RELEASE_CURSOR</code> from the default values before precompiling the application.</span></li>
                        <li><span>Validate that all schema objects have been correctly migrated from the development environment to the production database. This includes tables, indexes, sequences, triggers, packages, procedures, functions, Java objects, synonyms, grants, and views. Ensure that any modifications made in testing are made to the production system.</span></li>
                        <li><span>As soon as the system is rolled out, establish a baseline set of statistics from the database and operating system. This first set of statistics validates or corrects any assumptions made in the design and rollout process.</span></li>
                        <li><span>Start anticipating the first bottleneck (which is inevitable) and follow the Oracle performance method to make performance improvement.</span></li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='05156.CREATE-TRIGGER-statement.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CREATE TRIGGER Statement</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96448-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CREATE-PROCEDURE-statement.html" title="Previous" type="text/html">
      <link rel="next" href="CREATE-TYPE-statement.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="LNPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-PROCEDURE-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CREATE-TYPE-statement.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sql-statements-for-stored-plsql-units.html" property="item" typeof="WebPage"><span property="name">SQL Statements for Stored PL/SQL Units</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE TRIGGER Statement</li>
            </ol>
            <a id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B" name="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B"></a><a id="LNPLS2006"></a><a id="LNPLS1542"></a><a id="LNPLS2183"></a><a id="LNPLS1543"></a><a id="LNPLS2009"></a><a id="LNPLS1544"></a><a id="LNPLS1545"></a><a id="LNPLS1549"></a><a id="LNPLS1550"></a><a id="LNPLS1547"></a><a id="LNPLS1548"></a><a id="LNPLS1546"></a><a id="LNPLS1551"></a><a id="LNPLS1552"></a><a id="LNPLS2015"></a><a id="LNPLS1553"></a><a id="LNPLS2017"></a><a id="LNPLS2018"></a><a id="LNPLS2019"></a><a id="LNPLS2020"></a><a id="LNPLS2021"></a><a id="LNPLS2022"></a><a id="LNPLS2023"></a><a id="LNPLS2024"></a><a id="LNPLS2025"></a><a id="LNPLS2026"></a><a id="LNPLS2027"></a><a id="LNPLS2028"></a><a id="LNPLS2029"></a><a id="LNPLS2031"></a><a id="LNPLS2032"></a><a id="LNPLS2033"></a><a id="LNPLS2034"></a><a id="LNPLS2035"></a><a id="LNPLS2036"></a><a id="LNPLS2037"></a><a id="LNPLS2038"></a><a id="LNPLS2039"></a><a id="LNPLS2040"></a><a id="LNPLS2041"></a><a id="LNPLS2042"></a><a id="LNPLS2043"></a><a id="LNPLS2044"></a><a id="LNPLS2045"></a><a id="LNPLS2046"></a><a id="LNPLS2047"></a><a id="LNPLS2048"></a><a id="LNPLS2049"></a><a id="LNPLS2050"></a><a id="LNPLS2051"></a><a id="LNPLS2052"></a><a id="LNPLS2075"></a><a id="LNPLS2076"></a><a id="LNPLS2077"></a><a id="LNPLS1985"></a><a id="LNPLS1986"></a><a id="LNPLS2078"></a><a id="LNPLS2080"></a><a id="LNPLS2081"></a><a id="LNPLS2082"></a><a id="LNPLS2083"></a><a id="LNPLS2084"></a><a id="LNPLS2085"></a><a id="LNPLS2086"></a><a id="LNPLS2087"></a><a id="LNPLS2088"></a><a id="LNPLS2089"></a><a id="LNPLS2090"></a><a id="LNPLS2091"></a><a id="LNPLS2092"></a><a id="LNPLS2093"></a><a id="LNPLS2094"></a><a id="LNPLS2095"></a><a id="LNPLS2096"></a><a id="LNPLS2097"></a><a id="LNPLS2098"></a><a id="LNPLS2099"></a><a id="LNPLS2100"></a><a id="LNPLS2101"></a><a id="LNPLS2102"></a><a id="LNPLS2103"></a><a id="LNPLS2104"></a><a id="LNPLS2106"></a><a id="LNPLS2107"></a><a id="LNPLS2108"></a><a id="LNPLS2109"></a><a id="LNPLS2110"></a><a id="LNPLS2111"></a><a id="LNPLS2112"></a><a id="LNPLS2113"></a><a id="LNPLS2114"></a><a id="LNPLS2115"></a><a id="LNPLS2116"></a><a id="LNPLS2117"></a><a id="LNPLS2118"></a><a id="LNPLS01374"></a>
            
            <h2 id="LNPLS-GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B" class="sect2"><span class="enumeration_section">14.12 </span>CREATE TRIGGER Statement
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>The <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> statement creates or replaces a <span class="bold">database trigger</span>, which is either of these:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A stored PL/SQL block associated with a table, a view, a schema, or the database</p>
                     </li>
                     <li>
                        <p>An anonymous PL/SQL block or an invocation of a procedure implemented in PL/SQL or Java</p>
                     </li>
                  </ul>
                  <p>The database automatically runs a trigger when specified conditions occur.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-470877EC-51A1-4D8D-9909-7946B15773EF">Topics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHJFGH">Prerequisites</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABBJHHG">Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABFGAHF">Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHEICEC">Examples</a></p>
                     </li>
                     <li>
                        <p><a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABCHGAE">Related Topics</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHJFGH">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-D3E48616-0D85-4B73-A78F-9BB01C4B73C9">Prerequisites</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>To create a trigger in your schema on a table in your schema or on your schema (<code class="codeph">SCHEMA</code>), you must have the <code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> system privilege. 
                        </p>
                     </li>
                     <li>
                        <p>To create a trigger in any schema on a table in any schema, or on another user's schema (<span class="italic"><code class="codeph">schema</code></span>.<code class="codeph">SCHEMA</code>), you must have the <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TRIGGER</code> system privilege. 
                        </p>
                     </li>
                     <li>
                        <p>In addition to the preceding privileges, to create a trigger on <code class="codeph">DATABASE</code>, you must have the <code class="codeph">ADMINISTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TRIGGER</code> system privilege.
                        </p>
                     </li>
                     <li>
                        <p>To create a trigger on a pluggable database (PDB), you must be connected to that PDB and have the <code class="codeph">ADMINISTER</code> <code class="codeph">DATABASE</code> <code class="codeph">TRIGGER</code> system privilege. For information about PDBs, see <a href="../multi/overview-of-managing-a-multitenant-environment.html#ADMIN13508" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p>In addition to the preceding privileges, to create a crossedition trigger, you must be enabled for editions. For information about enabling editions for a user, see <a href="../adfns/editions.html#ADFNS99878" target="_blank"><span class="italic">Oracle Database Development Guide</span></a>.
                        </p>
                     </li>
                  </ul>
                  <p>If the trigger issues SQL statements or invokes procedures or functions, then the owner of the trigger must have the privileges necessary to perform these operations. These privileges must be granted directly to the owner rather than acquired through roles. </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABBJHHG">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0D030104-ACBD-419E-92A1-E514368B5599">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0D40F3D8-BA67-4210-AB8E-089D0EDBC8C9"><span class="italic">create_trigger</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2FB5D80A-9EA8-4B6C-8D81-0132A3FF48B5"><img src="img/create_trigger.gif" alt="Description of create_trigger.eps follows" title="Description of create_trigger.eps follows" longdesc="img_text/create_trigger.html"><br><a href="img_text/create_trigger.html">Description of the illustration create_trigger.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-73A62AD5-0427-41FA-BA3A-0BB8E3C784EF"><span class="italic">plsql_trigger_source</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DB5D282B-39D8-409E-987D-9A0B8E089CA9"><img src="img/plsql_trigger_source.gif" alt="Description of plsql_trigger_source.eps follows" title="Description of plsql_trigger_source.eps follows" longdesc="img_text/plsql_trigger_source.html"><br><a href="img_text/plsql_trigger_source.html">Description of the illustration plsql_trigger_source.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="SHARING-clause.html#GUID-3C830338-8B7E-43C0-9EA0-4E292AA1A97B__SHARING_CLAUSE-5ADB7CDA">sharing_clause ::=</a> , <a href="DEFAULT-COLLATION-clause.html#GUID-453FC0EA-7B83-407B-A991-87A48017B358__DEFAULT_COLLATION_CLAUSE-FE9CA794">default_collation_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABDFIFA">compound_dml_trigger ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHGIFBD">instead_of_dml_trigger ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHEFGE">system_trigger ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4D87FD30-647C-49F9-A458-43B8B011CF6E"><span class="italic">simple_dml_trigger</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0FFC782D-3800-4DE0-959F-E27D19D9FE3D"><img src="img/simple_dml_trigger.gif" alt="Description of simple_dml_trigger.eps follows" title="Description of simple_dml_trigger.eps follows" longdesc="img_text/simple_dml_trigger.html"><br><a href="img_text/simple_dml_trigger.html">Description of the illustration simple_dml_trigger.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">dml_event_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHGIFBD">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4271BD4C-D569-4553-8390-C9D1C0381C62"><span class="italic">instead_of_dml_trigger</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-C25FEF05-66FA-4BEA-BF58-04680DFA4670"><img src="img/instead_of_trigger.gif" alt="Description of instead_of_trigger.eps follows" title="Description of instead_of_trigger.eps follows" longdesc="img_text/instead_of_trigger.html"><br><a href="img_text/instead_of_trigger.html">Description of the illustration instead_of_trigger.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABDFIFA">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0670D658-418D-41BD-82C2-541BA6F20528"><span class="italic">compound_dml_trigger</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B30D02D7-22B6-44AA-865F-58D1AA0097BE"><img src="img/compound_dml_trigger.gif" alt="Description of compound_dml_trigger.eps follows" title="Description of compound_dml_trigger.eps follows" longdesc="img_text/compound_dml_trigger.html"><br><a href="img_text/compound_dml_trigger.html">Description of the illustration compound_dml_trigger.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJACFCDJ">compound_trigger_block ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">dml_event_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">trigger_edition_clause ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABHEFGE">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-1775D6A6-B116-45D5-9FF9-48C6FBFAA543"><span class="italic">system_trigger</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-491DEC83-F2DC-47B9-B23D-FA08CF9F6E5E"><img src="img/system_trigger.gif" alt="Description of system_trigger.eps follows" title="Description of system_trigger.eps follows" longdesc="img_text/system_trigger.html"><br><a href="img_text/system_trigger.html">Description of the illustration system_trigger.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">trigger_body ::=</a> , <a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">trigger_ordering_clause ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABGDFBI">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-C4CF43AA-5BE9-4FB1-AC49-59C9D11BCABD"><span class="italic">dml_event_clause</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B124581A-C7F4-4FA5-ACB6-1B1210D2426F"><img src="img/dml_event_clause.gif" alt="Description of dml_event_clause.eps follows" title="Description of dml_event_clause.eps follows" longdesc="img_text/dml_event_clause.html"><br><a href="img_text/dml_event_clause.html">Description of the illustration dml_event_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-17252FBE-8509-4557-A5B6-31D38A283880"><span class="italic">referencing_clause</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0CE04351-853D-42C1-B47F-1F8FA714DD61"><img src="img/referencing_clause.gif" alt="Description of referencing_clause.eps follows" title="Description of referencing_clause.eps follows" longdesc="img_text/referencing_clause.html"><br><a href="img_text/referencing_clause.html">Description of the illustration referencing_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJABEJEA">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-AADD7859-7354-4A5A-BC85-CFB4EB09F465"><span class="italic">trigger_edition_clause</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2C042923-3EB9-4916-8376-114B7474E4EC"><img src="img/trigger_edition_clause.gif" alt="Description of trigger_edition_clause.eps follows" title="Description of trigger_edition_clause.eps follows" longdesc="img_text/trigger_edition_clause.html"><br><a href="img_text/trigger_edition_clause.html">Description of the illustration trigger_edition_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAEJAFB">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-3A7201D1-B445-4C9A-80EF-3EBA31331D7E"><span class="italic">trigger_ordering_clause</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-73C287EF-6F2C-414E-A95B-68FD5F1A38D9"><img src="img/trigger_ordering_clause.gif" alt="Description of trigger_ordering_clause.eps follows" title="Description of trigger_ordering_clause.eps follows" longdesc="img_text/trigger_ordering_clause.html"><br><a href="img_text/trigger_ordering_clause.html">Description of the illustration trigger_ordering_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJAJBHAA">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2831898B-104A-44CA-A5C1-F6B18ECEDD77"><span class="italic">trigger_body</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-57025E1E-A1C6-4A1A-8CE7-45628C45B06B"><img src="img/trigger_body.gif" alt="Description of trigger_body.eps follows" title="Description of trigger_body.eps follows" longdesc="img_text/trigger_body.html"><br><a href="img_text/trigger_body.html">Description of the illustration trigger_body.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACBIJG">plsql_block ::=</a> , 
                  </p>
                  <p><span class="italic"><code class="codeph">routine_clause</code></span> in <a href="../sqlrf/CALL.html#SQLRF01108" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CJACFCDJ">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-70E42155-A031-4460-ACA0-66F9A82D5403"><span class="italic">compound_trigger_block</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0B04C668-7FA2-4D2F-8EBF-2DDD2E96286C"><img src="img/compound_trigger_block.gif" alt="Description of compound_trigger_block.eps follows" title="Description of compound_trigger_block.eps follows" longdesc="img_text/compound_trigger_block.html"><br><a href="img_text/compound_trigger_block.html">Description of the illustration compound_trigger_block.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJAIABJJ">declare_section ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2CD49225-7507-458B-8BDF-21C56AFC3527"><span class="italic">timing_point_section</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-288E7D55-B22D-4556-BA23-1C6F68F8E4DC"><img src="img/timing_point_section.gif" alt="Description of timing_point_section.eps follows" title="Description of timing_point_section.eps follows" longdesc="img_text/timing_point_section.html"><br><a href="img_text/timing_point_section.html">Description of the illustration timing_point_section.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-141A757D-925B-4ABC-9FCA-3E582EA1C454"><span class="italic">timing_point</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-7C111CAB-DDD2-4ED3-BDEF-13C234735390"><img src="img/timing_point.gif" alt="Description of timing_point.eps follows" title="Description of timing_point.eps follows" longdesc="img_text/timing_point.html"><br><a href="img_text/timing_point.html">Description of the illustration timing_point.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-AE7DA075-4B74-4780-9480-7D4D74E61105"><span class="italic">tps_body</span> ::=
                  </p>
                  <div class="figure" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-58877B2D-4E98-48E6-91A7-E30953A786E2"><img src="img/tps_body.gif" alt="Description of tps_body.eps follows" title="Description of tps_body.eps follows" longdesc="img_text/tps_body.html"><br><a href="img_text/tps_body.html">Description of the illustration tps_body.eps</a></div>
                  <!-- class="figure" -->
                  <p>( <a href="exception-handler.html#GUID-3FECF29B-A240-4191-A635-92C612D00C4D__CJAEIGAB">exception_handler ::=</a> , <a href="block.html#GUID-9ACEB9ED-567E-4E1A-A16A-B8B35214FC9D__CJACJBCH">statement ::=</a> )
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABFGAHF">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-3F64BA06-A311-419C-BBE5-4CD739C08D72">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-23C59D45-9318-4F96-9D64-8F879D818589"><span class="italic">create_trigger</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">OR REPLACE</span></p>
                  <p>Re-creates the trigger if it exists, and recompiles it.</p>
                  <p>Users who were granted privileges on the trigger before it was redefined can still access the procedure without being regranted the privileges.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[ EDITIONABLE | NONEDITIONABLE ]</span></p>
                  <p>Specifies whether the trigger is an editioned or noneditioned object if editioning is enabled for the schema object type <code class="codeph">TRIGGER</code> in <span class="italic"><code class="codeph">schema</code></span>. <span class="bold">Default:</span> <code class="codeph">EDITIONABLE</code>. For information about editioned and noneditioned objects, see <a href="../adfns/editions.html#ADFNS99923" target="_blank"><span class="italic">Oracle Database Development Guide</span></a>.
                  </p>
                  <p><span class="bold">Restriction on NONEDITIONABLE</span></p>
                  <p>You cannot specify <code class="codeph">NONEDITIONABLE</code> for a crossedition trigger.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">Restrictions on <span class="italic">create_trigger</span></span></p>
                  <p>See <span class="q">"<a href="plsql-triggers.html#GUID-5B3A43E2-B9E1-4015-9A6C-0BE696853F3F">Trigger Restrictions</a>"</span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-A1E511F2-6B17-499A-8458-5036F19D5EAE"><span class="italic">plsql_trigger_source</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">schema</span></span></p>
                  <p>Name of the schema for the trigger to be created. <span class="bold">Default:</span> your schema.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">trigger</span></span></p>
                  <p>Name of the trigger to be created.</p>
                  <p>Triggers in the same schema cannot have the same names. Triggers can have the same names as other schema objects—for example, a table and a trigger can have the same name—however, to avoid confusion, this is not recommended.</p>
                  <p>If a trigger produces compilation errors, then it is still created, but it fails on execution. A trigger that fails on execution effectively blocks all triggering DML statements until it is disabled, replaced by a version without compilation errors, or dropped. You can see the associated compiler error messages with the SQL*Plus command <code class="codeph">SHOW</code> <code class="codeph">ERRORS</code>.
                  </p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4D2D916A-0DA1-420C-B109-439E5897604C">
                     <p class="notep1">Note:</p>
                     <p>If you create a trigger on a base table of a materialized view, then you must ensure that the trigger does not fire during a refresh of the materialized view. During refresh, the <code class="codeph">DBMS_MVIEW</code> procedure <code class="codeph">I_AM_A_REFRESH</code> returns <code class="codeph">TRUE</code>.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-E8457579-0187-455E-8E45-FA3136DC1742"><span class="italic">simple_dml_trigger</span></p>
                  <p>Creates a simple DML trigger (described in <span class="q">"<a href="plsql-triggers.html#GUID-E76C8044-6942-4573-B7DB-3502FB96CF6F" title="A DML trigger is created on either a table or view, and its triggering event is composed of the DML statements DELETE, INSERT, and UPDATE.">DML Triggers</a>"</span>).
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">BEFORE</span></p>
                  <p>Causes the database to fire the trigger before running the triggering event. For row triggers, the trigger fires before each affected row is changed.</p>
                  <p><span class="bold">Restrictions on BEFORE</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify a <code class="codeph">BEFORE</code> trigger on a view unless it is an editioning view.
                        </p>
                     </li>
                     <li>
                        <p>In a <code class="codeph">BEFORE</code> statement trigger, the trigger body cannot read <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>. (In a <code class="codeph">BEFORE</code> row trigger, the trigger body can read and write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.)
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">AFTER</span></p>
                  <p>Causes the database to fire the trigger after running the triggering event. For row triggers, the trigger fires after each affected row is changed. </p>
                  <p><span class="bold">Restrictions on AFTER</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify an <code class="codeph">AFTER</code> trigger on a view unless it is an editioning view.
                        </p>
                     </li>
                     <li>
                        <p>In an <code class="codeph">AFTER</code> statement trigger, the trigger body cannot read <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>. (In an <code class="codeph">AFTER</code> row trigger, the trigger body can read but not write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.)
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-EC2CBA46-60C8-4CF1-899E-7577C4682BFC">
                     <p class="notep1">Note:</p>
                     <p>When you create a materialized view log for a table, the database implicitly creates an <code class="codeph">AFTER</code> row trigger on the table. This trigger inserts a row into the materialized view log whenever an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement modifies data in the master table. You cannot control the order in which multiple row triggers fire. Therefore, do not write triggers intended to affect the content of the materialized view.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-EC787185-E26B-40EF-980D-E7E106A0F08F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../sqlrf/CREATE-MATERIALIZED-VIEW-LOG.html#SQLRF01303" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about materialized view logs
                           </p>
                        </li>
                        <li>
                           <p><a href="../adfns/editions.html#ADFNS0202" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for information about editioning views
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">FOR EACH ROW</span></p>
                  <p>Creates the trigger as a row trigger. The database fires a row trigger for each row that is affected by the triggering statement and meets the optional trigger constraint defined in the <code class="codeph">WHEN</code> condition.
                  </p>
                  <p>If you omit this clause, then the trigger is a statement trigger. The database fires a statement trigger only when the triggering statement is issued if the optional trigger constraint is met.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[ ENABLE | DISABLE ]</span></p>
                  <p>Creates the trigger in an enabled (default) or disabled state. Creating a trigger in a disabled state lets you ensure that the trigger compiles without errors before you enable it.</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-62B802FB-993F-45FF-A4D3-1B002131A248">
                     <p class="notep1">Note:</p>
                     <p><code class="codeph">DISABLE</code> is especially useful if you are creating a crossedition trigger, which affects the online application being redefined if compilation errors occur.
                     </p>
                  </div><code class="codeph"></code><p><span class="bold">WHEN (<span class="italic">condition</span>)</span></p>
                  <p>Specifies a SQL condition that the database evaluates for each row that the triggering statement affects. If the value of <span class="italic">condition</span> is <code class="codeph">TRUE</code> for an affected row, then <span class="italic">trigger_body</span> runs for that row; otherwise, <span class="italic">trigger_body</span> does not run for that row. The triggering statement runs regardless of the value of <span class="italic">condition</span>.
                  </p>
                  <p>The <span class="italic">condition</span> can contain correlation names (see <span class="q">"<a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a>"</span>). 
                  </p>
                  <p>In <span class="italic"><code class="codeph">condition</code></span>, do not put a colon (:) before the correlation name <code class="codeph">NEW</code>, <code class="codeph">OLD</code>, or <code class="codeph">PARENT</code> (in this context, it is not a placeholder for a bind variable).
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-6AA2DA87-9C42-4B23-B422-B1472F6AA0DC">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about SQL conditions
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on WHEN (<span class="italic">condition</span>)</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify this clause, then you must also specify <code class="codeph">FOR</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="italic"><code class="codeph">condition</code></span> cannot include a subquery or a PL/SQL expression (for example, an invocation of a user-defined function).
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">trigger_body</span></span></p>
                  <p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.
                  </p>
                  <p>If <span class="italic">trigger_body</span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.
                  </p>
                  <p><span class="bold">Restriction on <span class="italic">trigger_body</span></span></p>
                  <p>The <span class="italic">declare_section</span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-E0627771-3545-4CB6-9CFA-BA07AED7E994"><span class="italic">instead_of_dml_trigger</span></p>
                  <p>Creates an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> DML trigger (described in <span class="q">"<a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="An INSTEAD OF DML trigger is a DML trigger created on a noneditioning view, or on a nested table column of a noneditioning view. The database fires the INSTEAD OF trigger instead of running the triggering DML statement.">INSTEAD OF DML Triggers</a>"</span>).
                  </p>
                  <p><span class="bold">Restriction on INSTEAD OF</span></p>
                  <p>An <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger can read the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> values, but cannot change them.
                  </p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-17506563-E024-4861-B60D-D9D73A386D44">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the view is inherently updatable and has <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers, the triggers take precedence: The database fires the triggers instead of performing DML on the view.
                           </p>
                        </li>
                        <li>
                           <p>If the view belongs to a hierarchy, then the subviews do not inherit the trigger.</p>
                        </li>
                        <li>
                           <p>The <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code> for views is not enforced when inserts or updates to the view are done using <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers. The <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger body must enforce the check. For information about <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>, see <a href="../sqlrf/CREATE-VIEW.html#SQLRF54786" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                           </p>
                        </li>
                        <li>
                           <p>The database fine-grained access control lets you define row-level security policies on views. These policies enforce specified rules in response to DML operations. If an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger is also defined on the view, then the database does not enforce the row-level security policies, because the database fires the <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger instead of running the DML on the view.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">DELETE</span></p>
                  <p>If the trigger is created on a noneditioning view, then <code class="codeph">DELETE</code> causes the database to fire the trigger whenever a <code class="codeph">DELETE</code> statement removes a row from the table on which the noneditioning view is defined.
                  </p>
                  <p>If the trigger is created on a nested table column of a noneditioning view, then <code class="codeph">DELETE</code> causes the database to fire the trigger whenever a <code class="codeph">DELETE</code> statement removes an element from the nested table.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">INSERT</span></p>
                  <p>If the trigger is created on a noneditioning view, then <code class="codeph">INSERT</code> causes the database to fire the trigger whenever an <code class="codeph">INSERT</code> statement adds a row to the table on which the noneditioning view is defined.
                  </p>
                  <p>If the trigger is created on a nested table column of a noneditioning view, then <code class="codeph">INSERT</code> causes the database to fire the trigger whenever an <code class="codeph">INSERT</code> statement adds an element to the nested table.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">UPDATE</span></p>
                  <p>If the trigger is created on a noneditioning view, then <code class="codeph">UPDATE</code> causes the database to fire the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in a column of the table on which the noneditioning view is defined.
                  </p>
                  <p>If the trigger is created on a nested table column of a noneditioning view, then <code class="codeph">UPDATE</code> causes the database to fire the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in a column of the nested table.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">nested_table_column</span></span></p>
                  <p>Name of the <span class="italic"><code class="codeph">nested_table_column</code></span> on which the trigger is to be created. The trigger fires only if the DML operates on the elements of the nested table. Performing DML operations directly on nested table columns does not cause the database to fire triggers defined on the table containing the nested table column. For more information, see <span class="q">"<a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="An INSTEAD OF DML trigger is a DML trigger created on a noneditioning view, or on a nested table column of a noneditioning view. The database fires the INSTEAD OF trigger instead of running the triggering DML statement.">INSTEAD OF DML Triggers</a>"</span>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-8DB457D7-2B14-4043-90CE-9F40502FC522">
                     <p class="notep1">See Also:</p>
                     <p><code class="codeph">AS</code> <span class="italic"><code class="codeph">subquery</code></span> clause of <a href="../sqlrf/CREATE-VIEW.html#SQLRF01504" target="_blank"><code class="codeph">CREATE</code> <code class="codeph">VIEW</code></a> in <span class="italic">Oracle Database SQL Language Reference</span> for a list of constructs that prevent inserts, updates, or deletes on a view
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">schema</span></span></p>
                  <p>Name of the schema containing the noneditioning view. <span class="bold">Default:</span> your schema.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">noneditioning_view</span></span></p>
                  <p>If you specify <span class="italic"><code class="codeph">nested_table_column</code></span>, then <span class="italic"><code class="codeph">noneditioning_view</code></span> is the name of the noneditioning view that includes <span class="italic"><code class="codeph">nested_table_column</code></span>. Otherwise, <span class="italic"><code class="codeph">noneditioning_view</code></span> is the name of the noneditioning view on which the trigger is to be created.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">FOR EACH ROW</span></p>
                  <p>For documentation only, because an <code class="codeph">INSTEAD OF</code> trigger is always a row trigger.
                  </p>
                  <p><code class="codeph">ENABLE</code></p>
                  <p><span class="bold">(Default)</span> Creates the trigger in an enabled state.
                  </p>
                  <p><code class="codeph">DISABLE</code></p>
                  <p>Creates the trigger in a disabled state, which lets you ensure that the trigger compiles without errors before you enable it.</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-4009ED2A-B1E5-48F4-9BB0-A4FD23F4A59D">
                     <p class="notep1">Note:</p>
                     <p><code class="codeph">DISABLE</code> is especially useful if you are creating a crossedition trigger, which affects the online application being redefined if compilation errors occur.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">trigger_body</span></span></p>
                  <p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.
                  </p>
                  <p>If <span class="italic">trigger_body</span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.
                  </p>
                  <p><span class="bold">Restriction on <span class="italic">trigger_body</span></span></p>
                  <p>The <span class="italic"><code class="codeph">declare_section</code></span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0C3BD5F3-42C4-4E21-98BB-EE11E661833C"><span class="italic">compound_dml_trigger</span></p>
                  <p>Creates a compound DML trigger (described in <span class="q">"<a href="plsql-triggers.html#GUID-8A0DA171-BE6A-4798-A1A4-677B88EA16A0">Compound DML Triggers</a>"</span>).
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">ENABLE</span></p>
                  <p><span class="bold">(Default)</span> Creates the trigger in an enabled state.
                  </p>
                  <p><span class="bold">DISABLE</span></p>
                  <p>Creates the trigger in a disabled state, which lets you ensure that the trigger compiles without errors before you enable it.</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-CCBC2D89-A58A-4392-8E0A-21BCA967D9A4">
                     <p class="notep1">Note:</p>
                     <p><code class="codeph">DISABLE</code> is especially useful if you are creating a crossedition trigger, which affects the online application being redefined if compilation errors occur.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">WHEN (<span class="italic">condition</span>)</span></p>
                  <p>Specifies a SQL condition that the database evaluates for each row that the triggering statement affects. If the value of <span class="italic">condition</span> is <code class="codeph">TRUE</code> for an affected row, then <span class="italic">tps_body</span> runs for that row; otherwise, <span class="italic">tps_body</span> does not run for that row. The triggering statement runs regardless of the value of <span class="italic">condition</span>.
                  </p>
                  <p>The <span class="italic">condition</span> can contain correlation names (see <span class="q">"<a href="CREATE-TRIGGER-statement.html#GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABEBAAB">referencing_clause ::=</a>"</span>). In <span class="italic">condition</span>, do not put a colon (:) before the correlation name <code class="codeph">NEW</code>, <code class="codeph">OLD</code>, or <code class="codeph">PARENT</code> (in this context, it is not a placeholder for a bind variable).
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-16619403-F909-46E1-B13B-4451183A62BB">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about SQL conditions
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on WHEN (<span class="italic">condition</span>)</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify this clause, then you must also specify at least one of these timing points:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">BEFORE</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">AFTER</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The <span class="italic"><code class="codeph">condition</code></span> cannot include a subquery or a PL/SQL expression (for example, an invocation of a user-defined function).
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-69554901-1419-4DD4-806F-33233E2FD9A5"><span class="italic">system_trigger</span></p>
                  <p>Defines a system trigger (described in <span class="q">"<a href="plsql-triggers.html#GUID-FE23FCE8-DE36-41EF-80A9-6B4B49E80E5B" title="A system trigger is created on either a schema or the database.">System Triggers</a>"</span>).
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">BEFORE</span></p>
                  <p>Causes the database to fire the trigger before running the triggering event.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">AFTER</span></p>
                  <p>Causes the database to fire the trigger after running the triggering event.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">INSTEAD OF</span></p>
                  <p>Creates an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger.
                  </p>
                  <p><span class="bold">Restrictions on INSTEAD OF</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The triggering event must be a <code class="codeph">CREATE</code> statement.
                        </p>
                     </li>
                     <li>
                        <p>You can create at most one <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> DDL trigger (<span class="italic">non_dml_trigger</span>).
                        </p>
                        <p>For example, you can create an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger on either the database or schema, but not on both the database and schema.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHBDEFD">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-CA24E3AA-D985-4709-9B64-6F95D0FBA9EA"><span class="italic">ddl_event</span></p>
                  <p>One or more types of DDL SQL statements that can cause the trigger to fire. </p>
                  <p>You can create triggers for these events on <code class="codeph">DATABASE</code> or <code class="codeph">SCHEMA</code> unless otherwise noted. You can create <code class="codeph">BEFORE</code> and <code class="codeph">AFTER</code> triggers for any of these events, but you can create <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers only for <code class="codeph">CREATE</code> events. The database fires the trigger in the existing user transaction.
                  </p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-30AF467C-51A4-4288-AFE6-C2A81BA7A0B4">
                     <p class="notep1">Note:</p>
                     <p>Some objects are created, altered, and dropped using PL/SQL APIs (for example, scheduler jobs are maintained by subprograms in the <code class="codeph">DBMS_SCHEDULER</code> package). Such PL/SQL subprograms do not fire DDL triggers.
                     </p>
                  </div>
                  <p>The following <span class="italic">ddl_event</span> values are valid:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">ALTER</code></p>
                        <p>Causes the database to fire the trigger whenever an <code class="codeph">ALTER</code> statement modifies a database object in the data dictionary. An <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement does not fire the trigger.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ANALYZE</code></p>
                        <p>Causes the database to fire the trigger whenever the database collects or deletes statistics or validates the structure of a database object.</p>
                        <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-5C00ABF5-4CB3-49FF-96E3-6A12F39752BC">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/ANALYZE.html#SQLRF01105" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about using the SQL statement <code class="codeph">ANALYZE</code> to collect statistics
                           </p>
                        </div>
                     </li>
                     <li>
                        <p><code class="codeph">ASSOCIATE</code> <code class="codeph">STATISTICS</code></p>
                        <p>Causes the database to fire the trigger whenever the database associates a statistics type with a database object.</p>
                     </li>
                     <li>
                        <p><code class="codeph">AUDIT</code></p>
                        <p>Causes the database to fire the trigger whenever an <code class="codeph">AUDIT</code> statement is issued.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">COMMENT</code></p>
                        <p>Causes the database to fire the trigger whenever a comment on a database object is added to the data dictionary.</p>
                     </li>
                     <li>
                        <p><code class="codeph">CREATE</code></p>
                        <p>Causes the database to fire the trigger whenever a <code class="codeph">CREATE</code> statement adds a database object to the data dictionary. The <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> or <code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code> statement does not fire the trigger.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DISASSOCIATE</code> <code class="codeph">STATISTICS</code></p>
                        <p>Causes the database to fire the trigger whenever the database disassociates a statistics type from a database object.</p>
                     </li>
                     <li>
                        <p><code class="codeph">DROP</code></p>
                        <p>Causes the database to fire the trigger whenever a <code class="codeph">DROP</code> statement removes a database object from the data dictionary.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">GRANT</code></p>
                        <p>Causes the database to fire the trigger whenever a user grants system privileges or roles or object privileges to another user or to a role.</p>
                     </li>
                     <li>
                        <p><code class="codeph">NOAUDIT</code></p>
                        <p>Causes the database to fire the trigger whenever a <code class="codeph">NOAUDIT</code> statement is issued.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">RENAME</code></p>
                        <p>Causes the database to fire the trigger whenever a <code class="codeph">RENAME</code> statement changes the name of a database object.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">REVOKE</code></p>
                        <p>Causes the database to fire the trigger whenever a <code class="codeph">REVOKE</code> statement removes system privileges or roles or object privileges from a user or role.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">TRUNCATE</code></p>
                        <p>Causes the database to fire the trigger whenever a <code class="codeph">TRUNCATE</code> statement removes the rows from a table or cluster and resets its storage characteristics.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DDL</code></p>
                        <p>Causes the database to fire the trigger whenever any of the preceding DDL statements is issued.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHBABAH">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2F5D81F4-CE11-4432-8628-A1F7AC59FE6E"><span class="italic">database_event</span></p>
                  <p>One of the following database events. You can create triggers for these events on either <code class="codeph">DATABASE</code> or <code class="codeph">SCHEMA</code> unless otherwise noted. For each of these triggering events, the database opens an autonomous transaction scope, fires the trigger, and commits any separate transaction (regardless of any existing user transaction).
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">STARTUP</code></p>
                        <p>Causes the database to fire the trigger whenever the database is opened. This event is valid only with <code class="codeph">DATABASE</code>, not with <code class="codeph">SCHEMA</code>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">BEFORE</code> <code class="codeph">SHUTDOWN</code></p>
                        <p>Causes the database to fire the trigger whenever an instance of the database is shut down. This event is valid only with <code class="codeph">DATABASE</code>, not with <code class="codeph">SCHEMA</code>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">DB_ROLE_CHANGE</code></p>
                        <p>In an Oracle Data Guard configuration, causes the database to fire the trigger whenever a role change occurs from standby to primary or from primary to standby. This event is valid only with <code class="codeph">DATABASE</code>, not with <code class="codeph">SCHEMA</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-036AB0DB-0BC5-422F-99D7-09C7C2E48C78">
                           <p class="notep1">Note:</p>
                           <p>You cannot create an <code class="codeph">AFTER</code> <code class="codeph">DB_ROLE_CHANGE</code> trigger on a PDB.
                           </p>
                        </div>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">SERVERERROR</code></p>
                        <p>Causes the database to fire the trigger whenever both of these conditions are true:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A server error message is logged.</p>
                           </li>
                           <li>
                              <p>Oracle relational database management system (RDBMS) determines that it is safe to fire error triggers.</p>
                              <p>Examples of when it is unsafe to fire error triggers include:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>RDBMS is starting up.</p>
                                 </li>
                                 <li>
                                    <p>A critical error has occurred.</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">LOGON</code></p>
                        <p>Causes the database to fire the trigger whenever a client application logs onto the database.</p>
                     </li>
                     <li>
                        <p><code class="codeph">BEFORE</code> <code class="codeph">LOGOFF</code></p>
                        <p>Causes the database to fire the trigger whenever a client application logs off the database.</p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">SUSPEND</code></p>
                        <p>Causes the database to fire the trigger whenever a server error causes a transaction to be suspended.</p>
                     </li>
                     <li>
                        <p><code class="codeph">AFTER</code> <code class="codeph">CLONE</code></p>
                        <p>Can be specified only if <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> is specified. After the PDB is copied (cloned), the database fires the trigger in the new PDB and then deletes the trigger. If the trigger fails, then the copy operation fails.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">BEFORE</code> <code class="codeph">UNPLUG</code></p>
                        <p>Can be specified only if <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> is specified. Before the PDB is unplugged, the database fires the trigger and then deletes it. If the trigger fails, then the unplug operation fails.
                        </p>
                     </li>
                     <li>
                        <p> [<code class="codeph"> BEFORE</code> | <code class="codeph">AFTER </code>] <code class="codeph">SET</code> <code class="codeph">CONTAINER</code></p>
                        <p>Causes the database to fire the trigger either before or after an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code> statement executes.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-05BA2556-9BB9-40A5-8E9C-D3D306C6C81C">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="plsql-triggers.html#GUID-2951D8A6-6C80-428F-840D-13A76A97E365">Triggers for Publishing Events</a>"</span> for more information about responding to database events through triggers
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[<span class="italic">schema</span>.]SCHEMA</span></p>
                  <p>Defines the trigger on the specified schema. <span class="bold">Default:</span> current schema. The trigger fires whenever any user connected as the specified schema initiates the triggering event.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">[ PLUGGABLE ] DATABASE</span></p>
                  <p><code class="codeph">DATABASE</code> defines the trigger on the root. In a multitenant container database (CDB), only a common user who is connected to the root can create a trigger on the entire database.
                  </p>
                  <p><code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> defines the trigger on the PDB to which you are connected.
                  </p>
                  <p>The trigger fires whenever any user of the specified database or PDB initiates the triggering event.</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-19464708-B5D1-4543-BAC1-2047D06D776C">
                     <p class="notep1">Note:</p>
                     <p>If you are connected to a PDB, then specifying <code class="codeph">DATABASE</code> is equivalent to specifying <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> unless you want to specify an option that applies only to a PDB (such as <code class="codeph">CLONE</code> or <code class="codeph">UNPLUG</code>).
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">ENABLE</span></p>
                  <p><span class="bold">(Default)</span> Creates the trigger in an enabled state.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">DISABLE</span></p>
                  <p>Creates the trigger in a disabled state, which lets you ensure that the trigger compiles without errors before you enable it.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">WHEN (<span class="italic">condition</span>)</span></p>
                  <p>Specifies a SQL condition that the database evaluates. If the value of <span class="italic"><code class="codeph">condition</code></span> is <code class="codeph">TRUE</code>, then <span class="italic"><code class="codeph">trigger_body</code></span> runs for that row; otherwise, <span class="italic"><code class="codeph">trigger_body</code></span> does not run for that row. The triggering statement runs regardless of the value of <span class="italic"><code class="codeph">condition</code></span>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-9C417E30-7AE1-4084-AA3D-0902AE0FEC1E">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/Conditions.html#SQLRF005" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about SQL conditions
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on WHEN (<span class="italic">condition</span>)</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause for a <code class="codeph">STARTUP</code>, <code class="codeph">SHUTDOWN</code>, or <code class="codeph">DB_ROLE_CHANGE</code> trigger.
                        </p>
                     </li>
                     <li>
                        <p>If you specify this clause for a <code class="codeph">SERVERERROR</code> trigger, then <span class="italic"><code class="codeph">condition</code></span> must be <code class="codeph">ERRNO</code> <code class="codeph">=</code> <span class="italic"><code class="codeph">error_code</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="italic"><code class="codeph">condition</code></span> cannot include a subquery, a PL/SQL expression (for example, an invocation of a user-defined function), or a correlation name.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">trigger_body</span></span></p>
                  <p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.
                  </p>
                  <p>If <span class="italic"><code class="codeph">trigger_body</code></span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.
                  </p>
                  <p><span class="bold">Restrictions on <span class="italic">trigger_body</span></span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <span class="italic"><code class="codeph">declare_section</code></span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.
                        </p>
                     </li>
                     <li>
                        <p>The trigger body cannot specify either <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B2A99C89-37DF-4E6D-BA57-850FA0ED85C9"><span class="italic">dml_event_clause</span></p>
                  <p>Specifies the triggering statements for <span class="italic">simple_dml_trigger</span> or <span class="italic">compound_dml_trigger</span>. The database fires the trigger in the existing user transaction.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">DELETE</span></p>
                  <p>Causes the database to fire the trigger whenever a <code class="codeph">DELETE</code> statement removes a row from <span class="italic"><code class="codeph">table</code></span> or the table on which <span class="italic"><code class="codeph">view</code></span> is defined.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">INSERT</span></p>
                  <p>Causes the database to fire the trigger whenever an <code class="codeph">INSERT</code> statement adds a row to <span class="italic"><code class="codeph">table</code></span> or the table on which <span class="italic"><code class="codeph">view</code></span> is defined.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">UPDATE [ OF <span class="italic">column</span> [, <span class="italic">column</span> ] ]</span></p>
                  <p>Causes the database to fire the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in a specified column. <span class="bold">Default:</span> The database fires the trigger whenever an <code class="codeph">UPDATE</code> statement changes a value in any column of <span class="italic"><code class="codeph">table</code></span> or the table on which <span class="italic"><code class="codeph">view</code></span> is defined.
                  </p>
                  <p>If you specify a <span class="italic"><code class="codeph">column</code></span>, then you cannot change its value in the body of the trigger.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">schema</span></span></p>
                  <p>Name of the schema that contains the database object on which the trigger is to be created. <span class="bold">Default:</span> your schema.
                  </p>
                  <p><span class="bold"><span class="italic">table</span></span></p>
                  <p>Name of the database table or object table on which the trigger is to be created.</p>
                  <p><span class="bold">Restriction on <span class="italic">schema.table</span></span></p>
                  <p>You cannot create a trigger on a table in the schema <code class="codeph">SYS</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">view</span></span></p>
                  <p>Name of the database view or object view on which the trigger is to be created.</p>
                  <div class="infoboxnote" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-B4246E30-6A5B-4FA3-8AEE-8E5939C5D8F1">
                     <p class="notep1">Note:</p>
                     <p>A compound DML trigger created on a noneditioning view is not really compound, because it has only one timing point section.</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DA1FF910-C87A-4032-94A8-4ED128E10072"><span class="italic">referencing_clause</span></p>
                  <p>Specifies correlation names, which refer to old, new, and parent values of the current row. <span class="bold">Defaults:</span> <code class="codeph">OLD</code>, <code class="codeph">NEW</code>, and <code class="codeph">PARENT</code>.
                  </p>
                  <p>If your trigger is associated with a table named <code class="codeph">OLD</code>, <code class="codeph">NEW</code>, or <code class="codeph">PARENT</code>, then use this clause to specify different correlation names to avoid confusion between the table names and the correlation names.
                  </p>
                  <p>If the trigger is defined on a nested table, then <code class="codeph">OLD</code> and <code class="codeph">NEW</code> refer to the current row of the nested table, and <code class="codeph">PARENT</code> refers to the current row of the parent table. If the trigger is defined on a database table or view, then <code class="codeph">OLD</code> and <code class="codeph">NEW</code> refer to the current row of the database table or view, and <code class="codeph">PARENT</code> is undefined.
                  </p>
                  <p><span class="bold">Restriction on <span class="italic">referencing_clause</span></span></p>
                  <p>The <span class="italic">referencing_clause</span> is not valid if <span class="italic">trigger_body</span> is <code class="codeph">CALL</code> <span class="italic">routine</span>.
                  </p>
                  <p>DML row-level triggers cannot reference fields of OLD/NEW/PARENT pseudorecords (correlation names) that correspond to columns with declared collation other than <code class="codeph">USING_NLS_COMP</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-817C65AB-118A-4DEA-A2F5-9CBAF860719F"><span class="italic">trigger_edition_clause</span></p>
                  <p>Creates the trigger as a crossedition trigger.</p>
                  <p>The handling of DML changes during edition-based redefinition (EBR) of an online application can entail multiple steps. Therefore, it is likely, though not required, that a crossedition trigger is also a <span class="bold">compound trigger</span>.
                  </p>
                  <p><span class="bold">Restrictions on <span class="italic">trigger_edition_clause</span></span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot define a crossedition trigger on a view.</p>
                     </li>
                     <li>
                        <p>You cannot specify <code class="codeph">NONEDITIONABLE</code> for a crossedition trigger.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">FORWARD</span></p>
                  <p><span class="bold">(Default)</span> Creates the trigger as a forward crossedition trigger. A forward crossedition trigger is intended to fire when DML changes are made in a database while an online application that uses the database is being patched or upgraded with EBR. The body of a crossedition trigger is designed to handle these DML changes so that they can be appropriately applied after the changes to the application code are completed.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">REVERSE</span></p>
                  <p>Creates the trigger as a reverse crossedition trigger, which is intended to fire when the application, after being patched or upgraded with EBR, makes DML changes. This trigger propagates data to columns or tables used by the application before it was patched or upgraded.</p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-DC2CEEA6-B466-4500-9A1D-8D441842A342">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adfns/editions.html#ADFNS0203" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information crossedition triggers
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-05C5E448-7286-4687-BA5A-227BB299A1B8"><span class="italic">trigger_ordering_clause</span></p>
                  <p id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHDEBEI"><span class="bold">FOLLOWS | PRECEDES</span></p>
                  <p>Specifies the relative firing of triggers that have the same timing point. It is especially useful when creating crossedition triggers, which must fire in a specific order to achieve their purpose.</p>
                  <p>Use <code class="codeph">FOLLOWS</code> to indicate that the trigger being created must fire after the specified triggers. You can specify <code class="codeph">FOLLOWS</code> for a conventional trigger or for a forward crossedition trigger.
                  </p>
                  <p>Use <code class="codeph">PRECEDES</code> to indicate that the trigger being created must fire before the specified triggers. You can specify <code class="codeph">PRECEDES</code> only for a reverse crossedition trigger.
                  </p>
                  <p>The specified triggers must exist, and they must have been successfully compiled. They need not be enabled.</p>
                  <p>If you are creating a noncrossedition trigger, then the specified triggers must be all of the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Noncrossedition triggers</p>
                     </li>
                     <li>
                        <p>Defined on the same table as the trigger being created</p>
                     </li>
                     <li>
                        <p>Visible in the same edition as the trigger being created</p>
                     </li>
                  </ul>
                  <p>If you are creating a crossedition trigger, then the specified triggers must be all of the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Crossedition triggers</p>
                     </li>
                     <li>
                        <p>Defined on the same table or editioning view as the trigger being created, unless you specify <code class="codeph">FOLLOWS</code> or <code class="codeph">PRECEDES</code>.
                        </p>
                        <p>If you specify <code class="codeph">FOLLOWS</code>, then the specified triggers must be forward crossedition triggers, and if you specify <code class="codeph">PRECEDES</code>, then the specified triggers must be reverse crossedition triggers. However, the specified triggers need not be on the same table or editioning view as the trigger being created.
                        </p>
                     </li>
                     <li>
                        <p>Visible in the same edition as the trigger being created</p>
                     </li>
                  </ul>
                  <p>In the following definitions, A, B, C, and D are either noncrossedition triggers or forward crossedition triggers:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If B specifies A in its <code class="codeph">FOLLOWS</code> clause, then B <span class="bold">directly follows</span> A.
                        </p>
                     </li>
                     <li>
                        <p>If C directly follows B, and B directly follows A, then C <span class="bold">indirectly follows</span> A.
                        </p>
                     </li>
                     <li>
                        <p>If D directly follows C, and C indirectly follows A, then D indirectly follows A.</p>
                     </li>
                     <li>
                        <p>If B directly or indirectly follows A, then B <span class="bold">explicitly follows</span> A (that is, the firing order of B and A is explicitly specified by one or more <code class="codeph">FOLLOWS</code> clauses).
                        </p>
                     </li>
                  </ul>
                  <p>In the following definitions, A, B, C, and D are reverse crossedition triggers:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If A specifies B in its <code class="codeph">PRECEDES</code> clause, then A <span class="bold">directly precedes</span> B.
                        </p>
                     </li>
                     <li>
                        <p>If A directly precedes B, and B directly precedes C, then A <span class="bold">indirectly precedes</span> C.
                        </p>
                     </li>
                     <li>
                        <p>If A directly precedes B, and B indirectly precedes D, then A indirectly precedes D.</p>
                     </li>
                     <li>
                        <p>If A directly or indirectly precedes B, then A <span class="bold">explicitly precedes</span> B (that is, the firing order of A and B is explicitly specified by one or more <code class="codeph">PRECEDES</code> clauses).
                        </p>
                     </li>
                  </ul>
                  <p>Belongs to <span class="italic">compound_dml_trigger</span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-0DB4CB3A-005D-46BD-81CD-1F4CFAFF1D1C"><span class="italic">compound_trigger_block</span></p>
                  <p>If the trigger is created on a noneditioning view, then <span class="italic">compound_trigger_block</span> must have only the <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section.
                  </p>
                  <p>If the trigger is created on a table or editioning view, then timing point sections can be in any order, but no section can be repeated. The <span class="italic">compound_trigger_block</span> cannot have an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section.
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-FEAF2170-2223-490B-B92F-C6F059F8F136">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="plsql-triggers.html#GUID-B42FDBCD-55F4-47E9-90BB-12B71D63D225">Compound DML Trigger Structure</a>"</span></p>
                  </div>
                  <p><span class="bold">Restriction on <span class="italic">compound_trigger_block</span></span></p>
                  <p>The <span class="italic">declare_section</span> of <span class="italic">compound_trigger_block</span> cannot include <code class="codeph">PRAGMA</code> <code class="codeph">AUTONOMOUS_TRANSACTION</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-F7C67C08-F973-42DF-95A2-A2F5D616DDEF">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="plsql-triggers.html#GUID-67299530-50F0-4D99-B212-956A7E679CDC">Compound DML Trigger Restrictions</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-2ED355A9-A725-469E-B30C-D771AFEC76D7"><span class="italic">timing_point</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">BEFORE STATEMENT</span></p>
                  <p>Specifies the <code class="codeph">BEFORE</code> <code class="codeph">STATEMENT</code> section of a <span class="italic">compound_dml_trigger</span> on a table or editioning view. This section causes the database to fire the trigger before running the triggering event.
                  </p>
                  <p><span class="bold">Restriction on BEFORE STATEMENT</span></p>
                  <p>This section cannot specify <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">BEFORE EACH ROW</span></p>
                  <p>Specifies the <code class="codeph">BEFORE</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section of a <span class="italic">compound_dml_trigger</span> on a table or editioning view. This section causes the database to fire the trigger before running the triggering event. The trigger fires before each affected row is changed.
                  </p>
                  <p>This section can read and write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">AFTER STATEMENT</span></p>
                  <p>Specifies the <code class="codeph">AFTER</code> <code class="codeph">STATEMENT</code> section of <span class="italic">compound_dml_trigger</span> on a table or editioning view. This section causes the database to fire the trigger after running the triggering event.
                  </p>
                  <p><span class="bold">Restriction on AFTER STATEMENT</span></p>
                  <p>This section cannot specify <code class="codeph">:NEW</code> or <code class="codeph">:OLD</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">AFTER EACH ROW</span></p>
                  <p>Specifies the <code class="codeph">AFTER</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section of a <span class="italic">compound_dml_trigger</span> on a table or editioning view. This section causes the database to fire the trigger after running the triggering event. The trigger fires after each affected row is changed.
                  </p>
                  <p>This section can read but not write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> fields.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">INSTEAD OF EACH ROW</span></p>
                  <p>Specifies the <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> <code class="codeph">EACH</code> <code class="codeph">ROW</code> section (the only timing point section) of a <span class="italic">compound_dml_trigger</span> on a noneditioning view. The database runs <span class="italic">tps_body</span> instead of running the triggering DML statement. For more information, see <span class="q">"<a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671" title="An INSTEAD OF DML trigger is a DML trigger created on a noneditioning view, or on a nested table column of a noneditioning view. The database fires the INSTEAD OF trigger instead of running the triggering DML statement.">INSTEAD OF DML Triggers</a>"</span>.
                  </p>
                  <p><span class="bold">Restriction on INSTEAD OF EACH ROW</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>This section can appear only in a <span class="italic"><code class="codeph">compound_dml_trigger</code></span> on a noneditioning view.
                        </p>
                     </li>
                     <li>
                        <p>This section can read but not write the <code class="codeph">:OLD</code> and <code class="codeph">:NEW</code> values.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-71BE335F-CC7B-4A9A-A08B-6543BD3D41CF"><span class="italic">tps_body</span></p>
                  <p>The PL/SQL block or <code class="codeph">CALL</code> subprogram that the database runs to fire the trigger. A <code class="codeph">CALL</code> subprogram is either a PL/SQL subprogram or a Java subprogram in a PL/SQL wrapper.
                  </p>
                  <p>If <span class="italic"><code class="codeph">tps_body</code></span> is a PL/SQL block and it contains errors, then the <code class="codeph">CREATE</code> [<code class="codeph">OR</code> <code class="codeph">REPLACE</code>] statement fails.
                  </p>
                  <p><span class="bold">Restriction on <span class="italic">tps_body</span></span></p>
                  <p>The <span class="italic"><code class="codeph">declare_section</code></span> cannot declare variables of the data type <code class="codeph">LONG</code> or <code class="codeph">LONG</code> <code class="codeph">RAW</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__CIHEICEC">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-9B1B11C7-C08C-464C-AD1A-8F855E003C48">Examples</p>
                  <p>DML Triggers</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-EC6A8FA1-9E60-4374-9905-639F4F100D83__CIHBCDJH">Example 9-1</a>, <span class="q">"Trigger Uses Conditional Predicates to Detect Triggering Statement"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671__CIHFGDJG">Example 9-2</a>, <span class="q">"INSTEAD OF Trigger"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-9F06D45C-7C60-434E-A597-114A0C445671__CIHFBGDC">Example 9-3</a>, <span class="q">"INSTEAD OF Trigger on Nested Table Column of View"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-B5E654D9-5875-40EC-AE24-E3A8CB37C9C5__CIHGJFAB">Example 9-4</a>, <span class="q">"Compound Trigger Logs Changes to One Table in Another Table"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-E1150933-9B5F-4AA3-9F49-C222A1618BE5__CHDFGDAH">Example 9-5</a>, <span class="q">"Compound Trigger Avoids Mutating-Table Error"</span></p>
                     </li>
                  </ul>
                  <p>Triggers for Ensuring Referencial Integrity</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-2DC16B21-35B1-4D09-BD4E-02797AA278EA__BCFGAHIB">Example 9-6</a>, <span class="q">"Foreign Key Trigger for Child Table"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-DB24A169-3CB1-427E-AA2B-646B878FA20C__BCFCCBAF">Example 9-7</a>, <span class="q">"UPDATE and DELETE RESTRICT Trigger for Parent Table"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-58AD982C-22E6-4A62-A2CE-643BE8C4E821__BCFBGFDJ">Example 9-8</a>, <span class="q">"UPDATE and DELETE SET NULL Trigger for Parent Table"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-2B9DF77A-171D-472B-A8F0-FF9730261D07__BCFHHHBD">Example 9-9</a>, <span class="q">"DELETE CASCADE Trigger for Parent Table"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-193F9DBB-80B5-49FC-83D2-2FB533880833__BCFDBJDA">Example 9-10</a>, <span class="q">"UPDATE CASCADE Trigger for Parent Table"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-BF2DDD06-E6B4-4EB5-945F-89FFA8468D6F__BCFECGBI">Example 9-11</a>, <span class="q">"Trigger Checks Complex Constraints"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-9E6E59EF-F402-4B11-A4FF-268D9C0521EB__BCFGEBAA">Example 9-12</a>, <span class="q">"Trigger Enforces Security Authorizations"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-BD042B88-E2E7-4A7D-8FA2-8D0185F6455F__BCFDEHHE">Example 9-13</a>, <span class="q">"Trigger Derives New Column Values"</span></p>
                     </li>
                  </ul>
                  <p>Triggers That Use Correlation Names and Pseudorecords</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFBDJEC">Example 9-14</a>, <span class="q">"Trigger Logs Changes to EMPLOYEES.SALARY"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__CIHHEJCD">Example 9-15</a>, <span class="q">"Conditional Trigger Prints Salary Change Information"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFJDBEH">Example 9-16</a>, <span class="q">"Trigger Modifies CLOB Columns"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-4CF74E99-8859-4AB1-96E7-07898A2ABB9E__BCFIAABG">Example 9-17</a>, <span class="q">"Trigger with REFERENCING Clause"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-C42CC16B-EAC1-4093-85C8-6359D08C912F__BCFFIBBA">Example 9-18</a>, <span class="q">"Trigger References OBJECT_VALUE Pseudocolumn"</span></p>
                     </li>
                  </ul>
                  <p>System Triggers</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-6CF3A208-0BE7-45FF-928C-A755526933D0__CIHFGGEH">Example 9-19</a>, <span class="q">"BEFORE Statement Trigger on Sample Schema HR"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-AC093015-E9EA-47B1-8B0C-51A1860AB12D__CIHEBJDD">Example 9-20</a>, <span class="q">"AFTER Statement Trigger on Database"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-AC093015-E9EA-47B1-8B0C-51A1860AB12D__CIHEFABC">Example 9-21</a>, <span class="q">"Trigger Monitors Logons"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-7B32FE4B-AB8E-48B0-A74C-599584A485A7__CIHBJFDG">Example 9-22</a>, <span class="q">"INSTEAD OF CREATE Trigger on Schema"</span></p>
                     </li>
                  </ul>
                  <p>Miscellaneous Trigger Examples</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-E11CFB2F-064F-42EB-8390-F025564AD107__CIHGEEIC">Example 9-23</a>, <span class="q">"Trigger Invokes Java Subprogram"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-FA7A16B6-F94D-4E4C-A326-F602FE9FE3E8__BCFDBDJH">Example 9-24</a>, <span class="q">"Trigger Cannot Handle Exception if Remote Database is Unavailable"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-FA7A16B6-F94D-4E4C-A326-F602FE9FE3E8__BCFEHHDA">Example 9-25</a>, <span class="q">"Workaround for Trigger Cannot Handle Exception if Remote Database is Unavailable"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-73B70893-9E45-4C08-B327-13ECBE4BE920__BCFHJBBE">Example 9-26</a>, <span class="q">"Trigger Causes Mutating-Table Error"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-73B70893-9E45-4C08-B327-13ECBE4BE920__BCFEFDIA">Example 9-27</a>, <span class="q">"Update Cascade"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-triggers.html#GUID-F843EE28-6D46-4AA2-B3B3-7CB5485B96CE__BCFHCBGE">Example 9-28</a>, <span class="q">"Viewing Information About Triggers"</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__BABCHGAE">
                  <p class="subhead1" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-8F89FBB2-BFD5-4A71-8B8F-F9C5685C8D8D">Related Topics</p>
                  <p>In this chapter:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="ALTER-TRIGGER-statement.html#GUID-BC319647-2D94-46D1-BF69-16CDFB507725" title="The ALTER TRIGGER statement enables, disables, compiles, or renames a database trigger.">ALTER TRIGGER Statement</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="DROP-TRIGGER-statement.html#GUID-C664FDA9-656B-49D4-A86D-D08B615137E9" title="The DROP TRIGGER statement drops a database trigger from the database.">DROP TRIGGER Statement</a>"</span></p>
                     </li>
                  </ul>
                  <p>In other chapters:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-triggers.html#GUID-217E8B13-29EF-45F3-8D0F-2384F9F1D231" title="A trigger is like a stored procedure that Oracle Database invokes automatically whenever a specified event occurs.">PL/SQL Triggers</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-AF9E33F1-64D1-4382-A6A4-EC33C36F237B__GUID-D07ED78E-3188-43BD-842A-ED7DACD9CC41">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adfns/editions.html#ADFNS0203" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information about crossedition triggers
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='04829.streams-advanced-queueing-and-publish-subscribe-functions.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Lists and describes the Database Advanced Queuing and publish-subscribe functions.">
      <meta name="description" content="Lists and describes the Database Advanced Queuing and publish-subscribe functions.">
      <title>Database Advanced Queuing and Publish-Subscribe Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Lists and describes the Database Advanced Queuing and publish-subscribe functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="lob-functions.html" title="Previous" type="text/html">
      <link rel="next" href="direct-path-loading-functions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="lob-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="direct-path-loading-functions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="more-database-access-c-api.html" property="item" typeof="WebPage"><span property="name"> More Oracle Database Access C API</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Database Advanced Queuing and
        Publish-Subscribe Functions</li>
            </ol>
            <a id="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3" name="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3"></a><a id="LNOCI17225"></a><a id="LNOCI163"></a>
            
            <h2 id="LNOCI-GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3" class="sect2"><span class="enumeration_section">26.4 </span>Database Advanced Queuing and
        Publish-Subscribe Functions
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Lists and describes the Database Advanced Queuing and publish-subscribe
        functions.</p>
               <div class="section">
                  <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3__G731077" title="This table has 2 columns. Column 1 is the OCI function name and column 2 describes its purpose.">Table 26-3</a> lists the Database Advanced Queuing and
                publish-subscribe functions that are described in this section. Use functions that
                end in "2" for all new applications.
                  </p>
                  <div class="infoboxnotealso" id="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3__GUID-6147DD62-1929-4D77-9F1C-A64AB9CAA17C">
                     <p class="notep1">See Also:</p>
                     <p><a href="oci-demo-programs.html#GUID-75E18629-0C54-4495-A747-AFB346034F26__CACCAHCE" title="This table has 2 columns. Column 1 is the OCI demonstration program name and column 2 describes the corresponding features illustrated.">Table B-1</a> for Database Advanced Queuing programs
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-4D7FFF56-38DE-4DBF-80E8-48BF19C2B2D3__G731077">
                  <p class="titleintable">Table 26-3 Advanced Queuing and Publish-Subscribe Functions</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Advanced Queuing and Publish-Subscribe Functions" summary="This table has 2 columns. Column 1 is the OCI function name and column 2 describes its purpose. " width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="64%" id="d213367e222">Function</th>
                           <th align="left" valign="bottom" width="36%" id="d213367e225">Purpose</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e230" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e230 d213367e225 ">
                              <p>Performs an Advanced Queuing dequeue operation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e239" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" title="Dequeues an array of messages from a queue.">OCIAQDeqArray()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e239 d213367e225 ">
                              <p>Dequeue an array of messages</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e251" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e251 d213367e225 ">
                              <p>Performs an Advanced Queuing enqueue operation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e263" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" title="Enqueues an array of messages to a queue.">OCIAQEnqArray()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e263 d213367e225 ">
                              <p>Enqueue an array of messages</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e275" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e275 d213367e225 ">
                              <p>Listen on one or more queues on behalf of a list of agents. Supports buffered messaging and persistent queues.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e287" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-72C51789-C48C-4F36-800B-EECC1AD98E00" title="Disables a subscription registration that turns off all notifications.">OCISubscriptionDisable()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e287 d213367e225 ">
                              <p>Disable a subscription registration to turn off notifications</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e299" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="Enables a subscription registration that has been disabled.">OCISubscriptionEnable()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e299 d213367e225 ">
                              <p>Enable notifications on a subscription</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e311" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="Posts to a subscription that allows all clients who are registered for the subscription to get notifications.">OCISubscriptionPost()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e311 d213367e225 ">
                              <p>Post to a subscription to receive notifications</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e323" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e323 d213367e225 ">
                              <p>Register a subscription</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="64%" id="d213367e335" headers="d213367e222 ">
                              <p><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a></p>
                           </td>
                           <td align="left" valign="top" width="36%" headers="d213367e335 d213367e225 ">
                              <p>Unregister a subscription</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17226"></a><div class="props_rev_3"><a id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C" name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C"></a><h3 id="LNOCI-GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C" class="sect3"><span class="enumeration_section">26.4.1 </span>OCIAQDeq()
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-54720B83-831A-4CD6-AB08-949AF1F54844">Purpose</p>
                     <p>Performs a dequeue operation using Database Advanced Queuing with OCI.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-CE5CD062-4A8E-474D-9E1B-8B2920E45DA3">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIAQDeq ( OCISvcCtx            *svch,
                 OCIError             *errh,
                 OraText              *queue_name,
                 OCIAQDeqOptions      *dequeue_options,
                 OCIAQMsgProperties   *message_properties,
                 OCIType              *payload_tdo,
                 void                **payload,
                 void                **payload_ind,
                 OCIRaw              **msgid,
                 ub4                   flags );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-A4E13214-81B9-4DFC-8C60-C80AD225B839">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-1D38A8D4-7525-408E-A026-C8CD42837FF4">
                              <!-- --></a><span class="bold">svch</span> (IN)
                        </dt>
                        <dd>
                           <p>OCI service context.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-CA2D010A-7569-4403-A12C-C90F10835321">
                              <!-- --></a><span class="bold">errh</span> (IN)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-D5236559-A57B-4AAB-9D33-16272AB41AA8">
                              <!-- --></a><span class="bold">queue_name</span> (IN)
                        </dt>
                        <dd>
                           <p>The target queue for the dequeue operation. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-897A68EF-CB07-4D81-891B-EC1C224BE53B">
                              <!-- --></a><span class="bold">dequeue_options </span>(IN)
                        </dt>
                        <dd>
                           <p>The options for the dequeue operation; stored in an <code class="codeph">OCIAQDeqOptions</code> descriptor, with OCI type constant <code class="codeph">OCI_DTYPE_AQDEQ_OPTIONS</code>. 
                           </p>
                           <p><code class="codeph">OCI_DTYPE_AQDEQ_OPTIONS</code> has the additional attribute <code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> (introduced in Oracle Database 10<span class="italic">g</span> Release 2) with the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> (default)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT_OR_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-22F1AEB2-CE5C-4503-B9DA-2DDE76AB007D">
                              <!-- --></a><span class="bold">message_properties</span> (OUT)
                        </dt>
                        <dd>
                           <p>The message properties for the message; the properties are stored in an <code class="codeph">OCIAQMsgProperties</code> descriptor, with OCI type constant <code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code>, which can have the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_AQ_PERSISTENT</code> (default)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_AQ_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-0BD63E75-5D16-4E35-B56C-C5E41BC45C51">
                              <!-- --></a><span class="bold">payload_tdo</span> (IN)
                        </dt>
                        <dd>
                           <p>The TDO (type descriptor object) of an object type. For a raw queue, this parameter should point to the TDO of <code class="codeph">SYS.RAW</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-3850FEB4-A899-4355-99BB-F3676D02064F">
                              <!-- --></a><span class="bold">payload</span> (IN/OUT)
                        </dt>
                        <dd>
                           <p>A pointer to a pointer to a program variable buffer that is an instance of an object type. For a raw queue, this parameter should point to an instance of <code class="codeph">OCIRaw</code>.
                           </p>
                           <p>Memory for the payload is dynamically allocated in the object cache. The application can optionally call <code class="codeph">OCIObjectFree()</code> to deallocate the payload instance when it is no longer needed. If the pointer to the program variable buffer (<code class="codeph">*payload</code>) is passed as <code class="codeph">NULL</code>, the buffer is implicitly allocated in the cache.
                           </p>
                           <p>The application may choose to pass <code class="codeph">NULL</code> for <code class="codeph">payload</code> the first time <code class="codeph">OCIAQDeq()</code> is called, and let the OCI allocate the memory for the payload. It can then use a pointer to that previously allocated memory in subsequent calls to <code class="codeph">OCIAQDeq()</code>.
                           </p>
                           <p>To obtain a TDO for the payload, use <code class="codeph">OCITypeByName()</code>, or <code class="codeph">OCITypeByRef()</code>.
                           </p>
                           <p>The OCI provides functions that allow the user to set attributes of the payload, such as its text. For information about setting these attributes, see <span class="q">"<a href="oci-object-relational-programming.html#GUID-BA775817-78E4-4C49-A3C2-C867C50509B2" title="Once an object has been pinned, an OCI application can modify its attributes.">Manipulating Object Attributes</a>"</span>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-6AB15CF3-BC01-4BAD-9CFE-A3BEB5F0D8C6">
                              <!-- --></a><span class="bold">payload_ind</span> (IN/OUT)
                        </dt>
                        <dd>
                           <p>A pointer to a pointer to the program variable buffer containing the parallel indicator structure for the object type.</p>
                           <p>The memory allocation rules for <code class="codeph">payload_ind</code> are the same as those for <code class="codeph">payload</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-47DB28EA-C3ED-4F9F-AAB6-ADB54CB5B632">
                              <!-- --></a><span class="bold">msgid</span> (OUT)
                        </dt>
                        <dd>
                           <p>The message ID.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-67F7E071-546B-4D0B-A459-4DDA34E4113D">
                              <!-- --></a><span class="bold">flags</span> (IN)
                        </dt>
                        <dd>
                           <p>Not currently used; pass as <code class="codeph">OCI_DEFAULT</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-42E931B3-A93A-4B2A-A205-685EE000F4A7">Comments</p>
                     <p>Users must have the <code class="codeph">AQ_USER_ROLE</code> or privileges to execute the <code class="codeph">DBMS_AQ</code> package to use this call. The OCI environment must be initialized in object mode (using <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>), or <code class="codeph">OCIInitialize()</code> (deprecated) to use this call.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-pin-unpin-and-free-functions.html#GUID-0814B033-C25C-4B4C-8968-4C0B86C2E744" title="Frees and unpins an object instance.">OCIObjectFree()</a></li>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-3534AABC-E347-4BC7-B220-0CAECDC9ECE7" title="Gets the most current version of an existing TDO.">OCITypeByName()</a></li>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-5613CAA6-D547-4267-8891-0E1DA213B7AB" title="Gets a TDO when given a reference.">OCITypeByRef()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C__GUID-BAF2F2C3-0E5E-4C7C-9963-3B229C234E54">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI provides an interface to the Database Advanced Queuing (Database AQ) feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle Database.">OCI and Database Advanced Queuing</a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=ADQUE0100" target="_blank"><span><cite>Oracle Database Advanced Queuing User's Guide</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17227"></a><div class="props_rev_3"><a id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A"></a><h3 id="LNOCI-GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" class="sect3"><span class="enumeration_section">26.4.2 </span>OCIAQDeqArray()
               </h3>
               <div>
                  <p>Dequeues an array of messages from a queue. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-A4B1F248-1577-4601-AF21-0B672706A835">Purpose</p>
                     <p>All messages in the array are dequeued with the same option and have the same queue table payload column TDO.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-741AE2A1-9662-4727-A6C0-DA90268C376E">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIAQDeqArray ( OCISvcCtx            *svchp,
                      OCIError             *errhp,
                      OraText              *queue_name,
                      OCIAQDeqOptions      *deqopt,
                      ub4                  *iters,
                      OCIAQMsgProperties  **msgprop,
                      OCIType              *payload_tdo,
                      void                **payload,
                      void                **payload_ind,
                      OCIRaw              **msgid,
                      void                 *ctxp,
                      OCICallbackAQDeq     (cbfp) 
                                          (
                                          void          *ctxp,
                                          void         **payload,
                                          void         **payload_ind
                                          ),
                      ub4                   flags );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-F67364E7-BB56-4F23-8CE3-4B42C8E721D0">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-FE67870B-AA38-4CAD-8DB5-D9E7A04A774C">
                              <!-- --></a><span class="bold">svchp</span> (IN)
                        </dt>
                        <dd>
                           <p>OCI service context (unchanged from <code class="codeph">OCIAQDeq()</code>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-78524540-C509-4898-9538-3C324FF390B4">
                              <!-- --></a><span class="bold">errhp</span> (IN)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error (unchanged from <code class="codeph">OCIAQDeq()</code>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-822C0974-CB34-4943-A31F-486EA2E99994">
                              <!-- --></a>queue_name (IN)
                        </dt>
                        <dd>
                           <p>The name of the queue from which messages are dequeued (unchanged from <code class="codeph">OCIAQDeq()</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-0F2EBE21-903B-4D36-A475-1FF8E19462AF">
                              <!-- --></a>deqopt (IN)
                        </dt>
                        <dd>
                           <p>A pointer to an <code class="codeph">OCIAQDeqOptions</code> descriptor (unchanged from <code class="codeph">OCIAQDeq()</code>).
                           </p>
                           <p><code class="codeph">OCI_DTYPE_AQDEQ_OPTIONS</code> OCI type constant has the additional attribute <code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> (introduced in Oracle Database 10<span class="italic">g</span> Release 2) with the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> (default)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT_OR_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-69376E78-014C-4C6A-881B-955999989F88">
                              <!-- --></a>iters (IN/OUT)
                        </dt>
                        <dd>
                           <p>On input, the number of messages to dequeue. On output, the number of messages successfully dequeued.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-9D1FFDCE-5AAF-4ADC-B6C6-0947407E4C9C">
                              <!-- --></a>msgprop (OUT)
                        </dt>
                        <dd>
                           <p>An array of pointers to <code class="codeph">OCIAQMsgProperties</code> descriptors, of OCI type constant <code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code>, which can have the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_AQ_PERSISTENT</code> (default)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_AQ_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-950AA448-82FC-44CA-B07C-7EEFA251CD7C">
                              <!-- --></a>payload_tdo (OUT)
                        </dt>
                        <dd>
                           <p>A pointer to the TDO of the queue table's payload column.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-3AF55F5C-5625-4F94-B180-D5F6E3A56BE1">
                              <!-- --></a>payload (OUT)
                        </dt>
                        <dd>
                           <p>An array of pointers to dequeued messages.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-151A419D-1D51-411A-929C-8F2B24DF1D47">
                              <!-- --></a>payload_ind (OUT)
                        </dt>
                        <dd>
                           <p>An array of pointers to indicators.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-ED01C445-10CE-4E5A-AE68-B1F85BE8946C">
                              <!-- --></a>msgid (OUT)
                        </dt>
                        <dd>
                           <p>An array of pointers to the message ID of the dequeued messages.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-3AAC5583-A05C-4747-BE6F-1319E7D5995E">
                              <!-- --></a>ctxp (IN)
                        </dt>
                        <dd>
                           <p>The context that is passed to the callback function.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-92AAA8DE-9E7C-41C2-9A8D-6DF148D65327">
                              <!-- --></a>cbfp (IN)
                        </dt>
                        <dd>
                           <p>The callback that can be registered to provide a buffer pointer into which the dequeued message is placed. If <code class="codeph">NULL</code>, then messages are dequeued into buffers pointed to by <code class="codeph">payload</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-B7790A0D-EDED-4121-921D-A4DF6296EC7C">
                              <!-- --></a>flags (IN)
                        </dt>
                        <dd>
                           <p>Not currently used; pass as <code class="codeph">OCI_DEFAULT</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-E48F17D7-EB38-4C67-9BF7-0958B385DF25">Comments</p>
                     <p>Users must have the <code class="codeph">AQ_USER_ROLE</code> or privileges to execute the <code class="codeph">DBMS_AQ</code> package to use this call. The OCI environment must be initialized in object mode (using <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>), or <code class="codeph">OCIInitialize()</code> (deprecated) to use this call.
                     </p>
                     <p>A nonzero wait time, as specified in the <code class="codeph">OCIAQDeqOptions</code>, is recognized only when there are no messages in the queue. If the queue contains messages that are eligible for dequeuing, then the <code class="codeph">OCIAQDeqArray()</code> function dequeues up to <code class="codeph">iters</code> messages and returns immediately.
                     </p>
                     <p>This function is not supported in nonblocking mode.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" title="Enqueues an array of messages to a queue.">OCIAQEnqArray()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A__GUID-F06324D3-0E5C-42E2-8D11-8F94FE6B6113">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI provides an interface to the Database Advanced Queuing (Database AQ) feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle Database.">OCI and Database Advanced Queuing</a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=ADQUE0100" target="_blank"><span><cite>Oracle Database Advanced Queuing User's Guide</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17228"></a><div class="props_rev_3"><a id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4"></a><h3 id="LNOCI-GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" class="sect3"><span class="enumeration_section">26.4.3 </span>OCIAQEnq()
               </h3>
               <div>
                  <p>Performs an enqueue operation using Database Advanced Queuing.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-169380F8-F0F9-4D59-9900-C1573D1F54B9">Purpose</p>
                     <p>Performs an enqueue operation using Database Advanced Queuing. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-421944AF-3DF8-4BE1-A87A-739124D8C106">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIAQEnq ( OCISvcCtx            *svch,
                 OCIError             *errh,
                 OraText              *queue_name,
                 OCIAQEnqOptions      *enqueue_options,
                 OCIAQMsgProperties   *message_properties,
                 OCIType              *payload_tdo,
                 void                **payload,
                 void                **payload_ind,
                 OCIRaw              **msgid,
                 ub4                   flags );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-6FF8E72F-64C9-4948-9D29-93D2B52B3DF6">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-AC349031-3A20-416A-B1F1-0F35A5D9C382">
                              <!-- --></a><span class="bold">svch</span> (IN)
                        </dt>
                        <dd>
                           <p>OCI service context.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-5612C271-F770-43F3-9C10-B6B247EF3B3A">
                              <!-- --></a><span class="bold">errh</span> (IN)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-DA33A2E7-F5CE-430D-B909-19C2579521CD">
                              <!-- --></a><span class="bold">queue_name</span> (IN)
                        </dt>
                        <dd>
                           <p>The target queue for the enqueue operation. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-3C553A78-5A7C-42AC-9E29-EFB8DA43A5A3">
                              <!-- --></a><span class="bold">enqueue_options </span>(IN)
                        </dt>
                        <dd>
                           <p>The options for the enqueue operation; stored in an <code class="codeph">OCIAQEnqOptions</code> descriptor. 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-A7D1D068-FA79-4B53-A76C-76CCEBD0CA6B">
                              <!-- --></a><span class="bold">message_properties</span> (IN)
                        </dt>
                        <dd>
                           <p>The message properties for the message. The properties are stored in an <code class="codeph">OCIAQMsgProperties</code> descriptor, of OCI type constant <code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code>, introduced in Oracle Database 10<span class="italic">g</span> Release 2.
                           </p>
                           <p>Descriptor <code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code> has the attribute <code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code>, which has the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> (default)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-2E8A37EF-6513-44A0-8E77-ABD0EECF60DA">
                              <!-- --></a><span class="bold">payload_tdo</span> (IN)
                        </dt>
                        <dd>
                           <p>The TDO (type descriptor object) of an object type. For a raw queue, this parameter should point to the TDO of <code class="codeph">SYS.RAW</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-42064A61-C6DF-405A-83F3-52A90CAFB06E">
                              <!-- --></a><span class="bold">payload</span> (IN)
                        </dt>
                        <dd>
                           <p>A pointer to a pointer to an instance of an object type. For a raw queue, this parameter should point to an instance of <code class="codeph">OCIRaw</code>.
                           </p>
                           <p>OCI provides functions that allow the user to set attributes of the payload, such as its text. </p>
                           <div class="infoboxnotealso" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-F5DC8817-28A7-4899-BD48-211D599C5E19">
                              <p class="notep1">See Also:</p>
                              <p><a href="oci-object-relational-programming.html#GUID-BA775817-78E4-4C49-A3C2-C867C50509B2" title="Once an object has been pinned, an OCI application can modify its attributes.">Manipulating Object Attributes</a> for information about setting these attributes 
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-199058D7-52BD-49A2-A14C-51F119092673">
                              <!-- --></a><span class="bold">payload_ind</span> (IN)
                        </dt>
                        <dd>
                           <p>A pointer to a pointer to the program variable buffer containing the parallel indicator structure for the object type.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-EA6C8A33-7CED-422E-8F6A-79BF966092BA">
                              <!-- --></a><span class="bold">msgid</span> (OUT)
                        </dt>
                        <dd>
                           <p>The message ID.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-E7988859-DEBF-4633-BBCC-9E90FF0CDB2D">
                              <!-- --></a><span class="bold">flags</span> (IN)
                        </dt>
                        <dd>
                           <p>Not currently used; pass as <code class="codeph">OCI_DEFAULT</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-D34CCF40-0795-48E6-942F-A505B1D858A3">Comments</p>
                     <p>Users must have the <code class="codeph">AQ_USER_ROLE</code> or privileges to execute the <code class="codeph">DBMS_AQ</code> package to use this call.
                     </p>
                     <p>The OCI environment must be initialized in object mode (using <code class="codeph">OCIEnvCreate()</code>, <code class="codeph">OCIEnvNlsCreate()</code>), or <code class="codeph">OCIInitialize()</code> (deprecated) to use this call.
                     </p>
                     <div class="infoboxnotealso" id="GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4__GUID-89AD77B9-987E-4809-9F41-A1005F6A6FCC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="notification-streams-advanced-queuing.html#GUID-FF4165B2-A44C-4F76-AC26-DA860F340CA8" title="OCI provides an interface to the Database Advanced Queuing (Database AQ) feature. Database Advanced Queuing provides message queuing as an integrated part of Oracle Database.">OCI and Database Advanced Queuing</a> for more information about OCI and Advanced Queuing 
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnoci&amp;id=ADQUE0100" target="_blank"><span><cite>Oracle Database Advanced Queuing User's Guide</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <p>To obtain a TDO for the payload, use <code class="codeph">OCITypeByName()</code>, or <code class="codeph">OCITypeByRef()</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-3534AABC-E347-4BC7-B220-0CAECDC9ECE7" title="Gets the most current version of an existing TDO.">OCITypeByName()</a></li>
                        <li><a href="oci-type-information-accessor-functions.html#GUID-5613CAA6-D547-4267-8891-0E1DA213B7AB" title="Gets a TDO when given a reference.">OCITypeByRef()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17229"></a><div class="props_rev_3"><a id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C"></a><h3 id="LNOCI-GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C" class="sect3"><span class="enumeration_section">26.4.4 </span>OCIAQEnqArray()
               </h3>
               <div>
                  <p>Enqueues an array of messages to a queue. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-8A5EBFA8-7D99-4D27-9004-8B62B9B5CA70">Purpose</p>
                     <p>The array of messages is enqueued with the same options and has the same payload column TDO.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-EDEE2BEA-9365-4530-B552-9F6C425CA206">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIAQEnqArray ( OCISvcCtx               *svchp,
                      OCIError                *errhp,
                      OraText                 *queue_name,
                      OCIAQEnqOptions         *enqopt,
                      ub4                     *iters,
                      OCIAQMsgProperties     **msgprop,
                      OCIType                 *payload_tdo,
                      void                   **payload,
                      void                   **payload_ind,
                      OCIRaw                 **msgid,
                      void                    *ctxp,
                      OCICallbackAQEnq        (cbfp)
                                             (
                                             void         *ctxp,
                                             void        **payload,
                                             void        **payload_ind
                                             ),
                      ub4                     flags );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-CC63C899-C195-4E60-867F-3AE5938B3D94">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-85324FB0-2D79-4E22-805C-19FBBAD5CF30">
                              <!-- --></a>svchp (IN)
                        </dt>
                        <dd>
                           <p>The service context (unchanged from <code class="codeph">OCIAQEnq()</code>). 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-67D10F8B-35E6-4FCA-BFAB-05E5EB5FFE7D">
                              <!-- --></a>errhp (IN/OUT)
                        </dt>
                        <dd>
                           <p>The error handle (unchanged from <code class="codeph">OCIAQEnq()</code>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-EF585F95-8EEA-4C96-8CBB-87651B75168E">
                              <!-- --></a>queue_name (IN)
                        </dt>
                        <dd>
                           <p>The name of the queue in which messages are enqueued (unchanged from <code class="codeph">OCIAQEnq()</code>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-991BA9CC-27DC-4BAD-AC5A-75356F08A2B5">
                              <!-- --></a>enqopt (IN)
                        </dt>
                        <dd>
                           <p>A pointer to an <code class="codeph">OCIAQEnqOptions</code> descriptor (unchanged from <code class="codeph">OCIAQEnq()</code>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-5EE1CA18-EC11-48D1-8134-B6E53385C6B6">
                              <!-- --></a>iters (IN/OUT)
                        </dt>
                        <dd>
                           <p>On input, the number of messages to enqueue. On output, the number of messages successfully enqueued.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-48D64633-8CA3-44BE-93C3-E255BB00EDF9">
                              <!-- --></a>msgprop (IN)
                        </dt>
                        <dd>
                           <p>An array of pointers to <code class="codeph">OCIAQMsgProperties</code> descriptors, of OCI type constant <code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code>, introduced in Oracle Database 10<span class="italic">g</span> Release 2.
                           </p>
                           <p><code class="codeph">OCI_DTYPE_AQMSG_PROPERTIES</code> has the attribute <code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code>, which has the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code> (default)
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-984C8CEC-0F2B-4E59-A814-36093CC79D5B">
                              <!-- --></a>payload_tdo (IN)
                        </dt>
                        <dd>
                           <p>A pointer to the TDO of the queue table's payload column.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-A0136128-4ADD-4CD5-BBD7-FE37C9C91DB2">
                              <!-- --></a>payload (IN)
                        </dt>
                        <dd>
                           <p>An array of pointers to messages to be enqueued.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-B32B8C9E-7CA2-4923-9712-50441D42F471">
                              <!-- --></a>payload_ind (IN)
                        </dt>
                        <dd>
                           <p>An array of pointers to indicators, or a <code class="codeph">NULL</code> pointer if indicator variables are not used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-D2D353FB-EC48-472A-BF06-0F38350958DB">
                              <!-- --></a>msgid (OUT)
                        </dt>
                        <dd>
                           <p>An array of pointers to the message ID of the enqueued messages, or a <code class="codeph">NULL</code> pointer if no message IDs are returned.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-8A036745-1963-481E-835D-9680FB53BB5F">
                              <!-- --></a>ctxp (IN)
                        </dt>
                        <dd>
                           <p>The context that is passed to the registered callback function.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-B7EC0E3D-95E3-420D-80A7-CB970A9252B5">
                              <!-- --></a>cbfp (IN)
                        </dt>
                        <dd>
                           <p>A callback that can be registered to provide messages dynamically. If <code class="codeph">NULL</code>, then all messages must be materialized before calling <code class="codeph">OCIAQEnqArray()</code>. 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-C860698C-78A8-49E6-8008-4ECB5B3FF3A2">
                              <!-- --></a>flags (IN)
                        </dt>
                        <dd>
                           <p>Not currently used; pass as <code class="codeph">OCI_DEFAULT</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632ED6BA-017A-40C9-BC51-C9A547B7567C__GUID-AD4CFBDF-4425-4E9C-9A47-2A0C09FBCA61">Comments</p>
                     <p>This function is not supported in nonblocking mode.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-F0E6A45A-AFAD-4B8F-994B-D5625D1F435A" title="Dequeues an array of messages from a queue.">OCIAQDeqArray()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17231"></a><div class="props_rev_3"><a id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1"></a><h3 id="LNOCI-GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" class="sect3"><span class="enumeration_section">26.4.5 </span>OCIAQListen2()
               </h3>
               <div>
                  <p>Listens on one or more queues on behalf of a list of agents.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-8C440C98-3822-47E9-BA41-9380163A5E54">Purpose</p>
                     <p>Supports buffered messaging and persistent queues. Introduced in Oracle Database 10<span class="italic">g</span> Release 2.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-FC0AD334-6EF9-4EFD-AC25-0CA4B7A3E400">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIAQListen2 (OCISvcCtx          *svchp, 
                    OCIError           *errhp,
                    OCIAQAgent        **agent_list, 
                    ub4                 num_agents,
                    OCIAQListenOpts    *lopts, 
                    OCIAQAgent        **agent,
                    OCIAQLisMsgProps   *lmops,
                    ub4                 flags);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-C7E6FB2C-63BB-4FAD-9552-38429FA9802E">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-53F8EBC9-26EC-4C18-B004-DB144D0D8C92">
                              <!-- --></a><span class="bold">svchpp</span> (IN/OUT)
                        </dt>
                        <dd>
                           <p>The service context handle. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-516CEFEE-5977-4BA7-9EDF-57121A6438AD">
                              <!-- --></a><span class="bold">errhp</span> (IN/OUT)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-5AA8E79A-77E0-4D10-AD4A-5A71C35C94AB">
                              <!-- --></a>agent_list (IN)
                        </dt>
                        <dd>
                           <p>List of agents for which to monitor messages.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-FC4BB41A-9698-40E2-B958-E1F3E37E3509">
                              <!-- --></a>num_agents (IN)
                        </dt>
                        <dd>
                           <p>Number of agents in the agent list.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-D8315033-AD7A-46ED-A047-F7F3780AB935">
                              <!-- --></a>lopts (IN)
                        </dt>
                        <dd>
                           <p>Type constant <code class="codeph">OCI_DTYPE_AQLIS_OPTIONS</code> has the following attributes:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_ATTR_WAIT</code> - Maximum wait time, in seconds, for the listen call
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code> - Has one of these values:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">OCI_MSG_PERSISTENT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCI_MSG_PERSISTENT_OR_BUFFERED</code></p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-D137465D-5BB6-4BE2-9E47-07F3F1018636">
                              <!-- --></a>agent (OUT)
                        </dt>
                        <dd>
                           <p>Agent for which there is a message. <code class="codeph">OCIAgent</code> is an OCI descriptor.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-C724ABB6-069A-458A-8ACC-2A6C3C77678A">
                              <!-- --></a>lmops (OUT)
                        </dt>
                        <dd>
                           <p><code class="codeph">OCI_DTYPE_AQLIS_MSG_PROPERTIES</code> (listen message properties) has one attribute, <code class="codeph">OCI_ATTR_MSG_DELIVERY_MODE</code>, which has the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCI_MSG_PERSISTENT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCI_MSG_BUFFERED</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-D9211207-808E-4F99-A675-F60E1C947F2B">
                              <!-- --></a>flags (IN)
                        </dt>
                        <dd>
                           <p>Not currently used; pass as <code class="codeph">OCI_DEFAULT</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1__GUID-7038248A-977E-4B0E-8536-4DC61158EA99">Comments</p>
                     <p>This is a blocking call that returns when there is a message ready for consumption for an agent in the list. If there are no messages found when the wait time expires, an error is returned.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-AE3DB345-0A77-4922-ABBD-FBBFB6E1A9B4" title="Performs an enqueue operation using Database Advanced Queuing.">OCIAQEnq()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-982A4127-C23A-43E6-94CE-D3F76EC4553C">OCIAQDeq()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="Toggles between a V8 or later service context handle and a V7 Lda_Def.">OCISvcCtxToLda()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="Enables a subscription registration that has been disabled.">OCISubscriptionEnable()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="Posts to a subscription that allows all clients who are registered for the subscription to get notifications.">OCISubscriptionPost()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17232"></a><div class="props_rev_3"><a id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00" name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00"></a><h3 id="LNOCI-GUID-72C51789-C48C-4F36-800B-EECC1AD98E00" class="sect3"><span class="enumeration_section">26.4.6 </span>OCISubscriptionDisable()
               </h3>
               <div>
                  <p>Disables a subscription registration that turns off all notifications.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-96FDD6D7-8DC5-4AC3-8CE6-2DAB68A971E5">Purpose</p>
                     <p>Disables a subscription registration that turns off all notifications.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-08968B40-CA94-49DA-AB97-AFD46A7245C6">Syntax</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionDisable ( OCISubscription   *subscrhp,
                             OCIError          *errhp
                             ub4                mode );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-13486512-A393-40BC-93D6-58FA68318A86">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-DB92F8B8-32C2-41B3-B5D4-6465DA7FC70D">
                              <!-- --></a>subscrhp (IN)
                        </dt>
                        <dd>
                           <p>A subscription handle with the <code class="codeph">OCI_ATTR_SUBSCR_NAME</code> and <code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code> attributes set. 
                           </p>
                           <div class="infoboxnotealso" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-623333D3-087F-4713-9113-B7A5F75B8CCC">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> 
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-73FE215F-9226-4954-89EF-C6473F8B1046">
                              <!-- --></a>errhp (OUT)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-D41D5A14-4D42-4D05-9D21-99B144AEFBA4">
                              <!-- --></a>mode (IN)
                        </dt>
                        <dd>
                           <p>Call-specific mode. The only valid value is <code class="codeph">OCI_DEFAULT</code><span>. </span><code class="codeph">OCI_DEFAULT</code> executes the default call that discards all notifications on this subscription until the subscription is enabled.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-72C51789-C48C-4F36-800B-EECC1AD98E00__GUID-0D2C5E97-8FD6-4F3F-BE7C-7675136DE9A0">Comments</p>
                     <p>This call is used to temporarily turn off notifications. This is useful when the application is running a critical section of the code and should not be interrupted. </p>
                     <p>The user need not be connected or authenticated to perform this operation. A registration must have been performed to the subscription specified by the subscription handle before this call is made. </p>
                     <p>All notifications after an <code class="codeph">OCISubscriptionDisable()</code> are discarded by the system until an <code class="codeph">OCISubscriptionEnable()</code> is performed.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="Enables a subscription registration that has been disabled.">OCISubscriptionEnable()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="Posts to a subscription that allows all clients who are registered for the subscription to get notifications.">OCISubscriptionPost()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17233"></a><div class="props_rev_3"><a id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53"></a><h3 id="LNOCI-GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" class="sect3"><span class="enumeration_section">26.4.7 </span>OCISubscriptionEnable()
               </h3>
               <div>
                  <p>Enables a subscription registration that has been disabled. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-28D6BD2D-4CC7-485D-BC87-856AAFEEC076">Purpose</p>
                     <p>This turns on all notifications.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-F66E8442-151D-4E03-A1C2-C83FB171F6B9">Syntax</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionEnable ( OCISubscription   *subscrhp,
                            OCIError          *errhp
                            ub4                mode );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-E08AC839-32CC-4BE3-BE59-E375AD2B9C4E">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-29DFB62D-F1D5-4F71-B69B-BA11E3A575FD">
                              <!-- --></a>subscrhp (IN)
                        </dt>
                        <dd>
                           <p>A subscription handle with the <code class="codeph">OCI_ATTR_SUBSCR_NAME</code> and <code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code> attributes set. 
                           </p>
                           <div class="infoboxnotealso" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-06383871-6CE2-483A-9FBD-54B036633CF6">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> 
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-4A1916FC-6543-452C-9C5E-CFA5FB5B714C">
                              <!-- --></a>errhp (OUT)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-D9814DFD-83CE-4C47-8E53-89D51195BCF2">
                              <!-- --></a>mode (IN)
                        </dt>
                        <dd>
                           <p>Call-specific mode. The only valid value is OCI_DEFAULT. This value executes the default call that buffers all notifications on this subscription until a subsequent enable is performed.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5C04A301-8564-46AF-A758-9DE7246F0F53__GUID-0245CC0C-B573-4495-B831-26FDB3EF233B">Comments</p>
                     <p>This call is used to turn on notifications after a subscription registration has been disabled. </p>
                     <p>The user need not be connected or authenticated to perform this operation. A registration must have been done for the specified subscription before this call is made.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="Toggles between a V8 or later service context handle and a V7 Lda_Def.">OCISvcCtxToLda()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17234"></a><div class="props_rev_3"><a id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430" name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430"></a><h3 id="LNOCI-GUID-EFD815F0-D669-4E01-AA54-E1499E302430" class="sect3"><span class="enumeration_section">26.4.8 </span>OCISubscriptionPost()
               </h3>
               <div>
                  <p>Posts to a subscription that allows all clients who are registered for the subscription to get notifications.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-BB1465DE-6B02-43FC-A0E2-45D5F2895C39">Purpose</p>
                     <p>Posts to a subscription that allows all clients who are registered for the subscription to get notifications.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-8C047CC7-ECB7-4BFD-A336-23E89ECC876C">Syntax</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionPost ( OCISvcCtx          *svchp,
                          OCISubscription   **subscrhpp,
                          ub2                 count,
                          OCIError           *errhp
                          ub4                 mode );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-E9C797B0-A962-4D49-A6DA-EB7B57D7CD4F">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-A6890A6E-E071-42BE-BA81-59A2D3C5294C">
                              <!-- --></a>svchp (IN)
                        </dt>
                        <dd>
                           <p>An OCI service context (after release 7). This service context should have a valid authenticated user handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-C4DCD001-1FD3-4C31-9865-9117342884E5">
                              <!-- --></a>subscrhpp (IN)
                        </dt>
                        <dd>
                           <p>An array of subscription handles. Each element of this array should be a subscription handle with the <code class="codeph">OCI_ATTR_SUBSCR_NAME</code> and <code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code> attributes set. 
                           </p>
                           <div class="infoboxnotealso" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-2547B37D-E188-4FE5-B0BF-85914EB1D4E5">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> 
                              </p>
                           </div>
                           <p>The <code class="codeph">OCI_ATTR_SUBSCR_PAYLOAD</code> attribute must be set for each subscription handle before this call. If it is not set, the payload is assumed to be <code class="codeph">NULL</code> and no payload is delivered when the notification is received by the clients that have registered interest. Note that the caller must preserve the payload until the post is done, as the <code class="codeph">OCIAttrSet()</code> call keeps track of the reference to the payload but does not copy the contents.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-AA602FBF-A5F5-4767-AA61-AE3CE7B9ECD4">
                              <!-- --></a>count (IN)
                        </dt>
                        <dd>
                           <p>The number of elements in the subscription handle array.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-DA50CA9D-7FE1-4D00-951B-75B897D22331">
                              <!-- --></a>errhp (OUT)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-9E385696-09C8-4DFF-9E40-B9AC6481EF43">
                              <!-- --></a>mode (IN)
                        </dt>
                        <dd>
                           <p>Call-specific mode. The only valid value is OCI_DEFAULT. This value executes the default call.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFD815F0-D669-4E01-AA54-E1499E302430__GUID-DA09CD37-D249-4F37-AB37-D8D8F013F315">Comments</p>
                     <p>Posting to a subscription involves identifying the subscription name and the payload if desired. If no payload is associated, the payload length can be set to 0. </p>
                     <p>This call provides a<span class="italic"> best-effort</span> guarantee. A notification goes to registered clients at most once. 
                     </p>
                     <p>This call is primarily used for nonpersistent notification and is useful for several system events. If the application needs more rigid guarantees, it can use the Advanced Queuing functionality by enqueuing to the queue.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="Toggles between a V8 or later service context handle and a V7 Lda_Def.">OCISvcCtxToLda()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="Enables a subscription registration that has been disabled.">OCISubscriptionEnable()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17235"></a><div class="props_rev_3"><a id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930"></a><h3 id="LNOCI-GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" class="sect3"><span class="enumeration_section">26.4.9 </span>OCISubscriptionRegister()
               </h3>
               <div>
                  <p>Registers a callback for message notification.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-2C98BED3-ABF5-483D-86CB-4876FCE8F810">Purpose</p>
                     <p>Registers a callback for message notification.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-81179E35-D6CB-4AE4-98D2-C590FC6032F6">Syntax</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionRegister ( OCISvcCtx          *svchp,
                              OCISubscription   **subscrhpp,
                              ub2                 count,
                              OCIError           *errhp
                              ub4                 mode );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-E10805B3-175E-4553-BFF5-D45598A9AE2A">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-30D23903-B3DA-4333-A49A-977F9398D1BD">
                              <!-- --></a>svchp (IN)
                        </dt>
                        <dd>
                           <p>An OCI service context (after release 7). This service context should have a valid authenticated user handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-327C333E-F6BB-4CD0-83D4-F858C7E75D65">
                              <!-- --></a>subscrhpp (IN)
                        </dt>
                        <dd>
                           <p>An array of subscription handles. Each element of this array should be a subscription handle with all of the following attributes set:</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_NAME</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_RECPTPROTO</code></p>
                        </li>
                     </ul>
                     <p>Otherwise, an error is returned. </p>
                     <p>One of the following attributes must also be set:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_CTX</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_SUBSCR_RECPT</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-54DF7DFB-6914-4DCE-9DB3-1889C6D4B5EF">
                        <p class="notep1">See Also:</p>
                        <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> for information about the handle attributes 
                        </p>
                     </div>
                     <p>When a notification is received for the registration denoted by <code class="codeph">subscrhpp[i]</code>, either the user-defined callback function (<code class="codeph">OCI_ATTR_SUBSCR_CALLBACK</code>) set for <code class="codeph">subscrhpp[i]</code> is invoked with the context (<code class="codeph">OCI_ATTR_SUBSCR_CTX</code>) set for <code class="codeph">subscrhpp[i]</code>, or an email is sent to (<code class="codeph">OCI_ATTR_SUBSCR_RECPT</code>) set for <code class="codeph">subscrhpp[i]</code>, or the PL/SQL procedure (<code class="codeph">OCI_ATTR_SUBSCR_RECPT</code>) set for <code class="codeph">subscrhpp[i]</code> is invoked in the database, provided the subscriber of <code class="codeph">subscrhpp[i]</code> has the appropriate permissions on the procedure.
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-21DF370C-B8CE-43EC-B881-00ED47ACB955">
                              <!-- --></a>count (IN)
                        </dt>
                        <dd>
                           <p>The number of elements in the subscription handle array.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-1405BAD0-824A-4678-AAD3-190E0C97D60D">
                              <!-- --></a>errhp (OUT)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-0D04C658-C4BF-4C6A-A801-AA44BD5F1A46">
                              <!-- --></a>mode (IN)
                        </dt>
                        <dd>
                           <p>Call-specific mode. Valid values are:</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_DEFAULT</code> - Use when there is only one server DN in the server DN descriptor. The registration request is sent to the database. If a database connection is not available, the registration request is detoured to the LDAP server.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_REG_LDAPONLY</code> - The registration request is sent directly to the LDAP server. Use this mode when there are multiple server DNs in the server DN descriptor, or you are certain that a database connection is not available.
                           </p>
                        </li>
                     </ul>
                     <p>Whenever a new client process comes up, or an old one goes down and comes back up, it must register for all subscriptions of interest. If the client stays up and the server first goes down and then comes back up, the client continues to receive notifications for registrations that are DISCONNECTED. However, the client does not receive notifications for CONNECTED registrations, as they are lost after the server goes down and comes back up.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930__GUID-AFA7D6CF-9EE4-49BB-98B2-D9C371B475EB">Comments</p>
                     <p>This call is invoked for registration to a subscription that identifies the subscription name of interest and the associated callback to be invoked. Interest in several subscriptions can be registered simultaneously. </p>
                     <p>This interface is only valid for the asynchronous mode of message delivery. In this mode, a subscriber issues a registration call that specifies a callback. When messages are received that match the subscription criteria, the callback is invoked. The callback may then issue an explicit <code class="codeph">message_receive</code> (dequeue) to retrieve the message. 
                     </p>
                     <p>The user must specify a subscription handle at registration time with the namespace attribute set to <code class="codeph">OCI_SUBSCR_NAMESPACE_AQ</code>. 
                     </p>
                     <p>The subscription name is the string <code class="codeph">SCHEMA.QUEUE</code><span class="italic"> </span>if the registration is for a single consumer queue and <code class="codeph">SCHEMA.QUEUE:CONSUMER_NAME</code> if the registration is for a multiconsumer queue. The string should be in uppercase.
                     </p>
                     <p>Each namespace has its own privilege model. If the user performing the registration is not entitled to register in the namespace for the specified subscription, an error is returned.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="Toggles between a V8 or later service context handle and a V7 Lda_Def.">OCISvcCtxToLda()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="Enables a subscription registration that has been disabled.">OCISubscriptionEnable()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="Posts to a subscription that allows all clients who are registered for the subscription to get notifications.">OCISubscriptionPost()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" title="Unregisters a subscription that turns off notifications.">OCISubscriptionUnRegister()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17236"></a><div class="props_rev_3"><a id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0"></a><h3 id="LNOCI-GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0" class="sect3"><span class="enumeration_section">26.4.10 </span>OCISubscriptionUnRegister()
               </h3>
               <div>
                  <p>Unregisters a subscription that turns off notifications.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-953C7AA6-8167-4A47-8B6B-4A532F3F9C89">Purpose</p>
                     <p>Unregisters a subscription that turns off notifications.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-E9B22D02-AAB5-4136-9134-8AFF87DE675C">Syntax</p><pre class="oac_no_warn" dir="ltr">ub4 OCISubscriptionUnRegister ( OCISvcCtx         *svchp,
                                OCISubscription   *subscrhp,
                                OCIError          *errhp
                                ub4                mode );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-E858B4C1-98E6-481C-82A0-A58ED939A2EC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-9D54B460-A2CD-4730-AE46-E8325848402A">
                              <!-- --></a>svchp (IN)
                        </dt>
                        <dd>
                           <p>An OCI service context (after release 7). This service context should have a valid authenticated user handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-1A7CF6D0-241A-4362-A4FC-4DC5C18C869B">
                              <!-- --></a>subscrhp (IN)
                        </dt>
                        <dd>
                           <p>A subscription handle with the <code class="codeph">OCI_ATTR_SUBSCR_NAME</code> and <code class="codeph">OCI_ATTR_SUBSCR_NAMESPACE</code> attributes set. 
                           </p>
                           <div class="infoboxnotealso" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-EEC36B2B-B91A-42EF-92C6-C943FF58FDB5">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-A76BBB38-8F77-40B8-B5A6-1F9C9166C71C" title="Lists and describes subscription handle attributes.">Subscription Handle Attributes</a> 
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-1AF2825E-F89D-4606-9290-47711D3A8464">
                              <!-- --></a>errhp (OUT)
                        </dt>
                        <dd>
                           <p>An error handle that you can pass to <code class="codeph">OCIErrorGet()</code> for diagnostic information when there is an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-8E891325-1F4F-469B-A80B-241ECC9F21B1">
                              <!-- --></a>mode (IN)
                        </dt>
                        <dd>
                           <p>Call-specific mode. Valid values are:</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_DEFAULT</code> - Use when there is only one server DN in the server DN descriptor. The registration request is sent to the database. If a database connection is not available, the registration request is detoured to the LDAP server.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_REG_LDAPONLY</code> - The registration request is sent directly to the LDAP server. Use this mode when there are multiple server DNs in the server DN descriptor, or you are certain that a database connection is not available.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C55B6743-4BB4-4E18-931C-5FBED94592D0__GUID-1316B302-E0C5-48BD-8A81-FF3672E11871">Comments</p>
                     <p>Unregistering a subscription ensures that the user does not receive notifications regarding the specified subscription in the future. If the user wants to resume notification, then the only option is to reregister for the subscription. </p>
                     <p>All notifications that would otherwise have been delivered are not delivered after a subsequent registration is performed because the user is no longer in the list of interested clients.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-499ECEF6-F447-46C5-8F3F-48DE66839BD1" title="Listens on one or more queues on behalf of a list of agents.">OCIAQListen2()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-FDA9A842-DA80-4FE5-AAFA-662D14C550A8" title="Toggles between a V8 or later service context handle and a V7 Lda_Def.">OCISvcCtxToLda()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-5C04A301-8564-46AF-A758-9DE7246F0F53" title="Enables a subscription registration that has been disabled.">OCISubscriptionEnable()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-EFD815F0-D669-4E01-AA54-E1499E302430" title="Posts to a subscription that allows all clients who are registered for the subscription to get notifications.">OCISubscriptionPost()</a></li>
                        <li><a href="streams-advanced-queueing-and-publish-subscribe-functions.html#GUID-36729D3E-E920-4FAA-8EAA-6E033F6D8930" title="Registers a callback for message notification.">OCISubscriptionRegister()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01084.DBMS_REPAIR.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_REPAIR package contains data corruption repair procedures that enable you to detect and repair corrupt blocks in tables and indexes. You can address corruptions where possible and continue to use objects while you attempt to rebuild or repair them.">
      <meta name="description" content="The DBMS_REPAIR package contains data corruption repair procedures that enable you to detect and repair corrupt blocks in tables and indexes. You can address corruptions where possible and continue to use objects while you attempt to rebuild or repair them.">
      <title>DBMS_REPAIR</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_REPAIR package contains data corruption repair procedures that enable you to detect and repair corrupt blocks in tables and indexes. You can address corruptions where possible and continue to use objects while you attempt to rebuild or repair them.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_REFRESH.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_RESCONFIG.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_REFRESH.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_RESCONFIG.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_REPAIR</li>
            </ol>
            <a id="GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948" name="GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948"></a><a id="ARPLS044"></a><a id="ARPLS044"></a>
            
            <h2 id="ARPLS-GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948" class="sect2"><span class="enumeration_chapter">134 </span> DBMS_REPAIR
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_REPAIR</code> package contains data corruption repair procedures that enable you to detect and repair corrupt blocks in tables and indexes. You can address corruptions where possible and continue to use objects while you attempt to rebuild or repair them. 
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD" title="The DBMS_REPAIR package is intended for use by database administrators only. It is not intended for use by application developers.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3" title="The package is owned by SYS. Execution privilege is not granted to other users.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F" title="The procedure to create the ORPHAN_KEYS_TABLE is similar to the one used to create the REPAIR_TABLE.">Operating Notes</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-0F286D82-EA77-470C-900E-7B46408B228F" title="The table in this topic describes the exceptions raised by the DDBMS_REPAIR subprograms.">Exceptions</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9" title="This topic shows examples of DBMS_REPAIR usage.">Examples</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_REPAIR.html#GUID-D136544C-8027-4CA5-825D-6B9FFA884841" title="This table lists the DBMS_REPAIR subprograms and briefly describes them.">Summary of DBMS_REPAIR Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B8EC4AB3-4D6A-46C9-857F-4ED53CD9C948__GUID-B7C7ECB6-AB09-4CD6-8058-C7B5A888F85A">
                  <p class="notep1">See Also:</p>
                  <p>For detailed information about using the <code class="codeph">DBMS_REPAIR</code> package, see <a href="../admin/repairing-corrupted-data.html#ADMIN-GUID-21282FF3-1E98-478E-8111-0A7CAFCFCD97" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></p>
               </div>
            </div><a id="ARPLS67537"></a><a id="ARPLS67537"></a><div class="props_rev_3"><a id="GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD" name="GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD"></a><h3 id="ARPLS-GUID-F428BED1-B578-4C4E-9801-FBF35CDCD5DD" class="sect3"><span class="enumeration_section">134.1 </span>DBMS_REPAIR Overview
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_REPAIR</code> package is intended for use by database administrators only. It is not intended for use by application developers.
                  </p>
               </div>
            </div><a id="ARPLS67538"></a><a id="ARPLS67538"></a><div class="props_rev_3"><a id="GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3" name="GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3"></a><h3 id="ARPLS-GUID-43DCD8EA-71C8-44A1-81A5-ADBC6B7C39E3" class="sect3"><span class="enumeration_section">134.2 </span>DBMS_REPAIR Security Model
               </h3>
               <div>
                  <p>The package is owned by <code class="codeph">SYS</code>. Execution privilege is not granted to other users.
                  </p>
               </div>
            </div><a id="ARPLS67539"></a><a id="ARPLS67540"></a><a id="ARPLS67540"></a><a id="ARPLS67539"></a><div class="props_rev_3"><a id="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" name="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B"></a><h3 id="ARPLS-GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" class="sect3"><span class="enumeration_section">134.3 </span>DBMS_REPAIR Constants
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_REPAIR</code> package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, <code class="codeph">DBMS_REPAIR</code>.<code class="codeph">TABLE_OBJECT</code>. 
                  </p>
                  <div class="section">
                     <p>The following table lists the parameters and the enumerated constants. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B__CHDFDJEE">
                     <p class="titleintable">Table 134-1 DBMS_REPAIR Parameters with Enumerated Constants</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_REPAIR Parameters with Enumerated Constants" summary="This table describes the enumerated constants of DBMS_REPAIR parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d708593e472">Parameter</th>
                              <th align="left" valign="bottom" width="26%" id="d708593e475">Option</th>
                              <th align="left" valign="bottom" width="16%" id="d708593e478">Type</th>
                              <th align="left" valign="bottom" width="41%" id="d708593e481">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e486" headers="d708593e472 ">
                                 <p><code class="codeph">object_type</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e486 d708593e475 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">TABLE_OBJECT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">INDEX_OBJECT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLUSTER_OBJECT</code> 
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e486 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e486 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e513" headers="d708593e472 ">
                                 <p><code class="codeph">action</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e513 d708593e475 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">CREATE_ACTION</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">DROP_ACTION</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PURGE_ACTION</code> 
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e513 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e513 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e540" headers="d708593e472 ">
                                 <p><code class="codeph">table_type</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e540 d708593e475 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">REPAIR_TABLE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ORPHAN_TABLE</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e540 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e540 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e562" headers="d708593e472 ">
                                 <p><code class="codeph">flags</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e562 d708593e475 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">SKIP_FLAG</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">NOSKIP_FLAG</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e562 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e562 d708593e481 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e584" headers="d708593e472 ">
                                 <p><code class="codeph">object_id</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e584 d708593e475 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">ALL_INDEX_ID := 0</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e584 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e584 d708593e481 ">
                                 <p>Clean up all objects that qualify</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d708593e602" headers="d708593e472 ">
                                 <p><code class="codeph">wait_for_lock</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d708593e602 d708593e475 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">LOCK_WAIT := 1</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LOCK_NOWAIT := 0</code></p>
                                    </li>
                                 </ul>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d708593e602 d708593e478 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d708593e602 d708593e481 ">
                                 <p>Specifies whether to try getting DML locks on underlying table [[sub]partition] object</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B__GUID-B8B3FE69-52C6-4378-B1C6-577DB60BF403">
                        <p class="notep1">Note:</p>
                        <p>The default <code class="codeph">table_name</code> will be <code class="codeph">REPAIR_TABLE</code> when <code class="codeph">table_type</code> is <code class="codeph">REPAIR_TABLE</code>, and will be <code class="codeph">ORPHAN_KEY_TABLE</code> when <code class="codeph">table_type</code> is <code class="codeph">ORPHAN_TABLE</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67541"></a><a id="ARPLS67541"></a><div class="props_rev_3"><a id="GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F" name="GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F"></a><h3 id="ARPLS-GUID-E1E44AB5-EBBB-4E61-BE8B-D218B5EC6F0F" class="sect3"><span class="enumeration_section">134.4 </span>DBMS_REPAIR Operating Notes
               </h3>
               <div>
                  <p>The procedure to create the <code class="codeph">ORPHAN_KEYS_TABLE</code> is similar to the one used to create the <code class="codeph">REPAIR_TABLE</code>.
                  </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA;
EXEC DBMS_REPAIR.ADMIN_TABLES('ORPHAN_KEYS_TABLE', DBMS_REPAIR.ORPHAN_TABLE,
                               DBMS_REPAIR.CREATE_ACTION);
EXEC DBMS_REPAIR.ADMIN_TABLES('REPAIR_TABLE', DBMS_REPAIR.REPAIR_TABLE,
                               DBMS_REPAIR.CREATE_ACTION);
DESCRIBE ORPHAN_KEYS_TABLE;
DESCRIBE REPAIR_TABLE;
SELECT * FROM ORPHAN_KEYS_TABLE;
SELECT * FROM REPAIR_TABLE;
</pre><p>The DBA would create the repair and orphan keys tables once. Subsequent executions of the <a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="This procedure checks the specified objects and populates the repair table with information about corruptions and repair directives.">CHECK_OBJECT Procedure</a> would add rows into the appropriate table indicating the types of errors found.
                     </p>
                     <p>The name of the repair and orphan keys tables can be chosen by the user, with the following restriction: the name of the repair table must begin with the '<code class="codeph">REPAIR_</code>' prefix, and the name of the orphan keys table must begin with the '<code class="codeph">ORPHAN_</code>' prefix. The following code is also legal:
                     </p><pre class="oac_no_warn" dir="ltr">CONNECT / AS SYSDBA;
EXEC DBMS_REPAIR.ADMIN_TABLES('ORPHAN_FOOBAR', DBMS_REPAIR.ORPHAN_TABLE,
                               DBMS_REPAIR.CREATE_ACTION);
EXEC DBMS_REPAIR.ADMIN_TABLES('REPAIR_ABCD', DBMS_REPAIR.REPAIR_TABLE,
                               DBMS_REPAIR.CREATE_ACTION);
DESCRIBE ORPHAN_FOOBAR;
DESCRIBE REPAIR_ABCD;
SELECT * FROM ORPHAN_FOOBAR;
SELECT * FROM REPAIR_ABCD;
</pre><p>When invoking the <a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="This procedure checks the specified objects and populates the repair table with information about corruptions and repair directives.">CHECK_OBJECT Procedure</a> the name of the repair and orphan keys tables that were created should be specified correctly, especially if the default values were not used in the <a href="DBMS_REPAIR.html#GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" title="This procedure provides administrative functions for the DBMS_REPAIR package repair and orphan key tables.">ADMIN_TABLES Procedure</a> or <code class="codeph">CREATE_ACTION</code>.
                     </p>
                     <p>Other actions in the <a href="DBMS_REPAIR.html#GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" title="This procedure provides administrative functions for the DBMS_REPAIR package repair and orphan key tables.">ADMIN_TABLES Procedure</a> can be used to purge/delete the <code class="codeph">REPAIR_TABLE</code> and the <code class="codeph">ORPHAN_KEYS_TABLE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67542"></a><a id="ARPLS67543"></a><a id="ARPLS67543"></a><a id="ARPLS67542"></a><div class="props_rev_3"><a id="GUID-0F286D82-EA77-470C-900E-7B46408B228F" name="GUID-0F286D82-EA77-470C-900E-7B46408B228F"></a><h3 id="ARPLS-GUID-0F286D82-EA77-470C-900E-7B46408B228F" class="sect3"><span class="enumeration_section">134.5 </span>DBMS_REPAIR Exceptions
               </h3>
               <div>
                  <p>The table in this topic describes the exceptions raised by the DDBMS_REPAIR subprograms.</p>
                  <div class="tblformal" id="GUID-0F286D82-EA77-470C-900E-7B46408B228F__GUID-A0B723C0-97ED-4175-985C-B302433B9BA5">
                     <p class="titleintable">Table 134-2 DBMS_REPAIR Exceptions</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_REPAIR Exceptions" summary="This table describes the Exceptions raised by the DDBMS_REPAIR subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="15%" id="d708593e903">Exception</th>
                              <th align="left" valign="bottom" width="42%" id="d708593e906">Description</th>
                              <th align="left" valign="bottom" width="44%" id="d708593e909">Action</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e914" headers="d708593e903 ">
                                 <p><code class="codeph">942</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e914 d708593e906 ">
                                 <p>Reported by <code class="codeph">DBMS_REPAIR.ADMIN_TABLES</code> during a <code class="codeph">DROP_ACTION</code> when the specified table doesn't exist.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e914 d708593e909 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e931" headers="d708593e903 ">
                                 <p><code class="codeph">955</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e931 d708593e906 ">
                                 <p>Reported by <code class="codeph">DBMS_REPAIR</code>. <code class="codeph">CREATE_ACTION</code> when the specified table already exists.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e931 d708593e909 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e948" headers="d708593e903 ">
                                 <p><code class="codeph">24120</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e948 d708593e906 ">
                                 <p>An invalid parameter was passed to the specified <code class="codeph">DBMS_REPAIR</code> procedure. 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e948 d708593e909 ">
                                 <p>Specify a valid parameter value or use the parameter's default. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e962" headers="d708593e903 ">
                                 <p><code class="codeph">24122</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e962 d708593e906 ">
                                 <p>An incorrect block range was specified. </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e962 d708593e909 ">
                                 <p>Specify correct values for the <code class="codeph">BLOCK_START</code> and <code class="codeph">BLOCK_END</code> parameters. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e979" headers="d708593e903 ">
                                 <p><code class="codeph">24123</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e979 d708593e906 ">
                                 <p>An attempt was made to use the specified feature, but the feature is not yet implemented. </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e979 d708593e909 ">
                                 <p>Do not attempt to use the feature. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e990" headers="d708593e903 ">
                                 <p><code class="codeph">24124</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e990 d708593e906 ">
                                 <p>An invalid <code class="codeph">ACTION</code> parameter was specified. 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e990 d708593e909 ">
                                 <p>Specify <code class="codeph">CREATE_ACTION</code>, <code class="codeph">PURGE_ACTION</code> or <code class="codeph">DROP_ACTION</code> for the <code class="codeph">ACTION</code> parameter. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1016" headers="d708593e903 ">
                                 <p><code class="codeph">24125</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1016 d708593e906 ">
                                 <p>An attempt was made to fix corrupt blocks on an object that has been dropped or truncated since <code class="codeph">DBMS_REPAIR</code>.<code class="codeph">CHECK_OBJECT</code> was run. 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1016 d708593e909 ">
                                 <p>Use <code class="codeph">DBMS_REPAIR</code>.<code class="codeph">ADMIN_TABLES</code> to purge the repair table and run <code class="codeph">DBMS_REPAIR</code>.<code class="codeph">CHECK_OBJECT</code> to determine whether there are any corrupt blocks to be fixed. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1045" headers="d708593e903 ">
                                 <p><code class="codeph">24127</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1045 d708593e906 ">
                                 <p><code class="codeph">TABLESPACE</code> parameter specified with an <code class="codeph">ACTION</code> other than <code class="codeph">CREATE_ACTION</code>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1045 d708593e909 ">
                                 <p>Do not specify <code class="codeph">TABLESPACE</code> when performing actions other than <code class="codeph">CREATE_ACTION</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1070" headers="d708593e903 ">
                                 <p><code class="codeph">24128</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1070 d708593e906 ">
                                 <p>A partition name was specified for an object that is not partitioned. </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1070 d708593e909 ">
                                 <p>Specify a partition name only if the object is partitioned. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1081" headers="d708593e903 ">
                                 <p><code class="codeph">24129</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1081 d708593e906 ">
                                 <p>An attempt was made to pass a table name parameter without the specified prefix. </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1081 d708593e909 ">
                                 <p>Pass a valid table name parameter. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1092" headers="d708593e903 ">
                                 <p><code class="codeph">24130</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1092 d708593e906 ">
                                 <p>An attempt was made to specify a repair or orphan table that does not exist. </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1092 d708593e909 ">
                                 <p>Specify a valid table name parameter. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1104" headers="d708593e903 ">
                                 <p><code class="codeph">24131</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1104 d708593e906 ">
                                 <p>An attempt was made to specify a repair or orphan table that does not have a correct definition. </p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1104 d708593e909 ">
                                 <p>Specify a table name that refers to a properly created table. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d708593e1115" headers="d708593e903 ">
                                 <p><code class="codeph">24132</code></p>
                              </td>
                              <td align="left" valign="top" width="42%" headers="d708593e1115 d708593e906 ">
                                 <p>An attempt was made to specify a table name is greater than 30 characters long.</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d708593e1115 d708593e909 ">
                                 <p>Specify a valid table name parameter.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67544"></a><a id="ARPLS67544"></a><div class="props_rev_3"><a id="GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9" name="GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9"></a><h3 id="ARPLS-GUID-4FEBF61D-D86F-47E7-ACDC-8CED36352FD9" class="sect3"><span class="enumeration_section">134.6 </span>DBMS_REPAIR Examples
               </h3>
               <div>
                  <p>This topic shows examples of DBMS_REPAIR usage. </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">/* Fix the bitmap status for all the blocks in table mytab in schema sys */

EXECUTE DBMS_REPAIR.SEGMENT_FIX_STATUS('SYS', 'MYTAB'); 

/* Mark block number 45, filenumber 1 for table mytab in sys schema as FULL.*/ 

EXECUTE DBMS_REPAIR.SEGMENT_FIX_STATUS('SYS', 'MYTAB', TABLE_OBJECT,1, 45, 1); </pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67545"></a><a id="ARPLS67546"></a><a id="ARPLS67546"></a><a id="ARPLS67545"></a><div class="props_rev_3"><a id="GUID-D136544C-8027-4CA5-825D-6B9FFA884841" name="GUID-D136544C-8027-4CA5-825D-6B9FFA884841"></a><h3 id="ARPLS-GUID-D136544C-8027-4CA5-825D-6B9FFA884841" class="sect3"><span class="enumeration_section">134.7 </span>Summary of DBMS_REPAIR Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_REPAIR</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-D136544C-8027-4CA5-825D-6B9FFA884841__GUID-32A331F9-EC68-45BD-8B74-502C3D468454">
                     <p class="titleintable">Table 134-3 DBMS_REPAIR Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_REPAIR Package Subprograms" summary="This table lists the DBMS_REPAIR subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d708593e1315">Subprogram</th>
                              <th align="left" valign="bottom" width="65%" id="d708593e1318">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1323" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" title="This procedure provides administrative functions for the DBMS_REPAIR package repair and orphan key tables.">ADMIN_TABLES Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1323 d708593e1318 ">
                                 <p>Provides administrative functions for the <code class="codeph">DBMS_REPAIR</code> package repair and orphan key tables, including create, purge, and drop functions
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1341" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="This procedure checks the specified objects and populates the repair table with information about corruptions and repair directives.">CHECK_OBJECT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1341 d708593e1318 ">
                                 <p>Detects and reports corruptions in a table or index</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1353" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9" title="This procedure reports on index entries that point to rows in corrupt data blocks. For each such index entry encountered, a row is inserted into the specified orphan table.">DUMP_ORPHAN_KEYS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1353 d708593e1318 ">
                                 <p>Reports on index entries that point to rows in corrupt data blocks</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1365" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-D594524A-57CC-4D7F-8801-2057070512F3" title="This procedure fixes the corrupt blocks in specified objects based on information in the repair table that was previously generated by the CHECK_OBJECT Procedure.">FIX_CORRUPT_BLOCKS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1365 d708593e1318 ">
                                 <p>Marks blocks software corrupt that have been previously detected as corrupt by <code class="codeph">CHECK_OBJECT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1379" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5" title="This function performs a manual cleanup of failed or interrupted online index builds or rebuilds.">ONLINE_INDEX_CLEAN Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1379 d708593e1318 ">
                                 <p>Performs a manual cleanup of failed or interrupted online index builds or rebuilds</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1391" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F" title="This procedure rebuilds the freelists for the specified object.">REBUILD_FREELISTS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1391 d708593e1318 ">
                                 <p>Rebuilds an object's freelists</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1403" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F" title="With this procedure you can fix the corrupted state of a bitmap entry. The procedure either recalculates the state based on the current contents of the corresponding block or sets the state to a specific value.">SEGMENT_FIX_STATUS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1403 d708593e1318 ">
                                 <p>Fixes the corrupted state of a bitmap entry</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d708593e1415" headers="d708593e1315 ">
                                 <p><a href="DBMS_REPAIR.html#GUID-F86D3785-6305-4429-9DC4-082BF530312C" title="This procedure enables or disables the skipping of corrupt blocks during index and table scans of the specified object.">SKIP_CORRUPT_BLOCKS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d708593e1415 d708593e1318 ">
                                 <p>Sets whether to ignore blocks marked corrupt during table and index scans or to report <code class="codeph">ORA-1578</code> when blocks marked corrupt are encountered
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS67547"></a><a id="ARPLS67548"></a><a id="ARPLS67548"></a><a id="ARPLS67547"></a><div class="props_rev_3"><a id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" name="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303"></a><h4 id="ARPLS-GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303" class="sect4"><span class="enumeration_section">134.7.1 </span>ADMIN_TABLES Procedure
                  </h4>
                  <div>
                     <p>This procedure provides administrative functions for the <code class="codeph">DBMS_REPAIR</code> package repair and orphan key tables.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303__GUID-3B424FD1-A657-468E-B2EE-830AD6045517">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.ADMIN_TABLES (
   table_name  IN   VARCHAR2,
   table_type  IN   BINARY_INTEGER,
   action      IN   BINARY_INTEGER,
   tablespace  IN   VARCHAR2  DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303__GUID-9427D68D-5829-4EF0-8485-658319AC8722">Parameters</p>
                        <div class="tblformal" id="GUID-1FD117F0-162D-49D7-8C04-4EB9FF647303__GUID-773A12B8-4ED3-45AA-9109-2CD8232D9F4B">
                           <p class="titleintable">Table 134-4 ADMIN_TABLES Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADMIN_TABLES Procedure Parameters" summary="This table describes Parameters used by the DBMS_REPAIR.ADMIN_TABLES subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e1542">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e1545">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1550" headers="d708593e1542 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1550 d708593e1545 ">
                                       <p>Name of the table to be processed. Defaults to <code class="codeph">ORPHAN_KEY_TABLE</code> or <code class="codeph">REPAIR_TABLE</code> based on the specified <code class="codeph">table_type</code>. When specified, the table name must have the appropriate prefix: <code class="codeph">ORPHAN_</code> or <code class="codeph">REPAIR_</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1573" headers="d708593e1542 ">
                                       <p><code class="codeph">table_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1573 d708593e1545 ">
                                       <p>Type of table; must be either <code class="codeph">ORPHAN_TABLE</code> or <code class="codeph">REPAIR_TABLE</code>.
                                       </p>
                                       <p>See <span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1606" headers="d708593e1542 ">
                                       <p><code class="codeph">action</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1606 d708593e1545 ">
                                       <p>Indicates what administrative action to perform.</p>
                                       <p>Must be either <code class="codeph">CREATE_ACTION</code>, <code class="codeph">PURGE_ACTION</code>, or <code class="codeph">DROP_ACTION</code>. If the table already exists, and if <code class="codeph">CREATE_ACTION</code> is specified, then an error is returned. <code class="codeph">PURGE_ACTION</code> indicates to delete all rows in the table that are associated with non-existent objects. If the table does not exist, and if <code class="codeph">DROP_ACTION</code> is specified, then an error is returned. 
                                       </p>
                                       <p>When <code class="codeph">CREATE_ACTION</code> and <code class="codeph">DROP_ACTION</code> are specified, an associated view named <code class="codeph">DBA_&lt;table_name&gt;</code> is created and dropped respectively. The view is defined so that rows associated with non-existent objects are eliminated. 
                                       </p>
                                       <p>Created in the <code class="codeph">SYS</code> schema. 
                                       </p>
                                       <p>See <span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1670" headers="d708593e1542 ">
                                       <p><code class="codeph">tablespace</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1670 d708593e1545 ">
                                       <p>Indicates the tablespace to use when creating a table.</p>
                                       <p>By default, the <code class="codeph">SYS</code> default tablespace is used. An error is returned if the tablespace is specified and if the action is not <code class="codeph">CREATE_ACTION</code>. 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67549"></a><a id="ARPLS67550"></a><a id="ARPLS67550"></a><a id="ARPLS67549"></a><div class="props_rev_3"><a id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" name="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49"></a><h4 id="ARPLS-GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" class="sect4"><span class="enumeration_section">134.7.2 </span>CHECK_OBJECT Procedure
                  </h4>
                  <div>
                     <p>This procedure checks the specified objects and populates the repair table with information about corruptions and repair directives.</p>
                     <div class="section">
                        <p>Validation consists of block checking all blocks in the object. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-196C86B9-4ADD-4ABD-8969-E30AF44BCFE6">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.CHECK_OBJECT (
   schema_name       IN  VARCHAR2,
   object_name       IN  VARCHAR2,
   partition_name    IN  VARCHAR2       DEFAULT NULL,
   object_type       IN  BINARY_INTEGER DEFAULT TABLE_OBJECT,
   repair_table_name IN  VARCHAR2       DEFAULT 'REPAIR_TABLE',
   flags             IN  BINARY_INTEGER DEFAULT NULL,
   relative_fno      IN  BINARY_INTEGER DEFAULT NULL,
   block_start       IN  BINARY_INTEGER DEFAULT NULL,
   block_end         IN  BINARY_INTEGER DEFAULT NULL,
   corrupt_count     OUT BINARY_INTEGER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-1A6C132A-7B01-4FA9-A9A8-CEC783D0D744">Parameters</p>
                        <div class="tblformal" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-146216BD-D398-4D75-A038-249753A2EB51">
                           <p class="titleintable">Table 134-5 CHECK_OBJECT Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CHECK_OBJECT Procedure Parameters" summary="This table describes Parameters used by the DBMS_REPAIR.CHECK_OBJECT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e1799">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e1802">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1807" headers="d708593e1799 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1807 d708593e1802 ">
                                       <p>Schema name of the object to be checked.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1815" headers="d708593e1799 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1815 d708593e1802 ">
                                       <p>Name of the table or index to be checked.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1823" headers="d708593e1799 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1823 d708593e1802 ">
                                       <p>Partition or subpartition name to be checked.</p>
                                       <p>If this is a partitioned object, and if <code class="codeph">partition_name</code> is not specified, then all partitions and subpartitions are checked. If this is a partitioned object, and if the specified partition contains subpartitions, then all subpartitions are checked. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1836" headers="d708593e1799 ">
                                       <p><code class="codeph">object_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1836 d708593e1802 ">
                                       <p>Type of the object to be processed. This must be either <code class="codeph">TABLE_OBJECT</code> (default) or <code class="codeph">INDEX_OBJECT</code>. 
                                       </p>
                                       <p>See <span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1869" headers="d708593e1799 ">
                                       <p><code class="codeph">repair_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1869 d708593e1802 ">
                                       <p>Name of the repair table to be populated.</p>
                                       <p>The table must exist in the <code class="codeph">SYS</code> schema. Use the <code class="codeph">ADMIN_TABLES</code> Procedure to create a repair table. The default name is <code class="codeph">REPAIR_TABLE</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1888" headers="d708593e1799 ">
                                       <p><code class="codeph">flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1888 d708593e1802 ">
                                       <p>Reserved for future use.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1896" headers="d708593e1799 ">
                                       <p><code class="codeph">relative_fno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1896 d708593e1802 ">
                                       <p>Relative file number: Used when specifying a block range.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1904" headers="d708593e1799 ">
                                       <p><code class="codeph">block_start</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1904 d708593e1802 ">
                                       <p>First block to process if specifying a block range. May be specified only if the object is a single table, partition, or subpartition. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1912" headers="d708593e1799 ">
                                       <p><code class="codeph">block_end</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1912 d708593e1802 ">
                                       <p>Last block to process if specifying a block range. May be specified only if the object is a single table, partition, or subpartition. If only one of <code class="codeph">block_start</code> or <code class="codeph">block_end</code> is specified, then the other defaults to the first or last block in the file respectively. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e1926" headers="d708593e1799 ">
                                       <p><code class="codeph">corrupt_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e1926 d708593e1802 ">
                                       <p>Number of corruptions reported.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49__GUID-DA4D40EA-B65A-4D43-9DC8-A948BA280B08">Usage Notes</p>
                        <p>You may optionally specify a DBA range, partition name, or subpartition name when you want to check a portion of an object.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67551"></a><a id="ARPLS67552"></a><a id="ARPLS67552"></a><a id="ARPLS67551"></a><div class="props_rev_3"><a id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9" name="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9"></a><h4 id="ARPLS-GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9" class="sect4"><span class="enumeration_section">134.7.3 </span>DUMP_ORPHAN_KEYS Procedure
                  </h4>
                  <div>
                     <p>This procedure reports on index entries that point to rows in corrupt data blocks. For each such index entry encountered, a row is inserted into the specified orphan table. </p>
                     <div class="section">
                        <p>If the repair table is specified, then any corrupt blocks associated with the base table are handled in addition to all data blocks that are marked software corrupt. Otherwise, only blocks that are marked corrupt are handled. </p>
                        <p>This information may be useful for rebuilding lost rows in the table and for diagnostic purposes. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9__GUID-F16F0F7A-0767-420A-8EF0-48FA9DE3BEF9">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.DUMP_ORPHAN_KEYS (
   schema_name       IN  VARCHAR2,
   object_name       IN  VARCHAR2,
   partition_name    IN  VARCHAR2       DEFAULT NULL,
   object_type       IN  BINARY_INTEGER DEFAULT INDEX_OBJECT,
   repair_table_name IN  VARCHAR2       DEFAULT 'REPAIR_TABLE',
   orphan_table_name IN  VARCHAR2       DEFAULT 'ORPHAN_KEYS_TABLE',
   flags             IN  BINARY_INTEGER DEFAULT NULL,
   key_count         OUT BINARY_INTEGER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9__GUID-24E7946E-74B6-479E-91C6-4C7D37320103">Parameters</p>
                        <div class="tblformal" id="GUID-9ACFAE34-3B8D-4A7F-8671-509353B959B9__GUID-AA758C48-AAFD-4D8B-8286-9BAE0539835E">
                           <p class="titleintable">Table 134-6 DUMP_ORPHAN_KEYS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DUMP_ORPHAN_KEYS Procedure Parameters" summary="This table describes Parameters used by the DBMS_REPAIR.DUMP_ORPHAN_KEYS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2053">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2056">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2061" headers="d708593e2053 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2061 d708593e2056 ">
                                       <p>Schema name.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2069" headers="d708593e2053 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2069 d708593e2056 ">
                                       <p>Object name.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2077" headers="d708593e2053 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2077 d708593e2056 ">
                                       <p>Partition or subpartition name to be processed.</p>
                                       <p>If this is a partitioned object, and if <code class="codeph">partition_name</code> is not specified, then all partitions and subpartitions are processed. If this is a partitioned object, and if the specified partition contains subpartitions, then all subpartitions are processed. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2090" headers="d708593e2053 ">
                                       <p><code class="codeph">object_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2090 d708593e2056 ">
                                       <p>Type of the object to be processed. The default is <code class="codeph">INDEX_OBJECT</code> 
                                       </p>
                                       <p>See <span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2120" headers="d708593e2053 ">
                                       <p><code class="codeph">repair_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2120 d708593e2056 ">
                                       <p>Name of the repair table that has information regarding corrupt blocks in the base table.</p>
                                       <p>The specified table must exist in the <code class="codeph">SYS</code> schema. The <code class="codeph">ADMIN_TABLES</code> Procedure is used to create the table. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2136" headers="d708593e2053 ">
                                       <p><code class="codeph">orphan_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2136 d708593e2056 ">
                                       <p>Name of the orphan key table to populate with information regarding each index entry that refers to a row in a corrupt data block.</p>
                                       <p>The specified table must exist in the <code class="codeph">SYS</code> schema. The <code class="codeph">ADMIN_TABLES</code> Procedure is used to create the table. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2152" headers="d708593e2053 ">
                                       <p><code class="codeph">flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2152 d708593e2056 ">
                                       <p>Reserved for future use.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2160" headers="d708593e2053 ">
                                       <p><code class="codeph">key_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2160 d708593e2056 ">
                                       <p>Number of index entries processed.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67553"></a><a id="ARPLS67554"></a><a id="ARPLS67554"></a><a id="ARPLS67553"></a><div class="props_rev_3"><a id="GUID-D594524A-57CC-4D7F-8801-2057070512F3" name="GUID-D594524A-57CC-4D7F-8801-2057070512F3"></a><h4 id="ARPLS-GUID-D594524A-57CC-4D7F-8801-2057070512F3" class="sect4"><span class="enumeration_section">134.7.4 </span>FIX_CORRUPT_BLOCKS Procedure
                  </h4>
                  <div>
                     <p>This procedure fixes the corrupt blocks in specified objects based on information in the repair table that was previously generated by the CHECK_OBJECT Procedure. </p>
                     <div class="section">
                        <p>Prior to effecting any change to a block, the block is checked to ensure the block is still corrupt. Corrupt blocks are repaired by marking the block software corrupt. When a repair is effected, the associated row in the repair table is updated with a fix timestamp. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D594524A-57CC-4D7F-8801-2057070512F3__GUID-A241F751-DA60-4E57-9D1B-E7739B462BB1">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.FIX_CORRUPT_BLOCKS (
   schema_name       IN  VARCHAR2,
   object_name       IN  VARCHAR2,
   partition_name    IN  VARCHAR2       DEFAULT NULL, 
   object_type       IN  BINARY_INTEGER DEFAULT TABLE_OBJECT,
   repair_table_name IN  VARCHAR2       DEFAULT 'REPAIR_TABLE',
   flags             IN  BINARY_INTEGER DEFAULT NULL,
   fix_count         OUT BINARY_INTEGER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D594524A-57CC-4D7F-8801-2057070512F3__GUID-71BD66E7-815A-4086-A9E7-59979921A83A">Parameters</p>
                        <div class="tblformal" id="GUID-D594524A-57CC-4D7F-8801-2057070512F3__GUID-6D5F60AC-4712-4FFE-B8DB-ECFEB004CDCD">
                           <p class="titleintable">Table 134-7 FIX_CORRUPT_BLOCKS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FIX_CORRUPT_BLOCKS Procedure Parameters" summary="This table describes Parameters used by the DBMS_REPAIR.FIX_CORRUPT_BLOCKS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2280">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2283">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2288" headers="d708593e2280 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2288 d708593e2283 ">
                                       <p>Schema name.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2296" headers="d708593e2280 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2296 d708593e2283 ">
                                       <p>Name of the object with corrupt blocks to be fixed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2304" headers="d708593e2280 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2304 d708593e2283 ">
                                       <p>Partition or subpartition name to be processed. </p>
                                       <p>If this is a partitioned object, and if <code class="codeph">partition_name</code> is not specified, then all partitions and subpartitions are processed. If this is a partitioned object, and if the specified partition contains subpartitions, then all subpartitions are processed. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2317" headers="d708593e2280 ">
                                       <p><code class="codeph">object_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2317 d708593e2283 ">
                                       <p>Type of the object to be processed. This must be either <code class="codeph">TABLE_OBJECT</code> (default) or <code class="codeph">INDEX_OBJECT</code>. 
                                       </p>
                                       <p>See <span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2350" headers="d708593e2280 ">
                                       <p><code class="codeph">repair_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2350 d708593e2283 ">
                                       <p>Name of the repair table with the repair directives.</p>
                                       <p>Must exist in the <code class="codeph">SYS</code> schema. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2363" headers="d708593e2280 ">
                                       <p><code class="codeph">flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2363 d708593e2283 ">
                                       <p>Reserved for future use.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2371" headers="d708593e2280 ">
                                       <p><code class="codeph">fix_count</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2371 d708593e2283 ">
                                       <p>Number of blocks fixed.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="DBMS_REPAIR.html#GUID-067A4ED3-A69E-4695-88FF-3EB456C05E49" title="This procedure checks the specified objects and populates the repair table with information about corruptions and repair directives.">CHECK_OBJECT Procedure</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS67555"></a><a id="ARPLS67556"></a><a id="ARPLS67556"></a><a id="ARPLS67555"></a><div class="props_rev_3"><a id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5" name="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5"></a><h4 id="ARPLS-GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5" class="sect4"><span class="enumeration_section">134.7.5 </span>ONLINE_INDEX_CLEAN Function
                  </h4>
                  <div>
                     <p>This function performs a manual cleanup of failed or interrupted online index builds or rebuilds. </p>
                     <div class="section">
                        <p>This action is also performed periodically by SMON, regardless of user-initiated cleanup.</p>
                        <p>This function returns <code class="codeph">TRUE</code> if all indexes specified were cleaned up and <code class="codeph">FALSE</code> if one or more indexes could not be cleaned up. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5__GUID-9D607683-8125-4CA3-869E-E2226AE4BD50">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.ONLINE_INDEX_CLEAN (
   object_id      IN BINARY_INTEGER DEFAULT ALL_INDEX_ID,
   wait_for_lock  IN BINARY_INTEGER DEFAULT LOCK_WAIT)
 RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5__GUID-6C0E2ACE-66B4-4E9A-A3CD-09E21F34133F">Parameters</p>
                        <div class="tblformal" id="GUID-05BE0402-6B4F-479E-8B91-3E3031E0CBF5__GUID-6B764D50-0E52-4EE6-97B5-8B4E8B89A327">
                           <p class="titleintable">Table 134-8 ONLINE_INDEX_CLEAN Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ONLINE_INDEX_CLEAN Function Parameters" summary="This table describes Parameters used by the DBMS_REPAIR.ONLINE_INDEX_CLEAN subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2508">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2511">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2516" headers="d708593e2508 ">
                                       <p><code class="codeph">object_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2516 d708593e2511 ">
                                       <p>Object id of index to be cleaned up. The default cleans up all object ids that qualify.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2524" headers="d708593e2508 ">
                                       <p><code class="codeph">wait_for_lock</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2524 d708593e2511 ">
                                       <p>This parameter specifies whether to try getting DML locks on underlying table [[sub]partition] object. The default retries up to an internal retry limit, after which the lock get will give up. If <code class="codeph">LOCK_NOWAIT</code> is specified, then the lock get does not retry.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67557"></a><a id="ARPLS67558"></a><a id="ARPLS67558"></a><a id="ARPLS67557"></a><div class="props_rev_3"><a id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F" name="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F"></a><h4 id="ARPLS-GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F" class="sect4"><span class="enumeration_section">134.7.6 </span>REBUILD_FREELISTS Procedure
                  </h4>
                  <div>
                     <p>This procedure rebuilds the freelists for the specified object. </p>
                     <div class="section">
                        <p>All free blocks are placed on the master freelist. All other freelists are zeroed.</p>
                        <p>If the object has multiple freelist groups, then the free blocks are distributed among all freelists, allocating to the different groups in round-robin fashion. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F__GUID-5465D0B9-C0F7-49FD-B7DE-F038D9B59A61">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.REBUILD_FREELISTS (
   schema_name    IN VARCHAR2,   
   object_name    IN  VARCHAR2,
   partition_name IN VARCHAR2 DEFAULT NULL,
   object_type    IN BINARY_INTEGER DEFAULT TABLE_OBJECT);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F__GUID-C633AE91-8C34-4028-A790-0F830B747878">Parameters</p>
                        <div class="tblformal" id="GUID-1F9B7342-ADD5-43F8-BD20-38E629D21E8F__GUID-E76DB711-2EFD-46CA-BB08-48A58D3AB8F8">
                           <p class="titleintable">Table 134-9 REBUILD_FREELISTS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REBUILD_FREELISTS Procedure Parameters" summary="This table describes Parameters used by the DBMS_REPAIR.REBUILD_FREELISTS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2649">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2652">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2657" headers="d708593e2649 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2657 d708593e2652 ">
                                       <p>Schema name.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2665" headers="d708593e2649 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2665 d708593e2652 ">
                                       <p>Name of the object whose freelists are to be rebuilt.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2673" headers="d708593e2649 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2673 d708593e2652 ">
                                       <p>Partition or subpartition name whose freelists are to be rebuilt.</p>
                                       <p>If this is a partitioned object, and partition_name is not specified, then all partitions and subpartitions are processed. If this is a partitioned object, and the specified partition contains subpartitions, then all subpartitions are processed. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2683" headers="d708593e2649 ">
                                       <p><code class="codeph">object_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2683 d708593e2652 ">
                                       <p>Type of the object to be processed. This must be either <code class="codeph">TABLE_OBJECT</code> (default) or <code class="codeph">INDEX_OBJECT</code>.
                                       </p>
                                       <p>See<span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67559"></a><a id="ARPLS67560"></a><a id="ARPLS67560"></a><a id="ARPLS67559"></a><div class="props_rev_3"><a id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F" name="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F"></a><h4 id="ARPLS-GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F" class="sect4"><span class="enumeration_section">134.7.7 </span>SEGMENT_FIX_STATUS Procedure
                  </h4>
                  <div>
                     <p>With this procedure you can fix the corrupted state of a bitmap entry. The procedure either recalculates the state based on the current contents of the corresponding block or sets the state to a specific value.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F__GUID-CB1A2329-00F7-4360-9EA1-F980ACAB6CEA">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.SEGMENT_FIX_STATUS (
   segment_owner   IN VARCHAR2,
   segment_name    IN VARCHAR2,
   segment_type    IN BINARY_INTEGER DEFAULT TABLE_OBJECT,
   file_number     IN BINARY_INTEGER DEFAULT NULL,
   block_number    IN BINARY_INTEGER DEFAULT NULL,
   status_value    IN BINARY_INTEGER DEFAULT NULL,
   partition_name  IN VARCHAR2 DEFAULT NULL,);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F__GUID-61E255F9-755F-41D5-858C-9D95F6C67224">Parameters</p>
                        <div class="tblformal" id="GUID-1EFF2D5F-7764-4A80-803D-AB0A4D9C8A2F__GUID-058104C6-36AB-46D8-96BA-A03A33BBDA66">
                           <p class="titleintable">Table 134-10 SEGMENT_FIX_STATUS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_FIX_STATUS Procedure Parameters" summary="This table describes Parameters used by the DBMS_REPAIR.SEGMENT_FIX_STATUS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e2825">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e2828">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2833" headers="d708593e2825 ">
                                       <p><code class="codeph">schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2833 d708593e2828 ">
                                       <p>Schema name of the segment.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2841" headers="d708593e2825 ">
                                       <p><code class="codeph">segment_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2841 d708593e2828 ">
                                       <p>Segment name. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2849" headers="d708593e2825 ">
                                       <p><code class="codeph">partition_name </code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2849 d708593e2828 ">
                                       <p>Optional. Name of an individual partition. <code class="codeph">NULL</code> for nonpartitioned objects. Default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2863" headers="d708593e2825 ">
                                       <p><code class="codeph">segment_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2863 d708593e2828 ">
                                       <p>Optional Type of the segment (for example, <code class="codeph">TABLE_OBJECT</code> or <code class="codeph">INDEX_OBJECT</code>). Default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2880" headers="d708593e2825 ">
                                       <p><code class="codeph">file_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2880 d708593e2828 ">
                                       <p>(optional) The tablespace-relative file number of the data block whose status has to be fixed. If omitted, all the blocks in the segment will be checked for state correctness and fixed. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2888" headers="d708593e2825 ">
                                       <p><code class="codeph">block_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2888 d708593e2828 ">
                                       <p>(optional) The file-relative block number of the data block whose status has to be fixed. If omitted, all the blocks in the segment will be checked for state correctness and fixed. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e2896" headers="d708593e2825 ">
                                       <p><code class="codeph">status_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e2896 d708593e2828 ">
                                       <p>(optional) The value to which the block status described by the <code class="codeph">file_number</code> and <code class="codeph">block_number</code> will be set. If omitted, the status will be set based on the current state of the block. This is almost always the case, but if there is a bug in the calculation algorithm, the value can be set manually. Status values:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>1 = block is full</p>
                                          </li>
                                          <li>
                                             <p>2 = block is 0-25% free</p>
                                          </li>
                                          <li>
                                             <p>3 = block is 25-50% free</p>
                                          </li>
                                          <li>
                                             <p>4 = block is 50-75% free</p>
                                          </li>
                                          <li>
                                             <p>5 = block is 75-100% free</p>
                                          </li>
                                       </ul>
                                       <p>The status for bitmap blocks, segment headers, and extent map blocks cannot be altered. The status for blocks in a fixed hash area cannot be altered. For index blocks, there are only two possible states: 1 = block is full and 3 = block has free space.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67561"></a><a id="ARPLS67562"></a><a id="ARPLS67562"></a><a id="ARPLS67561"></a><div class="props_rev_3"><a id="GUID-F86D3785-6305-4429-9DC4-082BF530312C" name="GUID-F86D3785-6305-4429-9DC4-082BF530312C"></a><h4 id="ARPLS-GUID-F86D3785-6305-4429-9DC4-082BF530312C" class="sect4"><span class="enumeration_section">134.7.8 </span>SKIP_CORRUPT_BLOCKS Procedure
                  </h4>
                  <div>
                     <p>This procedure enables or disables the skipping of corrupt blocks during index and table scans of the specified object. </p>
                     <div class="section">
                        <p>When the object is a table, skip applies to the table and its indexes. When the object is a cluster, it applies to all of the tables in the cluster, and their respective indexes. </p>
                        <div class="infoboxnote" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-FD81204C-311A-435C-B535-2452E63B644A">
                           <p class="notep1">Note:</p>
                           <p>When Oracle performs an index range scan on a corrupt index after DBMS_REPAIR.SKIP_CORRUPT_BLOCKS has been set for the base table, corrupt branch blocks and root blocks are not skipped. Only corrupt non-root leaf blocks are skipped. </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-264D6B59-6279-48A7-A540-985A4DBEA1C5">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_REPAIR.SKIP_CORRUPT_BLOCKS (
   schema_name  IN VARCHAR2,
   object_name  IN VARCHAR2,
   object_type  IN BINARY_INTEGER DEFAULT TABLE_OBJECT,
   flags        IN BINARY_INTEGER DEFAULT SKIP_FLAG);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-0E8F7587-6DF4-495D-81D2-7FB5915F7476">Parameters</p>
                        <div class="tblformal" id="GUID-F86D3785-6305-4429-9DC4-082BF530312C__GUID-489A7C8F-5BD2-46F9-BD4C-5CDC30579580">
                           <p class="titleintable">Table 134-11 SKIP_CORRUPT_BLOCKS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SKIP_CORRUPT_BLOCKS Procedure Parameters" summary="This table describes the parameters used by the DBMS_REPAIR.SKIP_CORRUPT_BLOCKS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d708593e3044">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d708593e3047">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3052" headers="d708593e3044 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3052 d708593e3047 ">
                                       <p>Schema name of the object to be processed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3060" headers="d708593e3044 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3060 d708593e3047 ">
                                       <p>Name of the object.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3068" headers="d708593e3044 ">
                                       <p><code class="codeph">object_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3068 d708593e3047 ">
                                       <p>Type of the object to be processed. This must be either <code class="codeph">TABLE_OBJECT</code> (default) or <code class="codeph">CLUSTER_OBJECT</code>.
                                       </p>
                                       <p>See <span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d708593e3101" headers="d708593e3044 ">
                                       <p><code class="codeph">flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d708593e3101 d708593e3047 ">
                                       <p>If <code class="codeph">SKIP_FLAG</code> is specified, then it turns on the skip of software corrupt blocks for the object during index and table scans. If <code class="codeph">NOSKIP_FLAG</code> is specified, then scans that encounter software corrupt blocks return an <code class="codeph">ORA</code>-<code class="codeph">1578</code>.
                                       </p>
                                       <p>See<span class="q">"<a href="DBMS_REPAIR.html#GUID-5CE4FEBA-F766-4B87-B20C-72FD55DFE68B" title="The DBMS_REPAIR package defines several enumerated constants that should be used for specifying parameter values. Enumerated constants must be prefixed with the package name. For example, DBMS_REPAIR.TABLE_OBJECT.">Constants</a>"</span>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01557.troubleshooting-rman-operations.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Troubleshooting RMAN Operations</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="tuning-rman-performance.html" title="Previous" type="text/html">
      <link rel="next" href="part-transfering-data-rman.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User's Guide">
    <meta name="dcterms.isVersionOf" content="BRADV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tuning-rman-performance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-transfering-data-rman.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-rman-tuning-troubleshooting.html" property="item" typeof="WebPage"><span property="name"> Tuning and Troubleshooting </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Troubleshooting RMAN Operations</li>
            </ol>
            <a id="GUID-ABFD58BD-5D3B-4A6C-AA46-E085AE234D73" name="GUID-ABFD58BD-5D3B-4A6C-AA46-E085AE234D73"></a><a id="BRADV012"></a>
            
            <h2 id="BRADV-GUID-ABFD58BD-5D3B-4A6C-AA46-E085AE234D73" class="sect2"><span class="enumeration_chapter">24 </span>Troubleshooting RMAN Operations
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to troubleshoot Recovery Manager. This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC" title="Recovery Manager provides detailed error messages that can aid in troubleshooting problems.">Interpreting RMAN Message Output</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" title="When LIST, REPORT, and SHOW do not provide all the information that you need for RMAN operations, some V$ views can provide useful details.">Using V$ Views for RMAN Troubleshooting</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-B1E9715D-BD07-4B80-8158-33981138E679" title="On some platforms, Oracle provides a diagnostic tool called sbttest. This utility performs a simple test of the media management software by acting as the Oracle database server and attempting to communicate with the media manager.">Testing the Media Management API</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-rman-operations.html#GUID-772C8583-7763-48AB-B404-747188EC718A" title="There are several ways to terminate an RMAN command in the middle of execution.">Terminating an RMAN Command</a></p>
                  </li>
               </ul>
            </div><a id="BRADV174"></a><div class="props_rev_3"><a id="GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC" name="GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC"></a><h3 id="BRADV-GUID-FC95B894-86E6-414C-A0A7-69D9768CDDFC" class="sect3"><span class="enumeration_section">24.1 </span>Interpreting RMAN Message Output
               </h3>
               <div>
                  <p>Recovery Manager provides detailed error messages that can aid in troubleshooting problems. </p>
                  <p>Also, Oracle Database and the third-party media vendors generate useful debugging output of their own. The following discussion explains how to identify and interpret the different errors that you may encounter.</p>
               </div><a id="BRADV411"></a><a id="BRADV89865"></a><div class="props_rev_3"><a id="GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8" name="GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8"></a><h4 id="BRADV-GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8" class="sect4"><span class="enumeration_section">24.1.1 </span>Identifying Types of RMAN Message Output
                  </h4>
                  <div>
                     <p>Output that is useful for troubleshooting failed or unresponsive RMAN jobs is located in several different places.</p>
                     <p>The following table provides an overview of where to locate message output that can be used to troubleshoot RMAN backup problems.</p>
                     <div class="tblformalwide" id="GUID-19A3AA88-4778-4127-A10E-1BD9F2F5D9F8__BGBBABDH">
                        <p class="titleintable">Table 24-1 Types of Message Output</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Types of Message Output" summary="This table lists places to look for different message output useful in troubleshooting RMAN backup problems." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="12%" id="d105110e294">Type of Output	</th>
                                 <th align="left" valign="bottom" width="12%" id="d105110e298">Produced By</th>
                                 <th align="left" valign="bottom" width="38%" id="d105110e301">Location</th>
                                 <th align="left" valign="bottom" width="38%" id="d105110e304">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e309" headers="d105110e294 ">
                                    <p>RMAN messages</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e309 d105110e298 ">
                                    <p>RMAN</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e309 d105110e301 ">
                                    <p>Completed job information is in <code class="codeph">V$RMAN_STATUS</code> and <code class="codeph">RC_RMAN_STATUS</code>. Current job information is in <code class="codeph">V$RMAN_OUTPUT</code>.
                                    </p>
                                    <p>When running RMAN from the command line, you can direct output to the following places:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Standard output</p>
                                       </li>
                                       <li>
                                          <p>A log file specified by <code class="codeph">LOG</code> on the command line or the <code class="codeph">SPOOL</code> <code class="codeph">LOG</code> command
                                          </p>
                                       </li>
                                       <li>
                                          <p>A file created by redirecting RMAN output (for example, in UNIX, using the'<code class="codeph">&gt;</code>' operator)
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e309 d105110e304 ">
                                    <p>Contains actions relevant to the RMAN job and error messages generated by RMAN, the database server, and the media vendor. RMAN error messages have an <code class="codeph">RMAN-</code> prefix. Normal action descriptions do not have a prefix.
                                    </p>
                                    <p>You can execute the following PL/SQL to remove all entries from <code class="codeph">V$RMAN_STATUS</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">update node set high_rsr_recid=0
where db_key = <span class="italic">our_target_database_db_ke</span>y ;</pre><p>The preceding function removes all job-related entries. No rows are visible until new backup jobs are shown in <code class="codeph">V$RMAN_BACKUP_JOB_DETAILS</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e373" headers="d105110e294 ">
                                    <p><code class="codeph">alert_</code><span class="italic">SID</span><code class="codeph">.log</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e373 d105110e298 ">
                                    <p>Oracle Database</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e373 d105110e301 ">
                                    <p>The <code class="codeph">alert</code> subdirectory of the <a href="glossary.html#GUID-BDCE90D1-13B7-4D2C-A761-1583A238A247"><span class="xrefglossterm">Automatic Diagnostic Repository (ADR)</span></a> home
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e373 d105110e304 ">
                                    <p>Contains a chronological log of errors, initialization parameter settings, and administration operations. Records values for overwritten control file records.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e397" headers="d105110e294 ">
                                    <p>Oracle trace file</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e397 d105110e298 ">
                                    <p>Oracle Database</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e397 d105110e301 ">
                                    <p>The <code class="codeph">trace</code> subdirectory of the ADR home
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e397 d105110e304 ">
                                    <p>Contains detailed output generated by Oracle Database processes. This file is created when an <code class="codeph">ORA-600</code> or <code class="codeph">ORA-3113</code> error message occurs, whenever RMAN cannot allocate a channel, and when the database fails to load the media management library.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e419" headers="d105110e294 ">
                                    <p><code class="codeph">sbtio.log</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e419 d105110e298 ">
                                    <p>Third-party media management software</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e419 d105110e301 ">
                                    <p>The <code class="codeph">trace</code> subdirectory of the ADR home
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e419 d105110e304 ">
                                    <p>Contains vendor-specific information written by the media management software. This log does not contain Oracle Database or RMAN errors.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="12%" id="d105110e436" headers="d105110e294 ">
                                    <p>Media manager log file</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d105110e436 d105110e298 ">
                                    <p>Third-party media management software</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e436 d105110e301 ">
                                    <p>The file names for any media manager logs other than <code class="codeph">sbtio.log</code> are determined by the media management software.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d105110e436 d105110e304 ">
                                    <p>Contains information about the functioning of the media management device</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-908BC873-9AC8-402B-9B13-4ECBD1A50F80" name="GUID-908BC873-9AC8-402B-9B13-4ECBD1A50F80"></a><h4 id="BRADV-GUID-908BC873-9AC8-402B-9B13-4ECBD1A50F80" class="sect4"><span class="enumeration_section">24.1.2 </span>Troubleshooting Long-Running RMAN Operations
                  </h4>
                  <div>
                     <p>RMAN message output provides information about the progress of backup and recovery operations. Use this information to take any required actions to troubleshoot operations that are stuck or awaiting resources.</p>
                     <p>Certain operations such as backup, restore, recovery, and duplication for large databases typically take a long time to complete. However, it is not always clear if the operation is progressing or waiting on some resources. Starting with Oracle Database Release 18c, RMAN message output contains additional logging information that indicates if a job is waiting on resources. Every 10 minutes, RMAN checks if there is a change in the number of blocks processed. If there no change in the blocks processed, then RMAN displays a message with the associated wait event.</p>
                     <p>The following is an example of the RMAN output for a <code class="codeph">RESTORE</code> operation:
                     </p><pre class="pre codeblock"><code>allocated channel: c1
channel c1: SID=123 device type=SBT_TAPE
channel c1: WARNING: Oracle Test Disk API

Starting restore at 18-JAN-18

channel c1: starting datafile backup set restore
channel c1: specifying datafile(s) to restore from backup set
channel c1: restoring datafile 00002 to /ade/b/2776899351/oracle/dbs/tbs_ax1.f
channel c1: reading from backup piece 01sov1t4_1_1

***** Hang Detected ***** at 2018-01-18 04:11:23 for channel c1, INSTID: 1, SID: 123, serial: 35831
No change in read blocks, thus showing wait event[Total blocks = 192000, Blocks read/recovered = 41530]
Seq_No   Event                            Waiting Time(mirco secs)
602      Backup: MML read backup piece    38094371

***** Hang Detected ***** at 2018-01-18 04:11:33 for channel c1, INSTID: 1, SID: 123, serial: 35831
No change in read blocks, thus showing wait event[Total blocks = 192000, Blocks read/recovered = 41530]
Seq_No   Event                            Waiting Time(mirco secs)
602      Backup: MML read backup piece    48106104

channel c1: piece handle=01sov1t4_1_1 tag=TAG20180118T040804
channel c1: restored backup piece 1
channel c1: restore complete, elapsed time: 00:02:35
Finished restore at 18-JAN-18
released channel: c1</code></pre><p>The output indicates that the restore was stuck because of a problem with a media manager read operation. After the read operation completed, the RMAN restore was successful.</p>
                  </div>
               </div><a id="BRADV412"></a><a id="BRADV89866"></a><div class="props_rev_3"><a id="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA" name="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA"></a><h4 id="BRADV-GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA" class="sect4"><span class="enumeration_section">24.1.3 </span>Recognizing RMAN Error Message Stacks
                  </h4>
                  <div>
                     <p>RMAN reports errors as they occur. If an error is not retrievable, that is, if RMAN cannot perform failover to another channel to complete a particular job step, then RMAN also reports a summary of the errors after all job sets complete. This feature is known as deferred error reporting.</p>
                     <div class="section">
                        <p>One way to determine whether RMAN encountered an error is to examine its return code. A second way is to search the RMAN output for the string <code class="codeph">RMAN-00569</code>, which is the message number for the error stack banner. All RMAN errors are preceded by this error message. If you do not see an <code class="codeph">RMAN-00569</code> message in the output, then there are no errors.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA__BGBIHGBB">
                        <p class="titleinexample">Example 24-1 RMAN Syntax Error</p>
                        <p>This example shows an RMAN syntax error. The <code class="codeph">RMAN-00569</code> message is followed by other error messages that indicate the reason for the error.
                        </p><pre class="oac_no_warn" dir="ltr">RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-00558: error encountered while parsing input commands
RMAN-01005: syntax error: found ")": expecting one of: "archivelog, backup,
 backupset, controlfilecopy, current, database, datafile, datafilecopy, (, plus, ;, tablespace"
RMAN-01007: at line 1 column 18 file: standard input</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-A2497F34-9030-4A43-AE3A-248B514D7FAA__GUID-F16E72D2-3B86-46AE-97BF-92D10B0099B5">
                           <p class="notep1">See Also:</p>
                           <p><a href="troubleshooting-rman-operations.html#GUID-52F92FE9-4C46-4380-97CB-454E5C784E01" title="One way to determine whether RMAN encountered an error is to examine its return code or exit status. The RMAN client returns 0 to the shell from which it was invoked if no errors occurred, and a nonzero error value otherwise.">Identifying RMAN Return Codes</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89867"></a><div class="props_rev_3"><a id="GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F" name="GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F"></a><h4 id="BRADV-GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F" class="sect4"><span class="enumeration_section">24.1.4 </span>Identifying RMAN Error Codes
                  </h4>
                  <div>
                     <p>You can use the error codes in RMAN message stacks to troubleshoot problems with RMAN commands.</p>
                     <p>Typically, you find the following types of error codes in RMAN message stacks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Errors prefixed with <code class="codeph">RMAN-</code></p>
                           <p>These are RMAN errors.</p>
                        </li>
                        <li>
                           <p>Errors prefixed with <code class="codeph">ORA-</code></p>
                           <p>Media manager errors use the <code class="codeph">ORA-</code> prefix.
                           </p>
                        </li>
                        <li>
                           <p>Errors preceded by the line <code class="codeph">Additional information:</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-86207589-FA0F-4F24-BEEE-A212E0059C7F__GUID-2F0273F7-25AC-4D6D-AFCE-A5BD4117B9C0">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E" title="RMAN error messages are prefixed with RMAN-.">RMAN Error Message Numbers</a> for the error ranges of RMAN errors
                              </p>
                           </li>
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020" title="If a media manager error occurs, ORA-19511 is signaled, and the media manager is expected to provide RMAN a descriptive error. RMAN displays the error passed back to it by the media manager.">ORA-19511: Media Manager Errors</a> for the error ranges of media manager errors
                              </p>
                           </li>
                           <li>
                              <p><a href="../errmg/index.html" target="_blank"><span><cite>Oracle Database Error Messages Reference</cite></span></a>for explanations of <code class="codeph">RMAN</code> and <code class="codeph">ORA</code> error codes
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV413"></a><a id="BRADV89868"></a><div class="props_rev_3"><a id="GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E" name="GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E"></a><h5 id="BRADV-GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E" class="sect5"><span class="enumeration_section">24.1.4.1 </span>RMAN Error Message Numbers 
                     </h5>
                     <div>
                        <p>RMAN error messages are prefixed with RMAN-.</p>
                        <p>The following table indicates the error ranges for common RMAN error messages, all of which are described in <a href="../errmg/RMAN-00201.html#ERRMG-GUID-8CF36220-DF1E-4BC7-A0B7-A95824301C2A" target="_blank"><span><cite>Oracle Database Error Messages Reference</cite></span></a>.
                        </p>
                        <div class="tblformal" id="GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E__G1014492">
                           <p class="titleintable">Table 24-2 RMAN Error Message Ranges</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RMAN Error Message Ranges" summary="This table lists error number ranges associated with RMAN error messages and their likely causes." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d105110e879">Error Range</th>
                                    <th align="left" valign="bottom" width="80%" id="d105110e882">Cause</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e887" headers="d105110e879 ">
                                       <p>0550-0999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e887 d105110e882 ">
                                       <p>Command-line interpreter</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e894" headers="d105110e879 ">
                                       <p>1000-1999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e894 d105110e882 ">
                                       <p>Keyword analyzer</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e901" headers="d105110e879 ">
                                       <p>2000-2999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e901 d105110e882 ">
                                       <p>Syntax analyzer</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e908" headers="d105110e879 ">
                                       <p>3000-3999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e908 d105110e882 ">
                                       <p>Main layer</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e915" headers="d105110e879 ">
                                       <p>4000-4999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e915 d105110e882 ">
                                       <p>Services layer</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e922" headers="d105110e879 ">
                                       <p>5000-5499</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e922 d105110e882 ">
                                       <p>Compilation of <code class="codeph">RESTORE</code> or <code class="codeph">RECOVER</code> command
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e935" headers="d105110e879 ">
                                       <p>5500-5999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e935 d105110e882 ">
                                       <p>Compilation of <code class="codeph">DUPLICATE</code> command
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e945" headers="d105110e879 ">
                                       <p>6000-6999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e945 d105110e882 ">
                                       <p>General compilation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e952" headers="d105110e879 ">
                                       <p>7000-7999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e952 d105110e882 ">
                                       <p>General execution</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e959" headers="d105110e879 ">
                                       <p>8000-8999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e959 d105110e882 ">
                                       <p>PL/SQL programs</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e966" headers="d105110e879 ">
                                       <p>9000-9999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e966 d105110e882 ">
                                       <p>Low-level keyword analyzer</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e974" headers="d105110e879 ">
                                       <p>10000-10999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e974 d105110e882 ">
                                       <p>Server-side execution</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e981" headers="d105110e879 ">
                                       <p>11000-11999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e981 d105110e882 ">
                                       <p>Interphase errors between PL/SQL and RMAN</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e988" headers="d105110e879 ">
                                       <p>12000-12999</p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d105110e988 d105110e882 ">
                                       <p>Recovery catalog packages</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="BRADV414"></a><a id="BRADV89869"></a><div class="props_rev_3"><a id="GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020" name="GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020"></a><h5 id="BRADV-GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020" class="sect5"><span class="enumeration_section">24.1.4.2 </span>ORA-19511: Media Manager Errors 
                     </h5>
                     <div>
                        <p>If a media manager error occurs, <code class="codeph">ORA-19511</code> is signaled, and the media manager is expected to provide RMAN a descriptive error. RMAN displays the error passed back to it by the media manager. 
                        </p>
                        <p>For example, you might see this:</p><pre class="oac_no_warn" dir="ltr">ORA-19511: Error received from media manager layer, error text:
   sbtpvt_open_input: file .* does not exist or cannot be accessed, errno = 2
</pre><p>The message from the media manager should provide you with enough information to let you fix the root problem. If it does not, then refer to the documentation for your media manager or contact your media management vendor support representative for further information. <code class="codeph">ORA-19511</code> errors originate with the media manager, not with Oracle Database. The database just passes on the message from the media manager. The cause can be addressed only by the media management vendor.
                        </p>
                        <p>If you are still using an SBT 1.1-compliant media management layer, you may see some additional error message text. Output from an SBT 1.1-compliant media management layer is similar to the following:</p><pre class="oac_no_warn" dir="ltr">ORA-19507: failed to retrieve sequential file, handle="c-140148591-20031014-06", parms=""
ORA-27007: failed to open file
Additional information: 7000
Additional information: 2
ORA-19511: Error received from media manager layer, error text:
   SBT error = 7000, errno = 0, sbtopen: backup file not found
</pre><p>The "Additional information" provided uses error codes specific to SBT 1.1. The values displayed correspond to the media manager message numbers and error text listed in <a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541" title="This table lists SBT 1.1 error message numbers and corresponding error text..">Table 24-3</a>. RMAN again signals the error, as an ORA-19511 <code class="codeph">Error received from media manager layer</code> error, and a general error message related to the error code returned from the media manager and including the SBT 1.1 error number is then displayed.
                        </p>
                        <p>The SBT 1.1 error messages are listed here for your reference. <a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541" title="This table lists SBT 1.1 error message numbers and corresponding error text..">Table 24-3</a> lists media manager message numbers and their corresponding error text. In the error codes, <span class="italic"><code class="codeph">O/S</code></span> stands for <span class="italic">operating system</span>. The errors marked with an asterisk (*) are internal and are not typically seen during normal operation.
                        </p>
                        <div class="tblformal" id="GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541">
                           <p class="titleintable">Table 24-3 Media Manager Error Message Ranges</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Media Manager Error Message Ranges" summary="This table lists SBT 1.1 error message numbers and corresponding error text.." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d105110e1129">Cause</th>
                                    <th align="left" valign="bottom" width="20%" id="d105110e1132">No.</th>
                                    <th align="left" valign="bottom" width="60%" id="d105110e1135">Message</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1140" headers="d105110e1129 ">
                                       <p>sbtopen</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1140 d105110e1132 ">
                                       <p>7000 </p>
                                       <p>7001</p>
                                       <p>7002*</p>
                                       <p>7003</p>
                                       <p>7004</p>
                                       <p>7005</p>
                                       <p>7006</p>
                                       <p>7007</p>
                                       <p>7008</p>
                                       <p>7009</p>
                                       <p>7010</p>
                                       <p>7011</p>
                                       <p>7012*</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1140 d105110e1135 ">
                                       <p>Backup file not found (only returned for read)</p>
                                       <p>File exists (only returned for write)</p>
                                       <p>Bad mode specified</p>
                                       <p>Invalid block size specified</p>
                                       <p>No tape device found</p>
                                       <p>Device found, but busy; try again later</p>
                                       <p>Tape volume not found</p>
                                       <p>Tape volume is in-use</p>
                                       <p>I/O Error</p>
                                       <p>Can't connect with Media Manager</p>
                                       <p>Permission denied</p>
                                       <p>O/S error for example malloc, fork error</p>
                                       <p>Invalid argument(s) to sbtopen</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1200" headers="d105110e1129 ">
                                       <p>sbtclose</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1200 d105110e1132 ">
                                       <p>7020*</p>
                                       <p>7021*</p>
                                       <p>7022</p>
                                       <p>7023</p>
                                       <p>7024*</p>
                                       <p>7025</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1200 d105110e1135 ">
                                       <p>Invalid file handle or file not open</p>
                                       <p>Invalid flags to sbtclose</p>
                                       <p>I/O error</p>
                                       <p>O/S error</p>
                                       <p>Invalid argument(s) to sbtclose</p>
                                       <p>Can't connect with Media Manager</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1230" headers="d105110e1129 ">
                                       <p>sbtwrite</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1230 d105110e1132 ">
                                       <p>7040*</p>
                                       <p>7041</p>
                                       <p>7042</p>
                                       <p>7043</p>
                                       <p>7044*</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1230 d105110e1135 ">
                                       <p>Invalid file handle or file not open</p>
                                       <p>End of volume reached</p>
                                       <p>I/O error</p>
                                       <p>O/S error</p>
                                       <p>Invalid argument(s) to sbtwrite</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1256" headers="d105110e1129 ">
                                       <p>sbtread</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1256 d105110e1132 ">
                                       <p>7060*</p>
                                       <p>7061</p>
                                       <p>7062</p>
                                       <p>7063</p>
                                       <p>7064</p>
                                       <p>7065*</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1256 d105110e1135 ">
                                       <p>Invalid file handle or file not open</p>
                                       <p>EOF encountered</p>
                                       <p>End of volume reached</p>
                                       <p> I/O error</p>
                                       <p>O/S error</p>
                                       <p>Invalid argument(s) to sbtread</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1286" headers="d105110e1129 ">
                                       <p>sbtremove</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1286 d105110e1132 ">
                                       <p>7080</p>
                                       <p>7081</p>
                                       <p>7082</p>
                                       <p>7083</p>
                                       <p>7084</p>
                                       <p>7085</p>
                                       <p>7086*</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1286 d105110e1135 ">
                                       <p>Backup file not found</p>
                                       <p>Backup file in use</p>
                                       <p>I/O Error</p>
                                       <p>Can't connect with Media Manager</p>
                                       <p>Permission denied</p>
                                       <p>O/S error</p>
                                       <p>Invalid argument(s) to sbtremove</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1320" headers="d105110e1129 ">
                                       <p>sbtinfo</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1320 d105110e1132 ">
                                       <p>7090</p>
                                       <p>7091</p>
                                       <p>7092</p>
                                       <p>7093</p>
                                       <p>7094</p>
                                       <p>7095* </p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1320 d105110e1135 ">
                                       <p>Backup file not found</p>
                                       <p>I/O Error</p>
                                       <p>Can't connect with Media Manager</p>
                                       <p>Permission denied</p>
                                       <p>O/S error</p>
                                       <p>Invalid argument(s) to sbtinfo</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d105110e1350" headers="d105110e1129 ">
                                       <p>sbtinit</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d105110e1350 d105110e1132 ">
                                       <p>7110* </p>
                                       <p>7111</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d105110e1350 d105110e1135 ">
                                       <p>Invalid argument(s) to sbtinit</p>
                                       <p>O/S error</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div><a id="BRADV89870"></a><div class="props_rev_3"><a id="GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E" name="GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E"></a><h4 id="BRADV-GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E" class="sect4"><span class="enumeration_section">24.1.5 </span>Interpreting RMAN Error Stacks
                  </h4>
                  <div>
                     <p>It is important to identify the relevant messages in the RMAN error stack.</p>
                     <div class="section">
                        <p>Note the following tips and suggestions while interpreting RMAN messages:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Read the messages from the bottom up, because this is the order in which RMAN issues the messages. The last one or two errors displayed in the stack are often the most informative.</p>
                           </li>
                           <li>
                              <p>When you are using an SBT 1.1 media management layer and you are presented with SBT 1.1 style error messages containing the "<code class="codeph">Additional information:</code>" numeric error codes, look for the <code class="codeph">ORA-19511 </code>message that follows for the text of error messages passed back to RMAN by the media manager. These messages identify the real failure in the media management layer.
                              </p>
                           </li>
                           <li>
                              <p>Look for the <code class="codeph">RMAN-03002</code> or <code class="codeph">RMAN-03009</code> message (<code class="codeph">RMAN-03009</code> equals <code class="codeph">RMAN-03002</code> but includes the channel ID), immediately following the error banner. These messages indicate which command failed. Syntax errors generate <code class="codeph">RMAN-00558</code>.
                              </p>
                           </li>
                           <li>
                              <p>Identify the basic type of error according to the error range chart in <a href="troubleshooting-rman-operations.html#GUID-122ADB82-E15B-4104-B7C6-DE1752D8466E__G1014492" title="This table lists error number ranges associated with RMAN error messages and their likely causes.">Table 24-2</a> and then refer to the error messages for information about the most important messages.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-018EEA85-F7B0-48EC-A688-FDF6B537CE3E__GUID-3D2CB4D8-1920-451F-A936-A447C8E4D11B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="troubleshooting-rman-operations.html#GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC" title="Errors prefixed by RMAN- indicate errors caused by RMAN commands.">Interpreting RMAN Errors: Example</a> and <a href="troubleshooting-rman-operations.html#GUID-1143EB66-0ACB-4E32-9AC4-66031A889095" title="Errors from the server are prefixed with ORA-.">Interpreting Server Errors: Example</a> for examples of RMAN error messages
                                 </p>
                              </li>
                              <li>
                                 <p><a href="troubleshooting-rman-operations.html#GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337" title="This example shows how to interpret errors caused at the media manager level.">Interpreting SBT 2.0 Media Management Errors: Example</a> and <a href="troubleshooting-rman-operations.html#GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87" title="This example shows the output of a backup job that has errors media management errors.">Interpreting SBT 1.1 Media Management Errors: Example</a> for examples of interpreting media management errors
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../errmg/index.html" target="_blank"><span class="italic">Oracle Database Error Messages </span></a> for information about the error messages
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV89871"></a><div class="props_rev_3"><a id="GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC" name="GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC"></a><h5 id="BRADV-GUID-3F0A6F9D-1FD0-4507-8E2B-B1A205690BCC" class="sect5"><span class="enumeration_section">24.1.5.1 </span>Interpreting RMAN Errors: Example
                     </h5>
                     <div>
                        <p>Errors prefixed by RMAN- indicate errors caused by RMAN commands.</p>
                        <p>You attempt a backup of tablespace <code class="codeph">users</code> and receive the following message:
                        </p><pre class="oac_no_warn" dir="ltr">Starting backup at 29-AUG-13
using channel ORA_DISK_1
RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-03002: failure of backup command at 08/29/2013 15:14:03
RMAN-20202: tablespace not found in the recovery catalog
RMAN-06019: could not translate tablespace name "USESR"
</pre><p>The <code class="codeph">RMAN-03002</code> error indicates that the <code class="codeph">BACKUP</code> command failed. You read the last two messages in the stack first and immediately see the problem: no tablespace <code class="codeph">users</code> appears in the recovery catalog because you mistyped the name as <code class="codeph">usesr</code>.
                        </p>
                     </div>
                  </div><a id="BRADV89872"></a><div class="props_rev_3"><a id="GUID-1143EB66-0ACB-4E32-9AC4-66031A889095" name="GUID-1143EB66-0ACB-4E32-9AC4-66031A889095"></a><h5 id="BRADV-GUID-1143EB66-0ACB-4E32-9AC4-66031A889095" class="sect5"><span class="enumeration_section">24.1.5.2 </span>Interpreting Server Errors: Example
                     </h5>
                     <div>
                        <p>Errors from the server are prefixed with ORA-.</p>
                        <p>Assume that you attempt to recover a tablespace and receive the following errors:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RECOVER TABLESPACE users;

Starting recover at 29-AUG-13
using channel ORA_DISK_1

starting media recovery
media recovery failed
RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-03002: failure of recover command at 08/29/2013 15:18:43
RMAN-11003: failure during parse/execution of SQL statement: alter database recover if needed tablespace USERS
ORA-00283: recovery session canceled due to errors
ORA-01124: cannot recover data file 8 - file is in use or recovery
ORA-01110: data file 8: '/oracle/oradata/trgt/users01.dbf'
</pre><p>As suggested, you start reading from the bottom up. The <code class="codeph">ORA-01110</code> message explains there was a problem with the recovery of data file <code class="codeph">users01.dbf</code>. The second error indicates that the database cannot recover the data file because it is in use or being recovered. The remaining RMAN errors indicate that the recovery session was canceled due to the server errors. Hence, you conclude that because you were not recovering this data file, the problem must be that the data file is online and you must take it offline and restore a backup.
                        </p>
                     </div>
                  </div><a id="BRADV89873"></a><div class="props_rev_3"><a id="GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337" name="GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337"></a><h5 id="BRADV-GUID-EB1FDC10-6B32-41DC-A1F5-B4EC149B2337" class="sect5"><span class="enumeration_section">24.1.5.3 </span>Interpreting SBT 2.0 Media Management Errors: Example
                     </h5>
                     <div>
                        <p>This example shows how to interpret errors caused at the media manager level.</p>
                        <p>Assume that you use a tape drive and see the following output during a backup job:</p><pre class="oac_no_warn" dir="ltr">RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
ORA-19624: operation failed, retry possible
ORA-19507: failed to retrieve sequential file, handle="/tmp/mydir", parms=""
ORA-27029: skgfrtrv: sbtrestore returned error
ORA-19511: Error received from media manager layer, error text:
  sbtpvt_open_input:file /tmp/mydir does not exist or cannot be accessed, errno=2
</pre><p>The error text displayed following the <code class="codeph">ORA-19511</code> error is generated by the media manager and describes the real source of the failure. See the media manager documentation to interpret this error.
                        </p>
                     </div>
                  </div><a id="BRADV89874"></a><div class="props_rev_3"><a id="GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87" name="GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87"></a><h5 id="BRADV-GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87" class="sect5"><span class="enumeration_section">24.1.5.4 </span>Interpreting SBT 1.1 Media Management Errors: Example
                     </h5>
                     <div>
                        <p>This example shows the output of a backup job that has errors media management errors.</p>
                        <p>Assume that you use a tape drive and see the following output during a backup job:</p><pre class="oac_no_warn" dir="ltr">RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-03009: failure of backup command on c1 channel at 09/04/2013 13:18:19
ORA-19506: failed to create sequential file, name="07d36ecp_1_1", parms=""
ORA-27007: failed to open file
SVR4 Error: 2: No such file or directory
Additional information: 7005
Additional information: 1
ORA-19511: Error received from media manager layer, error text:
   SBT error = 7005, errno = 2, sbtopen: system error
</pre><p>The main information of interest returned by SBT 1.1 media managers is the error code in the "Additional information" line:</p><pre class="oac_no_warn" dir="ltr">Additional information: 7005
</pre><p>Referring to <a href="troubleshooting-rman-operations.html#GUID-B23435DA-149D-4BFF-BF03-0FA4B68D5020__G1014541" title="This table lists SBT 1.1 error message numbers and corresponding error text..">Table 24-3</a>, you discover that error <code class="codeph">7005</code> means that the media management device is busy. So, the media management software is not able to write to the device because it is in use or there is a problem with it.
                        </p>
                        <div class="infoboxnote" id="GUID-37D6BF25-3EEF-473A-A500-D13F0FD9FC87__GUID-1818CCDC-CEC3-48D7-9538-864C5A0B3FDA">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">sbtio.log</code> contains information written by the media management software, <span class="italic">not</span> Oracle Database. Thus, you must consult your media vendor documentation to interpret the error codes and messages. If no information is written to the <code class="codeph">sbtio.log</code>, then contact your media manager support to ask whether they are writing error messages in some other location, or whether there are steps you must take to have the media manager errors appear in <code class="codeph">sbtio.log</code>.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="BRADV89875"></a><div class="props_rev_3"><a id="GUID-52F92FE9-4C46-4380-97CB-454E5C784E01" name="GUID-52F92FE9-4C46-4380-97CB-454E5C784E01"></a><h4 id="BRADV-GUID-52F92FE9-4C46-4380-97CB-454E5C784E01" class="sect4"><span class="enumeration_section">24.1.6 </span>Identifying RMAN Return Codes
                  </h4>
                  <div>
                     <p>One way to determine whether RMAN encountered an error is to examine its return code or exit status. The RMAN client returns 0 to the shell from which it was invoked if no errors occurred, and a nonzero error value otherwise. </p>
                     <div class="section">
                        <p>How you access this return code depends upon the environment from which you invoked the RMAN client. For example, if you run UNIX with the C shell, then, when RMAN completes, the return code is placed in a shell variable called <code class="codeph">$status</code>. The method of returning exit status is a detail specific to the host operating system rather than the RMAN client.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV415"></a><a id="BRADV177"></a><div class="props_rev_3"><a id="GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" name="GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB"></a><h3 id="BRADV-GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" class="sect3"><span class="enumeration_section">24.2 </span>Using V$ Views for RMAN Troubleshooting
               </h3>
               <div>
                  <p>When <code class="codeph">LIST</code>, <code class="codeph">REPORT</code>, and <code class="codeph">SHOW</code> do not provide all the information that you need for RMAN operations, some V$ views can provide useful details.
                  </p>
                  <p>Sometimes it is useful to identify exactly what a server session performing a backup and recovery job is doing. The views described in the following table are useful for obtaining information about RMAN jobs.</p>
                  <div class="tblformal" id="GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB__CHDCJGIE">
                     <p class="titleintable">Table 24-4 Useful V$ Views for Troubleshooting</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Useful V$ Views for Troubleshooting" summary="This table describes views that can assist in monitoring or obtaining information about RMAN jobs." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d105110e2097">View</th>
                              <th align="left" valign="bottom" width="74%" id="d105110e2100">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d105110e2105" headers="d105110e2097 ">
                                 <p><code class="codeph">V$PROCESS</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d105110e2105 d105110e2100 ">
                                 <p>Identifies currently active processes</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d105110e2113" headers="d105110e2097 ">
                                 <p><code class="codeph">V$SESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d105110e2113 d105110e2100 ">
                                 <p>Identifies currently active sessions. Use this view to determine which database server sessions correspond to which RMAN allocated channels.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d105110e2121" headers="d105110e2097 ">
                                 <p><code class="codeph">V$SESSION_WAIT</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d105110e2121 d105110e2100 ">
                                 <p>Lists the events or resources for which sessions are waiting</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>You can use the preceding views to perform the following tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" title="You can use the event names in the dynamic performance event views to monitor RMAN calls to the media management API. The event names have one-to-one correspondence with SBT functions.">Monitoring RMAN Interaction with the Media Manager</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD" title="To identify which server sessions correspond to which RMAN channels, you can query V$SESSION and V$PROCESS.">Correlating Server Sessions with RMAN Channels</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89876"></a><div class="props_rev_3"><a id="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" name="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873"></a><h4 id="BRADV-GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" class="sect4"><span class="enumeration_section">24.2.1 </span>Monitoring RMAN Interaction with the Media Manager
                  </h4>
                  <div>
                     <p>You can use the event names in the dynamic performance event views to monitor RMAN calls to the media management API. The event names have one-to-one correspondence with SBT functions.</p>
                     <div class="section">
                        <p>See the following example:</p><pre class="oac_no_warn" dir="ltr">Backup: MML v1 open backup piece
Backup: MML v1 read backup piece
Backup: MML v1 write backup piece
Backup: MML v1 query backup piece
Backup: MML v1 delete backup piece
Backup: MML v1 close backup piece
.
.
.</pre><p>To obtain the complete list of SBT events, you can use the following query:</p><pre class="oac_no_warn" dir="ltr">SELECT NAME 
FROM   V$EVENT_NAME 
WHERE  NAME LIKE '%MML%';
</pre><p>Before making a call to any of functions in the media management API, the server adds a row in <code class="codeph">V$SESSION_WAIT</code>, with the <code class="codeph">STATE</code> column including the string <code class="codeph">WAITING</code>. The <code class="codeph">V$SESSION_WAIT.SECONDS_IN_WAIT</code> column shows the number of seconds that the server has been waiting for this call to return. After an SBT function is returned from the media manager, this row disappears.
                        </p>
                        <p>A row in <code class="codeph">V$SESSION_WAIT</code> corresponding to an SBT event name does not indicate a problem, because the server updates these rows at run time. The rows appear and disappear as calls are made and returned. However, if the <code class="codeph">SECONDS_IN_WAIT</code> column is high, then the media manager may be suspended.
                        </p>
                        <p>To monitor the SBT events, you can run the following SQL query:</p><pre class="oac_no_warn" dir="ltr">COLUMN EVENT FORMAT a17
COLUMN SECONDS_IN_WAIT FORMAT 999
COLUMN STATE FORMAT a15
COLUMN CLIENT_INFO FORMAT a30

SELECT p.SPID, s.EVENT, s.SECONDS_IN_WAIT AS SEC_WAIT, 
       sw.STATE, s.CLIENT_INFO
FROM   V$SESSION_WAIT sw, V$SESSION s, V$PROCESS p
WHERE  sw.EVENT LIKE '%MML%'
AND    s.SID=sw.SID
AND    s.PADDR=p.ADDR;
</pre><p>Examine the SQL output to determine which SBT functions are waiting. For example, the following output indicates that RMAN has been waiting for the <code class="codeph">sbtbackup</code> function to return for 10 minutes:
                        </p><pre class="oac_no_warn" dir="ltr">SPID EVENT             SEC_WAIT   STATE           CLIENT_INFO
---- ----------------- ---------- --------------- ------------------------------
8642 Backup: MML creat 600        WAITING         rman channel=ORA_SBT_TAPE_1</pre><div class="infoboxnote" id="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873__GUID-163B8CB1-180E-484A-BE88-B3421F31A3E7">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">V$SESSION_WAIT</code> view shows only database events, not media manager events.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873__GUID-9D1639EC-F414-4E6E-8842-7D9C93C288B2">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/V-SESSION_WAIT.html#REFRN30229" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of the <code class="codeph">V$SESSION_WAIT</code> view.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89877"></a><div class="props_rev_3"><a id="GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD" name="GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD"></a><h4 id="BRADV-GUID-A73F567C-1F2D-403B-BED9-90B78B4CA7CD" class="sect4"><span class="enumeration_section">24.2.2 </span>Correlating Server Sessions with RMAN Channels
                  </h4>
                  <div>
                     <p>To identify which server sessions correspond to which RMAN channels, you can query <code class="codeph">V$SESSION</code> and <code class="codeph">V$PROCESS</code>. 
                     </p>
                     <p>The <code class="codeph">SPID</code> column of <code class="codeph">V$PROCESS</code> identifies the operating system ID number for the process or thread. For example, on UNIX the <code class="codeph">SPID</code> column shows the process ID, whereas on Windows the <code class="codeph">SPID</code> column shows the thread ID. You have two basic methods for obtaining this information, depending on whether you have multiple RMAN sessions active concurrently.
                     </p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="troubleshooting-rman-operations.html#GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA" title="When only one RMAN session is active, the easiest method for determining the server session ID for an RMAN channel is to query the target database.">Matching Server Sessions with Channels When One RMAN Session Is Active</a></p>
                        </li>
                        <li>
                           <p><a href="troubleshooting-rman-operations.html#GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1" title="If multiple RMAN sessions are active, then the V$SESSION.CLIENT_INFO column can yield the same information for a channel in each session.">Matching Server Sessions with Channels in Multiple RMAN Sessions</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV89878"></a><div class="props_rev_3"><a id="GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA" name="GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA"></a><h5 id="BRADV-GUID-3324872D-0863-42B1-89A0-A576CDC8C3CA" class="sect5"><span class="enumeration_section">24.2.2.1 </span>Matching Server Sessions with Channels When One RMAN Session Is Active
                     </h5>
                     <div>
                        <p>When only one RMAN session is active, the easiest method for determining the server session ID for an RMAN channel is to query the target database.</p>
                        <div class="section">
                           <p>Run the following query on the target database while the RMAN job is executing:</p><pre class="oac_no_warn" dir="ltr">COLUMN CLIENT_INFO FORMAT a30
COLUMN SID FORMAT 999
COLUMN SPID FORMAT 9999

SELECT s.SID, p.SPID, s.CLIENT_INFO
FROM   V$PROCESS p, V$SESSION s
WHERE  p.ADDR = s.PADDR
AND    CLIENT_INFO LIKE 'rman%';
</pre><p>The following shows sample output:</p><pre class="oac_no_warn" dir="ltr"> SID SPID         CLIENT_INFO
---- ------------ ------------------------------
  14 8374         rman channel=ORA_SBT_TAPE_1
</pre><p>If you set an ID using the RMAN <code class="codeph">SET COMMAND ID</code> command instead of using the system-generated default ID, then search for that value in the <code class="codeph">CLIENT_INFO</code> column instead of <code class="codeph">'rman%'</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89879"></a><div class="props_rev_3"><a id="GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1" name="GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1"></a><h5 id="BRADV-GUID-CD0BD414-F561-4518-A2B3-4CCD36B7EBB1" class="sect5"><span class="enumeration_section">24.2.2.2 </span>Matching Server Sessions with Channels in Multiple RMAN Sessions
                     </h5>
                     <div>
                        <p>If multiple RMAN sessions are active, then the <code class="codeph">V$SESSION.CLIENT_INFO</code> column can yield the same information for a channel in each session. 
                        </p>
                        <div class="section">
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr"> SID SPID         CLIENT_INFO
---- ------------ ------------------------------
  14 8374         rman channel=ORA_SBT_TAPE_1
   9 8642         rman channel=ORA_SBT_TAPE_1
</pre><p>In this case, you have the following methods for determining which channel corresponds to which <code class="codeph">SID</code> value.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div><a id="BRADV89880"></a><div class="props_rev_3"><a id="GUID-B4AD9177-6648-426C-9978-26BEAD00FBB6" name="GUID-B4AD9177-6648-426C-9978-26BEAD00FBB6"></a><h6 id="BRADV-GUID-B4AD9177-6648-426C-9978-26BEAD00FBB6" class="sect6"><span class="enumeration_section">24.2.2.2.1 </span>Obtaining the Channel ID from the RMAN Output
                        </h6>
                        <div>
                           <p>You must first obtain the <code class="codeph">sid</code> values from the RMAN output and then use these values in your SQL query.
                           </p>
                           <div class="section">
                              <p><span class="bold">To correlate a process with a channel during a backup:</span></p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>In an active session, run the RMAN job as usual and examine the output to get the SID for the channel. For example, the output may show:</span><div><pre class="oac_no_warn" dir="ltr"><code class="codeph">Starting backup at 21-AUG-13</code>
<code class="codeph">allocated channel: ORA_SBT_TAPE_1</code>
<code class="codeph">channel ORA_SBT_TAPE_1: sid=14 devtype=SBT_TAPE</code>
</pre></div>
                              </li>
                              <li class="stepexpand"><span>Start a SQL*Plus session and then query the joined <code class="codeph">V$SESSION</code> and <code class="codeph">V$PROCESS</code> views <span class="italic">while the RMAN job is executing</span>. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">COLUMN CLIENT_INFO FORMAT a30
COLUMN SID FORMAT 999
COLUMN SPID FORMAT 9999

SELECT s.SID, p.SPID, s.CLIENT_INFO
FROM   V$PROCESS p, V$SESSION s
WHERE  p.ADDR = s.PADDR
AND    CLIENT_INFO LIKE 'rman%'
/
</pre><p>Use the <code class="codeph">sid</code> value obtained from the first step to determine which channel corresponds to which server session:
                                    </p><pre class="oac_no_warn" dir="ltr">       SID SPID         CLIENT_INFO
---------- ------------ ------------------------------
        14 2036         rman channel=ORA_SBT_TAPE_1
        12 2066         rman channel=ORA_SBT_TAPE_1</pre></div>
                              </li>
                           </ol>
                        </div>
                     </div><a id="BRADV89881"></a><div class="props_rev_3"><a id="GUID-21C49BC3-2505-481F-83B9-5474948614DF" name="GUID-21C49BC3-2505-481F-83B9-5474948614DF"></a><h6 id="BRADV-GUID-21C49BC3-2505-481F-83B9-5474948614DF" class="sect6"><span class="enumeration_section">24.2.2.2.2 </span>Correlating Server Sessions with Channels by Using SET COMMAND ID
                        </h6>
                        <div>
                           <p>You specify a command ID string in the RMAN backup script. You can then query <code class="codeph">V$SESSION.CLIENT_INFO</code> for this string.
                           </p>
                           <div class="section">
                              <p><span class="bold">To correlate a process with a channel during a backup:</span></p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li class="stepexpand"><span>In each session, set the <code class="codeph">COMMAND</code> <code class="codeph">ID</code> to a different value <span class="italic">after</span> allocating the channels and then back up the desired object. For example, enter the following in session 1:</span><div><pre class="oac_no_warn" dir="ltr">RUN 
{
  ALLOCATE CHANNEL c1 TYPE disk;
  SET COMMAND ID TO 'sess1';
  BACKUP DATABASE<code class="codeph">;</code>
<code class="codeph">}</code>
</pre><p>Set the command ID to a string such as <code class="codeph">sess2</code> in the job running in session 2:
                                    </p><pre class="oac_no_warn" dir="ltr">RUN 
{
  ALLOCATE CHANNEL c1 TYPE sbt;
  SET COMMAND ID TO 'sess2';
  BACKUP DATABASE<code class="codeph">;</code>
<code class="codeph">}</code>
</pre></div>
                              </li>
                              <li class="stepexpand"><span>Start a SQL*Plus session and then query the joined <code class="codeph">V$SESSION</code> and <code class="codeph">V$PROCESS</code> views <span class="italic">while the RMAN job is executing</span>. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">SELECT SID, SPID, CLIENT_INFO 
FROM   V$PROCESS p, V$SESSION s 
WHERE  p.ADDR = s.PADDR 
AND    CLIENT_INFO LIKE '%id=sess%';
</pre><p>If you run the <code class="codeph">SET</code> <code class="codeph">COMMAND</code> <code class="codeph">ID</code> command in the RMAN job, then the <code class="codeph">CLIENT_INFO</code> column displays in the following format:
                                    </p><pre class="oac_no_warn" dir="ltr">id=<span class="italic">command_id</span>,rman channel=<span class="italic">channel_id</span>
</pre><p>For example, the following shows sample output:</p><pre class="oac_no_warn" dir="ltr"> SID SPID         CLIENT_INFO
---- ------------ ------------------------------
  11 8358         id=sess1
  15 8638         id=sess2
  14 8374         id=sess1,rman channel=c1
   9 8642         id=sess2,rman channel=c1
</pre><p>The rows that contain the string <code class="codeph">rman channel</code> show the channel performing the backup. The remaining rows are for the connections to the target database.
                                    </p>
                                 </div>
                              </li>
                           </ol>
                           <div class="section">
                              <div class="infoboxnotealso" id="GUID-21C49BC3-2505-481F-83B9-5474948614DF__GUID-80936436-48E3-41A5-AF39-C16A09EDC7BE">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../rcmrf/SET.html#RCMRF153" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">SET COMMAND ID</code> syntax, and <a href="../refrn/V-SESSION.html#REFRN-GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about <code class="codeph">V$SESSION</code> and <code class="codeph">V$PROCESS</code></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV175"></a><div class="props_rev_3"><a id="GUID-B1E9715D-BD07-4B80-8158-33981138E679" name="GUID-B1E9715D-BD07-4B80-8158-33981138E679"></a><h3 id="BRADV-GUID-B1E9715D-BD07-4B80-8158-33981138E679" class="sect3"><span class="enumeration_section">24.3 </span>Testing the Media Management API
               </h3>
               <div>
                  <p>On some platforms, Oracle provides a diagnostic tool called <code class="codeph">sbttest</code>. This utility performs a simple test of the media management software by acting as the Oracle database server and attempting to communicate with the media manager.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7" title="The default location of the sbttest utility depends on the platform.">Obtaining the sbttest Utility</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-E29B9686-2435-47D1-8619-5DA3B6232376" title="Use the sbttest command, without arguments, to list the various arguments for this program.">Obtaining Online Documentation for the sbttest Utility</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-rman-operations.html#GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC" title="Use sbttest to perform a quick test of the media manager.">Using the sbttest Utility</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89882"></a><div class="props_rev_3"><a id="GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7" name="GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7"></a><h4 id="BRADV-GUID-0780A6E4-4E5A-44CE-B083-F952597E72A7" class="sect4"><span class="enumeration_section">24.3.1 </span>Obtaining the sbttest Utility
                  </h4>
                  <div>
                     <p>The default location of the <code class="codeph">sbttest</code> utility depends on the platform.
                     </p>
                     <div class="section">
                        <p>On UNIX, the <code class="codeph">sbttest</code> utility is typically located in <code class="codeph">$ORACLE_HOME/bin</code>. If for some reason the utility is not included with your platform, then contact Oracle Support Services to obtain the C version of the program. You can compile this version of the program on all UNIX platforms.
                        </p>
                        <p>On platforms such as Solaris, you do not have to relink when using <code class="codeph">sbttest</code>. On other platforms, relinking may be necessary.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89883"></a><div class="props_rev_3"><a id="GUID-E29B9686-2435-47D1-8619-5DA3B6232376" name="GUID-E29B9686-2435-47D1-8619-5DA3B6232376"></a><h4 id="BRADV-GUID-E29B9686-2435-47D1-8619-5DA3B6232376" class="sect4"><span class="enumeration_section">24.3.2 </span>Obtaining Online Documentation for the sbttest Utility
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">sbttest</code> command, without arguments, to list the various arguments for this program.
                     </p>
                     <div class="section">
                        <p>For online documentation of <code class="codeph">sbttest</code>, issue the following on the command line:
                        </p><pre class="oac_no_warn" dir="ltr">% sbttest
</pre><p>The program displays the list of possible arguments for the program:</p><pre class="oac_no_warn" dir="ltr">Error: backup file name must be specified
Usage: sbttest backup_file_name # this is the only required parameter
               &lt;-dbname database_name&gt;
               &lt;-trace trace_file_name&gt;
               &lt;-remove_before&gt;
               &lt;-no_remove_after&gt; 
               &lt;-read_only&gt;
               &lt;-no_regular_backup_restore&gt;
               &lt;-no_proxy_backup&gt;
               &lt;-no_proxy_restore&gt;
               &lt;-file_type n&gt;
               &lt;-copy_number n&gt;
               &lt;-media_pool n&gt;
               &lt;-os_res_size n&gt;
               &lt;-pl_res_size n&gt;
               &lt;-block_size block_size&gt; 
               &lt;-block_count block_count&gt;
               &lt;-proxy_file os_file_name bk_file_name 
                           [os_res_size pl_res_size block_size block_count]&gt;
               &lt;-libname sbt_library_name&gt;
</pre><p>The display also indicates the meaning of each argument. For example, following is the description for two optional parameters:</p><pre class="oac_no_warn" dir="ltr">Optional parameters:
  -dbname  specifies the database name which will be used by SBT
           to identify the backup file. The default is "sbtdb"
  -trace   specifies the name of a file where the Media Management 
           software will write diagnostic messages.</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89884"></a><div class="props_rev_3"><a id="GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC" name="GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC"></a><h4 id="BRADV-GUID-9396687F-2BE5-4998-9DB1-BC5F8AB50ECC" class="sect4"><span class="enumeration_section">24.3.3 </span>Using the sbttest Utility
                  </h4>
                  <div>
                     <p>Use <code class="codeph">sbttest</code> to perform a quick test of the media manager.
                     </p>
                     <div class="section">
                        <p>If <code class="codeph">sbttest</code> returns 0, then the test ran without error, which means that the media manager is correctly installed and can accept a data stream and return the same data when requested. If <code class="codeph">sbttest</code> returns a nonzero value, then either the media manager is not installed or it is not configured correctly.
                        </p>
                        <p><span class="bold">To use sbttest:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Confirm that the program is installed and included in the system path by typing <code class="codeph">sbttest</code> at the command line:</span><div><pre class="oac_no_warn" dir="ltr">% sbttest
</pre><p>If the program is operational, then you see a display of the online documentation.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Execute the program, specifying any of the arguments described in the online documentation. For example, enter the following to create test file <code class="codeph">some_file.f</code> and write the output to <code class="codeph">sbtio.log</code>:</span><div><pre class="oac_no_warn" dir="ltr">% sbttest some_file.f -trace sbtio.log
</pre><p>You can also test a backup of an existing data file. For example, this command tests data file <code class="codeph">tbs_33.f</code> of database <code class="codeph">prod</code>:
                              </p><pre class="oac_no_warn" dir="ltr">% sbttest tbs_33.f -dbname prod
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Examine the output. If the program encounters an error, then it provides messages describing the failure. For example, if the database cannot find the library, you see:</span><div><pre class="oac_no_warn" dir="ltr">libobk.so could not be loaded. Check that it is installed properly, and that
 LD_LIBRARY_PATH environment variable (or its equivalent on your platform)
 includes the directory where this file can be found. Here is some additional
 information on the cause of this error:
ld.so.1: sbttest: fatal: libobk.so: open failed: No such file or directory
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>In some cases, <code class="codeph">sbttest</code> can work but an RMAN backup does not. The reasons can be the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The user who starts <code class="codeph">sbttest</code> is not the owner of the Oracle Database processes.
                              </p>
                           </li>
                           <li>
                              <p>If the database server is not linked with the media management library or cannot load it dynamically when needed, then RMAN backups to the media manager fail, but <code class="codeph">sbttest</code> may still work.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">sbttest</code> program passes all environment parameters from the shell but RMAN does not.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV176"></a><div class="props_rev_3"><a id="GUID-772C8583-7763-48AB-B404-747188EC718A" name="GUID-772C8583-7763-48AB-B404-747188EC718A"></a><h3 id="BRADV-GUID-772C8583-7763-48AB-B404-747188EC718A" class="sect3"><span class="enumeration_section">24.4 </span>Terminating an RMAN Command
               </h3>
               <div>
                  <p>There are several ways to terminate an RMAN command in the middle of execution.</p>
                  <div class="section">
                     <p>They include the following:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The preferred method is to press Ctrl+C (or the equivalent "attention" key combination for your system) in the RMAN interface. This also terminates allocated channels, unless they are suspended in the media management code, as happens when, for example, they are waiting for a tape to be mounted.</p>
                        </li>
                        <li>
                           <p>You can end the server session corresponding to the RMAN channel by running the SQL <code class="codeph">ALTER SYSTEM KILL SESSION</code> statement as described in <a href="troubleshooting-rman-operations.html#GUID-73F87310-9DDF-4775-9049-658E0A06BADC" title="To terminate an RMAN session by using the ALTER SYSTEM statement, you need the Oracle session ID for the RMAN channel and the serial number. This information is contained in the RMAN log for messages.">Terminating the Session with ALTER SYSTEM KILL SESSION</a>.
                           </p>
                        </li>
                        <li>
                           <p>You can terminate the server session corresponding to the RMAN channel on the operating system as described in <a href="troubleshooting-rman-operations.html#GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E" title="Finding and terminating the processes that are associated with the server sessions is operating system-specific. On some platforms, the server sessions are not associated with any processes at all. See your operating system-specific documentation for more information.">Terminating the Session at the Operating System Level</a>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="BRADV89885"></a><div class="props_rev_3"><a id="GUID-73F87310-9DDF-4775-9049-658E0A06BADC" name="GUID-73F87310-9DDF-4775-9049-658E0A06BADC"></a><h4 id="BRADV-GUID-73F87310-9DDF-4775-9049-658E0A06BADC" class="sect4"><span class="enumeration_section">24.4.1 </span>Terminating the Session with ALTER SYSTEM KILL SESSION
                  </h4>
                  <div>
                     <p>To terminate an RMAN session by using the ALTER SYSTEM statement, you need the Oracle session ID for the RMAN channel and the serial number. This information is contained in the RMAN log for messages.</p>
                     <div class="section">
                        <p>Search for messages with the format shown in the following example:</p><pre class="oac_no_warn" dir="ltr">channel ch1: sid=15 devtype=SBT_TAPE
</pre><p>The <code class="codeph">sid</code> and <code class="codeph">devtype</code> are displayed for each allocated channel. The Oracle Database <code class="codeph">sid</code> is different from the operating system process ID. You can end the session using a SQL <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">KILL</code> <code class="codeph">SESSION</code> statement.
                        </p>
                        <p><code class="codeph">ALTER SYSTEM KILL SESSION</code> takes two arguments, the <code class="codeph">sid</code> printed in the RMAN message and a serial number, both of which can be obtained by querying <code class="codeph">V$SESSION</code>.
                        </p>
                        <p>For example, run the following statement, where <span class="italic"><code class="codeph">sid_in_rman_output</code></span> is the number from the RMAN message: 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT SERIAL# 
FROM   V$SESSION 
WHERE  SID=<span class="italic"><code class="codeph">sid_in_rman_output</code></span>;
</pre><p>Then, run the following statement, substituting the <span class="italic"><code class="codeph">sid_in_rman_output</code></span> and serial number obtained from the query: 
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM KILL SESSION '<span class="italic"><code class="codeph">sid_in_rman_output</code></span><span class="italic">,</span><span class="italic"><code class="codeph">serial#</code></span>';
</pre><p>This statement has no effect on the session if the session stopped in media manager code.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89886"></a><div class="props_rev_3"><a id="GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E" name="GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E"></a><h4 id="BRADV-GUID-4C499544-02C9-40AA-94DC-03261D7F2B3E" class="sect4"><span class="enumeration_section">24.4.2 </span>Terminating the Session at the Operating System Level
                  </h4>
                  <div>
                     <p>Finding and terminating the processes that are associated with the server sessions is operating system-specific. On some platforms, the server sessions are not associated with any processes at all. See your operating system-specific documentation for more information.</p>
                  </div>
               </div><a id="BRADV89887"></a><div class="props_rev_3"><a id="GUID-60B8AE45-4484-4926-811F-BBCA23CB19D2" name="GUID-60B8AE45-4484-4926-811F-BBCA23CB19D2"></a><h4 id="BRADV-GUID-60B8AE45-4484-4926-811F-BBCA23CB19D2" class="sect4"><span class="enumeration_section">24.4.3 </span>Terminating an RMAN Session That Is Not Responding in the Media Manager
                  </h4>
                  <div>
                     <p>You may sometimes need to terminate an RMAN job that is not responding in the media manager. The best way to terminate RMAN when the channel connections are not responding in the media manager is to terminate the session in the media manager. </p>
                     <p>If this action does not solve the problem, then on some platforms, such as Linux, you may be able to terminate the Oracle Database processes of the connections. (Terminating the Oracle processes may cause problems with the media manager. See your media manager documentation for details.)</p>
                     <div class="p">This section contains the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471" title="The nature of an RMAN session depends on the operating system.">Components of an RMAN Session</a></p>
                           </li>
                           <li>
                              <p><a href="troubleshooting-rman-operations.html#GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405" title="RMAN usually stops responding because a channel connection is waiting in the media manager code for a tape resource. The catalog connection and the default channel appear to suspend, because they are waiting for RMAN to tell them what to do. Polling connections seem to be in an infinite loop while polling the RPC under the control of the RMAN process.">Process Behavior During a Suspended Job</a></p>
                           </li>
                           <li><a href="troubleshooting-rman-operations.html#GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B" title="After the unresponsive channels in the media manager code are terminated, the RMAN process detects this termination and exits, removing all connections except target connections that are still operative in the media management layer.">Terminating an RMAN Session: Basic Steps</a></li>
                        </ul>
                     </div>
                  </div><a id="BRADV89888"></a><div class="props_rev_3"><a id="GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471" name="GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471"></a><h5 id="BRADV-GUID-56D3592A-B975-4DAE-A02C-6E6693C3D471" class="sect5"><span class="enumeration_section">24.4.3.1 </span>Components of an RMAN Session
                     </h5>
                     <div>
                        <p>The nature of an RMAN session depends on the operating system.</p>
                        <p>In UNIX, an RMAN session has the following processes associated with it:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <span class="italic">RMAN client process</span> itself
                              </p>
                           </li>
                           <li>
                              <p>The <span class="italic">default channel</span>, the initial connection to the target database
                              </p>
                           </li>
                           <li>
                              <p>One <span class="italic">target connection</span> to the target database corresponding to each allocated channel
                              </p>
                           </li>
                           <li>
                              <p>The <span class="italic">catalog connection </span>to the recovery catalog database, if you use a recovery catalog
                              </p>
                           </li>
                           <li>
                              <p>An <span class="italic">auxiliary connection</span> to an auxiliary instance, during <code class="codeph">DUPLICATE</code> or TSPITR operations
                              </p>
                           </li>
                           <li>
                              <p>A <span class="italic">polling connection</span> to the target database, used for monitoring RMAN command execution on the various allocated channels. By default, RMAN makes one polling connection. RMAN makes additional polling connections if you use different connect strings in the <code class="codeph">ALLOCATE CHANNEL</code> or <code class="codeph">CONFIGURE CHANNEL</code> commands. One polling connection exists for each distinct connect string used in the <code class="codeph">ALLOCATE CHANNEL</code> or <code class="codeph">CONFIGURE CHANNEL</code> command.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV89889"></a><div class="props_rev_3"><a id="GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405" name="GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405"></a><h5 id="BRADV-GUID-4C2B84BF-D7FA-4137-B31C-8D02E5100405" class="sect5"><span class="enumeration_section">24.4.3.2 </span>Process Behavior During a Suspended Job
                     </h5>
                     <div>
                        <p>RMAN usually stops responding because a channel connection is waiting in the media manager code for a tape resource. The catalog connection and the default channel appear to suspend, because they are waiting for RMAN to tell them what to do. Polling connections seem to be in an infinite loop while polling the RPC under the control of the RMAN process.</p>
                        <p>If you terminate the RMAN process itself, then you also terminate the catalog connection, the auxiliary connection, the default channel, and the polling connections. If target and auxiliary connections are suspended but not while executing media manager code, they also terminate. If either the target connection or any of the auxiliary connections are executing in the media management layer, then they do not terminate until the processes are manually terminated at the operating system level.</p>
                        <p>Not all media managers can detect the termination of the Oracle Database process. Those which cannot may keep resources busy or continue processing. Consult your media manager documentation for details.</p>
                        <p>Terminating the catalog connection does not cause the RMAN process to terminate because RMAN is not performing catalog operations while the backup or restore is in progress. Removing default channel and polling connections causes the RMAN process to detect that a channel is no longer present and then to exit. In this case, the connections to the unresponsive channels remain active as described previously.</p>
                     </div>
                  </div><a id="BRADV89890"></a><div class="props_rev_3"><a id="GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B" name="GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B"></a><h5 id="BRADV-GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B" class="sect5"><span class="enumeration_section">24.4.3.3 </span>Terminating an RMAN Session: Basic Steps
                     </h5>
                     <div>
                        <p>After the unresponsive channels in the media manager code are terminated, the RMAN process detects this termination and exits, removing all connections except target connections that are still operative in the media management layer.</p>
                        <div class="section">
                           <p>The warning about the media manager resources still applies in this case.</p>
                           <p><span class="bold">To terminate an Oracle Database process that is not responding in the media manager:</span></p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Query <code class="codeph">V$SESSION</code> and <code class="codeph">V$SESSION_WAIT</code>, as described in <span class="q">"<a href="troubleshooting-rman-operations.html#GUID-AD353573-E722-4D76-9361-9C0CA4C29FEB" title="When LIST, REPORT, and SHOW do not provide all the information that you need for RMAN operations, some V$ views can provide useful details.">Using V$ Views for RMAN Troubleshooting</a>"</span>. For example, execute the following query:</span><div><pre class="oac_no_warn" dir="ltr">COLUMN EVENT FORMAT a17
COLUMN SECONDS_IN_WAIT FORMAT 999
COLUMN STATE FORMAT a10
COLUMN CLIENT_INFO FORMAT a30

SELECT p.SPID, s.EVENT, s.SECONDS_IN_WAIT AS SEC_WAIT, 
       sw.STATE, s.CLIENT_INFO
FROM   V$SESSION_WAIT sw, V$SESSION s, V$PROCESS p
WHERE  sw.EVENT LIKE '%MML%'
AND    s.SID=sw.SID
AND    s.PADDR=p.ADDR;
</pre><p>Examine the SQL output to determine which SBT functions are waiting. For example, the output may be as follows:</p><pre class="oac_no_warn" dir="ltr">SPID EVENT             SEC_WAIT   STATE      CLIENT_INFO
---- -----------------  ---------- ---------- -----------------------------
8642 Backup:MML write   600        WAITING    rman channel=ORA_SBT_TAPE_1
8374 Backup:MML write   600        WAITING    rman channel=ORA_SBT_TAPE_2
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Using operating system-level tools appropriate to your platform, end the unresponsive sessions. For example, on Linux execute a <code class="codeph">kill</code> <code class="codeph">-9</code> command:</span><div><pre class="oac_no_warn" dir="ltr">% kill -9 8642 8374
</pre><p>Some platforms include a command-line utility called <code class="codeph">orakill</code> that enables you to terminate a specific thread. From a command prompt, run the following command, where <span class="italic"><code class="codeph">sid</code></span> identifies the database instance to target, and the <span class="italic"><code class="codeph">thread_id</code></span> is the <code class="codeph">SPID</code> value from the query in Step 1:
                                 </p><pre class="oac_no_warn" dir="ltr">orakill <span class="italic">sid</span> <span class="italic">thread_id</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Check that the media manager also clears its processes. If any remain, the next backup or restore operation may freeze again, due to the previous problems in the backup or restore operation. In some media managers, the only solution is to shut down and restart the media manager. If the documentation from the media manager does not provide the needed information, contact technical support for the media manager.</span><div>
                                 <div class="infoboxnotealso" id="GUID-8DE355DD-8001-482D-8453-AEF64BA72F3B__GUID-779D91FE-19C1-4007-9A50-04351F833C75">
                                    <p class="notep1">See Also:</p>
                                    <p>Your operating system-specific documentation for the relevant commands</p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04996.embedded-SQL.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Embedded SQL</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96467-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="advanced-topics.html" title="Previous" type="text/html">
      <link rel="next" href="embedded-PL-SQL.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="advanced-topics.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="embedded-PL-SQL.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="introduction-and-concepts.html" property="item" typeof="WebPage"><span property="name"> Introduction and Concepts </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Embedded SQL</li>
            </ol>
            <a id="GUID-C671CABF-202A-4503-A16B-DC78D3F1AB13" name="GUID-C671CABF-202A-4503-A16B-DC78D3F1AB13"></a><a id="LNPCC3339"></a>
            
            <h2 id="LNPCC-GUID-C671CABF-202A-4503-A16B-DC78D3F1AB13" class="sect2"><span class="enumeration_chapter">6 </span> Embedded SQL
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter helps you to understand and apply the basic techniques of embedded SQL programming. This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="embedded-SQL.html#GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2">Host Variables </a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C">Indicator Variables </a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-431532CF-1652-4EB6-AD2A-7E695744FADE">The Basic SQL Statements </a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D">The DML Returning Clause</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8">Cursors </a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829">Scrollable Cursors</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD">Optimizer Hints </a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA">Fix Execution Plan</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6">The CURRENT OF Clause </a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD">The Cursor Statements </a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED">A Complete Example Using Non-Scrollable Cursor</a></p>
                  </li>
                  <li>
                     <p><a href="embedded-SQL.html#GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560">A Complete Example Using Scrollable Cursor</a> 
                     </p>
                  </li>
               </ul>
            </div><a id="LNPCC3340"></a><div class="props_rev_3"><a id="GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2" name="GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2"></a><h3 id="LNPCC-GUID-71AF7FEC-9236-4D73-BD1D-BFA8B4EA63C2" class="sect3"><span class="enumeration_section">6.1 </span>Host Variables 
               </h3>
               <div>
                  <p>Oracle uses host variables to pass data and status information to your program; your program uses host variables to pass data to Oracle.<a id="d30526e83" class="indexterm-anchor"></a> 
                  </p>
               </div><a id="LNPCC3341"></a><div class="props_rev_3"><a id="GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29" name="GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29"></a><h4 id="LNPCC-GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29" class="sect4"><span class="enumeration_section">6.1.1 </span>Output versus Input Host Variables 
                  </h4>
                  <div>
                     <p>Depending on how they are used, host variables are called output or input host variables.<a id="d30526e99" class="indexterm-anchor"></a><a id="d30526e103" class="indexterm-anchor"></a> 
                     </p>
                     <p>Host variables in the INTO clause of a SELECT or FETCH statement are called <span class="italic">output</span> host variables because they hold column values output by Oracle. Oracle assigns the column values to corresponding output host variables in the INTO clause.<a id="d30526e111" class="indexterm-anchor"></a><a id="d30526e115" class="indexterm-anchor"></a><a id="d30526e119" class="indexterm-anchor"></a> 
                     </p>
                     <p>All other host variables in a SQL statement are called <span class="italic">input</span> host variables because your program inputs their values to Oracle. For example, you use input host variables in the VALUES clause of an INSERT statement and in the SET clause of an UPDATE statement. They are also used in the WHERE, HAVING, and FOR clauses. Input host variables can appear in a SQL statement wherever a value or expression is allowed.<a id="d30526e129" class="indexterm-anchor"></a><a id="d30526e133" class="indexterm-anchor"></a><a id="d30526e137" class="indexterm-anchor"></a> 
                     </p>
                     <div class="infoboxnote" id="GUID-F292197E-ED6D-48E6-80E0-7E7161BE5E29__GUID-D9FEB047-E376-41FB-98AE-94C48AF75F02">
                        <p class="notep1">Note:</p>
                        <p>In an ORDER BY clause, you <span class="italic">can</span> use a host variable, but it is treated as a constant or literal, and hence the contents of the host variable have no effect. For example, the SQL statement
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename, empno INTO :name,:number FROM emp ORDER BY :ord;
</pre><p>appears to contain an input host variable <span class="italic">:ord</span>. However, the host variable in this case is treated as a constant, and regardless of the value of <span class="italic">:ord</span>, no ordering is done.
                        </p>
                     </div>
                     <p>You cannot use input host variables to supply SQL keywords or the names of database objects. Thus, you cannot use input host variables in data definition statements such as ALTER, CREATE, and DROP. In the following example, the DROP TABLE statement is <span class="italic">invalid</span>:<a id="d30526e163" class="indexterm-anchor"></a><a id="d30526e167" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">char table_name[30]; 
 
printf("Table name? "); 
gets(table_name); 
 
EXEC SQL DROP TABLE :table_name;  -- host variable not allowed 
</pre><p>If you need to change database object names at runtime, use dynamic SQL. </p>
                     <p>Before Oracle executes a SQL statement containing input host variables, your program must assign values to them. An example follows:<a id="d30526e178" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">int     emp_number; 
char    temp[20];
VARCHAR emp_name[20]; 

/* get values for input host variables */ 
printf("Employee number? "); 
gets(temp);
emp_number = atoi(temp);
printf("Employee name? "); 
gets(emp_name.arr); 
emp_name.len = strlen(emp_name.arr); 
 
EXEC SQL INSERT INTO EMP (EMPNO, ENAME) 
    VALUES (:emp_number, :emp_name); 
</pre><p>Notice that the input host variables in the VALUES clause of the INSERT statement are prefixed with colons. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="Oracle-dynamic-SQL.html#GUID-3B9E253A-F03D-431D-A77E-84C02C43F494">Oracle Dynamic SQL</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNPCC3343"></a><a id="LNPCC3344"></a><a id="LNPCC3342"></a><div class="props_rev_3"><a id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C" name="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C"></a><h3 id="LNPCC-GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C" class="sect3"><span class="enumeration_section">6.2 </span>Indicator Variables 
               </h3>
               <div>
                  <p>You can associate any host variable with an optional indicator variable. Each time the host variable is used in a SQL statement, a result code is stored in its associated indicator variable. Thus, indicator variables let you monitor host variables.<a id="d30526e209" class="indexterm-anchor"></a><a id="d30526e213" class="indexterm-anchor"></a><a id="d30526e217" class="indexterm-anchor"></a><a id="d30526e221" class="indexterm-anchor"></a> 
                  </p>
                  <div class="infoboxnote" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-2BA1EC06-94C1-4EB9-AA75-B3158A1C473D">
                     <p class="notep1">Note:</p>
                     <p>You cannot use multiple indicator variables with a single host variable within PL/SQL blocks. Doing so results in a "not all variables bound" error.</p>
                  </div>
                  <p>You use indicator variables in the VALUES or SET clauses to assign NULLs to input host variables. Use indicator variables in the INTO clause to detect NULLs or truncated values in output host variables.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-FA5E61C6-5C4B-4E1D-8ECE-290AF3ED8F0F">On Input</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The values your program can assign to an indicator variable have the following meanings:</p>
                     <div class="tblformal" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-EC9F1503-AFEC-46E0-9500-33EF29B17CE3">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Variables" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d30526e245">Variable</th>
                                 <th align="left" valign="bottom" width="71%" id="d30526e248">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e253" headers="d30526e245 ">
                                    <p>-1</p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e253 d30526e248 ">
                                    <p>Oracle will assign a NULL to the column, ignoring the value of the host variable.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e260" headers="d30526e245 ">
                                    <p>&gt;=0 </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e260 d30526e248 ">
                                    <p>Oracle will assign the value of the host variable to the column. </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-A4ECAC5A-C258-4678-80FA-2DF8A151D754">On Output</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The values Oracle can assign to an indicator variable have the following meanings:</p>
                     <div class="tblformal" id="GUID-22C65C80-42A1-4C8B-B883-19EFDF7AA31C__GUID-498465C5-100D-4E77-B258-4D650A0EFADD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="variables" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d30526e280">Variable</th>
                                 <th align="left" valign="bottom" width="71%" id="d30526e284">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e289" headers="d30526e280 ">
                                    <p>-1 </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e289 d30526e284 ">
                                    <p>The column value is NULL, so the value of the host variable is indeterminate. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e296" headers="d30526e280 ">
                                    <p>  0 </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e296 d30526e284 ">
                                    <p>Oracle assigned an intact column value to the host variable. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e303" headers="d30526e280 ">
                                    <p>&gt;0 </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e303 d30526e284 ">
                                    <p>Oracle assigned a truncated column value to the host variable. The integer returned by the indicator variable is the original length of the column value, and SQLCODE in SQLCA is set to zero. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d30526e310" headers="d30526e280 ">
                                    <p>-2 </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d30526e310 d30526e284 ">
                                    <p>Oracle assigned a truncated column variable to the host variable, but the original column value could not be determined (a LONG column, for example).</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Remember, an indicator variable must be defined as a 2-byte integer and, in SQL statements, must be prefixed with a colon and must immediately follow its host variable.<a id="d30526e318" class="indexterm-anchor"></a><a id="d30526e322" class="indexterm-anchor"></a><a id="d30526e326" class="indexterm-anchor"></a><a id="d30526e330" class="indexterm-anchor"></a><a id="d30526e334" class="indexterm-anchor"></a> 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPCC3345"></a><div class="props_rev_3"><a id="GUID-C19A3CDD-92FE-4F00-AEBB-6F14C477BEB6" name="GUID-C19A3CDD-92FE-4F00-AEBB-6F14C477BEB6"></a><h4 id="LNPCC-GUID-C19A3CDD-92FE-4F00-AEBB-6F14C477BEB6" class="sect4"><span class="enumeration_section">6.2.1 </span>Insert NULLs 
                  </h4>
                  <div>
                     <p>You can use indicator variables to INSERT NULLs. Before the INSERT, for each column you want to be NULL, set the appropriate indicator variable to -1, as shown in the following example:<a id="d30526e350" class="indexterm-anchor"></a><a id="d30526e354" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">set ind_comm = -1; 
 
EXEC SQL INSERT INTO emp (empno, comm) 
     VALUES (:emp_number, :commission:ind_comm); 
</pre><p>The indicator variable <span class="italic">ind_comm</span> specifies that a NULL is to be stored in the COMM column. 
                     </p>
                     <p>You can hard code the NULL instead, as follows:<a id="d30526e368" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp (empno, comm) 
     VALUES (:emp_number, NULL); 
</pre><p>While this is less flexible, it might be more readable. Typically, you insert NULLs conditionally, as the next example shows: </p><pre class="oac_no_warn" dir="ltr">printf("Enter employee number or 0 if not available: "); 
scanf("%d", &amp;emp_number); 
 
if (emp_number == 0) 
    ind_empnum = -1; 
else 
    ind_empnum = 0; 
 
EXEC SQL INSERT INTO emp (empno, sal) 
     VALUES (:emp_number:ind_empnum, :salary); </pre></div>
               </div><a id="LNPCC3346"></a><div class="props_rev_3"><a id="GUID-EAF89001-C305-40CB-AB3F-B2401E41F890" name="GUID-EAF89001-C305-40CB-AB3F-B2401E41F890"></a><h4 id="LNPCC-GUID-EAF89001-C305-40CB-AB3F-B2401E41F890" class="sect4"><span class="enumeration_section">6.2.2 </span>Returned NULLs 
                  </h4>
                  <div>
                     <p>You can also use indicator variables to manipulate returned NULLs, as the following example shows:<a id="d30526e390" class="indexterm-anchor"></a><a id="d30526e394" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename, sal, comm 
    INTO :emp_name, :salary, :commission:ind_comm 
    FROM emp 
    WHERE empno = :emp_number; 
 if (ind_comm == -1) 
    pay = salary;   /* commission is NULL; ignore it */ 
else 
    pay = salary + commission; </pre></div>
               </div><a id="LNPCC3347"></a><div class="props_rev_3"><a id="GUID-1560EFD0-EF58-45B1-AF97-4110307D7501" name="GUID-1560EFD0-EF58-45B1-AF97-4110307D7501"></a><h4 id="LNPCC-GUID-1560EFD0-EF58-45B1-AF97-4110307D7501" class="sect4"><span class="enumeration_section">6.2.3 </span>Fetch NULLs 
                  </h4>
                  <div>
                     <p>When DBMS=V7 or DBMS=V8, if you SELECT or FETCH NULLs into a host variable not associated with an indicator variable, Oracle issues the following error message: </p><pre class="oac_no_warn" dir="ltr">ORA-01405: fetched column value is NULL 
</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="precompiler-options.html#GUID-D85972A8-FA08-4BBC-B543-3F0BADBA0236">DBMS</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3348"></a><div class="props_rev_3"><a id="GUID-0B9CE29C-E139-450D-9973-7A2B36B42928" name="GUID-0B9CE29C-E139-450D-9973-7A2B36B42928"></a><h4 id="LNPCC-GUID-0B9CE29C-E139-450D-9973-7A2B36B42928" class="sect4"><span class="enumeration_section">6.2.4 </span>Test for NULLs 
                  </h4>
                  <div>
                     <p>You can use indicator variables in the WHERE clause to test for NULLs, as the following example shows: </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename, sal 
INTO :emp_name, :salary 
FROM emp 
WHERE :commission INDICATOR :ind_comm IS NULL ... 
</pre><p>However, you cannot use a relational operator to compare NULLs with each other or with other values. For example, the following SELECT statement fails if the COMM column contains one or more NULLs:<a id="d30526e439" class="indexterm-anchor"></a><a id="d30526e443" class="indexterm-anchor"></a><a id="d30526e447" class="indexterm-anchor"></a><a id="d30526e451" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename, sal 
INTO :emp_name, :salary 
FROM emp 
WHERE comm = :commission; 
</pre><p>The next example shows how to compare values for equality when some of them might be NULLs: </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename, sal 
     INTO :emp_name, :salary 
     FROM emp 
     WHERE (comm = :commission) OR ((comm IS NULL) AND 
          (:commission INDICATOR :ind_comm IS NULL)); </pre></div>
               </div><a id="LNPCC3349"></a><div class="props_rev_3"><a id="GUID-E43563FD-F158-4A46-8769-DF2214A08E70" name="GUID-E43563FD-F158-4A46-8769-DF2214A08E70"></a><h4 id="LNPCC-GUID-E43563FD-F158-4A46-8769-DF2214A08E70" class="sect4"><span class="enumeration_section">6.2.5 </span>Truncated Values
                  </h4>
                  <div>
                     <p>When DBMS=V7 or V8, if you SELECT or FETCH a truncated column value into a host variable not associated with an indicator variable, a warning is generated instead of an error.<a id="d30526e473" class="indexterm-anchor"></a></p>
                  </div>
               </div>
            </div><a id="LNPCC3350"></a><div class="props_rev_3"><a id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE" name="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE"></a><h3 id="LNPCC-GUID-431532CF-1652-4EB6-AD2A-7E695744FADE" class="sect3"><span class="enumeration_section">6.3 </span>The Basic SQL Statements 
               </h3>
               <div>
                  <p>Executable SQL statements let you query, manipulate, and control Oracle data and create, define, and maintain Oracle objects such as tables, views, and indexes. This chapter focuses on the statements that query and manipulate data.<a id="d30526e489" class="indexterm-anchor"></a> 
                  </p>
                  <p>When executing a data manipulation statement such as INSERT, UPDATE, or DELETE, your only concern, besides setting the values of any input host variables, is whether the statement succeeds or fails. To find out, you simply check the SQLCA. (Executing any SQL statement sets the SQLCA variables.) You can check in the following two ways:<a id="d30526e496" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Implicit checking with the WHENEVER statement </p>
                     </li>
                     <li>
                        <p>Explicit checking of SQLCA variables </p>
                     </li>
                  </ul>
                  <p>When executing a SELECT statement (query), however, you must also deal with the rows of data it returns. Queries can be classified as follows:<a id="d30526e510" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Queries that return no rows (that is, merely check for existence) </p>
                     </li>
                     <li>
                        <p>Queries that return only one row </p>
                     </li>
                     <li>
                        <p>Queries that return more than one row </p>
                     </li>
                  </ul>
                  <p>Queries that return more than one row require explicitly declared cursors or the use of <span class="italic">host arrays</span> (host variables declared as arrays). <a id="d30526e530" class="indexterm-anchor"></a> <a id="d30526e535" class="indexterm-anchor"></a> 
                  </p>
                  <div class="infoboxnote" id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE__GUID-1C5997BA-6EDD-45DA-BCD5-2509DB898D3A">
                     <p class="notep1">Note:</p>
                     <p>Host arrays let you process "batches" of rows.</p>
                  </div>
                  <p>This chapter assumes the use of scalar host variables. </p>
                  <p>The following embedded SQL statements let you query and manipulate Oracle data:</p>
                  <div class="tblformal" id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE__GUID-27C40AE6-5BE6-4CAE-ADF1-DA5BD62841D4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Embedded SQL statements" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d30526e555">Embedded SQL Statements</th>
                              <th align="left" valign="bottom" width="71%" id="d30526e558">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e563" headers="d30526e555 ">
                                 <p>SELECT</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e563 d30526e558 ">
                                 <p>Returns rows from one or more tables. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e570" headers="d30526e555 ">
                                 <p>INSERT</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e570 d30526e558 ">
                                 <p>Adds new rows to a table. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e577" headers="d30526e555 ">
                                 <p>UPDATE</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e577 d30526e558 ">
                                 <p>Modifies rows in a table. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e584" headers="d30526e555 ">
                                 <p>DELETE</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e584 d30526e558 ">
                                 <p>Removes unwanted rows from a table. </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>The following embedded SQL statements let you define and manipulate an explicit cursor:</p>
                  <div class="tblformal" id="GUID-431532CF-1652-4EB6-AD2A-7E695744FADE__GUID-427C3849-3DED-42EA-A988-61E22AFACDE2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Embedded SQL statements" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d30526e601">Embedded SQL Statements</th>
                              <th align="left" valign="bottom" width="71%" id="d30526e604">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e609" headers="d30526e601 ">
                                 <p>DECLARE</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e609 d30526e604 ">
                                 <p>Names the cursor and associates it with a query. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e616" headers="d30526e601 ">
                                 <p>OPEN</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e616 d30526e604 ">
                                 <p>Executes the query and identifies the active set.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e623" headers="d30526e601 ">
                                 <p>FETCH</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e623 d30526e604 ">
                                 <p>Advances the cursor and retrieves each row in the active set, one by one. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d30526e630" headers="d30526e601 ">
                                 <p>CLOSE</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d30526e630 d30526e604 ">
                                 <p>Disables the cursor (the active set becomes undefined). </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a id="d30526e637" class="indexterm-anchor"></a>The following sections, you first learn how to code INSERT, UPDATE, DELETE, and single-row SELECT statements. Then, you progress to multirow SELECT statements.
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="handling-run-time-errors.html#GUID-1ADFD2EB-B332-4362-9A85-F56FEDD4F72A">Handling Runtime Errors</a></li>
                        <li><a href="host-arrays.html#GUID-6B57FBAE-0303-41B9-9056-5C20384442B7">Host Arrays</a></li>
                        <li><a href="embedded-SQL-statements-and-directives.html#GUID-0ABBFB3E-F2BA-4906-8DEF-53EA78D758B5">Embedded SQL Statements and Directives</a></li>
                        <li><a href="../sqlrf/index.html" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="LNPCC3351"></a><div class="props_rev_3"><a id="GUID-F5BFD130-7C06-447A-965C-D0D76A9EDC21" name="GUID-F5BFD130-7C06-447A-965C-D0D76A9EDC21"></a><h4 id="LNPCC-GUID-F5BFD130-7C06-447A-965C-D0D76A9EDC21" class="sect4"><span class="enumeration_section">6.3.1 </span>The SELECT Statement 
                  </h4>
                  <div>
                     <p>Querying the database is a common SQL operation. To issue a query you use the SELECT statement. In the following example, you query the EMP table:<a id="d30526e679" class="indexterm-anchor"></a><a id="d30526e683" class="indexterm-anchor"></a><a id="d30526e687" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT ename, job, sal + 2000 
INTO :emp_name, :job_title, :salary 
FROM emp 
WHERE empno = :emp_number; 
</pre><p>The column names and expressions following the keyword SELECT make up the <span class="italic">select list</span>. The select list in our example contains three items. Under the conditions specified in the WHERE clause (and following clauses, if present), Oracle returns column values to the host variables in the INTO clause.<a id="d30526e697" class="indexterm-anchor"></a><a id="d30526e701" class="indexterm-anchor"></a><a id="d30526e705" class="indexterm-anchor"></a><a id="d30526e709" class="indexterm-anchor"></a><a id="d30526e713" class="indexterm-anchor"></a> 
                     </p>
                     <p>The number of items in the select list should equal the number of host variables in the INTO clause, so there is a place to store every returned value.<a id="d30526e720" class="indexterm-anchor"></a> 
                     </p>
                     <p>In the simplest case, when a query returns one row, its form is that shown in the last example. However, if a query can return more than one row, you must FETCH the rows using a cursor or SELECT them into a host-variable array. Cursors and the FETCH statement are discussed later in this chapter.</p>
                     <p>If a query is written to return only one row but might actually return several rows, the result of the SELECT is indeterminate. Whether this causes an error depends on how you specify the SELECT_ERROR option. The default value, YES, generates an error if more than one row is returned.<a id="d30526e729" class="indexterm-anchor"></a><a id="d30526e733" class="indexterm-anchor"></a> 
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-PL-SQL.html#GUID-4C56DC0E-B857-405D-B88E-93B19DD9FCF2">Host Arrays</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="LNPCC3352"></a><div class="props_rev_3"><a id="GUID-0E4E7CD9-6451-4C24-85E4-B7CF5E5AD592" name="GUID-0E4E7CD9-6451-4C24-85E4-B7CF5E5AD592"></a><h5 id="LNPCC-GUID-0E4E7CD9-6451-4C24-85E4-B7CF5E5AD592" class="sect5"><span class="enumeration_section">6.3.1.1 </span>Available Clauses 
                     </h5>
                     <div>
                        <p>You can use all of the following standard SQL clauses in your </p>
                        <p>SELECT statements:<a id="d30526e760" class="indexterm-anchor"></a> 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>INTO </p>
                           </li>
                           <li>
                              <p>FROM </p>
                           </li>
                           <li>
                              <p>WHERE </p>
                           </li>
                           <li>
                              <p>CONNECT BY </p>
                           </li>
                           <li>
                              <p>START WITH </p>
                           </li>
                           <li>
                              <p>GROUP BY </p>
                           </li>
                           <li>
                              <p>HAVING </p>
                           </li>
                           <li>
                              <p>ORDER BY </p>
                           </li>
                           <li>
                              <p>FOR UPDATE OF </p>
                           </li>
                        </ul>
                        <p>Except for the INTO clause, the text of embedded SELECT statements can be executed and tested interactively using SQL*Plus. In SQL*Plus, you use substitution variables or constants instead of input host variables.<a id="d30526e795" class="indexterm-anchor"></a><a id="d30526e799" class="indexterm-anchor"></a> 
                        </p>
                     </div>
                  </div>
               </div><a id="LNPCC3353"></a><div class="props_rev_3"><a id="GUID-5EED62A3-6FEE-4B0C-A6B5-B65D9206C51B" name="GUID-5EED62A3-6FEE-4B0C-A6B5-B65D9206C51B"></a><h4 id="LNPCC-GUID-5EED62A3-6FEE-4B0C-A6B5-B65D9206C51B" class="sect4"><span class="enumeration_section">6.3.2 </span>The INSERT Statement 
                  </h4>
                  <div>
                     <p>Use the INSERT statement to add rows to a table or view. In the following example, you add a row to the EMP table:<a id="d30526e816" class="indexterm-anchor"></a><a id="d30526e820" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp (empno, ename, sal, deptno) 
VALUES (:emp_number, :emp_name, :salary, :dept_number); 
</pre><p>Each column you specify in the <span class="italic">column list</span> must belong to the table named in the INTO clause. The VALUES clause specifies the row of values to be inserted. The values can be those of constants, host variables, SQL expressions, SQL functions such as USER and SYSDATE, or user-defined PL/SQL functions. 
                     </p>
                     <p>The number of values in the VALUES clause must equal the number of names in the column list. However, you can omit the column list if the VALUES clause contains a value for each column in the table, in the order that they are defined in the table.<a id="d30526e834" class="indexterm-anchor"></a><a id="d30526e838" class="indexterm-anchor"></a><a id="d30526e842" class="indexterm-anchor"></a><a id="d30526e846" class="indexterm-anchor"></a><a id="d30526e850" class="indexterm-anchor"></a><a id="d30526e854" class="indexterm-anchor"></a><a id="d30526e858" class="indexterm-anchor"></a><a id="d30526e862" class="indexterm-anchor"></a></p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-SQL-statements-and-directives.html#GUID-EEF8462A-C5BE-46C8-AB35-700C748AAD96">INSERT (Executable Embedded SQL)</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="LNPCC3354"></a><div class="props_rev_3"><a id="GUID-6C61194D-E824-47F8-B246-30C9045B815F" name="GUID-6C61194D-E824-47F8-B246-30C9045B815F"></a><h5 id="LNPCC-GUID-6C61194D-E824-47F8-B246-30C9045B815F" class="sect5"><span class="enumeration_section">6.3.2.1 </span>About Using Subqueries 
                     </h5>
                     <div>
                        <p>A <span class="italic">subquery</span> is a nested SELECT statement. Subqueries let you conduct multipart searches. They can be used to<a id="d30526e889" class="indexterm-anchor"></a><a id="d30526e893" class="indexterm-anchor"></a> 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Supply values for comparison in the WHERE, HAVING, and START WITH clauses of SELECT, UPDATE, and DELETE statements </p>
                           </li>
                           <li>
                              <p>Define the set of rows to be inserted by a CREATE TABLE or INSERT statement </p>
                           </li>
                           <li>
                              <p>Define values for the SET clause of an UPDATE statement </p>
                           </li>
                        </ul>
                        <p>The following example uses a subquery in an INSERT statement to copy rows from one table to another:<a id="d30526e910" class="indexterm-anchor"></a><a id="d30526e914" class="indexterm-anchor"></a><a id="d30526e918" class="indexterm-anchor"></a> 
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp2 (empno, ename, sal, deptno) 
SELECT empno, ename, sal, deptno FROM emp <a id="d30526e925" class="indexterm-anchor"></a><a id="d30526e929" class="indexterm-anchor"></a> 
WHERE job= :job_title ;
</pre><p>This INSERT statement uses the subquery to obtain intermediate results.</p>
                     </div>
                  </div>
               </div><a id="LNPCC3355"></a><div class="props_rev_3"><a id="GUID-AA9A2949-19FA-44DD-865F-26B8371C35BF" name="GUID-AA9A2949-19FA-44DD-865F-26B8371C35BF"></a><h4 id="LNPCC-GUID-AA9A2949-19FA-44DD-865F-26B8371C35BF" class="sect4"><span class="enumeration_section">6.3.3 </span>The UPDATE Statement
                  </h4>
                  <div>
                     <p>Use the UPDATE statement to change the values of specified columns in a table or view. In the following example, we update the <code class="codeph">SAL</code> and <code class="codeph">COMM</code> columns in the<code class="codeph"> EMP</code> table:
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL UPDATE emp 
SET sal = :salary, comm = :commission 
WHERE empno = :emp_number;
</pre><p>Use the optional WHERE clause to specify the conditions under which rows are updated. <a id="d30526e960" class="indexterm-anchor"></a><a id="d30526e964" class="indexterm-anchor"></a> 
                     </p>
                     <p>The SET clause lists the names of one or more columns for which you must provide values. You can use a subquery to provide the values, as the following example shows:<a id="d30526e971" class="indexterm-anchor"></a><a id="d30526e975" class="indexterm-anchor"></a><a id="d30526e979" class="indexterm-anchor"></a><a id="d30526e983" class="indexterm-anchor"></a><a id="d30526e987" class="indexterm-anchor"></a><a id="d30526e991" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL UPDATE emp 
SET sal = (SELECT AVG(sal)*1.1 FROM emp WHERE deptno = 20) 
WHERE empno = :emp_number; 
</pre><p><a id="d30526e999" class="indexterm-anchor"></a>The UPDATE statement has an optional <code class="codeph">returning clause</code>, like the INSERT and DELETE statements. It is only allowed after the optional WHERE condition.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-SQL.html#GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF">The WHERE Clause</a></li>
                           <li><a href="embedded-SQL-statements-and-directives.html#GUID-1B941180-02B8-483F-B2F9-4A7563494922">UPDATE (Executable Embedded SQL)</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3356"></a><div class="props_rev_3"><a id="GUID-FF282C49-097A-468E-81B8-64D1B4C78D30" name="GUID-FF282C49-097A-468E-81B8-64D1B4C78D30"></a><h4 id="LNPCC-GUID-FF282C49-097A-468E-81B8-64D1B4C78D30" class="sect4"><span class="enumeration_section">6.3.4 </span>The DELETE Statement 
                  </h4>
                  <div>
                     <p>Use the DELETE statement to remove rows from a table or view. In the following example, you delete all employees in a given department from the EMP table:<a id="d30526e1033" class="indexterm-anchor"></a><a id="d30526e1037" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DELETE FROM emp 
WHERE deptno = :dept_number ; 
</pre><p>We have used the optional WHERE clause to specify the condition under which rows are deleted. <a id="d30526e1046" class="indexterm-anchor"></a><a id="d30526e1050" class="indexterm-anchor"></a>  
                     </p>
                     <p><a id="d30526e1056" class="indexterm-anchor"></a>The <code class="codeph">returning clause</code> option can be used in DELETE statements also. It is allowed after the optional WHERE condition. In the earlier example, it is good practice to record the field values of each employee that is deleted. 
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="embedded-SQL-statements-and-directives.html#GUID-3CBB8492-128D-4234-8172-FAB5B599A67E">DELETE (Executable Embedded SQL)</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3357"></a><div class="props_rev_3"><a id="GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF" name="GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF"></a><h4 id="LNPCC-GUID-F9163C22-9785-42F2-B3B5-24C2D90976DF" class="sect4"><span class="enumeration_section">6.3.5 </span>The WHERE Clause 
                  </h4>
                  <div>
                     <p>Use the WHERE clause to SELECT, UPDATE, or DELETE only those rows in a table or view that meet your search condition. The WHERE-clause <span class="italic">search condition</span> is a Boolean expression, which can include scalar host variables, host arrays (not in SELECT statements), subqueries, and user-defined stored functions.<a id="d30526e1088" class="indexterm-anchor"></a><a id="d30526e1092" class="indexterm-anchor"></a><a id="d30526e1096" class="indexterm-anchor"></a><a id="d30526e1100" class="indexterm-anchor"></a><a id="d30526e1104" class="indexterm-anchor"></a> 
                     </p>
                     <p>If you omit the WHERE clause, all rows in the table or view are processed. If you omit the WHERE clause in an UPDATE or DELETE statement, Oracle sets <code class="codeph">sqlwarn[4]</code> in the SQLCA to 'W' to warn that all rows were processed.<a id="d30526e1114" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div>
            </div><a id="LNPCC3358"></a><div class="props_rev_3"><a id="GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D" name="GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D"></a><h3 id="LNPCC-GUID-A44FA873-61D5-42AF-A93E-1CA2041D9A3D" class="sect3"><span class="enumeration_section">6.4 </span>The DML Returning Clause
               </h3>
               <div>
                  <p>The INSERT, UPDATE, and DELETE statements can have an optional <a id="d30526e1136" class="indexterm-anchor"></a><span class="italic">DML returning clause</span> which returns column value expressions <span class="italic">expr</span>, into host variables<span class="italic"> hv</span>, with host indicator variables <span class="italic">iv. </span>The DML returning clause looks like this:
                  </p><pre class="oac_no_warn" dir="ltr">{RETURNING | RETURN} {expr [,expr]}
    INTO {:hv [[INDICATOR]:iv] [, :hv [[INDICATOR]:iv]]}
</pre><p>The number of expressions must equal the number of host variables. This clause eliminates the need for selecting the rows after an INSERT or UPDATE, and before a DELETE when you need to record that information for your application. The <code class="codeph">returning clause</code> eliminates inefficient network round trips, extra processing, and server memory. 
                  </p>
                  <p>Oracle Dynamic SQL Method 4 does not support the DML returning clause; but ANSI Dynamic SQL Method 4 does. Support for DML statements with a DML returning clause that affects more than a single row is not supported by ANSI DYNAMIC SQL.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="ANSI-dynamic-SQL.html#GUID-BF450DA3-B05F-403E-B5DF-C967A20524BF">ANSI Dynamic SQL</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC3359"></a><div class="props_rev_3"><a id="GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8" name="GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8"></a><h3 id="LNPCC-GUID-E53CD1B7-9E49-44E0-89DA-9A567E7CD7A8" class="sect3"><span class="enumeration_section">6.5 </span>Cursors 
               </h3>
               <div>
                  <p>When a query returns multiple rows, you can explicitly define a cursor to<a id="d30526e1181" class="indexterm-anchor"></a><a id="d30526e1185" class="indexterm-anchor"></a></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Process beyond the first row returned by the query </p>
                     </li>
                     <li>
                        <p>Keep track of which row is currently being processed </p>
                     </li>
                  </ul>
                  <p>Or, you can use host arrays.</p>
                  <p>A cursor identifies the current row in the set of rows returned by the query. This allows your program to process the rows one at a time. The following statements let you define and manipulate a cursor:<a id="d30526e1200" class="indexterm-anchor"></a><a id="d30526e1204" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>DECLARE CURSOR</p>
                     </li>
                     <li>
                        <p>OPEN </p>
                     </li>
                     <li>
                        <p>FETCH </p>
                     </li>
                     <li>
                        <p>CLOSE </p>
                     </li>
                  </ul>
                  <p>First you use the DECLARE CURSOR statement to name the cursor and associate it with a query.<a id="d30526e1224" class="indexterm-anchor"></a><a id="d30526e1228" class="indexterm-anchor"></a><a id="d30526e1232" class="indexterm-anchor"></a><a id="d30526e1236" class="indexterm-anchor"></a> 
                  </p>
                  <p>The OPEN statement executes the query and identifies all the rows that meet the query search condition. These rows form a set called the active set of the cursor. After OPENing the cursor, you can use it to retrieve the rows returned by its associated query.<a id="d30526e1243" class="indexterm-anchor"></a><a id="d30526e1247" class="indexterm-anchor"></a> 
                  </p>
                  <p>Rows of the active set are retrieved one by one (unless you use host arrays). You use a FETCH statement to retrieve the current row in the active set. You can execute FETCH repeatedly until all rows have been retrieved.<a id="d30526e1254" class="indexterm-anchor"></a><a id="d30526e1258" class="indexterm-anchor"></a> 
                  </p>
                  <p>When done FETCHing rows from the active set, you disable the cursor with a CLOSE statement, and the active set becomes undefined.<a id="d30526e1265" class="indexterm-anchor"></a><a id="d30526e1269" class="indexterm-anchor"></a> 
                  </p>
                  <p>The following sections show you how to use these cursor control statements in your application program. </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="embedded-PL-SQL.html#GUID-4C56DC0E-B857-405D-B88E-93B19DD9FCF2">Host Arrays</a></li>
                     </ul>
                  </div>
               </div>
               <a id="LNPCC3360"></a><div class="props_rev_3"><a id="GUID-8B708FFD-6BAE-464E-A165-1DFB194B408C" name="GUID-8B708FFD-6BAE-464E-A165-1DFB194B408C"></a><h4 id="LNPCC-GUID-8B708FFD-6BAE-464E-A165-1DFB194B408C" class="sect4"><span class="enumeration_section">6.5.1 </span>The DECLARE CURSOR Statement 
                  </h4>
                  <div>
                     <p>You use the DECLARE CURSOR statement to define a cursor by giving it a name and associating it with a query, as the following example shows:<a id="d30526e1296" class="indexterm-anchor"></a><a id="d30526e1300" class="indexterm-anchor"></a><a id="d30526e1304" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR 
     SELECT ename, empno, sal 
     FROM emp 
     WHERE deptno = :dept_number; 
</pre><p>The cursor name is an identifier used by the precompiler, <span class="italic">not</span> a host or program variable, and should not be defined in the Declare Section. Therefore, cursor names cannot be passed from one precompilation unit to another. Cursor names cannot be hyphenated. They can be any length, but only the first 31 characters are significant. For ANSI compatibility, use cursor names no longer than 18 characters.<a id="d30526e1316" class="indexterm-anchor"></a><a id="d30526e1320" class="indexterm-anchor"></a> 
                     </p>
                     <p>The precompiler option CLOSE_ON_COMMIT is provided for use in the command line or in a configuration file. Any cursor not declared with the WITH HOLD clause is closed after a COMMIT or ROLLBACK when CLOSE_ON_COMMIT=YES. <a id="d30526e1327" class="indexterm-anchor"></a><a id="d30526e1331" class="indexterm-anchor"></a></p>
                     <p>If MODE is specified at a higher level than CLOSE_ON_COMMIT, then MODE takes precedence. The defaults are MODE=ORACLE and CLOSE_ON_COMMIT=NO. If you specify MODE=ANSI then any cursors not using the WITH HOLD clause will be closed on COMMIT. The application will run more slowly because cursors are closed and re-opened many times. Setting CLOSE_ON_COMMIT=NO when MODE=ANSI results in performance improvement. To see how macro options such as MODE affect micro options such as CLOSE_ON_COMMIT, see <span class="q">"<a href="precompiler-options.html#GUID-30E45A7E-6EDA-420E-BF53-9E52861BB708">Precedence of Option Values</a>"</span>.
                     </p>
                     <p>The SELECT statement associated with the cursor cannot include an INTO clause. Rather, the INTO clause and list of output host variables are part of the FETCH statement.<a id="d30526e1344" class="indexterm-anchor"></a> 
                     </p>
                     <p>Because it is declarative, the DECLARE CURSOR statement must physically (not just logically) precede all other SQL statements referencing the cursor. That is, forward references to the cursor are not allowed. In the following example, the OPEN statement is misplaced:<a id="d30526e1351" class="indexterm-anchor"></a><a id="d30526e1355" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">... 
EXEC SQL OPEN emp_cursor; 
*    -- MISPLACED OPEN STATEMENT
EXEC SQL DECLARE emp_cursor CURSOR FOR 
SELECT ename, empno, sal 
    FROM emp 
    WHERE ename = :emp_name; 
</pre><p>The cursor control statements (DECLARE, OPEN, FETCH, CLOSE) must all occur within the same precompiled unit. For example, you cannot DECLARE a cursor in file A, then OPEN it in file B.<a id="d30526e1364" class="indexterm-anchor"></a><a id="d30526e1368" class="indexterm-anchor"></a> 
                     </p>
                     <p>Your host program can DECLARE as many cursors as it needs. However, in a given file, every DECLARE statement must be unique. That is, you cannot DECLARE two cursors with the same name in one precompilation unit, even across blocks or procedures, because the scope of a cursor is global within a file.<a id="d30526e1375" class="indexterm-anchor"></a><a id="d30526e1379" class="indexterm-anchor"></a> 
                     </p>
                     <p> <a id="d30526e1386" class="indexterm-anchor"></a>For users of MODE=ANSI or CLOSE_ON_COMMIT=YES, the WITH HOLD clause can be used in a DECLARE section to override the behavior defined by the two options. With these options set, the behavior will be for all cursors to be closed when a COMMIT is issued. This can have performance implications due to the overhead of re-opening the cursor to continue processing. The careful use of WITH HOLD can speed up programs that need to conform to the ANSI standard for precompilers in most respects.
                     </p>
                     <p>If you will be using many cursors, you might want to specify the MAXOPENCURSORS option. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="database-concepts.html#GUID-D244BF2E-4CC6-4353-9C8F-F7035DB2EE28">WITH HOLD Clause in DECLARE CURSOR Statements</a></li>
                           <li><a href="precompiler-options.html#GUID-198ADD9B-90D5-4562-AD98-5BCF25216CF2">CLOSE_ON_COMMIT</a></li>
                           <li><a href="precompiler-options.html#GUID-FC726DCD-2AAE-4A4B-A293-C8C23382A9B5">Precompiler Options</a></li>
                           <li><a href="performance-tuning.html#GUID-70BC5747-18C2-4017-AC44-500891008097">Performance Tuning</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3361"></a><div class="props_rev_3"><a id="GUID-52B5D251-CEE1-44C8-A1CF-B52ABFF28460" name="GUID-52B5D251-CEE1-44C8-A1CF-B52ABFF28460"></a><h4 id="LNPCC-GUID-52B5D251-CEE1-44C8-A1CF-B52ABFF28460" class="sect4"><span class="enumeration_section">6.5.2 </span>The OPEN Statement 
                  </h4>
                  <div>
                     <p>You use the OPEN statement to execute the query and identify the active set. In the following example, you OPEN a cursor named <span class="italic">emp_cursor</span>:<a id="d30526e1436" class="indexterm-anchor"></a><a id="d30526e1440" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL OPEN emp_cursor;
 </pre><p>OPEN zeroes the rows-processed count kept by the third element of SQLERRD in the SQLCA. However, none of the rows are visible to the application at this point. That is handled by the FETCH statement.</p>
                     <p>OPEN positions the cursor just before the first row of the active set. It also zeroes the rows-processed count kept by the third element of SQLERRD in the SQLCA. However, none of the rows is actually retrieved at this point. That will be done by the FETCH statement.<a id="d30526e1451" class="indexterm-anchor"></a> 
                     </p>
                     <p>Once you OPEN a cursor, the query's input host variables are not re-examined until you reOPEN the cursor. Thus, the active set does not change. To change the active set, you must reOPEN the cursor.<a id="d30526e1458" class="indexterm-anchor"></a><a id="d30526e1462" class="indexterm-anchor"></a> 
                     </p>
                     <p>Generally, you should CLOSE a cursor before reOPENing it. However, if you specify MODE=ORACLE (the default), you need not CLOSE a cursor before reOPENing it. This can increase performance.</p>
                     <p>The amount of work done by OPEN depends on the values of three precompiler options: HOLD_CURSOR, RELEASE_CURSOR, and MAXOPENCURSORS. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="precompiler-options.html#GUID-1FB02C5F-DCC0-453C-A6AB-246421712F74">About Using the Precompiler Options</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="LNPCC3362"></a><div class="props_rev_3"><a id="GUID-7FF86597-BB63-40C2-BFE4-09C618672EBA" name="GUID-7FF86597-BB63-40C2-BFE4-09C618672EBA"></a><h4 id="LNPCC-GUID-7FF86597-BB63-40C2-BFE4-09C618672EBA" class="sect4"><span class="enumeration_section">6.5.3 </span>The FETCH Statement 
                  </h4>
                  <div>
                     <p>You use the FETCH statement to retrieve rows from the active set and specify the output host variables that will contain the results. Recall that the SELECT statement associated with the cursor cannot include an INTO clause. Rather, the INTO clause and list of output host variables are part of the FETCH statement. In the following example, you FETCH INTO three host variables:<a id="d30526e1491" class="indexterm-anchor"></a><a id="d30526e1495" class="indexterm-anchor"></a><a id="d30526e1499" class="indexterm-anchor"></a><a id="d30526e1503" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL FETCH emp_cursor 
INTO :emp_name, :emp_number, :salary;
 </pre><p>The cursor must have been previously DECLAREd and OPENed. The first time you execute FETCH, the cursor moves from before the first row in the active set to the first row. This row becomes the current row. Each subsequent execution of FETCH advances the cursor to the next row in the active set, changing the current row. The cursor can only move forward in the active set. To return to a row that has already been FETCHed, you must reOPEN the cursor, then begin again at the first row of the active set.<a id="d30526e1512" class="indexterm-anchor"></a><a id="d30526e1516" class="indexterm-anchor"></a><a id="d30526e1520" class="indexterm-anchor"></a><a id="d30526e1524" class="indexterm-anchor"></a> 
                     </p>
                     <p>If you want to change the active set, you must assign new values to the input host variables in the query associated with the cursor, then reOPEN the cursor. When MODE=ANSI, you must CLOSE the cursor before reOPENing it.<a id="d30526e1531" class="indexterm-anchor"></a> 
                     </p>
                     <p>As the next example shows, you can FETCH from the same cursor using different sets of output host variables. However, corresponding host variables in the INTO clause of each FETCH statement must have the same datatype. </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR 
SELECT ename, sal FROM emp WHERE deptno = 20; 
... 
EXEC SQL OPEN emp_cursor; 
 
EXEC SQL WHENEVER NOT FOUND GOTO ... 
for (;;) 
{ 
    EXEC SQL FETCH emp_cursor INTO :emp_name1, :salary1; 
    EXEC SQL FETCH emp_cursor INTO :emp_name2, :salary2; 
    EXEC SQL FETCH emp_cursor INTO :emp_name3, :salary3; 
    ... 
} 
</pre><p>If the active set is empty or contains no more rows, FETCH returns the "no data found" error code to <span class="italic">sqlcode</span> in the SQLCA, or to the SQLCODE or SQLSTATE status variables. The status of the output host variables is indeterminate. (In a typical program, the WHENEVER NOT FOUND statement detects this error.) To reuse the cursor, you must reOPEN it. <a id="d30526e1545" class="indexterm-anchor"></a><a id="d30526e1549" class="indexterm-anchor"></a>  
                     </p>
                     <p>It is an error to FETCH on a cursor under the following conditions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Before OPENing the cursor</p>
                        </li>
                        <li>
                           <p>After a "no data found" condition</p>
                        </li>
                        <li>
                           <p>After CLOSEing it</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNPCC3363"></a><div class="props_rev_3"><a id="GUID-F7148B26-C699-4924-8C18-A5451F199A11" name="GUID-F7148B26-C699-4924-8C18-A5451F199A11"></a><h4 id="LNPCC-GUID-F7148B26-C699-4924-8C18-A5451F199A11" class="sect4"><span class="enumeration_section">6.5.4 </span>The CLOSE Statement 
                  </h4>
                  <div>
                     <p>When done FETCHing rows from the active set, you CLOSE the cursor to free the resources, such as storage, acquired by OPENing the cursor. When a cursor is closed, parse locks are released. What resources are freed depends on how you specify the HOLD_CURSOR and RELEASE_CURSOR options. In the following example, you CLOSE the cursor named <span class="italic">emp_cursor</span>:<a id="d30526e1580" class="indexterm-anchor"></a><a id="d30526e1584" class="indexterm-anchor"></a><a id="d30526e1588" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">EXEC SQL CLOSE emp_cursor; 
</pre><p>You cannot FETCH from a closed cursor because its active set becomes undefined. If necessary, you can reOPEN a cursor (with new values for the input host variables, for example). </p>
                     <p>When MODE=ORACLE, issuing a COMMIT or ROLLBACK closes cursors referenced in a CURRENT OF clause. Other cursors are unaffected by COMMIT or ROLLBACK and if open, remain open. However, when MODE=ANSI, issuing a COMMIT or ROLLBACK closes <span class="italic">all</span> explicit cursors. 
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="database-concepts.html#GUID-54B5B0C8-CB28-4E84-A52C-F05CEBA92539">Database Concepts</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
            </div><a id="LNPCC3364"></a><div class="props_rev_3"><a id="GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829" name="GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829"></a><h3 id="LNPCC-GUID-EE1C3E7B-AEE5-4514-9D57-36C71E35D829" class="sect3"><span class="enumeration_section">6.6 </span>Scrollable Cursors
               </h3>
               <div>
                  <p>A scrollable cursor is a work area where Oracle executes SQL statements and stores information that is processed during execution.</p>
                  <p>When a cursor is executed, the results of the query are placed into a a set of rows called the result set. The result set can be fetched either sequentially or non-sequentially. Non-sequential result sets are called scrollable cursors. </p>
                  <p>A scrollable cursor enables users to access the rows of a database result set in a forward, backward, and random manner. This enables the program to fetch any row in the result set. See <span class="italic">Oracle Call Interface Programmer's Guide</span>, Release 9.2.0.
                  </p>
               </div><a id="LNPCC3365"></a><div class="props_rev_3"><a id="GUID-A492A864-B7B7-4154-A309-1759C16BFE57" name="GUID-A492A864-B7B7-4154-A309-1759C16BFE57"></a><h4 id="LNPCC-GUID-A492A864-B7B7-4154-A309-1759C16BFE57" class="sect4"><span class="enumeration_section">6.6.1 </span>About Using Scrollable Cursors
                  </h4>
                  <div>
                     <p>The following statements let you define and manipulate a scrollable cursor. </p>
                  </div><a id="LNPCC3366"></a><div class="props_rev_3"><a id="GUID-6454C7D0-C2B1-490E-A9EB-6C213E9824E8" name="GUID-6454C7D0-C2B1-490E-A9EB-6C213E9824E8"></a><h5 id="LNPCC-GUID-6454C7D0-C2B1-490E-A9EB-6C213E9824E8" class="sect5"><span class="enumeration_section">6.6.1.1 </span>DECLARE SCROLL CURSOR
                     </h5>
                     <div>
                        <p>You can use the DECLARE &lt;cursor name&gt; SCROLL CURSOR statement to name the scrollable cursor and associate it with a query.</p>
                     </div>
                  </div><a id="LNPCC3367"></a><div class="props_rev_3"><a id="GUID-DEAA1B55-99AF-4663-8D90-0030298737C5" name="GUID-DEAA1B55-99AF-4663-8D90-0030298737C5"></a><h5 id="LNPCC-GUID-DEAA1B55-99AF-4663-8D90-0030298737C5" class="sect5"><span class="enumeration_section">6.6.1.2 </span>OPEN for Scrollable Cursors
                     </h5>
                     <div>
                        <p>You can use the OPEN statement in the same way as in the case of a non-scrollable cursor.</p>
                     </div>
                  </div><a id="LNPCC3368"></a><div class="props_rev_3"><a id="GUID-4A83493B-A718-4D37-A1C5-35C0F1633B9F" name="GUID-4A83493B-A718-4D37-A1C5-35C0F1633B9F"></a><h5 id="LNPCC-GUID-4A83493B-A718-4D37-A1C5-35C0F1633B9F" class="sect5"><span class="enumeration_section">6.6.1.3 </span>FETCH for Scrollable Cursors
                     </h5>
                     <div>
                        <p>You can use the FETCH statement to fetch required rows in a random manner. An application can fetch rows up or down, first or last row directly, or fetch any single row in a random manner.</p>
                        <p>The following options are available with the FETCH statement. </p>
                        <ol>
                           <li>
                              <p>FETCH FIRST</p>
                              <p>Fetches the first row from the result set.</p>
                           </li>
                           <li>
                              <p>FETCH PRIOR</p>
                              <p>Fetches the row prior to the current row.</p>
                           </li>
                           <li>
                              <p>FETCH NEXT</p>
                              <p>Fetches the next row from the current position. This is same as the      non-scrollable cursor FETCH.</p>
                           </li>
                           <li>
                              <p>FETCH LAST</p>
                              <p>Fetches the last row from the result set.</p>
                           </li>
                           <li>
                              <p>FETCH CURRENT</p>
                              <p>Fetches the current row.</p>
                           </li>
                           <li>
                              <p>FETCH RELATIVE <span class="italic">n</span> 
                              </p>
                              <p>Fetches the <span class="italic">n</span>th row relative to the current row, where <span class="italic">n</span> is the offset.
                              </p>
                           </li>
                           <li>
                              <p>FETCH ABSOLUTE <span class="italic">n</span></p>
                              <p>Fetches the <span class="italic">n</span>th row, where <span class="italic">n</span> is the offset from the start of the result set.
                              </p>
                           </li>
                        </ol>
                        <p>The following example describes how to FETCH the last record from a result set. </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor SCROLL CURSOR FOR
SELECT ename, sal FROM emp WHERE deptno=20;
...
EXEC SQL OPEN emp_cursor;
EXEC SQL FETCH LAST emp_cursor INTO :emp_name, :sal;
EXEC SQL CLOSE emp_cursor;</pre></div>
                  </div><a id="LNPCC3369"></a><div class="props_rev_3"><a id="GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8" name="GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8"></a><h5 id="LNPCC-GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8" class="sect5"><span class="enumeration_section">6.6.1.4 </span>CLOSE for Scrollable Cursors
                     </h5>
                     <div>
                        <p>You can use the CLOSE statement in the same way as in the case of a non-scrollable cursor.</p>
                        <div class="infoboxnote" id="GUID-6E4D1E96-351E-4CB8-8B96-45C98417C2F8__GUID-C4852387-5ACD-4E60-B3B8-810B67DD23F5">
                           <p class="notep1">Note:</p>
                           <p>You cannot use scrollable cursors for REF cursors. </p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNPCC3370"></a><div class="props_rev_3"><a id="GUID-7532E1DD-B2BF-4935-93AF-5413D02B2F54" name="GUID-7532E1DD-B2BF-4935-93AF-5413D02B2F54"></a><h4 id="LNPCC-GUID-7532E1DD-B2BF-4935-93AF-5413D02B2F54" class="sect4"><span class="enumeration_section">6.6.2 </span>The CLOSE_ON_COMMIT Precompiler Option
                  </h4>
                  <div>
                     <p>The CLOSE_ON_COMMIT micro precompiler option provides the ability to choose whether or not to close all cursors when a COMMIT is executed and the macro option MODE=ANSI. When MODE=ANSI, CLOSE_ON_COMMIT has the default value YES. Explicitly setting CLOSE_ON_COMMIT=NO results in better performance because cursors will not be closed when a COMMIT is executed, removing the need to re-open the cursors and incur extra parsing. </p>
                  </div>
               </div><a id="LNPCC3371"></a><div class="props_rev_3"><a id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9" name="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9"></a><h4 id="LNPCC-GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9" class="sect4"><span class="enumeration_section">6.6.3 </span>The PREFETCH Precompiler Option
                  </h4>
                  <div>
                     <p>The precompiler option PREFETCH allows for more efficient queries by pre-fetching a given number of rows. This decreases the number of server round trips needed and reduces overall memory usage. The number of rows set by the PREFETCH option value is used for all queries involving explicit cursors, subject to the standard precedence rules. When used inline, the PREFETCH option must precede any of these cursor statements:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>EXEC SQL OPEN <span class="italic">cursor</span></p>
                        </li>
                        <li>
                           <p>EXEC SQL OPEN <span class="italic">cursor</span> USING <span class="italic">host_var_list</span></p>
                        </li>
                        <li>
                           <p>EXEC SQL OPEN <span class="italic">cursor</span> USING DESCRIPTOR <span class="italic">desc_name</span></p>
                        </li>
                     </ul>
                     <p>When an OPEN is executed, the value of PREFETCH gives the number of rows to be pre-fetched when the query is executed. You can set the value from 0 (no pre-fetching) to 65535. The default value is 1.</p>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-2BAB62C1-9A91-4E6A-A386-2F31449220BD">
                        <p class="notep1">Note:</p>
                        <p>The default value of the PREFETCH option is 1 - return a single row for each round-trip. If you choose not to use the PREFETCH option, using the command line, you must explicitly disable it by setting the PREFETCH option to 0.</p>
                        <p>PREFETCH is automatically disabled when LONG or LOB columns are being retrieved. </p>
                     </div>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-5FFB8216-BFD9-4DBF-B4C7-20B5157537E6">
                        <p class="notep1">Note:</p>
                        <p>PREFETCH is used primarily to enhance the performance of single row fetches. PREFETCH has no effect when array fetches are used.</p>
                     </div>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-48787400-709D-4AC6-AB88-26FC5FE6CDF2">
                        <p class="notep1">Note:</p>
                        <p>The PREFETCH option should be used wisely, and on a case-by-case basis. Select an appropriate PREFETCH value that will optimize performance of a specific FETCH statement. To accomplish this, use the inline prefetch option instead of the command line prefetch option. </p>
                     </div>
                     <div class="infoboxnote" id="GUID-C8C8A9BF-DDC8-44D8-9DF8-87476A268EC9__GUID-47928E09-90F6-4EC2-AD11-C5965F3B0ECD">
                        <p class="notep1">Note:</p>
                        <p>The performance of many large applications can be improved simply by using indicator variables with host variables in FETCH statements.</p>
                        <p>To enable precompiler applications to obtain the maximum advantage from the use of the PREFETCH option on single row fetches, it is strongly recommended that you use indicator variables.</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC3372"></a><div class="props_rev_3"><a id="GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD" name="GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD"></a><h3 id="LNPCC-GUID-F6C600D0-D49D-4C24-910E-A4153C8818CD" class="sect3"><span class="enumeration_section">6.7 </span>Optimizer Hints 
               </h3>
               <div>
                  <p>The Pro*C/C++ Precompiler supports optimizer hints in SQL statements. An <span class="italic">optimizer hint</span> is a suggestion to the Oracle SQL optimizer that can override the optimization approach that would normally be taken. You can use hints to specify the 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Optimization approach for a SQL statement </p>
                     </li>
                     <li>
                        <p>Access path for each referenced table </p>
                     </li>
                     <li>
                        <p>Join order for a join </p>
                     </li>
                     <li>
                        <p>Method used to join tables </p>
                     </li>
                  </ul>
                  <p>Hints allow you to choose between rule-based and cost-based optimization. With cost-based optimization, you can use further hints to maximize throughput or response time. </p>
               </div><a id="LNPCC3373"></a><div class="props_rev_3"><a id="GUID-9A0463A4-8321-40DA-B6BB-78E0C1629E7C" name="GUID-9A0463A4-8321-40DA-B6BB-78E0C1629E7C"></a><h4 id="LNPCC-GUID-9A0463A4-8321-40DA-B6BB-78E0C1629E7C" class="sect4"><span class="enumeration_section">6.7.1 </span>Issuing Hints 
                  </h4>
                  <div>
                     <p>You can issue an optimizer hint inside a C or C++ style comment, immediately after a SELECT, DELETE, or UPDATE command. You indicate that the comment contains one or more hints by following the comment opener with a plus sign, leaving no space between the opener and the '+'. For example, the following statement uses the ALL_ROWS hint to let the cost-based approach optimize the statement for the goal of best throughput: </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT /*+ ALL_ROWS (cost-based) */ empno, ename, sal, job 
    INTO :emp_rec FROM emp 
    WHERE deptno = :dept_number; 
</pre><p>As shown in this statement, the comment can contain optimizer hints as well as other comments. </p>
                  </div>
               </div>
            </div><a id="LNPCC3375"></a><a id="LNPCC3374"></a><div class="props_rev_3"><a id="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA" name="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA"></a><h3 id="LNPCC-GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA" class="sect3"><span class="enumeration_section">6.8 </span>Fix Execution Plan
               </h3>
               <div>
                  <p>In application development environments where modules are developed in one environment, and then integrated and deployed into another, the performance of the applications are affected. At times, the performance of the precompiler applications are affected by changes in the database environment. These may include changes in the optimizer statistics, changes to the optimizer settings, or changes to parameters affecting the sizes of memory structures. </p>
                  <p>To fix execution plans for SQL's used in Pro*C/C++ in the development environment, you need to use the outline feature of Oracle at the time of precompiling.  An outline is implemented as a set of optimizer hints that are associated with the SQL statement. If you enable the use of the outline for the statement, Oracle automatically considers the stored hints and tries to generate an execution plan in accordance with those hints. In this way, you can ensure that the performance is not affected when the modules are integrated or deployed into different environments.</p>
                  <p>You can use the following SQL statements to create outlines in Pro*C/C++:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">SELECT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">DELETE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">UPDATE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">INSERT ... SELECT</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CREATE TABLE ... AS SELECT</code></p>
                     </li>
                  </ul>
                  <p>If the outline option is set, then the precompiler generates two files, a SQL file and a LOG file at the end of successful precompilation. Command line options <code class="codeph">outline</code> and <code class="codeph">outlnprefix</code> control the generation of the outlines.
                  </p>
                  <p>Each generated outline name is unique. Because the file names used in the application are unique, this information is used in generating the outline name. In addition, the category name is also prefixed.</p>
                  <div class="infoboxnote" id="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA__GUID-F13DF40D-4FCD-48ED-83E9-860AB54AA8BC">
                     <p class="notep1">Caution:</p>
                     <p>Oracle allows only 128 bytes for the outline name. If you exceed the limit, the precompiler will flag an error. You can restrict the length of the outline name by using the <code class="codeph">outlnprefix</code> option.
                     </p>
                  </div>
                  <div class="example" id="GUID-BA6FB717-6577-45D7-87A9-ECC60FECD9AA__GUID-25EFF081-46E9-43CA-9BE0-D62B9BF457F2">
                     <p class="titleinexample">Example 6-1 Generating a SQL File Containing Outlines</p>
                     <p>You need to precompile the following program by using the outline option to generate SQL files containing the outlines for all the outline-supported SQL statements in this program.</p><pre class="oac_no_warn" dir="ltr">/* 
 * outlndemo.pc 
 *
 * Outlines will be created for the following SQL operations,
 * 1. CREATE ... SELECT
 * 2. INSERT ... SELECT
 * 3. UPDATE
 * 4. DELETE
 * 5. SELECT
 */
 
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sqlda.h&gt;
#include &lt;sqlcpr.h&gt;
#include &lt;sqlca.h&gt;
 
/* Error handling function. */
void sql_error(char *msg)
{
  exec sql whenever sqlerror continue;
 
  printf("\n%s\n", msg);
  printf("%.70s\n", sqlca.sqlerrm.sqlerrmc); 
  exec sql rollback release;
 
  exit(EXIT_FAILURE);
}
 
int main()
{
  varchar ename[10];
  varchar job[9];
  float sal, comm;
 
  exec sql begin declare section;
    char *uid = "scott/tiger";
  exec sql end declare section;
 
  exec sql whenever sqlerror do sql_error("ORACLE error--\n");
  exec sql connect :uid;
 
  exec sql insert into bonus 
           select ename, job, sal, comm from emp where job like 'SALESMAN';
 
  exec sql update bonus set sal = sal * 1.1 where sal &lt; 1500;
 
  exec sql declare c1 cursor for
           select ename, job, sal, comm from bonus order by sal;
  exec sql open c1;
  printf ("Contents of updated BONUS table\n\n");
  printf ("ENAME       JOB        SALARY   COMMISSION\n\n");
  exec sql whenever not found do break;
  while (1)
  {
    exec sql fetch c1 into :ename, :job, :sal, :comm;
    ename.arr[ename.len]='\0';
    job.arr[job.len]='\0';
    printf ("%-9s %-9s   %8.2f    %8.2f\n", ename.arr,
            job.arr, sal, comm);
  }
  exec sql close c1;
  exec sql whenever not found do sql_error("ORACLE error--\n");
 
  exec sql delete from bonus;
 
  exec sql create table outlndemo_tab as
           select empno, ename, sal from emp where deptno = 10;
 
  /* Outline will not be created for this DDL statement */
  exec sql drop table outlndemo_tab;
 
  exec sql rollback work release;
  exit(EXIT_SUCCESS);
}</pre></div>
                  <!-- class="example" -->
               </div><a id="LNPCC3377"></a><a id="LNPCC3376"></a><div class="props_rev_3"><a id="GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2" name="GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2"></a><h4 id="LNPCC-GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2" class="sect4"><span class="enumeration_section">6.8.1 </span>SQL File
                  </h4>
                  <div>
                     <p>The generated file name has the following format:</p><pre class="oac_no_warn" dir="ltr">&lt;filename&gt;_&lt;filetype&gt;.sql
</pre><p>In Pro*C, for the file "abc.pc", the generated SQL file will be abc_pc.sql.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-04D280DC-CE7E-4CC6-9D9A-98377F9ADFA2__GUID-43529950-B141-4772-BF1E-0F2AE68CBBE8">Generated file format</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If the outlnprefix option is not used, then the format of the unique identifier used as outline name and comment is:</p><pre class="oac_no_warn" dir="ltr">&lt;category_name&gt;_&lt;filename&gt;_&lt;filetype&gt;_&lt;sequence no.&gt;
</pre><p>If the outlnprefix option is used (outlnprefix=&lt;prefix_name&gt;), then the format of the unique identifier used as outline name and comment is:</p><pre class="oac_no_warn" dir="ltr">&lt;prefix_name&gt;_&lt;sequence no.&gt;
</pre><p>If outline=yes, which is the default category, then &lt;category_name&gt; will be DEFAULT and outline name will be:</p><pre class="oac_no_warn" dir="ltr">DEFAULT_&lt;filename&gt;_&lt;filetype&gt;_&lt;sequence no.&gt;
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">&lt;prefix_name&gt;_&lt;sequence no.&gt;
</pre><p>The allowed range for <code class="codeph">&lt;sequence no.&gt;</code> is 0000 to 9999.
                        </p>
                        <p>SQL in the generated precompiled file will have the comment appended to it as it appears in the outline for that SQL.</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNPCC3379"></a><a id="LNPCC3380"></a><a id="LNPCC3381"></a><a id="LNPCC3382"></a><a id="LNPCC3383"></a><a id="LNPCC3384"></a><a id="LNPCC3385"></a><a id="LNPCC3386"></a><a id="LNPCC3387"></a><a id="LNPCC3378"></a><div class="props_rev_3"><a id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54" name="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54"></a><h5 id="LNPCC-GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54" class="sect5"><span class="enumeration_section">6.8.1.1 </span>Examples
                     </h5>
                     <div>
                        <p>Consider the following examples.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-05A02C02-F79C-43FE-9CA8-E80215C661B2">Example 1</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>If abc.pc has the statements</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp where empno=:var;
EXEC SQL select * from dept;
</pre><p>and if outline=mycat1 and outlnprefix is not used, then:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-6ADBA2DA-7805-4814-B872-FF920B660730">Contents of abc_pc.sql</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>create or replace outline mycat1_abc_pc_0000 for category mycat1 on <code class="codeph">select * from emp where empno=:b1 /* mycat1_abc_pc_0000 */</code><code class="codeph">;</code></p>
                           <p>create or replace outline mycat1_abc_pc_0001 for category mycat1 on <code class="codeph">select * from dept /* mycat1_abc_pc_0001 */;</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-7BC0DF8B-D9D8-42C9-9F21-78E131EF4804">Contents of abc.c</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">sqlstm.stmt = select * from emp where empno=:b1 /* mycat1_abc_pc_0000 */;

sqlstm.stmt = select * from dept /* mycat1_abc_pc_0001 */;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-C82E7C58-B085-4DCC-A53C-A331341F5357">Example 2</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>If abc.pc has the statements</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp where empno=:var;
EXEC SQL select * from dept;
</pre><p>and if outline=mycat1 and outlnprefix=myprefix, then:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-04599602-B443-4E59-A730-AD674ED4D6A3">Contents of abc_pc.sql</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>create or replace outline myprefix_0000 for category mycat1 on <code class="codeph">select * from emp where empno=:b1 /* myprefix_0000 */;</code></p>
                           <p>create or replace outline myprefix_0001 for category mycat1 on <code class="codeph">select * from dept /* myprefix_0001 */;</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-9FAB2A28-5418-4344-9C0B-7AA43149A0D9">Contents of abc.c</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">sqlstm.stmt = select * from emp where empno=:b1 /* myprefix_0000 */;

sqlstm.stmt = select * from dept /* myprefix_0001 */;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-B6AB7B18-54E2-4CEC-B436-047960CC2E5A">Example 3</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>If abc.pc has the statements</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp where empno=:var;
EXEC SQL select * from dept;
</pre><p>and if outline=yes and outlnprefix=myprefix, then:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-D49F0F6D-D470-431B-A6A1-15811B94A2D3">Contents of abc_pc.sql</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>create or replace outline myprefix_0000 on <code class="codeph">select * from emp where empno=:b1 /* myprefix_0000 */;</code></p>
                           <p>create or replace outline myprefix_0001 on <code class="codeph">select * from dept /* myprefix_0001 */;</code></p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1CDDA92A-367B-455A-90BB-4943AAA32D54__GUID-6318BB75-3D9A-41BB-A1CD-9DC51FA5DFC1">Contents of abc.c</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">sqlstm.stmt = "select * from emp where empno=:b1 /* myprefix_0000 */;

sqlstm.stmt = "select * from dept /* myprefix_0001 */";
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNPCC3389"></a><a id="LNPCC3390"></a><a id="LNPCC3388"></a><div class="props_rev_3"><a id="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414" name="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414"></a><h4 id="LNPCC-GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414" class="sect4"><span class="enumeration_section">6.8.2 </span>LOG File
                  </h4>
                  <div>
                     <p>The generated file name has the following format:</p><pre class="oac_no_warn" dir="ltr">&lt;filename&gt;_&lt;filetype&gt;.log
</pre><p>In Pro*C, for the file "abc.pc", the generated LOG file will be abc_pc.log.</p>
                     <p>Consider the following example.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414__GUID-99308A40-BC12-43BE-B18E-7ACAAE88746B">Example 1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If abc.pc has the statements</p><pre class="oac_no_warn" dir="ltr">EXEC SQL select * from emp;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CAEDB406-ED5D-4A0A-A3FB-2A4AE1830414__GUID-7A983199-20EF-4007-9EF3-2A5831CC8A96">Contents of abc_pc.log</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CATEGORY &lt;Category_name&gt; 
     Source SQL_0
        SELECT * FROM emp
     OUTLINE NAME
        abc_pc_0000
     OUTLINE SQL_0
        Select * from emp /* abc_pc_0000 */</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNPCC3391"></a><div class="props_rev_3"><a id="GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6" name="GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6"></a><h3 id="LNPCC-GUID-CB61E704-AA77-4F5F-BF67-A3E4F58C63C6" class="sect3"><span class="enumeration_section">6.9 </span>The CURRENT OF Clause 
               </h3>
               <div>
                  <p>You use the CURRENT OF <span class="italic">cursor_name</span> clause in a DELETE or UPDATE statement to refer to the latest row FETCHed from the named cursor. The cursor must be open and positioned on a row. If no FETCH has been done or if the cursor is not open, the CURRENT OF clause results in an error and processes no rows.<a id="d30526e2145" class="indexterm-anchor"></a><a id="d30526e2149" class="indexterm-anchor"></a> 
                  </p>
                  <p>The FOR UPDATE OF clause is optional when you DECLARE a cursor that is referenced in the CURRENT OF clause of an UPDATE or DELETE statement. The CURRENT OF clause signals the precompiler to add a FOR UPDATE clause if necessary. </p>
                  <p>In the following example, you use the CURRENT OF clause to refer to the latest row FETCHed from a cursor named <span class="italic">emp_cursor</span>:<a id="d30526e2161" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR 
     SELECT ename, sal FROM emp WHERE job = 'CLERK' 
     FOR UPDATE OF sal; 
... 
EXEC SQL OPEN emp_cursor; 
EXEC SQL WHENEVER NOT FOUND GOTO ... 
for (;;) {
    EXEC SQL FETCH emp_cursor INTO :emp_name, :salary; 
    ... 
    EXEC SQL UPDATE emp SET sal = :new_salary 
         WHERE CURRENT OF emp_cursor; 
} 
</pre></div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="database-concepts.html#GUID-B44AF482-9E22-4C39-AC53-D9C4E5F61D96">Using FOR UPDATE OF</a></li>
                     </ul>
                  </div>
               </div>
               <a id="LNPCC3392"></a><div class="props_rev_3"><a id="GUID-9CAF3199-6834-428D-BCD3-001292F465E2" name="GUID-9CAF3199-6834-428D-BCD3-001292F465E2"></a><h4 id="LNPCC-GUID-9CAF3199-6834-428D-BCD3-001292F465E2" class="sect4"><span class="enumeration_section">6.9.1 </span>Restrictions (FOR UPDATE OF)
                  </h4>
                  <div>
                     <p>You cannot use CURRENT OF clause on an index-organized table.</p>
                     <p>Explicit FOR UPDATE OF clauses or implicit FOR UPDATE clauses acquire exclusive row locks. All rows are locked at the OPEN, not as they are FETCHed, and are released when you COMMIT or ROLLBACK. Therefore, you cannot FETCH from a FOR UPDATE cursor after a COMMIT. If you try to do this, Oracle returns a 1002 error code.<a id="d30526e2190" class="indexterm-anchor"></a><a id="d30526e2194" class="indexterm-anchor"></a> 
                     </p>
                     <p>Also, you cannot use host arrays with the CURRENT OF clause. For an alternative, see also <span class="q">"<a href="host-arrays.html#GUID-DBA71301-C6C4-47C0-BAB5-1B6B221AB46E">About Mimicking CURRENT OF </a>"</span>. 
                     </p>
                     <p>Furthermore, you cannot reference multiple tables in an associated FOR UPDATE OF clause, which means that you cannot do joins with the CURRENT OF clause.<a id="d30526e2208" class="indexterm-anchor"></a> 
                     </p>
                     <p>Finally, you cannot use dynamic SQL with the CURRENT OF clause.<a id="d30526e2215" class="indexterm-anchor"></a> 
                     </p>
                  </div>
               </div>
            </div><a id="LNPCC3393"></a><div class="props_rev_3"><a id="GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD" name="GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD"></a><h3 id="LNPCC-GUID-6D0BC220-1DE8-49E9-AB54-F39182E33ECD" class="sect3"><span class="enumeration_section">6.10 </span>The Cursor Statements 
               </h3>
               <div>
                  <p>The following example shows the typical sequence of cursor control statements in an application program:<a id="d30526e2231" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">   ...
/* define a cursor */ 
   EXEC SQL DECLARE emp_cursor CURSOR FOR 
        SELECT ename, job 
        FROM emp 
        WHERE empno = :emp_number 
        FOR UPDATE OF job; 
 
/* open the cursor and identify the active set */ 
   EXEC SQL OPEN emp_cursor; 
 
/* break if the last row was already fetched */ 
   EXEC SQL WHENEVER NOT FOUND DO break; 
 
/* fetch and process data in a loop */ 
   for (;;) 
   { 
      EXEC SQL FETCH emp_cursor INTO :emp_name, :job_title; 
 
/* optional host-language statements that operate on 
   the FETCHed data */ 
 
      EXEC SQL UPDATE emp 
           SET job = :new_job_title 
           WHERE CURRENT OF emp_cursor; 
   } 
... 
/* disable the cursor */ 
   EXEC SQL CLOSE emp_cursor; 
   EXEC SQL COMMIT WORK RELEASE; 
   ... </pre></div>
            </div><a id="LNPCC3394"></a><div class="props_rev_3"><a id="GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED" name="GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED"></a><h3 id="LNPCC-GUID-58F44B5B-4F08-4853-AF71-C2995F48E2ED" class="sect3"><span class="enumeration_section">6.11 </span>A Complete Example Using Non-Scrollable Cursor
               </h3>
               <div>
                  <p>The following complete program illustrates the use of a cursor and the FETCH statement. The program prompts for a department number, then displays the names of all employees in that department. </p>
                  <p>All FETCHes except the final one return a row and, if no errors were detected during the FETCH, a success status code. The final FETCH fails and returns the "no data found" Oracle error code to <span class="italic">sqlca.sqlcode</span>. The cumulative number of rows actually FETCHed is found in <code class="codeph">sqlerrd[2]</code> in the SQLCA. 
                  </p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; 

/* declare host variables */ 
char userid[12] = "SCOTT/TIGER";
char emp_name[10];
int  emp_number;
int  dept_number; 
char temp[32];
void sql_error();
 
/* include the SQL Communications Area */ 
#include &lt;sqlca.h&gt; 
 
main() 
{  emp_number = 7499;
/* handle errors */ 
   EXEC SQL WHENEVER SQLERROR do sql_error("Oracle error");
 
/* connect to Oracle */ 
   EXEC SQL CONNECT :userid; 
   printf("Connected.\n"); 
 
/* declare a cursor */ 
   EXEC SQL DECLARE emp_cursor CURSOR FOR 
   SELECT ename 
      FROM emp 
      WHERE deptno = :dept_number; 
 
   printf("Department number? "); 
   gets(temp);
   dept_number = atoi(temp); 
 
/* open the cursor and identify the active set */ 
   EXEC SQL OPEN emp_cursor; 

   printf("Employee Name\n"); 
   printf("-------------\n");
/* fetch and process data in a loop
   exit when no more data */
   EXEC SQL WHENEVER NOT FOUND DO break;
   while (1) 
   { 
      EXEC SQL FETCH emp_cursor INTO :emp_name; 
      printf("%s\n", emp_name); 
   } 
   EXEC SQL CLOSE emp_cursor; 
   EXEC SQL COMMIT WORK RELEASE; 
   exit(0); 
}

void 
sql_error(msg)
char *msg;
{
   char buf[500];
   int buflen, msglen;

   EXEC SQL WHENEVER SQLERROR CONTINUE; 
   EXEC SQL ROLLBACK WORK RELEASE; 
   buflen = sizeof (buf);
   sqlglm(buf, &amp;buflen, &amp;msglen);
   printf("%s\n", msg); 
   printf("%*.s\n", msglen, buf); 
   exit(1); 
}</pre></div>
            </div><a id="LNPCC3395"></a><div class="props_rev_3"><a id="GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560" name="GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560"></a><h3 id="LNPCC-GUID-08073F0A-E663-4D3A-9DB4-92BF47CA6560" class="sect3"><span class="enumeration_section">6.12 </span>A Complete Example Using Scrollable Cursor
               </h3>
               <div>
                  <p>The following program illustrates the use of scrollable cursor and the various options used by the FETCH statement. </p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; 

/* declare host variables */ 
char userid[12]="SCOTT/TIGER"; 
char emp_name[10]; 
void sql_error(); 

/*  include the SQL Communications Area */ 
#include&lt;sqlca.h&gt; 

main() 
{ 
/* handle errors */ 
    EXEC SQL WHENEVER SQLERROR do sql_error("Oracle error"); 

/* connect to Oracle */ 
    EXEC SQL CONNECT :userid; 
    printf("Connected.\n"); 

/* declare a scrollable cursor */ 
    EXEC SQL DECLARE emp_cursor SCROLL CURSOR FOR 
    SELECT ename FROM emp; 

/* open the cursor and identify the active set */ 
     EXEC SQL OPEN emp_cursor; 

 /* Fetch the last row */ 
     EXEC SQL FETCH LAST emp_cursor INTO :emp_name; 

 /* Fetch row number 5 */ 
      EXEC SQL FETCH ABSOLUTE 5 emp_cursor INTO :emp_name; 

/*  Fetch row number 10 */ 
       EXEC SQL FETCH RELATIVE 5 emp_cursor INTO :emp_name; 

/*  Fetch row number 7 */ 
       EXEC SQl FETCH RELATIVE -3 emp_cursor INTO :emp_name; 

/*  Fetch the first row */ 
       EXEC SQL FETCH FIRST emp_cursor INTO :emp_name; 

/*  Fetch row number 2*/ 
       EXEC SQL FETCH my_cursor INTO :emp_name; 

/*  Fetch row number 3 */ 
       EXEC SQL FETCH NEXT my_cursor INTO :emp_name; 

/*  Fetch row number 3 */ 
       EXEC SQL FETCH CURRENT my_cursor INTO :emp_name; 

/*  Fetch row number 2 */ 
        EXEC SQL FETCH PRIOR my_cursor INTO :emp_name; 
} 

void 
sql_error(msg) 
char *msg; 
{ 
     char buf[500]; 
     int buflen , msglen; 

     EXEC SQL WHENEVER SQLERROR  CONTINUE; 
     EXEC SQL ROLLBACK TRANSACTION; 
     buflen = sizeof (buf); 
     sqlglm(buf, &amp;buflen, &amp;mesglen); 
     printf("%s\n",msg); 
     printf("%*.s\n",msglen,buf); 
     exit(1); 
}</pre></div>
            </div><a id="LNPCC3396"></a><div class="props_rev_3"><a id="GUID-1A65920B-74ED-41FB-B120-C46A8EA86018" name="GUID-1A65920B-74ED-41FB-B120-C46A8EA86018"></a><h3 id="LNPCC-GUID-1A65920B-74ED-41FB-B120-C46A8EA86018" class="sect3"><span class="enumeration_section">6.13 </span>Positioned Update
               </h3>
               <div>
                  <p>The following skeletal example demonstrates positioned update using the universal ROWID. </p><pre class="oac_no_warn" dir="ltr">#include &lt;oci.h&gt;
...
OCIRowid *urowid;
...
EXEC SQL ALLOCATE :urowid;
EXEC SQL DECLARE cur CURSOR FOR
    SELECT rowid, ... FROM my_table FOR UPDATE OF ...;
EXEC SQL OPEN cur;
EXEC SQL FETCH cur INTO :urowid, ...;
/* Process data */
...
EXEC SQL UPDATE my_table SET ... WHERE CURRENT OF cur;
EXEC SQL CLOSE cur;
EXEC SQL FREE :urowid;
...

</pre><p></p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="datatypes-and-host-variables.html#GUID-F78340AF-531F-4D1F-8D59-5C5860E7C367">Universal ROWIDs</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='10455.CREATE-TABLESPACE.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CREATE TABLESPACE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CREATE-TABLE.html" title="Previous" type="text/html">
      <link rel="next" href="CREATE-TABLESPACE-SET.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-TABLE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CREATE-TABLESPACE-SET.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-CREATE-SEQUENCE-to-DROP-CLUSTER.html" property="item" typeof="WebPage"><span property="name">SQL Statements: CREATE SEQUENCE to DROP CLUSTER</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE TABLESPACE </li>
            </ol>
            <a id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9" name="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9"></a><a id="SQLRF54667"></a><a id="SQLRF54668"></a><a id="SQLRF54669"></a><a id="SQLRF54670"></a><a id="SQLRF56773"></a><a id="SQLRF56954"></a><a id="SQLRF56955"></a><a id="SQLRF56956"></a><a id="SQLRF56957"></a><a id="SQLRF56958"></a><a id="SQLRF54672"></a><a id="SQLRF54673"></a><a id="SQLRF54674"></a><a id="SQLRF54675"></a><a id="SQLRF54676"></a><a id="SQLRF54677"></a><a id="SQLRF54678"></a><a id="SQLRF54679"></a><a id="SQLRF54680"></a><a id="SQLRF54681"></a><a id="SQLRF54682"></a><a id="SQLRF54683"></a><a id="SQLRF54684"></a><a id="SQLRF54685"></a><a id="SQLRF54686"></a><a id="SQLRF54687"></a><a id="SQLRF54688"></a><a id="SQLRF54689"></a><a id="SQLRF54690"></a><a id="SQLRF54691"></a><a id="SQLRF54692"></a><a id="SQLRF54693"></a><a id="SQLRF55615"></a><a id="SQLRF54694"></a><a id="SQLRF56775"></a><a id="SQLRF56776"></a><a id="SQLRF56777"></a><a id="SQLRF54695"></a><a id="SQLRF54696"></a><a id="SQLRF54697"></a><a id="SQLRF54698"></a><a id="SQLRF54700"></a><a id="SQLRF54701"></a><a id="SQLRF54702"></a><a id="SQLRF54703"></a><a id="SQLRF54704"></a><a id="SQLRF54705"></a><a id="SQLRF54706"></a><a id="SQLRF54707"></a><a id="SQLRF54708"></a><a id="SQLRF54709"></a><a id="SQLRF54710"></a><a id="SQLRF54711"></a><a id="SQLRF56621"></a><a id="SQLRF54712"></a><a id="SQLRF54713"></a><a id="SQLRF54714"></a><a id="SQLRF54715"></a><a id="SQLRF54716"></a><a id="SQLRF54717"></a><a id="SQLRF54718"></a><a id="SQLRF54719"></a><a id="SQLRF54720"></a><a id="SQLRF54721"></a><a id="SQLRF54722"></a><a id="SQLRF54723"></a><a id="SQLRF01403"></a>
            
            <h2 id="SQLRF-GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9" class="sect2">CREATE TABLESPACE </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D03AE175-CC3B-4845-A374-CE41F1715E37">Purpose </p>
                  <p><a id="d372237e265" class="indexterm-anchor"></a>Use the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> statement to create a <span class="bold">tablespace</span>, which is an allocation of space in the database that can contain schema objects.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A <span class="bold">permanent tablespace</span> contains persistent schema objects. Objects in permanent tablespaces are stored in <span class="bold">data files</span>.
                        </p>
                     </li>
                     <li>
                        <p>An <span class="bold">undo tablespace</span> is a type of permanent tablespace used by Oracle Database to manage undo data if you are running your database in automatic undo management mode. Oracle strongly recommends that you use automatic undo management mode rather than using rollback segments for undo.
                        </p>
                     </li>
                     <li>
                        <p>A <span class="bold">temporary tablespace</span> contains schema objects only for the duration of a session. Objects in temporary tablespaces are stored in <span class="bold">temp files</span>.
                        </p>
                     </li>
                  </ul>
                  <p>When you create a tablespace, it is initially a read/write tablespace. You can subsequently use the <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> statement to take the tablespace offline or online, add data files or temp files to it, or make it a read-only tablespace.
                  </p>
                  <p>You can also drop a tablespace from the database with the <code class="codeph">DROP</code> <code class="codeph">TABLESPACE</code> statement.
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-5B057B15-7245-434E-9C8F-6EA42892034A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/introduction-to-oracle-database.html#CNCPT003" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information on tablespaces
                           </p>
                        </li>
                        <li>
                           <p><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a> and <a href="DROP-TABLESPACE.html#GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11">DROP TABLESPACE</a> for information on modifying and dropping tablespaces
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063185">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-63DBF106-446B-47DB-88C5-0C859C63CAF3">Prerequisites </p>
                  <p>You must have the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> system privilege. To create the <code class="codeph">SYSAUX</code> tablespace, you must have the <code class="codeph">SYSDBA</code> system privilege.
                  </p>
                  <p>Before you can create a tablespace, you must create a database to contain it, and the database must be open.</p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-E98475C5-8B55-4EBE-9F99-4EBD1331182C">
                     <p class="notep1">See Also:</p>
                     <p><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C">CREATE DATABASE</a></p>
                  </div>
                  <p>To use objects in a tablespace other than the <code class="codeph">SYSTEM</code> tablespace:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you are running the database in automatic undo management mode, then at least one <code class="codeph">UNDO</code> tablespace must be online.
                        </p>
                     </li>
                     <li>
                        <p>If you are running the database in manual undo management mode, then at least one rollback segment other than the <code class="codeph">SYSTEM</code> rollback segment must be online.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-60077486-B1AC-4EF1-92D6-5DCEE3C4AB5B">
                     <p class="notep1">Note:</p>
                     <p>Oracle strongly recommends that you run your database in automatic undo management mode. For more information, refer to <a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2132654">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C277E0A1-459F-4A75-B934-90F558E4F591">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-8280A312-248C-4929-A8E9-54119E73FCFD"><span class="italic">create_tablespace</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-7F5C4C26-6A5D-4776-A288-3DE836F470D6"><img src="img/create_tablespace.gif" alt="Description of create_tablespace.eps follows" title="Description of create_tablespace.eps follows" longdesc="img_text/create_tablespace.html"><br><a href="img_text/create_tablespace.html">Description of the illustration create_tablespace.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJABIGJI">permanent_tablespace_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAFDEIF">temporary_tablespace_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAJHGDA">undo_tablespace_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJABIGJI">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-E11FC306-01AF-4574-9B93-69F7391404C6"><span class="italic">permanent_tablespace_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B30E9AC6-B9C3-407C-87B6-861D886DBD18"><img src="img/permanent_tablespace_clause.gif" alt="Description of permanent_tablespace_clause.eps follows" title="Description of permanent_tablespace_clause.eps follows" longdesc="img_text/permanent_tablespace_clause.html"><br><a href="img_text/permanent_tablespace_clause.html">Description of the illustration permanent_tablespace_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification::=</a></span><a id="d372237e424" class="indexterm-anchor"></a><a id="d372237e428" class="indexterm-anchor"></a>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_ATTRS-54281ED5">permanent_tablespace_attrs::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_ATTRS-54281ED5">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-4A67C3A2-D6D3-4BDD-B549-5F7FB8A2DF92"><span class="italic">permanent_tablespace_attrs</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-3E54C7EC-8996-4A3C-9CFB-C11425E5D2E0"><img src="img/permanent_tablespace_attrs.gif" alt="Description of permanent_tablespace_attrs.eps follows" title="Description of permanent_tablespace_attrs.eps follows" longdesc="img_text/permanent_tablespace_attrs.html"><br><a href="img_text/permanent_tablespace_attrs.html">Description of the illustration permanent_tablespace_attrs.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146497">logging_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-5ADA8599">tablespace_encryption_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLESPACE_PARAMS-5ADA60FC">default_tablespace_params::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">extent_management_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146541">segment_management_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2185336">flashback_mode_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146497">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A53933FB-CF9B-4ABE-960A-85AF432C95A3"><span class="italic">logging_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-FDABF6DD-E9FA-46F8-A656-3629CF601C36"><img src="img/logging_clause.gif" alt="Description of logging_clause.eps follows" title="Description of logging_clause.eps follows" longdesc="img_text/logging_clause.html"><br><a href="img_text/logging_clause.html">Description of the illustration logging_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-5ADA8599">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0ADDD2AE-278B-40B5-B221-9102BD3AF468"><span class="italic">tablespace_encryption_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-1694691A-8BF9-4E54-9A58-21710ED8B9AE"><img src="img/tablespace_encryption_clause.gif" alt="Description of tablespace_encryption_clause.eps follows" title="Description of tablespace_encryption_clause.eps follows" longdesc="img_text/tablespace_encryption_clause.html"><br><a href="img_text/tablespace_encryption_clause.html">Description of the illustration tablespace_encryption_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABEGDAG">tablespace_encryption_spec::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABEGDAG">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0224092C-183A-4F0B-8F07-E2397EC388FC"><span class="italic">tablespace_encryption_spec</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-FBD89652-54DE-4980-8630-8ED4FD74EF35"><img src="img/tablespace_encryption_spec.gif" alt="Description of tablespace_encryption_spec.eps follows" title="Description of tablespace_encryption_spec.eps follows" longdesc="img_text/tablespace_encryption_spec.html"><br><a href="img_text/tablespace_encryption_spec.html">Description of the illustration tablespace_encryption_spec.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLESPACE_PARAMS-5ADA60FC">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-3578E602-E015-450F-BBA1-D0B01639BD1B"><span class="italic">default_tablespace_params</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C0A10964-045B-44E1-8D61-411A9F382037"><img src="img/default_tablespace_params.gif" alt="Description of default_tablespace_params.eps follows" title="Description of default_tablespace_params.eps follows" longdesc="img_text/default_tablespace_params.html"><br><a href="img_text/default_tablespace_params.html">Description of the illustration default_tablespace_params.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLE_COMPRESSION-5AD66540">default_table_compression::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_INDEX_COMPRESSION-5AD66895">default_index_compression::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCADBG">inmemory_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJAIDBJE">ilm_clause::=</a></span>—part of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> syntax, <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause::=</a></span>)
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-20D17E63-EE0A-4832-86F1-73EC0EE166C4">
                     <p class="notep1">Note:</p>
                     <p>If you specify the <code class="codeph">DEFAULT</code> clause, then you must specify at least one of the clauses <span class="italic"><code class="codeph">default_table_compression</code></span>, <span class="italic"><code class="codeph">default_index_compression</code></span>, <span class="italic"><code class="codeph">inmemory_clause</code></span>, <span class="italic"><code class="codeph">ilm_clause</code></span>, or <span class="italic"><code class="codeph">storage_clause</code></span>.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLE_COMPRESSION-5AD66540">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-1504A5F9-D067-4B07-816D-1F6139565C22"><span class="italic">default_table_compression</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-86C899A9-608F-4BD4-9FCF-CA862FEBC7E6"><img src="img/default_table_compression.gif" alt="Description of default_table_compression.eps follows" title="Description of default_table_compression.eps follows" longdesc="img_text/default_table_compression.html"><br><a href="img_text/default_table_compression.html">Description of the illustration default_table_compression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_INDEX_COMPRESSION-5AD66895">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-3B49D197-0317-40BD-BD02-F090D03BDD02"><span class="italic">default_index_compression</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-7077BDAC-C355-4E84-BBD1-A2763ADC01E7"><img src="img/default_index_compression.gif" alt="Description of default_index_compression.eps follows" title="Description of default_index_compression.eps follows" longdesc="img_text/default_index_compression.html"><br><a href="img_text/default_index_compression.html">Description of the illustration default_index_compression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCADBG">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B0440AA7-CD85-4001-921D-0EF519957B3F"><span class="italic">inmemory_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-25BC72ED-44CD-4D5B-A615-3FC65276D6D2"><img src="img/inmemory_clause.gif" alt="Description of inmemory_clause.eps follows" title="Description of inmemory_clause.eps follows" longdesc="img_text/inmemory_clause.html"><br><a href="img_text/inmemory_clause.html">Description of the illustration inmemory_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B4665817-6A8E-4F3F-AA59-6F8341036D06"><span class="italic">inmemory_attributes</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-B32742D7-2DF2-488B-A628-1391ADBE78D8"><img src="img/inmemory_attributes.gif" alt="Description of inmemory_attributes.eps follows" title="Description of inmemory_attributes.eps follows" longdesc="img_text/inmemory_attributes.html"><br><a href="img_text/inmemory_attributes.html">Description of the illustration inmemory_attributes.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGJJJAB">inmemory_memcompress::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFIE">inmemory_priority::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCBAGJ">inmemory_distribute_tablespace::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFCJ">inmemory_duplicate::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGJJJAB">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-6C8C1101-1AAC-4CF2-B776-ECECCA8D5A5D"><span class="italic">inmemory_memcompress</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-34815F2C-5D88-42F6-9C34-2BF138F9D47E"><img src="img/inmemory_memcompress.gif" alt="Description of inmemory_memcompress.eps follows" title="Description of inmemory_memcompress.eps follows" longdesc="img_text/inmemory_memcompress.html"><br><a href="img_text/inmemory_memcompress.html">Description of the illustration inmemory_memcompress.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFIE">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-80EA66FC-3E94-477A-BEE1-9738D6448174"><span class="italic">inmemory_priority</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A4A18810-3FA0-43E4-94AC-8AE75DC412D0"><img src="img/inmemory_priority.gif" alt="Description of inmemory_priority.eps follows" title="Description of inmemory_priority.eps follows" longdesc="img_text/inmemory_priority.html"><br><a href="img_text/inmemory_priority.html">Description of the illustration inmemory_priority.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCBAGJ">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D00E200B-605D-4C82-A17D-84CDC9DB121C"><span class="italic">inmemory_distribute_tablespace</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-AE9E81E4-B64C-469E-97C5-B4D65AC2626D"><img src="img/inmemory_distribute_tablespace.gif" alt="Description of inmemory_distribute_tablespace.eps follows" title="Description of inmemory_distribute_tablespace.eps follows" longdesc="img_text/inmemory_distribute_tablespace.html"><br><a href="img_text/inmemory_distribute_tablespace.html">Description of the illustration inmemory_distribute_tablespace.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGDFFCJ">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-21D319A9-4BB0-412E-86B7-84848D366C0C"><span class="italic">inmemory_duplicate</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A326A71E-A268-44C8-B838-FF9D17D59C37"><img src="img/inmemory_duplicate.gif" alt="Description of inmemory_duplicate.eps follows" title="Description of inmemory_duplicate.eps follows" longdesc="img_text/inmemory_duplicate.html"><br><a href="img_text/inmemory_duplicate.html">Description of the illustration inmemory_duplicate.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-CA9E8B81-6F5B-4049-ACF7-81A6B3B4B3F9"><span class="italic">extent_management_clause</span>::=
                  </p><a id="d372237e658" class="indexterm-anchor"></a><div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-32340B86-889A-431F-9EB9-795199867648"><img src="img/extent_management_clause.gif" alt="Description of extent_management_clause.eps follows" title="Description of extent_management_clause.eps follows" longdesc="img_text/extent_management_clause.html"><br><a href="img_text/extent_management_clause.html">Description of the illustration extent_management_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2146541">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-733476AD-1E06-4C70-8125-6589B136F1A5"><span class="italic">segment_management_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C9CBCA0F-A105-45FA-BF6E-D0C0FE73B873"><img src="img/segment_management_clause.gif" alt="Description of segment_management_clause.eps follows" title="Description of segment_management_clause.eps follows" longdesc="img_text/segment_management_clause.html"><br><a href="img_text/segment_management_clause.html">Description of the illustration segment_management_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2185336">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D241576F-8CCB-46AA-BF30-D4316BA5A346"><span class="italic">flashback_mode_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-429B6608-C1D8-4CC1-8375-C95A752214F0"><img src="img/flashback_mode_clause.gif" alt="Description of flashback_mode_clause.eps follows" title="Description of flashback_mode_clause.eps follows" longdesc="img_text/flashback_mode_clause.html"><br><a href="img_text/flashback_mode_clause.html">Description of the illustration flashback_mode_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAJHGDA">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-C97C52B1-42BB-41A0-AD94-3806D7D70DB6"><span class="italic">undo_tablespace_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-AE57218D-715E-4742-A2FC-C95403FDA3B6"><img src="img/undo_tablespace_clause.gif" alt="Description of undo_tablespace_clause.eps follows" title="Description of undo_tablespace_clause.eps follows" longdesc="img_text/undo_tablespace_clause.html"><br><a href="img_text/undo_tablespace_clause.html">Description of the illustration undo_tablespace_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification::=</a></span><a id="d372237e700" class="indexterm-anchor"></a><a id="d372237e704" class="indexterm-anchor"></a>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">extent_management_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2215512">tablespace_retention_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2215512">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-44C87856-5ECD-48CB-BD0F-621989ED3FB5"><span class="italic">tablespace_retention_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D4216024-B800-49B3-A68D-13D1E7BD24E8"><img src="img/tablespace_retention_clause.gif" alt="Description of tablespace_retention_clause.eps follows" title="Description of tablespace_retention_clause.eps follows" longdesc="img_text/tablespace_retention_clause.html"><br><a href="img_text/tablespace_retention_clause.html">Description of the illustration tablespace_retention_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAFDEIF">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-745AB933-CAB2-4307-A540-0D3CD3D4C6F0"><span class="italic">temporary_tablespace_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-14CEC26F-9BA5-4AE6-AE52-B1C392987233"><img src="img/temporary_tablespace_clause.gif" alt="Description of temporary_tablespace_clause.eps follows" title="Description of temporary_tablespace_clause.eps follows" longdesc="img_text/temporary_tablespace_clause.html"><br><a href="img_text/temporary_tablespace_clause.html">Description of the illustration temporary_tablespace_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688__CJADEBBF">file_specification::=</a></span><a id="d372237e739" class="indexterm-anchor"></a><a id="d372237e743" class="indexterm-anchor"></a>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_GROUP_CLAUSE-5ADB7EF9">tablespace_group_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2150446">extent_management_clause::=</a></span>, <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-5ADA8599">tablespace_encryption_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_GROUP_CLAUSE-5ADB7EF9">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9879FF09-CB9D-42A9-8BD7-F5AD07C68D33"><span class="italic">tablespace_group_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-2B1BC158-99B0-489F-8CA9-62E777A23980"><img src="img/tablespace_group_clause.gif" alt="Description of tablespace_group_clause.eps follows" title="Description of tablespace_group_clause.eps follows" longdesc="img_text/tablespace_group_clause.html"><br><a href="img_text/tablespace_group_clause.html">Description of the illustration tablespace_group_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-786E59A9-5E9B-4CC5-A893-E8858745355C"><span class="italic">lost_write_protection</span> ::=
                  </p>
                  <div class="figure" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-738C5426-12D2-43DE-BD8A-4A9CACB48819"><img src="img/lost_write_protection.gif" alt="Description of lost_write_protection.eps follows" title="Description of lost_write_protection.eps follows" longdesc="img_text/lost_write_protection.html"><br><a href="img_text/lost_write_protection.html">Description of the illustration lost_write_protection.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2215114">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-50F229CA-DF8C-4B5E-9D19-5D89052CB856">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2194039">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-59D53153-619F-4B38-BD25-87A35F707CA8">BIGFILE | SMALLFILE</p>
                  <p><a id="d372237e783" class="indexterm-anchor"></a><a id="d372237e787" class="indexterm-anchor"></a>Use this clause to determine whether the tablespace is a bigfile or smallfile tablespace. This clause overrides any default tablespace type setting for the database. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A <span class="bold">bigfile tablespace</span> contains only one data file or temp file, which can contain up to approximately 4 billion (2<sup>32</sup>) blocks. The minimum size of the single data file or temp file is 12 megabytes (MB) for a tablespace with 32K blocks and 7MB for a tablespace with 8K blocks. The maximum size of the single data file or temp file is 128 terabytes (TB) for a tablespace with 32K blocks and 32TB for a tablespace with 8K blocks. 
                        </p>
                     </li>
                     <li>
                        <p>A <span class="bold">smallfile tablespace</span> is a traditional Oracle tablespace, which can contain 1022 data files or temp files, each of which can contain up to approximately 4 million (2<sup>22</sup>) blocks.
                        </p>
                     </li>
                  </ul>
                  <p>If you omit this clause, then Oracle Database uses the current default tablespace type of permanent or temporary tablespace that is set for the database. If you specify <code class="codeph">BIGFILE</code> for a permanent tablespace, then the database by default creates a locally managed tablespace with automatic segment-space management. 
                  </p>
                  <p>Restriction on Bigfile Tablespaces</p>
                  <p>You can specify only one data file in the <code class="codeph">DATAFILE</code> clause or one temp file in the <code class="codeph">TEMPFILE</code> clause.
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-11F749B2-0EE6-4E21-8BB6-829E87F9F7B7">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/managing-tablespaces.html#ADMIN01102" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on using bigfile tablespaces
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2202470">Creating a Bigfile Tablespace: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_CLAUSE-3E6FC35A">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-35FCE9C2-ED45-42DF-8ABD-7D408A514B70"><span class="italic">permanent_tablespace_clause</span></p>
                  <p>Use the following clauses to create a permanent tablespace. (Some of these clauses are also used to create a temporary or undo tablespace.)</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-394D84AB-0745-43FB-920D-01EA8E8413CA"><span class="italic">tablespace</span></p>
                  <p>Specify the name of the tablespace to be created. The name must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>.
                  </p>
                  <p><span class="bold">Note on the SYSAUX Tablespace</span></p>
                  <p><code class="codeph">SYSAUX</code> is a required auxiliary system tablespace. You must use the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> statement to create the <code class="codeph">SYSAUX</code> tablespace if you are upgrading from a release earlier than Oracle Database 11<span class="italic">g</span>. You must have the <code class="codeph">SYSDBA</code> system privilege to specify this clause, and you must have opened the database in <code class="codeph">UPGRADE</code> mode.
                  </p>
                  <p>You must specify <code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code> and <code class="codeph">SEGMENT</code> <code class="codeph">SPACE</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">AUTO</code> for the <code class="codeph">SYSAUX</code> tablespace. The <code class="codeph">DATAFILE</code> clause is optional only if you have enabled Oracle Managed Files. See <span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">DATAFILE | TEMPFILE Clause</a>"</span> for the behavior of the <code class="codeph">DATAFILE</code> clause.
                  </p>
                  <p>Take care to allocate sufficient space for the <code class="codeph">SYSAUX</code> tablespace. For guidelines on creating this tablespace, refer to <a href="../upgrd/upgrading-oracle-database.html#UPGRD003" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a>.
                  </p>
                  <p><span class="bold">Restrictions on the SYSAUX Tablespace</span></p>
                  <p>You cannot specify <code class="codeph">OFFLINE</code> or <code class="codeph">TEMPORARY</code> for the <code class="codeph">SYSAUX</code> tablespace.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-38FA57FA-7084-4285-9CDF-3E86B347C0DC">DATAFILE | TEMPFILE Clause</p>
                  <p><a id="d372237e947" class="indexterm-anchor"></a><a id="d372237e953" class="indexterm-anchor"></a><a id="d372237e959" class="indexterm-anchor"></a>Specify the data files to make up the permanent tablespace or the temp files to make up the temporary tablespace. Use the <span class="italic"><code class="codeph">datafile_tempfile_spec</code></span> form of <span class="italic"><code class="codeph">file_specification</code></span> to create regular data files and temp files in an operating system file system or to create Oracle Automatic Storage Management (Oracle ASM) disk group files. 
                  </p>
                  <p>You must specify the <code class="codeph">DATAFILE</code> or <code class="codeph">TEMPFILE</code> clause unless you have enabled Oracle Managed Files by setting a value for the <code class="codeph">DB_CREATE_FILE_DEST</code> initialization parameter. For Oracle ASM disk group files, the parameter must be set to a multiple file creation form of Oracle ASM filenames. If this parameter is set, then the database creates a system-named 100 MB file in the default file destination specified in the parameter. The file has <code class="codeph">AUTOEXTEND</code> enabled and an unlimited maximum size. 
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-1672F5DB-79B2-4379-8524-3D5D99C52D17">
                     <p class="notep1">Note:</p>
                     <p>Media recovery does not recognize temp files.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-6E509D1B-E76C-4C81-8176-6921448EE146">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for more information on using Oracle ASM
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span> for a full description, including the <code class="codeph">AUTOEXTEND</code> parameter and the multiple file creation form of Oracle ASM filenames
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Notes on Specifying Data Files and Temp Files</span></p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can create a tablespace within an Oracle ASM disk group by providing only the disk group name in the <span class="italic"><code class="codeph">datafile_tempfile_spec</code></span>. In this case, Oracle ASM creates a data file in the specified disk group with a system-generated filename. The data file is auto-extensible with an unlimited maximum size and a default size of 100 MB. You can use the <span class="italic"><code class="codeph">autoextend_clause</code></span> to override the default size. 
                        </p>
                     </li>
                     <li>
                        <p>If you use one of the reference forms of the <span class="italic"><code class="codeph">ASM_filename</code></span>, which refers to an existing file, then you must also specify <code class="codeph">REUSE</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-DD1B219F-90B6-4B35-B8C5-376EAAC5B6A1">
                     <p class="notep1">Note:</p>
                     <p>On some operating systems, Oracle does not allocate space for a temp file until the temp file blocks are actually accessed. This delay in space allocation results in faster creation and resizing of temp files, but it requires that sufficient disk space is available when the temp files are later used. To avoid potential problems, before you create or resize a temp file, ensure that the available disk space exceeds the size of the new temp file or the increased size of a resized temp file. The excess space should allow for anticipated increases in disk space use by unrelated operations as well. Then proceed with the creation or resizing operation.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-FA58FCA3-F449-47F4-913C-2A887D10BB6E">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><a href="file_specification.html#GUID-580FA726-F712-4410-90CF-783A2DA89688">file_specification</a></span> for a full description, including the <code class="codeph">AUTOEXTEND</code> parameter
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153424">Enabling Autoextend for a Tablespace: Example</a>"</span> and <span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2082522">Creating Oracle Managed Files: Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__PERMANENT_TABLESPACE_ATTRS-2B5BC183">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-537AEAD6-2196-4E43-8973-71403B7B248D"><span class="italic">permanent_tablespace_attrs</span></p>
                  <p>Use the <span class="italic"><code class="codeph">permanent_tablespace_attrs</code></span> clauses to set the attributes of the tablespace.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-65BCE1CA-310A-4528-A28C-175ED4DACFE2">MINIMUM EXTENT Clause</p>
                  <p><a id="d372237e1072" class="indexterm-anchor"></a><a id="d372237e1076" class="indexterm-anchor"></a>This clause is valid only for a dictionary-managed tablespace. Specify the minimum size of an extent in the tablespace. This clause lets you control free space fragmentation in the tablespace by ensuring that the size of every used or free extent in a tablespace is at least as large as, and is a multiple of, the value specified in the <span class="italic"><code class="codeph">size_clause</code></span>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-49E3E9A0-726B-438E-837E-7B7A94795E08">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517">size_clause</a></span> for information on that clause and <a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about using <code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code> to control fragmentation
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-705D1102-729B-4875-8ED4-27D727708BF8">BLOCKSIZE Clause</p>
                  <p><a id="d372237e1107" class="indexterm-anchor"></a><a id="d372237e1111" class="indexterm-anchor"></a>Use the <code class="codeph">BLOCKSIZE</code> clause to specify a nonstandard block size for the tablespace. In order to specify this clause, the <code class="codeph">DB_CACHE_SIZE</code> and at least one <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> parameter must be set, and the integer you specify in this clause must correspond with the setting of one <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> parameter setting.
                  </p>
                  <p><span class="bold">Restriction on BLOCKSIZE</span></p>
                  <p>You cannot specify nonstandard block sizes for a temporary tablespace or if you intend to assign this tablespace as the temporary tablespace for any users.</p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-D2262818-5D64-4A29-94BD-2F1F33254F41">
                     <p class="notep1">Note:</p>
                     <p>Oracle recommend that you do not store tablespaces with a 2K block size on 4K sector size disks, because performance degradation can result.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-34472106-468F-4EF1-B052-0C2710744C74">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/DB_nK_CACHE_SIZE.html#REFRN10027" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the <code class="codeph">DB_</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">K_CACHE_SIZE</code> parameter and <a href="../cncpt/logical-storage-structures.html#CNCPT250" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information on multiple block sizes
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAICHIG">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-158E5259-7C3F-4CF5-9140-06CFF915F6F0"><span class="italic">logging_clause </span></p>
                  <p>Specify the default logging attributes of all tables, indexes, materialized views, materialized view logs, and partitions within the tablespace. This clause is not valid for a temporary or undo tablespace.</p>
                  <p>If you omit this clause, then the default is <code class="codeph">LOGGING</code>. The exception is creating a tablespace in a PDB. In this case, if you omit this clause, then the tablespace uses the logging attribute of the PDB. Refer to the <span class="italic"><a href="CREATE-PLUGGABLE-DATABASE.html#GUID-F2DBA8DD-EEA8-4BB7-A07F-78DC04DB1FFC__CACJIEBE">logging_clause</a></span> of <code class="codeph">CREATE</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> for more information.
                  </p>
                  <p>The tablespace-level logging attribute can be overridden by logging specifications at the table, index, materialized view, materialized view log, and partition levels.</p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-191AB390-9B1B-44D7-827F-6E51DCAED153">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span> for a full description of this clause
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9BA7C0D3-A874-40DB-95F8-55C9571B9925">FORCE LOGGING</p>
                  <p><a id="d372237e1205" class="indexterm-anchor"></a><a id="d372237e1209" class="indexterm-anchor"></a>Use this clause to put the tablespace into <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode. Oracle Database will log all changes to all objects in the tablespace except changes to temporary segments, overriding any <code class="codeph">NOLOGGING</code> setting for individual objects. The database must be open and in <code class="codeph">READ</code> <code class="codeph">WRITE</code> mode.
                  </p>
                  <p>This setting does not exclude the <code class="codeph">NOLOGGING</code> attribute. You can specify both <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> and <code class="codeph">NOLOGGING</code>. In this case, <code class="codeph">NOLOGGING</code> is the default logging mode for objects subsequently created in the tablespace, but the database ignores this default as long as the tablespace or the database is in <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode. If you subsequently take the tablespace out of <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode, then the <code class="codeph">NOLOGGING</code> default is once again enforced.
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-57760FB1-E475-44AE-B05D-F0B72F746C44">
                     <p class="notep1">Note:</p>
                     <p><code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode can have performance effects. Refer to <a href="../admin/managing-tablespaces.html#ADMIN011" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information on when to use this setting.
                     </p>
                  </div>
                  <p><span class="bold">Restriction on Forced Logging</span></p>
                  <p>You cannot specify <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> for an undo or temporary tablespace.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-66A448F2-4FC7-4808-A503-0C964D77E4B1"><span class="italic">tablespace_encryption_clause</span></p>
                  <p>Use this clause to specify whether to create an encrypted or unencrypted tablespace. If you create an encrypted tablespace, then Transparent Data Encryption (TDE) is applied to all data files of the tablespace.</p><code class="codeph"><span class="bold">ENCRYPT | DECRYPT</span></code><p>Specify <code class="codeph">ENCRYPT</code> to create an encrypted tablespace. Specify <code class="codeph">DECRYPT</code> to create an unencrypted tablespace.
                  </p>
                  <p>If you omit this clause, then the value of the <code class="codeph">ENCRYPT_NEW_TABLESPACES</code> initialization parameter determines whether the tablespace is encrypted upon creation. Refer to <a href="../refrn/ENCRYPT_NEW_TABLESPACES.html#REFRN-GUID-44EF2AAC-1313-4437-B0F3-A427F45016F2" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information on the <code class="codeph">ENCRYPT_NEW_TABLESPACES</code> initialization parameter.
                  </p>
                  <p>Before issuing this clause, you must already have loaded the TDE master key into database memory or established a connection to the HSM. For more information, see the <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__OPEN_KEYSTORE-2C9ED408">open_keystore</a> clause of <code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> or <span class="q">"<a href="ALTER-SYSTEM.html#GUID-2C638517-D73A-41CA-9D8E-A62D1A0B7ADB__BABFBJBI">SET ENCRYPTION WALLET Clause</a>"</span> of <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_SPEC-2C08191C">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-90C2FF5A-7CAD-4EA5-B136-DE46BE81A067"><span class="italic">tablespace_encryption_spec</span></p>
                  <p>Specify <code class="codeph">USING</code> '<span class="italic"><code class="codeph">encrypt_algorithm</code></span>' to indicate the name of the encryption algorithm to be used. Valid algorithms are <code class="codeph">AES256</code>, <code class="codeph">AES192</code>, <code class="codeph">AES128</code> and <code class="codeph">3DES168</code>. If the <code class="codeph">COMPATIBLE</code> initialization parameter is set to <code class="codeph">12</code>.<code class="codeph">2</code> or higher, then the following algorithms are also valid: <code class="codeph">ARIA128</code>, <code class="codeph">ARIA192</code>, <code class="codeph">ARIA256</code>, <code class="codeph">GOST256</code>, and <code class="codeph">SEED128</code>.. If you omit this clause, then the database uses <code class="codeph">AES128</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-8D63AA74-7454-474D-8D95-D6775A978D6D">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABBGEEE">Creating an Encrypted Tablespace: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLESPACE_PARAMS-2D0A685E">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-11B94FF7-491F-498D-842B-65DB8BCCCEA9"><span class="italic">default_tablespace_params</span></p>
                  <p>The <code class="codeph">DEFAULT</code> clause lets you specify default parameters for the tablespace.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_TABLE_COMPRESSION-2C0AE686">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-86E45BC0-8D0A-4317-B0F6-A44C1E3EC4AC"><span class="italic">default_table_compression</span></p>
                  <p>Use this clause to specify default compression of data for all tables created in the tablespace. This clause is not valid for a temporary tablespace. The subclauses of this clause have the same semantics as they have for the <span class="italic"><code class="codeph">table_compression</code></span> clause of the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement, with one exception: The <code class="codeph">COMPRESS</code> <code class="codeph">FOR</code> <code class="codeph">OLTP</code> clause here is equivalent to the <code class="codeph">ROW</code> <code class="codeph">STORE</code> <code class="codeph">COMPRESS</code> <code class="codeph">ADVANCED</code> clause of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>. Refer to the <a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2128733">table_compression</a> clauses of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> for the full semantics of these subclauses.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__DEFAULT_INDEX_COMPRESSION-5B86AD76">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-4A1FD031-CB60-4D17-A4F2-E52F44C0C310"><span class="italic">default_index_compression</span></p>
                  <p>Use this clause to specify default compression of data for all indexes created in the tablespace. This clause is not valid for a temporary tablespace. The subclauses of this clause have the same semantics as they have for the <span class="italic"><code class="codeph">advanced_index_compression</code></span> clause of the <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statement. Refer to the <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__CACIEEBC">advanced_index_compression</a> clause of <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> for the full semantics of these subclauses.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CEGCFHJD">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9AAF4C97-91CF-4172-A2B5-D71BACFDC75B"><span class="italic">inmemory_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">inmemory_clause</code></span> to specify the default In-Memory Column Store (IM column store) settings for all tables and materialized views created in the tablespace. This clause is not valid for a temporary tablespace.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">INMEMORY</code> to enable all tables and materialized views for the IM column store.
                        </p>
                        <p>You can optionally use the <span class="italic"><code class="codeph">inmemory_attributes</code></span> clause to specify how the table or materialized view data is stored in the IM column store. The <span class="italic"><code class="codeph">inmemory_attributes</code></span> clause has the same semantics in <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> and <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code>. Refer to the <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGIDFIC">inmemory_attributes</a></span> clause of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> for the full semantics of this clause.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">NO</code> <code class="codeph">INMEMORY</code> to disable all tables and materialized views for the IM column store. This is the default.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-279BFD19-5AD9-4E13-96A9-5B1C3418EE71"><span class="italic">ilm_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">ilm_clause</code></span> to specify default Automatic Data Optimization settings for all tables created in the tablespace. This clause is not valid for a temporary tablespace. Refer to the <a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CJAIIDEA">ilm_clause</a> of <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> for the full semantics of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-E0B4607A-F7E6-4391-AF00-B40350902270"><span class="italic">storage_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">storage_clause</code></span> to specify storage parameters for all objects created in the tablespace. This clause is not valid for a temporary tablespace or a locally managed tablespace. For a dictionary-managed tablespace, you can specify the following storage parameters with this clause: <code class="codeph">ENCRYPT</code>, <code class="codeph">INITIAL</code>, <code class="codeph">NEXT</code>, <code class="codeph">MINEXTENTS</code>, <code class="codeph">MAXEXTENTS</code>, <code class="codeph">MAXSIZE</code>, and <code class="codeph">PCTINCREASE</code>. Refer to <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15">storage_clause</a></span> for more information.
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-039E5D6B-148C-40FB-B916-FC25361594C8">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">ENCRYPT</code> clause of the <span class="italic"><code class="codeph">storage_clause</code></span> is supported for backward compatibility. However, beginning with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can instead specify <code class="codeph">ENCRYPT</code> in the <span class="italic"><code class="codeph">tablespace_encryption_clause</code></span>. Refer to <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">tablespace_encryption_clause</a> for more information.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-9B917F64-343E-4129-92A6-9F93D4D49535">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153401">Creating Basic Tablespaces: Examples</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-EE8499EE-D828-4B3C-BD46-FDDF20919468">ONLINE | OFFLINE Clauses</p>
                  <p>Use these clauses to determine whether the tablespace is online or offline. This clause is not valid for a temporary tablespace.</p>
                  <p><span class="bold">ONLINE</span> <a id="d372237e1643" class="indexterm-anchor"></a><a id="d372237e1647" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">ONLINE</code> to make the tablespace available immediately after creation to users who have been granted access to the tablespace. This is the default.
                  </p>
                  <p><span class="bold">OFFLINE</span> <a id="d372237e1660" class="indexterm-anchor"></a><a id="d372237e1664" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">OFFLINE</code> to make the tablespace unavailable immediately after creation. 
                  </p>
                  <p>The data dictionary view <code class="codeph">DBA_TABLESPACES</code> indicates whether each tablespace is online or offline. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-25FE2347-2881-49B4-A95C-749FDEFB8B1C"><span class="italic">extent_management_clause </span></p>
                  <p>The <span class="italic"><code class="codeph">extent_management_clause</code></span> lets you specify how the extents of the tablespace will be managed.
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-EB401CC9-25B5-45DC-9AE9-0CCC80C28790">
                     <p class="notep1">Note:</p>
                     <p>After you have specified extent management with this clause, you can change extent management only by migrating the tablespace.</p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold"></span><code class="codeph">AUTOALLOCATE</code> specifies that the tablespace is system managed. Users cannot specify an extent size. You cannot specify <code class="codeph">AUTOALLOCATE</code> for a temporary tablespace. 
                        </p>
                     </li>
                     <li>
                        <p><span class="bold"></span><code class="codeph">UNIFORM</code> specifies that the tablespace is managed with uniform extents of <code class="codeph">SIZE</code> bytes.The default <code class="codeph">SIZE</code> is 1 megabyte. All extents of temporary tablespaces are of uniform size, so this keyword is optional for a temporary tablespace. However, you must specify <code class="codeph">UNIFORM</code> in order to specify <code class="codeph">SIZE</code>. You cannot specify <code class="codeph">UNIFORM</code> for an undo tablespace.
                        </p>
                     </li>
                  </ul>
                  <p>If you do not specify <code class="codeph">AUTOALLOCATE</code> or <code class="codeph">UNIFORM</code>, then the default is <code class="codeph">UNIFORM</code> for temporary tablespaces and <code class="codeph">AUTOALLOCATE</code> for all other types of tablespaces.
                  </p>
                  <p>If you do not specify the <span class="italic"><code class="codeph">extent_management_clause</code></span>, then Oracle Database interprets the <code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code> clause and the <code class="codeph">DEFAULT</code> <span class="italic"><code class="codeph">storage_clause</code></span> to determine extent management. 
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-83D9E1D7-B882-4614-ACD8-81858780CC2C">
                     <p class="notep1">Note:</p>
                     <p><a id="d372237e1758" class="indexterm-anchor"></a>The <code class="codeph">DICTIONARY</code> keyword is deprecated. It is still supported for backward compatibility. However, Oracle recommends that you create locally managed tablespaces. Locally managed tablespaces are much more efficiently managed than dictionary-managed tablespaces. The creation of new dictionary-managed tablespaces is scheduled for desupport.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-BBE41137-4165-4119-BF13-9A16DFDA224B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../cncpt/logical-storage-structures.html#CNCPT402" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for a discussion of locally managed tablespaces
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on Extent Management</span></p>
                  <p>Extent management is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A permanent locally managed tablespace can contain only permanent objects. If you need a locally managed tablespace to store temporary objects, for example, if you will assign it as a user's temporary tablespace, then use the <span class="italic"><code class="codeph">temporary_tablespace_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>If you specify this clause, then you cannot specify <code class="codeph">DEFAULT</code> <span class="italic"><code class="codeph">storage_clause,</code></span> <code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code>, or the <span class="italic"><code class="codeph">temporary_tablespace_clause</code></span>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0F6612A3-45ED-4809-AA0B-2900197AEC50">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/managing-tablespaces.html#ADMIN011" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information on changing extent management by migrating tablespaces and <span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153447">Creating a Locally Managed Tablespace: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2096553">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-340B7C0D-EBBD-4E0B-A333-40670A7EF0FE"><span class="italic">segment_management_clause </span></p>
                  <p>The <span class="italic"><code class="codeph">segment_management_clause</code></span> is relevant only for permanent, locally managed tablespaces. It lets you specify whether Oracle Database should track the used and free space in the segments in the tablespace using free lists or bitmaps. This clause is not valid for a temporary tablespace.
                  </p>
                  <p><span class="bold">AUTO</span> <a id="d372237e1831" class="indexterm-anchor"></a><a id="d372237e1833" class="indexterm-anchor"></a></p>
                  <p>Specify <code class="codeph">AUTO</code> if you want the database to manage the free space of segments in the tablespace using a bitmap. If you specify <code class="codeph">AUTO</code>, then the database ignores any specification for <code class="codeph">PCTUSED</code>, <code class="codeph">FREELIST</code>, and <code class="codeph">FREELIST</code> <code class="codeph">GROUPS</code> in subsequent storage specifications for objects in this tablespace. This setting is called <span class="bold">automatic segment-space management</span> and is the default. 
                  </p>
                  <p><span class="bold">MANUAL</span></p>
                  <p>Specify <code class="codeph">MANUAL</code> if you want the database to manage the free space of segments in the tablespace using free lists. Oracle strongly recommends that you do not use this setting and that you create tablespaces with automatic segment-space management.
                  </p>
                  <p>To determine the segment management of an existing tablespace, query the <code class="codeph">SEGMENT_SPACE_MANAGEMENT</code> column of the <code class="codeph">DBA_TABLESPACES</code> or <code class="codeph">USER_TABLESPACES</code> data dictionary view.
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-2FB39547-6EBD-456D-8B52-0EF57A743F79">
                     <p class="notep1">Note:</p>
                     <p>If you specify <code class="codeph">AUTO</code> segment management, then:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If you set extent management to <code class="codeph">LOCAL</code> <code class="codeph">UNIFORM</code>, then you must ensure that each extent contains at least 5 database blocks.
                           </p>
                        </li>
                        <li>
                           <p>If you set extent management to <code class="codeph">LOCAL</code> <code class="codeph">AUTOALLOCATE</code>, and if the database block size is 16K or greater, then Oracle manages segment space by creating extents with a minimum size of 5 blocks rounded up to 64K.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restrictions on Automatic Segment-Space Management</span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can specify this clause only for a permanent, locally managed tablespace.</p>
                     </li>
                     <li>
                        <p>You cannot specify this clause for the <code class="codeph">SYSTEM</code> tablespace.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-892CC975-F00B-4AAD-B914-B3A80E32DFFE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a> for information on automatic segment-space management and when to use it
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153459">Specifying Segment Space Management for a Tablespace: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-5697A141-80CC-4586-B045-D17BA4BBF33C"><span class="italic">flashback_mode_clause </span></p>
                  <p>Use this clause in conjunction with the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">FLASHBACK</code> clause to specify whether the tablespace can participate in <code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code> operations. This clause is useful if you have the database in <code class="codeph">FLASHBACK</code> mode but you do not want Oracle Database to maintain Flashback log data for this tablespace. 
                  </p>
                  <p>This clause is not valid for temporary or undo tablespaces.</p>
                  <p><span class="bold">FLASHBACK ON</span></p>
                  <p>Specify <code class="codeph">FLASHBACK</code> <code class="codeph">ON</code> to put the tablespace in <code class="codeph">FLASHBACK</code> mode. Oracle Database will save Flashback log data for this tablespace and the tablespace can participate in a <code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code> operation. If you omit the <span class="italic"><code class="codeph">flashback_mode_clause</code></span>, then <code class="codeph">FLASHBACK</code> <code class="codeph">ON</code> is the default.
                  </p>
                  <p><span class="bold">FLASHBACK OFF</span></p>
                  <p>Specify <code class="codeph">FLASHBACK</code> <code class="codeph">OFF</code> to take the tablespace out of <code class="codeph">FLASHBACK</code> mode. Oracle Database will not save any Flashback log data for this tablespace. You must take the data files in this tablespace offline or drop them prior to any subsequent <code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code> operation. Alternatively, you can take the entire tablespace offline. In either case, the database does not drop existing Flashback logs.
                  </p>
                  <div class="infoboxnote" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-A65A9DCC-D1C5-4A82-A027-AC7FDC84D004">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">FLASHBACK</code> mode of a tablespace is independent of the <code class="codeph">FLASHBACK</code> mode of an individual table.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-BDC6372C-3580-41B2-8997-DA64EB74A2B4">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../bradv/using-flasback-database-restore-points.html#BRADV595" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for information on Oracle Flashback Database
                           </p>
                        </li>
                        <li>
                           <p><a href="ALTER-DATABASE.html#GUID-8069872F-E680-4511-ADD8-A4E30AF67986">ALTER DATABASE</a> and <a href="FLASHBACK-DATABASE.html#GUID-BE0ACF9A-BC13-4810-B08B-33326440258B">FLASHBACK DATABASE</a> for information on setting the <code class="codeph">FLASHBACK</code> mode of the entire database and reverting the database to an earlier version
                           </p>
                        </li>
                        <li>
                           <p><a href="FLASHBACK-TABLE.html#GUID-FA9AF2FD-2DAD-4387-9E62-14AFC26EA85C">FLASHBACK TABLE</a> and <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112818">flashback_query_clause</a></span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-4D1EF7F1-A5A6-4286-8B14-0EDFA2881B0C"><span class="italic">lost_write_protection</span></p>
                  <p>Specify the <code class="codeph">lost_write_protection</code> clause to create a storage area for lost write records. This storage area or shadow tablespace must be created, before you can enable lost write protection on datafiles and databases. 
                  </p>
                  <p>You may create as many shadow tablespaces as you need, and name them as you would any other tablespace. </p>
                  <p><span class="bold">Create a Shadow Tablespace: Example</span></p><pre class="oac_no_warn" dir="ltr">CREATE BIGFILE TABLESPACE &lt;shadow_tablespace_name&gt; 
  DATAFILE &lt;datafile_name&gt; 
  SIZE 100000000 BLOCKSIZE 8K 
  LOST WRITE PROTECTION</pre><p>This command creates the shadow tablespace. To enable lost write protection on datafiles and databases, you must specify the <code class="codeph">lost_write_protection</code> clause with the <code class="codeph">ALTER TABLESPACE</code>, <code class="codeph">ALTER DATABASE</code>, and <code class="codeph">ALTER PLUGGABLE DATABASE</code> statements. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-BCDC490A-3CC1-44F2-8BEB-A414B380BD71"><span class="italic">undo_tablespace_clause</span></p>
                  <p><a id="d372237e2092" class="indexterm-anchor"></a><a id="d372237e2096" class="indexterm-anchor"></a><a id="d372237e2102" class="indexterm-anchor"></a>Specify <code class="codeph">UNDO</code> to create an undo tablespace. When you run the database in automatic undo management mode, Oracle Database manages undo space using the undo tablespace instead of rollback segments. This clause is useful if you are now running in automatic undo management mode but your database was not created in automatic undo management mode. 
                  </p>
                  <p>Oracle Database always assigns an undo tablespace when you start up the database in automatic undo management mode. If no undo tablespace has been assigned to this instance, then the database uses the <code class="codeph">SYSTEM</code> rollback segment. You can avoid this by creating an undo tablespace, which the database will implicitly assign to the instance if no other undo tablespace is currently assigned.
                  </p>
                  <p>The <code class="codeph">DATAFILE</code> clause is described in <span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">DATAFILE | TEMPFILE Clause</a>"</span>.
                  </p>
                  <p><span class="bold"><span class="italic">extent_management_clause</span></span></p>
                  <p>It is unnecessary to specify the <span class="italic"><code class="codeph">extent_management_clause</code></span> when creating an undo tablespace, because undo tablespaces must be locally managed tablespaces that use <code class="codeph">AUTOALLOCATE</code> extent management. If you do specify this clause, then you must specify <code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code> or <code class="codeph">EXTENT</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">LOCAL</code> <code class="codeph">AUTOALLOCATE</code>, both of which are the same as omitting this clause. Refer to <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">extent_management_clause</a></span> for the full semantics of this clause.
                  </p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2209531"><span class="bold"><span class="italic">tablespace_retention_clause </span></span></p>
                  <p>This clause is valid only for undo tablespaces. </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">RETENTION</code> <code class="codeph">GUARANTEE</code> specifies that Oracle Database should preserve unexpired undo data in all undo segments of <span class="italic"><code class="codeph">tablespace</code></span> even if doing so forces the failure of ongoing operations that need undo space in those segments. This setting is useful if you need to issue an Oracle Flashback Query or an Oracle Flashback Transaction Query to diagnose and correct a problem with the data.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">RETENTION</code> <code class="codeph">NOGUARANTEE</code> returns the undo behavior to normal. Space occupied by unexpired undo data in undo segments can be consumed if necessary by ongoing transactions. This is the default.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-F3D0AA7B-9B15-49A7-A61F-6D7EF7DBAA10"><span class="italic">tablespace_encryption_clause</span></p>
                  <p>This clause has the same semantics for undo tablespaces as for permanent tablespaces. Refer to <a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">tablespace_encryption_clause</a> in the documentation on permanent tablespaces for full information.
                  </p>
                  <p><span class="bold">Restrictions on Undo Tablespaces</span></p>
                  <p>Undo tablespaces are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot create database objects in this tablespace. It is reserved for system-managed undo data. </p>
                     </li>
                     <li>
                        <p>The only clauses you can specify for an undo tablespace are the <code class="codeph">DATAFILE</code> clause, the <span class="italic"><code class="codeph">tablespace_retention_clause</code></span>, the <span class="italic"><code class="codeph">tablespace_encryption_clause</code></span>, and the <span class="italic"><code class="codeph">extent_management_clause</code></span> to specify local <code class="codeph">AUTOALLOCATE</code> extent management. You cannot specify local <code class="codeph">UNIFORM</code> extent management or dictionary extent management using the <span class="italic"><code class="codeph">extent_management_clause</code></span>. All undo tablespaces are created permanent, read/write, and in logging mode. Values for <code class="codeph">MINIMUM</code> <code class="codeph">EXTENT</code> and <code class="codeph">DEFAULT</code> <code class="codeph">STORAGE</code> are system generated.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-AA440DD6-EEDF-4F4A-A5E9-095B1143F374">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information on automatic undo management and undo tablespaces and <a href="../refrn/UNDO_MANAGEMENT.html#REFRN10224" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the <code class="codeph">UNDO_MANAGEMENT</code> parameter
                           </p>
                        </li>
                        <li>
                           <p><a href="CREATE-DATABASE.html#GUID-ECE717DF-F116-4151-927C-2E51BB9DD39C">CREATE DATABASE</a> for information on creating an undo tablespace during database creation, and <a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a> and <a href="DROP-TABLESPACE.html#GUID-C91F3E94-4503-48DE-9BCA-42E495E6BE11">DROP TABLESPACE</a></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153390">Creating an Undo Tablespace: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TEMPORARY_TABLESPACE_CLAUSE-493FC811">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-937F7959-E6FA-495C-896E-0BC97D6DA60D"><span class="italic">temporary_tablespace_clause</span></p>
                  <p><a id="d372237e2286" class="indexterm-anchor"></a><a id="d372237e2290" class="indexterm-anchor"></a><a id="d372237e2294" class="indexterm-anchor"></a>Use this clause to create a temporary tablespace, which is an allocation of space in the database that can contain transient data that persists only for the duration of a session. This transient data cannot be recovered after process or instance failure.
                  </p>
                  <p>The transient data can be user-generated schema objects such as temporary tables or system-generated data such as temp space used by hash joins and sort operations. When a temporary tablespace, or a tablespace group of which this tablespace is a member, is assigned to a particular user, then Oracle Database uses the tablespace for sorting operations in transactions initiated by that user. </p>
                  <p>You can create two types of temporary tablespaces:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can create a shared temporary tablespace by specifying the <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code> clause. A shared temporary tablespace stores temp files on shared disk, so that the temporary space is accessible to all database instances. Shared temporary tablespaces were available in prior releases of Oracle Database and were called "temporary tablespaces." Elsewhere in this guide, the term "temporary tablespace" refers to a shared temporary tablespace unless specified otherwise.
                        </p>
                     </li>
                     <li>
                        <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can create a local temporary tablespace by specifying the <code class="codeph">LOCAL</code> <code class="codeph">TEMPORARY</code> <code class="codeph">TABLESPACE</code> clause. Local temporary tablespaces are useful in an Oracle Clusterware environment. They store a separate, nonshared temp files for each database instance, which can improve I/O performance. A local temporary tablespace must be a <code class="codeph">BIGFILE</code> tablespace.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify <code class="codeph">FOR</code> <code class="codeph">ALL</code>  to instruct the database to create separate, nonshared temp files for all HUB and LEAF nodes.
                              </p>
                           </li>
                           <li>
                              <p>Specify <code class="codeph">FOR</code> <code class="codeph">LEAF</code> to instruct the database to create separate nonshared temp files for only LEAF nodes.
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">TEMPFILE</span></p>
                  <p>The <code class="codeph">TEMPFILE</code> clause is described in <span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2171920">DATAFILE | TEMPFILE Clause</a>"</span>.
                  </p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__CJAIBAFI"><span class="italic"><span class="bold">tablespace_group_clause</span></span></p>
                  <p>This clause is relevant only for temporary tablespaces. Use this clause to determine whether <span class="italic"><code class="codeph">tablespace</code></span> is a member of a tablespace group. A tablespace group lets you assign multiple temporary tablespaces to a single user and increases the addressability of temporary tablespaces.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify a group name to indicate that <span class="italic"><code class="codeph">tablespace</code></span> is a member of this tablespace group. The group name cannot be the same as <span class="italic"><code class="codeph">tablespace</code></span> or any other existing tablespace. If the tablespace group already exists, then Oracle Database adds the new tablespace to that group. If the tablespace group does not exist, then the database creates the group and adds the new tablespace to that group.
                        </p>
                     </li>
                     <li>
                        <p>Specify an empty string (' ') to indicate that <span class="italic"><code class="codeph">tablespace</code></span> is not a member of any tablespace group.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Restriction on Tablespace Groups</span></p>
                  <p>Tablespace groups support only shared temporary tablespaces. You cannot add a local temporary tablespace to a tablespace group.</p>
                  <p><span class="bold"><span class="italic">extent_management_clause</span></span></p>
                  <p>The <span class="italic"><code class="codeph">extent_management_clause</code></span> is described in <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2063392">extent_management_clause</a></span>.
                  </p>
                  <p><span class="bold"><span class="italic">tablespace_encryption_clause</span></span></p>
                  <p>This clause has the same semantics for temporary tablespaces as for permanent tablespaces. Refer to <span class="italic"><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__TABLESPACE_ENCRYPTION_CLAUSE-2B5A7953">tablespace_encryption_clause</a></span> in the documentation on permanent tablespaces for full information.
                  </p>
                  <div class="infoboxnotealso" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-0B2FB6A7-BEC6-4A80-BE96-464C86335BF6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D">ALTER TABLESPACE</a> and <span class="q">"<a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204334">Adding a Temporary Tablespace to a Tablespace Group: Example</a>"</span> for information on adding a tablespace to a tablespace group
                           </p>
                        </li>
                        <li>
                           <p><a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C">CREATE USER</a> for information on assigning a temporary tablespace to a user
                           </p>
                        </li>
                        <li>
                           <p><a href="../admin/managing-tablespaces.html#ADMIN01103" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on tablespace groups
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restrictions on Temporary Tablespaces</span></p>
                  <p>The data stored in temporary tablespaces persists only for the duration of a session. Therefore, only a subset of the <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> clauses are relevant for temporary tablespaces. The only clauses you can specify for a temporary tablespace are the <code class="codeph">TEMPFILE</code> clause, the <span class="italic"><code class="codeph">tablespace_group_clause</code></span>, the <span class="italic"><code class="codeph">extent_management_clause</code></span>, and the <span class="italic"><code class="codeph">tablespace_encryption_clause</code></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2202468">
                  <p class="subhead1" id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__GUID-DF1697A8-1099-4C8F-B849-52F3272C4D2A">Examples</p>
                  <p>These examples assume that your database is using 8K blocks.</p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2202470"><span class="bold">Creating a Bigfile Tablespace: Example</span></p>
                  <p>The following example creates a bigfile tablespace <code class="codeph">bigtbs_01</code> with a data file <code class="codeph">bigtbs_f1.dbf</code> of 20 MB:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE BIGFILE TABLESPACE bigtbs_01
  DATAFILE 'bigtbs_f1.dbf'
  SIZE 20M AUTOEXTEND ON;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153390"><span class="bold">Creating an Undo Tablespace: Example</span></p>
                  <p>The following example creates a 10 MB undo tablespace <code class="codeph">undots1</code>:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE UNDO TABLESPACE undots1
   DATAFILE 'undotbs_1a.dbf'
   SIZE 10M AUTOEXTEND ON
   RETENTION GUARANTEE;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204579"><span class="bold">Creating a Temporary Tablespace: Example</span></p>
                  <p>This statement shows how the temporary tablespace that serves as the default temporary tablespace for database users in the sample database was created:</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE temp_demo
   TEMPFILE 'temp01.dbf' SIZE 5M AUTOEXTEND ON;
</pre><p>Assuming that the default database block size is 2K, and that each bit in the map represents one extent, then each bit maps 2,500 blocks.</p>
                  <p>The following example sets the default location for data file creation and then creates a tablespace with an Oracle-managed temp file in the default location. The temp file is 100 M and is autoextensible with unlimited maximum size. These are the default values for Oracle Managed Files:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DB_CREATE_FILE_DEST = '$ORACLE_HOME/rdbms/dbs';

CREATE TEMPORARY TABLESPACE tbs_05;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2204334"><span class="bold">Adding a Temporary Tablespace to a Tablespace Group: Example</span></p>
                  <p>The following statement creates the <code class="codeph">tbs_temp_02</code> temporary tablespace as a member of the <code class="codeph">tbs_grp_01</code> tablespace group. If the tablespace group does not already exist, then Oracle Database creates it during execution of this statement:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE tbs_temp_02
  TEMPFILE 'temp02.dbf' SIZE 5M AUTOEXTEND ON
  TABLESPACE GROUP tbs_grp_01;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153401"><span class="bold">Creating Basic Tablespaces: Examples</span></p>
                  <p>This statement creates a tablespace named <code class="codeph">tbs_01</code> with one data file:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_01 
   DATAFILE 'tbs_f2.dbf' SIZE 40M 
   ONLINE; 
</pre><p>This statement creates tablespace <code class="codeph">tbs_03</code> with one data file and allocates every extent as a multiple of 500K:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_03 
   DATAFILE 'tbs_f03.dbf' SIZE 20M
   LOGGING;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153424"><span class="bold">Enabling Autoextend for a Tablespace: Example</span></p>
                  <p>This statement creates a tablespace named <code class="codeph">tbs_02</code> with one data file. When more space is required, 500 kilobyte extents will be added up to a maximum size of 100 megabytes:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_02 
   DATAFILE 'diskb:tbs_f5.dbf' SIZE 500K REUSE
   AUTOEXTEND ON NEXT 500K MAXSIZE 100M;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153447"><span class="bold">Creating a Locally Managed Tablespace: Example</span></p>
                  <p>The following statement assumes that the database block size is 2K.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tbs_04 DATAFILE 'file_1.dbf' SIZE 10M
   EXTENT MANAGEMENT LOCAL UNIFORM SIZE 128K;
</pre><p>This statement creates a locally managed tablespace in which every extent is 128K and each bit in the bit map describes 64 blocks.</p>
                  <p>The following statement creates a locally managed tablespace with uniform extents and shows an example of a table stored in that tablespace:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmt1 DATAFILE 'lmt_file2.dbf' SIZE 100m REUSE
  EXTENT MANAGEMENT LOCAL UNIFORM SIZE 1M;

CREATE TABLE lmt_table1 (col1 NUMBER, col2 VARCHAR2(20))
  TABLESPACE lmt1 STORAGE (INITIAL 2m);
</pre><p>The initial segment size of the table is 2M.</p>
                  <p>The following example creates a locally managed tablespace without uniform extents:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE lmt2 DATAFILE 'lmt_file3.dbf' SIZE 100m REUSE 
  EXTENT MANAGEMENT LOCAL;

CREATE TABLE lmt_table2 (col1 NUMBER, col2 VARCHAR2(20)) 
  TABLESPACE lmt2 STORAGE (INITIAL 2m MAXSIZE 100m);
</pre><p>The initial segment size of the table is 2M. Oracle Database determines the size of each extent and the total number of extents allocated to satisfy the initial segment size. The segment's maximum size is limited to 100M.</p>
                  <p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__BABBGEEE"><span class="bold">Creating an Encrypted Tablespace: Example</span></p>
                  <p>In the following example, the first statement enables encryption for the database by opening the wallet. The second statement creates an encrypted tablespace.</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION WALLET OPEN IDENTIFIED BY "<span class="italic"><code class="codeph">wallet_password</code></span>";

CREATE TABLESPACE encrypt_ts
  DATAFILE '$ORACLE_HOME/dbs/encrypt_df.dbf' SIZE 1M
  ENCRYPTION USING 'AES256' ENCRYPT;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2153459"><span class="bold">Specifying Segment Space Management for a Tablespace: Example</span></p>
                  <p>The following example creates a tablespace with automatic segment-space management:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE auto_seg_ts DATAFILE 'file_2.dbf' SIZE 1M
   EXTENT MANAGEMENT LOCAL
   SEGMENT SPACE MANAGEMENT AUTO;</pre><p id="GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9__I2082522"><span class="bold">Creating Oracle Managed Files: Examples</span></p>
                  <p>The following example sets the default location for data file creation and creates a tablespace with a data file in the default location. The data file is 100M and is autoextensible with an unlimited maximum size:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DB_CREATE_FILE_DEST = '$ORACLE_HOME/rdbms/dbs';

CREATE TABLESPACE omf_ts1;
</pre><p>The following example creates a tablespace with an Oracle-managed data file of 100M that is not autoextensible:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE omf_ts2 DATAFILE AUTOEXTEND OFF;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='05900.advanced-topics-in-oracle-label-security.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels.">
      <meta name="description" content="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels.">
      <title>Advanced Topics in Oracle Label Security</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96303-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="disabling-and-enabling-oracle-label-security.html" title="Previous" type="text/html">
      <link rel="next" href="command-line-tools-for-label-security-using-oracle-internet-directory.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OLSAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="disabling-and-enabling-oracle-label-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="command-line-tools-for-label-security-using-oracle-internet-directory.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part4.html" property="item" typeof="WebPage"><span property="name">  Appendixes</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Advanced Topics in Oracle Label Security</li>
            </ol>
            <a id="GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" name="GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A"></a><a id="OLSAG104"></a>
            
            <h2 id="OLSAG-GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" class="sect2"><span class="enumeration_appendix">B </span> Advanced Topics in Oracle Label Security
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867">Analyzing the Relationships Between Labels</a><br>You can analyze the relationships between labels. 
                  </li>
                  <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8">Queries for Audited Oracle Label Security Session Labels</a><br>You can use the unified audit trail to capture information from various audit sources, including Oracle Label Security. 
                  </li>
                  <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63">Oracle Call Interface for Setting Session Labels</a><br>You can use an Oracle Call Interface (OCI) to set session labels.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part4.html" title="Part IV contains reference material for using Oracle Label Security.">Appendixes</a></p>
                  </div>
               </div>
            </div>
            <a id="OLSAG3689"></a><div class="props_rev_3"><a id="GUID-0E58615C-8F37-487E-8278-E506647BB867" name="GUID-0E58615C-8F37-487E-8278-E506647BB867"></a><h3 id="OLSAG-GUID-0E58615C-8F37-487E-8278-E506647BB867" class="sect3">Analyzing the Relationships Between Labels</h3>
               <div>
                  <p>You can analyze the relationships between labels. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C">About Dominant and Dominated Labels</a><br>The relationship between two labels can be described in terms of <span class="italic">dominance.</span> 
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF">Non-Comparable Labels</a><br>It is important to understand how labels can be compared with regard to dominance.
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84">Using Dominance Functions</a><br>Oracle Label Security provides functions to control dominance.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" title="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels.">Advanced Topics in Oracle Label Security</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3691"></a><a id="OLSAG3690"></a><div class="props_rev_3"><a id="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C" name="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C"></a><h4 id="OLSAG-GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C" class="sect4">About Dominant and Dominated Labels</h4>
                  <div>
                     <p>The relationship between two labels can be described in terms of <span class="italic">dominance.</span> 
                     </p>
                     <p>A user's ability to access an object depends on whether the user's label dominates the label of the object. If a user's label does not dominate the object's label, then the user is not allowed to access the object.</p>
                     <p>Label dominance is analyzed in terms of all its components: levels, compartments, and groups.</p>
                     <div class="tblformal" id="GUID-C936CEF5-B3F6-4BC5-AD41-00D925CC190C__GUID-A8ACFCD9-D39B-428E-BDDB-159565520F09">
                        <p class="titleintable">Table B-1 Dominance in the Comparison of Labels</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Dominance in the Comparison of Labels" summary="This table describes what dominance means in each component of a label. Columns are Factor and Criteria for Dominance." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="38%" id="d58750e252">Factor</th>
                                 <th align="left" valign="bottom" width="62%" id="d58750e255">Criteria for Dominance</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d58750e260" headers="d58750e252 ">
                                    <p>Level</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d58750e260 d58750e255 ">
                                    <p>For <code class="codeph">label1</code> to dominate <code class="codeph">label2</code>, the level of <code class="codeph">label1</code> must be greater than or equal to that of <code class="codeph">label2</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d58750e279" headers="d58750e252 ">
                                    <p>Compartment</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d58750e279 d58750e255 ">
                                    <p>For <code class="codeph">label1</code> to dominate <code class="codeph">label2</code>, the compartments of <code class="codeph">label1</code> must contain <span class="italic">all</span> the compartments of <code class="codeph">label2</code>. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="38%" id="d58750e301" headers="d58750e252 ">
                                    <p>Group</p>
                                 </td>
                                 <td align="left" valign="top" width="62%" headers="d58750e301 d58750e255 ">
                                    <p>For <code class="codeph">label1</code> to dominate <code class="codeph">label2</code>, <code class="codeph">label1</code> must contain <span class="italic">at least one</span> of the groups of <code class="codeph">label2</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>One label <span class="italic">dominates</span> another label if all of its components dominate the components of the other label. For example, the label <code class="codeph">HIGHLY_SENSITIVE</code>:<code class="codeph">FINANCE</code>,<code class="codeph">OPERATIONS</code> dominates the label <code class="codeph">HIGHLY_SENSITIVE:FINANCE</code>. Similarly, the label <code class="codeph">HIGHLY_SENSITIVE::WR_AP</code> dominates the label <code class="codeph">HIGHLY_SENSITIVE::WR_AP, WR_AR</code>.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="releasability-using-inverse-groups.html#GUID-4F86EA80-3ACE-4D33-AC1D-1B62BC012C5E" title="You should understand how dominance rules work for Oracle labels and inverse groups.">Dominance Rules for Labels with Inverse Groups</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867" title="You can analyze the relationships between labels.">Analyzing the Relationships Between Labels</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3692"></a><div class="props_rev_3"><a id="GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF" name="GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF"></a><h4 id="OLSAG-GUID-A75CF0EF-E0C6-4EBC-B7CC-11C0AB498EEF" class="sect4">Non-Comparable Labels</h4>
                  <div>
                     <p>It is important to understand how labels can be compared with regard to dominance.</p>
                     <p>The relationship between two labels cannot always be defined by dominance. Two labels are <span class="italic">non-comparable</span> if neither label dominates the other.
                     </p>
                     <p> If any compartments differ between the two labels (as with <code class="codeph">HS:A</code> and <code class="codeph">HS:B</code>), then they are non-comparable. Similarly, the labels <code class="codeph">HS:A</code> and <code class="codeph">S:B</code> are non-comparable.
                     </p>
                     <p>You can find existing labels by querying the <span class="apiname" translate="no">DBA_SA_LABELS</span> data dictionary view.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867" title="You can analyze the relationships between labels.">Analyzing the Relationships Between Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3693"></a><div class="props_rev_3"><a id="GUID-CD606D67-78AE-427D-B397-627C68E77B84" name="GUID-CD606D67-78AE-427D-B397-627C68E77B84"></a><h4 id="OLSAG-GUID-CD606D67-78AE-427D-B397-627C68E77B84" class="sect4">Using Dominance Functions</h4>
                  <div>
                     <p>Oracle Label Security provides functions to control dominance.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF">About the Dominance Functions</a><br>You can use dominance functions to specify ranges in queries. 
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596">OLS_DOMINATES Standalone Function</a><br>The <code class="codeph">OLS_DOMINATES</code> (<code class="codeph">OLS_DOM</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> dominates <code class="codeph">label2</code>, or <code class="codeph">0</code> (<code class="codeph">FALSE</code>) if it does not.
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE">OLS_LABEL_DOMINATES Standalone Function</a><br>The standalone <code class="codeph">OLS_LABEL_DOMINATES</code> function checks the dominance of session labels.
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5">OLS_STRICTLY_DOMINATES Standalone Function</a><br>The <code class="codeph">OLS_STRICTLY_DOMINATES</code> (<code class="codeph">OLS_S_DOM</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> and is not equal to it. 
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D">OLS_DOMINATED_BY Standalone Function</a><br>The <code class="codeph">OLS_DOMINATED_BY</code> (<code class="codeph">OLS_DOM_BY</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code>. 
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F">OLS_STRICTLY_DOMINATED_BY Standalone Function</a><br>The <code class="codeph">OLS_STRICTLY_DOMINATED_BY</code> (<code class="codeph">OLS_S_DOM_BY</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code> and is not equal to it. 
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8">SA_UTL.DOMINATES</a><br>The <code class="codeph">SA_UTL.DOMINATES</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> or if the session label for the given OLS policy dominates <code class="codeph">label</code>. 
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652">SA_UTL.STRICTLY_DOMINATES</a><br>The <code class="codeph">SA_UTL.STRICTLY_DOMINATES</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> and is not equal to it. 
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A">SA_UTL.DOMINATED_BY</a><br>The <code class="codeph">SA_UTL.DOMINATED_BY</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code>. 
                        </li>
                        <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE">SA_UTL.STRICTLY_DOMINATED_BY</a><br>The <code class="codeph">SA_UTL.STRICTLY_DOMINATED_BY</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code> and is not equal to it. 
                        </li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="working-with-labeled-data.html#GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93" title="The ORDER BY clause of a SELECT statement can be used to order rows by the numeric label tag.">Ordering Labeled Data Rows</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-0E58615C-8F37-487E-8278-E506647BB867" title="You can analyze the relationships between labels.">Analyzing the Relationships Between Labels</a></p>
                        </div>
                     </div>
                  </div><a id="OLSAG3694"></a><a id="OLSAG4146"></a><div class="props_rev_3"><a id="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF" name="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF"></a><h5 id="OLSAG-GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF" class="sect5">About the Dominance Functions</h5>
                     <div>
                        <p>You can use dominance functions to specify ranges in queries. </p>
                        <p>The following functions enable you to indicate dominance relationships between specified labels.</p>
                        <div class="tblformal" id="GUID-8C9E2135-6636-4101-BDC8-BC42C1CF56EF__GUID-D22A9249-B0BA-482A-8AF6-DA770686E5F2">
                           <p class="titleintable">Table B-2 Functions to Determine Dominance </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Functions to Determine Dominance " summary="This table lists the functions you can use to indicate dominance relationships between specified labels, listing each individual function and its meaning." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="48%" id="d58750e813">Function</th>
                                    <th align="left" valign="bottom" width="52%" id="d58750e816">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e821" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_DOMINATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e821 d58750e816 ">
                                       <p>The value of <code class="codeph">label1</code> dominates, or is equal to, that of <code class="codeph">label2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e835" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_LABEL_DOMINATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e835 d58750e816 ">
                                       <p>The value of the session label for the corresponding <code class="codeph">policy_name</code> dominates, or is equal to, that of <code class="codeph">label</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e849" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_STRICTLY_DOMINATES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e849 d58750e816 ">
                                       <p>The value of <code class="codeph">label1</code> dominates that of <code class="codeph">label2</code>, and is not equal to it. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e863" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_DOMINATED_BY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e863 d58750e816 ">
                                       <p>The value of <code class="codeph">label1</code> is dominated by that of <code class="codeph">label2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d58750e877" headers="d58750e813 ">
                                       <p><code class="codeph">OLS_STRICTLY_DOMINATED_BY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d58750e877 d58750e816 ">
                                       <p>The value of <code class="codeph">label1</code> is dominated by that of <code class="codeph">label2</code>, and is not equal to it.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Note that there are two types of dominance function. While the <code class="codeph">SA_UTL</code> dominance functions return <code class="codeph">BOOLEAN</code> values, the standalone dominance functions return integers.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3799"></a><a id="OLSAG4155"></a><a id="OLSAG4156"></a><a id="OLSAG4157"></a><a id="OLSAG3695"></a><div class="props_rev_3"><a id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596" name="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596"></a><h5 id="OLSAG-GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596" class="sect5">OLS_DOMINATES Standalone Function</h5>
                     <div>
                        <p>The <code class="codeph">OLS_DOMINATES</code> (<code class="codeph">OLS_DOM</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> dominates <code class="codeph">label2</code>, or <code class="codeph">0</code> (<code class="codeph">FALSE</code>) if it does not.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-32ECDADE-6579-4527-8398-B73773DB3EB7">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN INTEGER; </pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-2BBFA7F3-956B-4D2D-9DBA-A60760E82D43">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-1CA17D30-4B08-4CEE-B5A6-B1A8D1821CEE">
                           <p class="titleintable">Table B-3 OLS_DOMINATES Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_DOMINATES Parameters" summary="OLS_DOMINATES Parameters. Columns are Parameter and Descriptions." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1011">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1014">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1019" headers="d58750e1011 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1019 d58750e1014 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1036" headers="d58750e1011 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1036 d58750e1014 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-2924C58F-1C15-48C8-93BE-0DE513DFB5B0">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_DOMINATES ('1111', '1112') FROM DUAL;

OLS_DOMINATES('1111','1112')
----------------------------
                           0</pre><div class="infoboxnote" id="GUID-D1861AA6-DFDC-43DA-B0A4-31F9C7815596__GUID-C9203716-FD0F-498E-B275-C31CC684FC5B">
                              <p class="notep1">Note:</p>
                              <p>The old OLS functions, <code class="codeph">DOMINATES</code> and <code class="codeph">DOM</code>, have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).
                              </p>
                              <p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_LABEL_DOMINATES</code> and <code class="codeph">OLS_DOM</code> functions instead. Using the new function names avoids potential name conflicts with other database components.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG4148"></a><a id="OLSAG4158"></a><a id="OLSAG4159"></a><a id="OLSAG4160"></a><a id="OLSAG4147"></a><div class="props_rev_3"><a id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE" name="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE"></a><h5 id="OLSAG-GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE" class="sect5">OLS_LABEL_DOMINATES Standalone Function</h5>
                     <div>
                        <p>The standalone <code class="codeph">OLS_LABEL_DOMINATES</code> function checks the dominance of session labels.
                        </p>
                        <div class="section">
                           <p>It returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if the session label of the specified <code class="codeph">policy_name</code> value dominates or is equal to the label that is specified by the <code class="codeph">label</code> parameter. Otherwise, this function returns <code class="codeph">0</code> (<code class="codeph">FALSE</code>). This function is publicly available.
                           </p>
                           <div class="infoboxnote" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-57CDCA59-3C52-4707-86BC-F4C4EDDA1CDD">
                              <p class="notep1">Note:</p>
                              <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> release 1 (12.1.0.2).
                              </p>
                           </div>
                           <p>In addition to Oracle Label Security policies, you can use this function with both Oracle Data Redaction and Oracle Database Vault policies. </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-6063788F-FAFF-426C-B440-7E20BF033BF7">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_LABEL_DOMINATES (
  policy_name    IN VARCHAR2,
  label          IN VARCHAR2)
RETURN INTEGER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-F79425A0-DD85-4EE2-9778-8642DA497C3D">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-5F0F7977-D44D-4BE6-B16C-0854FBDB51D7">
                           <p class="titleintable">Table B-4 OLS_LABEL_DOMINATES Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_LABEL_DOMINATES Parameters" summary="OLS_LABEL_DOMINATES Parameters. Columns are Parameters and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1215">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1218">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1223" headers="d58750e1215 ">
                                       <p><code class="codeph">policy_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1223 d58750e1218 ">
                                       <p>The name of the Oracle Label Security policy whose session label must be checked for dominance. To find existing label values for policies, query the <code class="codeph">POLICY_NAME</code> and <code class="codeph">LABEL</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1240" headers="d58750e1215 ">
                                       <p><code class="codeph">label</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1240 d58750e1218 ">
                                       <p>The base label against whom the dominance has to be checked</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-F146083A-02A3-4188-AC93-39640A34234A">Examples</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example checks if the session label for the <code class="codeph">hr_ols_pol</code> policy dominates or is equal to the <code class="codeph">hs</code> label.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_LABEL_DOMINATES ('hr_ols_pol', 'hs') FROM DUAL;

OLS_LABEL_DOMINATES('HR_OLS_POL','HS')
--------------------------------------
                                     0
</pre><p>This example shows how you can use the <code class="codeph">OLS_LABEL_DOMINATES</code> function in an Oracle Data Redaction policy:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_REDACT.ADD_POLICY(
   object_schema   =&gt; 'oe', 
   object_name     =&gt; 'customers', 
   column_name     =&gt; 'customer_id',
   policy_name     =&gt; 'redact_cust_user_ids', 
   function_type   =&gt; DBMS_REDACT.FULL,
   expression      =&gt; 'OLS_LABEL_DOMINATES(''hr_ols_pol'', ''hs'') = 0');
END;
/
</pre><p>The following example shows how you can use the <code class="codeph">OLS_LABEL_DOMINATES</code> function in an Oracle Database Vault rule definition:
                           </p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.CREATE_RULE('Check OLS Factor', 'OLS_LABEL_DOMINATES(''hr_ols_pol'', ''hs'') = 1');</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DE5444F8-0C25-48E7-A994-DB007ABBA5DE__GUID-39C38224-C4D9-476C-A9DE-FED91EE276E8">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olsag&amp;id=ASOAG596" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for more information about Data Redaction
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../dvadm/configuring-realms.html#DVADM71155" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a> for more information about Database Vault realms
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3800"></a><a id="OLSAG4161"></a><a id="OLSAG4162"></a><a id="OLSAG4163"></a><a id="OLSAG3696"></a><div class="props_rev_3"><a id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5" name="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5"></a><h5 id="OLSAG-GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5" class="sect5">OLS_STRICTLY_DOMINATES Standalone Function</h5>
                     <div>
                        <p>The <code class="codeph">OLS_STRICTLY_DOMINATES</code> (<code class="codeph">OLS_S_DOM</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> and is not equal to it. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-AB05AB82-475C-4FBC-B23F-C98E5FDB779D">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_STRICTLY_DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN INTEGER; </pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-B82FF1CE-0FC4-4696-8E57-0BE41F750FBB">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-2A84F58C-07CC-46E6-B980-661399ED35D3">
                           <p class="titleintable">Table B-5 OLS_STRICTLY_DOMINATES Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_STRICTLY_DOMINATES Parameters" summary="OLS_STRICTLY_DOMINATES Parameters. Columns are Parameter and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1399">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1402">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1407" headers="d58750e1399 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1407 d58750e1402 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1424" headers="d58750e1399 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1424 d58750e1402 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-D6ECFD57-1F1E-48C3-A398-3E708250D01B">Examples</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_STRICTLY_DOMINATES ('1111', '1112') FROM DUAL;

OLS_STRICTLY_DOMINATES('1111','1112')
-------------------------------------
                                    0</pre><div class="infoboxnote" id="GUID-11547B46-2AEB-4729-B561-5B83CF1F6BB5__GUID-186DFE7E-08A5-4B82-ADA5-64D600FE9F6E">
                              <p class="notep1">Note:</p>
                              <p>The old OLS functions, <code class="codeph">STRICTLY_DOMINATES</code> and <code class="codeph">S_DOM</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).
                              </p>
                              <p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_STRICTLY_DOMINATES</code> and <code class="codeph">OLS_S_DOM</code> functions instead. Using the new function names avoids potential name conflicts with other database components.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3801"></a><a id="OLSAG4164"></a><a id="OLSAG4165"></a><a id="OLSAG4166"></a><a id="OLSAG3697"></a><div class="props_rev_3"><a id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D" name="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D"></a><h5 id="OLSAG-GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D" class="sect5">OLS_DOMINATED_BY Standalone Function</h5>
                     <div>
                        <p>The <code class="codeph">OLS_DOMINATED_BY</code> (<code class="codeph">OLS_DOM_BY</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code>. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-BEA65484-C259-4688-A19B-EF054A0048BF">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER)
RETURN INTEGER;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-5F14CAD7-DFAF-47FC-AB77-70D75173F3A1">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-FC2A5009-ED30-488A-85B8-298DEBC4B98F">
                           <p class="titleintable">Table B-6 OLS_STRICTLY_DOMINATES Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_STRICTLY_DOMINATES Parameters" summary="OLS_STRICTLY_DOMINATES Parameters. Columns are Parameter and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1572">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1575">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1580" headers="d58750e1572 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1580 d58750e1575 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1597" headers="d58750e1572 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1597 d58750e1575 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-DDCD7424-4355-4680-9C87-23E6AAC74FDF">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_DOMINATED_BY ('1111', '1112') FROM DUAL;

OLS_DOMINATED_BY('1111','1112')
-------------------------------
                              1</pre><div class="infoboxnote" id="GUID-AFCFF449-4D2C-4624-B048-A06FD94AAE9D__GUID-6D007E85-C8E8-401A-8FC7-86C1202A9A8A">
                              <p class="notep1">Note:</p>
                              <p>The old OLS functions, <code class="codeph">DOMINATED_BY</code> and <code class="codeph">DOM_BY</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).
                              </p>
                              <p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_DOMINATED_BY</code> and <code class="codeph">OLS_DOM_BY</code> functions instead. Using the new function names avoids potential name conflicts with other database components.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3802"></a><a id="OLSAG4167"></a><a id="OLSAG4168"></a><a id="OLSAG4169"></a><a id="OLSAG3698"></a><div class="props_rev_3"><a id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F" name="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F"></a><h5 id="OLSAG-GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F" class="sect5">OLS_STRICTLY_DOMINATED_BY Standalone Function</h5>
                     <div>
                        <p>The <code class="codeph">OLS_STRICTLY_DOMINATED_BY</code> (<code class="codeph">OLS_S_DOM_BY</code>) function returns <code class="codeph">1</code> (<code class="codeph">TRUE</code>) if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code> and is not equal to it. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-31FB84F8-A7F7-42BD-9380-4BA21ECC2B7B">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">OLS_STRICTLY_DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN INTEGER; </pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-20861D50-421B-4DD5-89B3-430FC7640359">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-46BAD4C6-F35E-4E2B-8313-66F4607580E9">
                           <p class="titleintable">Table B-7 OLS_DOMINATES Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OLS_DOMINATES Parameters" summary="OLS_DOMINATES Parameters. Columns are Parameter and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1744">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1747">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1752" headers="d58750e1744 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1752 d58750e1747 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1769" headers="d58750e1744 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1769 d58750e1747 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-BF720A74-7103-4E0E-BFDF-CA7F36A6BD08">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT OLS_STRICTLY_DOMINATES ('1111', '1112') FROM DUAL;

OLS_STRICTLY_DOMINATES('1111','1112')
-------------------------------------
                                    0</pre><div class="infoboxnote" id="GUID-ECD98A2D-B51C-4A9F-8243-A3D9D8A1820F__GUID-953B9693-F2FC-4AE5-BF3A-BB4AB3E90383">
                              <p class="notep1">Note:</p>
                              <p>The old OLS functions, <code class="codeph">STRICTLY_DOMINATED_BY</code> and <code class="codeph">S_DOM_BY</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).
                              </p>
                              <p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_STRICTLY_DOMINATED_BY</code> and <code class="codeph">OLS_S_DOM_BY</code> functions instead. Using the new function names avoids potential name conflicts with other database components.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3803"></a><a id="OLSAG3804"></a><a id="OLSAG4170"></a><a id="OLSAG4171"></a><a id="OLSAG4172"></a><a id="OLSAG3699"></a><div class="props_rev_3"><a id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8" name="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8"></a><h5 id="OLSAG-GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8" class="sect5">SA_UTL.DOMINATES</h5>
                     <div>
                        <p>The <code class="codeph">SA_UTL.DOMINATES</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> or if the session label for the given OLS policy dominates <code class="codeph">label</code>. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-2A488CF9-0674-4404-B1B9-86B4AA1F2122">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN BOOLEAN; </pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-40C23E87-8E61-4071-B3FA-2D6205FB28E2">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.DOMINATES (
  ols_policy_name  IN VARCHAR2,
  label            IN VARCHAR2) 
RETURN BOOLEAN; </pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-6419B527-81AE-41D3-B718-CBB672E22C29">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-871DF2AF-18A6-43FD-89FB-E8358E19C133">
                           <p class="titleintable">Table B-8 SA_UTL.DOMINATES Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.DOMINATES Parameters" summary="SA_UTL.DOMINATES Parameters. Columns are Parameter and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e1922">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e1925">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1930" headers="d58750e1922 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1930 d58750e1925 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e1947" headers="d58750e1922 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e1947 d58750e1925 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-A618CB21-BA37-4FAD-A219-8B3B4F6C70C1">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.DOMINATES(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE('Label 1111 dominates label 1112.');
 ELSE 
  DBMS_OUTPUT.PUT_LINE('Label 1112 dominates label 1111.'); 
 END IF; 
END;
/

Label 1112 dominates label 1111.</pre><div class="infoboxnote" id="GUID-B5DB8E03-7386-4CB8-B4A4-04C1479248A8__GUID-E48519F9-3081-4AFF-B455-715D65576532">
                              <p class="notep1">Note:</p>
                              <p>The second <code class="codeph">SA_UTL.DOMINATES</code> function, which takes the Oracle Label Security policy name and label as inputs, has been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).
                              </p>
                              <p>You can still use this function, but not with Oracle Data Redaction and Oracle Database Vault conditions. Oracle recommends that you use the <code class="codeph">OLS_LABEL_DOMINATES</code> function instead.
                              </p>
                              <p>The first <code class="codeph">SA_UTL.DOMINATES</code> function, which uses the <code class="codeph">NUMBER</code> datatype, is not deprecated.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3805"></a><a id="OLSAG4173"></a><a id="OLSAG4174"></a><a id="OLSAG4175"></a><a id="OLSAG3700"></a><div class="props_rev_3"><a id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652" name="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652"></a><h5 id="OLSAG-GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652" class="sect5">SA_UTL.STRICTLY_DOMINATES</h5>
                     <div>
                        <p>The <code class="codeph">SA_UTL.STRICTLY_DOMINATES</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> dominates <code class="codeph">label2</code> and is not equal to it. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-D7589B14-9A11-40B7-958F-984699BAF4DF">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.STRICTLY_DOMINATES (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN BOOLEAN; </pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-AF937C65-1C45-4DD2-A7DB-70E2D34FE6F1">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-1F69215B-E32A-488C-9522-4F1E08FCE83B">
                           <p class="titleintable">Table B-9 SA_UTL.STRICTLY_DOMINATES Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.STRICTLY_DOMINATES Parameters" summary="SA_UTL.STRICTLY_DOMINATES Parameters. Columns are Parameter and Description. " width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e2090">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e2093">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2098" headers="d58750e2090 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2098 d58750e2093 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2115" headers="d58750e2090 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2115 d58750e2093 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-DA35FE52-89E3-4EB6-A92B-931F5ADC9652__GUID-D342F196-2299-43F1-9F50-F7C1399DE8B2">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.STRICTLY_DOMINATES(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE('Label 1111 strictly dominates label 1112.');
 ELSE 
  DBMS_OUTPUT.PUT_LINE('Label 1112 strictly dominates label 1111.'); 
 END IF; 
END;
/

Label 1112 strictly dominates label 1111.</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3806"></a><a id="OLSAG4176"></a><a id="OLSAG4177"></a><a id="OLSAG4178"></a><a id="OLSAG3701"></a><div class="props_rev_3"><a id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A" name="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A"></a><h5 id="OLSAG-GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A" class="sect5">SA_UTL.DOMINATED_BY</h5>
                     <div>
                        <p>The <code class="codeph">SA_UTL.DOMINATED_BY</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code>. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-A66F1F1E-86EA-4605-89CF-47A4BA4C2F4E">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER) 
RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-60DAB736-95C9-4C39-8229-2ADAFFE1E13E">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-F403402D-98A4-4B04-88DE-AE8D5B3AEDF5">
                           <p class="titleintable">Table B-10 SA_UTL.DOMINATED_BY Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.DOMINATED_BY Parameters" summary="SA_UTL.DOMINATED_BY Parameters. Columns are Parameter and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e2235">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e2238">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2243" headers="d58750e2235 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2243 d58750e2238 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2260" headers="d58750e2235 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2260 d58750e2238 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3EDB7EAD-FA34-4CA3-8EB2-25136788466A__GUID-E2F5684F-5ECE-45F0-97AB-665D35C13E87">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.DOMINATED_BY(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE('Label 1111 is dominated by label 1112.');
 ELSE 
  DBMS_OUTPUT.PUT_LINE('Label 1112 is dominated by label 1111.'); 
 END IF; 
END;
/

Label 1111 is dominated by label 1112.</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3807"></a><a id="OLSAG4179"></a><a id="OLSAG4180"></a><a id="OLSAG4181"></a><a id="OLSAG3702"></a><div class="props_rev_3"><a id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE" name="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE"></a><h5 id="OLSAG-GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE" class="sect5">SA_UTL.STRICTLY_DOMINATED_BY</h5>
                     <div>
                        <p>The <code class="codeph">SA_UTL.STRICTLY_DOMINATED_BY</code> function returns <code class="codeph">TRUE</code> if <code class="codeph">label1</code> is dominated by <code class="codeph">label2</code> and is not equal to it. 
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-559FB9A3-8549-49D1-8382-1A6A0A7F2E88">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">SA_UTL.STRICTLY_DOMINATED_BY (
  label1          IN NUMBER,
  label2          IN NUMBER)
RETURN BOOLEAN;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-65C64618-568F-420A-934E-2CAC0ABF352E">Parameters</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-642FE7F0-B841-4DC3-9051-D19C5AE5E27B">
                           <p class="titleintable">Table B-11 SA_UTL.STRICTLY_DOMINATED_BY Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SA_UTL.STRICTLY_DOMINATED_BY Parameters" summary="OLS_DOMINATES Parameters. Columns are Parameter and Description." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d58750e2380">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d58750e2383">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2388" headers="d58750e2380 ">
                                       <p><code class="codeph">label1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2388 d58750e2383 ">
                                       <p>The first label to check. To find existing label values, query the <code class="codeph">LABEL</code> and <code class="codeph">TAG</code> columns of the <code class="codeph">ALL_SA_LABELS</code> view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d58750e2405" headers="d58750e2380 ">
                                       <p><code class="codeph">label2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d58750e2405 d58750e2383 ">
                                       <p>The second label to check</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CFF999D6-83C3-4898-AFD2-3598A5FE5DAE__GUID-22203FFD-FC49-4C5D-945E-2DE4F3D0B83F">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example compares existing label tags <code class="codeph">1111</code> and <code class="codeph">1112</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
BEGIN 
 IF SA_UTL.STRICTLY_DOMINATED_BY(1111, 1112)
  THEN DBMS_OUTPUT.PUT_LINE('Label 1111 is strictly dominated by label 1112.');
 ELSE 
  DBMS_OUTPUT.PUT_LINE('Label 1112 is strictly dominated by label 1111.'); 
 END IF; 
END;
/

Label 1111 is strictly dominated by label 1112.</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="working-with-labeled-data.html#GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" title="Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.">Determination of the Upper and Lower Bounds of Labels</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG3677"></a><div class="props_rev_3"><a id="GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" name="GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8"></a><h3 id="OLSAG-GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" class="sect3">Queries for Audited Oracle Label Security Session Labels</h3>
               <div>
                  <p>You can use the unified audit trail to capture information from various audit sources, including Oracle Label Security. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-1FF304B3-4701-49AA-8D1C-42C02620243A">About Queries for Auditing Oracle Label Security Session Labels</a><br>You must configure Oracle Label Security auditing by creating unified audit policies. 
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-5205C294-237E-474B-8CDC-EAB7DDB24298">ORA_GET_AUDITED_LABEL Function</a><br>The <code class="codeph">ORA_GET_AUDITED_LABEL</code> function returns the audited session label for the specified OLS policy and <code class="codeph">APPLICATION_CONTEXTS</code> column value. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" title="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels.">Advanced Topics in Oracle Label Security</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-1FF304B3-4701-49AA-8D1C-42C02620243A" name="GUID-1FF304B3-4701-49AA-8D1C-42C02620243A"></a><h4 id="OLSAG-GUID-1FF304B3-4701-49AA-8D1C-42C02620243A" class="sect4">About Queries for Auditing Oracle Label Security Session Labels</h4>
                  <div>
                     <p>You must configure Oracle Label Security auditing by creating unified audit policies. </p>
                     <p>OLS auditing enables you to audit additional events such as enabling and disabling of OLS policies.</p>
                     <p>The session labels that the audit trail captures are stored in the <code class="codeph">APPLICATION_CONTEXTS</code> column of the <code class="codeph">UNIFIED_AUDIT_TRAIL</code> view. You can use the <code class="codeph">LBACSYS.ORA_GET_AUDITED_LABEL</code> function to retrieve session labels that are stored in the <code class="codeph">APPLICATION_CONTEXTS</code> column. This function accepts the <code class="codeph">UNIFIED_AUDIT_TRAIL.APPLICATION_CONTEXTS</code> column value, and the Oracle Label Security policy name as arguments, and then returns the session label that is stored in the column for the specified policy.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1FF304B3-4701-49AA-8D1C-42C02620243A__GUID-FF6AF9B5-0BB6-4F02-A099-B0423168ED1C">
                        <p class="notep1">See Also:</p><a href="../dbseg/configuring-audit-policies.html#DBSEG454" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for detailed information about configuring and using OLS auditing in a unified audit trail
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" title="You can use the unified audit trail to capture information from various audit sources, including Oracle Label Security.">Queries for Audited Oracle Label Security Session Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3808"></a><a id="OLSAG4182"></a><a id="OLSAG4183"></a><a id="OLSAG4184"></a><a id="OLSAG3678"></a><div class="props_rev_3"><a id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298" name="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298"></a><h4 id="OLSAG-GUID-5205C294-237E-474B-8CDC-EAB7DDB24298" class="sect4">ORA_GET_AUDITED_LABEL Function</h4>
                  <div>
                     <p>The <code class="codeph">ORA_GET_AUDITED_LABEL</code> function returns the audited session label for the specified OLS policy and <code class="codeph">APPLICATION_CONTEXTS</code> column value. 
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">AUDIT_VIEWER</code> role has <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">ORA_GET_AUDITED_LABEL</code> function.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-06355C61-52DE-4514-9C0D-05F528053771">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ORA_GET_AUDITED_LABEL (
  appctx_col_value   IN VARCHAR2,
  ols_policy_name    IN VARCHAR2)
RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-4ABD449D-75A7-4621-87AA-00C52336FC67">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-22B86EA2-7BCB-45CC-B7AB-E92033193EB4">
                        <p class="titleintable">Table B-12 ORA_GET_AUDITED_LABEL Parameters</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="ORA_GET_AUDITED_LABEL Parameters" summary="ORA_GET_AUDITED_LABEL Parameters. Columns are Parameter and Description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d58750e2703">Parameter</th>
                                 <th align="left" valign="bottom" width="69%" id="d58750e2706">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d58750e2711" headers="d58750e2703 ">
                                    <p><code class="codeph">appctx_col_value</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d58750e2711 d58750e2706 ">
                                    <p>Value in the <code class="codeph">UNIFIED_AUDIT_TRAIL.APPLICATION_CONTEXTS</code> column
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d58750e2722" headers="d58750e2703 ">
                                    <p><code class="codeph">policy_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d58750e2722 d58750e2706 ">
                                    <p>The label security policy name</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5205C294-237E-474B-8CDC-EAB7DDB24298__GUID-EABB34F9-7007-47BA-93C0-1AD0E1D9D713">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example returns the audited session label for the <code class="codeph">hr_ols_pol</code> policy.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT ORA_GET_AUDITED_LABEL ('cust_ctx', 'hr_ols_pol') FROM DUAL;

ORA_GET_AUDITED_LABEL('X','HR_OLS_POL')
---------------------------------------
                                     HS</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-1637D81B-96F3-4F15-B9B7-54251DD637F8" title="You can use the unified audit trail to capture information from various audit sources, including Oracle Label Security.">Queries for Audited Oracle Label Security Session Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG106"></a><div class="props_rev_3"><a id="GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" name="GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63"></a><h3 id="OLSAG-GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" class="sect3">Oracle Call Interface for Setting Session Labels</h3>
               <div>
                  <p>You can use an Oracle Call Interface (OCI) to set session labels.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5">About Using the Oracle Call Interface to Set Session Labels</a><br>When you connect using Oracle Call Interface (OCI), you can use the <code class="codeph">SYS_CONTEXT</code> variables to initialize the session label and the row label. 
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-2D9081FE-EBF0-4E35-9680-44C96576D522">Using the Oracle Call Interface to Set Session Labels</a><br>You can use the Oracle Call Interface to set the session labels.
                     </li>
                     <li class="ulchildlink"><a href="advanced-topics-in-oracle-label-security.html#GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4">Example: Using Oracle Call Interface with the SYS_CONTEXT Function</a><br>You can create an OCI call that uses an externalized <code class="codeph">SYS_CONTEXT</code> function with Oracle Label Security. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-DD9C39EF-7A77-4C5D-9E2A-1A9E635A558A" title="Oracle provides advanced functionality for Oracle Label Security, such as the ability to analyze relationships between labels.">Advanced Topics in Oracle Label Security</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5" name="GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5"></a><h4 id="OLSAG-GUID-F6FE05C0-3AD6-4280-B46A-0B1C041DFDB5" class="sect4">About Using the Oracle Call Interface to Set Session Labels</h4>
                  <div>
                     <p>When you connect using Oracle Call Interface (OCI), you can use the <code class="codeph">SYS_CONTEXT</code> variables to initialize the session label and the row label. 
                     </p>
                     <p>You can set the variables using the <code class="codeph">OCIAttrSet</code> function to initialize <span class="italic">externally initialized</span> <code class="codeph">SYS_CONTEXT</code> variables. These are available when Oracle Label Security is enabled.
                     </p>
                     <p>Each policy has a <code class="codeph">SYS_CONTEXT</code> named <code class="codeph">SA$</code><span class="italic"><code class="codeph">policy_name</code></span><code class="codeph">_X</code>. You can set these two variables, <code class="codeph">INITIAL_LABEL</code> and <code class="codeph">INITIAL_ROW_LABEL</code>.
                     </p>
                     <p>When the new values are set to valid labels within the user's authorizations, they will be used instead of the default values stored for the user. This is the same mechanism used for remote connections.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-oracle-label-security-with-a-distributed-database.html#GUID-21087442-8EFA-4118-A5A5-A108249F7A9A" title="You should understand the special considerations for using Oracle Label Security in a distributed configuration.">Using Oracle Label Security with a Distributed Database</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" title="You can use an Oracle Call Interface (OCI) to set session labels.">Oracle Call Interface for Setting Session Labels</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2D9081FE-EBF0-4E35-9680-44C96576D522" name="GUID-2D9081FE-EBF0-4E35-9680-44C96576D522"></a><h4 id="OLSAG-GUID-2D9081FE-EBF0-4E35-9680-44C96576D522" class="sect4">Using the Oracle Call Interface to Set Session Labels</h4>
                  <div>
                     <p>You can use the Oracle Call Interface to set the session labels.</p>
                     <ol>
                        <li class="stepexpand"><span>Call <code class="codeph">OCIAttrSet</code> with <code class="codeph">OCI_ATTR_APPCTX_SIZE</code> to initialize the context array size with the desired number of context attributes:</span><div><pre class="oac_no_warn" dir="ltr">OCIAttrSet(session, OCI_HTYPE_SESSION, 
                 (dvoid *)&amp;size, (ub4)0, OCI_ATTR_APPCTX_SIZE, error_handle); 
 </pre><p>This defines additional attributes for <code class="codeph">OCIAttrSet</code>. 
                              </p>
                              <p>Note that the size is <code class="codeph">ub4</code> type.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Call <code class="codeph">OCIAttrGet</code> with <code class="codeph">OCI_ATTR_APPCTX_LIST</code> to get a handle on the application context list descriptor for the session:</span><div><pre class="oac_no_warn" dir="ltr">OCIAttrGet(session, OCI_HTYPE_SESSION, 
               (dvoid *)&amp;ctxl_desc, (ub4)0, OCI_ATTR_APPCTX_LIST, error_handle);
</pre><p>Note that <code class="codeph">ctxl_desc</code> is (<code class="codeph">OCIParam *</code>) type.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Call <code class="codeph">OCIParamGet</code> with the application context list descriptor to obtain an individual descriptor for the i-<span class="italic">th</span> application context:</span><div><pre class="oac_no_warn" dir="ltr">OCIParamGet(ctxl_desc, OCI_DTYPE_PARAM, error_handle,(dvoid **)&amp;ctx_desc, i);  
</pre><p>Note that <code class="codeph">ctx_desc</code> is (<code class="codeph">OCIParam *</code>) type.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Call <code class="codeph">OCIAttrSet</code> with each of the three new attributes, <code class="codeph">OCI_ATTR_APPCTX_NAME</code>, <code class="codeph">OCI_ATTR_APPCTX_ATTR</code>, and <code class="codeph">OCI_ATTR_APPCTX_VALUE</code>, to set the proper values in the application context:</span><div><pre class="oac_no_warn" dir="ltr">OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
                 (dvoid *)ctx_name, sizeof(ctx_name), OCI_ATTR_APPCTX_NAME,
                 error_handle);  

OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
                 (dvoid *)attr_name, sizeof(attr_name), OCI_ATTR_APPCTX_ATTR,
                 error_handle);  

OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
                 (dvoid *)value, sizeof(value), OCI_ATTR_APPCTX_VALUE,
                 error_handle);  
</pre><p>Note that only character type is supported, because application context operations are based on the <code class="codeph">VARCHAR2</code> type.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" title="You can use an Oracle Call Interface (OCI) to set session labels.">Oracle Call Interface for Setting Session Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3811"></a><a id="OLSAG3501"></a><div class="props_rev_3"><a id="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4" name="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4"></a><h4 id="OLSAG-GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4" class="sect4">Example: Using Oracle Call Interface with the SYS_CONTEXT Function</h4>
                  <div>
                     <p>You can create an OCI call that uses an externalized <code class="codeph">SYS_CONTEXT</code> function with Oracle Label Security. 
                     </p>
                     <p><a href="advanced-topics-in-oracle-label-security.html#GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4__CDEECEAF">Example B-1</a> shows how to accomplish this.
                     </p>
                     <div class="example" id="GUID-19AE9173-45F0-448E-B9E9-C6CB150F3DC4__CDEECEAF">
                        <p class="titleinexample">Example B-1 Using OCI to Externalize SYS_CONTEXT with OLS</p><pre class="oac_no_warn" dir="ltr">#ifdef RCSID
static char *RCSid =
   "$Header: ext_mls.c 09-may-00.10:07:08 jdoe Exp $ ";
#endif /* RCSID */

/* Copyright (c) Oracle Corporation 1999, 2000. All Rights Reserved. */

/*

   NAME
ext_mls.c - externalized SYS_CONTEXT with Label Security

   DESCRIPTION
Run olsdemo.sql script before executing this example.
Usage: &lt;executable obtained with .c file&gt; &lt;user_name&gt; &lt;password&gt; &lt;session-initial-label
Example: avg_sal sa_demo sa_demo L3:M,E:D10

   PUBLIC FUNCTION(S)
&lt;list of external functions declared/defined - with one-line descriptions&gt;

   PRIVATE FUNCTION(S)
&lt;list of static functions defined in .c file - with one-line descriptions&gt;

   RETURNS
The average salary in the EMP table of the SA_DEMO schema querying as the specified user with the specified session label.

   NOTES
&lt;other useful comments, qualifications, and so on&gt;

   MODIFIED   (MM/DD/YY)
jlev      09/18/03 - cleanup
jdoe      05/09/00 - cleanup
   jdoe      10/13/99 - standalone OCI program to test MLS SYS_CONTEXT
   jdoe      10/13/99 - Creation

*/
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;oci.h&gt;

static OCIEnv *envhp;
static OCIError *errhp;

int main(/*_ int argc, char *argv[] _*/);

/* get and print error */
static void checkerr(/*_OCIError *errhp, sword status _*/);
/* print error */
static void printerr(char *call);
static sword status;

/* return the average of employees' salary */
static CONST text *const selectstmt = (text *)
     "select avg(sal) from sa_demo.emp";
 
int main(argc, argv)
int argc;
char *argv[];
{
  OCISession *authp = (OCISession *) 0;
  OCIServer *srvhp;
  OCISvcCtx *svchp;
  OCIDefine *defnp = (OCIDefine *) 0;
  dvoid *parmdp;
  ub4 ctxsize;
  OCIParam *ctxldesc;
  OCIParam *ctxedesc;
  OCIStmt *stmtp = (OCIStmt *) 0;
  ub4 avg_sal = 0;
  sword status;

  if (OCIInitialize((ub4) OCI_DEFAULT, (dvoid *) 0,
                    (dvoid * (*)(dvoid *, size_t)) 0,
                    (dvoid * (*)(dvoid *, dvoid *, size_t)) 0,
                    (void (*)(dvoid *, dvoid *)) 0))
    printerr("OCIInitialize");

  if (OCIEnvInit((OCIEnv **) &amp;envhp, OCI_DEFAULT, (size_t) 0, (dvoid **) 0))
    printerr("OCIEnvInit");
  
  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;errhp, OCI_HTYPE_ERROR,
                     (size_t) 0, (dvoid **) 0))
    printerr("OCIHandleAlloc:OCI_HTYPE_ERROR");

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;srvhp, OCI_HTYPE_SERVER,
                     (size_t) 0, (dvoid **) 0))
    printerr("OCIHandleAlloc:OCI_HTYPE_SERVER");

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;svchp, OCI_HTYPE_SVCCTX,
                     (size_t) 0, (dvoid **) 0))
    printerr("OCIHandleAlloc:OCI_HTYPE_SVCCTX");

  if (OCIServerAttach(srvhp, errhp, (text *) "", strlen(""), 0))
    printerr("OCIServerAttach");

  /* set attribute server context in the service context */
  if (OCIAttrSet((dvoid *) svchp, OCI_HTYPE_SVCCTX, (dvoid *) srvhp,
                 (ub4) 0, OCI_ATTR_SERVER, (OCIError *) errhp))
    printerr("OCIAttrSet:OCI_HTYPE_SVCCTX");

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;authp,
                     (ub4) OCI_HTYPE_SESSION, (size_t) 0, (dvoid **) 0))
    printerr("OCIHandleAlloc:OCI_HTYPE_SESSION");

  /* set application context to 1 */
  ctxsize = 1;

  /* set up app ctx buffer */
  if (OCIAttrSet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION, (dvoid *) &amp;ctxsize,
                 (ub4) 0, (ub4) OCI_ATTR_APPCTX_SIZE, errhp))
    printerr("OCIAttrSet:OCI_ATTR_APPCTX_SIZE");

  /* retrieve the list descriptor */
  if (OCIAttrGet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION,
                 (dvoid *) &amp;ctxldesc, 0, OCI_ATTR_APPCTX_LIST, errhp))
    printerr("OCIAttrGet:OCI_ATTR_APPCTX_LIST");

  if (status = OCIParamGet(ctxldesc, OCI_DTYPE_PARAM, errhp,
                           (dvoid **) &amp;ctxedesc, 1))
    {
      if (status == OCI_NO_DATA)
        {
          printf("No Data found!\n");
          exit(1);
        }
    }

  /* set context namespace to SA$&lt;pol_name&gt;_X */
  if (OCIAttrSet((dvoid *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (dvoid *) "SA$HUMAN_RESOURCES_X",
                 (ub4) strlen((char *) "SA$HUMAN_RESOURCES_X"),
                 (ub4) OCI_ATTR_APPCTX_NAME, errhp))
    printerr("OCIAttrSet:OCI_ATTR_APPCTX_NAME:SA$HUMAN_RESOURCES_X");

  /* set context attribute to INITIAL_LABEL */
  if (OCIAttrSet((dvoid *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (dvoid *) "INITIAL_LABEL",
                 (ub4) strlen((char *) "INITIAL_LABEL"),
                 (ub4) OCI_ATTR_APPCTX_ATTR, errhp))
    printerr("OCIAttrSet:OCI_DTYPE_PARAM:INITIAL_LABEL");

  /* set context value to argv[3] - initial label */
  if (OCIAttrSet((dvoid *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (dvoid *) argv[3],
                 (ub4) strlen((char *) argv[3]),
                 (ub4) OCI_ATTR_APPCTX_VALUE, errhp))
    printerr("OCIAttrSet:argv[3]");

  /* username first command line argument */
  if (OCIAttrSet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION, (dvoid *) argv[1],
                 (ub4) strlen((char *) argv[1]), (ub4) OCI_ATTR_USERNAME,
                 errhp))
    printerr("OCIAttrSet:username");

  /* password second command line argument */
  if (OCIAttrSet((dvoid *) authp, (ub4) OCI_HTYPE_SESSION, (dvoid *) argv[2],
                 (ub4) strlen((char *) argv[2]), (ub4) OCI_ATTR_PASSWORD,
                 errhp))
    printerr("OCIAttrSet:password");

  if (OCISessionBegin(svchp, errhp, authp, OCI_CRED_RDBMS, (ub4) OCI_DEFAULT))
    printerr("OCISessionBegin");

  if (OCIAttrSet((dvoid *) svchp, (ub4) OCI_HTYPE_SVCCTX, (dvoid *) authp,
                 (ub4) 0, (ub4) OCI_ATTR_SESSION, errhp))
    printerr("OCIAttrSet:OCI_ATTR_SESSION");

  if (OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;stmtp, OCI_HTYPE_STMT,
                     0, 0))
    printerr("OCIHandleAlloc:OCI_HTYPE_STMT");

  if (OCIStmtPrepare(stmtp, errhp, (CONST OraText *) selectstmt,
                     (ub4) strlen((const char *) selectstmt),
                     (ub4) OCI_NTV_SYNTAX, (ub4) OCI_DEFAULT))
    printerr("OCIStmtPrepare");

  if (OCIDefineByPos(stmtp, &amp;defnp, errhp, (ub4) 1, (dvoid *) &amp;avg_sal,
                     (sb4) sizeof(avg_sal), SQLT_INT, 0, 0, 0, OCI_DEFAULT))
    printerr("OCIDefineByPos");

  if (status = OCIStmtExecute(svchp, stmtp, errhp, 1, 0, NULL, NULL,
                              OCI_DEFAULT))
    {
      if (status == OCI_NO_DATA)
        {
          printf("No Data found!\n");
          exit(1);
        }
    }

  if (OCISessionEnd(svchp, errhp, authp, OCI_DEFAULT))
    printerr("OCISessionEnd");

  printf("average salary is: %d\n", avg_sal);
}

void checkerr(errhp, status)
     OCIError *errhp;
     sword status;
{
  text errbuf[512];
  sb4 errcode = 0;

  switch (status)
    {
    case OCI_ERROR:
      (void) OCIErrorGet((dvoid *) errhp, 1, NULL, &amp;errcode, errbuf,
                         (ub4) sizeof(errbuf), OCI_HTYPE_ERROR);
      printf("Error - %.*s\n", 512, errbuf);
      break;
    default:
      break;
    }
}

void printerr(call)
     char *call;
{
  printf("Error: %s\n", call);
}
/* end of file ext_mls.c */
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="advanced-topics-in-oracle-label-security.html#GUID-47F6AC12-04B5-4934-B921-A0A403B7CA63" title="You can use an Oracle Call Interface (OCI) to set session labels.">Oracle Call Interface for Setting Session Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>