<html id='03697.sdo-geor-ra-ref.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">
      <meta name="description" content="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">
      <title>SDO_GEOR_RA Package Reference</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="GeoRaster Developer's Guide ">
      <meta property="og:description" content="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="GeoRaster Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-georaster-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T11:48:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94793-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SDO_GEOR_IP-reference-ref.html" title="Previous" type="text/html">
      <link rel="next" href="SDO_GEOR_UTL-reference.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer's Guide">
    <meta name="dcterms.isVersionOf" content="GEORS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_GEOR_IP-reference-ref.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SDO_GEOR_UTL-reference.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">GeoRaster Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_GEOR_RA Package Reference</li>
            </ol>
            <a id="GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" name="GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333"></a><a id="GEORS1226"></a>
            
            <h2 id="GEORS-GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" class="sect2"><span class="enumeration_chapter">12 </span>SDO_GEOR_RA Package Reference
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.</p>
               <p>To use the subprograms in ths chapter, you should junderstand the main concepts and techniques described in <a href="raster-algebra-and-analytics.html#GUID-C75744C9-FA04-4391-96F2-59EF2EA212FF" title="This chapter describes the raster algebra language (PL/SQL and algebraic expressions) and related raster operations, including conditional queries, cell value-based updates or edits, mathematical operations, classify, on-the-fly statistical analysis, logical operations, and their applications in cartographic modeling.">Raster Algebra and Analytics</a>.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-D9DA6608-7D97-4428-B1B2-002C371846E9">SDO_GEOR_RA.classify</a><br></li>
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02">SDO_GEOR_RA.diff</a><br></li>
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-67FDA0FA-D055-4821-964F-600660861A72">SDO_GEOR_RA.findCells</a><br></li>
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-B64A8557-B92D-4588-812D-2F767338EA68">SDO_GEOR_RA.isOverlap</a><br></li>
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4">SDO_GEOR_RA.over</a><br></li>
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-BB7A762E-E615-43AD-9D74-5E917D29F333">SDO_GEOR_RA.rasterMathOp</a><br></li>
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E">SDO_GEOR_RA.rasterUpdate</a><br></li>
                  <li class="ulchildlink"><a href="sdo-geor-ra-ref.html#GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39">SDO_GEOR_RA.stack</a><br></li>
               </ul>
            </div>
            <a id="GEORS1227"></a><div class="props_rev_3"><a id="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9" name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9"></a><h3 id="GEORS-GUID-D9DA6608-7D97-4428-B1B2-002C371846E9" class="sect3"><span class="enumeration_section">12.1 </span>SDO_GEOR_RA.classify
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-8A94616F-603E-4958-ADE5-645D30579E0C">Format</p>
                     <p><span class="bold">Operation on a Single GeoRaster Object</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression   IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT 'false',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0);
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression   IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip  IN VARCHAR2 DEFAULT 'FALSE');
</pre><p><span class="bold">Operation on an Array of GeoRaster Objects</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray    IN SDO_GEORASTER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression   IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0);
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray    IN SDO_GEORASTER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression   IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip  IN VARCHAR2 DEFAULT 'FALSE');
</pre><p><span class="bold">Operation on GeoRaster Objects Specified by a Cursor</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters IN SYS_REFCURSOR,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression   IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0);
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.classify(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters IN SYS_REFCURSOR,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression   IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rangeArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valueArray   IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip  IN VARCHAR2 DEFAULT 'FALSE');
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-509E9132-2ED2-44F8-828F-E2D87D428CB8">Description</p>
                     <p>Generates a new GeoRaster object after applying the specified classification operation on the input GeoRaster object or objects.</p>
                     <p>There are several formats for each of three input GeoRaster object or objects specification options (SDO_GEORASTER, SDO_GEORASTER_ARRAY, SYS_REEFCURSOR). Within each group of formats, you can specify no crop area or a crop area of SDO_NUMBER_ARRAY or SDO_GEOMETRY. For an SDO_GEOMETRY crop area, you can specify a polygon clip option, and the output can be either a GeoRaster object or a BLOB.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-64227156-C23E-49A1-B85C-B631E6256899">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-693D8A39-F1B4-4E79-B0A2-33A12576A464">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>Input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-6A2DF0F1-682D-40CD-8F3C-A727B54A2639">
                              <!-- --></a>georArray
                        </dt>
                        <dd>
                           <p>An array of GeoRaster objects. The data type is SDO_GEOR_ARRAY, which is defined as <code class="codeph">VARRAY(10485760) OF SDO_GEORASTER</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-0C04F9CF-A191-4F19-A298-F28E9D377F09">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Cursor (SYS_REFCURSOR type) for the input GeoRaster objects.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-631EA601-BE62-42BD-9233-038B08E86D7A">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as a rectangular crop area to generate the output GeoRaster object. If the parameter <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, then only cells within the crop area geometry are processed, and all cells outside the crop area geometry are set to zero (0). If the parameter <code class="codeph">polygonClip</code> is <code class="codeph">FALSE</code>, then all cells within the minimum bounding rectangle are processed.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-AF7A14C3-3625-4AB3-992D-C9A19F1FBC43">
                              <!-- --></a>expression
                        </dt>
                        <dd>
                           <p>An arithmetic expression used to classify cell values. See the Usage Notes for more information about specifying this parameter.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-3084B735-53CF-47E7-BA66-59A2ECF28B1C">
                              <!-- --></a>rangeArray
                        </dt>
                        <dd>
                           <p>A number array that defines ranges for classifying cell values. The array must contain at least one element.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-FF212AD5-AFED-49E9-8AB0-498CE6B7328F">
                              <!-- --></a>valueArray
                        </dt>
                        <dd>
                           <p>A number array that defines the target cell value for each range. The number of elements must be 1 greater than the elements in <code class="codeph">rangeArray</code> (that is, its length must be <code class="codeph">rangeArray</code>+1).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-E1DC61E2-EE21-4BED-A926-792BDC5FD9F2">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-0BABB8C8-CB69-479E-8B65-F9FB9BFD7B0E">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>Output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-893567BB-04FF-465B-B98E-1F990A8E6B6B">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-7468E556-0087-44F0-8C1C-56C2E1CB4560">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-53512AF6-CE93-4F42-922A-492F0A1B333A">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-44D0AC19-1985-43E5-9FEB-85ECCB201F65">
                              <!-- --></a>nodata
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> specifies if any cell value involved in the expression evaluation has a NODATA value, the expression is evaluated as a NODATA value; thus, the  corresponding cells in the output GeoRaster object are to be set to the value specified for the <code class="codeph">nodataValue</code> parameter. The string <code class="codeph">FALSE</code> (the default) causes cells with NODATA values to be considered as regular data. NODATA values and value ranges are discussed in <a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D" title="A NODATA value is used for cells whose values are either not known or meaningless.">NODATA Values and Value Ranges</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-58624E6C-2C3D-4A69-B567-6FFC3D4AE4B9">
                              <!-- --></a>nodataValue
                        </dt>
                        <dd>
                           <p>The value used to set NODATA cells if the <code class="codeph">nodata</code> parameter value is the string <code class="codeph">TRUE</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-551EC4DE-4196-4A91-B73C-8B7FA042A55E">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>Ignored if <code class="codeph">cropArea</code> is null. Otherwise, the string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> geometry to be used to process the data; the string <code class="codeph">FALSE</code> or a null value causes the minimum bounding rectangle (MBR) of the<code class="codeph">cropArea</code> geometry to be used to process the data.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-9DEE29EA-EA28-4CCD-8830-A1963B598F10">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>Specifying <code class="codeph">parallelParam</code> means that you cannot roll back the results of this procedure, as explained in the Usage Notes.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-2D613864-48B6-4A8D-A58D-C98CAB4EE7B1">Usage Notes</p>
                     <p>This procedure generates a new raster either in a GeoRaster object or a single BLOB, based on the input GeoRaster object or objects and the <code class="codeph">expression</code> parameter, which is an arithmetic expression string. For each cell in the output GeoRaster object, <code class="codeph">expression</code> is evaluated against corresponding cell values in the input GeoRaster object, and the following algorithm is used to calculate cell values of the output GeoRaster object:
                     </p><pre class="oac_no_warn" dir="ltr">if  (value of <span class="italic">expression</span> &lt; rangeArray[0])
    cellValue=valueArray[0]
else if (value of <span class="italic">expression</span> &gt;= rangeArray[n-1])
    cellValue=valueArray[n]
else if rangeArray[m-1] &lt;= value of <span class="italic">expression</span> &lt; rangeArray[m]
     cellValue=valueArray[m]
</pre><p>In the <code class="codeph">expression</code> calculation:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Length of <code class="codeph">rangeArray</code> is <span class="italic">n</span></p>
                        </li>
                        <li>
                           <p>Length of <code class="codeph">valueArray</code> is <span class="italic">n</span>+1
                           </p>
                        </li>
                        <li>
                           <p>0 &lt; <span class="italic">m</span> &lt; <span class="italic">n</span>-1
                           </p>
                        </li>
                     </ul>
                     <p>For more information, see <a href="raster-algebra-and-analytics.html#GUID-A6F087DC-1E7E-4426-B778-8554A25B3494" title="Raster algebra is commonly used in raster data analysis and GIS modeling. In GeoRaster, raster algebra is supported by the GeoRaster raster algebra language.">Raster Algebra Language</a>.
                     </p>
                     <p>There are several formats for each of the input GeoRaster object or objects specification options (SDO_GEORASTER, SDO_GEORASTER_ARRAY, SYS_REFCURSOR). Within each group of formats, you can specify no crop area or a crop area of SDO_NUMBER_ARRAY or SDO_GEOMETRY. For an SDO_GEOMETRY crop area, you can specify a polygon clip option, and the output can be either a GeoRaster object or a BLOB.</p>
                     <p>If you specify <code class="codeph">parallelParam</code>, some execution units of the procedure run as autonomous transactions, which means that some changes are committed while the procedure is running and therefore you cannot roll back those changes. If you do not specify this parameter, you can roll back all changes.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D9DA6608-7D97-4428-B1B2-002C371846E9__GUID-0603FBF4-FCCB-4FF1-8988-649764569C39">Examples</p>
                     <p>The following example classifies cell values based on the cell values of the first layer. The output is a GeoRaster object.</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  rangeArray SDO_NUMBER_ARRAY;
  valueArray SDO_NUMBER_ARRAY;
BEGIN
  rangeArray:=sdo_number_array(70,80,90,100,110,120,130,140,150,160,170,180);
  valueArray:=sdo_number_array(70,80,90,100,110,120,130,140,150,160,170,180,190);
  select georaster into geor from georaster_table where georid = 1;
  insert into georaster_table values (5, sdo_geor.init('rdt_1', 5)) returning georaster into geor1;
  sdo_geor_ra.classify(geor,'{0}',rangeArray,valueArray,null,geor1);
  update georaster_table set georaster = geor1 where georid = 5;
  commit;
END;
/</pre><p>The following example classifies cell values based on the cell values of the first layer. The output is a BLOB.</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor       SDO_GEORASTER;
  out_lob    BLOB;
  outArea sdo_geometry;
  outWindow sdo_number_array;
  rangeArray SDO_NUMBER_ARRAY;
  valueArray SDO_NUMBER_ARRAY;
BEGIN
  rangeArray:=sdo_number_array(70,80,90,100,110,120,130,140,150,160,170,180);
  valueArray:=sdo_number_array(70,80,90,100,110,120,130,140,150,160,170,180,190);
  select georaster into geor from georaster_table where georid = 1;
  dbms_lob.create_temporary(out_lob, TRUE);
  sdo_geor_ra.classify(geor,'{0}',rangeArray,valueArray,null,out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02" name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02"></a><h3 id="GEORS-GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02" class="sect3"><span class="enumeration_section">12.2 </span>SDO_GEOR_RA.diff
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-8A94616F-603E-4958-ADE5-645D30579E0C">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.diff(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.diff(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ploygonClip   IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.diff(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0;
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.diff(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE');
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-509E9132-2ED2-44F8-828F-E2D87D428CB8">Description</p>
                     <p>Generates a new GeoRaster object by performing the diff operation (explained in the Usage Notes). The new raster is either in a GeoRaster object or a single BLOB.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-64227156-C23E-49A1-B85C-B631E6256899">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-6F30C1EF-49FD-46D3-9093-59C908209475">
                              <!-- --></a>geor
                        </dt>
                        <dd>
                           <p>First input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-693D8A39-F1B4-4E79-B0A2-33A12576A464">
                              <!-- --></a>geor1
                        </dt>
                        <dd>
                           <p>Second input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-895DC400-88B9-4505-8860-C33165462298">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as a rectangular crop area to generate the output GeoRaster object. If the parameter <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, then only cells within the crop area geometry are processed, and all cells outside the crop area geometry are set to zero (0). See also the Usage Notes for <a href="SDO_GEOR-reference.html#GUID-9B3FA7F4-E6CA-4FDB-9DF9-EFEC63C19A55">SDO_GEOR.reproject</a> for SDO_SRID requirements.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-E1DC61E2-EE21-4BED-A926-792BDC5FD9F2">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-3C62A7E8-8E85-4565-853F-3654DA2F6626">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>Output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-C1B927D0-399A-45C2-AA15-2F315CA8A8B2">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-CA5F811A-A5A7-4EE2-B786-1F3B5F0DF0A8">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-927C95AD-5818-41CD-9A8E-FD8801EEE079">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-44D0AC19-1985-43E5-9FEB-85ECCB201F65">
                              <!-- --></a>nodata
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> specifies that for any NODATA cells in an input GeoRaster object, the corresponding cells in the output GeoRaster object are to be set to the value specified for the <code class="codeph">nodataValue</code> parameter. The string <code class="codeph">FALSE</code> (the default) causes cells with NODATA values to be considered as regular data. NODATA values and value ranges are discussed in <a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D" title="A NODATA value is used for cells whose values are either not known or meaningless.">NODATA Values and Value Ranges</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-58624E6C-2C3D-4A69-B567-6FFC3D4AE4B9">
                              <!-- --></a>nodataValue
                        </dt>
                        <dd>
                           <p>The value used to set NODATA cells if the <code class="codeph">nodata</code> parameter value is the string <code class="codeph">TRUE</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-8ABF3615-8546-4AB5-935F-A179CD96ACCA">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>Ignored if <code class="codeph">cropArea</code> is null. Otherwise, the string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> value to be used to crop the mosaicked data; the string <code class="codeph">FALSE</code> or a null value causes the MBR of <code class="codeph">cropArea</code> to be used to crop the output image.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-9DEE29EA-EA28-4CCD-8830-A1963B598F10">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>Specifying <code class="codeph">parallelParam</code> means that you cannot roll back the results of this procedure, as explained in the Usage Notes.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-2D613864-48B6-4A8D-A58D-C98CAB4EE7B1">Usage Notes</p>
                     <p>This procedure generates a new GeoRaster object by taking two input GeoRaster objects and applying the over operation: specifically, for each cell value in each layer, if the values in the two input objects are different, the value on the first input is output, but if the values in the two input objects are the same, the output is zero.</p>
                     <p>The two input GeoRaster objects must have same dimension size and same number of bands; otherwise, the ORA-13397 error is generated.</p>
                     <p>If you specify <code class="codeph">parallelParam</code>, some execution units of the procedure run as autonomous transactions, which means that some changes are committed while the procedure is running and therefore you cannot roll back those changes. If you do not specify this parameter, you can roll back all changes.
                     </p>
                     <p>For more information, see <a href="raster-algebra-and-analytics.html#GUID-022F5214-9D1E-44B4-8487-967C93CC2954" title="A major use of raster algebra is to apply logical models to raster layers from different sources; that is, you can apply logical operations on one or more layers, from one or more GeoRaster objects, to generate a new GeoRaster object.">Logical Operations</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B879FE32-88C6-4C85-95B8-47B7EDEE8C02__GUID-0603FBF4-FCCB-4FF1-8988-649764569C39">Examples</p>
                     <p>The following example performs the diff operation on the two input GeoRaster objects. The output is a GeoRaster object.</p><pre class="oac_no_warn" dir="ltr">declare
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  geor2      SDO_GEORASTER;
  geom       sdo_geometry;
begin
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor1 from georaster_table where georid = 101;
  select georaster into geor2 from georaster_table where georid = 102 for update;
  geom:=null;
  sdo_geor_ra.diff(geor,geor1,geom,null,geor2);
  update georaster_table set georaster = geor2 where georid = 102;
end;
/
</pre><p>The following example performs the diff operation on the two input GeoRaster objects. The output is a GeoRaster object. The output is a BLOB.</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  out_lob    BLOB;
  outArea    sdo_geometry;
  outWindow  sdo_number_array;  
  geom       sdo_geometry;
BEGIN
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor1 from georaster_table where georid = 101;
  dbms_lob.create_temporary(out_lob, TRUE);
  geom:=null;
  sdo_geor_ra.diff(geor,geor1,geom,null,out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1294"></a><div class="props_rev_3"><a id="GUID-67FDA0FA-D055-4821-964F-600660861A72" name="GUID-67FDA0FA-D055-4821-964F-600660861A72"></a><h3 id="GEORS-GUID-67FDA0FA-D055-4821-964F-600660861A72" class="sect3"><span class="enumeration_section">12.3 </span>SDO_GEOR_RA.findCells
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-31DC5B9D-BC3D-4AAF-BADE-B65574B41E0A">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.findCells(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.findCells(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.findCells(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition     IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.findCells(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition    IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT FALSE;
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_AGGR.findCells(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition    IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip  IN VARCHAR2 DEFAULT FALSE);
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-9C078D34-B58D-47A1-8C20-0FA102EF70ED">Description</p>
                     <p>Generates a new raster either in a GeoRaster object or a single BLOB based on the input GeoRaster object, but masking all cells that do not satisfy the <code class="codeph">condition</code> parameter specification.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-9E7A5E45-1E25-424C-AEF7-09A6FF67CCC6">Parameters</p>
                     <dl class="1.00* 3.00*">
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-778D82D4-875C-42EC-97B3-E7B6A09DEDC8">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>Input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-D17EA62B-47CD-4E68-B7C2-15EF1A1A8817">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as a rectangular crop area to generate the output GeoRaster object; see also the Usage Notes for <a href="SDO_GEOR-reference.html#GUID-9B3FA7F4-E6CA-4FDB-9DF9-EFEC63C19A55">SDO_GEOR.reproject</a> for SDO_SRID requirements.. If the parameter <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, then only cells within the crop area geometry are processed, and all cells outside the crop area geometry are set to zero (0). If the parameter <code class="codeph">polygonClip</code> is <code class="codeph">FALSE</code>, then all cells within the minimum bounding rectangle are processed.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-CFAD9C6B-5FE5-4D8C-AE0D-67A41FBE7AAC">
                              <!-- --></a>condition
                        </dt>
                        <dd>
                           <p>An expression string used to filter out cells. (See the Usage Notes for more information.).</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-DE82A0CD-F11E-4B9B-8312-801255EAD576">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-E1AF2B45-3B78-479C-BCA6-E47458ABFCFB">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>Output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-EB8E3F79-15F6-40E8-9ECC-8638EAB62413">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-B8FC4077-673D-4E6B-BE73-7ECD74EFA8E4">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-FCA1C99A-CAC0-4ACE-878D-FE569EC299BD">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-24E253C7-7805-4A16-8FE8-96A390EAC9C5">
                              <!-- --></a>bgValues
                        </dt>
                        <dd>
                           <p>Background values to represent values of cells in the empty raster blocks of the input GeoRaster object. The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).
                           </p>
                           <p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-5AE7F4ED-F7DE-4B86-9954-ED85379156F3">
                              <!-- --></a>nodata
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> means that the original values for any NODATA cells in the GeoRaster object are kept, and NODATA values are considered in the <code class="codeph">condition</code> parameter evaluation. If any cell value involved in the <code class="codeph">condition</code> parameter evaluation has a NODATA value, the <code class="codeph">condition</code> parameter is evaluated as FALSE (see the Usage Notes regarding the <code class="codeph">condition</code> parameter). The string <code class="codeph">FALSE</code> (the default) causes cells with NODATA values to be considered as regular data. NODATA values and value ranges are discussed in <a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D" title="A NODATA value is used for cells whose values are either not known or meaningless.">NODATA Values and Value Ranges</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-8D37582D-B07F-43B0-AD5E-8F42A1BE929B">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>Ignored if <code class="codeph">cropArea</code> is null. Otherwise, the string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> geometry to be used to process the data; the string <code class="codeph">FALSE</code> or a null value causes the minimum bounding rectangle (MBR) of the<code class="codeph">cropArea</code> geometry to be used to process the data.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-238E953C-E244-4260-A1AD-DA665626E2A4">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>Specifying <code class="codeph">parallelParam</code> means that you cannot roll back the results of this procedure, as explained in the Usage Notes.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-B4CBBA4B-8386-4022-B0EE-F702295C61BE">Usage Notes</p>
                     <p>This procedure generates a new raster either in a GeoRaster object or a single BLOB based on the input GeoRaster object and the <code class="codeph">condition</code> parameter, which is <code class="codeph">booleanExpr</code>, a Boolean expression string. For each cell in the output GeoRaster object, condition is evaluated against corresponding cell values in the input GeoRaster object. If <code class="codeph">condition</code> is true for a cell, the original cell value is kept in the output GeoRaster object; otherwise, <code class="codeph">bgValues</code> are filled for the cell in the output GeoRaster object
                     </p>
                     <p>For more information, see <a href="raster-algebra-and-analytics.html#GUID-A6F087DC-1E7E-4426-B778-8554A25B3494" title="Raster algebra is commonly used in raster data analysis and GIS modeling. In GeoRaster, raster algebra is supported by the GeoRaster raster algebra language.">Raster Algebra Language</a>.
                     </p>
                     <p>If you specify <code class="codeph">parallelParam</code>, some execution units of the procedure run as autonomous transactions, which means that some changes are committed while the procedure is running and therefore you cannot roll back those changes. If you do not specify this parameter, you can roll back all changes.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FDA0FA-D055-4821-964F-600660861A72__GUID-A0040DB4-921C-416B-92F8-E91EBB0CD306">Examples</p>
                     <p>The following example changes cell values to default background values 0, if cell value of the second layer is less than or equal to 200.</p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor  SDO_GEORASTER;
  geor1 SDO_GEORASTER;
BEGIN
  select georaster into geor from georaster_table where georid = 1;
  insert into georaster_table values (5, sdo_geor.init('rdt_1', 5)) returning georaster into geor1;
  sdo_geor_ra.findcells(geor, '{1}&gt;200',null,geor1);
  update georaster_table set georaster = geor1 where georid = 5;
  commit;
END;
/</pre><p>The following example changes cell values to default background values 0, if cell value of the second layer is less than or equal to 200. The output is in a BLOB..</p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor  SDO_GEORASTER;
  out_lob    BLOB;
  outArea    sdo_geometry;
  outWindow  sdo_number_array; 
BEGIN
  select georaster into geor from georaster_table where georid = 1;
  dbms_lob.create_temporary(out_lob, TRUE);  
  sdo_geor_ra.findcells(geor, '{1}&gt;200',null,out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);
END;
/
</pre><p>The following example uses a geometry object (<code class="codeph">geom</code>) as the input <code class="codeph">cropArea</code>.
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor       SDO_GEORASTER;
  geor0      SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  geom       SDO_GEOMETRY;
BEGIN
  geom:= sdo_geometry(2003,82394, NULL,
                         sdo_elem_info_array(1, 1003, 1),
                         sdo_ordinate_array(21783.775, 1008687.9,
                                           18783.775, 966687.905,
                                           63783.775, 966687.905,
                                           81783.775, 990687.905,
                                           21783.775, 1008687.9));
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor1 from georaster_table where georid = 101 for update;
  sdo_geor_ra.findcells(geor,geom,'({1}=42)','blocking=true, blocksize=(256,256,3)',geor1,null,'false');
  update georaster_table set georaster = geor1 where georid = 101;
END;
/</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1295"></a><div class="props_rev_3"><a id="GUID-B64A8557-B92D-4588-812D-2F767338EA68" name="GUID-B64A8557-B92D-4588-812D-2F767338EA68"></a><h3 id="GEORS-GUID-B64A8557-B92D-4588-812D-2F767338EA68" class="sect3"><span class="enumeration_section">12.4 </span>SDO_GEOR_RA.isOverlap
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-FCCE5698-5BD5-41CE-9470-40D30C21C7F7">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR.isOverlap(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster1 IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster2 IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance  IN NUMBER DEFAULT 0.5 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.isOverlap(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance IN NUMBER DEFAULT 0.5 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.isOverlap(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor_cur  IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tolerance IN NUMBER DEFAULT 0.5 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) RETURN VARCHAR2;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-FBE12B7A-764A-4967-BD8F-E974A520B9D4">Description</p>
                     <p>Returns the string <code class="codeph">TRUE</code> if two or more GeoRaster objects overlap, or <code class="codeph">FALSE</code> if two or more GeoRaster objects do not overlap. (See the Usage Notes for the logic used to determine of two GeoRaster objects, whether georeferenced or not, overlap.)
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-600784FA-B857-4A2E-9A6F-06EC4CB1790B">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-741AC0AD-EDFD-44A9-911F-96CB15461061">
                              <!-- --></a>georaster1
                        </dt>
                        <dd>
                           <p>GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-1DF4D5B0-6546-4960-88EC-DB3A09B25683">
                              <!-- --></a>georaster2
                        </dt>
                        <dd>
                           <p>GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-D63A6B19-4496-4156-866C-3F3FBA2EBF4A">
                              <!-- --></a>georArray
                        </dt>
                        <dd>
                           <p>An array of GeoRaster objects. The data type is SDO_GEOR_ARRAY, which is defined as <code class="codeph">VARRAY(10485760) OF SDO_GEORASTER</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-12B41B56-8A47-4CF8-929C-8E1D651E26EC">
                              <!-- --></a>geor_cur
                        </dt>
                        <dd>
                           <p>Cursor (SYS_REFCURSOR type) for the input GeoRaster objects.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-A6CE2104-AC15-4F24-A42C-AC6359EBC1F7">
                              <!-- --></a>tolerance
                        </dt>
                        <dd>
                           <p>Tolerance value used to determine if two cells in the cell space overlap in the model space. The value should be between 0 and 1, and the unit is cell. For example, 0.5 (the default) means one-half cell, namely, that two cells overlap if the distance between them in 0.5 cell or less.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-05D6CE81-F5C8-4986-8BFD-A7DCB8DD97DD">Usage Notes</p>
                     <p>The GeoRaster objects being compared for overlap must be either all georeferenced or all non-georeferenced.</p>
                     <p>The following logic is applied to determine if two GeoRaster objects overlap:</p>
                     <ol>
                        <li>
                           <p> If the row or column dimension size of two GeoRaster objects is different, then return <code class="codeph">'FALSE'</code>. Otherwise, continue to the next step.
                           </p>
                        </li>
                        <li>
                           <p>Check if both GeoRaster objects are georeferenced.</p>
                           <ol type="a">
                              <li>
                                 <p>If one is georeferenced and the other one is not, then return <code class="codeph">'FALSE'</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>If both are non-georeferenced, and if the <code class="codeph">ultCoordinate</code> of both GeoRaster objects is the same, then return <code class="codeph">'TRUE'</code>; else, return <code class="codeph">'FALSE'</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>If both are georeferenced, go to the next step.</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Check the <code class="codeph">pType</code>, <code class="codeph">nVars</code>, <code class="codeph">order</code>, and <code class="codeph">nCoefficients</code> values (explained in <a href="georaster-overview-and-concepts.html#GUID-D07DEFFD-F25A-4D8D-8A94-9AFD05CE4256">Functional Fitting Georeferencing Model</a>) of the <code class="codeph">p</code>, <code class="codeph">q</code>, <code class="codeph">r</code>, and <code class="codeph">s</code> polynomials. If any are different, then return 'FALSE'; else, go to the next step. 
                           </p>
                        </li>
                        <li>
                           <p>Calculate the upper-left, upper-right, lower-left, and lower-right four points from cell space to model space. If the distance of corresponding points of the two GeoRaster objects is within the tolerance value (converted from cell space to model space), then return <code class="codeph">'TRUE'</code>; else, return <code class="codeph">'FALSE</code>'.
                           </p>
                        </li>
                     </ol>
                     <p>The raster algebra functions of GeoRaster require the raster layers from different GeoRaster objects have the same size and completely overlap each other. Before you apply raster algebra operations over two or more GeoRaster objects or perform other operations, you can use the SDO_GEOR_RA.isOverlap function to determine if the GeoRaster objects are of the same size and cover the same ground area.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B64A8557-B92D-4588-812D-2F767338EA68__GUID-45FD9880-E3DA-45F3-BEC6-C546EEB21CF2">Examples</p>
                     <p>The following examples check if two GeoRaster objects overlap. (They use two different formats of the function.)</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
BEGIN
 
  SELECT georaster INTO geor FROM georaster_table WHERE georid = 1;
  SELECT georaster INTO geor1 FROM georaster_table WHERE georid = 30;
  dbms_output.put_line(sdo_geor_ra.isOverlap(geor,geor1,0.5));
END;
/
 
DECLARE 
  mycursor  sys_refcursor;
BEGIN
  OPEN mycursor FOR
    SELECT georaster FROM georaster_table WHERE georid = 1 or georid=30;
  dbms_output.put_line(sdo_geor_ra.isOverlap(mycursor,0.5));
END;
/</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4" name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4"></a><h3 id="GEORS-GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4" class="sect3"><span class="enumeration_section">12.5 </span>SDO_GEOR_RA.over
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-8A94616F-603E-4958-ADE5-645D30579E0C">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.over(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.over(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ploygonClip   IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.over(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0;
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.over(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor          IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geor1         IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT FALSE);
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-509E9132-2ED2-44F8-828F-E2D87D428CB8">Description</p>
                     <p>Generates a new raster, either in a GeoRaster object or in a single BLOB, by performing the over operation (explained in the Usage Notes).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-64227156-C23E-49A1-B85C-B631E6256899">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-6F30C1EF-49FD-46D3-9093-59C908209475">
                              <!-- --></a>geor
                        </dt>
                        <dd>
                           <p>First input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-693D8A39-F1B4-4E79-B0A2-33A12576A464">
                              <!-- --></a>geor1
                        </dt>
                        <dd>
                           <p>Second input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-895DC400-88B9-4505-8860-C33165462298">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as a rectangular crop area to generate the output GeoRaster object. If the parameter <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, then only cells within the crop area geometry are processed, and all cells outside the crop area geometry are set to zero (0). See also the Usage Notes for <a href="SDO_GEOR-reference.html#GUID-9B3FA7F4-E6CA-4FDB-9DF9-EFEC63C19A55">SDO_GEOR.reproject</a> for SDO_SRID requirements.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-E1DC61E2-EE21-4BED-A926-792BDC5FD9F2">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-53512AF6-CE93-4F42-922A-492F0A1B333A">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>Output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-FB474CEB-9782-4C4D-B321-9399BE19628A">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-68BCC2C9-3CF7-44D6-A0CF-BFB7F26272DC">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-41210757-B3E7-4DFF-BF70-71DB3BE0A5C6">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-44D0AC19-1985-43E5-9FEB-85ECCB201F65">
                              <!-- --></a>nodata
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> specifies that for any NODATA cells in an input GeoRaster object, the corresponding cells in the output GeoRaster object are to be set to the value specified for the <code class="codeph">nodataValue</code> parameter. The string <code class="codeph">FALSE</code> (the default) causes cells with NODATA values to be considered as regular data. NODATA values and value ranges are discussed in <a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D" title="A NODATA value is used for cells whose values are either not known or meaningless.">NODATA Values and Value Ranges</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-58624E6C-2C3D-4A69-B567-6FFC3D4AE4B9">
                              <!-- --></a>nodataValue
                        </dt>
                        <dd>
                           <p>The value used to set NODATA cells if the <code class="codeph">nodata</code> parameter value is the string <code class="codeph">TRUE</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-8ABF3615-8546-4AB5-935F-A179CD96ACCA">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>Ignored if <code class="codeph">cropArea</code> is null. Otherwise, the string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> value to be used to crop the mosaicked data; the string <code class="codeph">FALSE</code> or a null value causes the MBR of <code class="codeph">cropArea</code> to be used to crop the output image.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-9DEE29EA-EA28-4CCD-8830-A1963B598F10">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>Specifying <code class="codeph">parallelParam</code> means that you cannot roll back the results of this procedure, as explained in the Usage Notes.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-2D613864-48B6-4A8D-A58D-C98CAB4EE7B1">Usage Notes</p>
                     <p>This procedure generates a new raster, either in a GeoRaster object or in a single BLOB, by taking two input GeoRaster objects and applying the over operation: specifically, each cell in each layer in the output raster will contain the value from the corresponding cell in first input GeoRaster object if that value is not zero; otherwise, it will contain the value of the corresponding cell in the second GeoRaster object.</p>
                     <p>If you specify <code class="codeph">parallelParam</code>, some execution units of the procedure run as autonomous transactions, which means that some changes are committed while the procedure is running and therefore you cannot roll back those changes. If you do not specify this parameter, you can roll back all changes.
                     </p>
                     <p>For more information, see <a href="raster-algebra-and-analytics.html#GUID-022F5214-9D1E-44B4-8487-967C93CC2954" title="A major use of raster algebra is to apply logical models to raster layers from different sources; that is, you can apply logical operations on one or more layers, from one or more GeoRaster objects, to generate a new GeoRaster object.">Logical Operations</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D6105A06-3CC0-42C9-AC57-81333017C3A4__GUID-0603FBF4-FCCB-4FF1-8988-649764569C39">Examples</p>
                     <p>The following example performs the over operation on the two input GeoRaster objects. The output is in a GeoRaster object.</p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor       MDSYS.SDO_GEORASTER;
  geor1      MDSYS.SDO_GEORASTER;
  geor2      MDSYS.SDO_GEORASTER;
  geom       mdsys.sdo_geometry;
BEGIN
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor1 from georaster_table where georid = 101;
  select georaster into geor2 from georaster_table where georid = 102 for update;
  geom:=null;
  mdsys.sdo_geor_ra.over(geor,geor1,geom,null,geor2);
  update georaster_table set georaster = geor2 where georid = 102;
END;
/
</pre><p>The following example performs the over operation on the two input GeoRaster objects. The output is in a BLOB.</p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  out_lob    BLOB;
  outArea    sdo_geometry;
  outWindow  sdo_number_array;
  geom       sdo_geometry;
BEGIN
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor1 from georaster_table where georid = 101;
  dbms_lob.create_temporary(out_lob, TRUE);
  geom:=null;
  sdo_geor_ra.over(geor,geor1,geom,null,out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1296"></a><div class="props_rev_3"><a id="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333" name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333"></a><h3 id="GEORS-GUID-BB7A762E-E615-43AD-9D74-5E917D29F333" class="sect3"><span class="enumeration_section">12.6 </span>SDO_GEOR_RA.rasterMathOp
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-30508542-8122-44F6-B55C-6C989F5894E2">Format</p>
                     <p><span class="bold">Operation on a Single GeoRaster Object</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0;</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT  BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT FALSE);
</pre><p><span class="bold">Operation on an Array of GeoRaster Objects</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0;</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT FALSE);
</pre><p><span class="bold">Operation on GeoRaster Objects Specified by a Cursor</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0;
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRasters  IN SYS_REFCURSOR,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operation     IN SDO_STRING2_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob    IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea       OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow     OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT FALSE);
</pre><p><span class="bold">Operation on All Corresponding Cells of Each Layer</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster0    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster1    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constant      IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator      IN PLS_INTEGER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster0    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster1    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constant      IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator      IN PLS_INTEGER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster0    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster1    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GHEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constant      IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator      IN PLS_INTEGER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster0   IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster1   IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constant     IN NUMBER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator     IN PLS_INTEGER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0;
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterMathOp(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster0   IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georaster1   IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constant     IN NUMBER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operator     IN PLS_INTEGER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip  IN VARCHAR2 DEFAULT FALSE);
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-9023DCCB-60BF-4568-8C6D-202E8744361B">Description</p>
                     <p>Performs a raster mathematical operation on one or more GeoRaster objects.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-D4A338B1-E8AC-47C8-B9F7-5A8E090F71FD">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-22D94268-5AA0-40DA-953C-94524EE40E62">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>Input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-2CEBAA2E-4C50-4ADB-897C-2AE3E2818BFF">
                              <!-- --></a>georArray
                        </dt>
                        <dd>
                           <p>An array of GeoRaster objects. The data type is SDO_GEOR_ARRAY, which is defined as <code class="codeph">VARRAY(10485760) OF SDO_GEORASTER</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-8F19EE44-0BEA-4832-ACD7-A0142901641B">
                              <!-- --></a>inGeoRasters
                        </dt>
                        <dd>
                           <p>Cursor (SYS_REFCURSOR type) for the input GeoRaster objects.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-BCB8F2A8-7DDA-4A8B-9581-EB9E03064BB8">
                              <!-- --></a>georaster0
                        </dt>
                        <dd>
                           <p>The left operand.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-BBB4027A-EB3C-4095-872C-346E2E361E32">
                              <!-- --></a>georaster1
                        </dt>
                        <dd>
                           <p>The right operand.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-01152FBA-1934-4B79-A972-C3FD1C97E076">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as a rectangular crop area to generate the output GeoRaster object. If the parameter <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, then only cells within the crop area geometry are processed, and all cells outside the crop area geometry are set to zero (0). See also the Usage Notes for <a href="SDO_GEOR-reference.html#GUID-9B3FA7F4-E6CA-4FDB-9DF9-EFEC63C19A55">SDO_GEOR.reproject</a> for SDO_SRID requirements.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-312E4152-1D2E-40F2-90E1-ADCAB5F4A3FF">
                              <!-- --></a>operation
                        </dt>
                        <dd>
                           <p>An array of <code class="codeph">arithmeticExpr</code> expression strings used to calculate raster cell values in the output GeoRaster object. Each element of the array corresponds to a layer in the output GeoRaster object. The data type is SDO_STRING2_ARRAY, which is defined as <code class="codeph">VARRAY(2147483647) OF VARCHAR2(4096)</code>.
                           </p>
                           <p>The syntax for the <code class="codeph">arithmeticExpr</code> expressions is explained in <a href="raster-algebra-and-analytics.html#GUID-A6F087DC-1E7E-4426-B778-8554A25B3494" title="Raster algebra is commonly used in raster data analysis and GIS modeling. In GeoRaster, raster algebra is supported by the GeoRaster raster algebra language.">Raster Algebra Language</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-DD05E2F6-B769-4EA4-9BFB-D6EF3F67E7F5">
                              <!-- --></a>constant
                        </dt>
                        <dd>
                           <p>Constant value for some operators (see the <code class="codeph">operator</code> parameter), such as <code class="codeph">addConst</code> and <code class="codeph">divConstant</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-1E2C9197-5248-43AB-8328-671AA0E5A3F5">
                              <!-- --></a>operator
                        </dt>
                        <dd>
                           <p>One of the following math operators, which are defined in the SDO_GEOR_RA package:</p><pre class="oac_no_warn" dir="ltr">OPERATOR_ABSOLUTE      
OPERATOR_ADD               
OPERATOR_ADDCONST  
OPERATOR_DIVIDE           
OPERATOR_DIVIDECONST
OPERATOR_EXP
OPERATOR_INVERT            
OPERATOR_LOG             
OPERATOR_MULTIPLY         
OPERATOR_MULTIPLYCONST 
OPERATOR_SUBTRACT   
OPERATOR_SUBTRACTCONST  
</pre><p>For the definitions of these operators, see the Usage Notes.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-98BEDC58-6815-4F2E-9369-FD4E4B213543">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-03C5E0B3-905C-4FED-8269-418E260EFEFC">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>Output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-8D8BFEAD-DAE0-4792-BD99-29F3908D7CAE">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-62E286A7-5A79-4BD0-B1A2-B02844F464E7">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-00E69D34-43F9-476F-953B-D2FA878462E3">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-E8C55E16-FF3B-4384-A265-0FD326F966E2">
                              <!-- --></a>bgValues
                        </dt>
                        <dd>
                           <p>Background values to represent values of cells in the empty raster blocks of the input GeoRaster object. The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).
                           </p>
                           <p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-FCB707BF-0A53-4280-82C1-63A0881CB25D">
                              <!-- --></a>nodata
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> specifies that if there are any NODATA cells in the operands of the math operation, the operation result is evaluated as a NODATA value; thus, the corresponding cells in the output GeoRaster object are to be set to the value specified for the <code class="codeph">nodataValue</code> parameter. The string <code class="codeph">FALSE</code> (the default) causes cells with NODATA values to be considered as regular data. NODATA values and value ranges are discussed in <a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D" title="A NODATA value is used for cells whose values are either not known or meaningless.">NODATA Values and Value Ranges</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-457439AA-DF55-4E2D-B089-4E6D237499FC">
                              <!-- --></a>nodataValue
                        </dt>
                        <dd>
                           <p>The value used to set NODATA cells if the <code class="codeph">nodata</code> parameter value is the string <code class="codeph">TRUE</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-938F87D5-F39C-4C07-8E27-5DCBCC6714B3">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>Ignored if <code class="codeph">cropArea</code> is null. Otherwise, the string <code class="codeph">TRUE</code> causes the <code class="codeph">cropArea</code> value to be used to crop the mosaicked data; the string <code class="codeph">FALSE</code> or a null value causes the MBR of <code class="codeph">cropArea</code> to be used to crop the output image.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-A80C5DCD-24DB-474D-8956-D5004788F3FF">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>Specifying <code class="codeph">parallelParam</code> means that you cannot roll back the results of this procedure, as explained in the Usage Notes.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-B79D292F-8F92-42BF-96FA-92BE42F9462A">Usage Notes</p>
                     <p>This procedure has 20 formats, which can be considered as 4 groups of 5 formats each:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Operation on a single GeoRaster object</p>
                        </li>
                        <li>
                           <p>Operation on an array of GeoRaster objects</p>
                        </li>
                        <li>
                           <p>Operation on GeoRaster objects specified by a cursor (SYS_REFCURSOR type)</p>
                        </li>
                        <li>
                           <p>Operation on all corresponding cells of each layer or one or two GeoRaster objjects</p>
                        </li>
                     </ul>
                     <p>Within each group, the options include specifying a crop areas of type SDO_NUMBER_ARRAY or SDO_GEOMETRY, and for an SDO_GEOMETRY crop area, whether to use the crop areas geometry object or the MBR of that object. The output raster can be in a GeoRaster object or a single BLOB.</p>
                     <p>The first three groups of formats are used to generate a new raster from layers of one or more input GeoRaster objects based on the <code class="codeph">operation</code> parameter. For example, the following example generates a new GeoRaster object that has three layers, and each layer's value is the cell value of the input GeoRaster object minus 10:
                     </p><pre class="oac_no_warn" dir="ltr">sdo_geor_ra.rasterMathOp(geor,SDO_STRING2_ARRAY('{0,0}-10','{0,1}-10','{0,2}-10'),null,geor1);
</pre><p>The fourth group of formats applies a mathematical operation on all corresponding cells of each layer of input GeoRaster objects, and generates a new GeoRaster object with the same dimension size as the first input GeoRaster object (<code class="codeph">geoRaster0</code>). The two input GeoRaster objects must have same row/column/band dimension size.
                     </p>
                     <p>For the fourth group of formats, when the output raster is a GeoRaster object, all pyramids are removed in the resulting GeoRaster object, but masks of the first input GeoRaster object are kept in the resulting GeoRaster object; when the output raster is in a BLOB, all pyramids and masks are removed from the output.</p>
                     <p>For the <code class="codeph">operator</code> parameter, the operators have the following definitions:
                     </p><pre class="oac_no_warn" dir="ltr">OPERATOR_ABSOLUTE  : 
 if (src[x][y][b] &lt; 0) {
     dst[x][y][b] = -src[x][y][b];
 } else {
     dst[x][y][b] =  src[x][y][b];
 }

OPERATOR_ADD               
   dst[x][y][b]=src1[x][y][b]+src2[x][y][b]
OPERATOR_ADDCONST  
   dst[x][y][b]=src[x][y][b] +constant   --constant is the third parameter 
 
OPERATOR_DIVIDE           
   dst[x][y][b]=src1[x][y][b]/src2[x][y][b]
 
OPERATOR_DIVIDECONST
   dst[x][y][b]=src[x][y][b]/constant   --constant is the third parameter 
 
OPERATOR_EXP
   dst[x][y][b]=exp(src[x][y][b])
 
OPERATOR_INVERT        :
   Inverts the cell values: dst[x][y][b]=-src[x][y][b] 

OPERATOR_LOG           :  
   dst[x][y][b]=log(src[x][y][b])
 
OPERATOR_MULTIPLY         
   dst[x][y][b]=src1[x][y][b]*src2[x][y][b]
 
OPERATOR_MULTIPLYCONST 
   dst[x][y][b]=src[x][y][b]*constant   --constant is the third parameter 
 
OPERATOR_SUBTRACT   
   dst[x][y][b]=src1[x][y][b]-src2[x][y][b]
 
OPERATOR_SUBTRACTCONST
   dst[x][y][b]=src[x][y][b]-constant   --constant is the third parameter
</pre><p>For more information about the raster algebra language, see <a href="raster-algebra-and-analytics.html#GUID-A6F087DC-1E7E-4426-B778-8554A25B3494" title="Raster algebra is commonly used in raster data analysis and GIS modeling. In GeoRaster, raster algebra is supported by the GeoRaster raster algebra language.">Raster Algebra Language</a>.
                     </p>
                     <p>If you specify <code class="codeph">parallelParam</code>, some execution units of the procedure run as autonomous transactions, which means that some changes are committed while the procedure is running and therefore you cannot roll back those changes. If you do not specify this parameter, you can roll back all changes.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB7A762E-E615-43AD-9D74-5E917D29F333__GUID-44D77D69-AC75-4D83-8798-FD01E3AE061E">Examples</p>
                     <p>The following example adds the constant 10 to all cell values of the input GeoRaster object. The output is a GeoRaster object.</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
BEGIN
 
  select georaster into geor from georaster_table where georid = 1;
  insert into georaster_table values (5, sdo_geor.init('rdt_1', 5)) returning georaster into geor1;
  sdo_geor_ra.rasterMathOp(geor,null,10,sdo_geor_ra.OPERATOR_ADDCONST,null,geor1);
  update georaster_table set georaster = geor1 where georid = 5;
  commit;
END;
/
</pre><p>The following example adds the constant 10 to all cell values of the input GeoRaster object. The output is a BLOB.</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor       SDO_GEORASTER;
  out_lob    BLOB;
  outArea    sdo_geometry;
  outWindow  sdo_number_array;
BEGIN
 
  select georaster into geor from georaster_table where georid = 1;
  dbms_lob.create_temporary(out_lob, TRUE);
  sdo_geor_ra.rasterMathOp(geor,null,10,sdo_geor_ra.OPERATOR_ADDCONST,null,out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);

END;
/
</pre><p>The following example generates a new three-layer GeoRaster object from three layers of the input GeoRaster object, and each cell value in the new GeoRaster object is the value of the corresponding "old" cell divided by 2.</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  geo_array  SDO_GEORASTER_ARRAY;
BEGIN
  select georaster into geor from georaster_table where georid = 2;
  insert into georaster_table values (20, sdo_geor.init('rdt_1', 20)) returning georaster into geor1;
  geo_array:=SDO_GEORASTER_ARRAY(geor);
  sdo_geor_ra.rasterMathOp(geo_array,SDO_STRING2_ARRAY('{0,0}/2','{0,1}/2','{0,2}/2'),null,geor1);
  update georaster_table set georaster = geor1 where georid = 20;
  commit;
END;
/</pre><p>The following example performs a raster math operation with a geometry object as the crop area.</p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  geom       SDO_GEOMETRY;
  geo_array  SDO_GEORASTER_ARRAY;
BEGIN
  geom:= sdo_geometry(2003,82394, NULL,
                         sdo_elem_info_array(1, 1003, 1),
                         sdo_ordinate_array(21783.775, 1008687.9,
                                                 18783.775, 966687.905,
                                                 63783.775, 966687.905,
                                                 81783.775, 990687.905,
                                                 21783.775, 1008687.9));
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor1 from georaster_table where georid = 101 for update;
  geo_array:=SDO_GEORASTER_ARRAY(geor);
  mdsys.sdo_geor_ra.rasterMathOp(geo_array,geom,SDO_STRING2_ARRAY('{0,0}/2','{0,1}/2','{0,2}/2'),null,geor1);
  update georaster_table set georaster = geor1 where georid = 101;
  commit;
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GEORS1297"></a><div class="props_rev_3"><a id="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E" name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E"></a><h3 id="GEORS-GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E" class="sect3"><span class="enumeration_section">12.7 </span>SDO_GEOR_RA.rasterUpdate
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-42E96E63-F330-48BC-86F1-BD4B4A4A4202">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterUpdate(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geoRaster     IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel  IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conditions    IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vals          IN SDO_STRING2_ARRAYSET, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterUpdate(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geoRaster     IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel  IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetArea    IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conditions    IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vals          IN SDO_STRING2_ARRAYSET, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.rasterUpdate(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;geoRaster     IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel  IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetArea    IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conditions    IN SDO_STRING2_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vals          IN SDO_STRING2_ARRAYSET, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bgValues      IN SDO_NUMBER_ARRAY DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE',
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-A8D802CF-33EB-467C-8532-56A99BA4FCF2">Description</p>
                     <p>Updates all cells for which the <code class="codeph">conditions</code> specification is true, using values calculated from the <code class="codeph">vals</code> specification.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-02771BB5-4844-4571-89C9-2A5956D4E56F">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-B5F738B1-EBFC-49C4-81A5-1C9EE5DED040">
                              <!-- --></a>geoRaster
                        </dt>
                        <dd>
                           <p>GeoRaster object that is used for input and for output (updating based on specified conditions).</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-3E8963CC-B637-48AF-8E88-02716F2EF13B">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>Pyramid level to be updated. If this parameter is null, all pyramid levels are updated.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-1F78CBC2-2F37-40EF-A7D9-015156918B32">
                              <!-- --></a>targetArea
                        </dt>
                        <dd>
                           <p>Target area definition. If the data type is SDO_GEOMETRY, then if the parameter <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, only cells within the target area geometry are updated, and all cells outside the target area geometry keep original values; but if the parameter&nbsp;<code class="codeph">polygonClip</code>&nbsp;is <code class="codeph">FALSE</code>, all cells in the MBR of the target area geometry are updated.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-77803075-AC56-40BE-95DF-C1CC508C7252">
                              <!-- --></a>conditions
                        </dt>
                        <dd>
                           <p>An array of <code class="codeph">booleanExpr</code> expression strings used to select cells. (See the Usage Notes for more information.) The data type is SDO_STRING2_ARRAY, which is defined as <code class="codeph">VARRAY(2147483647) OF VARCHAR2(4096)</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-47495912-8B7D-49D7-A29F-B86352A6B328">
                              <!-- --></a>vals
                        </dt>
                        <dd>
                           <p>An array or arrays of <code class="codeph">arithmeticExpr</code> expressions, with the outer array corresponding to each condition and the inner array corresponding to each layer. The data type is SDO_STRING2_ARRAYSET, which is defined as <code class="codeph">VARRAY(2147483647) OF SDO_STRING2_ARRAY</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-F71BC178-A4A4-4CE3-A5DB-B4B88EF494F0">
                              <!-- --></a>bgValues
                        </dt>
                        <dd>
                           <p>Background values to represent values of cells in the empty raster blocks of the input GeoRaster object. The number of elements in the SDO_NUMBER_ARRAY object must be either one (same filling value used for all bands) or the band dimension size (a different filling value for each band, respectively). For example, <code class="codeph">SDO_NUMBER_ARRAY(1,5,10)</code> fills the first band with 1, the second band with 5, and the third band with 10. The default <code class="codeph">bgValues</code> are zero (0).
                           </p>
                           <p>The filling values must be valid cell values as specified by the target cell depth background values for filling sparse data.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-683EC230-CAC7-4ECF-ADA1-3BA8E97C0AA0">
                              <!-- --></a>nodata
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> means that the original values for any NODATA cells in the GeoRaster object are not to be updated, and NODATA values are considered in the <code class="codeph">conditions</code> parameter evaluation. If any cell value involved in the <code class="codeph">conditions</code> parameter evaluation has a NODATA value, the <code class="codeph">conditions</code> parameter is evaluated as FALSE (See the Usage Notes regarding the <code class="codeph">conditions</code> parameter). The string <code class="codeph">FALSE</code> (the default) causes cells with NODATA values to be considered as regular cells and thus eligible for updating. NODATA values and value ranges are discussed in <a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D" title="A NODATA value is used for cells whose values are either not known or meaningless.">NODATA Values and Value Ranges</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-B14C7C20-2A45-4C43-A11C-ABF7A222295B">
                              <!-- --></a>polygonClip
                        </dt>
                        <dd>
                           <p>Ignored if <code class="codeph">targetArea</code> is null. Otherwise, the string <code class="codeph">TRUE</code> causes the <code class="codeph">targetArea</code> geometry value  to be used to update raster cell values; the string <code class="codeph">FALSE</code> or a null value causes the MBR of <code class="codeph">targetArea</code> geometry to be used to update raster cell values.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-88C3B8EB-1A76-49F5-986B-30E1E563C3BC">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>Specifying <code class="codeph">parallelParam</code> means that you cannot roll back the results of this procedure, as explained in the Usage Notes.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-D17E332D-8717-4B2F-B3A6-6939A840FBC7">Usage Notes</p>
                     <p>Because this procedure overwrites data in the input GeoRaster object, you should make a copy of the original GeoRaster object and use this procedure on the copied object. After you are satisfied with the result of this procedure, you can discard the original GeoRaster object if you wish.</p>
                     <p>This procedure selects cells from the specified GeoRaster object based on <code class="codeph">booleanExpr</code> strings specified in the <code class="codeph">conditions</code> parameter, and updates corresponding cell values by calculating <code class="codeph">arithmeticExpr</code> expression strings specified in the <span class="bold">vals</span> parameter. For example, if:
                     </p><pre class="oac_no_warn" dir="ltr">conditions = SDO_STRING2_ARRAY('{0}=48','{0}=108')
vals = SDO_STRING2_ARRAYSET(SDO_STRING2_ARRAY('123','54','89'),SDO_STRING2_ARRAY('98','56','123'))
</pre><p>Then:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For all cells whose first layer value equals 48, their first, second, and third layer values are set to 123,54,89, respectively.</p>
                        </li>
                        <li>
                           <p>For all cells whose first layer value equals 108, their first, second, and third layer values are set to 98,56,123, respectively. </p>
                        </li>
                     </ul>
                     <p>For more information, see <a href="raster-algebra-and-analytics.html#GUID-A6F087DC-1E7E-4426-B778-8554A25B3494" title="Raster algebra is commonly used in raster data analysis and GIS modeling. In GeoRaster, raster algebra is supported by the GeoRaster raster algebra language.">Raster Algebra Language</a>.
                     </p>
                     <p>If you specify <code class="codeph">parallelParam</code>, some execution units of the procedure run as autonomous transactions, which means that some changes are committed while the procedure is running and therefore you cannot roll back those changes. If you do not specify this parameter, you can roll back all changes.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7F1A50AC-9595-4AC3-83E3-D7233C9FAF2E__GUID-3E4FE69E-014A-4CBF-91F9-B948E77A522D">Examples</p>
                     <p>The following example updates all cells for which the <code class="codeph">conditions</code> specification is true, using values calculated from the <code class="codeph">vals</code> specification.
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE 
  geor SDO_GEORASTER;
BEGIN
  select georaster into geor from georaster_table where georid = 1;
  sdo_geor_ra.rasterUpdate(geor,0,SDO_STRING2_ARRAY('(abs({0}-{1})=48)&amp;({2}-{1}=-101)','2*{0}-{1}/3=108'),SDO_STRING2_ARRAYSET(SDO_STRING2_ARRAY('123','54','89'),SDO_STRING2_ARRAY('98','56','123')));
END;
/</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39" name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39"></a><h3 id="GEORS-GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39" class="sect3"><span class="enumeration_section">12.8 </span>SDO_GEOR_RA.stack
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-8A94616F-603E-4958-ADE5-645D30579E0C">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.stack(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerList     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method        IN VARCHARs, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.stack(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray     IN SDO_GEORASTER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerList     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method        IN VARCHARs, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoRaster  IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata        IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue   IN NUMBER DEFAULT 0, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip   IN VARCHAR2 DEFAULT 'FALSE', 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p><span class="bold">or</span></p><pre class="oac_no_warn" dir="ltr">DO_GEOR_RA.stack(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray    IN SDO_GEORASTER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerList    IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method       IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT NOCOPY BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0,;
</pre><pre class="oac_no_warn" dir="ltr">SDO_GEOR_RA.stack(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;georArray    IN SDO_GEORASTER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerList    IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method       IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT NOCOPY BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata       IN VARCHAR2 DEFAULT FALSE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodataValue  IN NUMBER default 0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;polygonClip  IN VARCHAR2 DEFAULT FALSE);
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-509E9132-2ED2-44F8-828F-E2D87D428CB8">Description</p>
                     <p>Generates a single-layer raster either in a GeoRaster object or a single BLOB whose cell values are a local statistics value of a list of layers of the input GeoRaster array. The input layers are specified by the <code class="codeph">layerList</code> parameter, and the statistics method is specified by the <code class="codeph">method</code> parameter.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-64227156-C23E-49A1-B85C-B631E6256899">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-6A2DF0F1-682D-40CD-8F3C-A727B54A2639">
                              <!-- --></a>georArray
                        </dt>
                        <dd>
                           <p>An array of GeoRaster objects. The data type is SDO_GEOR_ARRAY, which is defined as <code class="codeph">VARRAY(10485760) OF SDO_GEORASTER</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-0C04F9CF-A191-4F19-A298-F28E9D377F09">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If the SDO_GEOMETRY object has a non-null SRID, the source GeoRaster objects must be georeferenced; otherwise, the source GeoRaster objects can be georeferenced or non-georeferenced. If <code class="codeph">polygonClip</code> is <code class="codeph">FALSE</code>, the MBR of the <code class="codeph">cropArea</code> is used to crop the data. If <code class="codeph">polygonClip</code> is <code class="codeph">TRUE</code>, the geometry of the <code class="codeph">cropArea</code> is used to crop the data.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-AF7A14C3-3625-4AB3-992D-C9A19F1FBC43">
                              <!-- --></a>layerList
                        </dt>
                        <dd>
                           <p>A number array to specify which bands of the input GeoRaster objects are used to compute statistics value for output. For example, if <code class="codeph">georArray</code> specifies three GeoRaster objects <code class="codeph">geor1</code>,<code class="codeph">geor2</code>,<code class="codeph">geor3</code>, which have 2,3,4 bands respectively, a layer list {0,3,7} is used to specify three bands as follows:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The first band of the first GeoRaster object&nbsp;<code class="codeph">geor1</code></p>
                              </li>
                              <li>
                                 <p>The second band of the second GeoRaster object&nbsp;<code class="codeph">geor2</code></p>
                              </li>
                              <li>
                                 <p>The third band of the third GeoRaster object&nbsp;<code class="codeph">geor3</code></p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-3084B735-53CF-47E7-BA66-59A2ECF28B1C">
                              <!-- --></a>method
                        </dt>
                        <dd>
                           <p> A string to specify what local statistics value should be returned. It should be one of the following values: <code class="codeph">max</code>, <code class="codeph">min</code>, <code class="codeph">median</code>, <code class="codeph">mean</code>, <code class="codeph">std</code>, <code class="codeph">sum</code>, <code class="codeph">minority</code>, <code class="codeph">majority</code>, <code class="codeph">diversity</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-E1DC61E2-EE21-4BED-A926-792BDC5FD9F2">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-53512AF6-CE93-4F42-922A-492F0A1B333A">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>Output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-48888AF7-77DC-46A8-AC79-A5BD826C7F25">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-E1F5957E-4805-4988-9F4D-B17AD964C048">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-0426C3EF-47CA-4188-A4F5-E8EB2EF6127A">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-44D0AC19-1985-43E5-9FEB-85ECCB201F65">
                              <!-- --></a>nodata
                        </dt>
                        <dd>
                           <p>The string <code class="codeph">TRUE</code> specifies that if there are any NODATA cells in the specified <code class="codeph">layerList</code> parameter, the corresponding cells in the output GeoRaster object are to be set to the value specified for the <code class="codeph">nodataValue</code> parameter. The string <code class="codeph">FALSE</code> (the default) causes cells with NODATA values to be considered as regular data. NODATA values and value ranges are discussed in <a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D" title="A NODATA value is used for cells whose values are either not known or meaningless.">NODATA Values and Value Ranges</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-58624E6C-2C3D-4A69-B567-6FFC3D4AE4B9">
                              <!-- --></a>nodataValue
                        </dt>
                        <dd>
                           <p>The value used to set NODATA cells if the <code class="codeph">nodata</code> parameter value is the string <code class="codeph">TRUE</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-9DEE29EA-EA28-4CCD-8830-A1963B598F10">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>Specifying <code class="codeph">parallelParam</code> means that you cannot roll back the results of this procedure, as explained in the Usage Notes.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-2D613864-48B6-4A8D-A58D-C98CAB4EE7B1">Usage Notes</p>
                     <p>All of the input GeoRaster objects must have same dimension size; otherwise, the ORA-13397 error is generated.</p>
                     <p>If you specify <code class="codeph">parallelParam</code>, some execution units of the procedure run as autonomous transactions, which means that some changes are committed while the procedure is running and therefore you cannot roll back those changes. If you do not specify this parameter, you can roll back all changes.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90E78211-B677-4D22-8CF8-2E7BB7740F39__GUID-0603FBF4-FCCB-4FF1-8988-649764569C39">Examples</p>
                     <p>The following example performs the stack operation on two input GeoRaster objects. The output is a GeoRaster object.</p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor       SDO_GEORASTER;
  geor1      SDO_GEORASTER;
  geor2      SDO_GEORASTER;
  geom       mdsys.sdo_geometry;
BEGIN
  geom:= sdo_geometry(2003,82394, NULL,
               sdo_elem_info_array(1, 1003, 1),
               sdo_ordinate_array(20283.775, 1011087.9,
                                  18783.775, 1008687.9,
                                  21783.775, 1008687.9,
                                  22683.775+0.001, 1009587.9+0.001,
                                  20283.775, 1011087.9));
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor2 from georaster_table where georid = 102;
  select georaster into geor1 from georaster_table where georid = 101 for update;
  sdo_geor_ra.stack(SDO_GEORASTER_ARRAY(geor,geor2),geom,SDO_NUMBER_ARRAY(3,5),'max',null,geor1,'false',0,'TRUE');
  update georaster_table set georaster = geor1 where georid = 101;
END;
/</pre><p>The following example performs the stack operation on two input GeoRaster objects. The output is a BLOB.</p><pre class="oac_no_warn" dir="ltr">DECLARE
  geor       SDO_GEORASTER;
  geor2      SDO_GEORASTER;
  geom       sdo_geometry;
  out_lob    BLOB;
  outArea    sdo_geometry;
  outWindow  sdo_number_array;
BEGIN
  geom:= null;
  select georaster into geor from georaster_table where georid = 100;
  select georaster into geor2 from georaster_table where georid = 102;
  dbms_lob.create_temporary(out_lob, TRUE);
  sdo_geor_ra.stack(SDO_GEORASTER_ARRAY(geor,geor2),geom,SDO_NUMBER_ARRAY(3,5),'max',null,out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="sdo-geor-ra-ref.html#GUID-7E8EC42B-D663-49EF-B6D8-158A0EC10333" title="The SDO_GEOR_RA package contains subprograms (functions and procedures) for raster algebra and analytic operations related to GeoRaster. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_RA Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='05995.asmcmd-instance-commands.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This topic provides a summary of the ASMCMD instance management commands.">
      <meta name="description" content="This topic provides a summary of the ASMCMD instance management commands.">
      <title>ASMCMD Instance Management Commands</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="This topic provides a summary of the ASMCMD instance management commands.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="about-asmcmd.html" title="Previous" type="text/html">
      <link rel="next" href="asmcmd-cluster-commands.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="about-asmcmd.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="asmcmd-cluster-commands.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM Instances and Disk Groups</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="manage-asm-asmcmd.html" property="item" typeof="WebPage"><span property="name"> Managing Oracle ASM with ASMCMD </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ASMCMD Instance Management Commands</li>
            </ol>
            <a id="GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" name="GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF"></a><a id="OSTMG94372"></a><a id="OSTMG01642"></a>
            
            <h2 id="OSTMG-GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF" class="sect2">ASMCMD Instance Management Commands</h2>
         </header>
         <div class="ind">
            <div>
               <p>This topic provides a summary of the ASMCMD instance management commands. </p>
               <p>Some commands in this section affect the Grid Plug and Play (GPnP) profile, which is a resource in a clustered configuration. In an Oracle Restart configuration, the profile is actually located in a resource attribute, not the Grid Plug and Play (GPnP) profile. However, the functionality of the commands is the same for both configurations.</p>
               <div class="infoboxnote" id="GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF__AFTERACHANGEHASBEENMADETOTHELOCATIO-CC6A2A32">
                  <p class="notep1">Note:</p>
                  <p>After a change has been made to the location of the password file, the following SQL statement should be executed to flush the password file metadata cache.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM FLUSH PASSWORDFILE_METADATA_CACHE</pre><p>The location of the password file can be changed by running <code class="codeph">orapwd</code>, or the ASMCMD <code class="codeph">pwcopy</code>, <code class="codeph">pwcreate</code>, <code class="codeph">pwdelete</code>, <code class="codeph">pwmove</code>, or <code class="codeph">pwset</code> command. 
                  </p>
               </div>
               <div class="infoboxnotealso" id="GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF__GUID-D2FBC937-0A3E-435D-B694-BE147FB6E7ED">
                  <p class="notep1">See Also:</p>
                  <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for your operating system for information about installing and configuring Oracle Grid Infrastructure
                  </p>
               </div>
               <p><a href="asmcmd-instance-commands.html#GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF__CIHIJGJF" title="Summary of the ASMCMD instance management commands">Table 10-4</a>lists the Oracle ASM instance management commands with brief descriptions.
               </p>
               <div class="tblformalwide" id="GUID-A2DBFB13-4AB7-4777-BC42-CC163EA1C9DF__CIHIJGJF">
                  <p class="titleintable">Table 10-4 Summary of ASMCMD instance management commands</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Summary of ASMCMD instance management commands" summary="Summary of the ASMCMD instance management commands" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="32%" id="d69575e200">Command</th>
                           <th align="left" valign="bottom" width="68%" id="d69575e203">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e208" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-33ECC9A3-2BF7-4986-A281-D265953DB834">dsget</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e208 d69575e203 ">
                              <p>Retrieves the discovery diskstring value that is used by the Oracle ASM instance and its clients.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e216" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4">dsset</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e216 d69575e203 ">
                              <p>Sets the disk discovery diskstring value that is used by the Oracle ASM instance and its clients.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e224" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25">lsct</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e224 d69575e203 ">
                              <p>Lists information about current Oracle ASM clients.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e232" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF">lsop</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e232 d69575e203 ">
                              <p>Lists the current operations on a disk group or Oracle ASM instance.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e240" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-195A17A3-2D37-42BF-B0FD-D6389471244E">lspwusr</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e240 d69575e203 ">
                              <p>Lists the users from an Oracle ASM password file.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e248" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B">orapwusr</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e248 d69575e203 ">
                              <p>Adds, drops, or changes an Oracle ASM password user.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e256" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39">pwcopy</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e256 d69575e203 ">
                              <p>Copies a password file to the specified location.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e264" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-657284FD-EC25-46FB-A47B-730BF4BD9960">pwcreate</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e264 d69575e203 ">
                              <p>Creates a password file at the specified location.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e272" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD">pwdelete</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e272 d69575e203 ">
                              <p>Deletes a password file at the specified location.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e280" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6">pwget</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e280 d69575e203 ">
                              <p>Returns the location of the password file.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e288" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8">pwmove</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e288 d69575e203 ">
                              <p>Moves the location of the password file.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e297" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-788AD581-4C76-4B88-B93C-D0BB4206D355">pwset</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e297 d69575e203 ">
                              <p>Sets the location of the password file.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e305" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E">showclustermode</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e305 d69575e203 ">
                              <p>Displays the current mode of the Oracle ASM cluster.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e313" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-0773B234-1D02-4D27-9082-B526D13CCA73">showclusterstate</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e313 d69575e203 ">
                              <p>Displays the current state of the cluster.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e321" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F">showpatches</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e321 d69575e203 ">
                              <p>Lists the patches applied to the Oracle Grid Infrastructure home.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e329" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5">showversion</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e329 d69575e203 ">
                              <p>Displays the Oracle ASM cluster release and software patch levels.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e337" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12">shutdown</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e337 d69575e203 ">
                              <p>Shuts down an instance.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e345" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC">spbackup</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e345 d69575e203 ">
                              <p>Backs up an Oracle ASM SPFILE.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e353" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8">spcopy</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e353 d69575e203 ">
                              <p>Copies an Oracle ASM SPFILE.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e361" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-517B4BFC-83B6-4371-8286-C23410C5C559">spget</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e361 d69575e203 ">
                              <p>Retrieves the location of the Oracle ASM SPFILE.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e369" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-05F55D3C-F582-481E-8C23-A58E16260DAD">spmove</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e369 d69575e203 ">
                              <p>Moves an Oracle ASM SPFILE.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e377" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7">spset</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e377 d69575e203 ">
                              <p>Sets the location of the Oracle ASM SPFILE.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d69575e386" headers="d69575e200 ">
                              <p><a href="asmcmd-instance-commands.html#GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84">startup</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d69575e386 d69575e203 ">
                              <p>Starts up an instance.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="OSTMG94374"></a><a id="OSTMG94375"></a><a id="OSTMG94376"></a><a id="OSTMG94377"></a><a id="OSTMG94378"></a><a id="OSTMG94373"></a><div class="props_rev_3"><a id="GUID-33ECC9A3-2BF7-4986-A281-D265953DB834" name="GUID-33ECC9A3-2BF7-4986-A281-D265953DB834"></a><h3 id="OSTMG-GUID-33ECC9A3-2BF7-4986-A281-D265953DB834" class="sect3">dsget</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-33ECC9A3-2BF7-4986-A281-D265953DB834__GUID-66E851E7-9BBE-403D-9664-C2F63C69CCF7">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Retrieves the discovery diskstring value that is used by the Oracle ASM instance and its clients.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-33ECC9A3-2BF7-4986-A281-D265953DB834__GUID-2CF67349-71E0-4224-89FC-CE7CF12926BB">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">dsget [ --normal | --parameter | --profile [-f] ]</pre><p>The syntax options for the <code class="codeph">dsget</code> command are described in <a href="asmcmd-instance-commands.html#GUID-33ECC9A3-2BF7-4986-A281-D265953DB834__CIHHHJJB" title="This table lists the options for the dsget command, along with a description">Table 10-5</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-33ECC9A3-2BF7-4986-A281-D265953DB834__CIHHHJJB">
                     <p class="titleintable">Table 10-5 Options for the dsget command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the dsget command" summary="This table lists the options for the dsget command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e577">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e580">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e585" headers="d69575e577 ">
                                 <p><code class="codeph">--normal</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e585 d69575e580 ">
                                 <p>Retrieves the discovery string from the Grid Plug and Play (GPnP) profile and the one that is set in the Oracle ASM instance. It returns one row each for the profile and parameter setting. This is the default setting.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e593" headers="d69575e577 ">
                                 <p><code class="codeph">--parameter</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e593 d69575e580 ">
                                 <p>Retrieves the <code class="codeph">ASM_DISKSTRING</code> parameter setting of the Oracle ASM instance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e604" headers="d69575e577 ">
                                 <p><code class="codeph">--profile</code> [<code class="codeph">-f</code>]
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e604 d69575e580 ">
                                 <p>Retrieves the discovery string from the GPnP profile. If <code class="codeph">-f</code> is specified with <code class="codeph">--profile</code>, <code class="codeph">dsget</code> retrieves the discovery string from the local GPnP profile.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-33ECC9A3-2BF7-4986-A281-D265953DB834__GUID-2FDF7E81-3872-46FA-9434-34F03DA54F68">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example uses <code class="codeph">dsget</code> to retrieve the current discovery diskstring value from the GPnP profile and the <code class="codeph">ASM_DISKSTRING</code> parameter.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-33ECC9A3-2BF7-4986-A281-D265953DB834__GUID-A4182051-1A3C-423A-A199-30C9BD84BC4E">
                     <p class="titleinexample">Example 10-6 Using the ASMCMD dsget command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; dsget
profile: /devices1/disk*
parameter: /devices2/disk*</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94380"></a><a id="OSTMG94381"></a><a id="OSTMG94382"></a><a id="OSTMG94383"></a><a id="OSTMG94384"></a><a id="OSTMG94379"></a><div class="props_rev_3"><a id="GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4" name="GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4"></a><h3 id="OSTMG-GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4" class="sect3">dsset</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4__GUID-E1248BE3-96A3-4CE5-A46A-0FBB0F9DB724">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Sets the discovery diskstring value that is used by the Oracle ASM instance and its clients.</p>
                     <p>The specified diskstring must be valid for existing mounted disk groups. The updated value takes effect immediately.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4__GUID-A2BA5278-EE23-4C30-A850-4E78C3D790CA">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">dsset [ --normal | --parameter | --profile [-f] ] <span class="italic">diskstring</span></pre><p>The syntax options for the <code class="codeph">dsset</code> command are described in <a href="asmcmd-instance-commands.html#GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4__CIHCCJDD" title="This table lists the options for the dsset command, along with a description">Table 10-6</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4__CIHCCJDD">
                     <p class="titleintable">Table 10-6 Options for the dsset command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the dsset command" summary="This table lists the options for the dsset command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e830">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e833">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e838" headers="d69575e830 ">
                                 <p><code class="codeph">--normal</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e838 d69575e833 ">
                                 <p>Sets the discovery string in the Grid Plug and Play (GPnP) profile and in the Oracle ASM instance. The update occurs after the Oracle ASM instance has successfully validated that the specified discovery string has discovered all the necessary disk groups and voting files. This command fails if the instance is not using a server parameter file (SPFILE). </p>
                                 <p>This is the default setting.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e848" headers="d69575e830 ">
                                 <p><code class="codeph">--parameter</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e848 d69575e833 ">
                                 <p>Specifies that the diskstring is updated in memory after validating that the discovery diskstring discovers all the current mounted disk groups and voting files. The diskstring is not persistently recorded in either the SPFILE or the GPnP profile.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e856" headers="d69575e830 ">
                                 <p><code class="codeph">--profile</code> [<code class="codeph">-f</code>]
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e856 d69575e833 ">
                                 <p>Specifies the discovery diskstring that is pushed to the GPnP profile without any validation by the Oracle ASM instance, ensuring that the instance can discover all the required disk groups. The update is guaranteed to be propagated to all the nodes that are part of the cluster. </p>
                                 <p>If <code class="codeph">-f</code> is specified with <code class="codeph">--profile</code>, the specified diskstring is pushed to the local GPnP profile without any synchronization with other nodes in the cluster. This command option updates only the local profile file. This option should only be used for recovery. The command fails if the Oracle Clusterware stack is running. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e876" headers="d69575e830 ">
                                 <p><span class="italic"><code class="codeph">diskstring</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e876 d69575e833 ">
                                 <p>Specifies the value for the discovery diskstring. </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>For information about disk discovery and the discovery diskstring, see <a href="asm-disk-discovery.html#GUID-75533657-85B0-4614-B489-C25DC150CA1D" title="Disk discovery is the mechanism used to find the operating system names for disks Oracle ASM can access.">Oracle ASM Disk Discovery</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4__GUID-067A3F62-A9B3-4B72-B201-B94F55D07A09">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example uses <code class="codeph">dsset</code> to set the current value of the discovery diskstring in the GPnP profile.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4__GUID-DB6A1DFA-7E34-41F8-9A76-33AA6BA647FD">
                     <p class="titleinexample">Example 10-7 Using the ASMCMD dsset command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; dsset /devices1/disk*,/devices2/disk*</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94386"></a><a id="OSTMG94387"></a><a id="OSTMG94388"></a><a id="OSTMG94389"></a><a id="OSTMG94390"></a><a id="OSTMG94385"></a><div class="props_rev_3"><a id="GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25" name="GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25"></a><h3 id="OSTMG-GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25" class="sect3">lsct</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25__GUID-919D88B4-C9BF-49C8-AEB4-5CAC57955825">Purpose</p>
                     <p>Lists information about current Oracle ASM clients from the <code class="codeph">V$ASM_CLIENT</code> view. A client, such as Oracle Database or Oracle ASM Dynamic Volume Manager (Oracle ADVM), uses disk groups that are managed by the Oracle ASM instance to which ASMCMD is currently connected. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25__GUID-A6F885F3-A246-478A-B197-C36498FCFC7C">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">lsct [--suppressheader] [-g] <span class="italic">disk_group</span></pre><p>The following table lists the options for the <code class="codeph">lsct</code> command.
                     </p>
                     <div class="tblformal" id="GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25__CIHHECGB">
                        <p class="titleintable">Table 10-7 Options for the lsct command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the lsct command" summary="This table lists the flags for the lsct command, along with a description for each" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d69575e1089">Option</th>
                                 <th align="left" valign="bottom" width="75%" id="d69575e1092">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d69575e1097" headers="d69575e1089 ">
                                    <p><code class="codeph">-g</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d69575e1097 d69575e1092 ">
                                    <p>Selects from the <code class="codeph">GV$ASM_CLIENT</code> view. <code class="codeph">GV$ASM_CLIENT.INST_ID</code> is included in the output.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d69575e1111" headers="d69575e1089 ">
                                    <p><code class="codeph">--suppressheader</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d69575e1111 d69575e1092 ">
                                    <p>Suppresses column headings.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d69575e1119" headers="d69575e1089 ">
                                    <p><span class="italic"><code class="codeph">disk_group</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d69575e1119 d69575e1092 ">
                                    <p>Specifies the disk group.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Client information is only listed for the specified disk group. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25__GUID-75D18EA4-887E-4D89-908C-3478094AC961">Example</p>
                     <p>The following example displays information about the clients that are accessing the <code class="codeph">data</code> disk group.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-ED8E02B1-8BF5-44CF-9CB7-7653008F5B25__GUID-C0165CC1-6278-4065-BD6A-120A6326237A">
                     <p class="titleinexample">Example 10-8 Using the ASMCMD lsct command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; lsct data
DB_Name  Status    Software_Version  Compatible_version  Instance_Name  Disk_Group
+ASM     CONNECTED       19.0.0.0.0          19.0.0.0.0  +ASM           DATA
asmvol   CONNECTED       19.0.0.0.0          19.0.0.0.0  +ASM           DATA
orcl     CONNECTED       19.0.0.0.0          19.0.0.0.0  orcl           DATA</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94392"></a><a id="OSTMG94393"></a><a id="OSTMG94394"></a><a id="OSTMG94395"></a><a id="OSTMG94391"></a><div class="props_rev_3"><a id="GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF" name="GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF"></a><h3 id="OSTMG-GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF" class="sect3">lsop</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF__GUID-46A7376F-EED2-4739-9CA7-1542A6351FFA">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Lists the current operations on a disk group in an Oracle ASM instance.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF__GUID-81F16E43-C19D-40C8-BF55-890A718CE243">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">lsop</pre><p><code class="codeph">lsop</code> displays information from the <code class="codeph">V$ASM_OPERATION</code> view.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF__GUID-EBB44435-6AA9-4DDF-8116-9EDAA4687458">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following are examples of the <code class="codeph">lsop</code> command. The examples list operations on the disk groups of the current Oracle ASM instance.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2D0BE995-BF3A-4A11-9C06-6F0E22FC77DF__GUID-6B87A612-8187-4EB9-8202-52820A791DA9">
                     <p class="titleinexample">Example 10-9 Using the ASMCMD lsop command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; lsop
Group_Name  Dsk_Num  State  Power
DATA        REBAL    WAIT   2   

ASMCMD [+] &gt; lsop
Group_Name  Dsk_Num  State  Power  
FRA         REBAL    REAP   3  </pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94397"></a><a id="OSTMG94398"></a><a id="OSTMG94399"></a><a id="OSTMG94400"></a><a id="OSTMG94401"></a><a id="OSTMG94396"></a><div class="props_rev_3"><a id="GUID-195A17A3-2D37-42BF-B0FD-D6389471244E" name="GUID-195A17A3-2D37-42BF-B0FD-D6389471244E"></a><h3 id="OSTMG-GUID-195A17A3-2D37-42BF-B0FD-D6389471244E" class="sect3">lspwusr</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-195A17A3-2D37-42BF-B0FD-D6389471244E__GUID-5C77BEDF-AC59-432D-9D2D-3BA547094B08">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>List the users from the local Oracle ASM password file.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-195A17A3-2D37-42BF-B0FD-D6389471244E__GUID-F29485A5-3418-455F-B4B9-D99546152755">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">lspwusr [--suppressheader]</pre><p> <a href="asmcmd-instance-commands.html#GUID-195A17A3-2D37-42BF-B0FD-D6389471244E__CIHIFAGJ" title="lspwusr ASMCMD options">Table 10-8</a> lists the options for the <code class="codeph">lspwusr</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-195A17A3-2D37-42BF-B0FD-D6389471244E__CIHIFAGJ">
                     <p class="titleintable">Table 10-8 Options for the lspwusr command </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the lspwusr command " summary="lspwusr ASMCMD options" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e1511">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e1514">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e1519" headers="d69575e1511 ">
                                 <p><code class="codeph">--suppressheader</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e1519 d69575e1514 ">
                                 <p>Suppresses column headers from the output.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-195A17A3-2D37-42BF-B0FD-D6389471244E__GUID-A77B62C1-2E4A-4C27-84C4-DE8C1FDF162B">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following is an example of the <code class="codeph">lspwusr</code> example. The example lists the current users in the local Oracle ASM password file.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-195A17A3-2D37-42BF-B0FD-D6389471244E__GUID-5FA07875-53AB-4F18-AE9C-E519C2D9C583">
                     <p class="titleinexample">Example 10-10 Using the ASMCMD lspwusr command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; lspwusr
Username sysdba sysoper sysasm 
     SYS   TRUE    TRUE   TRUE 
 ASMSNMP   TRUE   FALSE  FALSE </pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94403"></a><a id="OSTMG94404"></a><a id="OSTMG94405"></a><a id="OSTMG94406"></a><a id="OSTMG94407"></a><a id="OSTMG94402"></a><div class="props_rev_3"><a id="GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B" name="GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B"></a><h3 id="OSTMG-GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B" class="sect3">orapwusr</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B__GUID-595B51C4-2A97-4564-BC98-ECAC45428222">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Add, drop, or modify an Oracle ASM password file user.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B__GUID-39606361-493A-46D7-8978-07DFFAD9BC7B">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">orapwusr { --add | --modify | --delete | grant {sysasm|sysdba|sysoper} | 
           --revoke {sysasm|sysdba|sysoper} } <span class="italic">user</span></pre><p> <a href="asmcmd-instance-commands.html#GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B__CIHJFECG" title="orapwusr ASMCMD options">Table 10-9</a> lists the options for the <code class="codeph">orapwusr</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B__CIHJFECG">
                     <p class="titleintable">Table 10-9 Options for the orapwusr command </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the orapwusr command " summary="orapwusr ASMCMD options" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e1726">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e1729">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e1734" headers="d69575e1726 ">
                                 <p><code class="codeph">--add</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e1734 d69575e1729 ">
                                 <p>Adds a user to the password file. Also prompts for a password.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e1742" headers="d69575e1726 ">
                                 <p><code class="codeph">--modify</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e1742 d69575e1729 ">
                                 <p>Changes the password for the specified user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e1750" headers="d69575e1726 ">
                                 <p><code class="codeph">--delete</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e1750 d69575e1729 ">
                                 <p>Drops a user from the password file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e1758" headers="d69575e1726 ">
                                 <p><code class="codeph">--grant</code> <span class="italic"><code class="codeph">role</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e1758 d69575e1729 ">
                                 <p>Sets the role for the user. The options are <code class="codeph">sysasm</code>, <code class="codeph">sysdba</code>, and <code class="codeph">sysoper</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e1779" headers="d69575e1726 ">
                                 <p><code class="codeph">--revoke</code> <span class="italic"><code class="codeph">role</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e1779 d69575e1729 ">
                                 <p>Removes the role for the user. The options are <code class="codeph">sysasm</code>, <code class="codeph">sysdba</code>, and <code class="codeph">sysoper</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e1800" headers="d69575e1726 ">
                                 <p><span class="italic"><code class="codeph">user</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e1800 d69575e1729 ">
                                 <p>Name of the user to add, drop, or modify.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">orapwusr</code> attempts to update passwords on all nodes in a cluster. This command requires the SYSASM privilege to run. A user logged in as SYSDBA cannot change its password using this command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B__GUID-858EF287-EF28-47DD-942E-5B88E1D86D1A">Examples</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following is an example of the <code class="codeph">orapwusr</code> command. This example adds the <code class="codeph">hruser</code> to the Oracle ASM password file.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9BB2383C-2020-4F7D-A60F-0DB87D90FB9B__GUID-19913818-85AB-4704-98DB-B1B6508AD2FD">
                     <p class="titleinexample">Example 10-11 Using the ASMCMD orapwusr command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; orapwusr --add hruser</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95355"></a><a id="OSTMG95356"></a><a id="OSTMG95357"></a><a id="OSTMG95358"></a><a id="OSTMG95359"></a><a id="OSTMG95354"></a><div class="props_rev_3"><a id="GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39" name="GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39"></a><h3 id="OSTMG-GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39" class="sect3">pwcopy</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39__GUID-02FC455A-2CCE-4CE7-8480-FEBCFEE8B9E4">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Copies an Oracle ASM or database instance password file to the specified location.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39__GUID-F21E7017-4CC9-4EEB-BEE3-1A1F3B8B90EA">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">pwcopy [--asm |--dbuniquename <span class="italic">string</span>] <span class="italic">source</span>  <span class="italic">destination</span> [-f]</pre><p><a href="asmcmd-instance-commands.html#GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39__BJEDHDAG" title="This table lists the options for the pwcopy command, along with a description">Table 10-10</a> lists the options for the <code class="codeph">pwcopy</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39__BJEDHDAG">
                     <p class="titleintable">Table 10-10 Options for the pwcopy command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the pwcopy command" summary="This table lists the options for the pwcopy command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e2022">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e2025">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2030" headers="d69575e2022 ">
                                 <p><code class="codeph">--asm</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2030 d69575e2025 ">
                                 <p>The <code class="codeph">--asm</code> option associates the password file with the Oracle ASM instance that ASMCMD is logged into.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2041" headers="d69575e2022 ">
                                 <p><code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2041 d69575e2025 ">
                                 <p>The <code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span> option identifies the database unique name associated with the password file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2060" headers="d69575e2022 ">
                                 <p><span class="italic"><code class="codeph">source</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2060 d69575e2025 ">
                                 <p>The <span class="italic"><code class="codeph">source</code></span> value identifies the location where the existing password file is located. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2073" headers="d69575e2022 ">
                                 <p><span class="italic"><code class="codeph">destination</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2073 d69575e2025 ">
                                 <p>The <span class="italic"><code class="codeph">destination</code></span> value identifies the location where you want to copy the password file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2086" headers="d69575e2022 ">
                                 <p><code class="codeph">-f</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2086 d69575e2025 ">The <code class="codeph">f</code> option enables the password file to be copied without any checks.
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">pwcopy</code> copies a password file from one disk group to another, from the operating system to a disk group, or from a disk group to the operating system. If the <code class="codeph">f</code> option is specified, then the password file can be copied to the same disk group.
                     </p>
                     <p>Either <code class="codeph">&#x2013;-asm</code> or -<code class="codeph">-dbuniquename</code> is required to identify a CRSD resource. When either <code class="codeph">&#x2013;-asm</code> or -<code class="codeph">-dbuniquename</code> is included in the <code class="codeph">pwcopy</code> command, the target file is set to the current password file. 
                     </p>
                     <p>The <code class="codeph">compatible.asm</code> disk group attribute must be set to <code class="codeph">12.1</code> or higher for the disk group where the password is to be copied.
                     </p>
                     <p>The <code class="codeph">SYSASM</code> or <code class="codeph">SYSDBA</code> privilege is required to manage the Oracle ASM and database password files. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39__GUID-DD805D12-03B9-49FF-9DDC-F6BB8E74A43F">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example copies an Oracle ASM password file in one disk group to a different disk group. Because the <code class="codeph">pwcopy</code> command includes the <code class="codeph">--asm</code> option, the target file (<code class="codeph">+fra/orapwasm_new</code>) is set to the current password file. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-70D58CAB-BFA4-4055-8768-7C12D61D9A39__GUID-00D4D673-F34F-4943-AD4E-92FAB7D8FE76">
                     <p class="titleinexample">Example 10-12 Using the ASMCMD pwcopy command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; pwcopy --asm +DATA/orapwasm +FRA/orapwasm_new
copying +DATA/orapwasm -&gt; +FRA/orapwasm_new</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95361"></a><a id="OSTMG95362"></a><a id="OSTMG95363"></a><a id="OSTMG95364"></a><a id="OSTMG95365"></a><a id="OSTMG95360"></a><div class="props_rev_3"><a id="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960" name="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960"></a><h3 id="OSTMG-GUID-657284FD-EC25-46FB-A47B-730BF4BD9960" class="sect3">pwcreate</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960__GUID-6AFBD629-5628-47A4-8B71-8A80F79D2835">Purpose</p>
                     <div class="infoboxnote" id="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960__DONOTUSEPWCREATETOCREATEANEWORACLEA-AF2C845C">
                        <p class="notep1">Note:</p>
                        <p>Do not use <code class="codeph">pwcreate</code> to create a new Oracle ASM password file when Oracle ASM is configured in a cluster. If the Oracle ASM password file is inaccessible in a cluster configuration, you must restore the password file using an available backup rather than create a new file. For articles about recreating a shared Oracle ASM password file in a cluster, such as document 1929673.1, refer to articles at <a href="https://support.oracle.com" target="_blank">My Oracle Support</a> (<a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a>).
                        </p>
                     </div>
                     <p>Creates an Oracle ASM or Oracle Database instance password file at the specified location.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960__GUID-2A75C083-1C47-445E-8431-686CCE21837C">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">pwcreate { --asm  |--dbuniquename <span class="italic">string</span> } [-f] [--format <span class="italic">format</span>] <span class="italic">file_path</span> [<span class="italic">sys_password</span>]</pre><p><a href="asmcmd-instance-commands.html#GUID-657284FD-EC25-46FB-A47B-730BF4BD9960__BJEFJGIJ" title="This table lists the options for the pwcreate command, along with a description">Table 10-11</a> lists the options for the <code class="codeph">pwcreate</code> command.
                     </p>
                     <div class="tblformal" id="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960__BJEFJGIJ">
                        <p class="titleintable">Table 10-11 Options for the pwcreate command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the pwcreate command" summary="This table lists the options for the pwcreate command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d69575e2365">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d69575e2368">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e2373" headers="d69575e2365 ">
                                    <p><code class="codeph">--asm</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e2373 d69575e2368 ">
                                    <p>Associates the password file with the Oracle ASM instance that ASMCMD is logged into.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e2381" headers="d69575e2365 ">
                                    <p><code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e2381 d69575e2368 ">
                                    <p>Specifies the Oracle Database unique name associated with the password file.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e2393" headers="d69575e2365 ">
                                    <p><code class="codeph">-f</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e2393 d69575e2368 ">
                                    <p>Forces a deletion of the existing password file and creates a new password file.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e2401" headers="d69575e2365 ">
                                    <p><code class="codeph">--format</code> <span class="italic"><code class="codeph">format</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e2401 d69575e2368 ">
                                    <p>Specifies the format in which the password is created. Values are <code class="codeph">12</code> and <code class="codeph">12.2</code>. If not specified, then <code class="codeph">12.2</code> is the default value.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e2422" headers="d69575e2365 ">
                                    <p><span class="italic"><code class="codeph">file_path</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e2422 d69575e2368 ">
                                    <p>Specifies the location where the password file is created. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e2431" headers="d69575e2365 ">
                                    <p><span class="italic"><code class="codeph">sys_password</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e2431 d69575e2368 ">
                                    <p>Specifies the initial <code class="codeph">SYS</code> password. If this option is omitted, then the you are prompted for the password. 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">pwcreate</code> creates a password file in the disk group specified by <span class="italic"><code class="codeph">file_path</code></span> . The initial <code class="codeph">SYS</code> password is specified by <span class="italic"><code class="codeph">sys_password</code></span>. 
                     </p>
                     <p>Either <code class="codeph">&#x2013;-asm</code> or -<code class="codeph">-dbuniquename</code> is required. The <code class="codeph">compatible.asm</code> disk group attribute must be set to <code class="codeph">12.1</code> or higher for the disk group where the password is to be located.
                     </p>
                     <p>The <code class="codeph">SYSASM</code> or <code class="codeph">SYSDBA</code> privilege is required to manage the Oracle ASM and database password files. 
                     </p>
                     <p>For additional information, refer to <a href="authenticate-access-asm-instance.html#GUID-DB3721CE-B1F4-4FB4-B290-B6D33BEAA5F2" title="You can make a backup of the Oracle ASM password file, and if the Oracle ASM password file is lost or the disk group becomes inaccessible, then you can restore the backup password file.">Managing a Shared Password File in a Disk Group</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960__GUID-8D3E0F3B-5C31-4219-ADAE-CDCD26BD207A">Example</p>
                     <p>The following example creates an Oracle Database password file in an Oracle ASM disk group. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-657284FD-EC25-46FB-A47B-730BF4BD9960__GUID-3DC8EEBD-7453-4361-9323-A546E9461DA5">
                     <p class="titleinexample">Example 10-13 Using the ASMCMD pwcreate command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; pwcreate &#x2013;-dbuniquename orcl '+data/ORCL/orapwdb'
Enter password for SYS:</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95367"></a><a id="OSTMG95368"></a><a id="OSTMG95369"></a><a id="OSTMG95370"></a><a id="OSTMG95371"></a><a id="OSTMG95366"></a><div class="props_rev_3"><a id="GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD" name="GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD"></a><h3 id="OSTMG-GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD" class="sect3">pwdelete</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD__GUID-ABC05545-690F-4DF4-AA08-7F041425D7C3">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Deletes an Oracle ASM or database instance password file.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD__GUID-7EC58C87-0829-4583-BF41-3C34C1534CF1">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">pwdelete { --asm |--dbuniquename <span class="italic">string</span> | <span class="italic">file_path</span> }</pre><p><a href="asmcmd-instance-commands.html#GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD__BJEIBIFB" title="This table lists the options for the pwcreate command, along with a description">Table 10-12</a> lists the options for the <code class="codeph">pwdelete</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD__BJEIBIFB">
                     <p class="titleintable">Table 10-12 Options for the pwdelete command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the pwdelete command" summary="This table lists the options for the pwcreate command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e2687">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e2690">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2695" headers="d69575e2687 ">
                                 <p><code class="codeph">--asm</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2695 d69575e2690 ">
                                 <p>The <code class="codeph">--asm</code> option associates the password file with the Oracle ASM instance that ASMCMD is logged into.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2706" headers="d69575e2687 ">
                                 <p><code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2706 d69575e2690 ">
                                 <p>The <code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span> option identifies the database unique name associated with the password file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2725" headers="d69575e2687 ">
                                 <p><span class="italic"><code class="codeph">file_path</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2725 d69575e2690 ">
                                 <p>The <span class="italic"><code class="codeph">file_path</code></span> value identifies the location where the password file is located. 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">pwdelete</code> deletes the specified password file. Either <code class="codeph">&#x2013;-asm</code> or -<code class="codeph">-dbuniquename</code> is required to identify a CRSD resource and to remove the password location from the CRSD resource.
                     </p>
                     <p>The <code class="codeph">SYSASM</code> or <code class="codeph">SYSDBA</code> privilege is required to manage the Oracle ASM and database password files. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD__GUID-90EE9653-AC70-4C7E-9ECA-934997583201">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example deletes the specified password file from a disk group.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-08C8A50C-DFD9-4CAF-B6F3-18380AC9DCBD__GUID-913A21FB-6EA3-4255-B5B1-63C476CA27AB">
                     <p class="titleinexample">Example 10-14 Using the ASMCMD pwdelete command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; pwdelete +FRA/orapwasm_bak</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95373"></a><a id="OSTMG95374"></a><a id="OSTMG95375"></a><a id="OSTMG95376"></a><a id="OSTMG95377"></a><a id="OSTMG95372"></a><div class="props_rev_3"><a id="GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6" name="GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6"></a><h3 id="OSTMG-GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6" class="sect3">pwget</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6__GUID-5BF0AE06-47CB-4151-8CA8-F44D0C7C728F">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Returns the location of the password file for the Oracle ASM or database instance.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6__GUID-58B76589-3995-4596-AB4B-C1AC0F287645">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">pwget { --asm | --dbuniquename <span class="italic">string</span> }</pre><p><a href="asmcmd-instance-commands.html#GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6__BJEGIGBI" title="This table lists the options for the pwget command, along with a description">Table 10-13</a> lists the options for the <code class="codeph">pwget</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6__BJEGIGBI">
                     <p class="titleintable">Table 10-13 Options for the pwget command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the pwget command" summary="This table lists the options for the pwget command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e2953">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e2956">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2961" headers="d69575e2953 ">
                                 <p><code class="codeph">--asm</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2961 d69575e2956 ">
                                 <p>The <code class="codeph">--asm</code> option associates the password file with the Oracle ASM instance that ASMCMD is logged into.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e2972" headers="d69575e2953 ">
                                 <p><code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e2972 d69575e2956 ">
                                 <p>The <code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span> option identifies the database unique name associated with the password file.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">pwget</code> returns the location of the password file for the Oracle ASM instance identified by <code class="codeph">&#x2013;-asm</code> or the database instance identified by -<code class="codeph">-dbuniquename</code>.
                     </p>
                     <p>The <code class="codeph">SYSASM</code> or <code class="codeph">SYSDBA</code> privilege is required to manage the Oracle ASM and database password files. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6__GUID-8E66917C-F792-47A7-8FE2-AE14727FFF49">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example returns the location of the Oracle ASM password file.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-A0A00173-DA44-43B2-92D4-72FF89ACB2A6__GUID-DB6F8F03-6E05-4ABB-8871-84EC6E2C48E1">
                     <p class="titleinexample">Example 10-15 Using the ASMCMD pwget command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; pwget --asm
+DATA/orapwasm</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95379"></a><a id="OSTMG95380"></a><a id="OSTMG95381"></a><a id="OSTMG95382"></a><a id="OSTMG95383"></a><a id="OSTMG95378"></a><div class="props_rev_3"><a id="GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8" name="GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8"></a><h3 id="OSTMG-GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8" class="sect3">pwmove</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8__GUID-AE0D7FB8-F3B2-4F05-9869-26980FD0546C">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Moves an Oracle ASM or database instance password file to the specified location.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8__GUID-C83440C2-F694-4F68-A949-99CB77357544">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">pwmove { --asm | --dbuniquename <span class="italic">string</span> } <span class="italic">source</span>  <span class="italic">destination</span> [-f]</pre><p><a href="asmcmd-instance-commands.html#GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8__BJEFFFJC" title="This table lists the options for the pwmove command, along with a description">Table 10-14</a> lists the options for the <code class="codeph">pwmove</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8__BJEFFFJC">
                     <p class="titleintable">Table 10-14 Options for the pwmove command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the pwmove command" summary="This table lists the options for the pwmove command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e3213">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e3216">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3221" headers="d69575e3213 ">
                                 <p><code class="codeph">--asm</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3221 d69575e3216 ">
                                 <p>The <code class="codeph">--asm</code> option associates the password file with the Oracle ASM instance that ASMCMD is logged into.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3232" headers="d69575e3213 ">
                                 <p><code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3232 d69575e3216 ">
                                 <p>The <code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span> option identifies the database unique name associated with the password file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3251" headers="d69575e3213 ">
                                 <p><span class="italic"><code class="codeph">source</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3251 d69575e3216 ">
                                 <p>The <span class="italic"><code class="codeph">source</code></span> value identifies the location where the existing password file is located. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3264" headers="d69575e3213 ">
                                 <p><span class="italic"><code class="codeph">destination</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3264 d69575e3216 ">
                                 <p>The <span class="italic"><code class="codeph">destination</code></span> value identifies the location where you want to move the password file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3277" headers="d69575e3213 ">
                                 <p><code class="codeph">-f</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3277 d69575e3216 ">
                                 <p>The <code class="codeph">f</code> option clears the password file for any associated resource and the new file is registered.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">pwmove</code> moves a password file from one disk group to another, from the operating system to a disk group, or from a disk group to the operating system. If the <code class="codeph">f</code> option is specified, then a password file can be moved to a file in the same disk group.
                     </p>
                     <p>Either <code class="codeph">&#x2013;-asm</code> or -<code class="codeph">-dbuniquename</code> is required to identify a CRSD resource. 
                     </p>
                     <p>The <code class="codeph">compatible.asm</code> disk group attribute must be set to <code class="codeph">12.1</code> or higher for the disk group where the password is to be moved.
                     </p>
                     <p>The <code class="codeph">SYSASM</code> or <code class="codeph">SYSDBA</code> privilege is required to manage the Oracle ASM and database password files. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8__GUID-77E9D4A5-C043-4462-BCE5-461AB44B5680">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example moves a password file from one disk group to another disk group.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6DFC9F42-A949-412F-B9F3-D947C1A620B8__GUID-481EFE2F-ACFD-42F8-9E81-AF327F0BEA73">
                     <p class="titleinexample">Example 10-16 Using the ASMCMD pwmove command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; pwmove --asm +FRA/orapwasm_bak +DATA/orapwasm
moving +FRA/orapwasm_bak -&gt; +DATA/orapwasm</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95391"></a><a id="OSTMG95392"></a><a id="OSTMG95393"></a><a id="OSTMG95394"></a><a id="OSTMG95395"></a><a id="OSTMG95390"></a><div class="props_rev_3"><a id="GUID-788AD581-4C76-4B88-B93C-D0BB4206D355" name="GUID-788AD581-4C76-4B88-B93C-D0BB4206D355"></a><h3 id="OSTMG-GUID-788AD581-4C76-4B88-B93C-D0BB4206D355" class="sect3">pwset</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-788AD581-4C76-4B88-B93C-D0BB4206D355__GUID-43BBB259-7A29-4106-8223-B3A6B9C8CB7A">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Sets the location of the password file for an Oracle ASM or database instance.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-788AD581-4C76-4B88-B93C-D0BB4206D355__GUID-F1015F30-3491-497D-ADD4-9CFB0EB9E1AA">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">pwset { --asm  | --dbuniquename <span class="italic">string</span> } <span class="italic">file_path</span></pre><p><a href="asmcmd-instance-commands.html#GUID-788AD581-4C76-4B88-B93C-D0BB4206D355__BJEDJBEJ" title="This table lists the options for the pwset command, along with a description">Table 10-15</a> lists the options for the <code class="codeph">pwset</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-788AD581-4C76-4B88-B93C-D0BB4206D355__BJEDJBEJ">
                     <p class="titleintable">Table 10-15 Options for the pwset command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the pwset command" summary="This table lists the options for the pwset command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e3518">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e3521">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3526" headers="d69575e3518 ">
                                 <p><code class="codeph">--asm</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3526 d69575e3521 ">
                                 <p>The <code class="codeph">--asm</code> option associates the password file with the Oracle ASM instance that ASMCMD is logged into.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3537" headers="d69575e3518 ">
                                 <p><code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3537 d69575e3521 ">
                                 <p>The <code class="codeph">--dbuniquename</code> <span class="italic"><code class="codeph">string</code></span> option identifies the database unique name associated with the password file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e3556" headers="d69575e3518 ">
                                 <p><span class="italic"><code class="codeph">file_path</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e3556 d69575e3521 ">
                                 <p>The <span class="italic"><code class="codeph">file_path</code></span> value identifies the location where the password file is located. 
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">pwset</code> sets the location of the password file for an Oracle ASM or database instance to the value specified by <span class="italic"><code class="codeph">file_path</code></span>. Either -<code class="codeph">-dbuniquename</code> or <code class="codeph">&#x2013;-asm</code> is required to identify a CRSD resource.
                     </p>
                     <p>The <code class="codeph">SYSASM</code> or <code class="codeph">SYSDBA</code> privilege is required to manage the Oracle ASM and database password files. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-788AD581-4C76-4B88-B93C-D0BB4206D355__GUID-1135B0BA-F098-4264-93CF-9B34A172825E">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example sets the location of the Oracle ASM password file in a disk group.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-788AD581-4C76-4B88-B93C-D0BB4206D355__GUID-C0695CDA-0076-415A-A496-5C58672BD639">
                     <p class="titleinexample">Example 10-17 Using the ASMCMD pwset command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; pwset --asm +DATA/orapwasm</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95397"></a><a id="OSTMG95398"></a><a id="OSTMG95399"></a><a id="OSTMG95400"></a><a id="OSTMG95396"></a><div class="props_rev_3"><a id="GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E" name="GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E"></a><h3 id="OSTMG-GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E" class="sect3">showclustermode</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E__GUID-8F34883C-5979-4092-8D8B-B84137624193">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Displays the current mode of the Oracle ASM cluster.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E__GUID-6F6C2AA7-4BE1-4966-9F60-D63327B2CC5C">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">showclustermode</pre><p><code class="codeph">showclustermode</code> displays the mode that the Oracle ASM cluster is currently in. The possible return values are <span class="bold">ASM cluster : Flex mode enabled</span> or <span class="bold">ASM cluster : Flex mode disabled</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E__GUID-D2E66A23-F62F-4B34-8EEB-8C5B05E13A10">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example shows the use of the <code class="codeph">showclustermode</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1C08000E-4CA4-4758-8595-EDFE24E5005E__GUID-299C6F38-6C61-4273-ACE7-005899F11C6D">
                     <p class="titleinexample">Example 10-18 Using the ASMCMD showclustermode command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; showclustermode
ASM cluster : Flex mode disabled</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95407"></a><a id="OSTMG95408"></a><a id="OSTMG95410"></a><a id="OSTMG95411"></a><a id="OSTMG95406"></a><div class="props_rev_3"><a id="GUID-0773B234-1D02-4D27-9082-B526D13CCA73" name="GUID-0773B234-1D02-4D27-9082-B526D13CCA73"></a><h3 id="OSTMG-GUID-0773B234-1D02-4D27-9082-B526D13CCA73" class="sect3">showclusterstate</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0773B234-1D02-4D27-9082-B526D13CCA73__GUID-1CD86BF4-2732-4DD5-AC73-91787B1490C2">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Displays the current state of the cluster.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0773B234-1D02-4D27-9082-B526D13CCA73__GUID-A4CF5C9A-B590-41E8-9EC7-43E247EE7255">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">showclusterstate</pre><p><code class="codeph">showclusterstate</code> displays the state that the Oracle ASM cluster is currently in. The possible values returned are <span class="bold">normal</span>, <span class="bold">in-upgrade</span>, or <span class="bold">in-rollingpatch</span> mode.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0773B234-1D02-4D27-9082-B526D13CCA73__GUID-ACA74E3A-59FA-4914-891C-D4BF7F802398">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This example shows the use of the <code class="codeph">showclusterstate</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0773B234-1D02-4D27-9082-B526D13CCA73__GUID-DA45505F-5F24-4B2E-8AAE-766005EDA2C9">
                     <p class="titleinexample">Example 10-19 Using the ASMCMD showclusterstate command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; showclusterstate
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95402"></a><a id="OSTMG95403"></a><a id="OSTMG95404"></a><a id="OSTMG95405"></a><a id="OSTMG95401"></a><div class="props_rev_3"><a id="GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F" name="GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F"></a><h3 id="OSTMG-GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F" class="sect3">showpatches</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F__GUID-8B73580D-F3F4-42B0-B32C-10F9B21BFE0D">Purpose</p>
                     <p>Lists the patches applied on the Oracle Grid Infrastructure home.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F__GUID-0732847C-F56C-4061-BA11-4513F29196AA">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">showpatches [-l]</pre><p> The following table lists the options for the <code class="codeph">showpatches</code> command.
                     </p>
                     <div class="tblformal" id="GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F__OPTIONSFORTHESHOWPATHCHESCOMMAND-285D0659">
                        <p class="titleintable">Table 10-16 Options for the showpathches command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the showpathches command" summary="This table lists the options for the showpatches command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d69575e4156">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d69575e4159">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e4164" headers="d69575e4156 ">
                                    <p><code class="codeph">l</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e4164 d69575e4159 ">
                                    <p>Displays all details about the patches.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">showpatches</code> lists the patches that have been applied to the Oracle Grid Infrastructure home.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F__GUID-E4F38DF3-2E2F-4CD0-B126-E5E70B1EDD9E">Example</p>
                     <p>This example shows the use of the <code class="codeph">showpatches</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-EB288E0B-253F-4F55-BCC3-80FC59F0C24F__GUID-2FA92A61-45DD-49BB-A6FD-8074AEC06F0D">
                     <p class="titleinexample">Example 10-20 Using the ASMCMD showpatches command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; showpatches -l
Oracle ASM release patch level is [0] and no patches have been applied on the local node. The release patch string is [18.1.0.0.0].
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG95413"></a><a id="OSTMG95414"></a><a id="OSTMG95415"></a><a id="OSTMG95416"></a><a id="OSTMG95417"></a><a id="OSTMG95412"></a><div class="props_rev_3"><a id="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5" name="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5"></a><h3 id="OSTMG-GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5" class="sect3">showversion</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5__GUID-3264EA12-D776-466D-9A4F-02DA78F6F28F">Purpose</p>
                     <p>Displays the patch levels of the Oracle ASM cluster release and software.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5__GUID-E2DB15CD-5503-493D-8DCF-95AC5DF2AD2D">Syntax and Description</p><pre class="oac_no_warn" dir="ltr">showversion [[[--releasepatch] [--softwarepatch]] | [--active]]</pre><p>The following table lists the options for the <code class="codeph">showversion</code> command.
                     </p>
                     <div class="tblformal" id="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5__BJECEBDI">
                        <p class="titleintable">Table 10-17 Options for the showversion command</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the showversion command" summary="This table lists the options for the showversion command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d69575e4365">Option</th>
                                 <th align="left" valign="bottom" width="69%" id="d69575e4368">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e4373" headers="d69575e4365 ">
                                    <p><code class="codeph">--releasepatch</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e4373 d69575e4368 ">
                                    <p>Displays the cluster level patch version.</p>
                                    <p>Use <code class="codeph">asmcmd</code> <code class="codeph">showversion</code> <code class="codeph">--active</code> instead.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e4392" headers="d69575e4365 ">
                                    <p><code class="codeph">--softwarepatch</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e4392 d69575e4368 ">
                                    <p>Displays the patch level on the local node. </p>
                                    <p>Use <code class="codeph">asmcmd</code> <code class="codeph">showpatches</code> <code class="codeph">-l</code> instead.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d69575e4411" headers="d69575e4365 ">
                                    <p><code class="codeph">--active</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d69575e4411 d69575e4368 ">
                                    <p>Displays the active version and active patch level</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">showversion</code> displays the Oracle ASM cluster release and software patch levels. The release and software patch options may differ depending whether the Oracle ASM or Oracle Grid Infrastructure home is being patched.
                     </p>
                     <div class="infoboxnote" id="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5__GUID-34869262-D43F-4F5F-A314-876A905F83D8">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">releasepatch</code> and <code class="codeph">softwarepatch</code> options may be different when the Oracle Grid Infrastructure or Oracle ASM home is being patched. When in normal mode, the options should be same. When there is no Oracle ASM instance connected, release patch information is not displayed.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5__GUID-89C21559-8F21-4DD6-93A4-4B257C75ECE8">Example</p>
                     <p>This example shows the use of the <code class="codeph">showversion</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F1840CF7-EA88-41B6-992C-4058FF6FE4D5__GUID-977D35B0-55F1-4F72-BD1E-72551F8D14F6">
                     <p class="titleinexample">Example 10-21 Using the ASMCMD showversion command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; showversion --active
Oracle ASM active version on the cluster is [19.0.0.0.0]. The cluster upgrade state is [NORMAL]. The cluster active patch level is [0].
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94409"></a><a id="OSTMG94410"></a><a id="OSTMG94411"></a><a id="OSTMG94412"></a><a id="OSTMG94413"></a><a id="OSTMG94408"></a><div class="props_rev_3"><a id="GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12" name="GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12"></a><h3 id="OSTMG-GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12" class="sect3">shutdown</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12__GUID-C182641B-D71B-49A5-ADC3-B10F8B6724BF">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Shuts down an instance.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12__GUID-4A53A559-604A-4431-A127-BA30BB5D4591">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">shutdown [--target <span class="italic">target_instance</span>] [--normal | --abort|--immediate ]</pre><p> <a href="asmcmd-instance-commands.html#GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12__CIHFHEFH" title="This table lists the options for the shutdown command, along with a description">Table 10-18</a> lists the options for the <code class="codeph">shutdown</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12__CIHFHEFH">
                     <p class="titleintable">Table 10-18 Options for the shutdown command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the shutdown command" summary="This table lists the options for the shutdown command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e4632">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e4635">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e4640" headers="d69575e4632 ">
                                 <p><code class="codeph">--target <span class="codeinlineitalic">target_instance</span></code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e4640 d69575e4635 ">
                                 <p>Specify the target instance. The value of <code class="codeph"><span class="codeinlineitalic">target_instance</span></code> could be either Oracle ASM (<code class="codeph">ASM</code>), IOServer (<code class="codeph">IOS</code>), or Oracle ASM proxy (<code class="codeph">APX</code>) instance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e4663" headers="d69575e4632 ">
                                 <p><code class="codeph">--normal</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e4663 d69575e4635 ">
                                 <p>Shut down normal. This is the default action.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e4671" headers="d69575e4632 ">
                                 <p><code class="codeph">--abort</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e4671 d69575e4635 ">
                                 <p>Shut down aborting all existing operations.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e4679" headers="d69575e4632 ">
                                 <p><code class="codeph">--immediate</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e4679 d69575e4635 ">
                                 <p>Shut down immediately.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The default target instance is determined by the <code class="codeph">ORACLE_SID</code> environmental variable. The default action is a normal shutdown.
                     </p>
                     <p>Oracle strongly recommends that you shut down all database instances that use the Oracle ASM instance and dismount all file systems mounted on Oracle ASM Dynamic Volume Manager (Oracle ADVM) volumes before attempting to shut down the Oracle ASM instance with the abort (<code class="codeph">--abort</code>) option.
                     </p>
                     <p>For more information about shutting down an Oracle ASM instance, see <span class="q">"<a href="admin-asm-instance.html#GUID-9C2208C8-B436-4A18-A5D7-0CE854751529" title="You can initiate the Oracle ASM shutdown process by running the SHUTDOWN command in SQL*Plus.">About Shutting Down an Oracle ASM Instance</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12__GUID-8D90938D-8186-47B6-A501-1FFFE8016753">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following are examples of the <code class="codeph">shutdown</code> command. The first example performs a shut down of the Oracle ASM instance with normal action. The second example performs a shut down with immediate action. The third example performs a shut down that aborts all existing operations.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6DDDBD35-D173-4577-AA4B-CAF0CB92DE12__GUID-82F22895-B6D0-4212-A180-4F40C7F3CB65">
                     <p class="titleinexample">Example 10-22 Using the ASMCMD shutdown command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; shutdown --target ASM --normal

ASMCMD [+] &gt; shutdown --target ASM --immediate

ASMCMD [+] &gt; shutdown --target ASM --abort</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94415"></a><a id="OSTMG94416"></a><a id="OSTMG94417"></a><a id="OSTMG94418"></a><a id="OSTMG94419"></a><a id="OSTMG94414"></a><div class="props_rev_3"><a id="GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC" name="GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC"></a><h3 id="OSTMG-GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC" class="sect3">spbackup</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC__GUID-B0889A58-C49A-4E0F-A914-50CE64FDB643">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Backs up an Oracle ASM SPFILE to a backup file.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC__GUID-E51167F1-2D93-40CD-B079-6E3113A26228">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">spbackup <span class="italic">source</span> <span class="italic">destination</span></pre><p> <a href="asmcmd-instance-commands.html#GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC__CIHDDIJE" title="This table lists the options for the spbackup command, along with a description">Table 10-19</a> lists the options for the <code class="codeph">spbackup</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC__CIHDDIJE">
                     <p class="titleintable">Table 10-19 Options for the spbackup command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the spbackup command" summary="This table lists the options for the spbackup command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e4916">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e4919">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e4924" headers="d69575e4916 ">
                                 <p><span class="italic"><code class="codeph">source</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e4924 d69575e4919 ">
                                 <p>Specifies the source file name.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e4933" headers="d69575e4916 ">
                                 <p><span class="italic"><code class="codeph">destination</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e4933 d69575e4919 ">
                                 <p>Specifies the destination file.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><code class="codeph">spbackup</code> should be used when you want to make single or multiple backups of an SPFILE in the same or a different disk group without creating an SPFILE in the target disk group.
                     </p>
                     <p>Note the following about the use of <code class="codeph">spbackup</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">spbackup</code> can back up an Oracle ASM SPFILE from a disk group to a disk group or to an operating system file.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">spbackup</code> can back up an Oracle ASM SPFILE from an operating system file to a disk group.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">spbackup</code> can back up an Oracle ASM SPFILE when the SPFILE is being used by an open Oracle ASM instance.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">spbackup</code> can make multiple backups of an Oracle ASM SPFILE in the same disk group.
                           </p>
                        </li>
                     </ul>
                     <p><code class="codeph">spbackup</code> does not affect the GPnP profile. The backup file that is created is not a special file type and is not identified as an SPFILE. This backup file cannot be copied with <code class="codeph">spcopy</code>. To copy this backup file to and from a disk group, use the ASMCMD <code class="codeph">cp</code> command.
                     </p>
                     <p>To make a copy of a backup file in a disk group that is identified as an SPFILE file:</p>
                     <ol>
                        <li>
                           <p>Use the ASMCMD <code class="codeph">cp</code> command to copy the backup file from the disk group to an operating system file. See <span class="q">"<a href="asmcmd-file-commands.html#GUID-54815B29-C25E-4286-86FF-8E84F6B51CDC">cp</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Use the ASMCMD spcopy command to copy the operating system file to a disk group. See <span class="q">"<a href="asmcmd-instance-commands.html#GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8">spcopy</a>"</span>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC__GUID-7E2EDD99-D8BB-46C5-B8C4-1C3B065AEEBB">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following are examples of the <code class="codeph">spbackup</code> command. The first example backs up the SPFILE in the <code class="codeph">data</code> disk group. The second example backs up the SPFILE from the <code class="codeph">data</code> disk group to the <code class="codeph">fra</code> disk group.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-22B3BB91-D3BD-44ED-A1A4-89AAB074EFCC__GUID-88595683-07D7-448E-AE2A-30227063C58F">
                     <p class="titleinexample">Example 10-23 Using the ASMCMD spbackup command</p><pre class="oac_no_warn" dir="ltr">ASMCMD&gt; spbackup  +DATA/asm/asmparameterfile/registry.253.721810181
                  +DATA/spfileBackASM.bak

ASMCMD&gt; spbackup  +DATA/asm/asmparameterfile/registry.253.721810181
                  +FRA/spfileBackASM.bak</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94421"></a><a id="OSTMG94422"></a><a id="OSTMG94423"></a><a id="OSTMG94424"></a><a id="OSTMG94425"></a><a id="OSTMG94420"></a><div class="props_rev_3"><a id="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8" name="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8"></a><h3 id="OSTMG-GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8" class="sect3">spcopy</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8__GUID-CF3D48CF-0EBC-4608-A7A0-4738EA7E7003">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Copies an Oracle ASM SPFILE from the source location to an SPFILE in the destination location.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8__GUID-B13E5050-58A7-4531-8B56-231E408D8392">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">spcopy [-u] <span class="italic">source</span> <span class="italic">destination</span></pre><p> <a href="asmcmd-instance-commands.html#GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8__CIHGDFAB" title="This table lists the options for the spcopy command, along with a description">Table 10-20</a> lists the options for the <code class="codeph">spcopy</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8__CIHGDFAB">
                     <p class="titleintable">Table 10-20 Options for the spcopy command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the spcopy command" summary="This table lists the options for the spcopy command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e5220">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e5223">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e5228" headers="d69575e5220 ">
                                 <p><code class="codeph">-u</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e5228 d69575e5223 ">
                                 <p>Updates the Grid Plug and Play (GPnP) profile.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e5236" headers="d69575e5220 ">
                                 <p><span class="italic"><code class="codeph">source</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e5236 d69575e5223 ">
                                 <p>Specifies the source file name.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e5245" headers="d69575e5220 ">
                                 <p><span class="italic"><code class="codeph">destination</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e5245 d69575e5223 ">
                                 <p>Specifies the destination.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Note the following about the use of <code class="codeph">spcopy</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">spcopy</code> can copy an Oracle ASM SPFILE from a disk group to a different disk group or to an operating system file.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">spcopy</code> can copy an Oracle ASM SPFILE from an operating system file to a disk group.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">spcopy</code> can copy an Oracle ASM SPFILE when the SPFILE is being used by an open Oracle ASM instance.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">spcopy</code> cannot make multiple copies of an Oracle ASM SPFILE in the same disk group. You can use <code class="codeph">spbackup</code> for that purpose.
                           </p>
                        </li>
                     </ul>
                     <p>To update the GPnP profile, include the <code class="codeph">-u</code> option with <code class="codeph">spcopy</code>. You can also use <code class="codeph">spset</code> to update the GPnP profile if <code class="codeph">spcopy</code> is run without the <code class="codeph">-u</code> option. 
                     </p>
                     <p>After copying the SPFILE and updating the GPnP profile, you must restart the instance with the SPFILE in the new location to use that SPFILE. When the Oracle ASM instance is running with the SPFILE in the new location, you can remove the source SPFILE.</p>
                     <p>To copy an Oracle ASM SPFILE into a disk group using <code class="codeph">spcopy</code>, the <code class="codeph">COMPATIBLE.ASM</code> attribute must be set to <code class="codeph">11.2</code> or greater in the target disk group.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8__GUID-8418DCEC-FE0F-4C6E-8390-34D4CC8F991A">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following are examples of the <code class="codeph">spcopy</code> command. The first example copies the Oracle ASM SPFILE from the <code class="codeph">data</code> disk group to the <code class="codeph">fra</code> disk group. The second example copies the Oracle ASM SPFILE from the <code class="codeph">data</code> disk group to an operating system location. The third example copies an Oracle ASM SPFILE from an operating system location to the <code class="codeph">data</code> disk group and updates the GPnP profile with the <code class="codeph">-u</code> option.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8__GUID-B39F1F96-01BE-43BB-A79D-A5699053A72A">
                     <p class="titleinexample">Example 10-24 Using the ASMCMD spcopy command</p><pre class="oac_no_warn" dir="ltr">ASMCMD&gt; spcopy  +DATA/asm/asmparameterfile/registry.253.721810181
                +FRA/spfileCopyASM.ora

ASMCMD&gt; spcopy +DATA/asm/asmparameterfile/registry.253.721810181
                $ORACLE_HOME/dbs/spfileCopyASM.ora

ASMCMD&gt; spcopy -u /oracle/product/11.2.0/grid/dbs/spfileTestASM.ora
                  +DATA/ASM/spfileCopyASM.ora</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-528363BF-F4C8-4F05-BB61-DF7A6863E5B8__GUID-67AB804B-AB10-489A-873D-623A7F956154">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="asmcmd-instance-commands.html#GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7">spset</a> for information about using the ASMCMD <code class="codeph">spset</code> command
                              </p>
                           </li>
                           <li>
                              <p><a href="init-params-asm-instance.html#GUID-388D4954-D213-42DA-8A9E-F7168F399223" title="You can back up, copy, or move an Oracle ASM SPFILE with the ASMCMD spbackup, spcopy, or spmove commands.">About Backing Up, Copying, and Moving an Oracle ASM Initialization Parameter File</a> for information about copying and moving an Oracle ASM instance initialization parameter file after upgrading
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=SQLRF01315" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about creating a server parameter file with the <code class="codeph">CREATE SPFILE</code> SQL statement 
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG94427"></a><a id="OSTMG94428"></a><a id="OSTMG94429"></a><a id="OSTMG94430"></a><a id="OSTMG94426"></a><div class="props_rev_3"><a id="GUID-517B4BFC-83B6-4371-8286-C23410C5C559" name="GUID-517B4BFC-83B6-4371-8286-C23410C5C559"></a><h3 id="OSTMG-GUID-517B4BFC-83B6-4371-8286-C23410C5C559" class="sect3">spget</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4BFC-83B6-4371-8286-C23410C5C559__GUID-3CCFBD46-0310-4237-8211-77D89B487007">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Retrieves the location of the Oracle ASM SPFILE from the Grid Plug and Play (GPnP) profile.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4BFC-83B6-4371-8286-C23410C5C559__GUID-ADD8E473-6F9C-45C4-B58D-3AF9589E4F91">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">spget</pre><p>The location retrieved by <code class="codeph">spget</code> is the location in the GPnP profile, but not always the location of the SPFILE currently used. For example, the location could have been recently updated by <code class="codeph">spset</code> or <code class="codeph">spcopy</code> with the <code class="codeph">-u</code> option on an Oracle ASM instance that has not been restarted. After the next restart of the Oracle ASM, this location points to the Oracle ASM SPFILE currently being used.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-517B4BFC-83B6-4371-8286-C23410C5C559__GUID-691094BD-4A51-42B4-AE91-D7BDF631FF8F">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following is an example of the <code class="codeph">spget</code> command that retrieves and displays the location of the SPFILE from the GPnP profile.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-517B4BFC-83B6-4371-8286-C23410C5C559__GUID-83546947-9FDF-45C4-B2C7-5BE7E9B934AD">
                     <p class="titleinexample">Example 10-25 Using the ASMCMD spget command</p><pre class="oac_no_warn" dir="ltr">ASMCMD [+] &gt; spget
+DATA/ASM/ASMPARAMETERFILE/registry.253.813507611</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94432"></a><a id="OSTMG94433"></a><a id="OSTMG94434"></a><a id="OSTMG94435"></a><a id="OSTMG94436"></a><a id="OSTMG94431"></a><div class="props_rev_3"><a id="GUID-05F55D3C-F582-481E-8C23-A58E16260DAD" name="GUID-05F55D3C-F582-481E-8C23-A58E16260DAD"></a><h3 id="OSTMG-GUID-05F55D3C-F582-481E-8C23-A58E16260DAD" class="sect3">spmove</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-05F55D3C-F582-481E-8C23-A58E16260DAD__GUID-E88FBD78-1E15-4EBE-B783-6C4354C91CC5">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Moves an Oracle ASM SPFILE from source to destination and automatically updates the GPnP profile.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-05F55D3C-F582-481E-8C23-A58E16260DAD__GUID-CF35482D-4323-4403-B17C-1012932EB0BA">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">spmove <span class="italic">source</span> <span class="italic">destination</span></pre><p> <a href="asmcmd-instance-commands.html#GUID-05F55D3C-F582-481E-8C23-A58E16260DAD__CIHHEBHG" title="This table lists the options for the spcopy command, along with a description">Table 10-21</a> lists the options for the <code class="codeph">spmove</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-05F55D3C-F582-481E-8C23-A58E16260DAD__CIHHEBHG">
                     <p class="titleintable">Table 10-21 Options for the spmove command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the spmove command" summary="This table lists the options for the spcopy command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e5775">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e5778">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e5783" headers="d69575e5775 ">
                                 <p><span class="italic"><code class="codeph">source</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e5783 d69575e5778 ">
                                 <p>Specifies the source file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e5792" headers="d69575e5775 ">
                                 <p><span class="italic"><code class="codeph">destination</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e5792 d69575e5778 ">
                                 <p>Specifies the destination file.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>Note the following about the use of <code class="codeph">spmove</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">spmove</code> can move an Oracle ASM SPFILE when the open instance is using a PFILE or a different SPFILE. After moving the SPFILE, you must restart the instance with the SPFILE in the new location to use that SPFILE.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">spmove</code> cannot move an Oracle ASM SPFILE when the SPFILE is being used by an open Oracle ASM instance.
                           </p>
                        </li>
                     </ul>
                     <p>For information about copying and moving an Oracle ASM instance initialization parameter file after upgrading, see <span class="q">"<a href="init-params-asm-instance.html#GUID-388D4954-D213-42DA-8A9E-F7168F399223" title="You can back up, copy, or move an Oracle ASM SPFILE with the ASMCMD spbackup, spcopy, or spmove commands.">About Backing Up, Copying, and Moving an Oracle ASM Initialization Parameter File</a>"</span>.
                     </p>
                     <p>To use <code class="codeph">spmove</code> to move an Oracle ASM SPFILE into a disk group, the disk group attribute <code class="codeph">COMPATIBLE.ASM</code> must be set to <code class="codeph">11.2</code> or greater.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-05F55D3C-F582-481E-8C23-A58E16260DAD__GUID-3B5EE141-1CF8-4AC8-8C06-B7536EBF6142">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following are examples of the <code class="codeph">spmove</code> command. The first example moves an Oracle ASM SPFILE from the <code class="codeph">data</code> disk group to an operating system location. The second example moves an SPFILE from an operating system location to the <code class="codeph">data</code> disk group.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-05F55D3C-F582-481E-8C23-A58E16260DAD__GUID-97900E41-5A6B-4DAE-9FAD-50C5F5F75FDA">
                     <p class="titleinexample">Example 10-26 Using the ASMCMD spmove command</p><pre class="oac_no_warn" dir="ltr">ASMCMD&gt; spmove +DATA/spfileASM.ora
               /oracle/product/11.2.0/grid/dbs/spfileMoveASM.ora

ASMCMD&gt; spmove /oracle/product/11.2.0/grid/dbs/spfile+ASM.ora
               +DATA/ASM/spfileMoveASM.ora</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94438"></a><a id="OSTMG94439"></a><a id="OSTMG94440"></a><a id="OSTMG94441"></a><a id="OSTMG94442"></a><a id="OSTMG94437"></a><div class="props_rev_3"><a id="GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7" name="GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7"></a><h3 id="OSTMG-GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7" class="sect3">spset</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7__GUID-1788631F-90E6-4D38-A6D9-C110FE4EC0AF">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Sets the location of the Oracle ASM SPFILE in the Grid Plug and Play (GPnP) profile.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7__GUID-0ED7A073-53E2-405A-8500-01BAEC57E20B">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">spset <span class="italic">location</span></pre><p> <a href="asmcmd-instance-commands.html#GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7__CIHIIEEI" title="This table lists the options for the spset command, along with a description">Table 10-22</a> lists the options for the <code class="codeph">spset</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7__CIHIIEEI">
                     <p class="titleintable">Table 10-22 Options for the spset command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the spset command" summary="This table lists the options for the spset command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e6060">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e6063">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e6068" headers="d69575e6060 ">
                                 <p><span class="italic"><code class="codeph">location</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e6068 d69575e6063 ">
                                 <p>Specifies the location of the Oracle ASM SPFILE. The location is the full path to the SPFILE.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7__GUID-0A1B8EC3-B58C-41AA-9FA9-C1D3B14CF995">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following is an example of the <code class="codeph">spset</code> command that sets the location of the Oracle ASM SPFILE command in the <code class="codeph">data</code> disk group.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7__GUID-AC1C5EA9-9AFB-47FC-BE2C-EA82FFD3BECE">
                     <p class="titleinexample">Example 10-27 Using the ASMCMD spset command</p><pre class="oac_no_warn" dir="ltr">ASMCMD&gt; spset +DATA/asm/asmparameterfile/asmspfile.ora</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OSTMG94444"></a><a id="OSTMG94445"></a><a id="OSTMG94446"></a><a id="OSTMG94447"></a><a id="OSTMG94448"></a><a id="OSTMG94443"></a><div class="props_rev_3"><a id="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84" name="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84"></a><h3 id="OSTMG-GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84" class="sect3">startup</h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84__GUID-39261BF2-3371-4742-AA10-B4F1EB7392AC">Purpose</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Starts up the default instance. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84__GUID-30AFF227-8E36-4602-A391-DBC3D9B6220C">Syntax and Description</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">startup [--mount] [--nomount] [--restrict] [ --pfile <span class="italic">pfile</span> ]</pre><p> <a href="asmcmd-instance-commands.html#GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84__CIHCHEGB" title="This table lists the options for the startup command, along with a description">Table 10-23</a> lists the options for the <code class="codeph">startup</code> command.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84__CIHCHEGB">
                     <p class="titleintable">Table 10-23 Options for the startup command</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the startup command" summary="This table lists the options for the startup command, along with a description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d69575e6281">Option</th>
                              <th align="left" valign="bottom" width="69%" id="d69575e6284">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e6289" headers="d69575e6281 ">
                                 <p><code class="codeph">--mount</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e6289 d69575e6284 ">
                                 <p>Specifies a mount operation. This is the default action.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e6297" headers="d69575e6281 ">
                                 <p><code class="codeph">--nomount</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e6297 d69575e6284 ">
                                 <p>Specifies no mount operation.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e6305" headers="d69575e6281 ">
                                 <p><code class="codeph">--restrict</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e6305 d69575e6284 ">
                                 <p>Specifies restricted mode.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d69575e6313" headers="d69575e6281 ">
                                 <p><code class="codeph">--pfile</code> <span class="italic"><code class="codeph">pfile</code></span></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d69575e6313 d69575e6284 ">
                                 <p>Oracle ASM initialization parameter file.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>This command starts up an instance specified by the <code class="codeph">ORACLE_SID</code> environmental variable. The variable could be set to the Oracle ASM, IOServer, or APX proxy instance.
                     </p>
                     <p>The default action for an Oracle ASM instance is a startup that mounts disk groups and enables Oracle ASM Dynamic Volume Manager (Oracle ADVM) volumes. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84__GUID-618ACAAE-A3C7-4BD2-B1CD-7C40D7D01CBC">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following is an example of the <code class="codeph">startup</code> command that starts the Oracle ASM instance (<code class="codeph">ORACLE_SID=+ASM</code>) without mounting disk groups and uses the <code class="codeph">asm_init.ora</code> initialization parameter file.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84__GUID-1BC79331-3D67-41D5-A008-60007A732F0A">
                     <p class="titleinexample">Example 10-28 Using the ASMCMD startup command</p><pre class="oac_no_warn" dir="ltr">ASMCMD&gt; startup --nomount --pfile asm_init.ora</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-4F9BF4B8-D939-4DF4-B4A7-7AE4007BBA84__GUID-20BF58F5-407E-4BD3-932F-18034B60DA80">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="admin-asm-instance.html#GUID-42A450CF-67A7-4D83-83A7-879E0D6537C5">About Mounting Disk Groups at Startup</a> for information about disk groups that are mounted at startup time
                              </p>
                           </li>
                           <li>
                              <p><a href="admin-asm-instance.html#GUID-E485B808-B78F-4E52-95A5-7FE353C1AE5F" title="You start an Oracle ASM instance similarly to the way in which you start an Oracle Database instance with some minor differences.">About Starting Up an Oracle ASM Instance</a> for more information about starting up an Oracle ASM instance
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01546.rman-backup-concepts.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>RMAN Backup Concepts</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="part-backing-up-archiving.html" title="Previous" type="text/html">
      <link rel="next" href="backing-up-database.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User's Guide">
    <meta name="dcterms.isVersionOf" content="BRADV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-backing-up-archiving.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="backing-up-database.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-backing-up-archiving.html" property="item" typeof="WebPage"><span property="name">Backing Up and Archiving Data</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> RMAN Backup Concepts</li>
            </ol>
            <a id="GUID-B3380142-ABCD-437F-9E06-B219D74E6738" name="GUID-B3380142-ABCD-437F-9E06-B219D74E6738"></a><a id="BRADV002"></a>
            
            <h2 id="BRADV-GUID-B3380142-ABCD-437F-9E06-B219D74E6738" class="sect2"><span class="enumeration_chapter">8 </span> RMAN Backup Concepts
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the general concepts that you must understand to make any type of RMAN backup. This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-3FD1F547-74C0-434A-98D0-5D85A851FCC0" title="Use the RMAN BACKUP command to create both consistent and inconsistent backups.">About Consistent and Inconsistent RMAN Backups</a></p>
                  </li>
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-2CF40BDC-A193-4450-8B10-DEA0E416388C" title="You can create RMAN backups or user-managed backups.">About Online Backups and Backup Mode</a></p>
                  </li>
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-74FF41AF-D1EE-4DB1-AC0D-56FC83CAA91D" title="When you execute the BACKUP command in RMAN, you create one or more backup sets or image copies. By default, RMAN creates backup sets regardless of whether the destination is disk or a media manager.">About Backup Sets</a></p>
                  </li>
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-3580BA12-463A-4A61-939D-58C51E81FF12" title="An image copy is an exact copy of a single data file, archived redo log file, or control file.">About RMAN Image Copies</a></p>
                  </li>
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-763A9C75-90A5-48FD-9CB6-707D030A00F5" title="RMAN enables you to make multiple, identical copies of backups.">About Multiple Copies of RMAN Backups</a></p>
                  </li>
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-95840C84-1595-49AC-923D-310DA750676B" title="Having recent backups of your control file and server parameter file is extremely valuable in many recovery situations. To ensure that you have backups of these files, the database supports control file and server parameter file autobackups.">About RMAN Control File and Server Parameter File Autobackups</a></p>
                  </li>
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-C93F3588-BBA9-4AE2-9E47-74C7A9468023" title="An incremental backup copies only those data blocks that have changed since a previous backup. You can use RMAN to create incremental backups of data files, tablespaces, or the whole database.">About RMAN Incremental Backups</a></p>
                  </li>
                  <li>
                     <p><a href="rman-backup-concepts.html#GUID-3F68F554-FBC9-4375-85DE-7F844C48C8FF" title="You can use the CONFIGURE RETENTION POLICY command to create a persistent and automatic backup retention policy.">About Backup Retention Policies</a></p>
                  </li>
               </ul>
            </div><a id="BRADV89477"></a><div class="props_rev_3"><a id="GUID-3FD1F547-74C0-434A-98D0-5D85A851FCC0" name="GUID-3FD1F547-74C0-434A-98D0-5D85A851FCC0"></a><h3 id="BRADV-GUID-3FD1F547-74C0-434A-98D0-5D85A851FCC0" class="sect3"><span class="enumeration_section">8.1 </span>About Consistent and Inconsistent RMAN Backups
               </h3>
               <div>
                  <p>Use the RMAN <code class="codeph">BACKUP</code> command to create both consistent and inconsistent backups.
                  </p>
                  <p>The RMAN <code class="codeph">BACKUP</code> command supports backing up the following types of files:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data files and control files</p>
                     </li>
                     <li>
                        <p>Server parameter file</p>
                     </li>
                     <li>
                        <p>Archived redo logs</p>
                     </li>
                     <li>
                        <p>RMAN backups</p>
                     </li>
                  </ul>
                  <p>Although the database depends on other types of files, such as network configuration files, password files, and the contents of the Oracle home, you cannot back up these files with RMAN. Likewise, some features of Oracle Database, such as external tables, may depend upon files other than the data files, control files, and redo log. RMAN cannot back up these files. Use general-purpose backup software such as Oracle Secure Backup to protect files that RMAN does not support.</p>
                  <p>When you execute the <code class="codeph">BACKUP</code> command in RMAN, the output is always either one or more backup sets or one or more image copies. A <a href="glossary.html#GUID-6AA43E7D-9946-4C41-A62F-01E5BACEB8A7"><span class="xrefglossterm">backup set</span></a> is an RMAN-specific proprietary format, whereas an <a href="glossary.html#GUID-397CB99E-3F07-4980-96B3-9D0D0ABBABEA"><span class="xrefglossterm">image copy</span></a> is a bit-for-bit copy of a file. By default, RMAN creates backup sets.
                  </p>
                  <div class="infoboxnotealso" id="GUID-3FD1F547-74C0-434A-98D0-5D85A851FCC0__GUID-5A6CD23D-6A3C-4E15-B343-E5F8861DDC3A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="rman-backup-concepts.html#GUID-10871A83-DD0B-49FB-9601-A598D367ECD3" title="A consistent backup occurs when the database is in a consistent state. You can use the BACKUP command to make consistent backups of the database.">About Consistent RMAN Backups</a></p>
                        </li>
                        <li>
                           <p><a href="rman-backup-concepts.html#GUID-23606AAD-40E3-4198-BC70-B3D0FE698C9C" title="Any database backup that is not consistent is an inconsistent backup. A backup made when the database is open is inconsistent, as is a backup made after an instance failure or SHUTDOWN ABORT command.">About Inconsistent RMAN Backups</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV99964"></a><div class="props_rev_3"><a id="GUID-10871A83-DD0B-49FB-9601-A598D367ECD3" name="GUID-10871A83-DD0B-49FB-9601-A598D367ECD3"></a><h4 id="BRADV-GUID-10871A83-DD0B-49FB-9601-A598D367ECD3" class="sect4"><span class="enumeration_section">8.1.1 </span>About Consistent RMAN Backups
                  </h4>
                  <div>
                     <p>A consistent backup occurs when the database is in a consistent state. You can use the <code class="codeph">BACKUP</code> command to make consistent backups of the database.
                     </p>
                     <p>A database is in a consistent state after being shut down with the <a href="../rcmrf/SHUTDOWN.html#RCMRF155" target="_blank"><code class="codeph">SHUTDOWN</code></a> <code class="codeph">NORMAL</code>, <code class="codeph">SHUTDOWN IMMEDIATE</code>, or <code class="codeph">SHUTDOWN TRANSACTIONAL</code> commands. A consistent shutdown guarantees that all redo has been applied to the data files. If you mount the database and make a backup at this point, then you can restore the database backup later and open it without performing media recovery. But you will, of course, lose all transactions that occurred after the backup was created.
                     </p>
                  </div>
               </div><a id="BRADV99965"></a><div class="props_rev_3"><a id="GUID-23606AAD-40E3-4198-BC70-B3D0FE698C9C" name="GUID-23606AAD-40E3-4198-BC70-B3D0FE698C9C"></a><h4 id="BRADV-GUID-23606AAD-40E3-4198-BC70-B3D0FE698C9C" class="sect4"><span class="enumeration_section">8.1.2 </span>About Inconsistent RMAN Backups
                  </h4>
                  <div>
                     <p>Any database backup that is not consistent is an inconsistent backup. A backup made when the database is open is inconsistent, as is a backup made after an instance failure or <code class="codeph">SHUTDOWN ABORT</code> command.
                     </p>
                     <p>When a database is restored from an inconsistent backup, Oracle Database must perform media recovery before the database can be opened, applying changes from the redo logs that took place after the backup was created.</p>
                     <div class="infoboxnote" id="GUID-23606AAD-40E3-4198-BC70-B3D0FE698C9C__GUID-4EFE7E16-3939-4EAD-A8D4-579546927B87">
                        <p class="notep1">Note:</p>
                        <p>RMAN does not permit you to make inconsistent backups when the database is in <code class="codeph">NOARCHIVELOG</code> mode. If you employ user-managed backup techniques for a <code class="codeph">NOARCHIVELOG</code> database, then you must not make inconsistent backups of this database.
                        </p>
                     </div>
                     <p>If the database runs in <code class="codeph">ARCHIVELOG</code> mode, and you back up the archived redo logs and data files, inconsistent backups can be the foundation for a sound backup and recovery strategy. Inconsistent backups offer superior availability because you do not have to shut down the database to make backups that fully protect the database.
                     </p>
                  </div>
               </div>
            </div><a id="BRADV89479"></a><div class="props_rev_3"><a id="GUID-2CF40BDC-A193-4450-8B10-DEA0E416388C" name="GUID-2CF40BDC-A193-4450-8B10-DEA0E416388C"></a><h3 id="BRADV-GUID-2CF40BDC-A193-4450-8B10-DEA0E416388C" class="sect3"><span class="enumeration_section">8.2 </span>About Online Backups and Backup Mode
               </h3>
               <div>
                  <p>You can create RMAN backups or user-managed backups.</p>
                  <p>When performing a <a href="glossary.html#GUID-F4A66D43-CA48-412E-98E8-B25CE1C7B065"><span class="xrefglossterm">user-managed backup</span></a> of an online tablespace or database, an operating system utility can back up a data file at the same time that the database writer (DBWR) is updating the file. It is possible for the utility to read a block in a half-updated state, so that the block that is copied to the backup media is updated in its first half, while the second half contains older data. This type of <a href="glossary.html#GUID-E55A74E5-8AD7-478F-A458-E4CB2E389009"><span class="xrefglossterm">logical corruption</span></a> is known as a <a href="glossary.html#GUID-9999D934-31A1-44D5-995F-EC5B92583B17"><span class="xrefglossterm">fractured block</span></a>, that is, a block that is not consistent with an SCN. If this backup must be restored and the block requires recovery, then recovery fails because the block is not usable.
                  </p>
                  <p>For third-party snapshot technologies, you must use one of the following techniques to eliminate the risk of creating fractured blocks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Ensure that the snapshot technology complies with Oracle requirements for online backups</p>
                     </li>
                     <li>
                        <p>Take the database or data files offline</p>
                     </li>
                     <li>
                        <p>Place the database in backup mode before using a third-party snapshot backup</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-2CF40BDC-A193-4450-8B10-DEA0E416388C__GUID-EAD87694-A55A-4E23-AAE6-341EF6AC2416">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p> <a href="user-managed-database-backups.html#GUID-A1112F2C-D0ED-4C2F-BA24-A614F99F0FCA">Making Backups with Third-Party Snapshot Technologies</a>.
                           </p>
                        </li>
                        <li>
                           <p><a href="user-managed-flashback-dbpitr.html#GUID-5A3BB8EE-291F-41C6-976C-1F304069FF0B">Recovery Using Storage Snapshot Optimization</a></p>
                        </li>
                     </ul>
                  </div>
                  <p>Unlike user-managed tools, RMAN does not require extra logging or backup mode because it knows the format of data blocks. RMAN is guaranteed not to back up fractured blocks. During an RMAN backup, a database server session reads each data block and checks whether it is fractured by comparing the block header and footer. If a block is fractured, then the session rereads the block. If the same fracture is found, then the block is considered permanently corrupt. Also, RMAN does not need to freeze the data file header checkpoint because it knows the order in which the blocks are read, which enables it to capture a known good checkpoint for the file. </p>
                  <div class="infoboxnotealso" id="GUID-2CF40BDC-A193-4450-8B10-DEA0E416388C__GUID-D0B338C8-E6E6-4F4A-8D20-D5C8161A6A1B">
                     <p class="notep1">See Also:</p>
                     <p><a href="user-managed-database-backups.html#GUID-57387AB6-1204-44F0-826A-F9B638453935">Making User-Managed Backups of Online Tablespaces and Data Files</a> to learn how to back up online tablespaces when not using RMAN
                     </p>
                  </div>
               </div>
            </div><a id="BRADV106"></a><div class="props_rev_3"><a id="GUID-74FF41AF-D1EE-4DB1-AC0D-56FC83CAA91D" name="GUID-74FF41AF-D1EE-4DB1-AC0D-56FC83CAA91D"></a><h3 id="BRADV-GUID-74FF41AF-D1EE-4DB1-AC0D-56FC83CAA91D" class="sect3"><span class="enumeration_section">8.3 </span>About Backup Sets
               </h3>
               <div>
                  <p>When you execute the <code class="codeph">BACKUP</code> command in RMAN, you create one or more backup sets or image copies. By default, RMAN creates backup sets regardless of whether the destination is disk or a media manager.
                  </p>
                  <div class="infoboxnote" id="GUID-74FF41AF-D1EE-4DB1-AC0D-56FC83CAA91D__GUID-A2E6EAE1-8A44-4967-9E06-8BC9BC74B382">
                     <p class="notep1">Note:</p>
                     <p>Data file backup sets are typically smaller than data file image copies and take less time to write.</p>
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-1C871377-D8A7-4414-B0F0-884403666E8C" title="RMAN can store backup data in a logical structure called a backup set, which is the smallest unit of an RMAN backup.">About Backup Sets and Backup Pieces</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-073C85A4-E28C-4FE2-A089-1EABF3D00070" title="RMAN can use block compression when creating backup sets.">About RMAN Block Compression for Backup Sets</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-2AFCD551-95CB-4F9F-946E-550E89613974" title="RMAN supports binary compression of backup sets. Binary compression is only enabled when you specify AS COMPRESSED BACKUPSET in the BACKUP command, or one-time with the CONFIGURE DEVICE TYPE [DISK | SBT] BACKUP TYPE TO COMPRESSED BACKUPSET command.">About Binary Compression for RMAN Backup Sets</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-1AD870B1-4D49-4056-A7C0-9B10BC3EE005" title="In backup undo optimization, RMAN excludes undo not needed for recovery of a backup, that is, for transactions that have been committed.">About RMAN Backup Undo Optimization</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-BE9E3C3F-F4A5-439F-8E80-D8CB4C8CC8DF" title="RMAN supports backup encryption for backup sets. You can use keystore-based transparent encryption, password-based encryption, or both.">About Encryption for RMAN Backup Sets</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-B68A34FB-FF89-4C27-AC7C-FDED81C75FD9" title="You can either let RMAN determine a unique name for backup pieces or use the FORMAT clause to specify a name.">About File Names for RMAN Backup Pieces</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-DD7E7E32-B0F7-4FA0-91C3-0811610A13D9" title="By default a backup set contains one backup piece. To restrict the size of each backup piece, specify the MAXPIECESIZE option of the CONFIGURE CHANNEL or ALLOCATE CHANNEL commands.">About Number and Size of RMAN Backup Pieces</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-5A5E1735-A8D6-4481-BED9-105144E9B39A" title="You use the backupSpec clause of the BACKUP command to specify the objects to be backed up. Each backupSpec clause produces at least one backup set.">About Number and Size of RMAN Backup Sets</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97" title="When creating backup sets, RMAN can simultaneously read multiple files from disk and then write their blocks into the same backup set. For example, RMAN can read from two data files simultaneously, and then combine the blocks from these data files into a single backup piece. The combination of blocks from multiple files is called backup multiplexing.">About Multiplexed RMAN Backup Sets</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-2F6EBF71-E699-4C9C-832B-9AA8566E3F47" title="During a proxy copy, RMAN turns over control of the data transfer to a media manager that supports this feature. Proxy copy can only be used with media managers that support it and cannot be used with channels of type DISK. The PROXY option of the BACKUP command specifies that a backup is a proxy copy.">About RMAN Proxy Copies</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89480"></a><div class="props_rev_3"><a id="GUID-1C871377-D8A7-4414-B0F0-884403666E8C" name="GUID-1C871377-D8A7-4414-B0F0-884403666E8C"></a><h4 id="BRADV-GUID-1C871377-D8A7-4414-B0F0-884403666E8C" class="sect4"><span class="enumeration_section">8.3.1 </span>About Backup Sets and Backup Pieces
                  </h4>
                  <div>
                     <p>RMAN can store backup data in a logical structure called a backup set, which is the smallest unit of an RMAN backup.</p>
                     <p>A backup set contains the data from one or more data files, archived redo logs, control files, or server parameter file. Backup sets, which are only created and accessed through RMAN, are the only form in which RMAN can write backups to media managers such as tape drives and tape libraries.</p>
                     <p>A backup set contains one or more binary files in an RMAN-specific format. Each of these files is known as a <a href="glossary.html#GUID-AED62318-D45A-49FA-B4B4-DAD98647FCF6"><span class="xrefglossterm">backup piece</span></a>. A backup set can contain multiple data files. For example, you can back up 10 data files into a single backup set consisting of a single backup piece. In this case, RMAN creates one backup piece as output. The backup set contains only this backup piece.
                     </p>
                     <p>If you specify the <code class="codeph">SECTION SIZE</code> parameter on the <code class="codeph">BACKUP</code> command, then RMAN produces a <a href="glossary.html#GUID-6D6DDA5E-F1EF-4273-8649-137F1FC89EB6"><span class="xrefglossterm">multisection backup</span></a>. This is a backup of a single large file, produced by multiple channels in parallel, each of which produces one backup piece. Each backup piece contains one <a href="glossary.html#GUID-FDECFF77-1833-4BD3-A23C-AA4806E28241"><span class="xrefglossterm">file section</span></a> of the file being backed up.
                     </p>
                     <p>For non-multisection backups, RMAN only records backup sets in the repository that complete successfully. There is no such thing as a partial backup set. This differs from an unsuccessful multisection backup, where it is possible for RMAN metadata to contain a record for a partial backup set. In the latter case, you must use the <code class="codeph">DELETE</code> command to delete the partial backup set. 
                     </p>
                     <div class="infoboxnote" id="GUID-1C871377-D8A7-4414-B0F0-884403666E8C__GUID-E6714636-A1C2-428D-ACDD-36AA384045F2">
                        <p class="notep1">Note:</p>
                        <p>RMAN never considers partial backups as candidates for restore and recovery.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1C871377-D8A7-4414-B0F0-884403666E8C__GUID-0AB0FE3D-9617-44F7-ABE0-A21A2180368F">
                        <p class="notep1">See Also:</p>
                        <p><a href="backing-up-database.html#GUID-93BAB347-063F-439E-BDF3-109AB8D1F8E7" title="RMAN backups are created using the BACKUP command.The primary purpose of RMAN backups is to protect your data. If a media failure or disaster occurs, then you can restore your backups and recover lost changes.You can back up all or part of your database with the BACKUP command from within the RMAN client.You can provide arguments to the BACKUP command to override the default backup options.The BACKUP command takes a DEVICE TYPE clause that specifies whether to back up to disk or tape device.RMAN can create backups on disk as image copies or as backup sets.RMAN provides a range of options to name the files generated by the BACKUP command. When backing up to disk, you can specify a format to spread the backup across several drives for improved performance. RMAN attaches a character string called a tag to every backup it creates, as a way of identifying the backup. You can either accept the default tag or specify your own with the TAG parameter of the BACKUP command.User-specified tags are a useful way to indicate the purpose or usage of different classes of backups or copies. Use the TAG parameter with the BACKUP command to specify tags for backup sets and image copies.When creating backup sets, you can use RMAN support for binary compression of backup sets by including the AS COMPRESSED BACKUPSET option to the BACKUP command.A multisection backup enables large data files to be divided into sections that can be backed up in parallel across multiple channels. This provides faster backup performance and better recovery times.While an image copy is being created, RMAN uses multiple channels to write files sections. However, the output of this operation is one copy for each data file.You can perform a whole database backup with the database mounted or open. You can back up one or more tablespaces with the BACKUP TABLESPACE command or one or more data files with the BACKUP DATAFILE command. You can back up the control file when the database is mounted or open. RMAN uses a snapshot control file to ensure a read-consistent version. A manual backup of the control file is different from a control file autobackup. RMAN makes a control file autobackup after the files specified in the BACKUP command are backed up. To make a manual backup, you can either specify INCLUDE CURRENT CONTROLFILE when backing up other files or specify BACKUP CURRENT CONTROLFILE. RMAN automatically backs up the current server parameter file in certain cases. The BACKUP SPFILE command backs up the parameter file explicitly. The server parameter file that is backed up is the one currently in use by the instance. You can only back up a database in NOARCHIVELOG mode when the database is closed and in a consistent state.Preplugin backups ensure that an RMAN backup is usable after a non-CDB is plugged in as a PDB into a CDB. Use the BACKUP command to back up multitenant container databases (CDBs) and pluggable databases (PDBs).RMAN and Oracle Enterprise Manager Cloud Control provide full support for backup and recovery in a multitenant environment.Backing up a whole multitenant container database (CDB) is similar to backing up a non-CDB. When you back up a whole CDB, RMAN backs up the root, all the pluggable databases (PDBs), and the archived redo logs.You can use RMAN to make a backup of only the root. Because the root contains critical metadata for the whole CDB, Oracle recommends that you back up the root or back up the whole CDB at regular intervals.Oracle Enterprise Manager Cloud Control (Cloud Control) can be used to back up the root.RMAN enables you to back up one or more PDBs in a CDB using the BACKUP command. Preplugin backups of a PDB can be used to perform restore and recover operations after the PDB is migrated and plugged in to a different destination CDB.Oracle Enterprise Manager Cloud Control (Cloud Control) can be used to perform backups of pluggable databases (PDBs).Because tablespaces in different PDBs can have the same name, to eliminate ambiguity you must connect directly to a PDB to back up one or more of its tablespaces.This example creates a preplugin backup of the PDB my_pdb that is contained in CDB cdb_prod. The CDB uses shared undo and is open in read-write mode.RMAN enables you to use the BACKUP command to perform backup operations on the application root, one or more application PDBs, and the application container.RMAN can back up application containers, application PDBs, and the application root.Use the RMAN BACKUP command to back up the application root.Use the BACKUP command to back up an application container, which consists of the application root and all the application PDBs that belong to the application root.The BACKUP command is used to back up one or more application PDBs. Use the BACKUP command to back up sparse databases.RMAN enables you to back up a sparse database, using steps similar to backing up a whole database, in the backup set or image copy format.You can back up one or more tablespaces containing sparse data files or individual sparse data files using the BACKUP command. RMAN enables you to back up one or more sparse PDBs in a CDB. Archived redo logs are the key to successful media recovery. You should back them up regularly.Several features of RMAN backups are specific to archived redo logs. For example, you can use BACKUP ... DELETE to delete one or all copies of archived redo logs from disk after backing them up to backup sets. Even if your redo logs are being archived to multiple destinations and you use RMAN to back up archived redo logs, RMAN selects only one copy of the archived redo log file to include in the backup set. Because logs with the same log sequence number are identical, RMAN does not need to include more than one log copy.Automatic online redo log switching is an important RMAN feature. In a CDB, archived redo logs can be backed up only when you connect to the root as a common user with the SYSDBA or SYSBACKUP privilege. To back up archived logs, use the BACKUP ARCHIVELOG command.You can indicate that RMAN should automatically skip backups of archived redo logs.You can back up archived redo logs in a multitenant container database (CDB) by using the BACKUP ARCHIVELOG command.The BACKUP ARCHIVELOG ... DELETE INPUT command deletes archived log files after they are backed up. This command eliminates the separate step of manually deleting archived redo logs. In a CDB, you can delete archived redo logs after they are backed up by using the BACKUP ARCHIVELOG ... DELETE INPUT command.An incremental backup copies only data file blocks that have changed since a specified previous backup. Use the BACKUP command to create incremental backups.RMAN incremental backups provide multiple benefits.Choose a backup strategy according to an acceptable MTTR (mean time to recover). You can use the Volume Shadow Copy Service (VSS) with the Oracle VSS writer to make a shadow copy or snapshot of files in a database.By incrementally updating backups, you can avoid the overhead of making full image copy backups of data files, while also minimizing time required for media recovery of your database. For example, if you run a daily backup script, then you never have more than 1 day of redo to apply for media recovery.To create incremental backups for use in an incrementally updated backup strategy, use the BACKUP ... FOR RECOVER OF COPY WITH TAG form of the BACKUP command. The command is best understood in a sample script that implements the strategy.The block change tracking feature for incremental backups improves backup performance by recording changed blocks for each data file.If block change tracking is enabled on a primary or standby database, then RMAN uses a block change tracking file to identify changed blocks for incremental backups. By reading this small bitmap file to determine which blocks changed, RMAN avoids having to scan every block in the data file that it is backing up.Oracle Database automatically manages space in the change tracking file to retain block change data that covers the eight most recent backups. After the maximum of eight bitmaps is reached, the oldest bitmap is overwritten by the bitmap that tracks the current changes.By default, the block change tracking file is created as an Oracle managed file in the destination specified by the DB_CREATE_FILE_DEST initialization parameter. You can also place the block change tracking file in any location that you choose, by specifying its name when enabling block change tracking. The size of the block change tracking file is proportional to the size of the database and the number of enabled threads of redo. You can enable block change tracking when the database is either open or mounted. When you disable block change tracking, the database removes the block change tracking file from the operating system.You can query the V$BLOCK_CHANGE_TRACKING view to determine whether change tracking is enabled, and if it is, the file name of the block change tracking file.To move the change tracking file, use the ALTER DATABASE RENAME FILE statement. You can use BACKUP... KEEP to create a backup that is both all-inclusive and exempt from the backup retention policy.You can exempt a backup from the retention policy by using the KEEP option with the BACKUP command. Typically, you make an archival backup to tape. Because your data protection backups are most likely to be on a set of tapes that remain accessible and are recycled, it is advisable to reserve a set of tapes for the archival backup. Use the BACKUP command with the KEEP option to make archival backups.One purpose of an archival backup is to create a test database. You can use the BACKUP BACKUPSET command to back up backup sets produced by other backup jobs. You can also use BACKUP RECOVERY AREA to back up recovery files created in the current and all previous fast recovery area destinations. The BACKUP BACKUPSET command creates additional copies of backup pieces in a backup set, but does not create a new backup set. For a backup retention policy based on redundancy, a backup set is counted as one instance of a backup. This statement is true even if there are multiple copies of the backup pieces that form the backup set, such as when a backup set has been backed up from disk to tape.Use the BACKUP BACKUPSET command to copy backup sets from disk to tape. Use the BACKUP command to back up image copies to tape.">Backing Up the Database</a></p>
                     </div>
                  </div>
               </div><a id="BRADV89481"></a><div class="props_rev_3"><a id="GUID-073C85A4-E28C-4FE2-A089-1EABF3D00070" name="GUID-073C85A4-E28C-4FE2-A089-1EABF3D00070"></a><h4 id="BRADV-GUID-073C85A4-E28C-4FE2-A089-1EABF3D00070" class="sect4"><span class="enumeration_section">8.3.2 </span>About RMAN Block Compression for Backup Sets
                  </h4>
                  <div>
                     <p>RMAN can use block compression when creating backup sets.</p>
                     <p>The following types of block compression are available:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Unused Block Compression (Supports disk backup and Oracle Secure Backup tape backup)</p>
                        </li>
                        <li>
                           <p>Null Block Compression (Supports all backups)</p>
                        </li>
                     </ul>
                     <p>RMAN block compression is not traditional binary compression. Rather, it is a set of techniques that RMAN uses to altogether avoid backing up certain blocks that are not needed in this backup.</p>
                  </div><a id="BRADV193"></a><div class="props_rev_3"><a id="GUID-50F8DBCD-C285-491F-B8E7-E1B2140E1B51" name="GUID-50F8DBCD-C285-491F-B8E7-E1B2140E1B51"></a><h5 id="BRADV-GUID-50F8DBCD-C285-491F-B8E7-E1B2140E1B51" class="sect5"><span class="enumeration_section">8.3.2.1 </span>About Unused Block Compression
                     </h5>
                     <div>
                        <p>When employing unused block compression, RMAN skips reading, and backing up, any database blocks that are not currently allocated to some database object. This is regardless of whether those blocks had previously been allocated.</p>
                        <p>So if a database table is dropped, RMAN will not back up the space that was occupied by that table until new objects are created in that space.</p>
                        <p>Unused block compression is used automatically when the following conditions are true: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">COMPATIBLE</code> initialization parameter is set to 10.2 or higher. 
                              </p>
                           </li>
                           <li>
                              <p>There are currently no guaranteed restore points defined for the database.</p>
                           </li>
                           <li>
                              <p>The data file is locally managed.</p>
                           </li>
                           <li>
                              <p>The data file is being backed up to a backup set as part of a full backup or a level 0 incremental backup.</p>
                           </li>
                           <li>
                              <p>The backup set is created on disk, or Oracle Secure Backup is the media manager. </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV192"></a><div class="props_rev_3"><a id="GUID-89D85BBF-C0F2-4393-A1BF-7D6C8D9A6C87" name="GUID-89D85BBF-C0F2-4393-A1BF-7D6C8D9A6C87"></a><h5 id="BRADV-GUID-89D85BBF-C0F2-4393-A1BF-7D6C8D9A6C87" class="sect5"><span class="enumeration_section">8.3.2.2 </span>About Null Block Compression 
                     </h5>
                     <div>
                        <p>When employing null block compression, RMAN omits from its output any block that has never contained data. </p>
                        <p>Null block compression is always used with level 0 or full backups that are created in backup set format.</p>
                     </div>
                  </div>
               </div><a id="BRADV194"></a><div class="props_rev_3"><a id="GUID-2AFCD551-95CB-4F9F-946E-550E89613974" name="GUID-2AFCD551-95CB-4F9F-946E-550E89613974"></a><h4 id="BRADV-GUID-2AFCD551-95CB-4F9F-946E-550E89613974" class="sect4"><span class="enumeration_section">8.3.3 </span>About Binary Compression for RMAN Backup Sets
                  </h4>
                  <div>
                     <p>RMAN supports binary compression of backup sets. Binary compression is only enabled when you specify <code class="codeph">AS COMPRESSED BACKUPSET</code> in the <code class="codeph">BACKUP</code> command, or one-time with the <code class="codeph">CONFIGURE DEVICE TYPE [DISK | SBT] BACKUP TYPE TO COMPRESSED BACKUPSET</code> command.
                     </p>
                     <p>You have two binary compression options:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can use the <code class="codeph">BASIC</code> compression algorithm, which does not require the Oracle Advanced Compression option. This setting offers a compression ratio comparable to <code class="codeph">MEDIUM</code>, at the expense of additional CPU consumption. 
                           </p>
                        </li>
                        <li>
                           <p>If you have enabled the Oracle Advanced Compression option, you can choose from the compression levels outlined in <span class="q">"<a href="configuring-rman-client-advanced.html#GUID-0AA6DB13-ABA9-4BFB-9E42-38DADB9A0B45">About Oracle Advanced Compression Option</a>"</span>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-2AFCD551-95CB-4F9F-946E-550E89613974__GUID-E9A27EB7-A169-4973-8402-BEBAB927D5AB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-rman-client-advanced.html#GUID-3117DA93-EC34-488D-A4FB-29E6CD4D168A" title="RMAN supports precompression processing and binary compression of backup sets. The CONFIGURE COMPRESSION ALGORITHM command enables you to configure compression options.">Configuring Compression Options</a></p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/BACKUP.html#RCMRF107" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn about <code class="codeph">BACKUP AS BACKUPSET</code> and <code class="codeph">CONFIGURE COMPRESSION ALGORITHM</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV417"></a><div class="props_rev_3"><a id="GUID-1AD870B1-4D49-4056-A7C0-9B10BC3EE005" name="GUID-1AD870B1-4D49-4056-A7C0-9B10BC3EE005"></a><h4 id="BRADV-GUID-1AD870B1-4D49-4056-A7C0-9B10BC3EE005" class="sect4"><span class="enumeration_section">8.3.4 </span>About RMAN Backup Undo Optimization
                  </h4>
                  <div>
                     <p>In backup undo optimization, RMAN excludes undo not needed for recovery of a backup, that is, for transactions that have been committed. </p>
                     <p>Backup undo optimization works for disk backups and Oracle Secure Backup tape backups. Unlike <a href="glossary.html#GUID-C75B395F-CA6E-4286-826B-67AABE99606A"><span class="xrefglossterm">backup optimization</span></a>, backup undo optimization is not configurable. 
                     </p>
                  </div>
               </div><a id="BRADV89482"></a><div class="props_rev_3"><a id="GUID-BE9E3C3F-F4A5-439F-8E80-D8CB4C8CC8DF" name="GUID-BE9E3C3F-F4A5-439F-8E80-D8CB4C8CC8DF"></a><h4 id="BRADV-GUID-BE9E3C3F-F4A5-439F-8E80-D8CB4C8CC8DF" class="sect4"><span class="enumeration_section">8.3.5 </span>About Encryption for RMAN Backup Sets
                  </h4>
                  <div>
                     <p>RMAN supports backup encryption for backup sets. You can use keystore-based transparent encryption, password-based encryption, or both. </p>
                     <p>You can use the <a href="../rcmrf/CONFIGURE.html#RCMRF113" target="_blank"><code class="codeph">CONFIGURE ENCRYPTION</code></a> command to configure persistent transparent encryption. Use the <a href="../rcmrf/SET.html#RCMRF153" target="_blank"><code class="codeph">SET ENCRYPTION</code></a> command at the <a href="glossary.html#GUID-01D29658-41E1-4D45-9C7F-A761D56885B9"><span class="xrefglossterm">RMAN session</span></a> level to specify password-based encryption.
                     </p>
                     <div class="infoboxnote" id="GUID-BE9E3C3F-F4A5-439F-8E80-D8CB4C8CC8DF__GUID-C34AC04A-0343-460B-9496-444AC6E04E9A">
                        <p class="notep1">Note:</p>
                        <p>Keystore-based encryption is more secure than password-based encryption because no passwords are involved. Use password-based encryption only when it is absolutely necessary because your backups must be transportable.</p>
                     </div>
                     <p>To create encrypted backups on disk with RMAN, the database must use the Advanced Security Option. For encrypted RMAN backups directly to tape, the <a href="glossary.html#GUID-8879C26C-4DF5-4040-BC7A-37CF7C482C56"><span class="xrefglossterm">Oracle Secure Backup</span></a> <a href="glossary.html#GUID-2E48CE71-9547-4196-B715-5CE59033262E"><span class="xrefglossterm">SBT</span></a> is the only supported interface. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-BE9E3C3F-F4A5-439F-8E80-D8CB4C8CC8DF__GUID-0F6E14DB-917F-44C9-8075-294A3027AACA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-rman-client-advanced.html#GUID-21D5FCCE-7AF1-4CF8-BC53-2496ECE3C56E" title="For improved security, you can configure backup encryption for RMAN backup sets. Encrypted backups cannot be read if they are obtained by unauthorized users.">Configuring Backup Encryption</a></p>
                           </li>
                           <li>
                              <p><a href="backing-up-database-advanced.html#GUID-ECBE4965-57F7-49F0-BECD-734196F417F5" title="You can protect RMAN backup sets with backup encryption. Encrypted backups cannot be read if they are obtained by unauthorized users.">Encrypting RMAN Backups</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV89483"></a><div class="props_rev_3"><a id="GUID-B68A34FB-FF89-4C27-AC7C-FDED81C75FD9" name="GUID-B68A34FB-FF89-4C27-AC7C-FDED81C75FD9"></a><h4 id="BRADV-GUID-B68A34FB-FF89-4C27-AC7C-FDED81C75FD9" class="sect4"><span class="enumeration_section">8.3.6 </span>About File Names for RMAN Backup Pieces
                  </h4>
                  <div>
                     <p>You can either let RMAN determine a unique name for backup pieces or use the <code class="codeph">FORMAT</code> clause to specify a name. 
                     </p>
                     <p>If you do not specify the <code class="codeph">FORMAT</code> parameter, then RMAN automatically generates a unique file name with the <code class="codeph">%U</code> substitution variable in the default backup location. 
                     </p>
                     <p>An example of RMAN generating an SBT backup piece name by <code class="codeph">%U</code> is: 
                     </p><pre class="pre codeblock"><code>2i1nk47_1_1</code></pre><p>An example of a non- Oracle Managed File (OMF) backup piece on disk is: </p><pre class="pre codeblock"><code>/backups/TEST/2i1nk47_1_1
</code></pre><p>The <code class="codeph">FORMAT</code> clause supports substitution variables other than <code class="codeph">%U</code> for generating unique file names. For example, you can use <code class="codeph">%d</code> to generate the name of the database, <code class="codeph">%I</code> for the DBID, <code class="codeph">%t</code> for the time stamp, and so on.
                     </p>
                     <p>You can specify up to four <code class="codeph">FORMAT</code> parameters. If you specify multiple <code class="codeph">FORMAT</code> parameters, then RMAN uses the multiple <code class="codeph">FORMAT</code> parameters only when you specify multiple copies. You can create multiple copies by using the <code class="codeph">BACKUP ... </code><code class="codeph">COPIES</code>, <a href="../rcmrf/SET.html#RCMRF153" target="_blank"><code class="codeph">SET BACKUP COPIES</code></a>, or <a href="../rcmrf/CONFIGURE.html#RCMRF113" target="_blank"><code class="codeph">CONFIGURE ... BACKUP COPIES</code></a> commands.
                     </p>
                     <div class="infoboxnote" id="GUID-B68A34FB-FF89-4C27-AC7C-FDED81C75FD9__GUID-19CC7970-0D5B-4B70-977A-092FC189D732">
                        <p class="notep1">Note:</p>
                        <p>If you use a media manager, then check your vendor documentation for restrictions on <code class="codeph">FORMAT</code>, such as the size of the name, the naming conventions, and so on.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-B68A34FB-FF89-4C27-AC7C-FDED81C75FD9__GUID-68F4AC4E-0297-419C-9E6F-0769116E7081">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="backing-up-database.html#GUID-A733BDFC-8239-4610-8D26-40B6F2D07091" title="RMAN provides a range of options to name the files generated by the BACKUP command.">Specifying a Format for RMAN Backups</a></p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/BACKUP.html#RCMRF107" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for descriptions of the <code class="codeph">FORMAT</code> clause and the substitution variables
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV89484"></a><div class="props_rev_3"><a id="GUID-DD7E7E32-B0F7-4FA0-91C3-0811610A13D9" name="GUID-DD7E7E32-B0F7-4FA0-91C3-0811610A13D9"></a><h4 id="BRADV-GUID-DD7E7E32-B0F7-4FA0-91C3-0811610A13D9" class="sect4"><span class="enumeration_section">8.3.7 </span>About Number and Size of RMAN Backup Pieces
                  </h4>
                  <div>
                     <p>By default a backup set contains one backup piece. To restrict the size of each backup piece, specify the <code class="codeph">MAXPIECESIZE</code> option of the <code class="codeph">CONFIGURE CHANNEL</code> or <code class="codeph">ALLOCATE CHANNEL</code> commands. 
                     </p>
                     <p>The <code class="codeph">MAXPIECESIZE</code> option limits backup piece size to the specified number of bytes. If the total size of the backup set is greater than the specified backup piece size, then RMAN creates multiple physical pieces to hold the backup set contents.
                     </p>
                     <p>You can use this option for media managers that cannot manage a backup piece that spans multiple tapes. For example, if a tape can hold 10 GB, but the backup set being created must hold 80 GB of data, then you must instruct RMAN to create backup pieces of 10 GB, small enough to fit on the tapes used with the media manager. In this case, the backup set media consists of eight tapes. Media managers supporting SBT 2.0 can return a value to RMAN indicating the largest supported backup piece size, which RMAN uses in planning backup activities.</p>
                     <p>If you specify the <code class="codeph">SECTION SIZE</code> parameter on the <code class="codeph">BACKUP</code> command, then RMAN can create a <a href="glossary.html#GUID-6D6DDA5E-F1EF-4273-8649-137F1FC89EB6"><span class="xrefglossterm">multisection backup</span></a>. In this case, a single backup set can contain multiple backup pieces, each containing a <a href="glossary.html#GUID-FDECFF77-1833-4BD3-A23C-AA4806E28241"><span class="xrefglossterm">file section</span></a>. The purpose of multisection backups is to enable multiple channels to back up a large file in parallel.
                     </p>
                     <div class="infoboxnotealso" id="GUID-DD7E7E32-B0F7-4FA0-91C3-0811610A13D9__GUID-1B03D6AC-4A72-4BC0-AFFB-6B9B9FA1B862">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-rman-client-advanced.html#GUID-B5C38414-33DD-4A0F-B0FD-B63F1AC74B33" title="Backup piece size is an issue when it exceeds the maximum file size permitted by the file system or media management software. You can use the MAXPIECESIZE parameter of the CONFIGURE CHANNEL or ALLOCATE CHANNEL command to limit the size of backup pieces.">Configuring the Maximum Size of Backup Pieces</a></p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/ALLOCATE-CHANNEL.html#RCMRF102" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">ALLOCATE</code> <code class="codeph">CHANNEL</code> syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/CONFIGURE.html#RCMRF113" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">CONFIGURE</code> syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV89485"></a><div class="props_rev_3"><a id="GUID-5A5E1735-A8D6-4481-BED9-105144E9B39A" name="GUID-5A5E1735-A8D6-4481-BED9-105144E9B39A"></a><h4 id="BRADV-GUID-5A5E1735-A8D6-4481-BED9-105144E9B39A" class="sect4"><span class="enumeration_section">8.3.8 </span>About Number and Size of RMAN Backup Sets
                  </h4>
                  <div>
                     <p>You use the <span class="italic"><code class="codeph">backupSpec</code></span> clause of the <code class="codeph">BACKUP</code> command to specify the objects to be backed up. Each <span class="italic"><code class="codeph">backupSpec</code></span> clause produces at least one backup set.
                     </p>
                     <p>The total number and size of backup sets depends mostly on an internal RMAN algorithm. However, you can influence RMAN behavior with the <code class="codeph">MAXSETSIZE</code> parameter in the <code class="codeph">CONFIGURE</code> or <code class="codeph">BACKUP</code> command. By limiting the size of the backup set, the parameter indirectly limits the number of files in the set and can possibly force RMAN to create additional backup sets. Also, you can specify <code class="codeph">BACKUP ... FILESPERSET</code> to specify the maximum number of files in each backup set.
                     </p>
                     <div class="infoboxnotealso" id="GUID-5A5E1735-A8D6-4481-BED9-105144E9B39A__GUID-757856C9-A548-4205-9623-BBF1EAE042C5">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="backing-up-database-advanced.html#GUID-04C958FE-A0D3-41A2-B777-73868CDAD4B7" title="The MAXSETSIZE parameter of the BACKUP command specifies a maximum size for a backup set in units of bytes (default), kilobytes, megabytes, or gigabytes.">About Backup Set Size</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-33D81037-2310-4021-8039-1A2C579AAA5A" title="The purpose of RMAN tuning is to identify the bottlenecks for a given job and use RMAN commands, initialization parameters, or adjustments to physical media to improve performance.Multiple factors can affect the performance when an RMAN channel is reading data from disk.During a backup, an RMAN channel reads the blocks from the input files into I/O disk buffers. The database files on the disk subsystem can be managed by either Automatic Storage Management (ASM) or an alternative volume manager or file system. The considerations for backup tuning change depending on whether you manage database files with ASM.When a channel reads from or writes to disk, the I/O is either synchronous I/O or asynchronous I/O. On operating systems that do not support native asynchronous I/O, the database can simulate it with special I/O slave processes. These processes are dedicated to performing I/O on behalf of another process. You can use the RATE parameter to set an upper limit for bytes read so that RMAN does not consume excessive disk bandwidth and degrade online performance. Essentially, RATE serves as a backup throttle. In the copy phase, a channel copies blocks from the input buffers to the output buffers and performs additional processing.When backing up to SBT, RMAN gives the media management software a stream of bytes and associates a unique name with this stream. All details of how and where that stream is stored are handled entirely by the media manager. Thus, a backup to tape involves the interaction of both RMAN and the media manager.The RMAN-specific factors affecting the SBT write phase are analogous to the factors affecting disk reads. In both cases, the buffer allocation, slave processes, and synchronous or asynchronous I/O affect performance. Multiple factors affect the speed of the backup to tape.If the tape device is remote, then the media manager must transfer data over the network. The tape native transfer rate is the speed of writing to a tape without compression. This speed represents the upper limit of the backup rate. The level of tape compression is very important for backup performance. If the tape has good compression, then the sustained backup rate is faster. Tape streaming during write operations has a major effect on tape backup performance. The physical tape block size can affect backup performance. The principal factor affecting the write phase for disk is the buffer size. Typically, you begin the tuning process by using V$ views to determine where RMAN backup and restore operations are encountering problems.You can monitor the progress of backups and restore jobs by querying the view V$SESSION_LONGOPS. RMAN uses two types of rows in V$SESSION_LONGOPS: detail rows and aggregate rows.You can use the V$BACKUP_SYNC_IO and V$BACKUP_ASYNC_IO views to determine the source of backup or restore bottlenecks and to see detailed progress of backup jobs.Query the V$BACKUP_SYNC_IO view to identify bottlenecks with synchronoous I/O.Query the V$BACKUP_ASYNC_IO to identify bottlenecks with asynchronous I/O.Many factors can affect backup performance. Often, finding the solution to a slow backup is a process of trial and error. The RATE parameter on a channel is intended to reduce, rather than increase, backup throughput so that more disk bandwidth is available for other database operations. If the backup is not streaming to tape, then confirm that the RATE parameter is not set.Some operating systems support native asynchronous I/O. If and only if your disk does not support asynchronous I/O, then set DBWR_IO_SLAVES. Any nonzero value for DBWR_IO_SLAVES causes a fixed number of disk I/O slaves to be used for backup and restore, which simulates asynchronous I/O.Set the LARGE_POOL_SIZE initialization parameter if the database reports an error in the alert log stating that it does not have enough memory and that it cannot start I/O slaves.You can perform several tasks to identify and remedy bottlenecks that affect backup performance. One reliable way to determine whether the output device or input disk I/O is the bottleneck in a given backup job is to compare the time required to run backup tasks with the time required to run BACKUP VALIDATE of the same tasks. BACKUP VALIDATE of a backup performs the same disk reads as a real backup but performs no I/O to an output device.Tuning the read phase can help to improve RMAN performance.If the read phase is performing well, then the copy or write phases are probably the bottleneck. In particular, if RMAN is sending data blocks to the tape drive fast enough to support streaming, but the tape is not streaming, then the SBT write phase is the bottleneck.">Tuning RMAN Performance</a> to learn about RMAN buffer management
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/BACKUP.html#RCMRF107" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn the syntax for the <span class="italic"><code class="codeph">backupSpec</code></span> clause
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV196"></a><a id="BRADV89486"></a><div class="props_rev_3"><a id="GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97" name="GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97"></a><h4 id="BRADV-GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97" class="sect4"><span class="enumeration_section">8.3.9 </span>About Multiplexed RMAN Backup Sets
                  </h4>
                  <div>
                     <p>When creating backup sets, RMAN can simultaneously read multiple files from disk and then write their blocks into the same backup set. For example, RMAN can read from two data files simultaneously, and then combine the blocks from these data files into a single backup piece. The combination of blocks from multiple files is called backup multiplexing.</p>
                     <p>Image copies, by contrast, are never multiplexed. </p>
                     <div class="infoboxnote" id="GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97__GUID-10CE3FAB-D691-4ECD-9857-11AB637004E5">
                        <p class="notep1">Note:</p>
                        <p>If RMAN creates a <a href="glossary.html#GUID-6D6DDA5E-F1EF-4273-8649-137F1FC89EB6"><span class="xrefglossterm">multisection backup</span></a> of a data file, then the data file is not multiplexed with any other data file or <a href="glossary.html#GUID-FDECFF77-1833-4BD3-A23C-AA4806E28241"><span class="xrefglossterm">file section</span></a>.
                        </p>
                     </div>
                     <p>As <a href="rman-backup-concepts.html#GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97__I1018026">Figure 8-1</a> illustrates, RMAN can back up three data files into a backup set that contains only one backup piece. This backup piece contains the intermingled data blocks of the three input data files.
                     </p>
                     <div class="figure" id="GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97__I1018026">
                        <p class="titleinfigure">Figure 8-1 Data File Multiplexing</p><img src="img/bradv022.gif" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/bradv022.html"><br><a href="img_text/bradv022.html">Description of "Figure 8-1 Data File Multiplexing"</a></div>
                     <!-- class="figure" -->
                     <p>RMAN multiplexing is determined by several factors. For example, the <code class="codeph">FILESPERSET</code> parameter of the <code class="codeph">BACKUP</code> command determines how many data files to put in each backup set. The <code class="codeph">MAXOPENFILES</code> parameter of <code class="codeph">ALLOCATE CHANNEL</code> or <code class="codeph">CONFIGURE CHANNEL</code> defines how many data files RMAN can read from simultaneously. The basic multiplexing algorithm is as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Number of files in each backup set</p>
                           <p>This number is the minimum of the <code class="codeph">FILESPERSET</code> setting and the number of files read by each channel. The <code class="codeph">FILESPERSET</code> default is 64.
                           </p>
                        </li>
                        <li>
                           <p>The <a href="glossary.html#GUID-648D7B2D-7AB2-40C0-AFFD-0A6FE569F3D7"><span class="xrefglossterm">level of multiplexing</span></a></p>
                           <p>This is the number of input files simultaneously read and then written into the same backup piece. The level of multiplexing is the minimum of <code class="codeph">MAXOPENFILES</code> and the number of files in each backup set. The <code class="codeph">MAXOPENFILES</code> default is 8.
                           </p>
                        </li>
                     </ul>
                     <p>Suppose that you back up 12 data files with one channel when <code class="codeph">FILEPERSET</code> is set to 4. The level of multiplexing is the lesser of this number and 8. Thus, the channel simultaneously writes blocks from 4 data files into each backup piece.
                     </p>
                     <p>Now suppose that you back up 50 data files with one channel. The number of files in each backup set is 50. The level of multiplexing is the lesser of this number and 8. Thus, the channel simultaneously writes blocks from 8 data files into each backup piece.</p>
                     <p>RMAN multiplexing of backup sets is different from <a href="glossary.html#GUID-C40B78A9-99C9-4B49-85D0-8174FD1E271B"><span class="xrefglossterm">media manager multiplexing</span></a>. One type of media manager multiplexing occurs when the media manager writes the concurrent output from multiple RMAN channels to a single sequential device. Another type occurs when a backup mixes database files and non-database files on the same tape.
                     </p>
                     <div class="infoboxnote" id="GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97__GUID-E4DAF1D6-C569-4440-A486-DEBA713A4C37">
                        <p class="notep1">Note:</p>
                        <p>Oracle recommends that you never use media manager multiplexing for RMAN backups.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97__GUID-23DF9C1B-2AA3-460D-834F-D14D63550319">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B" title="During a backup, an RMAN channel reads the blocks from the input files into I/O disk buffers. The database files on the disk subsystem can be managed by either Automatic Storage Management (ASM) or an alternative volume manager or file system. The considerations for backup tuning change depending on whether you manage database files with ASM.">Allocation of Input Disk Buffers</a> to learn how multiplexing affects allocation of disk buffers during backups
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/BACKUP.html#RCMRF107" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">BACKUP</code> syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV89487"></a><div class="props_rev_3"><a id="GUID-2F6EBF71-E699-4C9C-832B-9AA8566E3F47" name="GUID-2F6EBF71-E699-4C9C-832B-9AA8566E3F47"></a><h4 id="BRADV-GUID-2F6EBF71-E699-4C9C-832B-9AA8566E3F47" class="sect4"><span class="enumeration_section">8.3.10 </span>About RMAN Proxy Copies
                  </h4>
                  <div>
                     <p>During a proxy copy, RMAN turns over control of the data transfer to a media manager that supports this feature. Proxy copy can only be used with media managers that support it and cannot be used with channels of type <code class="codeph">DISK</code>. The <code class="codeph">PROXY</code> option of the <code class="codeph">BACKUP</code> command specifies that a backup is a proxy copy.
                     </p>
                     <p>For each file that you attempt to back up with the <code class="codeph">BACKUP</code> <code class="codeph">PROXY</code> command, RMAN queries the media manager to determine whether it can perform a proxy copy. If the media manager cannot proxy copy the file, then RMAN backs up the file as if the <code class="codeph">PROXY</code> option had not been used. (Use the <code class="codeph">PROXY</code> <code class="codeph">ONLY</code> option to force RMAN to fail if a proxy copy cannot be performed.)
                     </p>
                     <p>Control files are never backed up with proxy copy. If the <code class="codeph">PROXY</code> option is specified on an operation backing up a control file, then it is silently ignored for the purposes of backing up the control file.
                     </p>
                     <div class="infoboxnotealso" id="GUID-2F6EBF71-E699-4C9C-832B-9AA8566E3F47__GUID-53D434D4-1052-40A7-9D65-D21EC89FFF83">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/V-PROXY_DATAFILE.html#REFRN30188" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$PROXY_DATAFILE</code> view
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-PROXY_ARCHIVEDLOG.html#REFRN30187" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$PROXY_ARCHIVEDLOG</code> view
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/BACKUP.html#RCMRF107" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for the <code class="codeph">BACKUP</code> command and the <code class="codeph">PROXY</code> option
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV89488"></a><div class="props_rev_3"><a id="GUID-3580BA12-463A-4A61-939D-58C51E81FF12" name="GUID-3580BA12-463A-4A61-939D-58C51E81FF12"></a><h3 id="BRADV-GUID-3580BA12-463A-4A61-939D-58C51E81FF12" class="sect3"><span class="enumeration_section">8.4 </span>About RMAN Image Copies
               </h3>
               <div>
                  <p>An image copy is an exact copy of a single data file, archived redo log file, or control file. </p>
                  <p>Image copies are not stored in an RMAN-specific format. They are identical to the results of copying a file with operating system commands. RMAN can use image copies during RMAN restore and recover operations, and you can also use image copies with non-RMAN restore and recovery techniques.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-D73BDDC7-A4AC-40A2-B279-1A764A51EBC4" title="To create image copies and have them recorded in the RMAN repository, you run the RMAN BACKUP AS COPY command.">About RMAN-Created Image Copies</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-C0BD0706-29EF-44C6-AF53-401522B4BDD0" title="RMAN can use image copies created by mechanisms outside of RMAN, such as native operating system file copy commands or third-party utilities that leave image copies of files on disk. This type of copy is known as a user-managed backup or operating system backup.">About User-Managed Image Copies</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV197"></a><a id="BRADV89489"></a><div class="props_rev_3"><a id="GUID-D73BDDC7-A4AC-40A2-B279-1A764A51EBC4" name="GUID-D73BDDC7-A4AC-40A2-B279-1A764A51EBC4"></a><h4 id="BRADV-GUID-D73BDDC7-A4AC-40A2-B279-1A764A51EBC4" class="sect4"><span class="enumeration_section">8.4.1 </span>About RMAN-Created Image Copies
                  </h4>
                  <div>
                     <p>To create image copies and have them recorded in the RMAN repository, you run the RMAN <code class="codeph">BACKUP</code> <code class="codeph">AS</code> <code class="codeph">COPY</code> command. 
                     </p>
                     <p>Alternatively, you can configure the default backup type for disk as image copies. A database server session is used to create the copy. The server session also performs actions such as validating the blocks in the file and recording the image copy in the RMAN repository.</p>
                     <p>As with backup pieces, <a href="../rcmrf/formatSpec.html#RCMRF195" target="_blank"><code class="codeph">FORMAT</code></a> variables are used to specify the names of image copies. The default format <code class="codeph">%U</code>, which was explained in <span class="q">"<a href="rman-backup-concepts.html#GUID-B68A34FB-FF89-4C27-AC7C-FDED81C75FD9" title="You can either let RMAN determine a unique name for backup pieces or use the FORMAT clause to specify a name.">About File Names for RMAN Backup Pieces</a>"</span>, is defined differently for image copies. The following example shows the name for data file <code class="codeph">2</code> generated by <code class="codeph">%U</code>:
                     </p><pre class="pre codeblock"><code>/d1/oracle/work/orcva/RDBMS/datafile/o1_mf_sysaux_2qylngm3_.dbf
</code></pre><p>When creating image copies, you can also name the output copies with the <code class="codeph">DB_FILE_NAME_CONVERT</code> parameter of the <code class="codeph">BACKUP</code> command. This parameter works identically to the <a href="../refrn/DB_FILE_NAME_CONVERT.html#REFRN10038" target="_blank"><code class="codeph">DB_FILE_NAME_CONVERT</code></a> initialization parameter. Pairs of file name prefixes are provided to change the names of the output files. If a file is not converted by any of the pairs, then RMAN uses the <code class="codeph">FORMAT</code> specification: if no <code class="codeph">FORMAT</code> is specified, then RMAN uses the default format <code class="codeph">%U</code>. 
                     </p>
                     <div class="example" id="GUID-D73BDDC7-A4AC-40A2-B279-1A764A51EBC4__CHDFBHHA">
                        <p class="titleinexample">Example 8-1 Specifying File Names with DB_FILE_NAME_CONVERT</p>
                        <p>This example copies the data files whose file name is prefixed with <code class="codeph">/maindisk/oradata/users</code> so that they are prefixed with <code class="codeph">/backups/users_ts</code>.
                        </p><pre class="pre codeblock"><code>BACKUP AS COPY 
  DB_FILE_NAME_CONVERT ('/maindisk/oradata/users',
                        '/backups/users_ts')
  TABLESPACE users;
</code></pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>If you run a <code class="codeph">RESTORE</code> command, then by default RMAN restores a data file or control file to its original location by copying an image copy backup to that location. Image copies are chosen over backup sets because of the extra overhead of reading through an entire backup set in search of files to be restored.
                        </p>
                        <p>If you must restore and recover a current data file, and if you have an image copy available on disk, then you do not need to have RMAN copy the image copy back to its old location. Instead, you can use the image copy in place as a replacement for the data file to be restored. <span class="q">"<a href="rman-complete-database-recovery.html#GUID-19A07A76-AE1E-41EE-8B7D-7C4EF1FD3137" title="You can recover a database by switching to image copies of inaccessible data files. This technique takes less time than traditional restore and recovery because no backups need to be restored.">Performing Complete Recovery After Switching to a Copy</a>"</span> explains how to perform this task.
                        </p>
                        <div class="infoboxnotealso" id="GUID-D73BDDC7-A4AC-40A2-B279-1A764A51EBC4__GUID-4B1FF3CA-8C95-42D6-9849-ED5D8E2A449C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="configuring-rman-client-basic.html#GUID-BC37B3E4-3338-4452-A363-DB882F2E9415" title="The BACKUP command can create either backup sets or image copies. For disk, you can configure RMAN to create either backup sets or image copies as its default backup type with the CONFIGURE DEVICE TYPE DISK BACKUP TYPE TO command.">Configuring the Default Type for Backups: Backup Sets or Copies</a> to learn how to make either backup sets or image copies the default type of RMAN backups
                                 </p>
                              </li>
                              <li>
                                 <p><a href="backing-up-database.html#GUID-030BA0C5-832E-42A1-A63A-5E2D768BABB9" title="RMAN can create backups on disk as image copies or as backup sets.">Specifying Backup Set or Copy for an RMAN Backup to Disk</a></p>
                              </li>
                              <li>
                                 <p><a href="../rcmrf/formatSpec.html#RCMRF195" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn about the meaning of <code class="codeph">%U</code> for image copies
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89490"></a><div class="props_rev_3"><a id="GUID-C0BD0706-29EF-44C6-AF53-401522B4BDD0" name="GUID-C0BD0706-29EF-44C6-AF53-401522B4BDD0"></a><h4 id="BRADV-GUID-C0BD0706-29EF-44C6-AF53-401522B4BDD0" class="sect4"><span class="enumeration_section">8.4.2 </span>About User-Managed Image Copies
                  </h4>
                  <div>
                     <p>RMAN can use image copies created by mechanisms outside of RMAN, such as native operating system file copy commands or third-party utilities that leave image copies of files on disk. This type of copy is known as a user-managed backup or operating system backup.</p>
                     <p>You can use the <a href="../rcmrf/CATALOG.html#RCMRF109" target="_blank"><code class="codeph">CATALOG</code></a> command to inspect an existing image copy and enter its metadata into the RMAN repository. However, the <code class="codeph">CATALOG</code> command does not do the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Read all blocks in the data file copy to ensure there are no corruptions</p>
                        </li>
                        <li>
                           <p>Guarantee that the image copy was correctly made in <a href="glossary.html#GUID-BD2A12D3-A995-49B8-AE99-B8DDDF4FE7E7"><span class="xrefglossterm">backup mode</span></a></p>
                        </li>
                     </ul>
                     <p>After you catalog these files, you can use them with the <a href="../rcmrf/RESTORE.html#RCMRF149" target="_blank"><code class="codeph">RESTORE</code></a> or <a href="../rcmrf/SWITCH.html#RCMRF159" target="_blank"><code class="codeph">SWITCH</code></a> commands just as you can for RMAN-generated image copies.
                     </p>
                     <p>Some sites store their data files on mirrored disk volumes, which permit the creation of image copies by <a href="glossary.html#GUID-4810DFC7-CC25-4CD9-8D04-79EE7DAF061D"><span class="xrefglossterm">breaking a mirror</span></a>. After you have broken the mirror, you can notify RMAN of the existence of a new user-managed copy, thus making it eligible for a backup. You must notify RMAN when the copy is no longer available by using the <a href="../rcmrf/CHANGE.html#RCMRF110" target="_blank"><code class="codeph">CHANGE</code></a> <code class="codeph">...</code> <code class="codeph">UNCATALOG</code> command.
                     </p>
                     <div class="infoboxnotealso" id="GUID-C0BD0706-29EF-44C6-AF53-401522B4BDD0__GUID-CAA82815-C2C1-43AC-800B-90579187BAA2">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="user-managed-database-backups.html#GUID-2193FAD0-F62C-4671-9272-55E8BD7367DC">Making User-Managed Database Backups</a></p>
                           </li>
                           <li>
                              <p><a href="maintaining-rman-backups.html#GUID-3FC88C14-C9CC-445D-8922-C92659004FA4" title="You can use the CATALOG command to make RMAN aware of the existence of archived logs not recorded in the repository or copies of database files that are created through means other than RMAN.">Adding Backup Records to the RMAN Repository</a> to learn how to catalog data file and archived log image copies
                              </p>
                           </li>
                           <li>
                              <p><a href="backing-up-database-advanced.html#GUID-EEA8D192-E7CD-4457-A0E3-5062EA2E8D0C" title="Many sites keep a backup of the database stored on disk in case a media failure occurs on the primary database or an incorrect user action requires point-in-time recovery. A data file backup on disk simplifies the restore step of recovery, making recovery much quicker and more reliable.">Making Split Mirror Backups with RMAN</a></p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/CHANGE.html#RCMRF110" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">CHANGE</code> syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-D0AEBAF2-FDEA-4977-9B4D-97759A1CA865" name="GUID-D0AEBAF2-FDEA-4977-9B4D-97759A1CA865"></a><h3 id="BRADV-GUID-D0AEBAF2-FDEA-4977-9B4D-97759A1CA865" class="sect3"><span class="enumeration_section">8.5 </span>About Sparse Backups
               </h3>
               <div>
                  <p>You can use the RMAN <code class="codeph">BACKUP</code> command to back up data blocks from sparse data files, tablespaces containing sparse data files, sparse pluggable databases (PDBs), and multitenant container databases (CDBs) containing sparse PDBs. 
                  </p>
                  <p>A sparse data file is a logical Oracle object that is created as a shadow of a base data file object and is stored in a physical storage space known as delta space. For instance, consider a sparse database <code class="codeph">DB0</code> that is created from a base database <code class="codeph">DB</code>. In a sparse environment, it is mandatory that the base objects must be read-only. Unlike the base database, sparse databases are read-write databases. In this case, <code class="codeph">DB</code>, a read-only database, consists of 5 data files. <code class="codeph">DB0</code> recreates the logical versions of each of these 5 base data files and assigns a separate delta storage space for each individual file. When the sparse database <code class="codeph">DB0</code> updates a data block in one of the sparse data files, only the updated block is logically stored in the delta space of that modified data file. When you choose to perform a sparse backup on <code class="codeph">DB0</code>, the operation will copy data only from the delta storage space of the database and the delta space of the sparse data files. A sparse backup can either be in the backup set format (default) or the image copy format. RMAN restores sparse data files from sparse backups and then recovers them from archive and redo logs. You can perform a complete or a point-in-time recovery on sparse data files.
                  </p>
                  <p>To perform sparse backup and recovery operations, your database must have the <code class="codeph">COMPATIBLE</code> initialization parameter set to 12.2 or higher.
                  </p>
                  <p>If your database has the <code class="codeph">COMPATIBLE</code> initialization parameter as 12.2 and you perform a full or level 0 incremental backup on a non-sparse (normal) data file, then RMAN performs a traditional full or level 0 incremental backup of the specified data file. On the other hand, if you perform a full or level 0 incremental backup on a sparse data file, then RMAN performs a backup only of all the latest changes from the delta storage space of that particular data file.
                  </p>
                  <p>For a database with the <code class="codeph">COMPATIBLE</code> initialization parameter less than 12.2, RMAN continues to perform the backup and recovery operations as before and are not influenced by the sparseness of a data file.
                  </p>
                  <p>Sparse backups help in efficiently managing storage space and facilitate faster backup and recovery.</p>
                  <div class="infoboxnote" id="GUID-D0AEBAF2-FDEA-4977-9B4D-97759A1CA865__GUID-32B516C4-6C90-49D5-8C04-E9AAC0D767DB">
                     <p class="notep1">Note:</p>
                     <p>The base (read-only) data files in a sparse database are not encrypted. Ensure that the base data files are stored in a protected storage and accessed using secured communications.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-D0AEBAF2-FDEA-4977-9B4D-97759A1CA865__GUID-5B10FB60-6A45-45BE-B3AF-33B7B34F112C">
                     <p class="notep1">See Also:</p>
                     <p><a href="backing-up-database.html#GUID-17F2020E-9C9B-4D1C-BC60-A09C3A87CF55" title="Use the BACKUP command to back up sparse databases.">Backing Up Sparse Databases with RMAN</a></p>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-7D69CBCA-123F-49FF-85E9-F5C70E47202D" name="GUID-7D69CBCA-123F-49FF-85E9-F5C70E47202D"></a><h3 id="BRADV-GUID-7D69CBCA-123F-49FF-85E9-F5C70E47202D" class="sect3"><span class="enumeration_section">8.6 </span>About Preplugin Backups
               </h3>
               <div>
                  <p>A preplugin backup is an RMAN backup of a non-CDB or a PDB that was created before the non-CDB or PDB was plugged in to a different CDB.</p>
                  <p></p>
                  <p>The CDB into which the non-CDB or PDB is plugged in is referred to as the destination CDB. Preplugin backups can be used for PDB restore and recovery operations in destination CDB. To perform media recovery, all the required archive redo logs must be included in the preplugin backup.</p>
                  <p>For preplugin backups to be usable in the destination CDB, metadata about the preplugin backups must be exported to the RMAN repository of the destination CDB. When a PDB is unplugged from a source CDB, the required metadata is stored in the XML file created during the unplug operation. With non-CDBs, metadata required to make preplugin backups usable in the destination CDB is added to the non-CDBs data dictionary using the <code class="codeph">DBMS_PDB.EXPORTRMANBACKUP()</code> procedure.
                  </p>
                  <p>Preplugin backups are usable only on the destination CDB into which the source non-CDB or PDB are plugged in. For example, assume that you migrate a PDB from the CDB <code class="codeph">src_cdb</code> to the CDB <code class="codeph">stage_cdb</code>. Subsequently, you migrate the source PDB from the CDB <code class="codeph">stage_cdb</code> to the CDB <code class="codeph">prod_cdb</code>. The PDB backups created on the CDB <code class="codeph">src_pdb</code> are accessible to CDB <code class="codeph">stage_pdb</code>. However, the CDB <code class="codeph">prod_cdb</code> can only access the PDB backups created on the CDB <code class="codeph">stage_cdb</code>, not the PDB backups created on the CDB <code class="codeph">src_cdb</code>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-7D69CBCA-123F-49FF-85E9-F5C70E47202D__GUID-24EF611B-FF85-458E-ABCF-237CF477990E">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="backing-up-database.html#GUID-E5A3E523-C55C-4666-8334-81E7A224371B" title="Preplugin backups of a PDB can be used to perform restore and recover operations after the PDB is migrated and plugged in to a different destination CDB.">Creating Preplugin Backups of PDBs Using RMAN</a></p>
                        </li>
                        <li>
                           <p><a href="backing-up-database.html#GUID-7F9F8913-2838-4066-A000-048B35A70EA4" title="Preplugin backups ensure that an RMAN backup is usable after a non-CDB is plugged in as a PDB into a CDB.">Creating a Preplugin Backup of the Whole Database</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="BRADV107"></a><div class="props_rev_3"><a id="GUID-763A9C75-90A5-48FD-9CB6-707D030A00F5" name="GUID-763A9C75-90A5-48FD-9CB6-707D030A00F5"></a><h3 id="BRADV-GUID-763A9C75-90A5-48FD-9CB6-707D030A00F5" class="sect3"><span class="enumeration_section">8.7 </span>About Multiple Copies of RMAN Backups
               </h3>
               <div>
                  <p>RMAN enables you to make multiple, identical copies of backups.</p>
                  <p>Use one of the following ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Duplex backups with the <code class="codeph">BACKUP</code> <code class="codeph">... COPIES</code> command, in which case RMAN creates multiple copies of each backup set
                        </p>
                        <p>See <a href="rman-backup-concepts.html#GUID-7BDEDD51-33B0-4B95-8D62-B11C225C490A">About Duplexed Backup Sets</a>.
                        </p>
                     </li>
                     <li>
                        <p>Back up your files as backup sets or image copies, and then back up the backup sets or image copies with the RMAN <code class="codeph">BACKUP</code> <code class="codeph">BACKUPSET</code> or <code class="codeph">BACKUP </code><code class="codeph">COPY OF</code> commands
                        </p>
                        <p>See <a href="rman-backup-concepts.html#GUID-3F8EDAFC-8A29-4E7B-BFEC-087AE10EDC91" title="The RMAN BACKUP BACKUPSET command backs up backup sets that were created on disk. The command is a useful way to spread backups among multiple media.">About Backups of RMAN Backups</a>.
                        </p>
                     </li>
                  </ul>
               </div><a id="BRADV89491"></a><div class="props_rev_3"><a id="GUID-7BDEDD51-33B0-4B95-8D62-B11C225C490A" name="GUID-7BDEDD51-33B0-4B95-8D62-B11C225C490A"></a><h4 id="BRADV-GUID-7BDEDD51-33B0-4B95-8D62-B11C225C490A" class="sect4"><span class="enumeration_section">8.7.1 </span>About Duplexed Backup Sets
                  </h4>
                  <div>
                     <p><a id="d36784e3646" class="indexterm-anchor"></a><a id="d36784e3648" class="indexterm-anchor"></a>When backing up data files, archived redo log files, server parameter files, and control files into backup pieces, RMAN can create a <a href="glossary.html#GUID-614D6594-1A1A-46EE-A041-312ADAB7E151"><span class="xrefglossterm">duplexed backup set</span></a>, producing up to four identical copies of each backup piece in the backup set on different backup destinations with one <code class="codeph">BACKUP</code> command. Duplexing is not supported for backup operations that produce image copies.
                     </p>
                     <p>You can use the <code class="codeph">COPIES</code> parameter in the <code class="codeph">CONFIGURE</code>, <code class="codeph">SET</code>, or<a id="d36784e3673" class="indexterm-anchor"></a><a id="d36784e3677" class="indexterm-anchor"></a> <code class="codeph">BACKUP</code> commands to specify duplexing of backup sets when using the <code class="codeph">BACKUP</code> command. RMAN can duplex backups to either disk or tape, but cannot duplex backups to tape and disk simultaneously. When backing up to tape, ensure that the number of copies does not exceed the number of available tape devices.
                     </p>
                     <p><a id="d36784e3690" class="indexterm-anchor"></a><a id="d36784e3694" class="indexterm-anchor"></a>The <code class="codeph">FORMAT</code> parameter of the <code class="codeph">BACKUP</code> command specifies the destinations for duplexed backups. The following example creates three copies of the backup of data file 7:
                     </p><pre class="oac_no_warn" dir="ltr">BACKUP DEVICE TYPE DISK COPIES 3 DATAFILE 7 
  FORMAT '/disk1/%U','?/oradata/%U','?/%U';
</pre><p>RMAN places the first copy of each backup piece in <code class="codeph">/disk1</code>, the second in <code class="codeph">?/oradata</code>, and the third in the Oracle home. RMAN does not produce three backup sets, each with a different unique backup set key. Rather, RMAN produces one backup set with a unique key, and generates three identical copies of each backup piece in the set. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-7BDEDD51-33B0-4B95-8D62-B11C225C490A__GUID-E86A1E9C-6391-414B-B664-6785ED7B1BDB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="configuring-rman-client-advanced.html#GUID-2A285F87-552A-4F36-A5B9-F25A69611B4B" title="Use the CONFIGURE ... BACKUP COPIES command to specify how many copies of each backup piece are created on the specified device type for the specified type of file. This type of backup is known as a duplexed backup set.">Configuring Backup Duplexing</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="backing-up-database-advanced.html#GUID-4CFE9BA0-E298-42B8-9FB6-D36751C09D54" title="RMAN can make up to four copies of a backup set simultaneously, each an exact duplicate of the others.">Duplexing Backup Sets</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/CONFIGURE.html#RCMRF113" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code class="codeph">CONFIGURE</code> syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/SET.html#RCMRF153" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for <code class="codeph">SET</code> syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV89492"></a><div class="props_rev_3"><a id="GUID-3F8EDAFC-8A29-4E7B-BFEC-087AE10EDC91" name="GUID-3F8EDAFC-8A29-4E7B-BFEC-087AE10EDC91"></a><h4 id="BRADV-GUID-3F8EDAFC-8A29-4E7B-BFEC-087AE10EDC91" class="sect4"><span class="enumeration_section">8.7.2 </span>About Backups of RMAN Backups
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">BACKUP</code> command to back up existing backup sets and image copies. Backing up existing backups enables you to make multiple, identical copies of RMAN backups.
                     </p>
                     <p>The following sections provide more information about the methods of creating backups up backups:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="rman-backup-concepts.html#GUID-27161367-1F36-403A-9862-F7C69DA24642" title="The RMAN BACKUP BACKUPSET command backs up backup sets that were created on disk. The command is a useful way to spread backups among multiple media.">Backups of Backup Sets</a></p>
                        </li>
                        <li>
                           <p><a href="rman-backup-concepts.html#GUID-FEBF71D7-0FD8-4BB4-8B71-6485165C8C01">Backups of Image Copies</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV607"></a><a id="BRADV203"></a><a id="BRADV89493"></a><div class="props_rev_3"><a id="GUID-27161367-1F36-403A-9862-F7C69DA24642" name="GUID-27161367-1F36-403A-9862-F7C69DA24642"></a><h5 id="BRADV-GUID-27161367-1F36-403A-9862-F7C69DA24642" class="sect5"><span class="enumeration_section">8.7.2.1 </span>Backups of Backup Sets
                     </h5>
                     <div>
                        <p>The RMAN <code class="codeph">BACKUP BACKUPSET</code> command backs up backup sets that were created on disk. The command is a useful way to spread backups among multiple media.
                        </p>
                        <p>If RMAN discovers that one copy of a backup set is corrupted or missing, then it searches for other copies of the same backup set. This behavior is similar to the behavior of RMAN when backing up archived redo logs that exist in multiple archiving destinations.</p>
                        <p>Starting with Oracle Database Release 18c, while backing up backup sets, you can compress backup sets that were not previously compressed by using the <code class="codeph">BACKUP AS COMPRESSED BACKUPSET</code> command.
                        </p>
                        <p>RMAN enables you to create encrypted backups of unencrypted backup sets. Before you back up the unencrypted backup sets, use the <code class="codeph">SET ENCRYPTION FOR DATABASE ON</code> command to enable encryption. Note that the <code class="codeph">SET</code> command enables encryption for the current RMAN session. If encryption is not required for subsequent operations, then turn off encryption for the database.
                        </p>
                        <div class="example" id="GUID-27161367-1F36-403A-9862-F7C69DA24642__CHDHGCFI">
                           <p class="titleinexample">Example 8-2 Backing Up Backup Sets to Tape</p>
                           <p>This example shows how you might run the <code class="codeph">BACKUP</code> command weekly as part of the production backup schedule. In this way, you ensure that all your backups exist on both disk and tape.
                           </p><pre class="oac_no_warn" dir="ltr">BACKUP DEVICE TYPE DISK AS BACKUPSET 
  DATABASE PLUS ARCHIVELOG; 
BACKUP 
  DEVICE TYPE sbt 
  BACKUPSET ALL; # copies backup sets on disk to tape</pre><div class="infoboxnote" id="GUID-27161367-1F36-403A-9862-F7C69DA24642__GUID-4A312AF8-5FB7-44B5-A2C4-63CD32486337">
                              <p class="notep1">Note:</p>
                              <p>Backups to <code class="codeph">sbt</code> that use automatic channels require that you first run the <code class="codeph">CONFIGURE</code> <code class="codeph">DEVICE</code> <code class="codeph">TYPE</code> <code class="codeph">sbt</code> command.
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-27161367-1F36-403A-9862-F7C69DA24642__CHDFIGIE">
                           <p class="titleinexample">Example 8-3 Managing Space Allocation</p>
                           <p>You can also use <code class="codeph">BACKUP</code> <code class="codeph">BACKUPSET</code> to manage backup space allocation. This example backs up backup sets that were created more than a week ago from disk to tape, and then deletes them from disk.
                           </p><pre class="oac_no_warn" dir="ltr">BACKUP 
  DEVICE TYPE sbt 
  BACKUPSET COMPLETED BEFORE 'SYSDATE-7' 
  DELETE INPUT;
</pre><p><code class="codeph">DELETE</code> <code class="codeph">INPUT</code> here is equivalent to <code class="codeph">DELETE</code> <code class="codeph">ALL</code> <code class="codeph">INPUT</code>: RMAN deletes all existing copies of the backup set. If you duplexed a backup to four locations, then RMAN deletes all four copies of the pieces in the backup set.
                           </p>
                           <div class="infoboxnotealso" id="GUID-27161367-1F36-403A-9862-F7C69DA24642__GUID-A8948460-5FB1-41A4-9C8D-57660ACBF89F">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="backing-up-database.html#GUID-731ADA67-235E-481D-AC17-9F9067AD55BF" title="You can use the BACKUP BACKUPSET command to back up backup sets produced by other backup jobs. You can also use BACKUP RECOVERY AREA to back up recovery files created in the current and all previous fast recovery area destinations. The BACKUP BACKUPSET command creates additional copies of backup pieces in a backup set, but does not create a new backup set. For a backup retention policy based on redundancy, a backup set is counted as one instance of a backup. This statement is true even if there are multiple copies of the backup pieces that form the backup set, such as when a backup set has been backed up from disk to tape.Use the BACKUP BACKUPSET command to copy backup sets from disk to tape. Use the BACKUP command to back up image copies to tape.">Backing Up RMAN Backups</a>"</span></p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="BRADV89494"></a><div class="props_rev_3"><a id="GUID-FEBF71D7-0FD8-4BB4-8B71-6485165C8C01" name="GUID-FEBF71D7-0FD8-4BB4-8B71-6485165C8C01"></a><h5 id="BRADV-GUID-FEBF71D7-0FD8-4BB4-8B71-6485165C8C01" class="sect5"><span class="enumeration_section">8.7.2.2 </span>Backups of Image Copies
                     </h5>
                     <div>
                        <p><a id="d36784e4125" class="indexterm-anchor"></a><a id="d36784e4129" class="indexterm-anchor"></a>You can use the <code class="codeph">BACKUP COPY OF</code> command to back up existing image copies of database files either as backup sets or as image copies. When using this command, an image copy of every data file specified in the command must exist. If there are multiple copies of a data file, then the latest one is used. If you specify a tablespace or the whole database, then RMAN issues an error if there are data files in the database or tablespace for which there are no image copy backups.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV111"></a><div class="props_rev_3"><a id="GUID-95840C84-1595-49AC-923D-310DA750676B" name="GUID-95840C84-1595-49AC-923D-310DA750676B"></a><h3 id="BRADV-GUID-95840C84-1595-49AC-923D-310DA750676B" class="sect3"><span class="enumeration_section">8.8 </span>About RMAN Control File and Server Parameter File Autobackups
               </h3>
               <div>
                  <p>Having recent backups of your control file and server parameter file is extremely valuable in many recovery situations. To ensure that you have backups of these files, the database supports control file and server parameter file autobackups. </p>
                  <p>The autobackup occurs independently of any backup of the current control file explicitly requested as part of your <code class="codeph">BACKUP</code> command. With a <a href="glossary.html#GUID-7CDA6567-DFB0-450D-8771-B033E9872AF7"><span class="xrefglossterm">control file autobackup</span></a>, RMAN can recover the database even if the current control file, recovery catalog, and server parameter file are inaccessible. Because the path used to store the autobackup follows a well-known format, RMAN can search for and restore the server parameter file from that autobackup. After you have started the instance with the restored server parameter file, RMAN can restore the control file from the autobackup. After you mount the control file, use the RMAN repository in the mounted control file to restore the data files.
                  </p>
                  <p>It is recommended that you turn on control file autobackups. Otherwise, RMAN database point-in-time recovery (DBPITR) and point-in-time recovery (PITR) for <a href="glossary.html#GUID-993BFB3F-3305-481C-999D-26132095DEC9"><span class="xrefglossterm">PDB</span></a>s may not work effectively when PITR needs to undo data file additions or deletions.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-05C3D461-EF32-4605-959A-DAF03C7C4CC2" title="Depending on the configuration of the target database, RMAN can perform autobackups of the control file and server parameter file.">When RMAN Performs Control File Autobackups</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-CC0CBD56-E3A5-4EAC-A542-29D21F36D67F" title="The first channel allocated during the backup job creates the autobackup and places it into its own backup set. For autobackups after database structural changes, the server process associated with the structural change makes the backup.">How RMAN Performs Control File Autobackups</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89495"></a><div class="props_rev_3"><a id="GUID-05C3D461-EF32-4605-959A-DAF03C7C4CC2" name="GUID-05C3D461-EF32-4605-959A-DAF03C7C4CC2"></a><h4 id="BRADV-GUID-05C3D461-EF32-4605-959A-DAF03C7C4CC2" class="sect4"><span class="enumeration_section">8.8.1 </span>When RMAN Performs Control File Autobackups
                  </h4>
                  <div>
                     <p>Depending on the configuration of the target database, RMAN can perform autobackups of the control file and server parameter file.</p>
                     <p>For non-CDBs, if <code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP</code> is <code class="codeph">ON</code>, then RMAN automatically backs up the control file and the current server parameter file (if used to start the database) after a successful <code class="codeph">BACKUP</code> command. For CDBs and standalone databases with the <code class="codeph">COMPATIBLE</code> initialization parameter set to 12.0 or higher, by default, the control file autobackup is turned on.
                     </p>
                     <p>If the database runs in <code class="codeph">ARCHIVELOG</code> mode, RMAN makes control file autobackups when a structural change to the database affects the contents of the control file.
                     </p>
                     <div class="infoboxnote" id="GUID-05C3D461-EF32-4605-959A-DAF03C7C4CC2__GUID-FD13ECCC-B9EF-4E08-96F4-FCB5A89CCDBF">
                        <p class="notep1">Note:</p>
                        <p>Beginning with Oracle Database Release 11<span class="italic">g</span> Release 2, RMAN takes only one control file autobackup when multiple structural changes contained in a script (for example, adding tablespaces, altering the state of a tablespace or data file, adding a new online redo log, renaming a file, and so on) have been applied. 
                        </p>
                     </div>
                  </div>
               </div><a id="BRADV89496"></a><div class="props_rev_3"><a id="GUID-CC0CBD56-E3A5-4EAC-A542-29D21F36D67F" name="GUID-CC0CBD56-E3A5-4EAC-A542-29D21F36D67F"></a><h4 id="BRADV-GUID-CC0CBD56-E3A5-4EAC-A542-29D21F36D67F" class="sect4"><span class="enumeration_section">8.8.2 </span>How RMAN Performs Control File Autobackups
                  </h4>
                  <div>
                     <p>The first channel allocated during the backup job creates the autobackup and places it into its own backup set. For autobackups after database structural changes, the server process associated with the structural change makes the backup.</p>
                     <p>If a server parameter file is in use by the database, then RMAN backs it up in the same backup set as the control file autobackup. After the autobackup completes, the database writes a message containing the complete path of the backup piece and the device type to the alert log located in the <a href="glossary.html#GUID-BDCE90D1-13B7-4D2C-A761-1583A238A247"><span class="xrefglossterm">Automatic Diagnostic Repository (ADR)</span></a>.
                     </p>
                     <div class="infoboxnote" id="GUID-CC0CBD56-E3A5-4EAC-A542-29D21F36D67F__GUID-D20BCECC-CFD2-472C-87D3-EF83B039D85D">
                        <p class="notep1">Note:</p>
                        <p>Control file autobackups are never duplexed.</p>
                     </div>
                     <p>The control file autobackup file name has a default format of <code class="codeph">%F</code> for all device types, so that RMAN can determine the file location and restore it without a repository. You can specify a different format with the <code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP FORMAT</code> command, but all autobackup formats must include the <code class="codeph">%F</code> variable. If you do not use the default format, then during disaster recovery you must specify the format that was used to generate the autobackups. Otherwise, RMAN cannot restore the autobackup.
                     </p>
                     <div class="infoboxnotealso" id="GUID-CC0CBD56-E3A5-4EAC-A542-29D21F36D67F__GUID-FAB4770C-BD14-4909-A759-94D224954DC0">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-rman-client-basic.html#GUID-98BA7492-7108-4DF9-B5A2-21957072E308" title="You can configure RMAN to automatically back up the control file and server parameter file. The autobackup occurs whenever a backup record is added.">Configuring Control File and Server Parameter File Autobackups</a></p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/CONFIGURE.html#RCMRF113" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">CONFIGURE</code> syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/BACKUP.html#RCMRF107" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">BACKUP</code> syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/formatSpec.html#RCMRF195" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn about the substitution variable <code class="codeph">%F</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV109"></a><div class="props_rev_3"><a id="GUID-C93F3588-BBA9-4AE2-9E47-74C7A9468023" name="GUID-C93F3588-BBA9-4AE2-9E47-74C7A9468023"></a><h3 id="BRADV-GUID-C93F3588-BBA9-4AE2-9E47-74C7A9468023" class="sect3"><span class="enumeration_section">8.9 </span>About RMAN Incremental Backups
               </h3>
               <div>
                  <p>An incremental backup copies only those data blocks that have changed since a previous backup. You can use RMAN to create incremental backups of data files, tablespaces, or the whole database.</p>
                  <p>By default, RMAN makes full backups. A <a href="glossary.html#GUID-D47BE9B3-BAE1-4415-B4B4-4D577B6CB493"><span class="xrefglossterm">full backup</span></a> of a data file includes every allocated block in the file being backed up. A full backup of a data file can be an image copy, in which case every data block is backed up. It can also be stored in a backup set, in which case data file blocks not in use may be skipped.
                  </p>
                  <p>A full backup has no effect on subsequent incremental backups. Image copies are always full backups because they include every data block in a data file. A backup set is by default a full backup because it can potentially include every data block in a data file, although <a href="glossary.html#GUID-0AA7EB43-FEA6-405F-9443-A4A2B43FFF96"><span class="xrefglossterm">unused block compression</span></a> means that blocks never used are excluded and, in some cases, currently unused blocks are excluded (see <span class="q">"<a href="rman-backup-concepts.html#GUID-073C85A4-E28C-4FE2-A089-1EABF3D00070" title="RMAN can use block compression when creating backup sets.">About RMAN Block Compression for Backup Sets</a>"</span>).
                  </p>
                  <p>A full backup cannot be part of an incremental backup strategy; that is, it cannot be the parent for a subsequent incremental backup.</p>
                  <div class="infoboxnotealso" id="GUID-C93F3588-BBA9-4AE2-9E47-74C7A9468023__GUID-9396A789-0FFE-4DE0-9FC2-DC28188F90E7">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="rman-backup-concepts.html#GUID-0E273817-1EE0-40FD-BD92-51C4A0CAAF79" title="RMAN can create multilevel incremental backups. Each incremental level is denoted by a value of 0 or 1.">About Multilevel Incremental Backups</a></p>
                        </li>
                        <li>
                           <p><a href="rman-backup-concepts.html#GUID-4F871762-2D64-4709-910A-1880D39A4B99">About the Incremental Backup Algorithm</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV89499"></a><div class="props_rev_3"><a id="GUID-0E273817-1EE0-40FD-BD92-51C4A0CAAF79" name="GUID-0E273817-1EE0-40FD-BD92-51C4A0CAAF79"></a><h4 id="BRADV-GUID-0E273817-1EE0-40FD-BD92-51C4A0CAAF79" class="sect4"><span class="enumeration_section">8.9.1 </span>About Multilevel Incremental Backups
                  </h4>
                  <div>
                     <p>RMAN can create multilevel incremental backups. Each incremental level is denoted by a value of 0 or 1. </p>
                     <p>A <a href="glossary.html#GUID-DF84C185-E97D-4D3C-BF4E-41A9090C5F4C"><span class="xrefglossterm">level 0 incremental backup</span></a>, which is the base for subsequent incremental backups, copies all blocks containing data. The only difference between a level 0 incremental backup and a full backup is that a full backup is never included in an incremental strategy. Thus, an incremental level 0 backup is a full backup that happens to be the parent of incremental backups whose level is greater than 0.
                     </p>
                     <p>A level 1 incremental backup can be either of the following types:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A <a href="glossary.html#GUID-353B6668-6BA5-4815-8F08-1CD5B446FBD6"><span class="xrefglossterm">differential incremental backup</span></a>, which backs up all blocks changed after the most recent incremental backup at level 1 or 0
                           </p>
                           <p>See <a href="rman-backup-concepts.html#GUID-E9ABBACB-8259-4677-A8D4-81ED3194E7E2" title="In a differential level 1 backup, RMAN backs up all blocks that have changed since the most recent incremental backup at level 1 (cumulative or differential) or level 0.">About Differential Incremental Backups</a>.
                           </p>
                        </li>
                        <li>
                           <p>A <a href="glossary.html#GUID-8BABFB51-EA47-4204-9A44-E1695A9F9FBF"><span class="xrefglossterm">cumulative incremental backup</span></a>, which backs up all blocks changed after the most recent incremental backup at level 0
                           </p>
                           <p>See <a href="rman-backup-concepts.html#GUID-F0FC9AEE-4227-42E2-9EC0-8DBB717A0859" title="In a cumulative level 1 backup, RMAN backs up all blocks used since the most recent level 0 incremental backup in either the current or parent incarnation.">About Cumulative Incremental Backups</a>.
                           </p>
                        </li>
                     </ul>
                     <p>Incremental backups are differential by default.</p>
                     <p>Incremental backups at level 0 can be either backup sets or image copies, but incremental backups at level 1 can only be backup sets.</p>
                     <div class="infoboxnote" id="GUID-0E273817-1EE0-40FD-BD92-51C4A0CAAF79__GUID-2C755C08-D6E9-4822-AD53-A29EB3762F30">
                        <p class="notep1">Note:</p>
                        <p> Cumulative backups are preferable to differential backups when recovery time is more important than disk space, because fewer incremental backups must be applied during recovery.</p>
                     </div>
                     <p>The size of the backup file depends solely upon the number of blocks modified, the incremental backup level, and the type of incremental backup (differential or cumulative).</p>
                  </div><a id="BRADV207"></a><a id="BRADV89500"></a><div class="props_rev_3"><a id="GUID-E9ABBACB-8259-4677-A8D4-81ED3194E7E2" name="GUID-E9ABBACB-8259-4677-A8D4-81ED3194E7E2"></a><h5 id="BRADV-GUID-E9ABBACB-8259-4677-A8D4-81ED3194E7E2" class="sect5"><span class="enumeration_section">8.9.1.1 </span>About Differential Incremental Backups
                     </h5>
                     <div>
                        <p>In a differential level 1 backup, RMAN backs up all blocks that have changed since the most recent incremental backup at level 1 (cumulative or differential) or level 0. </p>
                        <p>For example, in a differential level 1 backup, RMAN determines which level 1 backup occurred most recently and backs up all blocks modified after that backup. If no level 1 is available, then RMAN copies all blocks changed since the base level 0 backup.</p>
                        <p>If no level 0 backup is available in either the current or parent <a href="glossary.html#GUID-4CCAB7DD-FEA7-4237-AF2C-304BA3BD52B1"><span class="xrefglossterm">incarnation</span></a>, then the behavior varies with the compatibility mode setting. If compatibility is &gt;=10.0.0, RMAN copies all blocks that have been changed since the file was created. Otherwise, RMAN generates a level 0 backup.
                        </p>
                        <div class="figure" id="GUID-E9ABBACB-8259-4677-A8D4-81ED3194E7E2__BABFJCBH">
                           <p class="titleinfigure">Figure 8-2 Differential Incremental Backups</p><img src="img/bradv017.gif" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows" longdesc="img_text/bradv017.html"><br><a href="img_text/bradv017.html">Description of "Figure 8-2 Differential Incremental Backups"</a></div>
                        <!-- class="figure" -->
                        <p>In the example shown in <a href="rman-backup-concepts.html#GUID-E9ABBACB-8259-4677-A8D4-81ED3194E7E2__BABFJCBH">Figure 8-2</a>, the following activity occurs each week:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Sunday</p>
                              <p>An incremental level 0 backup backs up <span class="italic">all</span> blocks that have ever been in use in this database.
                              </p>
                           </li>
                           <li>
                              <p>Monday through Saturday</p>
                              <p>On each day from Monday through Saturday, a differential incremental level 1 backup backs up all blocks that have changed since the most recent incremental backup at level 1 or 0. The Monday backup copies blocks changed since Sunday level 0 backup, the Tuesday backup copies blocks changed since the Monday level 1 backup, and so forth.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="BRADV208"></a><a id="BRADV89501"></a><div class="props_rev_3"><a id="GUID-F0FC9AEE-4227-42E2-9EC0-8DBB717A0859" name="GUID-F0FC9AEE-4227-42E2-9EC0-8DBB717A0859"></a><h5 id="BRADV-GUID-F0FC9AEE-4227-42E2-9EC0-8DBB717A0859" class="sect5"><span class="enumeration_section">8.9.1.2 </span>About Cumulative Incremental Backups
                     </h5>
                     <div>
                        <p>In a cumulative level 1 backup, RMAN backs up all blocks used since the most recent level 0 incremental backup in either the current or parent incarnation.</p>
                        <p>Cumulative incremental backups reduce the work needed for a restore operation by ensuring that you only need one incremental backup from any particular level. Cumulative backups require more space and time than differential backups because they duplicate the work done by previous backups at the same level.</p>
                        <p>In the example shown in <a href="rman-backup-concepts.html#GUID-F0FC9AEE-4227-42E2-9EC0-8DBB717A0859__BABHEJFE">Figure 8-3</a>, the following occurs each week:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Sunday</p>
                              <p>An incremental level 0 backup backs up <span class="italic">all</span> blocks that have ever been in use in this database.
                              </p>
                           </li>
                           <li>
                              <p>Monday - Saturday</p>
                              <p>A cumulative incremental level 1 backup copies all blocks changed since the most recent level 0 backup. Because the most recent level 0 backup was created on Sunday, the level 1 backup on each day Monday through Saturday backs up all blocks changed since the Sunday backup.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-F0FC9AEE-4227-42E2-9EC0-8DBB717A0859__GUID-059641F8-F35E-4CD7-A2BA-7731466DCE33">
                           <p class="notep1">See Also:</p>
                           <p><a href="backing-up-database.html#GUID-2AF8EE74-CEB2-468D-A3B2-DD6AD8E41304" title="An incremental backup copies only data file blocks that have changed since a specified previous backup. Use the BACKUP command to create incremental backups.">Making and Updating RMAN Incremental Backups</a></p>
                        </div>
                        <div class="figure" id="GUID-F0FC9AEE-4227-42E2-9EC0-8DBB717A0859__BABHEJFE">
                           <p class="titleinfigure">Figure 8-3 Cumulative Incremental Backups</p><img src="img/bradv018.gif" alt="Description of Figure 8-3 follows" title="Description of Figure 8-3 follows" longdesc="img_text/bradv018.html"><br><a href="img_text/bradv018.html">Description of "Figure 8-3 Cumulative Incremental Backups"</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div>
               </div><a id="BRADV90078"></a><div class="props_rev_3"><a id="GUID-16069217-F44A-45BF-BAE6-774B99155E3A" name="GUID-16069217-F44A-45BF-BAE6-774B99155E3A"></a><h4 id="BRADV-GUID-16069217-F44A-45BF-BAE6-774B99155E3A" class="sect4"><span class="enumeration_section">8.9.2 </span>About Block Change Tracking
                  </h4>
                  <div>
                     <p>The block change tracking feature for incremental backups improves incremental backup performance by recording changed blocks in each data file in a block change tracking file. </p>
                     <p>The block change tracking file is a small binary file stored in the <a href="glossary.html#GUID-B2954743-3455-4045-9200-891927E38048"><span class="xrefglossterm">database area</span></a>. RMAN tracks changed blocks as redo is generated.
                     </p>
                     <p>If block change tracking is enabled, then RMAN uses the change tracking file to identify changed blocks for incremental backups, thus avoiding the need to scan every block in the data file. RMAN only uses block change tracking when the incremental level is greater than 0, because a <a href="glossary.html#GUID-DF84C185-E97D-4D3C-BF4E-41A9090C5F4C"><span class="xrefglossterm">level 0 incremental backup</span></a> includes all blocks.
                     </p>
                     <div class="infoboxnotealso" id="GUID-16069217-F44A-45BF-BAE6-774B99155E3A__GUID-5C91A0AD-884F-4CDF-9A9D-982EEE49E19A">
                        <p class="notep1">See Also:</p>
                        <p><a href="backing-up-database.html#GUID-4E1F605A-76A7-48D0-9D9B-7343B4327E2A" title="The block change tracking feature for incremental backups improves backup performance by recording changed blocks for each data file.">Using Block Change Tracking to Improve Incremental Backup Performance</a></p>
                     </div>
                  </div>
               </div><a id="BRADV89498"></a><div class="props_rev_3"><a id="GUID-4F871762-2D64-4709-910A-1880D39A4B99" name="GUID-4F871762-2D64-4709-910A-1880D39A4B99"></a><h4 id="BRADV-GUID-4F871762-2D64-4709-910A-1880D39A4B99" class="sect4"><span class="enumeration_section">8.9.3 </span>About the Incremental Backup Algorithm
                  </h4>
                  <div>
                     <p>The following concepts are essential for understanding the algorithm that RMAN uses to make incremental backups:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Checkpoint SCN</p>
                           <p>Every data file has a <a href="glossary.html#GUID-22212AAE-6F3C-4E84-B940-5AB2261A7EDA"><span class="xrefglossterm">data file checkpoint</span></a> SCN, which you can view in <code class="codeph">V$DATAFILE.CHECKPOINT_CHANGE#</code>. All changes with an SCN <span class="italic">lower</span> than this SCN are guaranteed to be in the file. When a level 0 incremental backup is restored, the restored data file contains the checkpoint SCN that it had when the level 0 was created. When a level 1 incremental backup is applied to a file, the checkpoint SCN of the file is advanced to the checkpoint SCN that the file had when the incremental level 1 backup was created.
                           </p>
                        </li>
                        <li>
                           <p>Incremental start SCN</p>
                           <p>This SCN applies only to level 1 incremental backups. All blocks whose SCN is greater than or equal to the incremental start SCN are included in the backup. Blocks whose SCN is lower than the incremental start SCN are not included in the backup. The incremental start SCN is most often the checkpoint SCN of the parent of the level 1 backup.</p>
                        </li>
                        <li>
                           <p>Block SCN</p>
                           <p>Every data block in a data file records the SCN at which the most recent change was made to the block.</p>
                        </li>
                     </ul>
                     <p>When RMAN makes a level 1 incremental backup of a file, RMAN reads the file, examines the SCN of every block, and backs up blocks whose SCN is greater than or equal to the incremental start SCN for this backup. If the backup is differential, then the incremental start SCN is the checkpoint SCN of the most recent level 1 backup. If the backup is cumulative, then the incremental start SCN is the checkpoint SCN of the most recent level 0 backup.</p>
                     <p>When block change tracking is enabled, RMAN uses bitmaps to avoid reading blocks that have not changed during the range from incremental start SCN to checkpoint SCN. RMAN still examines every block that is read and uses the SCN in the block to decide which blocks to include in the backup.</p>
                     <p>One consequence of the incremental backup algorithm is that RMAN applies all blocks containing changed data during recovery, even if the change is to an object created with the <code class="codeph">NOLOGGING</code> option. Thus, if you restore a backup made before <code class="codeph">NOLOGGING</code> changes were made, then incremental backups are the only way to recover these changes.
                     </p>
                  </div>
               </div><a id="BRADV89497"></a><div class="props_rev_3"><a id="GUID-D3BD53B8-91F3-474C-BD10-00AE9B30E610" name="GUID-D3BD53B8-91F3-474C-BD10-00AE9B30E610"></a><h4 id="BRADV-GUID-D3BD53B8-91F3-474C-BD10-00AE9B30E610" class="sect4"><span class="enumeration_section">8.9.4 </span>About Recovery with Incremental Backups
                  </h4>
                  <div>
                     <p>During media recovery, RMAN examines the restored files to determine whether it can recover them with an incremental backup. If it has a choice, then RMAN always chooses incremental backups over archived redo logs because applying changes at a block level is faster than applying redo.</p>
                     <p>RMAN does not need to restore a base incremental backup of a data file to apply incremental backups to the data file during recovery. For example, you can restore data file image copies and recover them with incremental backups.</p>
                     <div class="infoboxnotealso" id="GUID-D3BD53B8-91F3-474C-BD10-00AE9B30E610__GUID-FB2DD143-9EA7-41E5-A74D-1357F41DFC72">
                        <p class="notep1">See Also:</p>
                        <p><a href="rman-data-repair-concepts.html#GUID-EC33413A-79B8-4ECF-A77B-DF91957D76FF" title="RMAN automates media recovery. RMAN automatically restores and applies both incremental backups and archived redo logs in whatever combination is most efficient.">About Selection of Incremental Backups and Archived Redo Logs</a></p>
                     </div>
                  </div>
               </div><a id="BRADV567"></a><div class="props_rev_3"><a id="GUID-819CED6A-55E4-4606-BCA4-3B395FCD30C6" name="GUID-819CED6A-55E4-4606-BCA4-3B395FCD30C6"></a><h4 id="BRADV-GUID-819CED6A-55E4-4606-BCA4-3B395FCD30C6" class="sect4"><span class="enumeration_section">8.9.5 </span>About the Incremental-Forever Backup Strategy for Recovery Appliance
                  </h4>
                  <div>
                     <p>The incremental-forever backup strategy eliminates the need for creating recurring full backups when backing up to Zero Data Loss Recovery Appliance (Recovery Appliance). Although Recovery Appliance supports other RMAN backup strategies, the recommended method for ongoing backups is the incremental-forever backup strategy.</p>
                     <p>With the incremental-forever backup strategy, you need to create only one initial level 0 full backup and subsequent level 1 incremental backups. The initial backup and the subsequent incrementals must be RMAN backup sets and not image copies.</p>
                     <p>Note that the Recovery Appliance incremental-forever backup strategy is different from the incrementally updated backup strategy in a conventional RMAN setup. With RMAN, incrementally updated backups use an initial image copy, followed by incremental backups which are eventually merged into the full backup. Therefore, there is always at least one full image copy, a few incremental backups, and some archived redo logs.</p>
                     <div class="infoboxnotealso" id="GUID-819CED6A-55E4-4606-BCA4-3B395FCD30C6__GUID-ED558961-9446-4E59-B910-E094E321A212">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="rman-complete-database-recovery.html#GUID-C192C448-0D8A-4366-91AB-BE62ED5B12ED" title="Zero Data Loss Recovery Appliance (Recovery Appliance) substantially reduces the window of potential data loss that exists between successive archived redo log backups. You to recover target databases to within a few subseconds of a database failure.">About Real-time Redo Transport for Recovery Appliance</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=AMPDB768" target="_blank"><span class="italic">Zero Data Loss Recovery Appliance Protected Database Configuration Guide</span></a> for information about the incremental-forever backup strategy
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV99966"></a><div class="props_rev_3"><a id="GUID-3F68F554-FBC9-4375-85DE-7F844C48C8FF" name="GUID-3F68F554-FBC9-4375-85DE-7F844C48C8FF"></a><h3 id="BRADV-GUID-3F68F554-FBC9-4375-85DE-7F844C48C8FF" class="sect3"><span class="enumeration_section">8.10 </span>About Backup Retention Policies
               </h3>
               <div>
                  <p>You can use the <code class="codeph">CONFIGURE RETENTION POLICY</code> command to create a persistent and automatic backup retention policy. 
                  </p>
                  <p>When a backup retention policy is in effect, RMAN considers a backup of data files or control files as an <a href="glossary.html#GUID-A4D8B0BE-D3B9-4DD9-A7B3-BC0D88D25DC0"><span class="xrefglossterm">obsolete backup</span></a>, that is, no longer needed for recovery, according to criteria specified in the <code class="codeph">CONFIGURE</code> command. You can use the <a href="../rcmrf/REPORT.html#RCMRF147" target="_blank"><code class="codeph">REPORT OBSOLETE</code></a> command to view obsolete files and the <a href="../rcmrf/DELETE.html#RCMRF121" target="_blank"><code class="codeph">DELETE OBSOLETE</code></a> command to delete them.
                  </p>
                  <p>As you produce backups over time, older backups become obsolete as they are no longer needed to satisfy the retention policy. RMAN can identify the obsolete files for you, but it does not automatically delete them. You must use the <code class="codeph">DELETE</code> <code class="codeph">OBSOLETE</code> command to delete files that are no longer needed to satisfy the retention policy.
                  </p>
                  <p>If a fast recovery area is configured, then the database automatically deletes files that are either obsolete or backed up to tape when more recovery area space is needed for new files. The disk quota rules are distinct from the retention policy rules, but the database never deletes files in violation of the retention policy to satisfy the disk quota. Refer to <span class="q">"<a href="maintaining-rman-backups.html#GUID-3F11ECB5-1321-45F5-A557-BB1A5BAF011F" title="If the RMAN retention policy requires keeping a set of backups larger than the fast recovery area disk quota, or if the retention policy is set to NONE, then the fast recovery area can fill completely with no reclaimable space.">Responding to a Full Fast Recovery Area</a>"</span>.
                  </p>
                  <p>A backup is obsolete when <code class="codeph">REPORT</code> <code class="codeph">OBSOLETE</code> or <code class="codeph">DELETE</code> <code class="codeph">OBSOLETE</code> determines, based on the user-defined retention policy, that it is not needed for recovery. A backup is considered an <a href="glossary.html#GUID-A8547B27-5415-4AAA-B2B4-C0998EB62E47"><span class="xrefglossterm">expired backup</span></a> only when RMAN performs a crosscheck and cannot find the file. In short, <span class="italic">obsolete</span> means a file is not needed, whereas <span class="italic">expired</span> means it is not found.
                  </p>
                  <p>A backup retention policy applies only to full or level 0 data file and control file backups. For data file copies and proxy copies, if RMAN determines that the copy or proxy copy is not needed, then the copy or proxy copy can be deleted. For data file backup sets, RMAN cannot delete the backup set until all data file backups within the backup set are obsolete.</p>
                  <p>The retention policy is not responsible for deleting or rendering obsolete archived redo logs and incremental level 1 backups. Rather, these files become obsolete when no full backups exist that need them. Besides affecting full or level 0 data file and control file backups, the retention policy affects archived redo logs and level 1 incremental backups. First, RMAN decides which data file and control file backups are obsolete. Then, RMAN considers as obsolete all archived logs and incremental level 1 backups that are not needed to recover the oldest data file or control file backup that must be retained.</p>
                  <div class="infoboxnote" id="GUID-3F68F554-FBC9-4375-85DE-7F844C48C8FF__GUID-4F6CC500-7BC2-43B6-86E1-603D8F983494">
                     <p class="notep1">Note:</p>
                     <p>RMAN cannot implement an automatic retention policy if backups are deleted by non-RMAN techniques, for example, through the media manager's tape retention policy. The media manager must never expire a tape until all RMAN backups on that tape have been removed from the media manager's catalog.</p>
                  </div>
                  <p>There are two mutually exclusive options for implementing a retention policy: <a href="glossary.html#GUID-57A71B9A-2353-4669-A152-EFAD9AFF3ED3"><span class="xrefglossterm">redundancy</span></a> and <a href="glossary.html#GUID-1C595EF7-B8A1-4AA3-8C45-44E9FC8BAB9E"><span class="xrefglossterm">recovery window</span></a>.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED" title="A recovery window is a period that begins with the current time and extends backward in time to the point of recoverability. The point of recoverability is the earliest time for a hypothetical point-in-time recovery, that is, the earliest point to which you can recover following a media failure.">About the Recovery Window</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-5AA05D2C-79E0-4BE7-8834-F0DB40186EB9" title="In some cases using a recovery window can complicate disk space planning because the number of backups that must be retained is not constant and depends on the backup schedule. In contrast, a redundancy-based retention policy specifies how many backups of each data file must be retained.">About Backup Redundancy</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-52F6659C-BA57-400F-8E61-4FD5E18AFB4A" title="You can run the REPORT OBSOLETE command to determine which backups are currently obsolete according to the retention policy.">About Batch Deletes of Obsolete Backups</a></p>
                     </li>
                     <li>
                        <p><a href="rman-backup-concepts.html#GUID-C55C7DC1-57DB-4E6B-B56E-006C8472054A" title="If you configure a fast recovery area, then the database uses an internal algorithm to select files in the fast recovery area that are no longer needed to meet the configured retention policy.">About Backup Retention Policy and Fast Recovery Area Deletion Rules</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV209"></a><a id="BRADV608"></a><a id="BRADV89502"></a><div class="props_rev_3"><a id="GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED" name="GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED"></a><h4 id="BRADV-GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED" class="sect4"><span class="enumeration_section">8.10.1 </span>About the Recovery Window
                  </h4>
                  <div>
                     <p>A recovery window is a period that begins with the current time and extends backward in time to the point of recoverability. The point of recoverability is the earliest time for a hypothetical point-in-time recovery, that is, the earliest point to which you can recover following a media failure.</p>
                     <p>For example, if you implement a recovery window of 1 week, then RMAN retains full backups and required incremental backups and archived logs so that the database can be recovered up to 7 days in the past. You implement this retention policy as follows:</p><pre class="pre codeblock"><code>CONFIGURE RETENTION POLICY TO RECOVERY WINDOW OF 7 DAYS;
</code></pre><p>This command ensures that for each data file, one backup that is older than the point of recoverability is retained. For example, if the recovery window is <code class="codeph">7</code>, then there must always exist one backup of each data file that satisfies the following condition:
                     </p><pre class="pre codeblock"><code>SYSDATE - BACKUP CHECKPOINT TIME &gt;= 7
</code></pre><p>All backups older than the most recent backup that satisfied this condition are obsolete.</p>
                     <p>Assume the retention policy illustrated in <a href="rman-backup-concepts.html#GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED__I1018027">Figure 8-4</a>. The retention policy has the following aspects:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The recovery window is 7 days.</p>
                        </li>
                        <li>
                           <p>Database backups are scheduled every two weeks on these days:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>January 1</p>
                              </li>
                              <li>
                                 <p>January 15</p>
                              </li>
                              <li>
                                 <p>January 29</p>
                              </li>
                              <li>
                                 <p>February 12</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The database runs in <code class="codeph">ARCHIVELOG</code> mode, and archived logs are saved on disk only if needed for the retention policy.
                           </p>
                        </li>
                     </ul>
                     <div class="figure" id="GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED__I1018027">
                        <p class="titleinfigure">Figure 8-4 Recovery Window, Part 1</p><img src="img/bradv004.png" alt="Description of Figure 8-4 follows" title="Description of Figure 8-4 follows" longdesc="img_text/bradv004.html"><br><a href="img_text/bradv004.html">Description of "Figure 8-4 Recovery Window, Part 1"</a></div>
                     <!-- class="figure" -->
                     <p>As illustrated in <a href="rman-backup-concepts.html#GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED__I1018027">Figure 8-4</a>, the current time is January 23 and the point of recoverability is January 16. Hence, the January 15 backup is needed for recovery, and so are the archived logs from log sequence 500 through 850. The logs before 500 and the January 1 backup are obsolete because they are not needed for recovery to a point within the window.
                     </p>
                     <p>Assume the same scenario a week later, as depicted in <a href="rman-backup-concepts.html#GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED__I1018028">Figure 8-5</a>.
                     </p>
                     <div class="figure" id="GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED__I1018028">
                        <p class="titleinfigure">Figure 8-5 Recovery Window, Part 2</p><img src="img/bradv002.png" alt="Description of Figure 8-5 follows" title="Description of Figure 8-5 follows" longdesc="img_text/bradv002.html"><br><a href="img_text/bradv002.html">Description of "Figure 8-5 Recovery Window, Part 2"</a></div>
                     <!-- class="figure" -->
                     <p>In this scenario, the current time is January 30 and the point of recoverability is January 23. Note how the January 15 backup is <span class="italic">not</span> obsolete even though a more recent backup (January 29) exists in the recovery window. This situation occurs because restoring the January 29 backup does not enable you to recover to the earliest time in the window, January 23. To ensure recoverability to any point in the window, you must save the January 15 backup and all archived logs from sequence 500 to 1150.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A2C982AA-5385-4A45-B0D4-20C1CEFE3DED__GUID-E17A29E0-6A1B-45B3-9C68-A3F61AEF6AF6">
                        <p class="notep1">See Also:</p>
                        <p><a href="configuring-rman-client-basic.html#GUID-95ABBB30-713E-4781-B5C3-6ADBEB658DE3" title="The RECOVERY WINDOW parameter of the CONFIGURE command specifies the number of days between the current time and the earliest point of recoverability.">Configuring a Recovery Window-Based Retention Policy</a></p>
                     </div>
                  </div>
               </div><a id="BRADV89503"></a><div class="props_rev_3"><a id="GUID-5AA05D2C-79E0-4BE7-8834-F0DB40186EB9" name="GUID-5AA05D2C-79E0-4BE7-8834-F0DB40186EB9"></a><h4 id="BRADV-GUID-5AA05D2C-79E0-4BE7-8834-F0DB40186EB9" class="sect4"><span class="enumeration_section">8.10.2 </span>About Backup Redundancy
                  </h4>
                  <div>
                     <p>In some cases using a recovery window can complicate disk space planning because the number of backups that must be retained is not constant and depends on the backup schedule. In contrast, a redundancy-based retention policy specifies how many backups of each data file must be retained. </p>
                     <p>For example, you can configure a redundancy of 2 as follows:</p><pre class="pre codeblock"><code>CONFIGURE RETENTION POLICY TO REDUNDANCY 2;
</code></pre><p>The default retention policy is configured to <code class="codeph">REDUNDANCY</code> <code class="codeph">1</code>. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-5AA05D2C-79E0-4BE7-8834-F0DB40186EB9__GUID-D1B32A62-734C-48E6-B67C-6B2E43D02001">
                        <p class="notep1">See Also:</p>
                        <p><a href="configuring-rman-client-basic.html#GUID-E9AEAC34-6C40-40A1-BAF5-3EAE20417715" title="The REDUNDANCY parameter of the CONFIGURE RETENTION POLICY command specifies how many full or level 0 backups of each data file and control file that RMAN keeps. The default retention policy is REDUNDANCY 1.">Configuring a Redundancy-Based Retention Policy</a></p>
                     </div>
                  </div>
               </div><a id="BRADV89504"></a><div class="props_rev_3"><a id="GUID-52F6659C-BA57-400F-8E61-4FD5E18AFB4A" name="GUID-52F6659C-BA57-400F-8E61-4FD5E18AFB4A"></a><h4 id="BRADV-GUID-52F6659C-BA57-400F-8E61-4FD5E18AFB4A" class="sect4"><span class="enumeration_section">8.10.3 </span>About Batch Deletes of Obsolete Backups
                  </h4>
                  <div>
                     <p>You can run the <code class="codeph">REPORT OBSOLETE</code> command to determine which backups are currently obsolete according to the retention policy. 
                     </p>
                     <p>A companion command, <code class="codeph">DELETE OBSOLETE</code>, deletes all files that are obsolete according to the retention policy. You can run <code class="codeph">DELETE OBSOLETE</code> periodically to minimize space wasted by storing obsolete backups. For example, you can run <code class="codeph">DELETE OBSOLETE</code> in a weekly script.
                     </p>
                     <p>You can also override the configured retention policy by specifying the <code class="codeph">REDUNDANCY</code> or <code class="codeph">RECOVERY</code> <code class="codeph">WINDOW</code> options on the <code class="codeph">REPORT</code> or <code class="codeph">DELETE</code> commands. Using <code class="codeph">DELETE OBSOLETE</code> with a recovery window shorter than the configured recovery window effectively reduces the window of recoverability. For example, if the configured window is 14 days, but you execute <code class="codeph">DELETE OBSOLETE RECOVERY WINDOW OF 7 DAYS</code>, then you no longer have the ability to recover to a time between 7 and 14 days ago.
                     </p>
                     <div class="infoboxnotealso" id="GUID-52F6659C-BA57-400F-8E61-4FD5E18AFB4A__GUID-EA814556-9A91-4E69-91ED-457FA7107112">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="reporting-rman-operations.html#GUID-550638CC-0D16-4B1A-83C7-5D10181DC7C1" title="As part of your backup and recovery strategy, you should periodically run reports that indicate what you have backed up. You can determine which data files need backups or which files were not backed up recently. Also, you can preview which backups RMAN must restore if a problem occurs.RMAN stores metadata of every database on which it performs operations.In a Data Guard environment, you can use the LIST, REPORT, and SHOW commands just as you can when not using Data Guard. You can run these commands with the FOR DB_UNIQUE_NAME clause to show the backups associated with a specified database. The LIST command uses the information in the RMAN repository to provide lists of backups and other objects relating to backup and recovery. The primary purpose of the LIST command is to list backup and copies. Specify the desired objects with the listObjList or recordSpec clause. If you do not specify an object, then RMAN displays copies of all database files and archived redo log files.You can specify several different conditions to narrow your LIST output.Use the LIST command to list preplugin backups and preplugin archived redo log files.Each time an OPEN RESETLOGS operation is performed on a database, this operation creates a new incarnation of the database.The RMAN REPORT command analyzes the available backups and your database. The REPORT command provides various reports of RMAN backups.Use the REPORT NEED BACKUP command to determine which database files need backup under a specific retention policy. You can use options of the REPORT NEED BACKUP command to specify different retention policies.The REPORT NEED BACKUP command can check the entire database, skip specified tablespaces, or check only specific tablespaces or data files against different retention policies.You can limit the backups tested by the REPORT NEED BACKUP command to disk-based or tape-based backups only.When a data file has been changed by an unrecoverable operation, such as a direct load insert, normal media recovery cannot be used to recover the file, because an unrecoverable operation does not generate redo. You must perform either a full or incremental backup of affected data files after such operations, to ensure that data blocks affected by the unrecoverable operation can be recovered using RMAN.You can report backup sets, backup pieces, and data file copies that are obsolete that is, not needed to meet a specified retention policy by specifying the OBSOLETE keyword. The REPORT SCHEMA command lists and displays information about the database files, tablespaces, and so on. You can view reports on the metadata related to a multitenant container database (CDB), the root only, or one or more pluggable databases (PDBs). Use the LIST command with the GUID option to list backups of pluggable databases (PDBs) that have been dropped from a multitenant container database (CDB).In some cases, V$ views supply information that is not available through use of the LIST and REPORT commands. An RMAN job is the set of commands executed within an RMAN session. Thus, one RMAN job can contain multiple commands. The ENCRYPTED column of the V$BACKUP_PIECE and V$RMAN_BACKUP_PIECE views indicates whether a backup piece is encrypted (YES) or unencrypted (NO).The LIST, REPORT, and SHOW commands provide the easiest means of accessing the data in the control file and the recovery catalog. RMAN obtains backup and recovery metadata from a target database control file and stores it in the tables of the recovery catalog. The recovery catalog views are derived from these tables. The recovery catalog views are not normalized or optimized for user queries.Most recovery catalog views contain the columns DB_KEY and DBINC_KEY. Each database registered in the recovery catalog can be uniquely identified by either the primary key, which is the DB_KEY column value, or the DBID, which is the 32-bit unique database identifier. Each incarnation of a database is uniquely identified by the DBINC_KEY column.Special considerations apply when querying the recovery catalog in a Data Guard environment. The DB_KEY value, which is the primary key for a registered database, is used only in the recovery catalog. The easiest way is to obtain the DB_KEY is to use the DBID of the target database, which is displayed whenever you connect RMAN to a database as TARGET. You can query the view RC_BACKUP_FILES for information about all backups of any database registered in the recovery catalog. Before querying RC_BACKUP_FILES, however, you must call the DBMS_RCVMAN.SETDATABASE procedure.">Reporting on RMAN Operations</a>to learn how to generate reports and delete backups
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=RCMRF121" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">DELETE</code> syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="../rcmrf/REPORT.html#RCMRF147" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">REPORT</code> syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV89505"></a><div class="props_rev_3"><a id="GUID-C55C7DC1-57DB-4E6B-B56E-006C8472054A" name="GUID-C55C7DC1-57DB-4E6B-B56E-006C8472054A"></a><h4 id="BRADV-GUID-C55C7DC1-57DB-4E6B-B56E-006C8472054A" class="sect4"><span class="enumeration_section">8.10.4 </span>About Backup Retention Policy and Fast Recovery Area Deletion Rules
                  </h4>
                  <div>
                     <p>If you configure a fast recovery area, then the database uses an internal algorithm to select files in the fast recovery area that are no longer needed to meet the configured retention policy. </p>
                     <p>The retention policy is never violated when determining which files to delete from the fast recovery area to satisfy the disk quota rules. These backups have status <code class="codeph">OBSOLETE</code> and are eligible for deletion to satisfy the <a href="glossary.html#GUID-925AC655-2953-4F1F-9E5A-F8EA6D9DA552"><span class="xrefglossterm">disk quota</span></a> rules.
                     </p>
                     <p>The RMAN status <code class="codeph">OBSOLETE</code> is always determined in reference to a retention policy. For example, if a database backup is considered <code class="codeph">OBSOLETE</code> in the RMAN repository, then it is because it is either not needed for recovery to a point within the recovery window, or it is redundant.
                     </p>
                     <p>There is one important difference between the fast recovery area rules for <code class="codeph">OBSOLETE</code> status and the disk quota rules for deletion eligibility. Assume that archived logs 1000 through 2000, which are on disk, are needed for the current recovery window and so are not obsolete. If you back up these logs to tape, then the retention policy considers the disk logs as required, that is, not obsolete. Nevertheless, the fast recovery area disk quota algorithm considers the logs on disk as eligible for deletion because they have been backed up to tape. The logs on disk do not have <code class="codeph">OBSOLETE</code> status in the repository, but they are eligible for deletion by the fast recovery area. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-C55C7DC1-57DB-4E6B-B56E-006C8472054A__GUID-445086E2-9643-4162-AA09-F83404107818">
                        <p class="notep1">See Also:</p>
                        <p><a href="maintaining-rman-backups.html#GUID-2D7B9EF4-C306-4377-82F2-DDE3549FB63C" title="RMAN uses certain rules to determine when files can be deleted from the fast recovery area.">Deletion Rules for the Fast Recovery Area</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03444.synchronous-refresh.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Synchronous Refresh</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Warehousing Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Warehousing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96243-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="refreshing-materialized-views.html" title="Previous" type="text/html">
      <link rel="next" href="monitoring-materialized-view-refresh.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide">
    <meta name="dcterms.isVersionOf" content="DWHSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="refreshing-materialized-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="monitoring-materialized-view-refresh.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Warehousing Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-optimizing-dw.html" property="item" typeof="WebPage"><span property="name">Optimizing Data Warehouses</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Synchronous Refresh</li>
            </ol>
            <a id="GUID-14730F6C-D96D-4AA3-A91E-9FBF456EC889" name="GUID-14730F6C-D96D-4AA3-A91E-9FBF456EC889"></a>
            
            <h2 id="DWHSG-GUID-14730F6C-D96D-4AA3-A91E-9FBF456EC889" class="sect2"><span class="enumeration_chapter">8 </span>Synchronous Refresh
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This cha<a id="d34570e19" class="indexterm-anchor"></a><a id="d34570e23" class="indexterm-anchor"></a><a id="d34570e27" class="indexterm-anchor"></a><a id="d34570e29" class="indexterm-anchor"></a><a id="d34570e31" class="indexterm-anchor"></a>pter describes a method to synchronize changes to the tables and materialized views in a data warehouse. This method is based on synchronizing updates to tables and materialized views, and is called synchronous refresh.
               </p>
               <p>This chapter includes the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="synchronous-refresh.html#GUID-01C7861A-8A84-4ECE-9BBF-716FB5D20113">About Synchronous Refresh for Materialized Views</a></p>
                  </li>
                  <li>
                     <p><a href="synchronous-refresh.html#GUID-8C78842C-8A78-4206-A303-7B74B8803A1C">Using Synchronous Refresh for Materialized Views</a></p>
                  </li>
                  <li>
                     <p><a href="synchronous-refresh.html#GUID-D393EB28-D659-4A0C-8BD8-B174262A27C0">Using Synchronous Refresh Groups</a></p>
                  </li>
                  <li>
                     <p><a href="synchronous-refresh.html#GUID-5C15E4A2-75FD-4B87-AD20-CE749676CE65">Specifying and Preparing Change Data for Synchronous Refresh</a></p>
                  </li>
                  <li>
                     <p><a href="synchronous-refresh.html#GUID-AEEB3AAA-BB56-4D8D-9F33-181F12E97AD6">Troubleshooting Synchronous Refresh Operations</a></p>
                  </li>
                  <li>
                     <p><a href="synchronous-refresh.html#GUID-9E57C982-149A-4C0C-AB9C-3F8A3F4CE2E3">Performing Synchronous Refresh Eligibility Analysis</a></p>
                  </li>
                  <li>
                     <p><a href="synchronous-refresh.html#GUID-DC8054E4-FC5E-4DF1-8484-595562EA70CB">Overview of Synchronous Refresh Security Considerations</a></p>
                  </li>
               </ul>
            </div><a id="DWHSG9083"></a><div class="props_rev_3"><a id="GUID-01C7861A-8A84-4ECE-9BBF-716FB5D20113" name="GUID-01C7861A-8A84-4ECE-9BBF-716FB5D20113"></a><h3 id="DWHSG-GUID-01C7861A-8A84-4ECE-9BBF-716FB5D20113" class="sect3"><span class="enumeration_section">8.1 </span>About Synchronous Refresh for Materialized Views
               </h3>
               <div>
                  <p>Synchronous refresh is a refresh method introduced in Oracle Database 12<span class="italic">c</span> Release 1 that enables you to keep a set of tables and the materialized views defined on them to be always in sync. It is well-suited for data warehouses, where the loading of incremental data is tightly controlled and occurs at periodic intervals.
                  </p>
                  <p>In most data warehouses, the fact tables are partitioned along the time dimension and, very often, the incremental data load consists mainly of changes to recent time periods. Synchronous refresh exploits these characteristics to greatly improve refresh performance and throughput. This results in fast query performance for both planned and ad hoc queries, which is key to a successful data warehouse.</p>
                  <p>This section describes the main requirements and basic concepts of synchronous refresh, and includes the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-50E3A936-A1A2-4C25-A304-D4854A5AB13D">What Is Synchronous Refresh?</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-B7C9CD15-A741-4F9F-ACE3-375128958EAA">Why Use Synchronous Refresh?</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-2C51B6A4-ECA7-41C9-9356-DC1145D0318B">Registering Tables and Materialized Views for Synchronous Refresh</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-DF69A4CD-ABAD-4195-AEA6-B34C26E426DF">Specifying Change Data for Refresh</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-6107A6D9-4A8C-4D72-9631-060CE2E6AEEF">Synchronous Refresh Preparation and Execution</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-9CB3EDE1-25F6-4B04-9E35-572DD86F620F">Materialized View Eligibility Rules and Restrictions for Synchronous Refresh</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9283"></a><div class="props_rev_3"><a id="GUID-50E3A936-A1A2-4C25-A304-D4854A5AB13D" name="GUID-50E3A936-A1A2-4C25-A304-D4854A5AB13D"></a><h4 id="DWHSG-GUID-50E3A936-A1A2-4C25-A304-D4854A5AB13D" class="sect4"><span class="enumeration_section">8.1.1 </span>What Is Synchronous Refresh?
                  </h4>
                  <div>
                     <p>Synchronous refresh is a new approach for maintaining tables and materialized views in a data warehouse where tables and materialized views are refreshed at the same time. In traditional refresh methods, the changes are applied to the base tables and the materialized views are refreshed separately with one of the following refresh methods:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Log-based incremental (fast) refresh using materialized view logs if such logs are available</p>
                        </li>
                        <li>
                           <p>PCT refresh if it is applicable</p>
                        </li>
                        <li>
                           <p>Complete refresh</p>
                        </li>
                     </ul>
                     <p>Synchronous refresh combines some elements of log-based incremental (fast) refresh and PCT refresh methods, but it is applicable only to <code class="codeph">ON</code> <code class="codeph">DEMAND</code> materialized views, unlike the other two methods. There are three major differences between it and the other refresh methods:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Synchronous refresh requires you to register the tables and materialized views.</p>
                        </li>
                        <li>
                           <p>Synchronous refresh requires you to specify changes to the data according to some formally specified rules.</p>
                        </li>
                        <li>
                           <p>Synchronous refresh works by dividing the refresh operation into two steps: preparation and execution. This approach provides some important advantages over the other methods, such as better performance and more control.</p>
                        </li>
                     </ul>
                     <p>Synchronous refresh APIs are defined in a new package called <code class="codeph">DBMS_SYNC_REFRESH</code>. For more information about this package, see <a href="../arpls/DBMS_SYNC_REFRESH.html#ARPLS73623" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>.
                     </p>
                  </div>
               </div><a id="DWHSG9085"></a><div class="props_rev_3"><a id="GUID-B7C9CD15-A741-4F9F-ACE3-375128958EAA" name="GUID-B7C9CD15-A741-4F9F-ACE3-375128958EAA"></a><h4 id="DWHSG-GUID-B7C9CD15-A741-4F9F-ACE3-375128958EAA" class="sect4"><span class="enumeration_section">8.1.2 </span>Why Use Synchronous Refresh?
                  </h4>
                  <div>
                     <p>Synchronous refresh offers the following advantages over traditional types of methods used to refresh materialized views in a data warehouse:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It coordinates the loading of the changes into the base tables with the extremely efficient refresh of the dependent materialized views themselves.</p>
                        </li>
                        <li>
                           <p>It decreases the time materialized views are not available to be used by the Optimizer to rewrite queries.</p>
                        </li>
                        <li>
                           <p>It is well-suited for a wide class of materialized views (materialized aggregate views and materialized join views) commonly used in data warehouses. It does require the materialized views be partitioned as well as the fact tables, and if materialized views are not currently partitioned, they can be efficiently partitioned to take advantage of synchronous refresh.</p>
                        </li>
                        <li>
                           <p>It fully exploits partitioning and the nature of the data warehouse load cycle to guarantee synchronization between the materialized view and the base table throughout the refresh procedure.</p>
                        </li>
                        <li>
                           <p>In a typical data warehouse, data preparation consists of extracting the data from one or more sources, cleansing, and formatting it for consistency, and transforming into the data warehouse schema. The data preparation area is called the staging area and the base tables in a data warehouse are loaded from the tables in the staging area. The synchronous refresh method fits into this model because it allows you to load change data into the staging logs.</p>
                        </li>
                        <li>
                           <p>The staging logs play the same role as materialized view logs in the conventional fast refresh method. There is, however, an important difference. In the conventional fast refresh method, the base table is first updated and the changes are then applied from the materialized view log to the materialized views. But in the synchronous refresh method, the changes from the staging log are applied to refresh the materialized views while also being applied to the base tables.</p>
                        </li>
                        <li>
                           <p>Most materialized views in a data warehouse typically employ a star or snowflake schema with fact and dimension tables joined in a foreign key to primary key relationship. The synchronous refresh method can handle both schemas in all possible change data load scenarios, ranging from rows being added to only the fact table, to arbitrary changes to the fact and dimension tables.</p>
                        </li>
                        <li>
                           <p>Instead of providing the change load data in the staging logs, you have a choice of directly providing the change data in the form of outside tables containing the data to be exchanged with the affected partition in the base table. This capability is provided by the <code class="codeph">REGISTER_PARTITION_OPERATION</code> procedure in the <code class="codeph">DBMS_SYNC_REFRESH</code> package.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9086"></a><div class="props_rev_3"><a id="GUID-2C51B6A4-ECA7-41C9-9356-DC1145D0318B" name="GUID-2C51B6A4-ECA7-41C9-9356-DC1145D0318B"></a><h4 id="DWHSG-GUID-2C51B6A4-ECA7-41C9-9356-DC1145D0318B" class="sect4"><span class="enumeration_section">8.1.3 </span>Registering Tables and Materialized Views for Synchronous Refresh
                  </h4>
                  <div>
                     <div class="section">
                        <p>Before actually performing synchronous refresh, you must register the appropriate tables and materialized views. Synchronous refresh provides these methods to register tables and materialized views:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Tables are registered with synchronous refresh by creating a <span class="bold">staging</span> <span class="bold">log</span> on them. A staging log is created with the <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> <code class="codeph">LOG</code> statement whose syntax has been extended in this release to create staging logs as well as the familiar materialized view logs used for the traditional incremental refresh. After you create a staging log on a table, it is deemed to be registered with synchronous refresh and can be modified only by using the synchronous refresh procedures. In other words, a table with a staging log defined on it is registered with synchronous refresh and cannot be modified directly by the user.
                              </p>
                           </li>
                           <li>
                              <p>Materialized views are registered with synchronous refresh using the <code class="codeph">REGISTER_MVIEWS</code> procedure in the <code class="codeph">DBMS_SYNC_REFRESH</code> package. The <code class="codeph">REGISTER_MVIEWS</code> procedure implicitly creates groups of related objects called sync refresh groups. A <span class="bold">sync</span> <span class="bold">refresh</span> <span class="bold">group</span> consists of all related materialized views and tables that must be refreshed together as a single entity because they are dependent on one another.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-2C51B6A4-ECA7-41C9-9356-DC1145D0318B__GUID-03226C2E-7F1E-403B-BA42-EC1328B1EB5C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/CREATE-MATERIALIZED-VIEW-LOG.html#SQLRF01303" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> <code class="codeph">LOG</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SYNC_REFRESH.html#ARPLS73623" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_SYNC_REFRESH</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9087"></a><div class="props_rev_3"><a id="GUID-DF69A4CD-ABAD-4195-AEA6-B34C26E426DF" name="GUID-DF69A4CD-ABAD-4195-AEA6-B34C26E426DF"></a><h4 id="DWHSG-GUID-DF69A4CD-ABAD-4195-AEA6-B34C26E426DF" class="sect4"><span class="enumeration_section">8.1.4 </span>Specifying Change Data for Refresh
                  </h4>
                  <div>
                     <div class="section">
                        <p>In the other refresh methods, you can directly modify the base tables of the materialized view, and the issue of specifying change data does not arise. But with synchronous refresh, you are required to specify and prepare the change data according to certain formally specified rules and using APIs provided by the <code class="codeph">DBMS_SYNC_REFRESH</code> package.
                        </p>
                        <p>There are two ways to specify the change data:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Provide the change data in an outside table and register it with the <code class="codeph">REGISTER_PARTITION_OPERATION</code> procedure.
                              </p>
                              <p>See <span class="q">"<a href="synchronous-refresh.html#GUID-DA9C2503-832C-49A0-BCC6-3A0B35F397E1">Working with Partition Operations While Capturing Change Data for Synchronous Refresh</a>"</span> for more details.
                              </p>
                           </li>
                           <li>
                              <p>Provide the change data by in staging logs and process them with the <code class="codeph">PREPARE_STAGING_LOG</code> procedure. The format of the staging logs and rules for populating are described in <span class="q">"<a href="synchronous-refresh.html#GUID-E93084C2-BC19-4007-8F7F-D16FE72030E6">Working with Staging Logs While Capturing Change Data for Synchronous Refresh</a>"</span>. You are required to run the <code class="codeph">PREPARE_STAGING_LOG</code> procedure for every table before performing the refresh operation on that table.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9088"></a><div class="props_rev_3"><a id="GUID-6107A6D9-4A8C-4D72-9631-060CE2E6AEEF" name="GUID-6107A6D9-4A8C-4D72-9631-060CE2E6AEEF"></a><h4 id="DWHSG-GUID-6107A6D9-4A8C-4D72-9631-060CE2E6AEEF" class="sect4"><span class="enumeration_section">8.1.5 </span>Synchronous Refresh Preparation and Execution
                  </h4>
                  <div>
                     <div class="section">
                        <p>After preparing the change data, you can perform the actual refresh operation. Synchronous refresh takes a new approach to refresh execution. It works by dividing the refresh operation into two steps: preparation and execution. This is one of the main differences between it and the other refresh methods and provides some important benefits.</p>
                        <p>The preparation step determines the mapping between the fact table partitions and the materialized view partitions. This step computes the new tables corresponding only to the partitions of the fact table that have been changed by the incremental change data load. After these tables, called <span class="bold">outside</span> <span class="bold">tables</span>, have been computed, the actual execution of the refresh operation takes place in the execution step, which consists of just exchanging the outside tables with the corresponding partitions in the fact table or materialized view.
                        </p>
                        <p>By dividing the refresh execution step into two phases and providing separate procedures for them, synchronous refresh not only provides you control over the refresh execution process, but also improves overall system performance. It does this by minimizing the time the materialized views are not available for use by direct access or the Optimizer because they are modified by the refresh process. During the preparation phase, the materialized view and its tables are not modified because at this time all the refresh changes are recorded in the outside table. Consequently, the materialized view is available to any query that needs to read them. It is only during execution that the tables and materialized views are modified. Execution performance is mainly affected by the number of changes to the dimension tables; if this number is small, then the performance should be very good because the exchange partition operations are themselves very fast.</p>
                        <p>The <code class="codeph">DBMS_SYNC_REFRESH</code> package provides the <code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code> procedures to perform these two steps.
                        </p>
                        <div class="infoboxnotealso" id="GUID-6107A6D9-4A8C-4D72-9631-060CE2E6AEEF__GUID-8DEC7708-4D30-43D2-B120-D4009470C9AE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_SYNC_REFRESH.html#ARPLS73623" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9090"></a><div class="props_rev_3"><a id="GUID-9CB3EDE1-25F6-4B04-9E35-572DD86F620F" name="GUID-9CB3EDE1-25F6-4B04-9E35-572DD86F620F"></a><h4 id="DWHSG-GUID-9CB3EDE1-25F6-4B04-9E35-572DD86F620F" class="sect4"><span class="enumeration_section">8.1.6 </span>Materialized View Eligibility Rules and Restrictions for Synchronous Refresh
                  </h4>
                  <div>
                     <p>The primary requirement for a materialized view to be eligible for synchronous refresh is that the materialized view must be partitioned with a key that can be derived from the partition key of its fact table. The following sections describe the other requirements for eligibility for synchronous refresh.</p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-2A769373-2083-470A-A479-57A349731F74">Synchronous Refresh Restrictions: Partitioning</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-860B7F23-63B2-4201-AABE-7D1EBD7BF5E6">Synchronous Refresh Restrictions: Refresh Options</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-4A2FE559-E04E-4220-A1E9-9F264C4F6304">Synchronous Refresh Restrictions: Constraints</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-9EFEDAE2-38D3-4F51-A531-4661CE090566">Synchronous Refresh Restrictions: Tables</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-3075EC55-67F5-42CF-BDBF-126D8F2A9AD2">Synchronous Refresh Restrictions: Materialized Views</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-50F75F56-0AC1-4253-A3E9-DB4B807014A8">Synchronous Refresh Restrictions: Materialized Views with Aggregates</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9091"></a><div class="props_rev_3"><a id="GUID-2A769373-2083-470A-A479-57A349731F74" name="GUID-2A769373-2083-470A-A479-57A349731F74"></a><h5 id="DWHSG-GUID-2A769373-2083-470A-A479-57A349731F74" class="sect5"><span class="enumeration_section">8.1.6.1 </span>Synchronous Refresh Restrictions: Partitioning
                     </h5>
                     <div>
                        <div class="section">
                           <p>There are two key requirements to use synchronous refresh:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The materialized view must be partitioned along the same dimension as the fact table.</p>
                              </li>
                              <li>
                                 <p>The partition key of the fact table should functionally determine the partition key of the materialized view.</p>
                              </li>
                           </ul>
                           <p>The term <span class="italic">functionally</span> <span class="italic">determine</span> means the partition key of the materialized view can be derived from the partition key of the fact table based on a foreign key constraint relationship. This condition is satisfied if the partition key of the materialized view is the same as that for the fact table or related by joins from the fact table to the dimension table as in a star or snowflake schema. For example, if the fact table is partitioned by a date column, such as <code class="codeph">TIME_KEY</code>, the materialized view can be partitioned by <code class="codeph">TIME_KEY</code>, <code class="codeph">MONTH</code>, or <code class="codeph">YEAR</code>.
                           </p>
                           <p>Synchronous refresh supports two types of partitioning on fact tables and materialized views: range partitioning and composite partitioning, when the top-level partitioning type is range.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG9092"></a><div class="props_rev_3"><a id="GUID-860B7F23-63B2-4201-AABE-7D1EBD7BF5E6" name="GUID-860B7F23-63B2-4201-AABE-7D1EBD7BF5E6"></a><h5 id="DWHSG-GUID-860B7F23-63B2-4201-AABE-7D1EBD7BF5E6" class="sect5"><span class="enumeration_section">8.1.6.2 </span>Synchronous Refresh Restrictions: Refresh Options
                     </h5>
                     <div>
                        <div class="section">
                           <p>When you define a materialized view, you can specify three refresh options: how to refresh; whether trusted constraints can be used; and what type of refresh is to be performed. If unspecified, the defaults are assumed to be <code class="codeph">ON</code> <code class="codeph">DEMAND</code>, <code class="codeph">ENFORCED</code> constraints, and <code class="codeph">FORCE</code> respectively. Synchronous refresh requires that the first two of these options must have the values <code class="codeph">ON</code> <code class="codeph">DEMAND</code> and <code class="codeph">TRUSTED</code> constraints respectively. Synchronous refresh does not require the type of refresh to have any specific value, so it can be <code class="codeph">FAST</code>, <code class="codeph">FORCE</code>, or <code class="codeph">COMPLETE</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG9093"></a><div class="props_rev_3"><a id="GUID-4A2FE559-E04E-4220-A1E9-9F264C4F6304" name="GUID-4A2FE559-E04E-4220-A1E9-9F264C4F6304"></a><h5 id="DWHSG-GUID-4A2FE559-E04E-4220-A1E9-9F264C4F6304" class="sect5"><span class="enumeration_section">8.1.6.3 </span>Synchronous Refresh Restrictions: Constraints
                     </h5>
                     <div>
                        <div class="section">
                           <p>The relationships between the fact and dimension tables are declared by foreign and primary key constraints on the tables. Synchronous refresh trusts these constraints to perform the refresh, and requires that <code class="codeph">USING</code> <code class="codeph">TRUSTED</code> <code class="codeph">CONSTRAINTS</code> must be specified in the materialized view definition. This allows using nonvalidated <code class="codeph">RELY</code> constraints and rewriting against materialized views in an <code class="codeph">UNKNOWN</code> or <code class="codeph">FRESH</code> state during refresh.
                           </p>
                           <p>When a table is registered for synchronous refresh, its constraints might be in a <code class="codeph">VALIDATE</code> or <code class="codeph">NOVALIDATE</code> state. If the table is a dimension table, synchronous refresh will retain this state during the refresh execution process.
                           </p>
                           <p>However, if the table is a fact table, synchronous refresh marks the constraints <code class="codeph">NOVALIDATE</code> state during refresh execution. This avoids the need for validating the constraint on existing data during a partition exchange that is the basis of the synchronous refresh method, and improves the performance of refresh execution.
                           </p>
                           <p>Because the constraints on the fact table are not enforced by synchronous refresh, it is you who must verify the integrity and consistently of the data provided.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG9094"></a><div class="props_rev_3"><a id="GUID-9EFEDAE2-38D3-4F51-A531-4661CE090566" name="GUID-9EFEDAE2-38D3-4F51-A531-4661CE090566"></a><h5 id="DWHSG-GUID-9EFEDAE2-38D3-4F51-A531-4661CE090566" class="sect5"><span class="enumeration_section">8.1.6.4 </span>Synchronous Refresh Restrictions: Tables
                     </h5>
                     <div>
                        <div class="section">
                           <p>To be eligible for synchronous refresh, a table must satisfy the following conditions:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The table cannot have VPD or triggers defined on it.</p>
                              </li>
                              <li>
                                 <p>The table cannot have any <code class="codeph">RAW</code> type.
                                 </p>
                              </li>
                              <li>
                                 <p>The table cannot be remote.</p>
                              </li>
                              <li>
                                 <p>The staging log key of each table registered for synchronous refresh should satisfy the requirements described in <span class="q">"<a href="synchronous-refresh.html#GUID-44BDEF00-DB5A-4F28-8E2E-D99CEA905F9A">About the Staging Log Key</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG9095"></a><div class="props_rev_2"><a id="GUID-3075EC55-67F5-42CF-BDBF-126D8F2A9AD2" name="GUID-3075EC55-67F5-42CF-BDBF-126D8F2A9AD2"></a><h5 id="DWHSG-GUID-3075EC55-67F5-42CF-BDBF-126D8F2A9AD2" class="sect5"><span class="enumeration_section">8.1.6.5 </span>Synchronous Refresh Restrictions: Materialized Views
                     </h5>
                     <div>
                        <div class="section">
                           <p>There are some other restrictions that are specific to materialized views registered for synchronous refresh:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">ROWID</code> column cannot be used to define the query. It is not relevant because it uses partition exchange, which replaces the original partition with the outside table. Hence, the defining query should not include any <code class="codeph">ROWID</code> columns.
                                 </p>
                              </li>
                              <li>
                                 <p>Synchronous refresh does not support nested materialized views, <code class="codeph">UNION</code> <code class="codeph">ALL</code> materialized views, subqueries, or complex queries in the materialized view definition. The defining query must conform to the star or snowflake schema.
                                 </p>
                              </li>
                              <li>
                                 <p>These SQL constructs are also not supported: analytic window functions (such as <code class="codeph">RANK</code>), the <code class="codeph">MODEL</code> clause, and the <code class="codeph">CONNECT</code> <code class="codeph">BY</code> clause.
                                 </p>
                              </li>
                              <li>
                                 <p>Synchronous refresh is not supported for a materialized view that refers to views, remote tables, or outer joins.</p>
                              </li>
                              <li>
                                 <p>The materialized view must not contain references to nonrepeating expressions like <code class="codeph">SYSDATE</code> and <code class="codeph">ROWNUM</code>.
                                 </p>
                              </li>
                           </ul>
                           <p>In general, most restrictions that apply to PCT-refresh, fast refresh, and general query rewrite also apply to synchronous refresh. Those restrictions are available at:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="basic-materialized-views.html#GUID-6A80266B-444E-4BB6-8A48-911E4619338B">About Materialized View Restrictions for Query Rewrite</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="basic-materialized-views.html#GUID-A5409962-E85D-46DD-B34A-820074CA579C">General Query Rewrite Restrictions</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="basic-materialized-views.html#GUID-505C24CF-5D56-4820-88AA-2221410950E7">General Restrictions on Fast Refresh</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG9096"></a><div class="props_rev_3"><a id="GUID-50F75F56-0AC1-4253-A3E9-DB4B807014A8" name="GUID-50F75F56-0AC1-4253-A3E9-DB4B807014A8"></a><h5 id="DWHSG-GUID-50F75F56-0AC1-4253-A3E9-DB4B807014A8" class="sect5"><span class="enumeration_section">8.1.6.6 </span>Synchronous Refresh Restrictions: Materialized Views with Aggregates
                     </h5>
                     <div>
                        <div class="section">
                           <p>For materialized views with aggregates, synchronous refresh shares these restrictions with fast refresh:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Only <code class="codeph">SUM</code>, <code class="codeph">COUNT</code>, <code class="codeph">AVG</code>, <code class="codeph">STDDEV</code>, <code class="codeph">VARIANCE</code>, <code class="codeph">MIN</code>, and <code class="codeph">MAX</code> are supported.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">COUNT(*)</code> must be specified.
                                 </p>
                              </li>
                              <li>
                                 <p>Aggregate functions must occur only as the outermost part of the expression. That is, aggregates such as <code class="codeph">AVG(AVG(x))</code> or <code class="codeph">AVG(x)+ AVG(x)</code> are not allowed.
                                 </p>
                              </li>
                              <li>
                                 <p>For each aggregate, such as <code class="codeph">AVG(expr)</code>, the corresponding <code class="codeph">COUNT(expr)</code> must be present. Oracle recommends that <code class="codeph">SUM(expr)</code> be specified.
                                 </p>
                              </li>
                              <li>
                                 <p>If <code class="codeph">VARIANCE(expr)</code> or <code class="codeph">STDDEV(expr)</code> is specified, <code class="codeph">COUNT(expr)</code> and <code class="codeph">SUM(expr)</code> must be specified. Oracle recommends that <code class="codeph">SUM(expr *expr)</code> be specified.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG9097"></a><div class="props_rev_3"><a id="GUID-8C78842C-8A78-4206-A303-7B74B8803A1C" name="GUID-8C78842C-8A78-4206-A303-7B74B8803A1C"></a><h3 id="DWHSG-GUID-8C78842C-8A78-4206-A303-7B74B8803A1C" class="sect3"><span class="enumeration_section">8.2 </span>Using Synchronous Refresh for Materialized Views
               </h3>
               <div>
                  <div class="section">
                     <p>Synchronous refresh differs from the other refresh methods in a number of ways. One is that the API for synchronous refresh is contained in a new package called <code class="codeph">DBMS_SYNC_REFRESH</code>, whereas other refresh methods are declared in the <code class="codeph">DBMS_MVIEW</code> package. Another difference is that after objects are registered with synchronous refresh, and, once registered, the other refresh methods cannot be used with them.
                     </p>
                     <p>The operations associated with synchronous refresh can be divided into the following three broad phases:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445">Synchronous Refresh Step 1: Registration Phase</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-200D698E-5AB0-4DAD-BBA1-F9FC7998D988">Synchronous Refresh Step 2: Synchronous Refresh Phase</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-03C3D5B9-C16E-4989-BA2C-279D59183162">Synchronous Refresh Step 3: The Unregistration Phase</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DWHSG9099"></a><a id="DWHSG9100"></a><a id="DWHSG9101"></a><a id="DWHSG9098"></a><div class="props_rev_3"><a id="GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445" name="GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445"></a><h4 id="DWHSG-GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445" class="sect4"><span class="enumeration_section">8.2.1 </span>Synchronous Refresh Step 1: Registration Phase
                  </h4>
                  <div>
                     <div class="section">
                        <p>In this phase (<a href="synchronous-refresh.html#GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445__BCGGGBID">Figure 8-1</a>), you register the objects for use with synchronous refresh. The two steps in this phase are registration of tables first and then materialized views. You register the tables (by creating staging logs) and materialized views (with the <code class="codeph">REGISTER_MVIEWS</code> procedure). The staging logs are created with the <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">LOG</code> <code class="codeph"></code> <code class="codeph">FOR</code> <code class="codeph">SYNCHRONOUS</code> <code class="codeph">REFRESH</code> statement. If a table already has a regular materialized view log, the <code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">LOG</code> <code class="codeph"></code> <code class="codeph">FOR</code> <code class="codeph">SYNCHRONOUS</code> <code class="codeph">REFRESH</code> statement can be used to convert it to a staging log.
                        </p>
                        <div class="figure" id="GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445__BCGGGBID">
                           <p class="titleinfigure">Figure 8-1 Registration Phase</p><img src="img/dwhsg_vm_157.png" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/dwhsg_vm_157.html"><br><a href="img_text/dwhsg_vm_157.html">Description of "Figure 8-1 Registration Phase"</a></div>
                        <!-- class="figure" -->
                        <p>You can create a staging log with a statement, as show in <a href="synchronous-refresh.html#GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445__BCGJJBFD">Example 8-1</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445__BCGJJBFD">
                        <p class="titleinexample">Example 8-1 Registering Tables</p><pre class="oac_no_warn" dir="ltr">CREATE MATERIALIZED VIEW LOG ON fact
FOR SYNCHRONOUS REFRESH USING st_fact;
</pre><p>If a table has a materialized view log, you can alter it to a staging log with a statement, such as the following:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED VIEW LOG ON fact
FOR SYNCHRONOUS REFRESH USING st_fact;
</pre><p>You can register a materialized view with a statement, as shown in <a href="synchronous-refresh.html#GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445__BCGCBBIE">Example 8-2</a>.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-79DB80C5-E5F0-4709-B0AB-3F43E68F6445__BCGCBBIE">
                        <p class="titleinexample">Example 8-2 Registering Materialized Views</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.REGISTER_MVIEWS('MV1');
</pre><p>You can register multiple materialized views at one time:</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.REGISTER_MVIEWS('mv2, mv2_year, mv1_halfmonth');</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DWHSG9103"></a><a id="DWHSG9102"></a><div class="props_rev_3"><a id="GUID-200D698E-5AB0-4DAD-BBA1-F9FC7998D988" name="GUID-200D698E-5AB0-4DAD-BBA1-F9FC7998D988"></a><h4 id="DWHSG-GUID-200D698E-5AB0-4DAD-BBA1-F9FC7998D988" class="sect4"><span class="enumeration_section">8.2.2 </span>Synchronous Refresh Step 2: Synchronous Refresh Phase
                  </h4>
                  <div>
                     <div class="section">
                        <p><a href="synchronous-refresh.html#GUID-200D698E-5AB0-4DAD-BBA1-F9FC7998D988__BCGJGEIA">Figure 8-2</a> shows the synchronous refresh phase. This phase can be used repeatedly to perform synchronous refresh. The three main steps in this phase are:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Prepare the change data for the refresh operation. You can provide the change data in a table and register it with the <code class="codeph">REGISTER_PARTITION_OPERATION</code> procedure or provide the data by populating the staging logs. The staging logs must be processed with the <code class="codeph">PREPARE_STAGING_LOG</code> procedure before proceeding to the next step.</span><div>
                              <p>An example is <a href="synchronous-refresh.html#GUID-82DB4858-381A-4F37-8A82-58463B6C57BE__BCGFBBHD">Example 8-12</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Perform the first step of the refresh operation (<code class="codeph">PREPARE_REFRESH</code>). This can potentially be a long-running operation because it prepares and loads the outside tables.</span><div>
                              <p>An example is <a href="synchronous-refresh.html#GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725__BCGCCJFA">Example 8-16</a>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Perform the second and last step of the refresh operation (<code class="codeph">EXECUTE_REFRESH</code>). This usually runs very fast because it usually consists of a series of partition-exchange operations.</span><div>
                              <p>An example is <a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGHDIBJ">Example 8-20</a>.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>In <a href="synchronous-refresh.html#GUID-200D698E-5AB0-4DAD-BBA1-F9FC7998D988__BCGJGEIA">Figure 8-2</a>, solid arrows show the standard control flow and dashed arrows are used for error-handling cases. If either of the refresh operations (<code class="codeph">PREPARE_REFRESH</code> or <code class="codeph">EXECUTE_REFRESH</code>) raises user errors, you use an <code class="codeph">ABORT_REFRESH</code> procedure to restore tables and materialized views to the state that existed before the refresh operation, fix the problem, and retry the refresh operation starting from the beginning.
                        </p>
                        <div class="figure" id="GUID-200D698E-5AB0-4DAD-BBA1-F9FC7998D988__BCGJGEIA">
                           <p class="titleinfigure">Figure 8-2 Refresh Phase</p><img src="img/dwhsg_vm_156.png" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows" longdesc="img_text/dwhsg_vm_156.html"><br><a href="img_text/dwhsg_vm_156.html">Description of "Figure 8-2 Refresh Phase"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9105"></a><a id="DWHSG9106"></a><a id="DWHSG9107"></a><a id="DWHSG9104"></a><div class="props_rev_3"><a id="GUID-03C3D5B9-C16E-4989-BA2C-279D59183162" name="GUID-03C3D5B9-C16E-4989-BA2C-279D59183162"></a><h4 id="DWHSG-GUID-03C3D5B9-C16E-4989-BA2C-279D59183162" class="sect4"><span class="enumeration_section">8.2.3 </span>Synchronous Refresh Step 3: The Unregistration Phase
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you choose to stop using synchronous refresh, then you must unregister the materialized views as shown in <a href="synchronous-refresh.html#GUID-03C3D5B9-C16E-4989-BA2C-279D59183162__BCGFDBDI">Figure 8-3</a>. The materialized views are first unregistered with the <code class="codeph">UNREGISTER_MVIEWS</code> procedure. The tables are then unregistered by either dropping their staging logs or altering the staging logs to ordinary logs. Note that if the staging logs are converted to be ordinary materialized view logs with an <code class="codeph">ALTER</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">LOG</code> <code class="codeph"></code> <code class="codeph">FOR</code> <code class="codeph">FAST</code> <code class="codeph">REFRESH</code> statement, then the materialized views can be maintained with standard fast-refresh methods.
                        </p>
                        <div class="figure" id="GUID-03C3D5B9-C16E-4989-BA2C-279D59183162__BCGFDBDI">
                           <p class="titleinfigure">Figure 8-3 Unregistration Phase</p><img src="img/dwhsg_vm_155.png" alt="Description of Figure 8-3 follows" title="Description of Figure 8-3 follows" longdesc="img_text/dwhsg_vm_155.html"><br><a href="img_text/dwhsg_vm_155.html">Description of "Figure 8-3 Unregistration Phase"</a></div>
                        <!-- class="figure" -->
                        <p><a href="synchronous-refresh.html#GUID-03C3D5B9-C16E-4989-BA2C-279D59183162__BCGBCCBC">Example 8-3</a> illustrates how to unregister the single materialized view <code class="codeph">MV1</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-03C3D5B9-C16E-4989-BA2C-279D59183162__BCGBCCBC">
                        <p class="titleinexample">Example 8-3 Unregister Materialized Views</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.UNREGISTER_MVIEWS('MV1');
</pre><p>You can unregister multiple materialized views at one time:</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.UNREGISTER_MVIEWS('mv2, mv2_year, mv1_halfmonth');
</pre><p>You can verify to see that a materialized view has been unregistered by querying the <code class="codeph">DBA_SR_OBJ_ALL</code> view.
                        </p>
                        <p><a href="synchronous-refresh.html#GUID-03C3D5B9-C16E-4989-BA2C-279D59183162__BCGJCAHB">Example 8-4</a> illustrates how to drop the staging log.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-03C3D5B9-C16E-4989-BA2C-279D59183162__BCGJCAHB">
                        <p class="titleinexample">Example 8-4 Unregister Tables</p><pre class="oac_no_warn" dir="ltr">DROP MATERIALIZED VIEW LOG ON fact;
</pre><p>Or you can alter the table to a materialized view log:</p><pre class="oac_no_warn" dir="ltr">ALTER MATERIALIZED VIEW LOG ON fact
FOR FAST REFRESH;
</pre><p>You can verify to see that a table has been unregistered by querying the <code class="codeph">DBA_SR_OBJ_ALL</code> view.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DWHSG9108"></a><div class="props_rev_3"><a id="GUID-D393EB28-D659-4A0C-8BD8-B174262A27C0" name="GUID-D393EB28-D659-4A0C-8BD8-B174262A27C0"></a><h3 id="DWHSG-GUID-D393EB28-D659-4A0C-8BD8-B174262A27C0" class="sect3"><span class="enumeration_section">8.3 </span>Using Synchronous Refresh Groups
               </h3>
               <div>
                  <p>The distinguishing feature of synchronous refresh is that changes to a table and its materialized views are loaded and refreshed together, hence the name synchronous refresh. For tables and materialized views to be maintained by synchronous refresh, the objects must be registered. Tables are registered for synchronous refresh when staging logs are created on them, and materialized views are registered using the <code class="codeph">REGISTER_MVIEWS</code> procedure.
                  </p>
                  <p>Synchronous refresh supports the refresh of materialized views built on multiple tables, with changes in one or more of them. Tables that are related by constraints must all necessarily be refreshed together to ensure data integrity. Furthermore, it is possible that some of the tables registered for synchronous refresh have several materialized views built on top of them, in which case, all those materialized views must also be refreshed together.</p>
                  <p>Instead of having you keep track of these dependencies, and issue the refresh commands on the right set of tables, Oracle Database automatically generates the minimal sets of tables and materialized views that must necessarily be refreshed together. These sets are termed synchronous refresh groups or just sync refresh groups. Each sync refresh group is identified by a <code class="codeph">GROUP_ID</code>.value.
                  </p>
                  <p>The three procedures related to performing synchronous refresh (<code class="codeph">PREPARE_REFRESH</code>, <code class="codeph">EXECUTE_REFRESH</code> and <code class="codeph">ABORT_REFRESH</code>) take as input either a single group ID or a list of group IDs identifying the sync refresh groups.
                  </p>
                  <p>Each table or materialized view registered for synchronous refresh is assigned a <code class="codeph">GROUP_ID</code> value, which may change over time, if the dependencies among them change. This happens when you issue the <code class="codeph">REGISTER_MVIEWS</code> and <code class="codeph">UNREGISTER_MVIEWS</code> procedures. The examples that follow show the sync refresh groups in a number of scenarios.
                  </p>
                  <p>Because the <code class="codeph">GROUP_ID</code> value can change with time, Oracle recommends the actual <code class="codeph">GROUP_ID</code> value not be used when invoking the synchronous refresh procedures, but that the function <code class="codeph">DBMS_SYNC_REFRESH.GET_GROUP_ID</code> be used instead. This function takes a materialized view name as input and returns the materialized view's <code class="codeph">GROUP_ID</code> value.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D393EB28-D659-4A0C-8BD8-B174262A27C0__GUID-348325CA-4877-45AB-9189-73DC1C7D09AA">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_SYNC_REFRESH.html#ARPLS73623" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about how to use the <code class="codeph">DBMS_SYNC_REFRESH.REGISTER_MVIEWS</code> procedure
                     </p>
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-FAC6FB90-55F8-486D-B3C8-C19389199717">Examples of Common Actions with Synchronous Refresh Groups</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-37DDCE10-EFBD-4307-8037-72DC1FFEE4AE">Examples of Working with Multiple Synchronous Refresh Groups</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9110"></a><a id="DWHSG9111"></a><a id="DWHSG9112"></a><a id="DWHSG9109"></a><div class="props_rev_3"><a id="GUID-FAC6FB90-55F8-486D-B3C8-C19389199717" name="GUID-FAC6FB90-55F8-486D-B3C8-C19389199717"></a><h4 id="DWHSG-GUID-FAC6FB90-55F8-486D-B3C8-C19389199717" class="sect4"><span class="enumeration_section">8.3.1 </span>Examples of Common Actions with Synchronous Refresh Groups
                  </h4>
                  <div>
                     <div class="section">
                        <p>The synchronous refresh demo scripts in the <code class="codeph">rdbms/demo</code> directory enable you to view typical operations that you are likely to perform. The main script is <code class="codeph">syncref_run.sql</code>, and its log is <code class="codeph">syncref_run.log</code>. <a href="synchronous-refresh.html#GUID-FAC6FB90-55F8-486D-B3C8-C19389199717__BCGIJAJC">Example 8-5</a>, <a href="synchronous-refresh.html#GUID-FAC6FB90-55F8-486D-B3C8-C19389199717__BCGJCFAC">Example 8-6</a>, and <a href="synchronous-refresh.html#GUID-FAC6FB90-55F8-486D-B3C8-C19389199717__BCGFACBG">Example 8-7</a> below illustrate the different contexts in which the <code class="codeph">GET_GROUP_ID</code> function can be used.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FAC6FB90-55F8-486D-B3C8-C19389199717__BCGIJAJC">
                        <p class="titleinexample">Example 8-5 Display the Objects Registered in a Group</p>
                        <p>This example illustrates how to display the objects registered in a group after registering them.</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.REGISTER_MVIEWS('MV1');
SELECT NAME, TYPE, STAGING_LOG_NAME FROM USER_SR_OBJ
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')
ORDER BY TYPE, NAME;

NAME       TYPE       STAGING_LOG_NAME
---------- ---------- ----------------
MV1        MVIEW
FACT       TABLE      ST_FACT
STORE      TABLE      ST_STORE
TIME       TABLE      ST_TIME
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FAC6FB90-55F8-486D-B3C8-C19389199717__BCGJCFAC">
                        <p class="titleinexample">Example 8-6 Invoke Refresh Operations</p>
                        <p>This example illustrates how to invoke refresh operations.</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.PREPARE_REFRESH( -
        DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
EXECUTE DBMS_SYNC_REFRESH.EXECUTE_REFRESH( -
        DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
SELECT NAME, TYPE, STATUS FROM USER_SR_OBJ_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')
ORDER BY TYPE, NAME;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FAC6FB90-55F8-486D-B3C8-C19389199717__BCGFACBG">
                        <p class="titleinexample">Example 8-7 Verify the Status of Objects Registered in a Group</p>
                        <p>This example illustrates how to verify the status of objects registered in a group after an <code class="codeph">EXECUTE_REFRESH</code> operation.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT NAME, TYPE, STATUS FROM USER_SR_OBJ_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')
ORDER BY TYPE, NAME;

NAME             TYPE       STATUS
---------------- ---------- ----------------
MV1              MVIEW      COMPLETE
FACT             TABLE      COMPLETE
STORE            TABLE      COMPLETE
TIME             TABLE      COMPLETE</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DWHSG9114"></a><a id="DWHSG9115"></a><a id="DWHSG9113"></a><div class="props_rev_3"><a id="GUID-37DDCE10-EFBD-4307-8037-72DC1FFEE4AE" name="GUID-37DDCE10-EFBD-4307-8037-72DC1FFEE4AE"></a><h4 id="DWHSG-GUID-37DDCE10-EFBD-4307-8037-72DC1FFEE4AE" class="sect4"><span class="enumeration_section">8.3.2 </span>Examples of Working with Multiple Synchronous Refresh Groups
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can work with multiple refresh groups at one time with the following APIs:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">GET_GROUP_ID_LIST</code> 
                              </p>
                              <p>Takes a list of materialized views as input and returns their group IDs in a list.</p>
                           </li>
                           <li>
                              <p><code class="codeph">GET_ALL_GROUP_IDS</code></p>
                              <p>Returns the group IDs of all groups in the system in a list.</p>
                           </li>
                           <li>
                              <p>The prepare refresh procedures (<code class="codeph">PREPARE_REFRESH</code>, <code class="codeph">EXECUTE_REFRESH</code>, and <code class="codeph">ABORT_REFRESH</code>) can work multiple groups. Their overloaded versions accept lists of group IDs at a time.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-37DDCE10-EFBD-4307-8037-72DC1FFEE4AE__BCGJBHIJ">
                        <p class="titleinexample">Example 8-8 Prepare Sync Refresh Groups</p>
                        <p>This example illustrates how to prepare the sync refresh groups of <code class="codeph">MV1</code>, <code class="codeph">MV2</code>, and <code class="codeph">MV3</code>.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.PREPARE_REFRESH(
        DBMS_SYNC_REFRESH.GET_GROUP_ID_LIST('MV1, MV2, MV3'));
</pre><p>Note that it is not necessary that these three materialized views be all in different groups. It is possible that two of the materialized views are in one group, and third in another; or even that all three materialized views are in the same group. Because <code class="codeph">PREPARE_REFRESH</code> is overloaded to accept either a group ID or a list of group IDs, the above call will work in all cases.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-37DDCE10-EFBD-4307-8037-72DC1FFEE4AE__BCGCIDAF">
                        <p class="titleinexample">Example 8-9 Execute Sync Refresh Groups </p>
                        <p>This example illustrates how to prepare and execute the refresh of all sync refresh groups in the system.</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.PREPARE_REFRESH(
        DBMS_SYNC_REFRESH.GET_ALL_GROUP_IDS);

EXECUTE DBMS_SYNC_REFRESH.EXECUTE_REFRESH(
        DBMS_SYNC_REFRESH.GET_ALL_GROUP_IDS);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DWHSG9116"></a><div class="props_rev_3"><a id="GUID-5C15E4A2-75FD-4B87-AD20-CE749676CE65" name="GUID-5C15E4A2-75FD-4B87-AD20-CE749676CE65"></a><h3 id="DWHSG-GUID-5C15E4A2-75FD-4B87-AD20-CE749676CE65" class="sect3"><span class="enumeration_section">8.4 </span>Specifying and Preparing Change Data for Synchronous Refresh
               </h3>
               <div>
                  <div class="section">
                     <p>Synchronous refresh requires you to specify and prepare the change data that serves as the input to the <code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code> procedures. There are two methods for specifying the change data:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Provide the change data in an outside table and register it with the <code class="codeph">REGISTER_PARTITION_OPERATION</code> procedure as described in <a href="synchronous-refresh.html#GUID-DA9C2503-832C-49A0-BCC6-3A0B35F397E1">Working with Partition Operations While Capturing Change Data for Synchronous Refresh</a>.
                           </p>
                        </li>
                        <li>
                           <p>Provide the change data by in staging logs and process them with the <code class="codeph">PREPARE_STAGING_LOG</code> procedure as described in <a href="synchronous-refresh.html#GUID-E93084C2-BC19-4007-8F7F-D16FE72030E6">Working with Staging Logs While Capturing Change Data for Synchronous Refresh</a>.
                           </p>
                        </li>
                     </ul>
                     <p>Some important points about change data are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The two methods are not mutually exclusive and can be employed at the same time, even on the same table, but there cannot be any conflicts in the changes specified. For instance, you can use the staging log to specify the change in a partition with a small number of changes, but if another partition has extensive changes, you can provide the changes for that partition in an outside table.</p>
                        </li>
                        <li>
                           <p>For dimension tables, you can use only the staging logs to provide changes.</p>
                        </li>
                        <li>
                           <p>Synchronous refresh can handle arbitrary combinations of changes in fact and dimension tables, but it is optimized for the most common data warehouse usage scenarios, where the bulk of the changes are made to only a few partitions of the fact table.</p>
                        </li>
                        <li>
                           <p>Synchronous refresh places no restrictions on the use of nondestructive partition maintenance operations (PMOPS), such as add partition, used commonly in data warehouses. The use of such PMOPS is not directly related to the method used to specify change data.</p>
                        </li>
                        <li>
                           <p>Synchronous refresh requires that all staging logs in the group must be prepared, even if the staging log has no changes registered in it.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="DWHSG9118"></a><a id="DWHSG9117"></a><div class="props_rev_3"><a id="GUID-DA9C2503-832C-49A0-BCC6-3A0B35F397E1" name="GUID-DA9C2503-832C-49A0-BCC6-3A0B35F397E1"></a><h4 id="DWHSG-GUID-DA9C2503-832C-49A0-BCC6-3A0B35F397E1" class="sect4"><span class="enumeration_section">8.4.1 </span>Working with Partition Operations While Capturing Change Data for Synchronous Refresh
                  </h4>
                  <div>
                     <div class="section">
                        <p>Using the <code class="codeph">REGISTER_PARTITION_OPERATION</code> procedure, you can provide the change data directly. This method is applicable only to fact tables. For each fact table partition that is changed, you must provide an outside table containing the data for that partition. The synchronous refresh demo (<code class="codeph">syncref_run.sql</code> and <code class="codeph">syncref_run.log</code>) contains an example. The steps are:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create an outside table for the partition that it is intended to replace. It must have the same constraints as the fact table, and can be created in any desired tablespace.</span><div><pre class="oac_no_warn" dir="ltr">CREATE TABLE      fact_ot_fp3(
   time_key       DATE NOT NULL REFERENCES time(time_key),
   store_key      INTEGER NOT NULL REFERENCES store(store_key),
   dollar_sales   NUMBER (6,2),
   unit_sales     INTEGER)
   tablespace     syncref_fp3_tbs;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Insert the data for this partition into the outside table.</span></li>
                        <li class="stepexpand"><span>Register this table for partition exchange.</span><div><pre class="oac_no_warn" dir="ltr">begin
   DBMS_SYNC_REFRESH.REGISTER_PARTITION_OPERATION(
       partition_op                 =&gt; 'EXCHANGE',
       schema_name                  =&gt; 'SYNCREF_USER',
       base_table_name              =&gt; 'FACT',
       partition_name               =&gt; 'FP3',
       outside_partn_table_schema   =&gt; 'SYNCREF_USER',
       outside_partn_table_name     =&gt; 'FACT_OT_FP3');
   end;
  /
/
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>When you register the outside table and execute the refresh, Oracle Database performs the following operation at <code class="codeph">EXECUTE_REFRESH</code> time:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE FACT EXCHANGE PARTITION fp3 WITH TABLE fact_ot_fp3
INCLUDING INDEXES WITHOUT VALIDATION;
</pre><p>However, you are not allowed to issue the above statement directly on your own. If you do, Oracle Database will give this error:</p><pre class="oac_no_warn" dir="ltr">ORA-31908: Cannot modify the contents of a table with a staging log.
</pre><p>Besides the <code class="codeph">EXCHANGE</code> operation, the two other partition operations that can be registered with the <code class="codeph">REGISTER_PARTITION_OPERATION</code> procedure are <code class="codeph">DROP</code> and <code class="codeph">TRUNCATE</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DA9C2503-832C-49A0-BCC6-3A0B35F397E1__BCGDJGBD">
                        <p class="titleinexample">Example 8-10 Registering a DROP Operation</p>
                        <p>This example illustrates how to specify the drop of the first partition (<code class="codeph">FP1</code>), by using the following statement.
                        </p><pre class="oac_no_warn" dir="ltr">begin
 DBMS_SYNC_REFRESH.REGISTER_PARTITION_OPERATION(
              partition_op                 =&gt; 'DROP',
              schema_name                  =&gt; 'SYNCREF_USER',
              base_table_name              =&gt; 'FACT',
              partition_name               =&gt; 'FP1');
end;
/
</pre><p>If you wanted to truncate the partition instead, you could specify <code class="codeph">TRUNCATE</code> instead of <code class="codeph">DROP</code> for the <code class="codeph">partition_op</code> parameter.
                        </p>
                        <p>The three partition operations (<code class="codeph">EXCHANGE</code>, <code class="codeph">DROP</code>, and <code class="codeph">TRUNCATE</code>) are called destructive PMOPS because they modify the contents of the table. The following partition operations are not destructive, and can be performed directly on a table registered with synchronous refresh:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ADD</code> <code class="codeph">PARTITION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SPLIT</code> <code class="codeph">PARTITION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MERGE</code> <code class="codeph">PARTITIONS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MOVE</code> <code class="codeph">PARTITION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RENAME</code> <code class="codeph">PARTITION</code></p>
                           </li>
                        </ul>
                        <p>In data warehouses, these partition operations are commonly used to manage the large volumes of data, and synchronous refresh places no restrictions on their usage. Oracle Database requires only that these operations be performed before the <code class="codeph">PREPARE_REFRESH</code> command is issued. This is because the <code class="codeph">PREPARE_REFRESH</code> procedure computes the mapping between the fact table partitions and the materialized view partitions, and if any partition-maintenance is done between the <code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code> procedures, Oracle Database will detect this at <code class="codeph">EXECUTE_REFRESH</code> and show an error.
                        </p>
                        <p>You can use the <code class="codeph">USER_SR_PARTN_OPS</code> catalog view to display the registered partition operations.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT   TABLE_NAME, PARTITION_OP, PARTITION_NAME,
         OUTSIDE_TABLE_SCHEMA ot_schema, OUTSIDE_TABLE_NAME ot_name
FROM     USER_SR_PARTN_OPS
ORDER BY TABLE_NAME;
 
TABLE_NAME PARTITION_ PARTITION_NAME  OT_SCHEMA       OT_NAME
---------- ---------- --------------- --------------- --------------------
FACT       EXCHANGE   FP3             SYNCREF_USER    FACT_OT_FP3
 
1 row selected.
</pre><p>These partition operations are consumed by the synchronous refresh operation and are automatically unregistered by the <code class="codeph">EXECUTE_REFRESH</code> procedure. So if you query <code class="codeph">USER_SR_PARTN_OPS</code> after <code class="codeph">EXECUTE_REFRESH</code>, it will show no rows.
                        </p>
                        <p>After registering a partition, if you find you made a mistake or change your mind, you can undo it with the <code class="codeph">UNREGISTER_PARTITION_OPERATION</code> command:
                        </p><pre class="oac_no_warn" dir="ltr">begin
 DBMS_SYNC_REFRESH.UNREGISTER_PARTITION_OPERATION(
              partition_op                  =&gt; 'EXCHANGE',
              schema_name                   =&gt; 'SYNCREF_USER',
              base_table_name               =&gt; 'FACT',
              partition_name                =&gt; 'FP3');
end;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DWHSG9119"></a><div class="props_rev_3"><a id="GUID-E93084C2-BC19-4007-8F7F-D16FE72030E6" name="GUID-E93084C2-BC19-4007-8F7F-D16FE72030E6"></a><h4 id="DWHSG-GUID-E93084C2-BC19-4007-8F7F-D16FE72030E6" class="sect4"><span class="enumeration_section">8.4.2 </span>Working with Staging Logs While Capturing Change Data for Synchronous Refresh
                  </h4>
                  <div>
                     <p>In synchronous refresh, staging logs play a role similar to materialized view logs in incremental refresh. They are created with a DDL statement and can be altered to a materialized view log. Unlike materialized view logs, however, you are responsible for loading changes into the staging logs in a specified format. Each row in the staging log must have a key to identify it uniquely; this key is called the <span class="bold">staging</span> <span class="bold">log</span> <span class="bold">key</span>, and is defined in <span class="q">"<a href="synchronous-refresh.html#GUID-44BDEF00-DB5A-4F28-8E2E-D99CEA905F9A">About the Staging Log Key</a>"</span>.
                     </p>
                     <p>You are responsible for populating the staging log, which will consist of all the columns in the base table and an additional control column <code class="codeph">DMLTYPE$$</code> of type <code class="codeph">CHAR(2)</code>. This must have the value <code class="codeph">'I'</code> to denote the row is being inserted, <code class="codeph">'D'</code> for delete, and <code class="codeph">'UN'</code> and <code class="codeph">'UO'</code> for the new and old values of the row being updated, respectively. The last two must occur in pairs.
                     </p>
                     <p>The staging log is validated by the <code class="codeph">PREPARE_STAGING_LOG</code> procedure and consumed by the synchronous refresh operations (<code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code>). During validation by <code class="codeph">PREPARE_STAGING_LOG</code>, if errors are detected, they will be captured in an exceptions table. You can query the view <code class="codeph">USER_SR_STLOG_EXCEPTIONS</code> to get details on the exceptions.
                     </p>
                     <p>Synchronous refresh requires that, before calling <code class="codeph">PREPARE_REFRESH</code> for sync refresh groups, the staging logs of all tables in the group must be processed with <code class="codeph">PREPARE_STAGING_LOG</code>. This is necessary even if a table has no change data and its staging log is empty.
                     </p>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-44BDEF00-DB5A-4F28-8E2E-D99CEA905F9A">About the Staging Log Key</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-AB38C8B9-A34C-4B47-9A11-12A53B6317EB">About Staging Log Rules</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-F672472C-FBB9-4EAF-AA9B-610BDDA767C0">About Columns Being Updated to NULL</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-82DB4858-381A-4F37-8A82-58463B6C57BE">Examples of Working with Staging Logs</a></p>
                        </li>
                        <li>
                           <p><a href="synchronous-refresh.html#GUID-D89D76FD-0476-4DE7-8FE5-B4EDBBE9220F">Error Handling in Preparing Staging Logs</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG9120"></a><div class="props_rev_3"><a id="GUID-44BDEF00-DB5A-4F28-8E2E-D99CEA905F9A" name="GUID-44BDEF00-DB5A-4F28-8E2E-D99CEA905F9A"></a><h5 id="DWHSG-GUID-44BDEF00-DB5A-4F28-8E2E-D99CEA905F9A" class="sect5"><span class="enumeration_section">8.4.2.1 </span>About the Staging Log Key
                     </h5>
                     <div>
                        <p>In order to create a staging log on a base table, the base table must have a key. If the table has a primary key, the primary key is deemed to be staging log key on the table's staging log. Note that every dimension table has a primary key.</p>
                        <p>With fact tables, it is less common for them to have a primary key. If a table does not have a primary key, the columns that are the foreign keys of its dimension tables constitute its staging log key.</p>
                        <p>The key of a staging log can be described as:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The primary key of the base table. If a fact table has a primary key, it is sometimes called a surrogate key.</p>
                           </li>
                           <li>
                              <p>The set of foreign keys for a fact table. This applies if the fact table does not have a primary key. This assumption is common in data warehouses, though it is not enforced.</p>
                           </li>
                        </ul>
                        <p>The rules for loading staging logs are described in <span class="q">"<a href="synchronous-refresh.html#GUID-AB38C8B9-A34C-4B47-9A11-12A53B6317EB">About Staging Log Rules</a>"</span>.
                        </p>
                        <p>The <code class="codeph">PREPARE_STAGING_LOG</code> procedure verifies that each key value is specified at most once. When populating the staging log, it is your responsibility to consolidate the changes if a row with the same key value is changed more than once. This process is known as <span class="bold">change</span> <span class="bold">consolidation</span>. When doing the change consolidation, you must:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Consolidate a delete-insert of the same row into an update operation with rows <code class="codeph">'UO'</code> and <code class="codeph">'UN'</code>.
                              </p>
                           </li>
                           <li>
                              <p>Consolidate multiple updates into a single update.</p>
                           </li>
                           <li>
                              <p>Prevent null changes such as an insert-update-delete of the same row from appearing in the staging log.</p>
                           </li>
                           <li>
                              <p>Consolidate an insert followed by multiple updates into a single insert.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DWHSG9121"></a><div class="props_rev_3"><a id="GUID-AB38C8B9-A34C-4B47-9A11-12A53B6317EB" name="GUID-AB38C8B9-A34C-4B47-9A11-12A53B6317EB"></a><h5 id="DWHSG-GUID-AB38C8B9-A34C-4B47-9A11-12A53B6317EB" class="sect5"><span class="enumeration_section">8.4.2.2 </span>About Staging Log Rules
                     </h5>
                     <div>
                        <p>Every row should contain non-null values for all the columns comprising the primary key. You are required to consolidate all the changes so that each key in the staging log can be specified only for one type of operation.</p>
                        <p>For the rows being inserted (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'I'</code>), all columns in the staging log must be supplied with valid values, conforming to any constraint on the corresponding columns in the base table. Keys of rows being inserted must not exist in the base table.
                        </p>
                        <p>For the rows being deleted (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'D</code>'), the non-key column values are optional. Similarly, for the rows specifying the old values of the columns being updated (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'UO'</code>), the non-key column values are optional; an important exception is the column whose values are being updated to <code class="codeph">NULL</code>, as explained subsequently.
                        </p>
                        <p>For the rows specifying the new values of the columns being updated (<code class="codeph">DMLTYPE$$</code> is <code class="codeph">'UN'</code>), the non-key column values are optional except for the values of the columns that were changed.
                        </p>
                     </div>
                  </div><a id="DWHSG9122"></a><div class="props_rev_3"><a id="GUID-F672472C-FBB9-4EAF-AA9B-610BDDA767C0" name="GUID-F672472C-FBB9-4EAF-AA9B-610BDDA767C0"></a><h5 id="DWHSG-GUID-F672472C-FBB9-4EAF-AA9B-610BDDA767C0" class="sect5"><span class="enumeration_section">8.4.2.3 </span>About Columns Being Updated to NULL
                     </h5>
                     <div>
                        <p>If a column is being updated to <code class="codeph">NULL</code>, its old value must be specified. Otherwise, Oracle Database may not be able to distinguish this from a column whose value is being left unchanged in the update.
                        </p>
                        <p>For example, let table <code class="codeph">T1</code> have three columns <code class="codeph">c1</code>, <code class="codeph">c2</code>, and <code class="codeph">c3</code>. Let there be a row with (<code class="codeph">c1, c2, c3) = (1, 5, 10)</code>, and you supply the following information in the staging log:
                        </p>
                        <div class="tblformal" id="GUID-F672472C-FBB9-4EAF-AA9B-610BDDA767C0__GUID-D59D54B1-6235-45BA-8583-944614B1F3D3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table contains the old and new values for one row data in the staging log of table T1." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d34570e2024">DMLTYPE$$</th>
                                    <th align="left" valign="bottom" width="18%" id="d34570e2027">C1</th>
                                    <th align="left" valign="bottom" width="29%" id="d34570e2030">C2</th>
                                    <th align="left" valign="bottom" width="29%" id="d34570e2033">C3</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d34570e2038" headers="d34570e2024 ">
                                       <p>UO</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d34570e2038 d34570e2027 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d34570e2038 d34570e2030 ">
                                       <p>NULL</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d34570e2038 d34570e2033 ">
                                       <p>NULL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d34570e2051" headers="d34570e2024 ">
                                       <p>UN</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d34570e2051 d34570e2027 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d34570e2051 d34570e2030 ">
                                       <p>NULL</p>
                                    </td>
                                    <td align="left" valign="top" width="29%" headers="d34570e2051 d34570e2033 ">
                                       <p>11</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The result would be that the new row could be <code class="codeph">(1, 5, 11)</code> or <code class="codeph">(1, NULL, 11)</code> without having specified the old value. However, with that specification, it is clear the new row is (<code class="codeph">1, 5, 11)</code>. If you want to specify <code class="codeph">NULL</code> for <code class="codeph">c2</code>, you should specify the old value in the <code class="codeph">UO</code> row as follows:
                        </p>
                        <div class="tblformal" id="GUID-F672472C-FBB9-4EAF-AA9B-610BDDA767C0__GUID-B57F64A3-C933-4D64-8C45-F2A9E8C0ED03">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table contains the old and new values for one row data in the staging log of table T1." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d34570e2094">DMLTYPE$$</th>
                                    <th align="left" valign="bottom" width="25%" id="d34570e2097">C1</th>
                                    <th align="left" valign="bottom" width="25%" id="d34570e2100">C2</th>
                                    <th align="left" valign="bottom" width="25%" id="d34570e2103">C3</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d34570e2108" headers="d34570e2094 ">
                                       <p>UO</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d34570e2108 d34570e2097 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d34570e2108 d34570e2100 ">
                                       <p>5</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d34570e2108 d34570e2103 ">
                                       <p>NULL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d34570e2121" headers="d34570e2094 ">
                                       <p>UN</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d34570e2121 d34570e2097 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d34570e2121 d34570e2100 ">
                                       <p>NULL</p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d34570e2121 d34570e2103 ">
                                       <p>11</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Because the old value of <code class="codeph">c2</code> is <code class="codeph">5</code>, (the correct previously updated value for the column), its new value, will be <code class="codeph">NULL</code> and the new row is <code class="codeph">(1, NULL, 11)</code>.
                        </p>
                     </div>
                  </div><a id="DWHSG9124"></a><a id="DWHSG9125"></a><a id="DWHSG9126"></a><a id="DWHSG9127"></a><a id="DWHSG9128"></a><a id="DWHSG9123"></a><div class="props_rev_3"><a id="GUID-82DB4858-381A-4F37-8A82-58463B6C57BE" name="GUID-82DB4858-381A-4F37-8A82-58463B6C57BE"></a><h5 id="DWHSG-GUID-82DB4858-381A-4F37-8A82-58463B6C57BE" class="sect5"><span class="enumeration_section">8.4.2.4 </span>Examples of Working with Staging Logs
                     </h5>
                     <div>
                        <p>This section illustrates examples of working with staging logs.</p>
                        <p>The <code class="codeph">PREPARE_STAGING_LOG</code> procedure has an optional third parameter called <code class="codeph">PSL_MODE</code>. This allows you to specify whether any or all of the three types of DML statements specified in the staging log can be treated as trusted, and not be subject to verification by the <code class="codeph">PREPARE_STAGING_LOG</code> procedure, as shown in <a href="synchronous-refresh.html#GUID-82DB4858-381A-4F37-8A82-58463B6C57BE__BCGFFJHI">Example 8-11</a>.
                        </p>
                        <div class="example" id="GUID-82DB4858-381A-4F37-8A82-58463B6C57BE__BCGFFJHI">
                           <p class="titleinexample">Example 8-11 Specifying Trusted DML Statements</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG('syncref_user', 'store',
                                 DBMS_SYNC_REFRESH.INSERT_TRUSTED +
                                 DBMS_SYNC_REFRESH.DELETE_TRUSTED);
</pre><p>This call will skip verification of <code class="codeph">INSERT</code> and <code class="codeph">DELETE</code> DML statements in the staging log of <code class="codeph">STORE</code> but will verify <code class="codeph">UPDATE</code> DML statements.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-82DB4858-381A-4F37-8A82-58463B6C57BE__BCGFBBHD">
                           <p class="titleinexample">Example 8-12 Preparing Staging Logs</p>
                           <p>This example is taken from the demo <code class="codeph">syncref_run.sql</code>. It shows that the user has provided values for all columns for the delete and update operations. This is recommended if these values are available.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('I',   5, 5, 'Store 5', '03060');

INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('I',   6, 6, 'Store 6', '03062');
 
INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('UO',  4, 4, 'Store 4', '03062');
 
INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('UN',  4, 4, 'Stor4NewNam', '03062');
 
INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('D',   3, 3, 'Store 3', '03060');

EXECUTE DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG('syncref_user', 'store');

-- display initial contents of st_store

SELECT dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE
FROM st_store
ORDER BY STORE_KEY ASC, dmltype$$ DESC;

DM  STORE_KEY  STORE_NUMBER  STORE_NAME    ZIPCODE
--  ---------  ------------  ----------    -------
D            3            3  Store 3         03060
UO           4            4  Store 4         03062
UN           4            4  Stor4NewNam     03062
I            5            5  Store 5         03060
I            5            5  Store 6         03062

5 rows selected.
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-82DB4858-381A-4F37-8A82-58463B6C57BE__BCGEEGJD">
                           <p class="titleinexample">Example 8-13 Filling in Missing Values for Deleting and Updating Records</p>
                           <p>This example shows that if you do not supply all the values for the delete and update operations, then when you run the <code class="codeph">PREPARE_STAGING_LOG</code> procedure, Oracle Database will fill in missing values.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('D',  3, NULL, NULL, NULL);

INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('UO',  4, NULL, NULL, NULL);
 
INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('UN',  4, NULL, NULL, '03063');
 
EXECUTE DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG('syncref_user', 'store');
 
SELECT dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE
FROM ST_STORE ORDER BY STORE_KEY ASC, dmltype$$ DESC;
 
DM STORE_KEY STORE_NUMBER STORE_NAME  ZIPCODE
-- --------- ------------ ----------- ---------
D          3            3 Store 3     03060
UO         4            4 Store 4     03062
UN         4            4 Store 4     03063
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-82DB4858-381A-4F37-8A82-58463B6C57BE__BCGGACCB">
                           <p class="titleinexample">Example 8-14 Updating a Column to NULL</p>
                           <p>This example illustrates how to update a column to <code class="codeph">NULL</code>. If you want to update a column value to <code class="codeph">NULL</code>, then you must provide its old value in the <code class="codeph">UO</code> record.
                           </p>
                           <p>In this example, your goal is to change the zipcode of store 4 to 03063 and its name to <code class="codeph">NULL</code>. You can supply the old zipcode value, but you must supply the old value of <code class="codeph">store_name</code> in the <code class="codeph">'UO'</code> row, or else <code class="codeph">store_name</code> will be unchanged.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('UO',  4, NULL, 'Store 4', NULL);
 
INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('UN',  4, NULL, NULL, '03063');
 
EXECUTE DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG('syncref_user', 'store');
 
SELECT dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE
FROM st_store ORDER BY STORE_KEY ASC, dmltype$$ DESC;
 
DM STORE_KEY STORE_NUMBER STORE_NAME  ZIPCODE
-- --------- ------------ ----------- --------
UO         4            4 Store 4     03062
UN         4            4             03063
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-82DB4858-381A-4F37-8A82-58463B6C57BE__BCGBGHFG">
                           <p class="titleinexample">Example 8-15 Displaying Staging Log Statistics</p>
                           <p>This example illustrates how to use the <code class="codeph">USER_SR_STLOG_STATS</code> catalog view to display the staging log statistics.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT   TABLE_NAME, STAGING_LOG_NAME, NUM_INSERTS, NUM_DELETE, NUM_UPDATES
FROM     USER_SR_STLOG_STATS
ORDER BY TABLE_NAME;
 
TABLE_NAME STAGING_LOG_NAME NUM_INSERTS NUM_DELETES NUM_UPDATES
---------- ---------------- ----------- ----------- -----------
FACT       ST_FACT                    4           1           1
STORE      ST_STORE                   2           1           1
TIME       ST_TIME                    1           0           0
 
3 rows selected.
</pre><p>If you use the same query at the end of the <code class="codeph">EXECUTE_REFRESH</code> procedure, then you will get no rows, indicating the change data has all been consumed by synchronous refresh.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DWHSG9129"></a><div class="props_rev_3"><a id="GUID-D89D76FD-0476-4DE7-8FE5-B4EDBBE9220F" name="GUID-D89D76FD-0476-4DE7-8FE5-B4EDBBE9220F"></a><h5 id="DWHSG-GUID-D89D76FD-0476-4DE7-8FE5-B4EDBBE9220F" class="sect5"><span class="enumeration_section">8.4.2.5 </span>Error Handling in Preparing Staging Logs
                     </h5>
                     <div>
                        <p>When a table is processed by the <code class="codeph">PREPARE_STAGING_LOG</code> procedure, it will detect and report errors in the specification of change data that relates only to that table. For example, it will verify that keys of rows being inserted do not already exist in the base table and that keys of rows being deleted or updated do exist. However, the <code class="codeph">PREPARE_STAGING_LOG</code> procedure cannot detect errors related to the referential integrity constraints on the table; that is, it cannot detect errors if there are inconsistencies in the specification of change data that involves more than one table. Such errors will be detected at the time of the <code class="codeph">EXECUTE_REFRESH</code> procedure.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG9130"></a><div class="props_rev_3"><a id="GUID-AEEB3AAA-BB56-4D8D-9F33-181F12E97AD6" name="GUID-AEEB3AAA-BB56-4D8D-9F33-181F12E97AD6"></a><h3 id="DWHSG-GUID-AEEB3AAA-BB56-4D8D-9F33-181F12E97AD6" class="sect3"><span class="enumeration_section">8.5 </span>Troubleshooting Synchronous Refresh Operations
               </h3>
               <div>
                  <p>This section describes how to monitor the status of the two synchronous refresh procedures, <code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code> and how to troubleshoot errors that may occur. To be successful in using synchronous refresh, you should be aware of the different types of errors that can arise and how to deal with them.
                  </p>
                  <p>One of the most likely sources of errors is from incorrect preparation of the change data. These errors will present themselves as referential constraint violations when the <code class="codeph">EXECUTE_REFRESH</code> procedure is run. In such cases, the status of the group is set to <code class="codeph">ABORT</code>. It is important to learn to recognize these errors and address them.
                  </p>
                  <p>The topics covered in this section are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-3E3A9189-D84D-4120-B901-48EFD19C19DC">Overview of the Status of Refresh Operations</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-D2DE66DA-9D73-4789-A39B-040090819CCB">How PREPARE_REFRESH Sets the STATUS Fields</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725">Examples of Preparing for Synchronous Refresh Using PREPARE_REFRESH</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-85CAA6F2-B89F-4576-9A1B-32C2376CA97E">How EXECUTE_REFRESH Sets the Status Fields During Synchronous Refresh</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654">Examples of Executing Synchronous Refresh Using EXECUTE_REFRESH</a></p>
                     </li>
                     <li>
                        <p><a href="synchronous-refresh.html#GUID-30E9A864-9C14-413B-93E4-6DD6E165BCC8">Example of EXECUTE_REFRESH with Constraint Violations</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG9131"></a><div class="props_rev_3"><a id="GUID-3E3A9189-D84D-4120-B901-48EFD19C19DC" name="GUID-3E3A9189-D84D-4120-B901-48EFD19C19DC"></a><h4 id="DWHSG-GUID-3E3A9189-D84D-4120-B901-48EFD19C19DC" class="sect4"><span class="enumeration_section">8.5.1 </span>Overview of the Status of Refresh Operations
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBMS_SYNC_REFRESH</code> package provides three procedures to control the refresh execution process. You initiate synchronous refresh with the <code class="codeph">PREPARE_REFRESH</code> procedure, which plans the entire refresh operation and does the bulk of the computational work for refresh, followed by the <code class="codeph">EXECUTE_REFRESH</code> procedure, which carries out the refresh. The third procedure provided is <code class="codeph">ABORT_REFRESH</code>, which is used to recover from errors if either of these procedures fails.
                     </p>
                     <p>The <code class="codeph">USER_SR_GRP_STATUS</code> and <code class="codeph">USER_SR_OBJ_STATUS</code> catalog views contain all the information on the status of these refresh operations for current groups:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">USER_SR_GRP_STATUS</code> view shows the status of the group as a whole.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">OPERATION</code> field indicates the current refresh procedure run on the group: <code class="codeph">PREPARE</code> or <code class="codeph">EXECUTE</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">STATUS</code> field indicates the status of the operation - <code class="codeph">RUNNING</code>, <code class="codeph">COMPLETE</code>, <code class="codeph">ERROR</code>-<code class="codeph">SOFT</code>, <code class="codeph">ERROR</code>-<code class="codeph">HARD</code>, <code class="codeph">ABORT</code>, <code class="codeph">PARTIAL</code>. These are explained in detail later.
                                 </p>
                              </li>
                              <li>
                                 <p>The group is identified by its group ID.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The <code class="codeph">USER_SR_OBJ_STATUS</code> view shows the status of each individual object.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The object is identified by its owner, name, and type (<code class="codeph">TABLE</code> or <code class="codeph">MVIEW</code>) and group ID.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">STATUS</code> field, which may be <code class="codeph">NOT</code> <code class="codeph">PROCESSED</code>, <code class="codeph">ABORT</code>, or <code class="codeph">COMPLETE</code>. These are explained in detail later.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9132"></a><div class="props_rev_3"><a id="GUID-D2DE66DA-9D73-4789-A39B-040090819CCB" name="GUID-D2DE66DA-9D73-4789-A39B-040090819CCB"></a><h4 id="DWHSG-GUID-D2DE66DA-9D73-4789-A39B-040090819CCB" class="sect4"><span class="enumeration_section">8.5.2 </span>How PREPARE_REFRESH Sets the STATUS Fields
                  </h4>
                  <div>
                     <p>When you launch a new <code class="codeph">PREPARE_REFRESH</code> job, the group's <code class="codeph">STATUS</code> is set to <code class="codeph">RUNNING</code> and the <code class="codeph">STATUS</code> of the objects in the group is set to <code class="codeph">NOT</code> <code class="codeph">PROCESSED</code>. When the <code class="codeph">PREPARE_REFRESH</code> job finishes, the status of the objects remains unchanged, but the group's status is changed to one of following three values:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">COMPLETE</code> if the job completed successfully.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERROR_SOFT</code> if the job encountered the ORA-01536: space quota exceeded for tablespace '%s' error.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERROR_HARD</code> otherwise (that is, if the job encountered any error other than ORA-01536).
                           </p>
                        </li>
                     </ul>
                     <p>Some points to keep in mind when using the <code class="codeph">PREPARE_REFRESH</code> procedure:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">NOT</code> <code class="codeph">PROCESSED</code> status of the objects in the group signifies that the data of the objects has not been modified by the <code class="codeph">PREPARE_REFRESH</code> job. The data modification will occur only in the <code class="codeph">EXECUTE_REFRESH</code> step, at which time the status will be changed as appropriate. This is described later.
                           </p>
                        </li>
                        <li>
                           <p>If the <code class="codeph">STATUS</code> is <code class="codeph">ERROR_SOFT</code>, you can fix the ORA-01536 error by increasing the space quota for the specified tablespace, and resume <code class="codeph">PREPARE_REFRESH</code>. Alternatively, you can choose to abort the refresh with <code class="codeph">ABORT_REFRESH</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the <code class="codeph">STATUS</code> value is <code class="codeph">ERROR_HARD</code>, then your only option is to abort the refresh with <code class="codeph">ABORT_REFRESH</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the <code class="codeph">STATUS</code> value after the <code class="codeph">PREPARE_REFRESH</code> procedure finishes is <code class="codeph">RUNNING</code>, then an error has occurred. Contact Oracle Support Services for assistance.
                           </p>
                        </li>
                        <li>
                           <p>A <code class="codeph">STATUS</code> value of <code class="codeph">ERROR_HARD</code> might be related to running out of resources because the <code class="codeph">PREPARE_REFRESH</code> procedure can be resource-intensive. If you are not able to identify the problem, then contact Oracle Support Services for assistance. But if you can identify the problem and fix it, then you might be able to continue using synchronous refresh, by first running <code class="codeph">ABORT_REFRESH</code> and then the <code class="codeph">PREPARE_REFRESH</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>Remember that you can launch a new <code class="codeph">PREPARE_REFRESH</code> job only when the previous refresh operation on the group (if any) has either completed execution successfully or has aborted.
                           </p>
                        </li>
                        <li>
                           <p>If the <code class="codeph">STATUS</code> value of the <code class="codeph">PREPARE_REFRESH</code> procedure at the end is not <code class="codeph">COMPLETE</code>, you cannot proceed to the <code class="codeph">EXECUTE_REFRESH</code> step. If you are unable to get <code class="codeph">PREPARE_REFRESH</code> to work correctly, then you can proceed to the unregistration phase, and maintain the objects in the groups with other refresh methods.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9134"></a><a id="DWHSG9135"></a><a id="DWHSG9136"></a><a id="DWHSG9137"></a><a id="DWHSG9133"></a><div class="props_rev_3"><a id="GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725" name="GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725"></a><h4 id="DWHSG-GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725" class="sect4"><span class="enumeration_section">8.5.3 </span>Examples of Preparing for Synchronous Refresh Using PREPARE_REFRESH
                  </h4>
                  <div>
                     <div class="section">
                        <p>This section offers examples of common cases when preparing a refresh.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725__BCGCCJFA">
                        <p class="titleinexample">Example 8-16 PREPARE_REFRESH Succeeds with Status COMPLETE</p>
                        <p>This example shows a <code class="codeph">PREPARE_REFRESH</code> procedure completing successfully.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.PREPARE_REFRESH( DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
 
PL/SQL procedure successfully completed.
 
SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');

OPERATION  STATUS
---------  ------
PREPARE    COMPLETE
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725__BCGJJHBI">
                        <p class="titleinexample">Example 8-17 PREPARE_REFRESH Fails with Status ERROR_SOFT</p>
                        <p>This example shows a <code class="codeph">PREPARE_REFRESH</code> procedure encountering ORA-01536.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.PREPARE_REFRESH( DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
BEGIN DBMS_SYNC_REFRESH.PREPARE_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')); END;
 
*
ERROR at line 1:
ORA-01536: space quota exceeded for tablespace 'DUMMY_TS'
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 63
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 411
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 429
ORA-06512: at line 1PL/SQL procedure successfully completed.
 
SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------  ------
PREPARE    ERROR_SOFT
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725__BCGGCBCA">
                        <p class="titleinexample">Example 8-18 Resume of PREPARE_REFRESH Succeeds</p>
                        <p>This example is a continuation of <a href="synchronous-refresh.html#GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725__BCGJJHBI">Example 8-17</a>. After the ORA-01536 error is raised, increase the tablespace for <code class="codeph">DUMMY_TS</code> and rerun the <code class="codeph">PREPARE_REFRESH</code> procedure, which now completes successfully. Note that the <code class="codeph">PREPARE_REFRESH</code> procedure will resume processing from the place where it stopped. Also note the usage of the <code class="codeph">PREPARE_REFRESH</code> procedure is no different from normal, and does not require any parameters or settings to indicate the procedure is being resumed.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.PREPARE_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
 
PL/SQL procedure successfully completed.
 
SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------  ------
PREPARE    COMPLETE
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-DE05AC44-A036-447F-A8B1-4FEEC6503725__BCGCBFJF">
                        <p class="titleinexample">Example 8-19 Abort of PREPARE_REFRESH</p>
                        <p>This example assumes the <code class="codeph">PREPARE_REFRESH</code> procedure has failed and the <code class="codeph">STATUS</code> value is <code class="codeph">ERROR_HARD</code>. You then run the <code class="codeph">ABORT_REFRESH</code> procedure to abort the prepare job. Note that the <code class="codeph">STATUS</code> value has changed from <code class="codeph">ERROR_HARD</code> to <code class="codeph">ABORT</code> at the end.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------  ------
PREPARE    ERROR_HARD
 
EXECUTE DBMS_SYNC_REFRESH.ABORT_REFRESH( DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
 
PL/SQL procedure successfully completed.
 
SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------  ------
PREPARE    ABORT</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DWHSG9138"></a><div class="props_rev_3"><a id="GUID-85CAA6F2-B89F-4576-9A1B-32C2376CA97E" name="GUID-85CAA6F2-B89F-4576-9A1B-32C2376CA97E"></a><h4 id="DWHSG-GUID-85CAA6F2-B89F-4576-9A1B-32C2376CA97E" class="sect4"><span class="enumeration_section">8.5.4 </span>How EXECUTE_REFRESH Sets the Status Fields During Synchronous Refresh
                  </h4>
                  <div>
                     <p>The <code class="codeph">EXECUTE_REFRESH</code> procedure divides the group of objects in the sync refresh group into subgroups, each of which is refreshed atomically. The first subgroup consists of the base tables. Each materialized view in the sync refresh group is placed in a separate subgroup and refreshed atomically.
                     </p>
                     <p>In the case of the <code class="codeph">EXECUTE_REFRESH</code> procedure, the possible end states of the <code class="codeph">STATUS</code> field are: <code class="codeph">COMPLETE</code>, <code class="codeph">PARTIAL</code>, and <code class="codeph">ABORT</code>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">STATUS</code> <code class="codeph">=</code> <code class="codeph">COMPLETE</code></p>
                           <p>This state is reached if the base tables and all the materialized views refresh successfully.</p>
                        </li>
                        <li>
                           <p><code class="codeph">STATUS</code> <code class="codeph">=</code> <code class="codeph">ABORT</code></p>
                           <p>This state indicates the refresh of the base tables subgroup has failed; the data in the tables and materialized views is consistent but unchanged. If this happens, then there should be an error associated with the failure. If it is a user error, such as a constraint violation, then you can fix the problem and retry the synchronous refresh operation from the beginning (that is, <code class="codeph">PREPARE_STAGING_LOG</code> for each table in the group <code class="codeph">PREPARE_REFRESH</code> and <code class="codeph">EXECUTE_REFRESH</code>.). If it is not a user error, then you should contact Oracle Support Services.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">STATUS</code> <code class="codeph">=</code> <code class="codeph">PARTIAL</code></p>
                           <p>If all the base tables refresh successfully and some, but not all, materialized views refresh successfully, then this state is reached. The data in the tables and materialized views that have refreshed successfully are consistent with one another; the other materialized views are stale and need complete refresh. If this happens, there should be an error associated with the failure. Most likely this is not a user error, but an Oracle error that you should report to Oracle Support Services. You have two choices in this state:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Retry execution of the <code class="codeph">EXECUTE_REFRESH</code> procedure. In such a case, <code class="codeph">EXECUTE_REFRESH</code> will retry the refresh of the failed materialized views with another refresh method like PCT-refresh or <code class="codeph">COMPLETE</code> refresh. If all materialized views succeed, then the status will be set to <code class="codeph">COMPLETE</code>. Otherwise, the status will remain at <code class="codeph">PARTIAL</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Invoke the <code class="codeph">ABORT_REFRESH</code> procedure to abort the materialized views. This will roll back changes to all materialized views and base tables. They will all have the same data as in the original state before any of the changes in the staging logs or registered partition operations has been applied to them.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>In the case of errors in the <code class="codeph">EXECUTE_REFRESH</code> procedure, the following fields in the <code class="codeph">USER_SR_GRP_STATUS</code> view are also useful:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NUM_MVS_COMPLETED</code>, which contains the number of materialized views that completed the refresh operation successfully.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NUM_MVS_ABORTED</code>, which contains the number of materialized views that aborted.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ERROR</code> and <code class="codeph">ERROR_MESSAGE</code>, which records the error encountered in the operation.
                           </p>
                        </li>
                     </ul>
                     <p>At the end of the <code class="codeph">EXECUTE_REFRESH</code>, procedure, the statuses of the objects in the group are marked as follows in the <code class="codeph">USER_SR_OBJ_STATUS</code> view:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The status of an object is set to <code class="codeph">COMPLETE</code> if the changes were applied to it successfully.
                           </p>
                        </li>
                        <li>
                           <p>The status of an object is set to <code class="codeph">ABORT</code> if the changes were not applied successfully. In this case, the object will be in the same state as it was before the refresh operation. The <code class="codeph">ERROR</code> and <code class="codeph">ERROR_MESSAGE</code> fields record the error encountered in the operation.
                           </p>
                        </li>
                        <li>
                           <p>The status of an object remains <code class="codeph">NOT</code> <code class="codeph">PROCESSED</code> if no changes were applied to it.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG9140"></a><a id="DWHSG9141"></a><a id="DWHSG9142"></a><a id="DWHSG9143"></a><a id="DWHSG9139"></a><div class="props_rev_3"><a id="GUID-12BD73E0-A438-4F41-89D5-D48B2704C654" name="GUID-12BD73E0-A438-4F41-89D5-D48B2704C654"></a><h4 id="DWHSG-GUID-12BD73E0-A438-4F41-89D5-D48B2704C654" class="sect4"><span class="enumeration_section">8.5.5 </span>Examples of Executing Synchronous Refresh Using EXECUTE_REFRESH
                  </h4>
                  <div>
                     <div class="section">
                        <p>This section provides examples of common cases when executing a refresh.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGHDIBJ">
                        <p class="titleinexample">Example 8-20 EXECUTE_REFRESH Completes Successfully</p>
                        <p><a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGHDIBJ">Example 8-20</a> shows an <code class="codeph">EXECUTE_REFRESH</code> procedure completing successfully.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.EXECUTE_REFRESH( DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));

PL/SQL procedure successfully completed.
 
SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------  ------
EXECUTE    COMPLETE
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGIJHFE">
                        <p class="titleinexample">Example 8-21 EXECUTE_REFRESH Succeeds Partially</p>
                        <p><a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGIJHFE">Example 8-21</a> shows an <code class="codeph">EXECUTE_REFRESH</code> procedure succeeding partially. In this example, the <code class="codeph">EXECUTE_REFRESH</code> procedure fails after refreshing the base tables but before completing the refresh of all the materialized views. The resulting status of the group is <code class="codeph">PARTIAL</code> and the QSM-03280 error message is thrown.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.EXECUTE_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
BEGIN DBMS_SYNC_REFRESH.EXECUTE_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')); END;
 
*
ERROR at line 1:
ORA-31928: Synchronous refresh error
QSM-03280: One or more materialized views failed to refresh successfully.
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 63
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 411
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 446
ORA-06512: at line 1
</pre><p>Check the status of the group itself after the <code class="codeph">EXECUTE_REFRESH</code>.procedure. Note that the operation field is set to <code class="codeph">EXECUTE</code> and the status is <code class="codeph">PARTIAL</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT OPERATION, STATUS FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------  -------------
EXECUTE    PARTIAL
</pre><p>By querying the <code class="codeph">USER_SR_GRP_STATUS</code> view, you find the number of materialized views that have aborted is 1 and the failed materialized view is <code class="codeph">MV1</code>.
                        </p>
                        <p>If you examine the status of objects in the group, because <code class="codeph">STORE</code> and <code class="codeph">TIME</code> are unchanged, then their status is <code class="codeph">NOT</code> <code class="codeph">PROCESSED</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT NAME, TYPE, STATUS FROM USER_SR_OBJ_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')
ORDER BY TYPE, NAME;
 
NAME             TYPE       STATUS
---------------- ---------- ----------------
MV1              MVIEW      ABORT
MV1_HALFMONTH    MVIEW      COMPLETE
MV2              MVIEW      COMPLETE
MV2_YEAR         MVIEW      COMPLETE
FACT             TABLE      COMPLETE
STORE            TABLE      NOT PROCESSED
TIME             TABLE      NOT PROCESSED
 
7 rows selected.
 
SELECT NUM_TBLS, NUM_MVS, NUM_MVS_COMPLETED, NUM_MVS_ABORTED
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
NUM_TBLS NUM_MVS NUM_MVS_COMPLETED NUM_MVS_ABORTED
-------- ------- ----------------- ---------------
       3       4                 3               1
</pre><p>At this point, you can attempt to run the <code class="codeph">EXECUTE_REFRESH</code> procedure once more. If the retry succeeds and the failed materialized views succeed, then the group status will be set to <code class="codeph">COMPLETE</code>. Otherwise, the status will remain at <code class="codeph">PARTIAL</code>. This is shown in <a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGGCHFG">Example 8-22</a>. You can also abort the refresh procedure and return to the original state. This is shown in <a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGHCEFA">Example 8-23</a>.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGGCHFG">
                        <p class="titleinexample">Example 8-22 Retrying a Refresh After a PARTIAL Status</p>
                        <p><a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGGCHFG">Example 8-22</a> illustrates a continuation of <a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGIJHFE">Example 8-21</a>. You retry the <code class="codeph">EXECUTE_REFRESH</code> procedure and it succeeds:
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.EXECUTE_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
 
PL/SQL procedure successfully completed.
 
--Check the status of the group itself after the EXECUTE_REFRESH operation;
--note that the operation field is set to EXECUTE and status is COMPLETE.

SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------  ---------
EXECUTE    COMPLETE
</pre><p>By querying the <code class="codeph">USER_SR_GRP_STATUS</code> view, you find the number of materialized views that have aborted is 0 and the status of <code class="codeph">MV1</code> is <code class="codeph">COMPLETE</code>. If you examine the status of objects in the group, because <code class="codeph">STORE</code> and <code class="codeph">TIME</code> are unchanged, then their status is <code class="codeph">NOT</code> <code class="codeph">PROCESSED</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT NAME, TYPE, STATUS FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')
ORDER BY TYPE, NAME;
 
NAME             TYPE       STATUS
---------------- ---------- ----------------
MV1              MVIEW      COMPLETE
MV1_HALFMONTH    MVIEW      COMPLETE
MV2              MVIEW      COMPLETE
MV2_YEAR         MVIEW      COMPLETE
FACT             TABLE      COMPLETE
STORE            TABLE      NOT PROCESSED
TIME             TABLE      NOT PROCESSED
 
7 rows selected.
 
SELECT NUM_TBLS, NUM_MVS, NUM_MVS_COMPLETED, NUM_MVS_ABORTED
FROM  USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
NUM_TBLS NUM_MVS NUM_MVS_COMPLETED NUM_MVS_ABORTED
-------- ------- ----------------- ---------------
       3       4                 4               0
</pre><p>You can examine the tables and materialized views to verify that the changes in the change data have been applied to them correctly, and the materialized views and tables are consistent with one another.</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGHCEFA">
                        <p class="titleinexample">Example 8-23 Aborting a Refresh with a PARTIAL Status</p>
                        <p><a href="synchronous-refresh.html#GUID-12BD73E0-A438-4F41-89D5-D48B2704C654__BCGHCEFA">Example 8-23</a> illustrates aborting a refresh procedure that is in a <code class="codeph">PARTIAL</code> state.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SYNC_REFRESH.ABORT_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
 
PL/SQL procedure successfully completed.
</pre><p>Check the status of the group itself after the <code class="codeph">ABORT_REFRESH</code> procedure; note that the operation field is set to <code class="codeph">EXECUTE</code> and status is <code class="codeph">ABORT</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT OPERATION, STATUS FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------- -------
EXECUTE    ABORT
</pre><p>By querying the <code class="codeph">USER_SR_GRP_STATUS</code> view, you see that all the materialized views have aborted, and the fact table as well. Check the status of objects in the group; because <code class="codeph">STORE</code> and <code class="codeph">TIME</code> are unchanged, their status is <code class="codeph">NOT</code> <code class="codeph">PROCESSED</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT NAME, TYPE, STATUS FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')
ORDER BY TYPE, NAME;
 
NAME             TYPE       STATUS
---------------- ---------- ----------------
MV1              MVIEW      ABORT
MV1_HALFMONTH    MVIEW      ABORT
MV2              MVIEW      ABORT
MV2_YEAR         MVIEW      ABORT
FACT             TABLE      ABORT
STORE            TABLE      NOT PROCESSED
TIME             TABLE      NOT PROCESSED
 
7 rows selected.
 
SELECT NUM_TBLS, NUM_MVS, NUM_MVS_COMPLETED, NUM_MVS_ABORTED
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
NUM_TBLS NUM_MVS NUM_MVS_COMPLETED NUM_MVS_ABORTED
-------- ------- ----------------- ---------------
       3       4                 0               4
</pre><p>You can examine the tables and materialized views to verify that they are all in the original state and no changes from the change data have been applied to them.</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DWHSG9145"></a><a id="DWHSG9144"></a><div class="props_rev_3"><a id="GUID-30E9A864-9C14-413B-93E4-6DD6E165BCC8" name="GUID-30E9A864-9C14-413B-93E4-6DD6E165BCC8"></a><h4 id="DWHSG-GUID-30E9A864-9C14-413B-93E4-6DD6E165BCC8" class="sect4"><span class="enumeration_section">8.5.6 </span>Example of EXECUTE_REFRESH with Constraint Violations
                  </h4>
                  <div>
                     <div class="section">
                        <p>In the synchronous refresh method, change data is loaded into the tables and materialized views at the same time to keep them synchronized. In the other refresh methods, change data is loaded into tables first, and any constraints that are enabled are checked at that time. In the synchronous refresh method, the outside table is prepared using trusted data from the user, and constraint validation is turned off to save execution time. The following example shows a constraint violation that is caught by the <code class="codeph">EXECUTE_REFRESH</code> procedure. In such cases, the final status of the <code class="codeph">EXECUTE_REFRESH</code> procedure will be <code class="codeph">ABORT</code>. You will have to identify and fix the problem in the change data and begin the synchronous refresh phase all over.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-30E9A864-9C14-413B-93E4-6DD6E165BCC8__BCGJJDEH">
                        <p class="titleinexample">Example 8-24 Child Key Constraint Violation</p>
                        <p>In <a href="synchronous-refresh.html#GUID-30E9A864-9C14-413B-93E4-6DD6E165BCC8__BCGJJDEH">Example 8-24</a>, assume the same tables as in the file <code class="codeph">syncref_run.sql</code> in the <code class="codeph">rdbms/demo</code> directory are used and populated with the same data. In particular, the table <code class="codeph">STORE</code> has four rows with the primary key <code class="codeph">STORE_KEY</code> having the values 1 through 4, and the <code class="codeph">FACT</code> table has rows referencing all four stores, including store 3.
                        </p>
                        <p>To demonstrate a parent-key constraint violation, populate the staging log of <code class="codeph">STORE</code> with the delete of the row having the <code class="codeph">STORE_KEY</code> of 3. There are no other changes to the other tables. When the <code class="codeph">EXECUTE_REFRESH</code> procedure runs, it fails with the ORA-02292 error as shown.
                        </p><pre class="oac_no_warn" dir="ltr">INSERT INTO st_store (dmltype$$, STORE_KEY, STORE_NUMBER, STORE_NAME, ZIPCODE)
VALUES ('D',   3, 3, 'Store 3', '03060');
 
-- Prepare the staging logs
EXECUTE DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG('syncref_user', 'fact');
EXECUTE DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG('syncref_user', 'time');
EXECUTE DBMS_SYNC_REFRESH.PREPARE_STAGING_LOG('syncref_user', 'store');
 
-- Prepare the refresh
EXECUTE DBMS_SYNC_REFRESH.PREPARE_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
 
-- Execute the refresh
EXECUTE DBMS_SYNC_REFRESH.EXECUTE_REFRESH( -
           DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1'));
BEGIN DBMS_SYNC_REFRESH.EXECUTE_REFRESH(DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1')); END;
 
*
ERROR at line 1:
ORA-02292: integrity constraint (SYNCREF_USER.SYS_C0031765) violated - child record found
ORA-06512: at line 1
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 63
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 411
ORA-06512: at "SYS.DBMS_SYNC_REFRESH", line 446
ORA-06512: at line 1
</pre><p>Examine the status of the group itself after the <code class="codeph">EXECUTE_REFRESH</code> procedure. Note that the operation field is set to <code class="codeph">EXECUTE</code> and the status is <code class="codeph">ABORT</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT OPERATION, STATUS
FROM USER_SR_GRP_STATUS
WHERE GROUP_ID = DBMS_SYNC_REFRESH.GET_GROUP_ID('MV1');
 
OPERATION  STATUS
---------- --------------
EXECUTE    ABORT
</pre><p>If you check the contents of the base tables and of <code class="codeph">MV1</code>, then you will find there is no change, and they all have the original values.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DWHSG9147"></a><a id="DWHSG9146"></a><div class="props_rev_3"><a id="GUID-9E57C982-149A-4C0C-AB9C-3F8A3F4CE2E3" name="GUID-9E57C982-149A-4C0C-AB9C-3F8A3F4CE2E3"></a><h3 id="DWHSG-GUID-9E57C982-149A-4C0C-AB9C-3F8A3F4CE2E3" class="sect3"><span class="enumeration_section">8.6 </span>Performing Synchronous Refresh Eligibility Analysis
               </h3>
               <div>
                  <div class="section">
                     <p>The <code class="codeph">CAN_SYNCREF_TABLE</code> function tells you whether a table and its dependent materialized views are eligible for synchronous refresh. It provides an explanation of its analysis. If the table and views are not eligible, you can examine the reasons and take appropriate action if possible. To be eligible for synchronous refresh, a table must satisfy the various criteria described earlier.
                     </p>
                     <p>You can invoke <code class="codeph">CAN_SYNCREF_TABLE</code> function in two ways:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p> Use a table to store the output of the <code class="codeph">CAN_SYNCREF_TABLE</code> function
                           </p>
                           <p>The following shows the basic syntax for using an output table: </p><pre class="oac_no_warn" dir="ltr">can_syncref_table(schema_name   IN VARCHAR2,
                  table_name    IN VARCHAR2,
                  statement_id  IN VARCHAR2)
</pre></li>
                        <li>
                           <p> Use a VARRAY to store the output of the CAN_SYNCREF_TABLE function</p>
                           <p>To direct the output of the <code class="codeph">CAN_SYNCREF_TABLE</code> function to a <code class="codeph">VARRAY</code> instead of a table, call the procedure as follows:
                           </p><pre class="oac_no_warn" dir="ltr">can_syncref_table(schema_name   IN VARCHAR2,
                  table_name    IN VARCHAR2,
                  output_array  IN OUT Sys.CanSyncRefTypeArray)
</pre></li>
                     </ul>
                     <p>You can create an output table called <code class="codeph">SYNCREF_TABLE</code> by executing the <code class="codeph">utlcsrt.sql</code> script. 
                     </p>
                     <div class="tblformal" id="GUID-9E57C982-149A-4C0C-AB9C-3F8A3F4CE2E3__GUID-16DECA53-81BE-4D70-ACF1-8D97E2BA9067">
                        <p class="titleintable">Table 8-1 CAN_SYNCREF_TABLE</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="CAN_SYNCREF_TABLE" summary="This table describes the parameters of the CAN_SYNCREF_TABLE function." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d34570e3294">Parameter</th>
                                 <th align="left" valign="bottom" width="77%" id="d34570e3297">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d34570e3302" headers="d34570e3294 ">
                                    <p><code class="codeph">schema_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d34570e3302 d34570e3297 ">
                                    <p>Name of the schema of the base table.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d34570e3310" headers="d34570e3294 ">
                                    <p><code class="codeph">base_table_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d34570e3310 d34570e3297 ">
                                    <p>Name of the base table.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d34570e3318" headers="d34570e3294 ">
                                    <p><code class="codeph">statement_id</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d34570e3318 d34570e3297 ">
                                    <p>A string (<code class="codeph">VARCHAR2(30)</code> to identify the rows pertaining to a call of the <code class="codeph">CAN_SYNCREF_TABLE</code> function when the output is directed to a table named <code class="codeph">SYNCREF_TABLE</code> in the user's schema.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d34570e3335" headers="d34570e3294 ">
                                    <p><code class="codeph">output_array</code></p>
                                 </td>
                                 <td align="left" valign="top" width="77%" headers="d34570e3335 d34570e3297 ">
                                    <p>The output array into which <code class="codeph">CAN_SYNCREF_TABLE</code> records the information on the eligibility of the base table and its dependent materialized views for synchronous refresh.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-9E57C982-149A-4C0C-AB9C-3F8A3F4CE2E3__GUID-59A88AF1-D638-40E7-A996-D00AFF3CF935">
                        <p class="notep1">Note:</p>
                        <p>Only one <code class="codeph">statement_id</code> or <code class="codeph">output_array</code> parameter need be provided to the <code class="codeph">CAN_SYNCREF_TABLE</code> function.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="DWHSG9148"></a><div class="props_rev_3"><a id="GUID-525992D6-4104-44BA-84D6-7B7CE50B8951" name="GUID-525992D6-4104-44BA-84D6-7B7CE50B8951"></a><h4 id="DWHSG-GUID-525992D6-4104-44BA-84D6-7B7CE50B8951" class="sect4"><span class="enumeration_section">8.6.1 </span>Using SYNCREF_TABLE to Store the Results of Synchronous Refresh Eligibility Analysis
                  </h4>
                  <div>
                     <div class="section">
                        <p>The output of the <code class="codeph">CAN_SYNCREF_TABLE</code> function can be directed to a table named <code class="codeph">SYNCREF_TABLE</code>. You are responsible for creating <code class="codeph">SYNCREF_TABLE</code>; it can be dropped when it is no longer needed. The format of <code class="codeph">SYNCREF_TABLE</code> is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE SYNCREF_TABLE(
          statement_id             VARCHAR2(30),
          schema_name              VARCHAR2(30),
          table_name               VARCHAR2(30),
          mv_schema_name           VARCHAR2(30),
          mv_name                  VARCHAR2(30),
          eligible                 VARCHAR2(1),   -- 'Y' , 'N'
          seq_num                  NUMBER,
          msg_number               NUMBER,
          message                  VARCHAR2(4000)
);
</pre><p>You must provide a different <code class="codeph">statement_id</code> parameter for each invocation of this procedure on the same table. If not, an error will be thrown. The <code class="codeph">statement_id</code>, <code class="codeph">schema_name</code>, and <code class="codeph">table_name</code> fields identify the results for a given table and <code class="codeph">statement_id</code>.
                        </p>
                        <p>Each row contains information on the eligibility of either the table or its dependent materialized view. The <code class="codeph">CAN_SYNCREF_TABLE</code> function guarantees that each row has values for both <code class="codeph">mv_schema_name</code> and <code class="codeph">mv_name</code> that are either <code class="codeph">NULL</code> or non-<code class="codeph">NULL</code>. These rows have the following semantics:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the <code class="codeph">mv_schema_name</code> value is <code class="codeph">NULL</code> and <code class="codeph">mv_name</code> is <code class="codeph">NULL</code>, then the <code class="codeph">ELIGIBLE</code> field describes whether the table is eligible for synchronous refresh; if the table is not eligible, the <code class="codeph">MSG_NUMBER</code> and <code class="codeph">MESSAGE</code> fields provide the reason for this.
                              </p>
                           </li>
                           <li>
                              <p>If the <code class="codeph">mv_schema_name</code> value is <code class="codeph">NOT</code> <code class="codeph">NULL</code> and <code class="codeph">mv_name</code> is <code class="codeph">NOT</code> <code class="codeph">NULL</code>, then the <code class="codeph">ELIGIBLE</code> field describes whether the materialized view is eligible for synchronous refresh; if the materialized view is not eligible, the <code class="codeph">MSG_NUMBER</code> and <code class="codeph">MESSAGE</code> fields provide the reason for this.
                              </p>
                           </li>
                        </ul>
                        <p>You must provide a different <code class="codeph">statement_id</code> parameter for each invocation of this procedure on the same table, or else an error will be thrown. The <code class="codeph">statement_id</code>, <code class="codeph">schema_name</code>, and <code class="codeph">table_name</code> fields identify the results for a given table and <code class="codeph">statement_id</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9149"></a><div class="props_rev_3"><a id="GUID-07ED0045-231C-477A-91F8-109BF4A92553" name="GUID-07ED0045-231C-477A-91F8-109BF4A92553"></a><h4 id="DWHSG-GUID-07ED0045-231C-477A-91F8-109BF4A92553" class="sect4"><span class="enumeration_section">8.6.2 </span>Using a VARRAY to Store the Results of Synchronous Refresh Eligibility Analysis
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can save the output of the <code class="codeph">CAN_SYNCREF_TABLE</code> function in a PL/SQL <code class="codeph">VARRAY</code>. The elements of this array are of type <code class="codeph">CanSyncRefMessage</code>, which is predefined in the <code class="codeph">SYS</code> schema as shown in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">TYPE CanSyncRefMessage IS OBJECT (
          schema_name         VARCHAR2(30),
          table_name          VARCHAR2(30),
          mv_schema_name      VARCHAR2(30),
          mv_name             VARCHAR2(30),
          eligible            VARCHAR2(1),    -- 'Y' , 'N'
          seq_num             NUMBER,
          msg_number          NUMBER,
          message             VARCHAR2(4000)
);
</pre><p>The array type, <code class="codeph">CanSyncRefArrayType</code>, which is a <code class="codeph">VARRAY</code> of <code class="codeph">CanSyncRefMessage</code> objects, is predefined in the <code class="codeph">SYS</code> schema as follows:
                        </p><pre class="oac_no_warn" dir="ltr">TYPE  CanSyncRefArrayType AS VARRAY(256) OF CanSyncRefMessage;
</pre><p>Each <code class="codeph">CanSyncRefMessage</code> record provides a message concerning the eligibility of the base table or a dependent materialized view for synchronous refresh. The semantics of the fields is the same as that of the corresponding fields in <code class="codeph">SYNCREF_TABLE</code>. However, <code class="codeph">SYNCREF_TABLE</code> has a <code class="codeph">statement_id</code> field that is absent in <code class="codeph">CanSyncRefMessage</code> because no <code class="codeph">statement_id</code> is supplied (because it is not required) when the <code class="codeph">CAN_SYNCREF_TABLE</code> procedure is called with a <code class="codeph">VARRAY</code> parameter.
                        </p>
                        <p>The default size limit for <code class="codeph">CanSyncRefArrayType</code> is 256 elements. If you need more than 256 elements, then connect as <code class="codeph">SYS</code> and redefine <code class="codeph">CanSyncRefArray</code>. The following commands, when connected as the <code class="codeph">SYS</code> user, redefine <code class="codeph">CanSyncRefArray</code> and set the limit to 2048 elements:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TYPE CanSyncRefArrayType AS VARRAY(2048) OF SYS.CanSyncRefMessage;
/
GRANT EXECUTE ON SYS.CanSyncRefMessage TO PUBLIC;

CREATE OR REPLACE PUBLIC SYNONYM CanSyncRefMessage FOR SYS.CanSyncRefMessage;
/
GRANT EXECUTE ON SYS.CanSyncRefArrayType TO PUBLIC;

CREATE OR REPLACE PUBLIC SYNONYM CanSyncRefArrayType FOR SYS.CanSyncRefArrayType;
/
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG9150"></a><div class="props_rev_3"><a id="GUID-3EA67828-9F6F-491A-8249-55564D88F284" name="GUID-3EA67828-9F6F-491A-8249-55564D88F284"></a><h4 id="DWHSG-GUID-3EA67828-9F6F-491A-8249-55564D88F284" class="sect4"><span class="enumeration_section">8.6.3 </span>Demo Scripts
                  </h4>
                  <div>
                     <p>The synchronous refresh demo scripts in the <code class="codeph">rdbms/demo</code> directory contain examples of the most common scenarios of the various synchronous refresh operations, including <code class="codeph">CAN_SYNCREF_API</code>. The main script is <code class="codeph">syncref_run.sql</code> and its log is <code class="codeph">syncref_run.log</code>. The file <code class="codeph">syncref_cst.sql</code> defines two procedures <code class="codeph">DO_CST</code> and <code class="codeph">DO_CST_ARR</code>, which simplify the usage of the <code class="codeph">CAN_SYNCREF_TABLE</code> function and display the information on the screen in a convenient format. This format is documented in the <code class="codeph">syncref_cst.sql</code> file.
                     </p>
                  </div>
               </div>
            </div><a id="DWHSG9151"></a><div class="props_rev_3"><a id="GUID-DC8054E4-FC5E-4DF1-8484-595562EA70CB" name="GUID-DC8054E4-FC5E-4DF1-8484-595562EA70CB"></a><h3 id="DWHSG-GUID-DC8054E4-FC5E-4DF1-8484-595562EA70CB" class="sect3"><span class="enumeration_section">8.7 </span>Overview of Synchronous Refresh Security Considerations
               </h3>
               <div>
                  <p>The execute privilege on the <code class="codeph">DBMS_SYNC_REFRESH</code> package is granted to <code class="codeph">PUBLIC</code>, so all users can execute the procedures in that package to perform synchronous refresh on objects owned by them. The database administrator can perform synchronous refresh operation on all tables and materialized views in the database.
                  </p>
                  <p>In general, if a user without the <code class="codeph">DBA</code> privilege wants to use synchronous refresh on another user's table, he must have complete privileges to read from and write to that table; that is, the user must have the <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges on that table or materialized view. The user can have the <code class="codeph">READ</code> privilege instead of the <code class="codeph">SELECT</code> privilege. A couple of exceptions occur in the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">PURGE_REFRESH_STATS</code> and <code class="codeph">ALTER_REFRESH_STATS_RETENTION</code> functions
                        </p>
                        <p>These two functions implement the purge policy and can be used to change the default retention period. These functions can be executed only by the database administrator.</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">CAN_SYNCREF_TABLE</code> function
                        </p>
                        <p>This is an advisory function that examines the eligibility for synchronous refresh of all the materialized views associated with a specified table. Hence, this function requires the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on all materialized views associated with the specified table.
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01094.DBMS_RULE_ADM.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_RULE_ADM package provides the subprograms for creating and managing rules, rule sets, and rule evaluation contexts.">
      <meta name="description" content="The DBMS_RULE_ADM package provides the subprograms for creating and managing rules, rule sets, and rule evaluation contexts.">
      <title>DBMS_RULE_ADM</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_RULE_ADM package provides the subprograms for creating and managing rules, rule sets, and rule evaluation contexts.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_RULE.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_SCHEDULER.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_RULE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_SCHEDULER.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_RULE_ADM</li>
            </ol>
            <a id="GUID-3AC54B50-C163-43E0-AFB6-DD1B7C1CDF03" name="GUID-3AC54B50-C163-43E0-AFB6-DD1B7C1CDF03"></a><a id="ARPLS304"></a><a id="ARPLS304"></a>
            
            <h2 id="ARPLS-GUID-3AC54B50-C163-43E0-AFB6-DD1B7C1CDF03" class="sect2"><span class="enumeration_chapter">144 </span> DBMS_RULE_ADM
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_RULE_ADM</code> package provides the subprograms for creating and managing rules, rule sets, and rule evaluation contexts.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_RULE_ADM.html#GUID-79586CBE-84C2-4790-B932-81BA6B4F64C4" title="This package provides the subprograms for creating and managing rules, rule sets, and rule evaluation contexts.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_RULE_ADM.html#GUID-B836ADCC-B8ED-4348-9CFD-2F4FFD58E9AF" title="PUBLIC is granted EXECUTE privilege on this package.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_RULE_ADM.html#GUID-96B621F6-D7FF-4014-996A-1B6FD5C2AB81" title="This table lists the DBMS_RULE_ADM subprograms and briefly describes them.">Summary of DBMS_RULE_ADM Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS73182"></a><a id="ARPLS73182"></a><div class="props_rev_3"><a id="GUID-79586CBE-84C2-4790-B932-81BA6B4F64C4" name="GUID-79586CBE-84C2-4790-B932-81BA6B4F64C4"></a><h3 id="ARPLS-GUID-79586CBE-84C2-4790-B932-81BA6B4F64C4" class="sect3"><span class="enumeration_section">144.1 </span>DBMS_RULE_ADM Overview
               </h3>
               <div>
                  <p>This package provides the subprograms for creating and managing rules, rule sets, and rule evaluation contexts.</p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-79586CBE-84C2-4790-B932-81BA6B4F64C4__GUID-28C140C4-23B4-47BC-B03C-7778A412360D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="Rule-TYPEs.html#GUID-8F7F6A05-3356-4B93-860D-78B0E1931C8B" title="This chapter describes the types used with rules, rule sets, and evaluation contexts.">Rule TYPEs</a> for more information about the types used with the <code class="codeph">DBMS_RULE_ADM</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="DBMS_RULE.html#GUID-B846207D-78A5-4EB5-BE93-9224756F6CC0" title="The DBMS_RULE package contains subprograms that enable the evaluation of a rule set for a specified event."> DBMS_RULE</a> 
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67791"></a><a id="ARPLS67791"></a><div class="props_rev_3"><a id="GUID-B836ADCC-B8ED-4348-9CFD-2F4FFD58E9AF" name="GUID-B836ADCC-B8ED-4348-9CFD-2F4FFD58E9AF"></a><h3 id="ARPLS-GUID-B836ADCC-B8ED-4348-9CFD-2F4FFD58E9AF" class="sect3"><span class="enumeration_section">144.2 </span>DBMS_RULE_ADM Security Model
               </h3>
               <div>
                  <p><code class="codeph">PUBLIC</code> is granted <code class="codeph">EXECUTE</code> privilege on this package.
                  </p>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-B836ADCC-B8ED-4348-9CFD-2F4FFD58E9AF__GUID-EA07FC5B-EB49-4C95-9BCE-416A43CE7423">
                        <p class="notep1">See Also:</p>
                        <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG40048" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information about user group <code class="codeph">PUBLIC</code></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS531"></a><a id="ARPLS67792"></a><a id="ARPLS67792"></a><a id="ARPLS531"></a><div class="props_rev_3"><a id="GUID-96B621F6-D7FF-4014-996A-1B6FD5C2AB81" name="GUID-96B621F6-D7FF-4014-996A-1B6FD5C2AB81"></a><h3 id="ARPLS-GUID-96B621F6-D7FF-4014-996A-1B6FD5C2AB81" class="sect3"><span class="enumeration_section">144.3 </span>Summary of DBMS_RULE_ADM Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_RULE_ADM</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-96B621F6-D7FF-4014-996A-1B6FD5C2AB81__GUID-569BF17A-5B82-47EE-947F-BCD049A0D29D">
                     <p class="titleintable">Table 144-1 DBMS_RULE_ADM Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_RULE_ADM Package Subprograms" summary="This table lists the DBMS_RULE_ADM subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d760349e446">Subprogram</th>
                              <th align="left" valign="bottom" width="56%" id="d760349e449">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e454" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737" title="This procedure adds the specified rule to the specified rule set.">ADD_RULE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e454 d760349e449 ">
                                 <p>Adds the specified rule to the specified rule set</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e466" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-17922ABB-D34D-4882-8106-75ACB3023723" title="This procedure alters a rule evaluation context. A rule evaluation context defines external data that can be referenced in rule conditions. The external data can either exist as variables or as table data.">ALTER_EVALUATION_CONTEXT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e466 d760349e449 ">
                                 <p>Alters a rule evaluation context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e478" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9" title="This procedure changes one or more aspects of the specified rule.">ALTER_RULE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e478 d760349e449 ">
                                 <p>Changes one or more aspects of the specified rule</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e490" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51" title="This procedure creates a rule evaluation context. A rule evaluation context defines external data that can be referenced in rule conditions. The external data can either exist as variables or as table data.">CREATE_EVALUATION_CONTEXT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e490 d760349e449 ">
                                 <p>Creates a rule evaluation context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e502" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7" title="This procedure creates a rule.">CREATE_RULE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e502 d760349e449 ">
                                 <p>Creates a rule with the specified name</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e514" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632" title="This procedure creates a rule set.">CREATE_RULE_SET Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e514 d760349e449 ">
                                 <p>Creates a rule set with the specified name</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e526" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-21803734-225E-4BAB-BB87-A68340DC391A" title="This procedure drops a rule evaluation context.">DROP_EVALUATION_CONTEXT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e526 d760349e449 ">
                                 <p>Drops the rule evaluation context with the specified name</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e538" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C" title="This procedure drops a rule.">DROP_RULE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e538 d760349e449 ">
                                 <p>Drops the rule with the specified name</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e550" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-D2091FC3-63DF-4375-82B5-6D02E1377435" title="This procedure drops a rule set.">DROP_RULE_SET Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e550 d760349e449 ">
                                 <p>Drops the rule set with the specified name</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e562" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6" title="This procedure grants the specified object privilege on the specified object to the specified user or role. If a user owns the object, then the user automatically is granted all privileges on the object, with grant option.">GRANT_OBJECT_PRIVILEGE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e562 d760349e449 ">
                                 <p>Grants the specified object privilege on the specified object to the specified user or role</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e574" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-2F14077C-81B4-495D-8F9B-898F580999BC" title="This procedure grant the specified system privilege to the specified user or role.">GRANT_SYSTEM_PRIVILEGE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e574 d760349e449 ">
                                 <p>Grants the specified system privilege to the specified user or role</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e587" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-753514AB-0FA1-4946-B713-477ECECD9EE8" title="This procedure removes the specified rule from the specified rule set.">REMOVE_RULE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e587 d760349e449 ">
                                 <p>Removes the specified rule from the specified rule set</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e599" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-D45337AA-081D-4638-88A4-5AD38F4F4F22" title="This procedure revokes the specified object privilege on the specified object from the specified user or role.">REVOKE_OBJECT_PRIVILEGE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e599 d760349e449 ">
                                 <p>Revokes the specified object privilege on the specified object from the specified user or role</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d760349e611" headers="d760349e446 ">
                                 <p><a href="DBMS_RULE_ADM.html#GUID-7A9B26C7-C4EC-4A32-A656-C92CE7985E64" title="This procedure revokes the specified system privilege from the specified user or role.">REVOKE_SYSTEM_PRIVILEGE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d760349e611 d760349e449 ">
                                 <p>Revokes the specified system privilege from the specified user or role</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-96B621F6-D7FF-4014-996A-1B6FD5C2AB81__GUID-4ACBD27C-2E46-43BC-BB1F-286F1B3041CD">
                        <p class="notep1">Note:</p>
                        <p>All subprograms commit unless specified otherwise.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS559"></a><a id="ARPLS67793"></a><a id="ARPLS67793"></a><a id="ARPLS559"></a><div class="props_rev_3"><a id="GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737" name="GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737"></a><h4 id="ARPLS-GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737" class="sect4"><span class="enumeration_section">144.3.1 </span>ADD_RULE Procedure
                  </h4>
                  <div>
                     <p>This procedure adds the specified rule to the specified rule set.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737__GUID-112EB6F9-AE93-4238-965F-A5C43DCD90E4">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.ADD_RULE(
&nbsp;&nbsp; rule_name  &nbsp;&nbsp;&nbsp;&nbsp;     IN  VARCHAR2,
 &nbsp;&nbsp;rule_set_name       IN  VARCHAR2,
   evaluation_context  IN  VARCHAR2   DEFAULT NULL,
&nbsp; &nbsp;rule_comment        IN  VARCHAR2   DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737__GUID-13B3BAD5-49F1-48F3-A6E8-343A57093C14">Parameters</p>
                        <div class="tblformal" id="GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737__GUID-B568B826-AE37-4760-994E-693D9FA33FB1">
                           <p class="titleintable">Table 144-2 ADD_RULE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ADD_RULE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.ADD_RULE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e740">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e743">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e748" headers="d760349e740 ">
                                       <p><code class="codeph">rule_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e748 d760349e743 ">
                                       <p>The name of the rule you are adding to the rule set, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_name</code></span>. For example, to add a rule named <code class="codeph">all_a</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.all_a</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e776" headers="d760349e740 ">
                                       <p><code class="codeph">rule_set_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e776 d760349e743 ">
                                       <p>The name of the rule set to which you are adding the rule, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_set_name</code></span>. For example, to add the rule to a rule set named <code class="codeph">apply_rules</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.apply_rules</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e804" headers="d760349e740 ">
                                       <p><code class="codeph">evaluation_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e804 d760349e743 ">
                                       <p>An evaluation context name in the form <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>. If the schema is not specified, then the current user is the default.
                                       </p>
                                       <p>Only specify an evaluation context if the rule itself does not have an evaluation context and you do not want to use the rule set's evaluation context for the rule.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e825" headers="d760349e740 ">
                                       <p><code class="codeph">rule_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e825 d760349e743 ">
                                       <p>Optional description, which can contain the reason for adding the rule to the rule set</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71C93373-9E4F-42D2-B766-2DCBF1BCE737__GUID-2A979D0B-AD6D-441A-87D7-6A48F3A1A38D">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">ALTER_ON_RULE_SET</code> privilege on the rule set
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">ALTER</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code>_<code class="codeph">SET</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Be the owner of the rule set</p>
                           </li>
                        </ul>
                        <p>Also, the rule set owner must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ON_RULE</code> privilege on the rule
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">EXECUTE</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Be the rule owner</p>
                           </li>
                        </ul>
                        <p>If the rule has no evaluation context and no evaluation context is specified when you run this procedure, then the rule uses the evaluation context associated with the rule set. In such a case, the rule owner must have the necessary privileges on all the base objects accessed by the rule using the evaluation context.</p>
                        <p>If an evaluation context is specified, then the rule set owner must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ON_EVALUATION_CONTEXT</code> privilege on the evaluation context
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ANY_EVALUATION_CONTEXT</code> system privilege, and the owner of the evaluation context must not be <code class="codeph">SYS</code></p>
                           </li>
                           <li>
                              <p>Be the evaluation context owner</p>
                           </li>
                        </ul>
                        <p>Also, the rule owner must have the necessary privileges on all the base objects accessed by the rule using the evaluation context.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67794"></a><a id="ARPLS67795"></a><a id="ARPLS67795"></a><a id="ARPLS67794"></a><div class="props_rev_3"><a id="GUID-17922ABB-D34D-4882-8106-75ACB3023723" name="GUID-17922ABB-D34D-4882-8106-75ACB3023723"></a><h4 id="ARPLS-GUID-17922ABB-D34D-4882-8106-75ACB3023723" class="sect4"><span class="enumeration_section">144.3.2 </span>ALTER_EVALUATION_CONTEXT Procedure
                  </h4>
                  <div>
                     <p>This procedure alters a rule evaluation context. A rule evaluation context defines external data that can be referenced in rule conditions. The external data can either exist as variables or as table data.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-17922ABB-D34D-4882-8106-75ACB3023723__GUID-9E21E0BE-1C20-4319-8096-CBC7E4AF57EC">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.ALTER_EVALUATION_CONTEXT(
&nbsp;&nbsp;evaluation_context_name  &nbsp;&nbsp;&nbsp;&nbsp;IN  VARCHAR2,
&nbsp;&nbsp;table_aliases &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  SYS.RE$TABLE_ALIAS_LIST    DEFAULT NULL,
  remove_table_aliases &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  BOOLEAN                    DEFAULT FALSE,
&nbsp;&nbsp;variable_types &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  SYS.RE$VARIABLE_TYPE_LIST  DEFAULT NULL,
  remove_variable_types &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  BOOLEAN                    DEFAULT FALSE,
&nbsp;&nbsp;evaluation_function &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  VARCHAR2                   DEFAULT NULL,
  remove_evaluation_function &nbsp;&nbsp;IN  BOOLEAN                    DEFAULT FALSE,
&nbsp;&nbsp;evaluation_context_comment   IN  VARCHAR2                   DEFAULT NULL,
  remove_eval_context_comment &nbsp;IN  BOOLEAN                    DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17922ABB-D34D-4882-8106-75ACB3023723__GUID-49CCEE3E-0EE8-4B26-A45A-D5B5DA558C2C">Parameters</p>
                        <div class="tblformal" id="GUID-17922ABB-D34D-4882-8106-75ACB3023723__GUID-3AC5406D-538C-4752-BD0A-7C47413BD31C">
                           <p class="titleintable">Table 144-3 ALTER_EVALUATION_CONTEXT Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_EVALUATION_CONTEXT Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.ALTER_EVALUATION_CONTEXT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="41%" id="d760349e1027">Parameter</th>
                                    <th align="left" valign="bottom" width="59%" id="d760349e1030">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1035" headers="d760349e1027 ">
                                       <p><code class="codeph">evaluation_context_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1035 d760349e1030 ">
                                       <p>The name of the evaluation context you are altering, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>. 
                                       </p>
                                       <p>For example, to alter an evaluation context named <code class="codeph">dept_</code><code class="codeph">eval_context</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.dept_eval_context</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1067" headers="d760349e1027 ">
                                       <p><code class="codeph">table_aliases</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1067 d760349e1030 ">
                                       <p>If <code class="codeph">NULL</code> and <code class="codeph">remove_table_aliases</code> is <code class="codeph">FALSE</code>, then the procedure retains the existing table aliases. If <code class="codeph">NULL</code> and <code class="codeph">remove_table_aliases</code> is <code class="codeph">TRUE</code>, then the procedure removes the existing table aliases. 
                                       </p>
                                       <p>If non-<code class="codeph">NULL</code>, then the procedure replaces the existing table aliases for the evaluation context with the specified table aliases.
                                       </p>
                                       <p>Table aliases specify the tables in an evaluation context. The table aliases can be used to reference tables in rule conditions.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1101" headers="d760349e1027 ">
                                       <p><code class="codeph">remove_table_aliases</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1101 d760349e1030 ">
                                       <p>If <code class="codeph">TRUE</code> and <code class="codeph">table_aliases</code> is <code class="codeph">NULL</code>, then the procedure removes the existing table aliases for the evaluation context. If <code class="codeph">TRUE</code> and <code class="codeph">table_aliases</code> is non-<code class="codeph">NULL</code>, then the procedure raises an error.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure does not remove table aliases.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1133" headers="d760349e1027 ">
                                       <p><code class="codeph">variable_types</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1133 d760349e1030 ">
                                       <p>If <code class="codeph">NULL</code> and <code class="codeph">remove_variable_types</code> is <code class="codeph">FALSE</code>, then the procedure retains the variable types. If <code class="codeph">NULL</code> and <code class="codeph">remove_variable_types</code> is <code class="codeph">TRUE</code>, then the procedure removes the existing variable types.
                                       </p>
                                       <p>If non-<code class="codeph">NULL</code>, then the procedure replaces the existing variable types for the evaluation context with the specified variable types.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1165" headers="d760349e1027 ">
                                       <p><code class="codeph">remove_variable_types</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1165 d760349e1030 ">
                                       <p>If <code class="codeph">TRUE</code> and <code class="codeph">variable_types</code> is <code class="codeph">NULL</code>, then the procedure removes the existing variable types for the evaluation context. If <code class="codeph">TRUE</code> and <code class="codeph">variable_types</code> is non-<code class="codeph">NULL</code>, then the procedure raises an error.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure does not remove the variable types.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1197" headers="d760349e1027 ">
                                       <p><code class="codeph">evaluation_function</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1197 d760349e1030 ">
                                       <p>If <code class="codeph">NULL</code> and <code class="codeph">remove_evaluation_function</code> is <code class="codeph">FALSE</code>, then the procedure retains the existing evaluation function. If <code class="codeph">NULL</code> and <code class="codeph">remove_evaluation_function</code> is <code class="codeph">TRUE</code>, then the procedure removes the existing evaluation function.
                                       </p>
                                       <p>If non-<code class="codeph">NULL</code>, then the procedure replaces the existing evaluation function for the evaluation context with the specified evaluation function.
                                       </p>
                                       <p>An evaluation function is an optional function that will be called to evaluate rules that use the evaluation context. It must have the same form as the <code class="codeph">DBMS_RULE.EVALUATE</code> procedure. If the schema is not specified, then the current user is the default.
                                       </p>
                                       <p>See <a href="DBMS_RULE_ADM.html#GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51" title="This procedure creates a rule evaluation context. A rule evaluation context defines external data that can be referenced in rule conditions. The external data can either exist as variables or as table data.">CREATE_EVALUATION_CONTEXT Procedure</a>for more information about evaluation functions.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1243" headers="d760349e1027 ">
                                       <p><code class="codeph">remove_evaluation_function</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1243 d760349e1030 ">
                                       <p>If <code class="codeph">TRUE</code> and <code class="codeph">evaluation_function</code> is <code class="codeph">NULL</code>, then the procedure removes the existing evaluation function for the evaluation context. If <code class="codeph">TRUE</code> and <code class="codeph">evaluation_function</code> is non-<code class="codeph">NULL</code>, then the procedure raises an error.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure does not remove the evaluation function.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1275" headers="d760349e1027 ">
                                       <p><code class="codeph">evaluation_context_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1275 d760349e1030 ">
                                       <p>If <code class="codeph">NULL</code> and <code class="codeph">remove_eval_context_comment</code> is <code class="codeph">FALSE</code>, then the procedure retains the existing evaluation context comment. If <code class="codeph">NULL</code> and <code class="codeph">remove_evaluation_function</code> is <code class="codeph">TRUE</code>, then the procedure removes the existing evaluation context comment. 
                                       </p>
                                       <p>If non-<code class="codeph">NULL</code>, then the procedure replaces the existing comment for the evaluation context with the specified comment.
                                       </p>
                                       <p>An evaluation context comment is an optional description of the rule evaluation context.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="41%" id="d760349e1309" headers="d760349e1027 ">
                                       <p><code class="codeph">remove_eval_context_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="59%" headers="d760349e1309 d760349e1030 ">
                                       <p>If <code class="codeph">TRUE</code> and <code class="codeph">evaluation_context_comment</code> is <code class="codeph">NULL</code>, then the procedure removes the existing comment for the evaluation context. If <code class="codeph">TRUE</code> and <code class="codeph">evaluation_context_comment</code> is non-<code class="codeph">NULL</code>, then the procedure raises an error.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure does not remove the evaluation context comment.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17922ABB-D34D-4882-8106-75ACB3023723__GUID-64BE542E-2944-4C8D-A973-529BA7BCB3A6">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the owner of the evaluation context being altered</p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">ALL_ON_EVALUATION_CONTEXT</code> or <code class="codeph">ALTER_ON_EVALUATION_CONTEXT</code> object privilege on an evaluation context owned by another user
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">ALTER_ANY_EVALUATION_CONTEXT</code> system privilege
                              </p>
                              <div class="infoboxnotealso" id="GUID-17922ABB-D34D-4882-8106-75ACB3023723__GUID-4453313B-1A7B-4845-9C6E-71BA4299FA35">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="Rule-TYPEs.html#GUID-8F7F6A05-3356-4B93-860D-78B0E1931C8B" title="This chapter describes the types used with rules, rule sets, and evaluation contexts.">Rule TYPEs</a> for more information about the types used with the <code class="codeph">DBMS_RULE_ADM</code> package
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS328"></a><a id="ARPLS67796"></a><a id="ARPLS67796"></a><a id="ARPLS328"></a><div class="props_rev_3"><a id="GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9" name="GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9"></a><h4 id="ARPLS-GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9" class="sect4"><span class="enumeration_section">144.3.3 </span>ALTER_RULE Procedure
                  </h4>
                  <div>
                     <p>This procedure changes one or more aspects of the specified rule.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9__GUID-D1A81C37-E012-4AD8-AA32-BA4BDC819A22">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.ALTER_RULE(
 &nbsp;&nbsp;rule_name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        IN  VARCHAR2,
&nbsp; &nbsp;condition  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       IN  VARCHAR2        DEFAULT NULL,
&nbsp; &nbsp;evaluation_context &nbsp;       IN  VARCHAR2        DEFAULT NULL,
   remove_evaluation_context  IN  BOOLEAN         DEFAULT FALSE,
&nbsp; &nbsp;action_context &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       IN  SYS.RE$NV_LIST  DEFAULT NULL,
   remove_action_context      IN  BOOLEAN         DEFAULT FALSE,
   rule_comment               IN  VARCHAR2        DEFAULT NULL,
   remove_rule_comment        IN  BOOLEAN         DEFAULT FALSE); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9__GUID-A1892E1B-7F54-403F-A816-8F0862F9872F">Parameters</p>
                        <div class="tblformal" id="GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9__GUID-B6F2DECA-4BBA-4FD1-9952-02241F2E6389">
                           <p class="titleintable">Table 144-4 ALTER_RULE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_RULE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.ALTER_RULE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="38%" id="d760349e1490">Parameter</th>
                                    <th align="left" valign="bottom" width="62%" id="d760349e1493">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1498" headers="d760349e1490 ">
                                       <p><code class="codeph">rule_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1498 d760349e1493 ">
                                       <p>The name of the rule you are altering, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_name</code></span>. For example, to alter a rule named <code class="codeph">all_a</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.all_a</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1526" headers="d760349e1490 ">
                                       <p><code class="codeph">condition</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1526 d760349e1493 ">
                                       <p>The condition to be associated with the rule. </p>
                                       <p>If non-<code class="codeph">NULL</code>, then the procedure replaces the existing condition of the rule with the specified condition.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1539" headers="d760349e1490 ">
                                       <p><code class="codeph">evaluation_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1539 d760349e1493 ">
                                       <p>An evaluation context name in the form <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>. If the schema is not specified, then the current user is the default. 
                                       </p>
                                       <p>If non-<code class="codeph">NULL</code>, then the procedure replaces the existing evaluation context of the rule with the specified evaluation context.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1563" headers="d760349e1490 ">
                                       <p><code class="codeph">remove_evaluation_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1563 d760349e1493 ">
                                       <p>If <code class="codeph">TRUE</code>, then the procedure sets the evaluation context for the rule to <code class="codeph">NULL</code>, which effectively removes the evaluation context from the rule.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure retains any evaluation context for the specified rule. 
                                       </p>
                                       <p>If the <code class="codeph">evaluation_context</code> parameter is non-<code class="codeph">NULL</code>, then this parameter should be set to <code class="codeph">FALSE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1593" headers="d760349e1490 ">
                                       <p><code class="codeph">action_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1593 d760349e1493 ">
                                       <p>If non-<code class="codeph">NULL</code>, then the procedure changes the action context associated with the rule. A rule action context is information associated with a rule that is interpreted by the client of the rules engine when the rule is evaluated.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1604" headers="d760349e1490 ">
                                       <p><code class="codeph">remove_action_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1604 d760349e1493 ">
                                       <p>If <code class="codeph">TRUE</code>, then the procedure sets the action context for the rule to <code class="codeph">NULL</code>, which effectively removes the action context from the rule.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure retains any action context for the specified rule. 
                                       </p>
                                       <p>If the <code class="codeph">action_context</code> parameter is non-<code class="codeph">NULL</code>, then this parameter should be set to <code class="codeph">FALSE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1634" headers="d760349e1490 ">
                                       <p><code class="codeph">rule_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1634 d760349e1493 ">
                                       <p>If non-<code class="codeph">NULL</code>, then the existing comment of the rule is replaced by the specified comment.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d760349e1645" headers="d760349e1490 ">
                                       <p><code class="codeph">remove_rule_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d760349e1645 d760349e1493 ">
                                       <p>If <code class="codeph">TRUE</code>, then the procedure sets the comment for the rule to <code class="codeph">NULL</code>, which effectively removes the comment from the rule.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure retains any comment for the specified rule. 
                                       </p>
                                       <p>If the <code class="codeph">rule_comment</code> parameter is non-<code class="codeph">NULL</code>, then this parameter should be set to <code class="codeph">FALSE</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9__GUID-F9E95279-9BB8-4AB7-AD04-D78F899031B9">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">ALTER_ON_RULE</code> privilege on the rule
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">ALTER</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Be the owner of the rule being altered</p>
                           </li>
                        </ul>
                        <p>If an evaluation context is specified, then the rule owner must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ON_EVALUATION_CONTEXT</code> privilege on the evaluation context
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ANY_EVALUATION_CONTEXT</code> system privilege, and the owner of the evaluation context must not be <code class="codeph">SYS</code></p>
                           </li>
                           <li>
                              <p>Be the evaluation context owner</p>
                           </li>
                        </ul>
                        <p>Also, the rule owner must have the necessary privileges on all the base objects accessed by the rule using the evaluation context.</p>
                        <div class="infoboxnotealso" id="GUID-BFF7D165-FDF5-4726-BCBE-5A234BCE93B9__GUID-56B6C13F-4C1C-47D5-8402-A72FF99172C2">
                           <p class="notep1">See Also:</p>
                           <p><a href="Rule-TYPEs.html#GUID-8F7F6A05-3356-4B93-860D-78B0E1931C8B" title="This chapter describes the types used with rules, rule sets, and evaluation contexts.">Rule TYPEs</a> for more information about the types used with the <code class="codeph">DBMS_RULE_ADM</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS327"></a><a id="ARPLS67797"></a><a id="ARPLS67797"></a><a id="ARPLS327"></a><div class="props_rev_3"><a id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51" name="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51"></a><h4 id="ARPLS-GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51" class="sect4"><span class="enumeration_section">144.3.4 </span>CREATE_EVALUATION_CONTEXT Procedure
                  </h4>
                  <div>
                     <p>This procedure creates a rule evaluation context. A rule evaluation context defines external data that can be referenced in rule conditions. The external data can either exist as variables or as table data.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__GUID-CFA6A4AE-3285-415C-A34A-4B88C6DE1838">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.CREATE_EVALUATION_CONTEXT(
&nbsp;&nbsp;evaluation_context_name  &nbsp;&nbsp;&nbsp;&nbsp;IN  VARCHAR2,
&nbsp;&nbsp;table_aliases &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  SYS.RE$TABLE_ALIAS_LIST    DEFAULT NULL,
&nbsp;&nbsp;variable_types &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  SYS.RE$VARIABLE_TYPE_LIST  DEFAULT NULL,
&nbsp;&nbsp;evaluation_function &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  VARCHAR2                   DEFAULT NULL,
&nbsp;&nbsp;evaluation_context_comment   IN  VARCHAR2                   DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__GUID-55951FA5-611C-4C8F-B63C-52408593C5FA">Parameters</p>
                        <div class="tblformal" id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__GUID-053B8A70-58AD-4303-B7F3-8C41EDFC8B58">
                           <p class="titleintable">Table 144-5 CREATE_EVALUATION_CONTEXT Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_EVALUATION_CONTEXT Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.CREATE_EVALUATION_CONTEXT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="40%" id="d760349e1851">Parameter</th>
                                    <th align="left" valign="bottom" width="60%" id="d760349e1854">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d760349e1859" headers="d760349e1851 ">
                                       <p><code class="codeph">evaluation_context_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d760349e1859 d760349e1854 ">
                                       <p>The name of the evaluation context you are creating, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>. 
                                       </p>
                                       <p>For example, to create an evaluation context named <code class="codeph">dept_</code><code class="codeph">eval_context</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.dept_eval_context</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d760349e1891" headers="d760349e1851 ">
                                       <p><code class="codeph">table_aliases</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d760349e1891 d760349e1854 ">
                                       <p>Table aliases that specify the tables in an evaluation context. The table aliases can be used to reference tables in rule conditions. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d760349e1899" headers="d760349e1851 ">
                                       <p><code class="codeph">variable_types</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d760349e1899 d760349e1854 ">
                                       <p>A list of variables for the evaluation context</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d760349e1907" headers="d760349e1851 ">
                                       <p><code class="codeph">evaluation_function</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d760349e1907 d760349e1854 ">
                                       <p>An optional function that will be called to evaluate rules using the evaluation context. It must have the same form as the <code class="codeph">DBMS_RULE.EVALUATE</code> procedure. If the schema is not specified, then the current user is the default.
                                       </p>
                                       <p>See <span class="q">"<a href="DBMS_RULE_ADM.html#GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__I997112">Usage Notes</a>"</span> for more information about the evaluation function.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="40%" id="d760349e1924" headers="d760349e1851 ">
                                       <p><code class="codeph">evaluation_context_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d760349e1924 d760349e1854 ">
                                       <p>An optional description of the rule evaluation context.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__I997112">
                        <p class="subhead3" id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__GUID-02F3DB8A-A85F-4BFF-8801-37AB78D9A4B6">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the owner of the evaluation context being created and have <code class="codeph">CREATE_EVALUATION_CONTEXT_OBJ</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">CREATE</code>_<code class="codeph">ANY</code>_<code class="codeph">EVALUATION</code>_<code class="codeph">CONTEXT</code> system privilege
                              </p>
                              <div class="infoboxnotealso" id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__GUID-E34FE8A7-03E5-4D14-802E-0855A67162CE">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="Rule-TYPEs.html#GUID-8F7F6A05-3356-4B93-860D-78B0E1931C8B" title="This chapter describes the types used with rules, rule sets, and evaluation contexts.">Rule TYPEs</a> for more information about the types used with the <code class="codeph">DBMS_RULE_ADM</code> package
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p>The evaluation function must have the following signature:</p><pre class="oac_no_warn" dir="ltr">FUNCTION <span class="italic">evaluation_function_name(</span>
  rule_set_name       IN   VARCHAR2,
  evaluation_context  IN   VARCHAR2,
  event_context       IN   SYS.RE$NV_LIST               DEFAULT NULL,
  table_values        IN   SYS.RE$TABLE_VALUE_LIST      DEFAULT NULL,
  column_values       IN   SYS.RE$COLUMN_VALUE_LIST     DEFAULT NULL,
  variable_values     IN   SYS.RE$VARIABLE_VALUE_LIST   DEFAULT NULL,
  attribute_values    IN   SYS.RE$ATTRIBUTE_VALUE_LIST  DEFAULT NULL,
  stop_on_first_hit   IN   BOOLEAN                      DEFAULT FALSE,
  simple_rules_only   IN   BOOLEAN                      DEFAULT FALSE,
  true_rules          OUT  SYS.RE$RULE_HIT_LIST,
  maybe_rules         OUT  SYS.RE$RULE_HIT_LIST);
RETURN BINARY_INTEGER;</pre><div class="infoboxnote" id="GUID-91361B09-C6E2-4CE5-BB7D-510E29116A51__GUID-B6C4F53E-F7DC-4543-9218-7C84D7350B75">
                           <p class="notep1">Note:</p>
                           <p>Each parameter is required and must have the specified datatype. However, you can change the names of the parameters.</p>
                        </div>
                        <p>The return value of the function must be one of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_RULE_ADM.EVALUATION_SUCCESS</code>: The user specified evaluation function completed the rule set evaluation successfully. The rules engine returns the results of the evaluation obtained by the evaluation function to the rules engine client using the <code class="codeph">DBMS_RULE.EVALUATE</code> procedure.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_RULE_ADM.EVALUATION_CONTINUE</code>: The rules engine evaluates the rule set as if there were no evaluation function. The evaluation function is not used, and any results returned by the evaluation function are ignored.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DBMS_RULE_ADM.EVALUATION_FAILURE</code>: The user specified evaluation function failed. Rule set evaluation stops, and an error is raised.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS560"></a><a id="ARPLS67798"></a><a id="ARPLS67798"></a><a id="ARPLS560"></a><div class="props_rev_3"><a id="GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7" name="GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7"></a><h4 id="ARPLS-GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7" class="sect4"><span class="enumeration_section">144.3.5 </span>CREATE_RULE Procedure
                  </h4>
                  <div>
                     <p>This procedure creates a rule.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7__GUID-229C90E4-CCC1-4EF8-AF7B-6584B8F247A5">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.CREATE_RULE(
 &nbsp;&nbsp;rule_name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IN  VARCHAR2,
&nbsp; &nbsp;condition &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IN  VARCHAR2,
&nbsp; &nbsp;evaluation_context &nbsp;IN  VARCHAR2        DEFAULT NULL,
&nbsp; &nbsp;action_context &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  SYS.RE$NV_LIST  DEFAULT NULL,
&nbsp; &nbsp;rule_comment &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  VARCHAR2        DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7__GUID-795B49E7-336A-488F-83EB-D31C8929CDFC">Parameters</p>
                        <div class="tblformal" id="GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7__GUID-51EC8FFE-4B8A-4C25-B709-10840A65066F">
                           <p class="titleintable">Table 144-6 CREATE_RULE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_RULE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.CREATE_RULE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e2116">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e2119">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e2124" headers="d760349e2116 ">
                                       <p><code class="codeph">rule_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e2124 d760349e2119 ">
                                       <p>The name of the rule you are creating, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_name</code></span>. For example, to create a rule named <code class="codeph">all_a</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.all_a</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e2152" headers="d760349e2116 ">
                                       <p><code class="codeph">condition</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e2152 d760349e2119 ">
                                       <p>The condition to be associated with the rule. A condition evaluates to <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code> and can be any condition allowed in the <code class="codeph">WHERE</code> clause of a <code class="codeph">SELECT</code> statement. For example, the following is a valid rule condition:
                                       </p><pre class="oac_no_warn" dir="ltr">department_id = 30
</pre><p>Ensure that the proper case is used for text in rule conditions.</p>
                                       <p><span class="bold">Note: </span>Do not include the word <code class="codeph">"WHERE"</code> in the condition.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e2183" headers="d760349e2116 ">
                                       <p><code class="codeph">evaluation_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e2183 d760349e2119 ">
                                       <p>An optional evaluation context name in the form <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>, which is associated with the rule. If the schema is not specified, then the current user is the default. 
                                       </p>
                                       <p>If <code class="codeph">evaluation_context</code> is not specified, then the rule inherits the evaluation context from its rule set.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e2207" headers="d760349e2116 ">
                                       <p><code class="codeph">action_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e2207 d760349e2119 ">
                                       <p>The action context associated with the rule. A rule action context is information associated with a rule that is interpreted by the client of the rules engine when the rule is evaluated.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e2215" headers="d760349e2116 ">
                                       <p><code class="codeph">rule_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e2215 d760349e2119 ">
                                       <p>An optional description of the rule</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7__GUID-4F9EABB3-92A4-489F-800A-3DC0F8AD72DB">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the owner of the rule being created and have the <code class="codeph">CREATE_RULE_OBJ</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">CREATE</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code> system privilege
                              </p>
                           </li>
                        </ul>
                        <p>If an evaluation context is specified, then the rule owner must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ON_EVALUATION_CONTEXT</code> privilege on the evaluation context
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ANY_EVALUATION_CONTEXT</code> system privilege, and the owner of the evaluation context must not be <code class="codeph">SYS</code>.
                              </p>
                           </li>
                           <li>
                              <p>Be the evaluation context owner</p>
                           </li>
                        </ul>
                        <p>Also, the rule owner must have the necessary privileges on all the base objects accessed by the rule using the evaluation context.</p>
                        <div class="infoboxnotealso" id="GUID-153359B7-F63E-4E1E-B9F2-A4B06C8C0CE7__GUID-EF3D18AB-DB4E-4EC1-812D-5417581BBFDC">
                           <p class="notep1">See Also:</p>
                           <p><a href="Rule-TYPEs.html#GUID-8F7F6A05-3356-4B93-860D-78B0E1931C8B" title="This chapter describes the types used with rules, rule sets, and evaluation contexts.">Rule TYPEs</a> for more information about the types used with the <code class="codeph">DBMS_RULE_ADM</code> package
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS561"></a><a id="ARPLS67799"></a><a id="ARPLS67799"></a><a id="ARPLS561"></a><div class="props_rev_3"><a id="GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632" name="GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632"></a><h4 id="ARPLS-GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632" class="sect4"><span class="enumeration_section">144.3.6 </span>CREATE_RULE_SET Procedure
                  </h4>
                  <div>
                     <p>This procedure creates a rule set.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632__GUID-B51E4014-C809-469B-B5A6-C7ECD8A52C8F">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.CREATE_RULE_SET(
 &nbsp;&nbsp;rule_set_name  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  VARCHAR2,
&nbsp; &nbsp;evaluation_context  IN  VARCHAR2  DEFAULT NULL,
&nbsp;&nbsp; rule_set_comment   &nbsp;IN  VARCHAR2  DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632__GUID-526FA958-3F82-48A6-B43E-D46AAEE13D5E">Parameters</p>
                        <div class="tblformal" id="GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632__GUID-A8DCDA9B-7B10-43FF-A9A5-A3CE875B3660">
                           <p class="titleintable">Table 144-7 CREATE_RULE_SET Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_RULE_SET Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.CREATE_RULE_SET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d760349e2395">Parameter</th>
                                    <th align="left" valign="bottom" width="72%" id="d760349e2398">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d760349e2403" headers="d760349e2395 ">
                                       <p><code class="codeph">rule_set_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d760349e2403 d760349e2398 ">
                                       <p>The name of the rule set you are creating, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_set_name</code></span>. For example, to create a rule set named <code class="codeph">apply_rules</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.apply_rules</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d760349e2431" headers="d760349e2395 ">
                                       <p><code class="codeph">evaluation_context</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d760349e2431 d760349e2398 ">
                                       <p>An optional evaluation context name in the form <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>, which applies to all rules in the rule set that are not associated with an evaluation context explicitly. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d760349e2450" headers="d760349e2395 ">
                                       <p><code class="codeph">rule_set_comment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d760349e2450 d760349e2398 ">
                                       <p>An optional description of the rule set</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D25CBBBE-D8DA-4119-AB7A-0DDA0CD97632__GUID-CF7C7628-7CB1-44BE-840E-96D1F6663843">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the owner of the rule set being created and have <code class="codeph">CREATE_RULE_SET_OBJ</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">CREATE</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code>_<code class="codeph">SET</code> system privilege
                              </p>
                           </li>
                        </ul>
                        <p>If an evaluation context is specified, then the rule set owner must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ON_EVALUATION_CONTEXT</code> privilege on the evaluation context
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">EXECUTE_ANY_EVALUATION_CONTEXT</code> system privilege, and the owner of the evaluation context must not be <code class="codeph">SYS</code></p>
                           </li>
                           <li>
                              <p>Be the evaluation context owner</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS562"></a><a id="ARPLS67800"></a><a id="ARPLS67800"></a><a id="ARPLS562"></a><div class="props_rev_3"><a id="GUID-21803734-225E-4BAB-BB87-A68340DC391A" name="GUID-21803734-225E-4BAB-BB87-A68340DC391A"></a><h4 id="ARPLS-GUID-21803734-225E-4BAB-BB87-A68340DC391A" class="sect4"><span class="enumeration_section">144.3.7 </span>DROP_EVALUATION_CONTEXT Procedure
                  </h4>
                  <div>
                     <p>This procedure drops a rule evaluation context.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-21803734-225E-4BAB-BB87-A68340DC391A__GUID-989B0D7F-A07D-4AA0-803C-8D51AE95193D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.DROP_EVALUATION_CONTEXT(
 &nbsp;&nbsp;evaluation_context_name  IN  VARCHAR2,
&nbsp;&nbsp; force   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IN  BOOLEAN   DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21803734-225E-4BAB-BB87-A68340DC391A__GUID-9CBF95B1-F124-4F99-AF11-1FEA4EE6EC4B">Parameters</p>
                        <div class="tblformal" id="GUID-21803734-225E-4BAB-BB87-A68340DC391A__GUID-DE82A174-A45A-45FA-B1F2-BF41F73AA5E0">
                           <p class="titleintable">Table 144-8 DROP_EVALUATION_CONTEXT Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_EVALUATION_CONTEXT Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.DROP_EVALUATION_CONTEXT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="35%" id="d760349e2620">Parameter</th>
                                    <th align="left" valign="bottom" width="65%" id="d760349e2623">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d760349e2628" headers="d760349e2620 ">
                                       <p><code class="codeph">evaluation_context_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d760349e2628 d760349e2623 ">
                                       <p>The name of the evaluation context you are dropping, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>. 
                                       </p>
                                       <p>For example, to drop an evaluation context named <code class="codeph">dept_eval_context</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.dept_eval_context</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d760349e2658" headers="d760349e2620 ">
                                       <p><code class="codeph">force</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d760349e2658 d760349e2623 ">
                                       <p>If <code class="codeph">TRUE</code>, then the procedure removes the rule evaluation context from all rules and rule sets that use it. 
                                       </p>
                                       <p>If <code class="codeph">FALSE</code> and no rules or rule sets use the rule evaluation context, then the procedure drops the rule evaluation context. 
                                       </p>
                                       <p>If <code class="codeph">FALSE</code> and one or more rules or rule sets use the rule evaluation context, then the procedure raises an exception.
                                       </p>
                                       <p><span class="bold">Caution: </span>Setting <code class="codeph">force</code> to <code class="codeph">TRUE</code> can result in rules and rule sets that do not have an evaluation context. If neither a rule nor the rule set it is in has an evaluation context, and no evaluation context was specified for the rule by the <code class="codeph">ADD_RULE</code> procedure, then the rule cannot be evaluated.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21803734-225E-4BAB-BB87-A68340DC391A__GUID-243A01A8-C4CF-4191-AD61-5DAD96D46DC1">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the owner of the evaluation context</p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">DROP</code>_<code class="codeph">ANY</code>_<code class="codeph">EVALUATION</code>_<code class="codeph">CONTEXT</code> system privilege
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS563"></a><a id="ARPLS67801"></a><a id="ARPLS67801"></a><a id="ARPLS563"></a><div class="props_rev_3"><a id="GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C" name="GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C"></a><h4 id="ARPLS-GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C" class="sect4"><span class="enumeration_section">144.3.8 </span>DROP_RULE Procedure
                  </h4>
                  <div>
                     <p>This procedure drops a rule.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C__GUID-9666A060-6195-4640-A2A7-D41EE0C9C06A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.DROP_RULE(
 &nbsp;&nbsp;rule_name  IN  VARCHAR2,
&nbsp; &nbsp;force  &nbsp;&nbsp;&nbsp; IN  BOOLEAN   DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C__GUID-BD44B398-9FBA-4B9C-8790-12CF095BD241">Parameters</p>
                        <div class="tblformal" id="GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C__GUID-8CF240D8-5EB5-45C9-95F2-6C8EFB6E5B5F">
                           <p class="titleintable">Table 144-9 DROP_RULE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_RULE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.DROP_RULE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e2830">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e2833">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e2838" headers="d760349e2830 ">
                                       <p><code class="codeph">rule_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e2838 d760349e2833 ">
                                       <p>The name of the rule you are dropping, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_name</code></span>. For example, to drop a rule named <code class="codeph">all_a</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.all_a</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e2866" headers="d760349e2830 ">
                                       <p><code class="codeph">force</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e2866 d760349e2833 ">
                                       <p>If <code class="codeph">TRUE</code>, then the procedure removes the rule from all rule sets that contain it. 
                                       </p>
                                       <p>If <code class="codeph">FALSE</code> and no rule sets contain the rule, then the procedure drops the rule. 
                                       </p>
                                       <p>If <code class="codeph">FALSE</code> and one or more rule sets contain the rule, then the procedure raises an exception.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C__GUID-D7BEE59A-0AD7-4E4E-BE10-7853BED91A23">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the owner of the rule</p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">DROP</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code> system privilege
                              </p>
                              <div class="infoboxnote" id="GUID-4F67D0CC-7E75-483D-BAC1-7FBAFE43721C__GUID-BE2CAAAF-D764-4D26-BAB3-2A0D77027C8B">
                                 <p class="notep1">Note:</p>
                                 <p></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>To remove a rule from a rule set without dropping the rule from the database, use the <code class="codeph">REMOVE_RULE</code> procedure.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The rule evaluation context associated with the rule, if any, is not dropped when you run this procedure.</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS564"></a><a id="ARPLS67802"></a><a id="ARPLS67802"></a><a id="ARPLS564"></a><div class="props_rev_3"><a id="GUID-D2091FC3-63DF-4375-82B5-6D02E1377435" name="GUID-D2091FC3-63DF-4375-82B5-6D02E1377435"></a><h4 id="ARPLS-GUID-D2091FC3-63DF-4375-82B5-6D02E1377435" class="sect4"><span class="enumeration_section">144.3.9 </span>DROP_RULE_SET Procedure
                  </h4>
                  <div>
                     <p>This procedure drops a rule set.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D2091FC3-63DF-4375-82B5-6D02E1377435__GUID-085DE380-F430-4350-BD08-2AF419A1207D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.DROP_RULE_SET(
 &nbsp;&nbsp;rule_set_name  IN  VARCHAR2,
&nbsp;&nbsp; delete_rules &nbsp;&nbsp;IN  BOOLEAN   DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2091FC3-63DF-4375-82B5-6D02E1377435__GUID-128A73E7-C539-4703-BF56-FAA3C72D8CA2">Parameters</p>
                        <div class="tblformal" id="GUID-D2091FC3-63DF-4375-82B5-6D02E1377435__GUID-8D5DE7BD-27C1-415D-AEDB-E06DB0192D67">
                           <p class="titleintable">Table 144-10 DROP_RULE_SET Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_RULE_SET Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.DROP_RULE_SET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e3033">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e3036">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3041" headers="d760349e3033 ">
                                       <p><code class="codeph">rule_set_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3041 d760349e3036 ">
                                       <p>The name of the rule set you are dropping, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_set_name</code></span>. For example, to drop a rule set named <code class="codeph">apply_rules</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.apply_rules</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3069" headers="d760349e3033 ">
                                       <p><code class="codeph">delete_rules</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3069 d760349e3036 ">
                                       <p>If <code class="codeph">TRUE</code>, then the procedure drops any rules that are in the rule set. If any of the rules in the rule set are also in another rule set, then these rules are not dropped.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure does not drop the rules in the rule set.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2091FC3-63DF-4375-82B5-6D02E1377435__GUID-C187409E-93A6-412A-86A7-F8FF9AB458B3">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">DROP</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code>_<code class="codeph">SET</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Be the owner of the rule set</p>
                              <div class="infoboxnote" id="GUID-D2091FC3-63DF-4375-82B5-6D02E1377435__GUID-A761F018-F44D-49AC-BCFA-95C1C2E18731">
                                 <p class="notep1">Note:</p>
                                 <p>The rule evaluation context associated with the rule set, if any, is not dropped when you run this procedure.</p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS330"></a><a id="ARPLS67803"></a><a id="ARPLS67804"></a><a id="ARPLS67803"></a><a id="ARPLS67804"></a><a id="ARPLS330"></a><div class="props_rev_3"><a id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6" name="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6"></a><h4 id="ARPLS-GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6" class="sect4"><span class="enumeration_section">144.3.10 </span>GRANT_OBJECT_PRIVILEGE Procedure
                  </h4>
                  <div>
                     <p>This procedure grants the specified object privilege on the specified object to the specified user or role. If a user owns the object, then the user automatically is granted all privileges on the object, with grant option.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__GUID-FB9B34BF-8BA7-4E26-9CB1-FA0FF6F9880B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.GRANT_OBJECT_PRIVILEGE(
 &nbsp;&nbsp;privilege  &nbsp;  IN  BINARY_INTEGER,
&nbsp;&nbsp; object_name &nbsp;&nbsp;IN  VARCHAR2,
&nbsp;&nbsp; grantee &nbsp;&nbsp;&nbsp;&nbsp;  IN  VARCHAR2,
  &nbsp;grant_option  IN  BOOLEAN   DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__GUID-3149D770-5AC0-4CE0-92CC-575433D20FBD">Parameters</p>
                        <div class="tblformal" id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__GUID-0262E6B5-3DF3-46EB-A40A-3488D1BB0F8F">
                           <p class="titleintable">Table 144-11 GRANT_OBJECT_PRIVILEGE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GRANT_OBJECT_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.GRANT_OBJECT_PRIVILEGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e3229">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e3232">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3237" headers="d760349e3229 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3237 d760349e3232 ">
                                       <p>The name of the object privilege to grant to the grantee on the object. See <span class="q">"<a href="DBMS_RULE_ADM.html#GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__I997412">Usage Notes</a>"</span> for the available object privileges.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3249" headers="d760349e3229 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3249 d760349e3232 ">
                                       <p>The name of the object for which you are granting the privilege to the grantee, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">object_name</code></span>. For example, to grant the privilege on a rule set named <code class="codeph">apply_rules</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.apply_rules</code> for this parameter. If the schema is not specified, then the current user is the default. The object must be an existing rule, rule set, or evaluation context.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3277" headers="d760349e3229 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3277 d760349e3232 ">
                                       <p>The name of the user or role for which the privilege is granted. The specified user cannot be the owner of the object.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3285" headers="d760349e3229 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3285 d760349e3232 ">
                                       <p>If <code class="codeph">TRUE</code>, then the specified user or users granted the specified privilege can grant this privilege to others.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the specified user or users granted the specified privilege cannot grant this privilege to others.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__I997412">
                        <p class="subhead3" id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__GUID-5740FDCB-EB87-4673-84BE-46CC935F4EC4">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Be the owner of the object on which the privilege is granted</p>
                           </li>
                           <li>
                              <p>Have the same privilege as the privilege being granted with the grant option</p>
                           </li>
                        </ul>
                        <p>In addition, if the object is a rule set, then the user must have <code class="codeph">EXECUTE</code> privilege on all the rules in the rule set with grant option or must own the rules in the rule set.
                        </p>
                        <p><a href="DBMS_RULE_ADM.html#GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__CDEGCCAI" title="This table describes Object Privileges for Evaluation Contexts, Rules, and Rule Sets used by the GRANT_OBJECT_PRIVILEGE subprogram.">Table 144-12</a> lists the object privileges.
                        </p>
                        <div class="tblformalwide" id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__CDEGCCAI">
                           <p class="titleintable">Table 144-12 Object Privileges for Evaluation Contexts, Rules, and Rule Sets</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Object Privileges for Evaluation Contexts, Rules, and Rule Sets" summary="This table describes Object Privileges for Evaluation Contexts, Rules, and Rule Sets used by the GRANT_OBJECT_PRIVILEGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="58%" id="d760349e3333">Privilege</th>
                                    <th align="left" valign="bottom" width="42%" id="d760349e3336">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3341" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALL_ON_EVALUATION_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3341 d760349e3336 ">
                                       <p>Alter and execute a particular evaluation context in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3349" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALL_ON_RULE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3349 d760349e3336 ">
                                       <p>Alter and execute a particular rule in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3357" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALL_ON_RULE_SET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3357 d760349e3336 ">
                                       <p>Alter and execute a particular rule set in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3365" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALTER_ON_EVALUATION_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3365 d760349e3336 ">
                                       <p>Alter a particular evaluation context in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3373" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALTER_ON_RULE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3373 d760349e3336 ">
                                       <p>Alter a particular rule in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3381" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALTER_ON_RULE_SET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3381 d760349e3336 ">
                                       <p>Alter a particular rule set in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3389" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.EXECUTE_ON_EVALUATION_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3389 d760349e3336 ">
                                       <p>Execute a particular evaluation context in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3397" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.EXECUTE_ON_RULE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3397 d760349e3336 ">
                                       <p>Execute a particular rule in another user's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="58%" id="d760349e3405" headers="d760349e3333 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.EXECUTE_ON_RULE_SET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="42%" headers="d760349e3405 d760349e3336 ">
                                       <p>Execute a particular rule set in another user's schema</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6__GUID-741F50E3-57C1-455F-9515-4EDC3FE42B56">Examples</p>
                        <p>For example, to grant the <code class="codeph">HR</code> user the privilege to alter a rule named <code class="codeph">hr_dml</code> in the <code class="codeph">strmadmin</code> schema, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_RULE_ADM.GRANT_OBJECT_PRIVILEGE(
    privilege    =&gt; SYS.DBMS_RULE_ADM.ALTER_ON_RULE,
    object_name  =&gt; 'strmadmin.hr_dml',
    grantee      =&gt; 'hr', 
    grant_option =&gt; FALSE);
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS331"></a><a id="ARPLS67805"></a><a id="ARPLS67806"></a><a id="ARPLS67805"></a><a id="ARPLS67806"></a><a id="ARPLS331"></a><div class="props_rev_3"><a id="GUID-2F14077C-81B4-495D-8F9B-898F580999BC" name="GUID-2F14077C-81B4-495D-8F9B-898F580999BC"></a><h4 id="ARPLS-GUID-2F14077C-81B4-495D-8F9B-898F580999BC" class="sect4"><span class="enumeration_section">144.3.11 </span>GRANT_SYSTEM_PRIVILEGE Procedure
                  </h4>
                  <div>
                     <p>This procedure grant the specified system privilege to the specified user or role. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2F14077C-81B4-495D-8F9B-898F580999BC__GUID-E5F28543-FDC1-4C5F-99D5-4D2701FCB31B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.GRANT_SYSTEM_PRIVILEGE(
 &nbsp;&nbsp;privilege  &nbsp;  IN  BINARY_INTEGER,
&nbsp;&nbsp; grantee &nbsp;&nbsp;&nbsp;&nbsp;  IN  VARCHAR2,
  &nbsp;grant_option  IN  BOOLEAN   DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F14077C-81B4-495D-8F9B-898F580999BC__GUID-4ABC7A5E-3C23-44C8-9D26-DB2DE151226F">Parameters</p>
                        <div class="tblformal" id="GUID-2F14077C-81B4-495D-8F9B-898F580999BC__GUID-D3C664E0-D1FC-4386-93C8-29D92637FFD6">
                           <p class="titleintable">Table 144-13 GRANT_SYSTEM_PRIVILEGE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GRANT_SYSTEM_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.GRANT_SYSTEM_PRIVILEGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e3547">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e3550">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3555" headers="d760349e3547 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3555 d760349e3550 ">
                                       <p>The name of the system privilege to grant to the grantee. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3563" headers="d760349e3547 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3563 d760349e3550 ">
                                       <p>The name of the user or role for which the privilege is granted</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e3571" headers="d760349e3547 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e3571 d760349e3550 ">
                                       <p>If <code class="codeph">TRUE</code>, then the specified user or users granted the specified privilege can grant the system privilege to others.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the specified user or users granted the specified privilege cannot grant the system privilege to others.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F14077C-81B4-495D-8F9B-898F580999BC__GUID-F2D2ED63-16CE-4F2B-9C1B-2FBED85F3D38">Usage Notes</p>
                        <p><a href="DBMS_RULE_ADM.html#GUID-2F14077C-81B4-495D-8F9B-898F580999BC__CDEJCCAC" title="This table describes the (Cont.) System Privileges for Evaluation Contexts, Rules, and Rule Sets used by GRANT_SYSTEM_PRIVILEGE subprogram.">Table 144-14</a> lists the system privileges.
                        </p>
                        <div class="tblformalwide" id="GUID-2F14077C-81B4-495D-8F9B-898F580999BC__CDEJCCAC">
                           <p class="titleintable">Table 144-14 System Privileges for Evaluation Contexts, Rules, and Rule Sets</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="System Privileges for Evaluation Contexts, Rules, and Rule Sets" summary="This table describes the (Cont.) System Privileges for Evaluation Contexts, Rules, and Rule Sets used by GRANT_SYSTEM_PRIVILEGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="59%" id="d760349e3605">Privilege</th>
                                    <th align="left" valign="bottom" width="41%" id="d760349e3608">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3613" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALTER_ANY_EVALUATION_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3613 d760349e3608 ">
                                       <p>Alter any evaluation context owned by any user</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3621" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALTER_ANY_RULE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3621 d760349e3608 ">
                                       <p>Alter any rule owned by any user</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3629" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.ALTER_ANY_RULE_SET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3629 d760349e3608 ">
                                       <p>Alter any rule set owned by any user</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3637" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.CREATE_ANY_EVALUATION_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3637 d760349e3608 ">
                                       <p>Create a new evaluation context in any schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3645" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.CREATE_EVALUATION_CONTEXT_OBJ</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3645 d760349e3608 ">
                                       <p>Create a new evaluation context in the grantee's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3653" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.CREATE_ANY_RULE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3653 d760349e3608 ">
                                       <p>Create a new rule in any schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3661" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.CREATE_RULE_OBJ</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3661 d760349e3608 ">
                                       <p>Create a new rule in the grantee's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3669" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.CREATE_ANY_RULE_SET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3669 d760349e3608 ">
                                       <p>Create a new rule set in any schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3677" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.CREATE_RULE_SET_OBJ</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3677 d760349e3608 ">
                                       <p>Create a new rule set in the grantee's schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3685" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.DROP_ANY_EVALUATION_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3685 d760349e3608 ">
                                       <p>Drop any evaluation context in any schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3693" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.DROP_ANY_RULE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3693 d760349e3608 ">
                                       <p>Drop any rule in any schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3702" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.DROP_ANY_RULE_SET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3702 d760349e3608 ">
                                       <p>Drop any rule set in any schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3710" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.EXECUTE_ANY_EVALUATION_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3710 d760349e3608 ">
                                       <p>Execute any evaluation context owned by any user</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3718" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.EXECUTE_ANY_RULE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3718 d760349e3608 ">
                                       <p>Execute any rule owned by any user</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="59%" id="d760349e3726" headers="d760349e3605 ">
                                       <p><code class="codeph">SYS.DBMS_RULE_ADM.EXECUTE_ANY_RULE_SET</code></p>
                                    </td>
                                    <td align="left" valign="top" width="41%" headers="d760349e3726 d760349e3608 ">
                                       <p>Execute any rule set owned by any user</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>For example, to grant the <code class="codeph">strmadmin</code> user the privilege to create a rule set in any schema, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_RULE_ADM.GRANT_SYSTEM_PRIVILEGE(
    privilege    =&gt; SYS.DBMS_RULE_ADM.CREATE_ANY_RULE_SET,
    grantee      =&gt; 'strmadmin', 
    grant_option =&gt; FALSE);
END;
/</pre><div class="infoboxnote" id="GUID-2F14077C-81B4-495D-8F9B-898F580999BC__GUID-4B063CF3-2FF7-4DF4-9B36-E32586EC6FCB">
                           <p class="notep1">Note:</p>
                           <p>When you grant a privilege on <code class="codeph">"ANY"</code> object (for example, <code class="codeph">ALTER_ANY_RULE</code>), and the initialization parameter <code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code> is set to <code class="codeph">FALSE</code>, you give the user access to that type of object in all schemas except the <code class="codeph">SYS</code> schema. By default, the initialization parameter <code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code> is set to <code class="codeph">FALSE</code>.
                           </p>
                           <p>If you want to grant access to an object in the <code class="codeph">SYS</code> schema, then you can grant object privileges explicitly on the object. Alternatively, you can set the <code class="codeph">O7_DICTIONARY_ACCESSIBILITY</code> initialization parameter to <code class="codeph">TRUE</code>. Then privileges granted on <code class="codeph">"ANY"</code> object allows access to any schema, including&nbsp;<code class="codeph">SYS</code>. 
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS511"></a><a id="ARPLS67807"></a><a id="ARPLS67807"></a><a id="ARPLS511"></a><div class="props_rev_3"><a id="GUID-753514AB-0FA1-4946-B713-477ECECD9EE8" name="GUID-753514AB-0FA1-4946-B713-477ECECD9EE8"></a><h4 id="ARPLS-GUID-753514AB-0FA1-4946-B713-477ECECD9EE8" class="sect4"><span class="enumeration_section">144.3.12 </span>REMOVE_RULE Procedure
                  </h4>
                  <div>
                     <p>This procedure removes the specified rule from the specified rule set.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-753514AB-0FA1-4946-B713-477ECECD9EE8__GUID-0EF3AE53-05BD-4B1B-9720-8E5B3AF41879">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.REMOVE_RULE(
 &nbsp;&nbsp;rule_name &nbsp;&nbsp;&nbsp;&nbsp;           IN  VARCHAR2,
&nbsp; &nbsp;rule_set_name            IN  VARCHAR2,
   evaluation_context       IN  VARCHAR2  DEFAULT NULL,
   all_evaluation_contexts  IN  BOOLEAN   DEFAULT FALSE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-753514AB-0FA1-4946-B713-477ECECD9EE8__GUID-8E225B91-F44F-4054-B610-D8EA11278601">Parameters</p>
                        <div class="tblformal" id="GUID-753514AB-0FA1-4946-B713-477ECECD9EE8__GUID-178A17E5-95CD-4D94-AC83-50828955DE18">
                           <p class="titleintable">Table 144-15 REMOVE_RULE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_RULE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.REMOVE_RULE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="35%" id="d760349e3896">Parameter</th>
                                    <th align="left" valign="bottom" width="65%" id="d760349e3899">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d760349e3904" headers="d760349e3896 ">
                                       <p><code class="codeph">rule_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d760349e3904 d760349e3899 ">
                                       <p>The name of the rule you are removing from the rule set, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_name</code></span>. For example, to remove a rule named <code class="codeph">all_a</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.all_a</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d760349e3932" headers="d760349e3896 ">
                                       <p><code class="codeph">rule_set_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d760349e3932 d760349e3899 ">
                                       <p>The name of the rule set from which you are removing the rule, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">rule_set_name</code></span>. For example, to remove the rule from a rule set named <code class="codeph">apply_rules</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.apply_rules</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d760349e3960" headers="d760349e3896 ">
                                       <p><code class="codeph">evaluation_context_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d760349e3960 d760349e3899 ">
                                       <p>The name of the evaluation context associated with the rule you are removing, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">evaluation_context_name</code></span>. For example, to specify an evaluation context named <code class="codeph">dept_eval_context</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.dept_eval_context</code> for this parameter. If the schema is not specified, then the current user is the default.
                                       </p>
                                       <p>If an evaluation context was specified for the rule you are removing when you added the rule to the rule set using the <code class="codeph">ADD_RULE</code> procedure, then specify the same evaluation context. If you added the same rule more than once with different evaluation contexts, then specify the rule with the evaluation context you want to remove. If you specify an evaluation context that is not associated with the rule, then the procedure raises an error.
                                       </p>
                                       <p>Specify <code class="codeph">NULL</code> if you did not specify an evaluation context when you added the rule to the rule set. If you specify <code class="codeph">NULL</code> and there are one or more evaluation contexts associated with the rule, then the procedure raises an error.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="35%" id="d760349e4001" headers="d760349e3896 ">
                                       <p><code class="codeph">all_evaluation_contexts</code></p>
                                    </td>
                                    <td align="left" valign="top" width="65%" headers="d760349e4001 d760349e3899 ">
                                       <p>If <code class="codeph">TRUE</code>, then the procedure removes the rule from the rule set with all of its associated evaluation contexts.
                                       </p>
                                       <p>If <code class="codeph">FALSE</code>, then the procedure only removes the rule with the specified evaluation context.
                                       </p>
                                       <p>This parameter is relevant only if the same rule is added more than once to the rule set with different evaluation contexts.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-753514AB-0FA1-4946-B713-477ECECD9EE8__GUID-FF12DA66-FBCC-4ED3-90E1-F03DFBE22AD2">Usage Notes</p>
                        <p>To run this procedure, a user must meet at least one of the following requirements:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Have <code class="codeph">ALTER_ON_RULE_SET</code> privilege on the rule set
                              </p>
                           </li>
                           <li>
                              <p>Have <code class="codeph">ALTER</code>_<code class="codeph">ANY</code>_<code class="codeph">RULE</code>_<code class="codeph">SET</code> system privilege
                              </p>
                           </li>
                           <li>
                              <p>Be the owner of the rule set</p>
                              <div class="infoboxnote" id="GUID-753514AB-0FA1-4946-B713-477ECECD9EE8__GUID-6A0D8DE2-7A83-4C3F-B963-C5E1E3AF48E0">
                                 <p class="notep1">Note:</p>
                                 <p>This procedure does not drop a rule from the database. To drop a rule from the database, use the <code class="codeph">DROP_RULE</code> procedure.
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS565"></a><a id="ARPLS67808"></a><a id="ARPLS67808"></a><a id="ARPLS565"></a><div class="props_rev_3"><a id="GUID-D45337AA-081D-4638-88A4-5AD38F4F4F22" name="GUID-D45337AA-081D-4638-88A4-5AD38F4F4F22"></a><h4 id="ARPLS-GUID-D45337AA-081D-4638-88A4-5AD38F4F4F22" class="sect4"><span class="enumeration_section">144.3.13 </span>REVOKE_OBJECT_PRIVILEGE Procedure
                  </h4>
                  <div>
                     <p>This procedure revokes the specified object privilege on the specified object from the specified user or role. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D45337AA-081D-4638-88A4-5AD38F4F4F22__GUID-B04C569B-C7BA-48E8-AC9C-E2D299D948DD">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.REVOKE_OBJECT_PRIVILEGE(
 &nbsp;&nbsp;privilege  &nbsp; IN  BINARY_INTEGER,
&nbsp;&nbsp; object_name&nbsp;&nbsp;IN  VARCHAR2,
&nbsp;&nbsp; revokee &nbsp;&nbsp;&nbsp;&nbsp; IN  VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D45337AA-081D-4638-88A4-5AD38F4F4F22__GUID-87B37F29-F423-4822-BB69-68BB69A0CA38">Parameters</p>
                        <div class="tblformal" id="GUID-D45337AA-081D-4638-88A4-5AD38F4F4F22__GUID-D27C75F4-0877-48D7-AF23-090C0BCEC135">
                           <p class="titleintable">Table 144-16 REVOKE_OBJECT_PRIVILEGE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REVOKE_OBJECT_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.REVOKE_OBJECT_PRIVILEGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e4170">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e4173">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e4178" headers="d760349e4170 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e4178 d760349e4173 ">
                                       <p>The name of the object privilege on the object to revoke from the revokee. See <a href="DBMS_RULE_ADM.html#GUID-3C0BDA24-BB48-41E0-9735-E05C415208B6" title="This procedure grants the specified object privilege on the specified object to the specified user or role. If a user owns the object, then the user automatically is granted all privileges on the object, with grant option.">GRANT_OBJECT_PRIVILEGE Procedure</a> for a list of the object privileges.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e4193" headers="d760349e4170 ">
                                       <p><code class="codeph">object_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e4193 d760349e4173 ">
                                       <p>The name of the object for which you are revoking the privilege from the revokee, specified as <code class="codeph">[</code><span class="italic"><code class="codeph">schema_name</code></span><code class="codeph">.]</code><span class="italic"><code class="codeph">object_name</code></span>. For example, to revoke an object privilege on a rule set named <code class="codeph">apply_rules</code> in the <code class="codeph">hr</code> schema, enter <code class="codeph">hr.apply_rules</code> for this parameter. If the schema is not specified, then the current user is the default. The object must be an existing rule, rule set, or evaluation context.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e4221" headers="d760349e4170 ">
                                       <p><code class="codeph">revokee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e4221 d760349e4173 ">
                                       <p>The name of the user or role from which the privilege is revoked. The user who owns the object cannot be specified.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS566"></a><a id="ARPLS67809"></a><a id="ARPLS67809"></a><a id="ARPLS566"></a><div class="props_rev_3"><a id="GUID-7A9B26C7-C4EC-4A32-A656-C92CE7985E64" name="GUID-7A9B26C7-C4EC-4A32-A656-C92CE7985E64"></a><h4 id="ARPLS-GUID-7A9B26C7-C4EC-4A32-A656-C92CE7985E64" class="sect4"><span class="enumeration_section">144.3.14 </span>REVOKE_SYSTEM_PRIVILEGE Procedure
                  </h4>
                  <div>
                     <p>This procedure revokes the specified system privilege from the specified user or role.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7A9B26C7-C4EC-4A32-A656-C92CE7985E64__GUID-CE8BD74E-D8C7-4D1F-BE6B-946C40AD3089">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_RULE_ADM.REVOKE_SYSTEM_PRIVILEGE(
 &nbsp;&nbsp;privilege  IN  BINARY_INTEGER,
&nbsp;&nbsp; revokee &nbsp;&nbsp;&nbsp;IN  VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7A9B26C7-C4EC-4A32-A656-C92CE7985E64__GUID-0D2D8351-BE05-4FE1-8043-89E6F1F0D417">Parameters</p>
                        <div class="tblformal" id="GUID-7A9B26C7-C4EC-4A32-A656-C92CE7985E64__GUID-88DCA4D2-5754-4959-8200-36E282D39047">
                           <p class="titleintable">Table 144-17 REVOKE_SYSTEM_PRIVILEGE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REVOKE_SYSTEM_PRIVILEGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_RULE_ADM.REVOKE_SYSTEM_PRIVILEGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d760349e4345">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d760349e4348">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e4353" headers="d760349e4345 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e4353 d760349e4348 ">
                                       <p>The name of the system privilege to revoke from the revokee. See <a href="DBMS_RULE_ADM.html#GUID-2F14077C-81B4-495D-8F9B-898F580999BC" title="This procedure grant the specified system privilege to the specified user or role.">GRANT_SYSTEM_PRIVILEGE Procedure</a> for a list of the system privileges.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d760349e4368" headers="d760349e4345 ">
                                       <p><code class="codeph">revokee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d760349e4368 d760349e4348 ">
                                       <p>The name of the user or role from which the privilege is revoked</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01103.DBMS_SPACE_ADMIN.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_SPACE_ADMIN package provides functionality for locally managed tablespaces.">
      <meta name="description" content="The DBMS_SPACE_ADMIN package provides functionality for locally managed tablespaces.">
      <title>DBMS_SPACE_ADMIN</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_SPACE_ADMIN package provides functionality for locally managed tablespaces.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_SPACE.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_SPD.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SPACE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_SPD.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_SPACE_ADMIN</li>
            </ol>
            <a id="GUID-69488D9E-9BB2-4C56-994D-E9234D851DFF" name="GUID-69488D9E-9BB2-4C56-994D-E9234D851DFF"></a><a id="ARPLS057"></a><a id="ARPLS057"></a>
            
            <h2 id="ARPLS-GUID-69488D9E-9BB2-4C56-994D-E9234D851DFF" class="sect2"><span class="enumeration_chapter">153 </span> DBMS_SPACE_ADMIN
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_SPACE_ADMIN</code> package provides functionality for locally managed tablespaces. 
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_SPACE_ADMIN.html#GUID-F2167FDD-F0F0-470E-947C-C270D27AC8E7" title="This package runs with SYS privileges; therefore, any user who has privilege to execute the package can manipulate the bitmaps.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SPACE_ADMIN.html#GUID-A756A567-E42E-4D16-BBB9-5C55374228DC" title="The DBMS_SPACE_ADMIN package provides constants that can be used for specifying parameter values.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SPACE_ADMIN.html#GUID-03D26FCD-E8A7-4D8F-9532-38B084D0139C" title="Before migrating the SYSTEM tablespace, certain conditions must be met. These conditions are enforced by the TABLESPACE_MIGRATE_TO_LOCAL procedure, except for the cold backup.">Operational Notes</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SPACE_ADMIN.html#GUID-67CC1AF8-E3DB-4FB3-80FC-F8DBDEA325E1" title="This table lists the DBMS_SPACE_ADMIN subprograms and briefly describes them.">Summary of DBMS_SPACE_ADMIN Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-69488D9E-9BB2-4C56-994D-E9234D851DFF__GUID-520A1FAB-22CC-4C55-958E-056705446EC1">
                  <p class="notep1">See Also:</p>
                  <p><a href="../admin/managing-tablespaces.html#ADMIN-GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> for an example and description of using <code class="codeph">DBMS_SPACE_ADMIN</code>.
                  </p>
               </div>
            </div><a id="ARPLS68118"></a><a id="ARPLS68118"></a><div class="props_rev_3"><a id="GUID-F2167FDD-F0F0-470E-947C-C270D27AC8E7" name="GUID-F2167FDD-F0F0-470E-947C-C270D27AC8E7"></a><h3 id="ARPLS-GUID-F2167FDD-F0F0-470E-947C-C270D27AC8E7" class="sect3"><span class="enumeration_section">153.1 </span>DBMS_SPACE_ADMIN Security Model
               </h3>
               <div>
                  <p>This package runs with <code class="codeph">SYS</code> privileges; therefore, any user who has privilege to execute the package can manipulate the bitmaps.
                  </p>
               </div>
            </div><a id="ARPLS68119"></a><a id="ARPLS68120"></a><a id="ARPLS68120"></a><a id="ARPLS68119"></a><div class="props_rev_3"><a id="GUID-A756A567-E42E-4D16-BBB9-5C55374228DC" name="GUID-A756A567-E42E-4D16-BBB9-5C55374228DC"></a><h3 id="ARPLS-GUID-A756A567-E42E-4D16-BBB9-5C55374228DC" class="sect3"><span class="enumeration_section">153.2 </span>DBMS_SPACE_ADMIN Constants
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_SPACE_ADMIN</code> package provides constants that can be used for specifying parameter values.
                  </p>
                  <div class="tblformal" id="GUID-A756A567-E42E-4D16-BBB9-5C55374228DC__GUID-08051652-DDBA-49B0-8338-5AE303C7971B">
                     <p class="titleintable">Table 153-1 DBMS_SPACE_ADMIN Constants</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SPACE_ADMIN Constants" summary="This table describes Constants used by DBMS_SPACE_ADMIN subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d848569e341">Constant</th>
                              <th align="left" valign="bottom" width="16%" id="d848569e344">Type</th>
                              <th align="left" valign="bottom" width="16%" id="d848569e347">Value</th>
                              <th align="left" valign="bottom" width="38%" id="d848569e350">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e355" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_VERIFY_EXTENTS</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e355 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e355 d848569e347 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e355 d848569e350 ">
                                 <p>Verifies that the space owned by segment is appropriately reflected in the bitmap as used</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e371" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_VERIFY_EXTENTS_GLOBAL</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e371 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e371 d848569e347 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e371 d848569e350 ">
                                 <p>Verifies that the space owned by segment is appropriately reflected in the bitmap as used and that no other segment claims any of this space to be used by it</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e387" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_MARK_CORRUPT</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e387 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e387 d848569e347 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e387 d848569e350 ">
                                 <p>Marks a temporary segment as corrupt whereby facilitating its elimination from the dictionary (without space reclamation)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e403" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_MARK_VALID</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e403 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e403 d848569e347 ">
                                 <p><code class="codeph">4</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e403 d848569e350 ">
                                 <p>Marks a corrupt temporary segment as valid. It is useful when the corruption in the segment extent map or elsewhere has been resolved and the segment can be dropped normally.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e419" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_DUMP_EXTENT_MAP</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e419 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e419 d848569e347 ">
                                 <p><code class="codeph">5</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e419 d848569e350 ">
                                 <p>Dumps the extent map for a given segment</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e435" headers="d848569e341 ">
                                 <p><code class="codeph">TABLESPACE_VERIFY_BITMAP</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e435 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e435 d848569e347 ">
                                 <p><code class="codeph">6</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e435 d848569e350 ">
                                 <p>Verifies the bitmap of the tablespace with extent maps of the segments in that tablespace to make sure everything is consistent</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e451" headers="d848569e341 ">
                                 <p><code class="codeph">TABLESPACE_EXTENT_MAKE_FREE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e451 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e451 d848569e347 ">
                                 <p><code class="codeph">7</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e451 d848569e350 ">
                                 <p>Marks the block range (extent) as free in the bitmaps</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e467" headers="d848569e341 ">
                                 <p><code class="codeph">TABLESPACE_EXTENT_MAKE_USED</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e467 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e467 d848569e347 ">
                                 <p><code class="codeph">8</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e467 d848569e350 ">
                                 <p>Marks the block range (extent) as used in the bitmaps</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e483" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_VERIFY</code><code class="codeph">_BASIC</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e483 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e483 d848569e347 ">
                                 <p><code class="codeph">9</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e483 d848569e350 ">
                                 <p>Performs the basic metadata checks</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e501" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_VERIFY</code><code class="codeph">_DEEP</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e501 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e501 d848569e347 ">
                                 <p><code class="codeph">10</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e501 d848569e350 ">
                                 <p>Performs deep verification</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e519" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENT_VERIFY</code><code class="codeph">_SPECIFIC</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e519 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e519 d848569e347 ">
                                 <p><code class="codeph">11</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e519 d848569e350 ">
                                 <p>Performs a specific check for the segment </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e538" headers="d848569e341 ">
                                 <p><code class="codeph">HWM_CHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e538 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e538 d848569e347 ">
                                 <p><code class="codeph">12</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e538 d848569e350 ">
                                 <p>Checks high water mark (HWM)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e554" headers="d848569e341 ">
                                 <p><code class="codeph">BMB_CHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e554 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e554 d848569e347 ">
                                 <p><code class="codeph">13</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e554 d848569e350 ">
                                 <p>Checks integrity among L1, L2 and L3 BMBs (Bit Map Blocks)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e570" headers="d848569e341 ">
                                 <p><code class="codeph">SEG_DICT_CHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e570 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e570 d848569e347 ">
                                 <p><code class="codeph">14</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e570 d848569e350 ">
                                 <p>Checks consistency of segment header with corresponding <code class="codeph">SEG</code> entry
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e589" headers="d848569e341 ">
                                 <p><code class="codeph">EXTENT_TS_BITMAP_CHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e589 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e589 d848569e347 ">
                                 <p><code class="codeph">15</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e589 d848569e350 ">
                                 <p>Checks whether the tablespace bitmaps corresponding to the extent map are marked used</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e605" headers="d848569e341 ">
                                 <p><code class="codeph">DB_BACKPOINTER_CHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e605 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e605 d848569e347 ">
                                 <p><code class="codeph">16</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e605 d848569e350 ">
                                 <p>Checks whether the L1 BMBs, L2 BMBs, L3 BMBs and data blocks point to the same parent segment</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e621" headers="d848569e341 ">
                                 <p><code class="codeph">EXTENT_SEGMENT_BITMAP_CHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e621 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e621 d848569e347 ">
                                 <p><code class="codeph">17</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e621 d848569e350 ">
                                 <p>Checks whether the bitmap blocks are consistent with the extent map</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e637" headers="d848569e341 ">
                                 <p><code class="codeph">BITMAPS_CHECK</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e637 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e637 d848569e347 ">
                                 <p><code class="codeph">18</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e637 d848569e350 ">
                                 <p>Checks from the datablocks that the bitmap states representing the blocks are consistent</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e653" headers="d848569e341 ">
                                 <p><code class="codeph">TS_VERIFY_BITMAPS</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e653 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e653 d848569e347 ">
                                 <p><code class="codeph">19</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e653 d848569e350 ">
                                 <p>Checks whether the tablespace bitmaps are consistent with the extents belonging to that tablespace</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e669" headers="d848569e341 ">
                                 <p><code class="codeph">TS_VERIFY_DEEP</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e669 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e669 d848569e347 ">
                                 <p><code class="codeph">20</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e669 d848569e350 ">
                                 <p>Performs <code class="codeph">TS_VERIFY_BITMAPS</code> and <code class="codeph">TS_VERIFY_SEGMENTS</code> with <code class="codeph">DEEP</code> option
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e694" headers="d848569e341 ">
                                 <p><code class="codeph">TS_VERIFY_SEGMENTS</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e694 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e694 d848569e347 ">
                                 <p><code class="codeph">21</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e694 d848569e350 ">
                                 <p>Performs <code class="codeph">ASSM_SEGMENT_VERIFY</code> on all segments in the tablespace, taking either the <code class="codeph">BASIC</code> or the <code class="codeph">DEEP</code> option
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d848569e719" headers="d848569e341 ">
                                 <p><code class="codeph">SEGMENTS_DUMP_BITMAP_SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e719 d848569e344 ">
                                 <p><code class="codeph">POSITIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d848569e719 d848569e347 ">
                                 <p><code class="codeph">27</code></p>
                              </td>
                              <td align="left" valign="top" width="38%" headers="d848569e719 d848569e350 ">
                                 <p>Dumps only bitmap block summaries</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS68121"></a><a id="ARPLS68121"></a><div class="props_rev_3"><a id="GUID-03D26FCD-E8A7-4D8F-9532-38B084D0139C" name="GUID-03D26FCD-E8A7-4D8F-9532-38B084D0139C"></a><h3 id="ARPLS-GUID-03D26FCD-E8A7-4D8F-9532-38B084D0139C" class="sect3"><span class="enumeration_section">153.3 </span>DBMS_SPACE_ADMIN Operational Notes
               </h3>
               <div>
                  <p>Before migrating the <code class="codeph">SYSTEM</code> tablespace, certain conditions must be met. These conditions are enforced by the <code class="codeph">TABLESPACE_MIGRATE_TO_LOCAL</code> procedure, except for the cold backup.
                  </p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The database must have a default temporary tablespace that is not <code class="codeph">SYSTEM</code>.
                           </p>
                        </li>
                        <li>
                           <p>Dictionary-managed tablespaces cannot have any rollback segments.</p>
                        </li>
                        <li>
                           <p>A locally managed tablespace must have at least one online rollback segment. If you are using automatic undo management, then an undo tablespace must be online.</p>
                        </li>
                        <li>
                           <p>All tablespacesexcept the tablespace containing the rollback segment or the undo tablespacemust be read-only.</p>
                        </li>
                        <li>
                           <p>You must have a cold backup of the database.</p>
                        </li>
                        <li>
                           <p>The system must be in restricted mode.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS68122"></a><a id="ARPLS68123"></a><a id="ARPLS68123"></a><a id="ARPLS68122"></a><div class="props_rev_3"><a id="GUID-67CC1AF8-E3DB-4FB3-80FC-F8DBDEA325E1" name="GUID-67CC1AF8-E3DB-4FB3-80FC-F8DBDEA325E1"></a><h3 id="ARPLS-GUID-67CC1AF8-E3DB-4FB3-80FC-F8DBDEA325E1" class="sect3"><span class="enumeration_section">153.4 </span>Summary of DBMS_SPACE_ADMIN Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_SPACE_ADMIN</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-67CC1AF8-E3DB-4FB3-80FC-F8DBDEA325E1__GUID-AE213AC3-8C46-4CFB-8072-5983E588D9EA">
                     <p class="titleintable">Table 153-2 DBMS_SPACE_ADMIN Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SPACE_ADMIN Package Subprograms" summary="This table lists the DBMS_SPACE_ADMIN subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d848569e950">Subprogram</th>
                              <th align="left" valign="bottom" width="61%" id="d848569e953">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e958" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471" title="Given a segment definition, the procedure verifies the basic consistency of the space metadata blocks as well as consistency between space metadata and segment data blocks. This procedure verifies segments created in Automatic Segment Space Management (ASSM) tablespaces.">ASSM_SEGMENT_VERIFY Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e958 d848569e953 ">
                                 <p>Verifies segments created in ASSM (Automatic Segment-Space Management) tablespaces</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e970" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B" title="This procedures verifies all the segments created in an ASSM tablespace. The verification for each segment performs basic consistency checks of the space metadata blocks as well as consistency checks between space metadata and segment data blocks.">ASSM_TABLESPACE_VERIFY Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e970 d848569e953 ">
                                 <p>Verifies ASSM tablespaces</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e982" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D" title="This procedures drops segments from empty tables or table fragments and dependent objects.">DROP_EMPTY_SEGMENTS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e982 d848569e953 ">
                                 <p>Drops segments from empty tables or table fragments and dependent objects</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e994" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-43CA2704-73B3-407B-93ED-3D359F2954FF" title="This procedure returns the values of attributes of DBMS_SPACE_ADMIN package.">GET_SEGADV_ATTRIB Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e994 d848569e953 ">
                                 <p>returns the values of attributes of <code class="codeph">DBSM_SPACE_ADMIN</code> package
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1012" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0" title="This procedure materializes segments for tables and table fragments with deferred segment creation and their dependent objects.">MATERIALIZE_DEFERRED_SEGMENTS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1012 d848569e953 ">
                                 <p>Materializes segments for tables and table fragments with deferred segment creation and their dependent objects</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1024" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-998EE338-CD40-4F52-A8CE-C072D10EF766" title="This procedure marks the segment corrupt or valid so that appropriate error recovery can be performed.">SEGMENT_CORRUPT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1024 d848569e953 ">
                                 <p>Marks the segment corrupt or valid so that appropriate error recovery can be done</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1036" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545" title="This procedure drops a segment currently marked corrupt (without reclaiming space).">SEGMENT_DROP_CORRUPT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1036 d848569e953 ">
                                 <p>Drops a segment currently marked corrupt (without reclaiming space)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1048" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D" title="This procedure dumps the segment header and bitmap blocks of a specific segment to the location specified in the USER_DUMP_DEST initialization parameter.">SEGMENT_DUMP Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1048 d848569e953 ">
                                 <p>Dumps the segment header and extent maps of a given segment</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1063" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B" title="This procedure checks the consistency of the segment extent map with the tablespace file bitmaps.">SEGMENT_VERIFY Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1063 d848569e953 ">
                                 <p>Verifies the consistency of the extent map of the segment</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1075" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-BCD2412D-8820-434F-BFD8-AD00EA6E8BB5" title="This procedure sets the values of attributes of DBMS_SPACE_ADMIN package.">SET_SEGADV_ATTRIB Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1075 d848569e953 ">
                                 <p>Sets/changes the values of attributes of <code class="codeph">DBSM_SPACE_ADMIN</code> package
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1093" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-244977B8-36E5-4434-81B2-C82B83B902BD" title="This procedure marks the appropriate block range (extent) as free or used in bitmap. It cannot be used on the SYSTEM tablespace.">TABLESPACE_FIX_BITMAPS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1093 d848569e953 ">
                                 <p>Marks the appropriate block range (extent) as free or used in bitmap</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1109" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B" title="This procedure fixes the state of the segments in a tablespace in which migration was aborted.">TABLESPACE_FIX_SEGMENT_STATES Procedure</a> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1109 d848569e953 ">
                                 <p>Fixes the state of the segments in a tablespace in which migration was aborted</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1122" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503" title="This procedure migrates a locally managed tablespace to a dictionary-managed tablespace.">TABLESPACE_MIGRATE_FROM_LOCAL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1122 d848569e953 ">
                                 <p>Migrates a locally managed tablespace to dictionary-managed tablespace</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1134" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-B634DAB0-15B5-4759-A95E-0A805153140B" title="This procedure migrates the tablespace from a dictionary-managed format to a locally managed format. Tablespaces migrated to locally managed format are user managed.">TABLESPACE_MIGRATE_TO_LOCAL Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1134 d848569e953 ">
                                 <p>Migrates a tablespace from dictionary-managed format to locally managed format </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1146" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586" title="This procedure rebuilds the appropriate bitmaps. If no bitmap block is specified, then it rebuilds all bitmaps for the given tablespace.">TABLESPACE_REBUILD_BITMAPS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1146 d848569e953 ">
                                 <p>Rebuilds the appropriate bitmaps</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1158" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88" title="This procedure rebuilds quotas for the given tablespace.">TABLESPACE_REBUILD_QUOTAS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1158 d848569e953 ">
                                 <p>Rebuilds quotas for given tablespace</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1170" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840" title="This procedure relocates the bitmaps to the destination specified.">TABLESPACE_RELOCATE_BITMAPS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1170 d848569e953 ">
                                 <p>Relocates the bitmaps to the destination specified</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d848569e1182" headers="d848569e950 ">
                                 <p><a href="DBMS_SPACE_ADMIN.html#GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69" title="This procedure verifies that the bitmaps and extent maps for the segments in the tablespace are synchronized.">TABLESPACE_VERIFY Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d848569e1182 d848569e953 ">
                                 <p>Verifies that the bitmaps and extent maps for the segments in the tablespace are synchronized</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS68124"></a><a id="ARPLS68125"></a><a id="ARPLS68125"></a><a id="ARPLS68124"></a><div class="props_rev_3"><a id="GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471" name="GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471"></a><h4 id="ARPLS-GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471" class="sect4"><span class="enumeration_section">153.4.1 </span>ASSM_SEGMENT_VERIFY Procedure
                  </h4>
                  <div>
                     <p>Given a segment definition, the procedure verifies the basic consistency of the space metadata blocks as well as consistency between space metadata and segment data blocks. This procedure verifies segments created in Automatic Segment Space Management (ASSM) tablespaces.</p>
                     <div class="section">
                        <p>There is however a difference between basic verification and deep verification:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Basic verification involves consistency checks of space metadata, such as integrity among level 1, level 2, level 3 bitmap blocks, consistency of segment extent map and level 1 bitmap ranges.</p>
                           </li>
                           <li>
                              <p>Deep verification involves consistency checks between datablocks and space metadata blocks such as whether the datablocks point correctly to the parent level 1 bitmap blocks, and whether the freeness states in the datablocks are consistent with the freeness states of bits in level 1 bitmap blocks corresponding to the datablocks.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471__GUID-BDA56074-0A1E-4EC1-ABB8-A91D523EAB6C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.ASSM_SEGMENT_VERIFY (
   segment_owner   IN VARCHAR2,
   segment_name    IN VARCHAR2,
   segment_type    IN VARCHAR2,
   partition_name  IN VARCHAR2,
   verify_option   IN POSITIVE  DEFAULT SEGMENT_VERIFY_BASIC,
   attrib          IN POSITIVE  DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471__GUID-B7CDD345-E0A3-490D-8BFC-2266C95E313D">Parameters</p>
                        <div class="tblformal" id="GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471__GUID-9CE306F1-E7C7-4F13-9440-E4065874EAA5">
                           <p class="titleintable">Table 153-3 ASSM_SEGMENT_VERIFY Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ASSM_SEGMENT_VERIFY Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.ASSM_SEGMENT_VERIFY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e1313">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e1316">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1321" headers="d848569e1313 ">
                                       <p><code class="codeph">segment_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1321 d848569e1316 ">
                                       <p>Schema that owns the segment</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1329" headers="d848569e1313 ">
                                       <p><code class="codeph">segment_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1329 d848569e1316 ">
                                       <p>Name of the segment to be verified</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1337" headers="d848569e1313 ">
                                       <p><code class="codeph">segment_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1337 d848569e1316 ">
                                       <p>Segment namespace is one of <code class="codeph">TABLE</code>, <code class="codeph">TABLE</code> <code class="codeph">PARTITION</code>, <code class="codeph">TABLE</code> <code class="codeph">SUBPARTITION</code>, <code class="codeph">INDEX</code>, <code class="codeph">INDEX</code> <code class="codeph">PARTITION</code>, <code class="codeph">INDEX</code> <code class="codeph">SUBPARTITION</code>, <code class="codeph">LOB</code>, <code class="codeph">LOB</code> <code class="codeph">PARTITION</code>, <code class="codeph">LOB</code> <code class="codeph">SUBPARTITION</code>, <code class="codeph">CLUSTER</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1394" headers="d848569e1313 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1394 d848569e1316 ">
                                       <p>Name of the partition or subpartition</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1402" headers="d848569e1313 ">
                                       <p><code class="codeph">verify_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1402 d848569e1316 ">
                                       <p>One of the following options:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SEGMENT_VERIFY_BASIC</code> := 9. Performs the basic metadata checks (Default)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SEGMENT_VERIFY_DEEP</code> := 10. Performs deep verification
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SEGMENT_VERIFY_SPECIFIC</code> := 11. Performs a specific check for the segment
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1426" headers="d848569e1313 ">
                                       <p><code class="codeph">attrib</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1426 d848569e1316 ">
                                       <p>When option <code class="codeph">SEGMENT_VERIFY_SPECIFIC</code> is specified as option, <code class="codeph">attrib</code> can be one of the following:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">HWM_CHECK</code> := 12. Checks whether high water mark information is accurate
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BMB_CHECK</code> := 13. Checks whether space bitmap blocks have correct backpointers to the segment header
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SEG_DICT_CHECK</code> := 14. Checks whether dictionary information for segment is accurate
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXTENT_TS_BITMAP_CHECK</code> := 15. Checks whether extent maps are consistent with file level bitmaps
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DB_BACKPOINTER_CHECK</code> := 16. Checks whether datablocks have correct backpointers to the space metadata blocks
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">EXTENT_SEGMENT_BITMAP_CHECK</code> := 17. Checks whether extent map in the segment matches the bitmaps in the segment
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BITMAPS_CHECK</code> := 18. Checks whether space bitmap blocks are accurate
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8BEFC252-6758-43C3-BFE4-8C42E7C47471__GUID-1964A519-34E1-4228-B6C7-9C2D4DFD68EF">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Using this procedure requires <code class="codeph">SYSDBA</code> privileges.
                              </p>
                           </li>
                           <li>
                              <p>You can determine the relative file # and header block # (<code class="codeph">header_relative_file</code> and <code class="codeph">header_block</code> parameters) by querying <code class="codeph">DBA_SEGMENTS</code>.
                              </p>
                           </li>
                           <li>
                              <p>This procedure outputs a dump file named <code class="codeph">sid_ora_</code><span class="italic"><code class="codeph">process_ID</code></span>.<code class="codeph">trc</code> to the location specified in the <code class="codeph">USER_DUMP_DEST</code> initialization parameter. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68126"></a><a id="ARPLS68127"></a><a id="ARPLS68127"></a><a id="ARPLS68126"></a><div class="props_rev_3"><a id="GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B" name="GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B"></a><h4 id="ARPLS-GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B" class="sect4"><span class="enumeration_section">153.4.2 </span>ASSM_TABLESPACE_VERIFY Procedure
                  </h4>
                  <div>
                     <p>This procedures verifies all the segments created in an ASSM tablespace. The verification for each segment performs basic consistency checks of the space metadata blocks as well as consistency checks between space metadata and segment data blocks.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B__GUID-F502B147-ADA9-4F23-B1AE-616BA7D2D45A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.ASSM_TABLESPACE_VERIFY (
   tablespace_name   IN VARCHAR2,
   ts_option         IN POSITIVE,
   segment_option    IN POSITIVE DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B__GUID-571590E0-04D2-470B-A399-FEA087252EA0">Parameters</p>
                        <div class="tblformal" id="GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B__GUID-E064FB33-43AB-4189-8BBC-008AB0F9FDB5">
                           <p class="titleintable">Table 153-4 ASSM_TABLESPACE_VERIFY Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ASSM_TABLESPACE_VERIFY Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.ASSM_TABLESPACE_VERIFY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e1623">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e1626">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1631" headers="d848569e1623 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1631 d848569e1626 ">
                                       <p>Name of the tablespace to verify. The tablespace must be an ASSM tablespace.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1639" headers="d848569e1623 ">
                                       <p><code class="codeph">ts_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1639 d848569e1626 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TS_VERIFY_BITMAPS</code> := 19. The bitmaps are verified against the extents. This detects bits that are marked used or free wrongly and detects multiple allocation of extents. The file metadata is validated against <code class="codeph">file$</code> and control file. 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TS_VERIFY_DEEP</code> := 20. This option is used to verify the file bitmaps as well perform checks on all the segments.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TS_VERIFY_SEGMENTS</code> := 21. This option is used to invoke <code class="codeph">SEGMENT_VERIFY</code> on all the segments in the tablespace. Optionally you can write a script that queries all the segments in the tablespace and invoke <code class="codeph">SEGMENT_VERIFY</code>.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1670" headers="d848569e1623 ">
                                       <p><code class="codeph">segment_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1670 d848569e1626 ">
                                       <p>When <code class="codeph">TS_VERIFY_SEGMENTS</code> is specified, <code class="codeph">segment_option</code> can be one of the following:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SEGMENT_VERIFY_BASIC</code> := 9
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SEGMENT_VERIFY_DEEP</code> := 10
                                             </p>
                                          </li>
                                       </ul>
                                       <p>The value of <code class="codeph">segment_option</code> is <code class="codeph">NULL</code> when <code class="codeph">TS_VERIFY_DEEP</code> or <code class="codeph">TS_VERIFY_BITMAPS</code> is specified.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FEC2FEAB-BF7D-4E1D-9B86-EE4A4EAFA03B__GUID-7F01FBE8-86FD-4680-83DA-D4E7C69AC642">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Using this procedure requires <code class="codeph">SYSDBA</code> privileges.
                              </p>
                           </li>
                           <li>
                              <p>This procedure outputs a dump file named <code class="codeph">sid_ora_</code><span class="italic"><code class="codeph">process_ID</code></span>.<code class="codeph">trc</code> to the location specified in the <code class="codeph">USER_DUMP_DEST</code> initialization parameter. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73093"></a><a id="ARPLS73094"></a><a id="ARPLS73094"></a><a id="ARPLS73093"></a><div class="props_rev_3"><a id="GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D" name="GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D"></a><h4 id="ARPLS-GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D" class="sect4"><span class="enumeration_section">153.4.3 </span>DROP_EMPTY_SEGMENTS Procedure
                  </h4>
                  <div>
                     <p>This procedures drops segments from empty tables or table fragments and dependent objects.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D__GUID-00E1D9C9-6C96-4BEA-8ECB-35B476F9F0E4">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.DROP_EMPTY_SEGMENTS (
   schema_name       IN     VARCHAR2   DEFAULT NULL,
   table_name        IN     VARCHAR2   DEFAULT NULL,
   partition_name    IN     VARCHAR2   DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D__GUID-D824D7F9-3A7A-47F6-A736-88833A8512E0">Parameters</p>
                        <div class="tblformal" id="GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D__GUID-1EEBC722-FD10-4F6F-B478-B42C8A068A6B">
                           <p class="titleintable">Table 153-5 DROP_EMPTY_SEGMENTS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_EMPTY_SEGMENTS Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.DROP_EMPTY_SEGMENTS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e1843">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e1846">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1851" headers="d848569e1843 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1851 d848569e1846 ">
                                       <p>Name of schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1859" headers="d848569e1843 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1859 d848569e1846 ">
                                       <p>Name of table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e1867" headers="d848569e1843 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e1867 d848569e1846 ">
                                       <p>Name of partition</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B627605C-9909-40F5-AEBB-2C5EFED86E5D__GUID-8A7C7280-D1AA-4C93-A5F5-E5965FF5DDA1">Usage Notes</p>
                        <p>Given a schema name, this procedure scans all tables in the schema. For each table, if the table or any of its fragments are found to be empty, and the table satisfies certain criteria (restrictions being the same as those described in <a href="../sqlrf/CREATE-TABLE.html#SQLRF54480" target="_blank">"Restrictions on Deferred Segment Creation"</a>), then the empty table fragment and associated index segments are dropped along with the corresponding LOB data and index segments. A subsequent insert creates segments with the same properties. 
                        </p>
                        <p>Optionally:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>No <code class="codeph">schema_name</code> is specified, in which case tables belonging to all schemas are scanned
                              </p>
                           </li>
                           <li>
                              <p>Both <code class="codeph">schema_name</code> and <code class="codeph">table_name</code> are specified to perform the operation on a specified table 
                              </p>
                           </li>
                           <li>
                              <p>All three arguments are supplied, restricting the operation to the partition and its dependent objects </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-43CA2704-73B3-407B-93ED-3D359F2954FF" name="GUID-43CA2704-73B3-407B-93ED-3D359F2954FF"></a><h4 id="ARPLS-GUID-43CA2704-73B3-407B-93ED-3D359F2954FF" class="sect4"><span class="enumeration_section">153.4.4 </span>GET_SEGADV_ATTRIB Procedure
                  </h4>
                  <div>
                     <p>This procedure returns the values of attributes of <code class="codeph">DBMS_SPACE_ADMIN</code> package.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-43CA2704-73B3-407B-93ED-3D359F2954FF__GUID-D1BAE20C-E47C-403E-ABA9-DA6513D344EB">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.GET_SEGADV_ATTRIB(
   attribute  IN  NUMBER,
   value      OUT NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-43CA2704-73B3-407B-93ED-3D359F2954FF__GUID-1F1311E9-E948-44F5-B22E-901A11B3B079">Parameters</p>
                        <div class="tblformal" id="GUID-43CA2704-73B3-407B-93ED-3D359F2954FF__GUID-D1867F86-4C79-482E-9824-72D05B494CBE">
                           <p class="titleintable">Table 153-6 GET_SEGADV_ATTRIB Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_SEGADV_ATTRIB Procedure Parameters" summary="This table describes parameters used by the DBMS_SPACE_ADMIN.GET_SEGADV_ATTRIB subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e2013">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e2016">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2021" headers="d848569e2013 ">
                                       <p><code class="codeph">attribute</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2021 d848569e2016 ">
                                       <p>Supported attributes:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">COMP_ADVISOR</code>  Provides an option to enable or disable Compression Advisor for Automatic Segment Advisor. By default Compression Advisor is enabled for Automatic Segment Advisor.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COMP_LOB</code>  Provides an option to enable or disable Compression Advisor for the tables with LOB columns while Automatic Segment Advisor is running. By default Compression Advisor is enabled for tables with LOB columns.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2040" headers="d848569e2013 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2040 d848569e2016 ">
                                       <p>Supported values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">ATTR_ENABLE : 1</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ATTR_DISABLE : O</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS73095"></a><a id="ARPLS73096"></a><a id="ARPLS73096"></a><a id="ARPLS73095"></a><div class="props_rev_3"><a id="GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0" name="GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0"></a><h4 id="ARPLS-GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0" class="sect4"><span class="enumeration_section">153.4.5 </span>MATERIALIZE_DEFERRED_SEGMENTS Procedure
                  </h4>
                  <div>
                     <p>This procedure materializes segments for tables and table fragments with deferred segment creation and their dependent objects.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0__GUID-6CEAE273-F4B5-4946-9E5C-ED49990638F5">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.MATERIALIZE_DEFERRED_SEGMENTS (
   schema_name       IN     VARCHAR2   DEFAULT NULL,
   table_name        IN     VARCHAR2   DEFAULT NULL,
   partition_name    IN     VARCHAR2   DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0__GUID-609DDFD1-3EFE-436A-A41E-4AFB522EB739">Parameters</p>
                        <div class="tblformal" id="GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0__GUID-85E919D6-782C-449F-A1E8-03B3F2631E48">
                           <p class="titleintable">Table 153-7 MATERIALIZE_DEFERRED_SEGMENTS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MATERIALIZE_DEFERRED_SEGMENTS Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.MATERIALIZE_DEFERRED_SEGMENTS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e2167">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e2170">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2175" headers="d848569e2167 ">
                                       <p><code class="codeph">schema_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2175 d848569e2170 ">
                                       <p>Name of schema</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2183" headers="d848569e2167 ">
                                       <p><code class="codeph">table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2183 d848569e2170 ">
                                       <p>Name of table</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2191" headers="d848569e2167 ">
                                       <p><code class="codeph">partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2191 d848569e2170 ">
                                       <p>Name of partition</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6D689A2-FEFE-480D-BF1C-9959BF28D6A0__GUID-55CBFE43-E39B-4F1A-B68A-9F8BC8103FE6">Usage Notes</p>
                        <p>Given a schema name, this procedure scans all tables in the schema. For each table, if the deferred or delayed segment property is set for the table or any of its fragments, then a new segment is created for those fragments and their dependent objects. </p>
                        <p>Optionally:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>No <code class="codeph">schema_name</code> is specified, in which case tables belonging to all schemas are scanned
                              </p>
                           </li>
                           <li>
                              <p>Both <code class="codeph">schema_name</code> and <code class="codeph">table_name</code> are specified to perform the operation on a specified table 
                              </p>
                           </li>
                           <li>
                              <p>All three arguments are supplied, restricting the operation to the partition and its dependent objects</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68128"></a><a id="ARPLS68129"></a><a id="ARPLS68129"></a><a id="ARPLS68128"></a><div class="props_rev_3"><a id="GUID-998EE338-CD40-4F52-A8CE-C072D10EF766" name="GUID-998EE338-CD40-4F52-A8CE-C072D10EF766"></a><h4 id="ARPLS-GUID-998EE338-CD40-4F52-A8CE-C072D10EF766" class="sect4"><span class="enumeration_section">153.4.6 </span>SEGMENT_CORRUPT Procedure
                  </h4>
                  <div>
                     <p>This procedure marks the segment corrupt or valid so that appropriate error recovery can be performed.</p>
                     <div class="section">
                        <p>It cannot be used on the <code class="codeph">SYSTEM</code> tablespace.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-998EE338-CD40-4F52-A8CE-C072D10EF766__GUID-17D79985-D174-485F-9078-BB5BFBC52529">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.SEGMENT_CORRUPT (
   tablespace_name         IN    VARCHAR2,
   header_relative_file    IN    POSITIVE,
   header_block            IN    NUMBER,
   corrupt_option          IN    POSITIVE  DEFAULT SEGMENT_MARK_CORRUPT);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-998EE338-CD40-4F52-A8CE-C072D10EF766__GUID-F67F10F0-EF77-4A79-B00F-925D8E4FB4DD">Parameters</p>
                        <div class="tblformal" id="GUID-998EE338-CD40-4F52-A8CE-C072D10EF766__GUID-DABE3309-4FF0-459D-84D2-A476CF871F1B">
                           <p class="titleintable">Table 153-8 SEGMENT_CORRUPT Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_CORRUPT Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.SEGMENT_CORRUPT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e2340">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e2343">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2348" headers="d848569e2340 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2348 d848569e2343 ">
                                       <p>Name of tablespace in which segment resides</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2356" headers="d848569e2340 ">
                                       <p><code class="codeph">header_relative_file</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2356 d848569e2343 ">
                                       <p>Relative file number of segment header</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2364" headers="d848569e2340 ">
                                       <p><code class="codeph">header_block</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2364 d848569e2343 ">
                                       <p>Block number of segment header</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2372" headers="d848569e2340 ">
                                       <p><code class="codeph">corrupt_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2372 d848569e2343 ">
                                       <p><code class="codeph">SEGMENT_MARK_CORRUPT</code> (default) or <code class="codeph">SEGMENT_MARK_VALID</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-998EE338-CD40-4F52-A8CE-C072D10EF766__GUID-F4894F95-7D9B-4608-AE34-B241E445925F">Usage Noes</p>
                        <p>You can determine the relative file number and block number (<code class="codeph">header_relative_file</code> and <code class="codeph">header_block</code> parameter) of the segment header block by querying <code class="codeph">DBA_SEGMENTS</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-998EE338-CD40-4F52-A8CE-C072D10EF766__GUID-DC0A0362-5FE6-4421-BA1B-B5DA45314190">Examples</p>
                        <p>The following example marks the segment as corrupt:</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.SEGMENT_CORRUPT('USERS', 4, 33, DBMS_SPACE_ADMIN.SEGMENT_MARK_CORRUPT); 
</pre><p>Alternately, the next example marks a corrupt segment valid:</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.SEGMENT_CORRUPT('USERS', 4, 33, DBMS_SPACE_ADMIN.SEGMENT_MARK_VALID); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68130"></a><a id="ARPLS68131"></a><a id="ARPLS68131"></a><a id="ARPLS68130"></a><div class="props_rev_3"><a id="GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545" name="GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545"></a><h4 id="ARPLS-GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545" class="sect4"><span class="enumeration_section">153.4.7 </span>SEGMENT_DROP_CORRUPT Procedure
                  </h4>
                  <div>
                     <p>This procedure drops a segment currently marked corrupt (without reclaiming space).</p>
                     <div class="section">
                        <p>For this to work, the segment must be marked <span class="italic">temporary</span>. To mark a corrupt segment as temporary, issue a <code class="codeph">DROP</code> command on the segment. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545__GUID-03635EEB-9682-4617-8321-600A95342736">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.SEGMENT_DROP_CORRUPT (
   tablespace_name         IN    VARCHAR2,
   header_relative_file    IN    POSITIVE,
   header_block            IN    NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545__GUID-C5405C63-08D6-43AD-B8C3-B3A42281E74D">Parameters</p>
                        <div class="tblformal" id="GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545__GUID-3B18BB50-7FD6-4C10-956F-24528ECFF04D">
                           <p class="titleintable">Table 153-9 SEGMENT_DROP_CORRUPT Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_DROP_CORRUPT Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.SEGMENT_DROP_CORRUPT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e2527">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e2530">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2535" headers="d848569e2527 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2535 d848569e2530 ">
                                       <p>Name of tablespace in which segment resides</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2543" headers="d848569e2527 ">
                                       <p><code class="codeph">header_relative_file</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2543 d848569e2530 ">
                                       <p>Relative file number of segment header</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2551" headers="d848569e2527 ">
                                       <p><code class="codeph">header_block</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2551 d848569e2530 ">
                                       <p>Block number of segment header</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545__GUID-C7F4C276-8221-430F-9F65-824D9C8BA257">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The space for the segment is not released, and it must be fixed by using the <a href="DBMS_SPACE_ADMIN.html#GUID-244977B8-36E5-4434-81B2-C82B83B902BD" title="This procedure marks the appropriate block range (extent) as free or used in bitmap. It cannot be used on the SYSTEM tablespace.">TABLESPACE_FIX_BITMAPS Procedure</a> or the <a href="DBMS_SPACE_ADMIN.html#GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586" title="This procedure rebuilds the appropriate bitmaps. If no bitmap block is specified, then it rebuilds all bitmaps for the given tablespace.">TABLESPACE_REBUILD_BITMAPS Procedure</a>. 
                              </p>
                           </li>
                           <li>
                              <p>The procedure cannot be used on the <code class="codeph">SYSTEM</code> tablespace.
                              </p>
                           </li>
                           <li>
                              <p>You can determine the relative file number and block number (<code class="codeph">header_relative_file</code> and <code class="codeph">header_block</code> parameter) of the segment header block by querying <code class="codeph">DBA_SEGMENTS</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3CD6D4A9-0216-4CD1-A110-8504CFAC1545__GUID-BD1FFAEB-9622-41AF-B6B3-AFBFFA34861E">Examples</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.SEGMENT_DROP_CORRUPT('USERS', 4, 33); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68132"></a><a id="ARPLS68133"></a><a id="ARPLS68133"></a><a id="ARPLS68132"></a><div class="props_rev_3"><a id="GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D" name="GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D"></a><h4 id="ARPLS-GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D" class="sect4"><span class="enumeration_section">153.4.8 </span>SEGMENT_DUMP Procedure
                  </h4>
                  <div>
                     <p>This procedure dumps the segment header and bitmap blocks of a specific segment to the location specified in the <code class="codeph">USER_DUMP_DEST</code> initialization parameter. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D__GUID-5929E300-6E97-4B1B-952F-DA0BEA6CDCC6">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.SEGMENT_DUMP (
   tablespace_name         IN    VARCHAR2,
   header_relative_file    IN    POSITIVE,
   header_block            IN    NUMBER,
   dump_option             IN    POSITIVE  DEFAULT SEGMENT_DUMP_EXTENT_MAP);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D__GUID-B21C9F7F-204D-4A0A-A955-634B0B9B58E8">Parameters</p>
                        <div class="tblformal" id="GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D__GUID-43FC8B3B-A802-4C40-AF70-F91A2AA7B2FE">
                           <p class="titleintable">Table 153-10 SEGMENT_DUMP Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_DUMP Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.SEGMENT_DUMP subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e2719">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e2722">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2727" headers="d848569e2719 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2727 d848569e2722 ">
                                       <p>Name of tablespace in which segment resides</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2735" headers="d848569e2719 ">
                                       <p><code class="codeph">header_relative_file</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2735 d848569e2722 ">
                                       <p>Relative file number of segment header</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2743" headers="d848569e2719 ">
                                       <p><code class="codeph">header_block</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2743 d848569e2722 ">
                                       <p>Block number of segment header</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2751" headers="d848569e2719 ">
                                       <p><code class="codeph">dump_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2751 d848569e2722 ">
                                       <p>One of the following options:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">SEGMENT_DUMP_EXTENT_MAP</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SEGMENT_DUMP_BITMAP_SUMMARY</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D__GUID-CC44A25B-A404-4C83-B6DF-197001C7CD21">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can produce a slightly abbreviated dump, which includes the segment header and bitmap block summaries, without percent-free states of each block if you pass <code class="codeph">SEGMENT_DUMP_BITMAP_SUMMARY</code> as the <code class="codeph">dump_option</code> parameter.
                              </p>
                           </li>
                           <li>
                              <p>You can determine the relative file number and block number (<code class="codeph">header_relative_file</code> and <code class="codeph">header_block</code> parameter) of the segment header block by querying <code class="codeph">DBA_SEGMENTS</code>.<code class="codeph">HEADER_FILE</code>. If <code class="codeph">HEADER_FILE</code> is greater than 1023 then use <code class="codeph">DBA_DATA_FILES</code>.<code class="codeph">RELATIVE_FNO</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6FDAF184-3689-4803-88C6-24C703F2EF6D__GUID-474C693D-EDFD-4531-9625-D64297DDBD02">Examples</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.SEGMENT_DUMP('USERS', 4, 33); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68134"></a><a id="ARPLS68135"></a><a id="ARPLS68135"></a><a id="ARPLS68134"></a><div class="props_rev_3"><a id="GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B" name="GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B"></a><h4 id="ARPLS-GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B" class="sect4"><span class="enumeration_section">153.4.9 </span>SEGMENT_VERIFY Procedure
                  </h4>
                  <div>
                     <p>This procedure checks the consistency of the segment extent map with the tablespace file bitmaps.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B__GUID-3C28C223-2AAC-4161-90C7-EEA217A9A113">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.SEGMENT_VERIFY (
   tablespace_name         IN    VARCHAR2,
   header_relative_file    IN    POSITIVE,
   header_block            IN    NUMBER,
   verify_option           IN    POSITIVE  DEFAULT SEGMENT_VERIFY_EXTENTS);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B__GUID-ABB1C6D6-8993-4DB3-A3CC-08DFACD8925F">Parameters</p>
                        <div class="tblformal" id="GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B__GUID-066B8F70-0D8F-4381-B06E-C31A15B09661">
                           <p class="titleintable">Table 153-11 SEGMENT_VERIFY Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_VERIFY Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.SEGMENT_VERIFY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e2920">Parameters</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e2923">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2928" headers="d848569e2920 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2928 d848569e2923 ">
                                       <p>Name of tablespace in which segment resides</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2936" headers="d848569e2920 ">
                                       <p><code class="codeph">header_relative_file</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2936 d848569e2923 ">
                                       <p>Relative file number of segment header</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2944" headers="d848569e2920 ">
                                       <p><code class="codeph">header_block</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2944 d848569e2923 ">
                                       <p>Block number of segment header</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e2952" headers="d848569e2920 ">
                                       <p><code class="codeph">verify_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e2952 d848569e2923 ">
                                       <p>What kind of check to do:<code class="codeph"> SEGMENT_VERIFY_EXTENTS</code> or <code class="codeph">SEGMENT_VERIFY_EXTENTS_GLOBAL</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B__GUID-01A1BD42-CF24-4283-AE66-BEB683000A43">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Anomalies are output as block range, bitmap-block, bitmap-block-range, anomaly-information, in the trace file for all block ranges found to have incorrect space representation. The kinds of problems which would be reported are free space not considered free, used space considered free, and the same space considered used by multiple segments.</p>
                           </li>
                           <li>
                              <p>You can determine the relative file number and block number (<code class="codeph">header_relative_file</code> and <code class="codeph">header_block</code> parameter) of the segment header block by querying <code class="codeph">DBA_SEGMENTS</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE186D4F-868D-4878-B3A9-FEBB80EB350B__GUID-7BFDE213-BD6B-412B-B028-92A3C421AAAE">Examples</p>
                        <p>The following example verifies that the segment with segment header at relative file number 4, block number 33, has its extent maps and bitmaps synchronized.</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.SEGMENT_VERIFY('USERS', 4, 33, DBMS_SPACE_ADMIN.SEGMENT_VERIFY_EXTENTS); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BCD2412D-8820-434F-BFD8-AD00EA6E8BB5" name="GUID-BCD2412D-8820-434F-BFD8-AD00EA6E8BB5"></a><h4 id="ARPLS-GUID-BCD2412D-8820-434F-BFD8-AD00EA6E8BB5" class="sect4"><span class="enumeration_section">153.4.10 </span>SET_SEGADV_ATTRIB Procedure
                  </h4>
                  <div>
                     <p>This procedure sets the values of attributes of <code class="codeph">DBMS_SPACE_ADMIN</code> package.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BCD2412D-8820-434F-BFD8-AD00EA6E8BB5__GUID-BD29998F-89CF-4E9F-86DD-95B240C75B88">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.SET_SEGADV_ATTRIB(
   attribute  IN  NUMBER,
   value      IN  NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCD2412D-8820-434F-BFD8-AD00EA6E8BB5__GUID-29FA64BC-6099-4064-B55D-38D7F64EFB12">Parameters</p>
                        <div class="tblformal" id="GUID-BCD2412D-8820-434F-BFD8-AD00EA6E8BB5__GUID-F3992EA2-23E7-4D7C-9F91-9F48CD38C9D6">
                           <p class="titleintable">Table 153-12 SET_SEGADV_ATTRIB Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_SEGADV_ATTRIB Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.SET_SEGADV_ATTRIB subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e3099">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e3102">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3107" headers="d848569e3099 ">
                                       <p><code class="codeph">attribute</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3107 d848569e3102 ">
                                       <p>Supported attributes:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">COMP_ADVISOR</code>  Provides an option to enable or disable Compression Advisor for Automatic Segment Advisor. By default Compression Advisor is enabled for Automatic Segment Advisor.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">COMP_LOB</code>  Provides an option to enable or disable Compression Advisor for the tables with LOB columns while Automatic Segment Advisor is running. By default Compression Advisor is enabled for tables with LOB columns.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3126" headers="d848569e3099 ">
                                       <p><code class="codeph">value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3126 d848569e3102 ">
                                       <p>Supported values:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">ATTR_ENABLE : 1</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ATTR_DISABLE : O</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68136"></a><a id="ARPLS68137"></a><a id="ARPLS68137"></a><a id="ARPLS68136"></a><div class="props_rev_3"><a id="GUID-244977B8-36E5-4434-81B2-C82B83B902BD" name="GUID-244977B8-36E5-4434-81B2-C82B83B902BD"></a><h4 id="ARPLS-GUID-244977B8-36E5-4434-81B2-C82B83B902BD" class="sect4"><span class="enumeration_section">153.4.11 </span>TABLESPACE_FIX_BITMAPS Procedure
                  </h4>
                  <div>
                     <p>This procedure marks the appropriate block range (extent) as free or used in bitmap. It cannot be used on the <code class="codeph">SYSTEM</code> tablespace.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-244977B8-36E5-4434-81B2-C82B83B902BD__GUID-227C713B-34B2-49F3-9E18-28F791114C53">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_FIX_BITMAPS (
   tablespace_name         IN    VARCHAR2,
   dbarange_relative_file  IN    POSITIVE,
   dbarange_begin_block    IN    POSITIVE,
   dbarange_end_block      IN    POSITIVE,
   fix_option              IN    POSITIVE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-244977B8-36E5-4434-81B2-C82B83B902BD__GUID-BFA13027-3434-4914-A172-7297F3A899BC">Parameters</p>
                        <div class="tblformal" id="GUID-244977B8-36E5-4434-81B2-C82B83B902BD__GUID-F56DD070-138A-47FB-BFBE-2D494749057C">
                           <p class="titleintable">Table 153-13 TABLESPACE_FIX_BITMAPS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_FIX_BITMAPS Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_FIX_BITMAPS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e3256">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e3259">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3264" headers="d848569e3256 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3264 d848569e3259 ">
                                       <p>Name of tablespace</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3272" headers="d848569e3256 ">
                                       <p><code class="codeph">dbarange_relative_file</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3272 d848569e3259 ">
                                       <p>Relative file number of block range (extent)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3280" headers="d848569e3256 ">
                                       <p><code class="codeph">dbarange_begin_block</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3280 d848569e3259 ">
                                       <p>Block number of beginning of extent</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3288" headers="d848569e3256 ">
                                       <p><code class="codeph">dbarange_end_block</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3288 d848569e3259 ">
                                       <p>Block number (inclusive) of end of extent</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3296" headers="d848569e3256 ">
                                       <p><code class="codeph">fix_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3296 d848569e3259 ">
                                       <p>One of the following options:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">TABLESPACE_EXTENT_MAKE_FREE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TABLESPACE_EXTENT_MAKE_USED</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-244977B8-36E5-4434-81B2-C82B83B902BD__GUID-9DBDC919-AF71-4D34-A4F7-06BDD14C1C9D">Examples </p>
                        <p>The following example marks bits for 51 blocks for relative file number 4, beginning at block number 33 and ending at 83, as <code class="codeph">USED</code> in bitmaps.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_FIX_BITMAPS('USERS', 4, 33, 83, DBMS_SPACE_ADMIN.EXTENT_MAKE_USED); 
</pre><p>Alternatively, specifying an option of <code class="codeph">TABLESPACE_EXTENT_MAKE_FREE</code> marks the bits free in bitmaps. The <code class="codeph">BEGIN</code> and <code class="codeph">END</code> blocks must be in extent boundary and be extent multiple; otherwise, an error is raised. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68138"></a><a id="ARPLS68139"></a><a id="ARPLS68139"></a><a id="ARPLS68138"></a><div class="props_rev_3"><a id="GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B" name="GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B"></a><h4 id="ARPLS-GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B" class="sect4"><span class="enumeration_section">153.4.12 </span>TABLESPACE_FIX_SEGMENT_STATES Procedure
                  </h4>
                  <div>
                     <p>This procedure fixes the state of the segments in a tablespace in which migration was aborted.</p>
                     <div class="section">
                        <p>During tablespace migration to or from local, the segments are put in a transient state. If migration is aborted, then the segment states are corrected by SMON when event 10906 is set. A database with segments in such a transient state cannot be downgraded. The procedure can be used to fix the state of such segments.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B__GUID-05599495-C967-4DFA-B1CB-7725E2A5ABB3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_FIX_SEGMENT_STATES (
   tablespace_name     IN    VARCHAR);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B__GUID-479FDADE-03E1-4087-B8FC-AE05DB84805C">Parameters</p>
                        <div class="tblformal" id="GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B__GUID-82C7FE49-5947-44A5-8369-99A084741FF8">
                           <p class="titleintable">Table 153-14 TABLESPACE_FIX_SEGMENT_STATES Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_FIX_SEGMENT_STATES Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_FIX_SEGMENT_STATES subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d848569e3446">Parameter Name</th>
                                    <th align="left" valign="bottom" width="74%" id="d848569e3449">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d848569e3454" headers="d848569e3446 ">
                                       <p><code class="codeph">tablespace_name </code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d848569e3454 d848569e3449 ">
                                       <p>Name of the tablespace whose segments must be fixed</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B__GUID-2900D6EE-F0AB-4407-91CE-36A8A7417122">Usage Notes </p>
                        <p>The tablespace must be kept online and read/write when this procedure is called.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87FE374A-D508-48F6-8F32-6997F4A0B23B__GUID-43FC2530-C776-4C1D-9CFF-2638A57CBA9B">Examples</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_FIX_SEGMENT_STATES('TS1') </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68140"></a><a id="ARPLS68141"></a><a id="ARPLS68141"></a><a id="ARPLS68140"></a><div class="props_rev_3"><a id="GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503" name="GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503"></a><h4 id="ARPLS-GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503" class="sect4"><span class="enumeration_section">153.4.13 </span>TABLESPACE_MIGRATE_FROM_LOCAL Procedure
                  </h4>
                  <div>
                     <p>This procedure migrates a locally managed tablespace to a dictionary-managed tablespace. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503__GUID-03074D39-012D-4E48-B246-E4620E836FB7">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_FROM_LOCAL (
   tablespace_name         IN    VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503__GUID-A3C5071D-12E0-46FB-BAEE-478523833061">Parameter</p>
                        <div class="tblformal" id="GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503__GUID-76AE43AD-AADA-46FC-AD19-7821766A6C10">
                           <p class="titleintable">Table 153-15 TABLESPACE_MIGRATE_FROM_LOCAL Procedure Parameter</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_MIGRATE_FROM_LOCAL Procedure Parameter" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_FROM_LOCAL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="38%" id="d848569e3581">Parameter</th>
                                    <th align="left" valign="bottom" width="62%" id="d848569e3584">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="38%" id="d848569e3589" headers="d848569e3581 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="62%" headers="d848569e3589 d848569e3584 ">
                                       <p>Name of tablespace</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503__GUID-9A44B6CE-C7AB-4EAE-884D-C13F2B53CBDE">Usage Notes</p>
                        <p>The tablespace must be kept online and read/write during migration. Migration of temporary tablespaces and migration of <code class="codeph">SYSTEM</code> tablespaces are not supported. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CC56047A-62AA-4055-BA7F-0BE2FF4C1503__GUID-A6ECB590-18B7-4491-BE47-5AB7A2E4C69F">Examples</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_FROM_LOCAL('USERS'); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68142"></a><a id="ARPLS68143"></a><a id="ARPLS68143"></a><a id="ARPLS68142"></a><div class="props_rev_3"><a id="GUID-B634DAB0-15B5-4759-A95E-0A805153140B" name="GUID-B634DAB0-15B5-4759-A95E-0A805153140B"></a><h4 id="ARPLS-GUID-B634DAB0-15B5-4759-A95E-0A805153140B" class="sect4"><span class="enumeration_section">153.4.14 </span>TABLESPACE_MIGRATE_TO_LOCAL Procedure
                  </h4>
                  <div>
                     <p>This procedure migrates the tablespace from a dictionary-managed format to a locally managed format. Tablespaces migrated to locally managed format are user managed. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B634DAB0-15B5-4759-A95E-0A805153140B__GUID-613618E7-45EB-469F-B1E9-E66B41139023">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL (
   tablespace_name     IN     VARCHAR2,
   unit_size           IN     POSITIVE DEFAULT NULL,
   rfno                IN     POSITIVE DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B634DAB0-15B5-4759-A95E-0A805153140B__GUID-A064E105-29E0-41C5-9711-124024809C4E">Parameters</p>
                        <div class="tblformal" id="GUID-B634DAB0-15B5-4759-A95E-0A805153140B__GUID-29C27ADE-B3D9-4B7F-ABAB-7D7D5A09F898">
                           <p class="titleintable">Table 153-16 TABLESPACE_MIGRATE_TO_LOCAL Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_MIGRATE_TO_LOCAL Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d848569e3720">Parameter Name</th>
                                    <th align="left" valign="bottom" width="74%" id="d848569e3723">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d848569e3728" headers="d848569e3720 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d848569e3728 d848569e3723 ">
                                       <p>Name of the tablespace to be migrated </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d848569e3736" headers="d848569e3720 ">
                                       <p><code class="codeph">unit_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d848569e3736 d848569e3723 ">
                                       <p>Bitmap unit size (which is the size of the smallest possible chunk of space that can be allocated) in the tablespace specified in number of blocks</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d848569e3744" headers="d848569e3720 ">
                                       <p><code class="codeph">rfno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d848569e3744 d848569e3723 ">
                                       <p>Relative File Number of the file where the bitmap blocks are placed</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B634DAB0-15B5-4759-A95E-0A805153140B__GUID-B1972A4C-7758-4BCB-884A-5DF5972741CA">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Before you migrate the <code class="codeph">SYSTEM</code> tablespace, migrate any dictionary-managed tablespaces that you want to use in read/write mode to locally managed. After the <code class="codeph">SYSTEM</code> tablespace is migrated, you cannot change dictionary-managed tablespaces to read/write.
                              </p>
                              <div class="infoboxnotealso" id="GUID-B634DAB0-15B5-4759-A95E-0A805153140B__GUID-B0FA4313-83EE-40A5-8634-B9222E67882D">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../admin/managing-tablespaces.html#ADMIN11393" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
                              </div>
                           </li>
                           <li>
                              <p>The tablespace must be kept online and read/write during migration. Note that temporary tablespaces cannot be migrated.</p>
                           </li>
                           <li>
                              <p>Allocation Unit may be specified optionally. The default is calculated by the system based on the highest common divisor of all extents (used or free) for the tablespace. This number is further trimmed based on the <code class="codeph">MINIMUM EXTENT</code> for the tablespace (5 if <code class="codeph">MINIMUM EXTENT</code> is not specified). Thus, the calculated value will not be larger than the <code class="codeph">MINIMUM EXTENT</code> for the tablespace. The last free extent in every file is ignored for GCD calculation. If you specify the unit size, then it must be a factor of the <code class="codeph">unit_size</code> calculated by the system; otherwise an error message is returned.
                              </p>
                           </li>
                           <li>
                              <p>The Relative File Number parameter is used to place the bitmaps in a desired file. If space is not found in the file, then an error is issued. The data file specified must be part of the tablespace being migrated. If the dataflow is not specified, then the system chooses a dataflow in which to place the initial bitmap blocks. If space is not found for the initial bitmaps, then an error is raised.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B634DAB0-15B5-4759-A95E-0A805153140B__GUID-0694807B-0234-4426-8CE9-558FFACDDBFA">Examples</p>
                        <p>To migrate a tablespace 'TS1' in 2KB blocksize with minimum extent size 1MB:</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_MIGRATE_TO_LOCAL('TS1', 512, 2);
</pre><p>The bitmaps are placed in file with relative file number 2.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68144"></a><a id="ARPLS68145"></a><a id="ARPLS68145"></a><a id="ARPLS68144"></a><div class="props_rev_3"><a id="GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586" name="GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586"></a><h4 id="ARPLS-GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586" class="sect4"><span class="enumeration_section">153.4.15 </span>TABLESPACE_REBUILD_BITMAPS Procedure
                  </h4>
                  <div>
                     <p>This procedure rebuilds the appropriate bitmaps. If no bitmap block is specified, then it rebuilds all bitmaps for the given tablespace. </p>
                     <div class="section">
                        <p>The procedure cannot be used on the <code class="codeph">SYSTEM</code> tablespace.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586__GUID-17E7165B-9B67-47CC-B5C4-64375EEEBFD3">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_REBUILD_BITMAPS (
   tablespace_name         IN    VARCHAR2,
   bitmap_relative_file    IN    POSITIVE   DEFAULT NULL,
   bitmap_block            IN    POSITIVE   DEFAULT NULL);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586__GUID-D71DA963-5074-48AE-A3D5-F4DCCFE8332D">Parameters</p>
                        <div class="tblformal" id="GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586__GUID-63FF701C-ABCD-42A2-8E45-A4FBE9AC9E1C">
                           <p class="titleintable">Table 153-17 TABLESPACE_REBUILD_BITMAPS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_REBUILD_BITMAPS Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_REBUILD_BITMAPS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e3916">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e3919">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3924" headers="d848569e3916 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3924 d848569e3919 ">
                                       <p>Name of tablespace</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3932" headers="d848569e3916 ">
                                       <p><code class="codeph">bitmap_relative_file</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3932 d848569e3919 ">
                                       <p>Relative file number of bitmap block to rebuild</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e3940" headers="d848569e3916 ">
                                       <p><code class="codeph">bitmap_block</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e3940 d848569e3919 ">
                                       <p>Block number of bitmap block to rebuild</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586__GUID-910D2BEE-3BD9-479D-9E70-D900E3163618">Usage Notes</p>
                        <p>Only full rebuild is supported.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3981E4C7-8F42-42EE-8CA9-9EB77B79A586__GUID-980BA0E9-B878-4578-A992-27A47916C2E1">Examples </p>
                        <p>The following example rebuilds bitmaps for all the files in the <code class="codeph">USERS</code> tablespace.
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_REBUILD_BITMAPS('USERS'); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68146"></a><a id="ARPLS68147"></a><a id="ARPLS68147"></a><a id="ARPLS68146"></a><div class="props_rev_3"><a id="GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88" name="GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88"></a><h4 id="ARPLS-GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88" class="sect4"><span class="enumeration_section">153.4.16 </span>TABLESPACE_REBUILD_QUOTAS Procedure
                  </h4>
                  <div>
                     <p>This procedure rebuilds quotas for the given tablespace.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88__GUID-93F1E121-CDC5-467C-87AC-624550D02D79">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_REBUILD_QUOTAS (
   tablespace_name         IN    VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88__GUID-B6D5EC78-A48E-45FF-A295-2BFA5D3BDB2F">Parameters</p>
                        <div class="tblformal" id="GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88__GUID-5B4C9E57-B9DE-40FE-A044-6D3EF9DE2E33">
                           <p class="titleintable">Table 153-18 TABLESPACE_REBUILD_QUOTAS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_REBUILD_QUOTAS Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_REBUILD_QUOTAS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e4072">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e4075">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e4080" headers="d848569e4072 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e4080 d848569e4075 ">
                                       <p>Name of tablespace</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7A3772BB-1FB8-4D03-BB9C-C01A80947E88__GUID-587F3188-FAD3-4E85-9992-CE897A1A5510">Examples </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_REBUILD_QUOTAS('USERS');</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68148"></a><a id="ARPLS68149"></a><a id="ARPLS68149"></a><a id="ARPLS68148"></a><div class="props_rev_3"><a id="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840" name="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840"></a><h4 id="ARPLS-GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840" class="sect4"><span class="enumeration_section">153.4.17 </span>TABLESPACE_RELOCATE_BITMAPS Procedure
                  </h4>
                  <div>
                     <p>This procedure relocates the bitmaps to the destination specified. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840__GUID-55C330EE-65FB-4BAE-9452-03CDC2F5F21A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_RELOCATE_BITMAPS (
   tablespace_name    IN      VARCHAR2,
   filno              IN      POSITIVE,
   blkno              IN      POSITIVE);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840__GUID-51116D12-364C-4EB6-A4E1-8617577CE894">Parameters</p>
                        <div class="tblformal" id="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840__GUID-0FC6995D-C177-4E85-9811-682AF3F42210">
                           <p class="titleintable">Table 153-19 TABLESPACE_RELOCATE_BITMAPS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_RELOCATE_BITMAPS Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_RELOCATE_BITMAPS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d848569e4203">Parameter Name</th>
                                    <th align="left" valign="bottom" width="72%" id="d848569e4206">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d848569e4211" headers="d848569e4203 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d848569e4211 d848569e4206 ">
                                       <p>Name of tablespace</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d848569e4219" headers="d848569e4203 ">
                                       <p><code class="codeph">filno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d848569e4219 d848569e4206 ">
                                       <p>Relative File Number of the destination file</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d848569e4227" headers="d848569e4203 ">
                                       <p><code class="codeph">blkno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d848569e4227 d848569e4206 ">
                                       <p>Block Number of the destination range</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840__GUID-A9DA603C-F252-45C8-9D02-2FB88FEBBD92">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Migration of a tablespace from dictionary-managed to locally managed format could result in the creation of <code class="codeph">SPACE HEADER</code> segment that contains the bitmap blocks. The <code class="codeph">SPACE</code> <code class="codeph">HEADER</code> segment is treated as user data. If you explicitly resize a file at or below the space header segment, then an error is issued. Use the <code class="codeph">TABLESPACE_RELOCATE_BITMAPS</code> command to move the control information to a different destination and then resize the file. 
                              </p>
                           </li>
                           <li>
                              <p>This procedure cannot be used on the <code class="codeph">SYSTEM</code> tablespace.
                              </p>
                           </li>
                           <li>
                              <p>The tablespace must be kept online and read/write during relocation of bitmaps. This can be done only on migrated locally managed tablespaces.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840__GUID-03684029-C33F-4FF0-AD3E-387A61E0C479">Examples</p><pre class="oac_no_warn" dir="ltr">EXECUTE  DBMS_SPACE_ADMIN.TABLESPACE_RELOCATE_BITMAPS('TS1', 3, 4);
</pre><p>Moves the bitmaps to file 3, block 4.</p>
                        <div class="infoboxnote" id="GUID-86A97D76-BF3F-49D5-BD99-B9ADAB0CC840__GUID-8298207B-A728-43F8-9E2C-26EE30811379">
                           <p class="notep1">Note:</p>
                           <p>The source and the destination addresses must not overlap. The destination block number is rounded down to the unit boundary. If there is user data in that location, then an error is raised. </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68150"></a><a id="ARPLS68151"></a><a id="ARPLS68151"></a><a id="ARPLS68150"></a><div class="props_rev_3"><a id="GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69" name="GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69"></a><h4 id="ARPLS-GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69" class="sect4"><span class="enumeration_section">153.4.18 </span>TABLESPACE_VERIFY Procedure
                  </h4>
                  <div>
                     <p>This procedure verifies that the bitmaps and extent maps for the segments in the tablespace are synchronized.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69__GUID-E1C83689-56CC-4B62-80C2-F00035BBD72A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_SPACE_ADMIN.TABLESPACE_VERIFY (
   tablespace_name         IN    VARCHAR2,
   verify_option           IN    POSITIVE DEFAULT TABLESPACE_VERIFY_BITMAP);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69__GUID-80B172D9-7F20-4185-B606-D511617CC597">Parameters</p>
                        <div class="tblformal" id="GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69__GUID-6BAD2080-C1C6-4A1B-A6E9-7E31385938D4">
                           <p class="titleintable">Table 153-20 TABLESPACE_VERIFY Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TABLESPACE_VERIFY Procedure Parameters" summary="This table describes Parameters used by the DBMS_SPACE_ADMIN.TABLESPACE_VERIFY subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d848569e4382">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d848569e4385">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e4390" headers="d848569e4382 ">
                                       <p><code class="codeph">tablespace_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e4390 d848569e4385 ">
                                       <p>Name of tablespace</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d848569e4398" headers="d848569e4382 ">
                                       <p><code class="codeph">verify_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d848569e4398 d848569e4385 ">
                                       <p>One option is supported: <code class="codeph">TABLESPACE_VERIFY_BITMAP</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8977CC15-4B1D-44CE-9AA1-F96E2DA30C69__GUID-130D7A3F-45ED-4C2C-8078-A13F47E318F5">Examples</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_SPACE_ADMIN.TABLESPACE_VERIFY('USERS'); </pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>