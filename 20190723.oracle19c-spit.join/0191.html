<html id='10308.ALTER-INDEX.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>ALTER INDEX</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ALTER-HIERARCHY.html" title="Previous" type="text/html">
      <link rel="next" href="ALTER-INDEXTYPE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ALTER-HIERARCHY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="ALTER-INDEXTYPE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ADMINISTER-KEY-MANAGEMENT-to-ALTER-JAVA.html" property="item" typeof="WebPage"><span property="name"> SQL Statements: ADMINISTER KEY MANAGEMENT to ALTER JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">ALTER INDEX </li>
            </ol>
            <a id="GUID-D8F648E7-8C07-4C89-BB71-862512536558" name="GUID-D8F648E7-8C07-4C89-BB71-862512536558"></a><a id="SQLRF52716"></a><a id="SQLRF52717"></a><a id="SQLRF52718"></a><a id="SQLRF52719"></a><a id="SQLRF52720"></a><a id="SQLRF52721"></a><a id="SQLRF52722"></a><a id="SQLRF55836"></a><a id="SQLRF52723"></a><a id="SQLRF52724"></a><a id="SQLRF56852"></a><a id="SQLRF56853"></a><a id="SQLRF52725"></a><a id="SQLRF52726"></a><a id="SQLRF52727"></a><a id="SQLRF52728"></a><a id="SQLRF52729"></a><a id="SQLRF52730"></a><a id="SQLRF52731"></a><a id="SQLRF52732"></a><a id="SQLRF52733"></a><a id="SQLRF52734"></a><a id="SQLRF52735"></a><a id="SQLRF52736"></a><a id="SQLRF52737"></a><a id="SQLRF52738"></a><a id="SQLRF52739"></a><a id="SQLRF52740"></a><a id="SQLRF52741"></a><a id="SQLRF52742"></a><a id="SQLRF52743"></a><a id="SQLRF52744"></a><a id="SQLRF52745"></a><a id="SQLRF52746"></a><a id="SQLRF52747"></a><a id="SQLRF52748"></a><a id="SQLRF52749"></a><a id="SQLRF52750"></a><a id="SQLRF52751"></a><a id="SQLRF52752"></a><a id="SQLRF56160"></a><a id="SQLRF52753"></a><a id="SQLRF52754"></a><a id="SQLRF52755"></a><a id="SQLRF52756"></a><a id="SQLRF52757"></a><a id="SQLRF52758"></a><a id="SQLRF52759"></a><a id="SQLRF52760"></a><a id="SQLRF52761"></a><a id="SQLRF52762"></a><a id="SQLRF52763"></a><a id="SQLRF56993"></a><a id="SQLRF52766"></a><a id="SQLRF52767"></a><a id="SQLRF52768"></a><a id="SQLRF52769"></a><a id="SQLRF52770"></a><a id="SQLRF52771"></a><a id="SQLRF52772"></a><a id="SQLRF52773"></a><a id="SQLRF52774"></a><a id="SQLRF52775"></a><a id="SQLRF52776"></a><a id="SQLRF52777"></a><a id="SQLRF55624"></a><a id="SQLRF52778"></a><a id="SQLRF52779"></a><a id="SQLRF52780"></a><a id="SQLRF52781"></a><a id="SQLRF52782"></a><a id="SQLRF56109"></a><a id="SQLRF52783"></a><a id="SQLRF52784"></a><a id="SQLRF52785"></a><a id="SQLRF52786"></a><a id="SQLRF52787"></a><a id="SQLRF52788"></a><a id="SQLRF52789"></a><a id="SQLRF52790"></a><a id="SQLRF52791"></a><a id="SQLRF52792"></a><a id="SQLRF52793"></a><a id="SQLRF52794"></a><a id="SQLRF52795"></a><a id="SQLRF52796"></a><a id="SQLRF52797"></a><a id="SQLRF56163"></a><a id="SQLRF52798"></a><a id="SQLRF52799"></a><a id="SQLRF52800"></a><a id="SQLRF52801"></a><a id="SQLRF52802"></a><a id="SQLRF52803"></a><a id="SQLRF52804"></a><a id="SQLRF52805"></a><a id="SQLRF52806"></a><a id="SQLRF52807"></a><a id="SQLRF52808"></a><a id="SQLRF52809"></a><a id="SQLRF52810"></a><a id="SQLRF52811"></a><a id="SQLRF52812"></a><a id="SQLRF52813"></a><a id="SQLRF52814"></a><a id="SQLRF52815"></a><a id="SQLRF52816"></a><a id="SQLRF52817"></a><a id="SQLRF52818"></a><a id="SQLRF52819"></a><a id="SQLRF52820"></a><a id="SQLRF52821"></a><a id="SQLRF00805"></a>
            
            <h2 id="SQLRF-GUID-D8F648E7-8C07-4C89-BB71-862512536558" class="sect2">ALTER INDEX </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-740CB8A0-28A5-4F8C-8A9B-1585BBF09895">Purpose </p>
                  <p>Use the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement to change or rebuild an existing index.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-1FAA7BD8-5B56-4A01-8EF0-CE4FB0D99131">
                     <p class="notep1">See Also:</p>
                     <p><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a> for information on creating an index
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-426C6B4D-600A-4515-BAB1-FA97D18CF993">Prerequisites </p>
                  <p>The index must be in your own schema or you must have the <code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">INDEX</code> system privilege.
                  </p>
                  <p>To execute the <code class="codeph">MONITORING</code> <code class="codeph">USAGE</code> clause, the index must be in your own schema.
                  </p>
                  <p>To modify a domain index, you must have <code class="codeph">EXECUTE</code> object privilege on the indextype of the index.
                  </p>
                  <p>Object privileges are granted on the parent index, not on individual index partitions or subpartitions. </p>
                  <p>You must have tablespace quota to modify, rebuild, or split an index partition or to modify or rebuild an index subpartition.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7873C706-963F-4D2B-AE76-3E87586A66CC">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C93A0A41-253C-4657-AD89-87D589D955BE"><span class="italic">alter_index</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-415EB846-4797-4185-9B8C-4BF61D6EC75A"><img src="img/alter_index.gif" alt="Description of alter_index.eps follows" title="Description of alter_index.eps follows" longdesc="img_text/alter_index.html"><br><a href="img_text/alter_index.html">Description of the illustration alter_index.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">deallocate_unused_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">allocate_extent_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFECBA">shrink_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause::=</a></span>, <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDFJHI">partial_index_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEJJJJ">rebuild_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128532">alter_index_partitioning::=</a></span>)
                  </p>
                  <p>(The <span class="italic"><code class="codeph">ODCI_parameters</code></span> are documented in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI270" target="_blank">Oracle Database Data Cartridge Developer's Guide</a>.)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E0029607-3CBD-4DE8-9D87-4D9541DC977B"><span class="italic">deallocate_unused_clause</span>::=
                  </p><a id="d224930e702" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-627AB914-1391-4B6F-BBAC-41C99DCBC6B8"><img src="img/deallocate_unused_clause.gif" alt="Description of deallocate_unused_clause.eps follows" title="Description of deallocate_unused_clause.eps follows" longdesc="img_text/deallocate_unused_clause.html"><br><a href="img_text/deallocate_unused_clause.html">Description of the illustration deallocate_unused_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BFEA6B10-FAD1-45BF-8981-5D5DFB05A77E"><span class="italic">allocate_extent_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-3E25058D-98AA-4BD5-BBD7-615100FB9BE6"><img src="img/allocate_extent_clause.gif" alt="Description of allocate_extent_clause.eps follows" title="Description of allocate_extent_clause.eps follows" longdesc="img_text/allocate_extent_clause.html"><br><a href="img_text/allocate_extent_clause.html">Description of the illustration allocate_extent_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="size_clause.html#GUID-E97FADC2-A6E1-4D68-9F79-DCA271B86517__CHDEAIID">size_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFECBA">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78FBE59F-218E-47D6-9FED-670D30C60C21"><span class="italic">shrink_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-666BBF2C-0AEC-4E83-9E91-D210B8FCF8B9"><img src="img/shrink_clause.gif" alt="Description of shrink_clause.eps follows" title="Description of shrink_clause.eps follows" longdesc="img_text/shrink_clause.html"><br><a href="img_text/shrink_clause.html">Description of the illustration shrink_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8DE43B8F-41F7-42D1-969C-8F415BCDDC56"><span class="italic">parallel_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7DEB2B0A-B1E5-4EAA-8F3F-B3BCA66CDEFA"><img src="img/parallel_clause.gif" alt="Description of parallel_clause.eps follows" title="Description of parallel_clause.eps follows" longdesc="img_text/parallel_clause.html"><br><a href="img_text/parallel_clause.html">Description of the illustration parallel_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-0D349A53-21D9-4232-961B-D04721448AF6"><span class="italic">physical_attributes_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D2997C11-A9E2-4743-AF59-2F87A7139F30"><img src="img/physical_attributes_clause.gif" alt="Description of physical_attributes_clause.eps follows" title="Description of physical_attributes_clause.eps follows" longdesc="img_text/physical_attributes_clause.html"><br><a href="img_text/physical_attributes_clause.html">Description of the illustration physical_attributes_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15__CJACEJGB">storage_clause::=</a></span>) 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-FA111AC2-6949-4CDE-857D-1B819BB5D247"><span class="italic">logging_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BEFAA525-46E7-45DE-85B4-EA0E166095CE"><img src="img/logging_clause.gif" alt="Description of logging_clause.eps follows" title="Description of logging_clause.eps follows" longdesc="img_text/logging_clause.html"><br><a href="img_text/logging_clause.html">Description of the illustration logging_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDFJHI">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7BEEDC99-BCB9-40FE-ADD7-87CF5746A61D"><span class="italic">partial_index_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-31E950BA-8D66-4E75-B534-29F17C6129E8"><img src="img/partial_index_clause.gif" alt="Description of partial_index_clause.eps follows" title="Description of partial_index_clause.eps follows" longdesc="img_text/partial_index_clause.html"><br><a href="img_text/partial_index_clause.html">Description of the illustration partial_index_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEJJJJ">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C7474A9B-866B-41F2-ACC1-AA439303C313"><span class="italic">rebuild_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D37D4052-57A9-4153-ABB5-493C08F8CB3C"><img src="img/rebuild_clause.gif" alt="Description of rebuild_clause.eps follows" title="Description of rebuild_clause.eps follows" longdesc="img_text/rebuild_clause.html"><br><a href="img_text/rebuild_clause.html">Description of the illustration rebuild_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression::=</a></span>, <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDFJHI">partial_index_clause::=</a></span>)
                  </p>
                  <p>(The <span class="italic"><code class="codeph">ODCI_parameters</code></span> are documented in <a href="../addci/using-extensible-indexing.html#ADDCI270" target="_blank">Oracle Database Data Cartridge Developer's Guide</a>. The <span class="italic"><code class="codeph">XMLIndex_parameters_clause</code></span> is documented in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADXDB0500" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F81C98FB-9A33-4793-A8D9-F07267609567"><span class="italic">index_compression</span>::=
                  </p><a id="d224930e830" class="indexterm-anchor"></a><a id="d224930e834" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-855AB43E-35CA-4872-B57A-F4127CB572EC"><img src="img/index_compression.gif" alt="Description of index_compression.eps follows" title="Description of index_compression.eps follows" longdesc="img_text/index_compression.html"><br><a href="img_text/index_compression.html">Description of the illustration index_compression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9CE86A40-2D0E-4AAE-BF88-B80F51B180A6"><span class="italic">prefix_compression</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A6CE1C75-EBEC-4D3E-A262-7F2DFA6C4BC7"><img src="img/prefix_compression.gif" alt="Description of prefix_compression.eps follows" title="Description of prefix_compression.eps follows" longdesc="img_text/prefix_compression.html"><br><a href="img_text/prefix_compression.html">Description of the illustration prefix_compression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E68090A5-7DC6-43CC-91AC-6F22DFE74A29"><span class="italic">advanced_index_compression</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-13A23F0E-12D1-42D7-B31F-87CA195C59B5"><img src="img/advanced_index_compression.gif" alt="Description of advanced_index_compression.eps follows" title="Description of advanced_index_compression.eps follows" longdesc="img_text/advanced_index_compression.html"><br><a href="img_text/advanced_index_compression.html">Description of the illustration advanced_index_compression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128532">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9007079A-2738-4B32-BA9B-5A546BB5C790"><span class="italic">alter_index_partitioning</span>::=
                  </p><a id="d224930e862" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A5ECDAD1-A818-4A69-A8C8-693C55D89D7E"><img src="img/alter_index_partitioning.gif" alt="Description of alter_index_partitioning.eps follows" title="Description of alter_index_partitioning.eps follows" longdesc="img_text/alter_index_partitioning.html"><br><a href="img_text/alter_index_partitioning.html">Description of the illustration alter_index_partitioning.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2129868">modify_index_default_attrs::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEAJJI">add_hash_index_partition::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGECEJHE">modify_index_partition::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFBIII">rename_index_partition::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDHDBA">drop_index_partition::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEHAAIB">split_index_partition::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBFHBI">coalesce_index_partition::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128786">modify_index_subpartition::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2129868">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-04E378B7-7780-4E1F-8B74-6D62385D5A48"><span class="italic">modify_index_default_attrs</span>::=
                  </p><a id="d224930e911" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-04B0EFFF-4AFE-4416-A245-191515067F15"><img src="img/modify_index_default_attrs.gif" alt="Description of modify_index_default_attrs.eps follows" title="Description of modify_index_default_attrs.eps follows" longdesc="img_text/modify_index_default_attrs.html"><br><a href="img_text/modify_index_default_attrs.html">Description of the illustration modify_index_default_attrs.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause::=</a></span>, <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEAJJI">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-90650BC4-0ACF-4F6C-A626-661E853A2658"><span class="italic">add_hash_index_partition</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78427D34-E015-4526-9D8D-FDABBB2DAC4F"><img src="img/add_hash_index_partition.gif" alt="Description of add_hash_index_partition.eps follows" title="Description of add_hash_index_partition.eps follows" longdesc="img_text/add_hash_index_partition.html"><br><a href="img_text/add_hash_index_partition.html">Description of the illustration add_hash_index_partition.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBFHBI">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F482FD7A-A78B-4D2E-8D59-A4FBBCAAB49F"><span class="italic">coalesce_index_partition</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-21A5C57E-3A51-4EE3-8762-D8EE3262E7DF"><img src="img/coalesce_index_partition.gif" alt="Description of coalesce_index_partition.eps follows" title="Description of coalesce_index_partition.eps follows" longdesc="img_text/coalesce_index_partition.html"><br><a href="img_text/coalesce_index_partition.html">Description of the illustration coalesce_index_partition.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGECEJHE">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7C543CB8-CB29-4287-BF4F-D099BF330012"><span class="italic">modify_index_partition</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-88ED96A8-D221-4420-92F9-7DBC17D400E7"><img src="img/modify_index_partition.gif" alt="Description of modify_index_partition.eps follows" title="Description of modify_index_partition.eps follows" longdesc="img_text/modify_index_partition.html"><br><a href="img_text/modify_index_partition.html">Description of the illustration modify_index_partition.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">deallocate_unused_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">allocate_extent_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause::=</a></span>, <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEFBIII">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-7FF9A084-5B42-4F1C-91AA-BAB3D3F62CBA"><span class="italic">rename_index_partition</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F7E3EC09-76E0-4CC2-A620-F11FD54F0F48"><img src="img/rename_index_partition.gif" alt="Description of rename_index_partition.eps follows" title="Description of rename_index_partition.eps follows" longdesc="img_text/rename_index_partition.html"><br><a href="img_text/rename_index_partition.html">Description of the illustration rename_index_partition.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDHDBA">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-849DCE00-968E-4821-A191-2B8A1F3003CB"><span class="italic">drop_index_partition</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-2A43479C-CDED-4768-BC2D-27B6F94F5756"><img src="img/drop_index_partition.gif" alt="Description of drop_index_partition.eps follows" title="Description of drop_index_partition.eps follows" longdesc="img_text/drop_index_partition.html"><br><a href="img_text/drop_index_partition.html">Description of the illustration drop_index_partition.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEHAAIB">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-154D6748-AA0F-4B18-BACB-1219A727311B"><span class="italic">split_index_partition</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-83901B60-AC64-4A64-8C73-56DC6CE1D5E2"><img src="img/split_index_partition.gif" alt="Description of split_index_partition.eps follows" title="Description of split_index_partition.eps follows" longdesc="img_text/split_index_partition.html"><br><a href="img_text/split_index_partition.html">Description of the illustration split_index_partition.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEEFAG">parallel_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-6CBFF768-2CD0-4BF8-9988-61FE2D01ACEE"><span class="italic">index_partition_description</span>::=
                  </p><a id="d224930e1026" class="indexterm-anchor"></a><div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-06CB1A79-4109-4148-B338-AAE6AE2C143D"><img src="img/index_partition_description.gif" alt="Description of index_partition_description.eps follows" title="Description of index_partition_description.eps follows" longdesc="img_text/index_partition_description.html"><br><a href="img_text/index_partition_description.html">Description of the illustration index_partition_description.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBDJGG">segment_attributes_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128566">index_compression::=</a></span>)
                  </p>
                  <div class="infoboxnote" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B15ADBF8-6BEC-4F69-B3A6-0C847B9C0DD6">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">USABLE</code> and <code class="codeph">UNUSABLE</code> keywords are not supported when <span class="italic"><code class="codeph">index_partition_description</code></span> is specified for the <span class="italic"><code class="codeph">split_index_partition</code></span> clause.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBDJGG">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5DE4EF3D-AF24-4C42-99EE-E928632E3D2F"><span class="italic">segment_attributes_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-FAAB51F8-3996-40FD-993F-6F9BE72204E4"><img src="img/segment_attributes_clause.gif" alt="Description of segment_attributes_clause.eps follows" title="Description of segment_attributes_clause.eps follows" longdesc="img_text/segment_attributes_clause.html"><br><a href="img_text/segment_attributes_clause.html">Description of the illustration segment_attributes_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJFAAH">physical_attributes_clause::=</a></span>, <code class="codeph">TABLESPACE</code> <code class="codeph">SET</code>: not supported with <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>, <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128786">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5FF9C311-A39A-4BD5-BE55-4AE8811F79B5"><span class="italic">modify_index_subpartition</span>::=
                  </p>
                  <div class="figure" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-6170302F-B2F8-4691-AB41-1D646204AE8F"><img src="img/modify_index_subpartition.gif" alt="Description of modify_index_subpartition.eps follows" title="Description of modify_index_subpartition.eps follows" longdesc="img_text/modify_index_subpartition.html"><br><a href="img_text/modify_index_subpartition.html">Description of the illustration modify_index_subpartition.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEEHEDB">allocate_extent_clause::=</a></span>, <span class="italic"><a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2128693">deallocate_unused_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C50585E1-2B0B-4751-8EA9-566E187F3BB7">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D432B7D8-264C-4BDA-A84A-F233ED30F01D"><span class="italic">schema</span></p>
                  <p>Specify the schema containing the index. If you omit <span class="italic"><code class="codeph">schema</code></span>, then Oracle Database assumes the index is in your own schema. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-84BEB81F-D9A8-4018-B05A-07FE8B97776D"><span class="italic">index</span></p>
                  <p>Specify the name of the index to be altered. </p>
                  <p><span class="bold">Restrictions on Modifying Indexes</span></p>
                  <p>The modification of indexes is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If <span class="italic"><code class="codeph">index</code></span> is a domain index, then you can specify only the <code class="codeph">PARAMETERS</code> clause, the <code class="codeph">RENAME</code> clause, the <span class="italic"><code class="codeph">rebuild_clause</code></span> (with or without the <code class="codeph">PARAMETERS</code> clause), the <span class="italic"><code class="codeph">parallel_clause</code></span>, or the <code class="codeph">UNUSABLE</code> clause. No other clauses are valid.
                        </p>
                     </li>
                     <li>
                        <p>You cannot alter or rename a domain index that is marked <code class="codeph">LOADING</code> or <code class="codeph">FAILED</code>. If an index is marked <code class="codeph">FAILED</code>, then the only clause you can specify is <code class="codeph">REBUILD</code>. 
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-CDF07A2A-DB8D-4BC6-86DE-1A15A50656C7">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI270" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide </span></a>for information on the <code class="codeph">LOADING</code> and <code class="codeph">FAILED</code> states of domain indexes
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-69E3B8C7-3150-4531-966A-966FA3E24EE6"><span class="italic">deallocate_unused_clause </span></p>
                  <p>Use the <span class="italic"><code class="codeph">deallocate_unused_clause</code></span> to explicitly deallocate unused space at the end of the index and make the freed space available for other segments in the tablespace. 
                  </p>
                  <p>If <span class="italic"><code class="codeph">index</code></span> is range-partitioned or hash-partitioned, then Oracle Database deallocates unused space from each index partition. If <span class="italic"><code class="codeph">index</code></span> is a local index on a composite-partitioned table, then Oracle Database deallocates unused space from each index subpartition.
                  </p>
                  <p><span class="bold">Restrictions on Deallocating Space</span></p>
                  <p>Deallocation of space is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause for an index on a temporary table.</p>
                     </li>
                     <li>
                        <p>You cannot specify this clause and also specify the <span class="italic"><code class="codeph">rebuild_clause</code></span>.
                        </p>
                     </li>
                  </ul>
                  <p>Refer to <span class="italic"><a href="deallocate_unused_clause.html#GUID-016A106B-47D4-4FFF-8A3B-2DF19A5FE9FF">deallocate_unused_clause</a></span> for a full description of this clause.
                  </p>
                  <p><span class="bold">KEEP</span> <span class="bold"><span class="italic">integer</span></span></p>
                  <p>The <code class="codeph">KEEP</code> clause lets you specify the number of bytes above the high water mark that the index will have after deallocation. If the number of remaining extents is less than <code class="codeph">MINEXTENTS</code>, then <code class="codeph">MINEXTENTS</code> is set to the current number of extents. If the initial extent becomes smaller than <code class="codeph">INITIAL</code>, then <code class="codeph">INITIAL</code> is set to the value of the current initial extent. If you omit <code class="codeph">KEEP</code>, then all unused space is freed. 
                  </p>
                  <p>Refer to <a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877">ALTER TABLE</a> for a complete description of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-079AA05A-AE4D-44B7-8F95-92D5803F9DF4"><span class="italic">allocate_extent_clause </span></p>
                  <p>The <span class="italic"><code class="codeph">allocate_extent_clause</code></span> lets you explicitly allocate a new extent for the index. For a local index on a hash-partitioned table, Oracle Database allocates a new extent for each partition of the index.
                  </p>
                  <p><span class="bold">Restriction on Allocating Extents</span></p>
                  <p>You cannot specify this clause for an index on a temporary table or for a range-partitioned or composite-partitioned index.</p>
                  <p>Refer to <span class="italic"><a href="allocate_extent_clause.html#GUID-DA6B3DC2-84B5-4404-AD96-5ABF7341580F">allocate_extent_clause</a></span> for a full description of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-4533D46C-2F6C-45E9-8D70-2BB0FD139189"><span class="italic">shrink_clause</span></p>
                  <p><a id="d224930e1291" class="indexterm-anchor"></a><a id="d224930e1295" class="indexterm-anchor"></a>Use this clause to compact the index segments. Specifying <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">SHRINK</code> <code class="codeph">SPACE</code> <code class="codeph">COMPACT</code> is equivalent to specifying <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">COALESCE</code>.
                  </p>
                  <p>For complete information on this clause, refer to <span class="italic"><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877__I2192484">shrink_clause</a></span> in the documentation on <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>.
                  </p>
                  <p>Restriction on Shrinking Index Segments</p>
                  <p>You cannot specify this clause for a bitmap join index or for a function-based index.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-2742F7F5-DD2C-4918-A466-E16BB5E2D323"><span class="italic">parallel_clause </span></p>
                  <p>Use the <code class="codeph">PARALLEL</code> clause to change the default degree of parallelism for queries and DML on the index. 
                  </p>
                  <p><span class="bold">Restriction on Parallelizing Indexes</span></p>
                  <p>You cannot specify this clause for an index on a temporary table.</p>
                  <p>For complete information on this clause, refer to <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> in the documentation on <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5888D769-E237-47F7-B507-275F4A0FD2FE">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135988">Enabling Parallel Queries: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-290B10A4-B1D6-46C7-AFD6-466271377DBB"><span class="italic">physical_attributes_clause </span></p>
                  <p>Use the <span class="italic"><code class="codeph">physical_attributes_clause</code></span> to change the values of parameters for a nonpartitioned index, all partitions and subpartitions of a partitioned index, a specified partition, or all subpartitions of a specified partition. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-0C3C2EE2-8554-4901-9ABC-013F3D1E52C6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>the physical attributes parameters in <a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135975">Modifying Real Index Attributes: Example</a>"</span> and <span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136067">Changing MAXEXTENTS: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restrictions on Index Physical Attributes</span></p>
                  <p>Index physical attributes are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause for an index on a temporary table.</p>
                     </li>
                     <li>
                        <p>You cannot specify the <code class="codeph">PCTUSED</code> parameter at all when altering an index.
                        </p>
                     </li>
                     <li>
                        <p>You can specify the <code class="codeph">PCTFREE</code> parameter only as part of the <span class="italic"><code class="codeph">rebuild_clause</code></span>, the <span class="italic"><code class="codeph">modify_index_default_attrs</code></span> clause, or the <span class="italic"><code class="codeph">split_index_partition</code></span> clause.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-6C8AAE7E-1D2A-407B-9D99-B114D50BD153"><span class="italic">storage_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">storage_clause</code></span> to change the storage parameters for a nonpartitioned index, index partition, or all partitions of a partitioned index, or default values of these parameters for a partitioned index. Refer to <span class="italic"><a href="physical_attributes_clause.html#GUID-A15063A9-3237-43D3-B0AE-D01F6E80B393__I1026834">storage_clause</a></span> for complete information on this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-96722D70-DDF6-498D-B9AA-2FE95928C6EE"><span class="italic">logging_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">logging_clause</code></span> to change the logging attribute of the index. If you also specify the <code class="codeph">REBUILD</code> clause, then this new setting affects the rebuild operation. If you specify a different value for logging in the <code class="codeph">REBUILD</code> clause, then Oracle Database uses the last logging value specified as the logging attribute of the index and of the rebuild operation.
                  </p>
                  <p>An index segment can have logging attributes different from those of the base table and different from those of other index segments for the same base table.</p>
                  <p><span class="bold">Restriction on Index Logging</span></p>
                  <p>You cannot specify this clause for an index on a temporary table.</p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-EAF66080-3F54-4222-AFDB-0881082A799C">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span> for a full description of this clause
                           </p>
                        </li>
                        <li>
                           <p><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about parallel DML
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5576D866-7F06-4DDC-BB80-D4E996BBEC55"><span class="italic">partial_index_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">partial_index_clause</code></span> to change the index to a full index or a partial index. Specify <code class="codeph">INDEXING</code> <code class="codeph">FULL</code> to change the index to a full index. Specify <code class="codeph">INDEXING</code> <code class="codeph">PARTIAL</code> to change the index to a partial index. This clause is valid only for indexes on partitioned tables. Refer to the <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BGEBGEAH">partial_index_clause</a></span> of <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> for the full semantics of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8DEC49CD-9B5B-4292-B9EC-0105C237CF08">RECOVERABLE | UNRECOVERABLE</p>
                  <p><a id="d224930e1523" class="indexterm-anchor"></a><a id="d224930e1525" class="indexterm-anchor"></a><a id="d224930e1529" class="indexterm-anchor"></a><a id="d224930e1531" class="indexterm-anchor"></a>These keywords are deprecated and have been replaced with <code class="codeph">LOGGING</code> and <code class="codeph">NOLOGGING</code>, respectively. Although <code class="codeph">RECOVERABLE</code> and <code class="codeph">UNRECOVERABLE</code> are supported for backward compatibility, Oracle strongly recommends that you use the <code class="codeph">LOGGING</code> and <code class="codeph">NOLOGGING</code> keywords.
                  </p>
                  <p><code class="codeph">RECOVERABLE</code> is not a valid keyword for creating partitioned tables or LOB storage characteristics. <code class="codeph">UNRECOVERABLE</code> is not a valid keyword for creating partitioned or index-organized tables. Also, it can be specified only with the <code class="codeph">AS</code> subquery clause of <code class="codeph">CREATE</code> <code class="codeph">INDEX</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-661B504B-464A-481C-8356-27ABCE58D4E6"><span class="italic">rebuild_clause </span></p>
                  <p>Use the <span class="italic"><code class="codeph">rebuild_clause</code></span> to re-create an existing index or one of its partitions or subpartitions. If index is marked <code class="codeph">UNUSABLE</code>, then a successful rebuild will mark it <code class="codeph">USABLE</code>. For a function-based index, this clause also enables the index. If the function on which the index is based does not exist, then the rebuild statement will fail.
                  </p>
                  <div class="infoboxnote" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-5DBA01D6-8586-4179-80D6-5241189353CD">
                     <p class="notep1">Note:</p>
                     <p>When you rebuild the secondary index of an index-organized table, Oracle Database preserves the primary key columns contained in the logical rowid when the index was created. Therefore, if the index was created with the <code class="codeph">COMPATIBLE</code> initialization parameter set to less than 10.0.0, the rebuilt index will contain the index key and any of the primary key columns of the table that are not also in the index key. If the index was created with the <code class="codeph">COMPATIBLE</code> initialization parameter set to 10.0.0 or greater, then the rebuilt index will contain the index key and all the primary key columns of the table, including those also in the index key.
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on Rebuilding Indexes</span></p>
                  <p>The rebuilding of indexes is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot rebuild an index on a temporary table.</p>
                     </li>
                     <li>
                        <p>You cannot rebuild a bitmap index that is marked <code class="codeph">INVALID</code>. Instead, you must drop and then re-create it.
                        </p>
                     </li>
                     <li>
                        <p>You cannot rebuild an entire partitioned index. You must rebuild each partition or subpartition, as described for the <code class="codeph">PARTITION</code> clause.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify the <span class="italic"><code class="codeph">deallocate_unused_clause</code></span> in the same statement as the <span class="italic"><code class="codeph">rebuild_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot change the value of the <code class="codeph">PCTFREE</code> parameter for the index as a whole (<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>) or for a partition (<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">MODIFY</code> <code class="codeph">PARTITION</code>). You can specify <code class="codeph">PCTFREE</code> in all other forms of the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement.
                        </p>
                     </li>
                     <li>
                        <p>For a domain index:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can specify only the <code class="codeph">PARAMETERS</code> clause (either for the index or for a partition of the index) or the <span class="italic"><code class="codeph">parallel_clause</code></span>. No other rebuild clauses are valid.
                              </p>
                           </li>
                           <li>
                              <p>You can rebuild an index only if the index is not marked <code class="codeph">IN_PROGRESS</code>.
                              </p>
                           </li>
                           <li>
                              <p>You can rebuild an index partition only if the index is not marked <code class="codeph">IN_PROGRESS</code> or <code class="codeph">FAILED</code> and the partition is not marked <code class="codeph">IN_PROGRESS</code>.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>You cannot rebuild a local index, but you can rebuild a partition of a local index (<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">REBUILD</code> <code class="codeph">PARTITION</code>). 
                        </p>
                     </li>
                     <li>
                        <p>For a local index on a hash partition or subpartition, the only parameter you can specify is <code class="codeph">TABLESPACE</code>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot rebuild an online index that is used to enforce a deferrable unique constraint.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-76227C4F-3D98-4B90-880F-B8AE41DE761F">PARTITION Clause</p>
                  <p><a id="d224930e1722" class="indexterm-anchor"></a>Use the <code class="codeph">PARTITION</code> clause to rebuild one partition of an index. You can also use this clause to move an index partition to another tablespace or to change a create-time physical attribute. 
                  </p>
                  <p>The storage of partitioned database entities in tablespaces of different block sizes is subject to several restrictions. Refer to <a href="../vldbg/partition-create-tables-indexes.html#VLDBG00306" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for a discussion of these restrictions.
                  </p>
                  <p><span class="bold">Restriction on Rebuilding Partitions</span></p>
                  <p>You cannot specify this clause for a local index on a composite-partitioned table. Instead, use the <code class="codeph">REBUILD</code> <code class="codeph">SUBPARTITION</code> clause.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-626EEE56-D8F7-4F65-8449-36D8CF1EE62C">
                     <p class="notep1">See Also:</p>
                     <p><a href="../vldbg/partition-availability.html#VLDBG004" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about partition maintenance operations and <span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136031">Rebuilding Unusable Index Partitions: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-65BFF069-AA4E-4548-97C9-3DC942F43782">SUBPARTITION Clause</p>
                  <p><a id="d224930e1762" class="indexterm-anchor"></a>Use the <code class="codeph">SUBPARTITION</code> clause to rebuild one subpartition of an index. You can also use this clause to move an index subpartition to another tablespace. If you do not specify <code class="codeph">TABLESPACE</code>, then the subpartition is rebuilt in the same tablespace.
                  </p>
                  <p>The storage of partitioned database entities in tablespaces of different block sizes is subject to several restrictions. Refer to <a href="../vldbg/partition-create-tables-indexes.html#VLDBG00306" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for a discussion of these restrictions.
                  </p>
                  <p><span class="bold">Restriction on Modifying Index Subpartitions</span></p>
                  <p>The only parameters you can specify for a subpartition are <code class="codeph">TABLESPACE</code>, <code class="codeph">ONLINE</code>, and the <span class="italic"><code class="codeph">parallel_clause</code></span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BD10A853-BC5E-401F-A15C-04F20841677B">REVERSE | NOREVERSE</p>
                  <p><a id="d224930e1799" class="indexterm-anchor"></a><a id="d224930e1803" class="indexterm-anchor"></a><a id="d224930e1807" class="indexterm-anchor"></a>Indicate whether the bytes of the index block are stored in reverse order:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">REVERSE</code> stores the bytes of the index block in reverse order and excludes the rowid when the index is rebuilt.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NOREVERSE</code> stores the bytes of the index block without reversing the order when the index is rebuilt. Rebuilding a <code class="codeph">REVERSE</code> index without the <code class="codeph">NOREVERSE</code> keyword produces a rebuilt, reverse-keyed index. 
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Restrictions on Reverse Indexes</span></p>
                  <p>Reverse indexes are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot reverse a bitmap index or an index-organized table.</p>
                     </li>
                     <li>
                        <p>You cannot specify <code class="codeph">REVERSE</code> or <code class="codeph">NOREVERSE</code> for a partition or subpartition.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-01625903-CEFB-4DF0-9AA0-E42DA7C8E834">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135935">Storing Index Blocks in Reverse Order: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-82C24082-FBCD-48DD-85C2-F36C33C65D4D"><span class="italic">parallel_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">parallel_clause</code></span> to parallelize the rebuilding of the index and to change the degree of parallelism for the index itself. All subsequent operations on the index will be executed with the degree of parallelism specified by this clause, unless overridden by a subsequent data definition language (DDL) statement with the <span class="italic"><code class="codeph">parallel_clause</code></span>. The following exceptions apply:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">DISABLE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> was specified before rebuilding the index, then the index will be rebuilt serially and the degree of parallelism for the index will be changed to 1.
                        </p>
                     </li>
                     <li>
                        <p>If <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">FORCE</code> <code class="codeph">PARALLEL</code> <code class="codeph">DDL</code> was specified before rebuilding the index, then the index will be rebuilt in parallel and the degree of parallelism for the index will be changed to the value that was specified in the <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement, or <code class="codeph">DEFAULT</code> if no value was specified.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B48C63F4-3B13-43B3-B3F9-BE845CE2179B">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135962">Rebuilding an Index in Parallel: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E36BE130-634B-4DB7-AB75-DE6B565D101B">TABLESPACE Clause</p>
                  <p><a id="d224930e1922" class="indexterm-anchor"></a><a id="d224930e1926" class="indexterm-anchor"></a><a id="d224930e1930" class="indexterm-anchor"></a><a id="d224930e1936" class="indexterm-anchor"></a>Specify the tablespace where the rebuilt index, index partition, or index subpartition will be stored. The default is the default tablespace where the index or partition resided before you rebuilt it.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F3E4A98B-B555-40A2-B053-0D17E1491169"><span class="italic">index_compression</span></p>
                  <p><a id="d224930e1949" class="indexterm-anchor"></a><a id="d224930e1953" class="indexterm-anchor"></a><a id="d224930e1957" class="indexterm-anchor"></a><a id="d224930e1961" class="indexterm-anchor"></a><a id="d224930e1965" class="indexterm-anchor"></a><a id="d224930e1969" class="indexterm-anchor"></a>Use the <span class="italic"><code class="codeph">index_compression</code></span> clauses to enable or disable index compression for the index. Specify the <span class="italic"><code class="codeph">prefix_compression</code></span> clause to enable or disable prefix compression for the index. Specify the <span class="italic"><code class="codeph">advanced_index_compression</code></span> clause to enable or disable advanced index compression for the index.
                  </p>
                  <p>The <span class="italic"><code class="codeph">index_compression</code></span> clauses have the same semantics for <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> and <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>. For full information on these clauses, refer to <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BABHDBHE">index_compression</a></span> in the documentation on <code class="codeph">CREATE</code> <code class="codeph">INDEX</code>.
                  </p>
                  <p><span class="bold">ONLINE Clause</span></p>
                  <p>Specify <code class="codeph">ONLINE</code> to allow DML operations on the table or partition during rebuilding of the index. 
                  </p>
                  <p><span class="bold">Restrictions on Online Indexes</span></p>
                  <p>Online indexes are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Parallel DML is not supported during online index building. If you specify <code class="codeph">ONLINE</code> and subsequently issue parallel DML statements, then Oracle Database returns an error.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify <code class="codeph">ONLINE</code> for a bitmap join index or a cluster index.
                        </p>
                     </li>
                     <li>
                        <p>For a nonunique secondary index on an index-organized table, the number of index key columns plus the number of primary key columns that are included in the logical rowid in the index-organized table cannot exceed 32. The logical rowid excludes columns that are part of the index key.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A7A573BE-E8A0-4175-A5CC-7F5821E3C098"><span class="italic">logging_clause </span></p>
                  <p><a id="d224930e2050" class="indexterm-anchor"></a><a id="d224930e2054" class="indexterm-anchor"></a><a id="d224930e2058" class="indexterm-anchor"></a>Specify whether the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">REBUILD</code> operation will be logged.
                  </p>
                  <p>Refer to the <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span> for a full description of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-DEB64043-250E-4C2F-9423-271C000B8ADB">PARAMETERS Clause</p>
                  <p><a id="d224930e2082" class="indexterm-anchor"></a><a id="d224930e2086" class="indexterm-anchor"></a>This clause is valid only for domain indexes in a top-level <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement and in the <span class="italic"><code class="codeph">rebuild_clause</code></span>. This clause specifies the parameter string that is passed uninterpreted to the appropriate ODCI indextype routine. 
                  </p>
                  <p>The maximum length of the parameter string is 1000 characters. </p>
                  <p>If you are altering or rebuilding an entire index, then the string must refer to index-level parameters. If you are rebuilding a partition of the index, then the string must refer to partition-level parameters. </p>
                  <p>If <span class="italic"><code class="codeph">index</code></span> is marked <code class="codeph">UNUSABLE</code>, then modifying the parameters alone does not make it <code class="codeph">USABLE</code>. You must also rebuild the <code class="codeph">UNUSABLE</code> index to make it usable.
                  </p>
                  <p>If you have installed Oracle Text, then you can rebuild your Oracle Text domain indexes using parameters specific to that product. For more information on those parameters, refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=CCREF0101" target="_blank"><span class="italic">Oracle Text Reference</span></a>.
                  </p>
                  <p><span class="bold">Restriction on the PARAMETERS Clause</span></p>
                  <p>You can modify index partitions only if <span class="italic"><code class="codeph">index</code></span> is not marked <code class="codeph">IN_PROGRESS</code> or <code class="codeph">FAILED</code>, no index partitions are marked <code class="codeph">IN_PROGRESS</code>, and the partition being modified is not marked <code class="codeph">FAILED</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9820C8D6-BCB1-465B-B7DF-2D6B83C0F7D7">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI270" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for more information on indextype routines for domain indexes
                           </p>
                        </li>
                        <li>
                           <p><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a> for more information on domain indexes
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-654F1E47-E1E9-488B-9B0A-10C1B1A53AAF"><span class="italic">XMLIndex_parameters_clause</span></p>
                  <p>This clause is valid only for XMLIndex indexes. This clause specifies the parameter string that defines the XMLIndex implementation.</p>
                  <p>The maximum length of the parameter string is 1000 characters. </p>
                  <p>If you are altering or rebuilding an entire index, then the string must refer to index-level parameters. If you are rebuilding a partition of the index, then the string must refer to partition-level parameters. </p>
                  <p>If <span class="italic"><code class="codeph">index</code></span> is marked <code class="codeph">UNUSABLE</code>, then modifying the parameters alone does not make it <code class="codeph">USABLE</code>. You must also rebuild the <code class="codeph">UNUSABLE</code> index to make it usable.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-1785EE34-1391-41F4-9FC3-84869526A963">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADXDB0500" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a> for more information on <code class="codeph">XMLIndex</code>, including the syntax and semantics of the <span class="italic"><code class="codeph">XMLIndex_parameters_clause</code></span></p>
                  </div>
                  <p><span class="bold">Restriction on the</span> <span class="bold"><span class="italic">XMLIndex_parameters_clause</span></span></p>
                  <p>You can modify index partitions only if <span class="italic"><code class="codeph">index</code></span> is not marked <code class="codeph">IN_PROGRESS</code> or <code class="codeph">FAILED</code>, no index partitions are marked <code class="codeph">IN_PROGRESS</code>, and the partition being modified is not marked <code class="codeph">FAILED</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__DEFERREDIMMEDIATEINVALIDATION-42A7C77E">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B34528C8-6BC3-4AD1-A111-6155C26AB9D2">{ DEFERRED | IMMEDIATE } INVALIDATION</p>
                  <p>This clause lets you control when the database invalidates dependent cursors while rebuilding an index or while marking an index <code class="codeph">UNUSABLE</code>.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify <code class="codeph">DEFERRED</code> <code class="codeph">INVALIDATION</code>, then the database avoids or defers invalidating dependent cursors, when possible.
                        </p>
                     </li>
                     <li>
                        <p>If you specify <code class="codeph">IMMEDIATE</code> <code class="codeph">INVALIDATION</code>, then the database immediately invalidates dependent cursors, as it did in Oracle Database 12<span class="italic">c</span> Release 1 (12.1) and prior releases. This is the default.
                        </p>
                     </li>
                  </ul>
                  <p>If you omit this clause, then the value of the <code class="codeph">CURSOR_INVALIDATION</code> initialization parameter determines when cursors are invalidated.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-675A045B-B924-4303-8258-D1DD830C30C1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=TGSQL-GUID-E04CF45D-CC70-4122-9BAC-EAB5B4D0E17A" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information on cursor invalidation
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN-GUID-6BAB61E7-FABA-41D3-B73A-EB828A6767E5" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information in the <code class="codeph">CURSOR_INVALIDATION</code> initialization parameter
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-83328F19-A02D-4E7C-9EDA-29A7AE9156E1">COMPILE Clause</p>
                  <p>Use this clause to recompile an invalid index explicitly. For domain indexes, this clause is useful when the underlying indextype has been altered to support system-managed domain indexes, so that the existing domain index has been marked <code class="codeph">INVALID</code>. In this situation, this <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement migrates the domain index from a user-managed domain index to a system-managed domain index. For all types of indexes, this clause is useful when an index has been marked <code class="codeph">INVALID</code> by an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement. In this situation, this <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement revalidates the index without rebuilding it.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A83186BE-5FD3-46A9-BE04-0383598471AD">
                     <p class="notep1">See Also:</p>
                     <p>The <code class="codeph">CREATE</code> <code class="codeph">INDEXTYPE</code> <span class="italic"><a href="CREATE-INDEXTYPE.html#GUID-4A7BD0EC-B3E5-4D1D-95C5-C8B52D01D8CE__BABEHBBD">storage_table_clause</a></span> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADDCI290" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for information on creating system-managed domain indexes 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-570E6AB1-F885-46CB-A9A4-1821713B525E">ENABLE Clause</p>
                  <p><a id="d224930e2331" class="indexterm-anchor"></a><a id="d224930e2335" class="indexterm-anchor"></a><code class="codeph">ENABLE</code> applies only to a function-based index that has been disabled, either by an <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">DISABLE</code> statement, or because a user-defined function used by the index was dropped or replaced. This clause enables such an index if these conditions are true:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The function is currently valid.</p>
                     </li>
                     <li>
                        <p>The signature of the current function matches the signature of the function when the index was created.</p>
                     </li>
                     <li>
                        <p>The function is currently marked as <code class="codeph">DETERMINISTIC</code>.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Restrictions on Enabling Function-based Indexes</span></p>
                  <p>The <code class="codeph">ENABLE</code> clause is subject to the following restrictions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify any other clauses of <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> in the same statement with <code class="codeph">ENABLE</code>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify this clause for an index on a temporary table. Instead, you must drop and recreate the index. You can retrieve the creation DDL for the index using the <code class="codeph">DBMS_METADATA</code> package.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-BCFADB41-950F-44F0-A095-7AEFD5FB46F1">DISABLE Clause</p>
                  <p><a id="d224930e2395" class="indexterm-anchor"></a><a id="d224930e2399" class="indexterm-anchor"></a><code class="codeph">DISABLE</code> applies only to a function-based index. This clause lets you disable the use of a function-based index. You might want to do so, for example, while working on the body of the function. Afterward you can either rebuild the index or specify another <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement with the <code class="codeph">ENABLE</code> keyword.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2160588">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A6009E21-D7A6-46D5-B3BC-6FF9D3443C34">USABLE | UNUSABLE</p>
                  <p><a id="d224930e2419" class="indexterm-anchor"></a><a id="d224930e2423" class="indexterm-anchor"></a><a id="d224930e2427" class="indexterm-anchor"></a><a id="d224930e2431" class="indexterm-anchor"></a><a id="d224930e2435" class="indexterm-anchor"></a><a id="d224930e2441" class="indexterm-anchor"></a>Specify <code class="codeph">UNUSABLE</code> to mark the index or index partition(s) or index subpartition(s) <code class="codeph">UNUSABLE</code>. The space allocated for an index or index partition or subpartition is freed immediately when the object is marked <code class="codeph">UNUSABLE</code>. An unusable index must be rebuilt, or dropped and re-created, before it can be used. While one partition is marked <code class="codeph">UNUSABLE</code>, the other partitions of the index are still valid. You can execute statements that require the index if the statements do not access the unusable partition. You can also split or rename the unusable partition before rebuilding it. Refer to <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> ... <a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BABCHJDH">USABLE | UNUSABLE</a> for more information.
                  </p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEBEEHB"><span class="bold">ONLINE</span></p>
                  <p>Specify <code class="codeph">ONLINE</code> to indicate that DML operations on the table or partition will be allowed while marking the index <code class="codeph">UNUSABLE</code>. If you specify this clause, then the database will not drop the index segments.
                  </p>
                  <p><span class="bold">Restrictions on Marking Indexes Unusable</span></p>
                  <p>The following restrictions apply to marking indexes unusable:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify <code class="codeph">UNUSABLE</code> for an index on a temporary table.
                        </p>
                     </li>
                     <li>
                        <p>When a global index is marked <code class="codeph">UNUSABLE</code> during a partition maintenance operation, the database does not drop the unusable index segments.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-C283F88D-FBA3-4665-9364-5FAB371E716D">VISIBLE | INVISIBLE</p>
                  <p><a id="d224930e2503" class="indexterm-anchor"></a>Use this clause to specify whether the index is visible or invisible to the optimizer. Refer to <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BABBCCAA">VISIBLE | INVISIBLE</a>"</span> in <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> for a full description of this clause.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-F5635712-7256-40D8-9BF6-AF42C5AC2EE4">RENAME Clause</p>
                  <p><a id="d224930e2522" class="indexterm-anchor"></a><a id="d224930e2526" class="indexterm-anchor"></a>Use this clause to rename an index. The <span class="italic"><code class="codeph">new_index_name</code></span> is a single identifier and does not include the schema name.
                  </p>
                  <p><span class="bold">Restriction on Renaming Indexes</span></p>
                  <p>For a domain index, neither <span class="italic"><code class="codeph">index</code></span> nor any partitions of <span class="italic"><code class="codeph">index</code></span> can be marked <code class="codeph">IN_PROGRESS</code> or <code class="codeph">FAILED</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78CEEB87-A7EE-48E7-A1F0-744F2AB54130">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136004">Renaming an Index: Example</a>"</span> 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A55277AF-37F1-402C-B705-28AF170EA2D8">COALESCE Clause</p>
                  <p><a id="d224930e2565" class="indexterm-anchor"></a><a id="d224930e2569" class="indexterm-anchor"></a>Specify <code class="codeph">COALESCE</code> to instruct Oracle Database to merge the contents of index blocks where possible to free blocks for reuse.
                  </p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEJDBEA"><span class="bold">CLEANUP</span></p>
                  <p>Specify <code class="codeph">CLEANUP</code> to remove orphaned index entries for records that were previously dropped or truncated by a table partition maintenance operation.
                  </p>
                  <p>To determine whether an index contains orphaned index entries, you can query the <code class="codeph">ORPHANED_ENTRIES</code> column of the <code class="codeph">USER_</code>, <code class="codeph">DBA_</code>, <code class="codeph">ALL_INDEXES</code> data dictionary views. Refer to <a href="../refrn/ALL_INDEXES.html#REFRN20088" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information.
                  </p>
                  <p><span class="bold"><span class="italic">parallel_clause</span></span></p>
                  <p>Use the <span class="italic"><code class="codeph">parallel_clause</code></span> to specify whether to parallelize the coalesce operation.
                  </p>
                  <p>For complete information on this clause, refer to <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> in the documentation on <code class="codeph">CREATE</code> <code class="codeph">TABLE</code>.
                  </p>
                  <p><span class="bold">Restrictions on Coalescing Index Blocks</span></p>
                  <p>Coalescing of index blocks is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause for an index on a temporary table.</p>
                     </li>
                     <li>
                        <p>Do not specify this clause for the primary key index of an index-organized table. Instead use the <code class="codeph">COALESCE</code> clause of <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-73450BAB-BA45-489B-A751-DA79558ADA0F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/managing-space-for-schema-objects.html#ADMIN014" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on space management and coalescing indexes
                           </p>
                        </li>
                        <li>
                           <p><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877__CJAEDGDD">COALESCE Clause</a> for information on coalescing the space of an index-organized table
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877__I2192484">shrink_clause</a></span> for an alternative method of compacting index segments
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D1D308FA-301F-4A5C-B21E-165D64CF465C">MONITORING USAGE | NOMONITORING USAGE</p>
                  <p><a id="d224930e2672" class="indexterm-anchor"></a><a id="d224930e2676" class="indexterm-anchor"></a><a id="d224930e2680" class="indexterm-anchor"></a><a id="d224930e2684" class="indexterm-anchor"></a>Use this clause to determine whether Oracle Database should monitor index use.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">MONITORING</code> <code class="codeph">USAGE</code> to begin monitoring the index. Oracle Database first clears existing information on index use, and then monitors the index for use until a subsequent <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">NOMONITORING</code> <code class="codeph">USAGE</code> statement is executed.
                        </p>
                     </li>
                     <li>
                        <p>To terminate monitoring of the index, specify <code class="codeph">NOMONITORING</code> <code class="codeph">USAGE</code>.
                        </p>
                     </li>
                  </ul>
                  <p>To see whether the index has been used since this <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">NOMONITORING</code> <code class="codeph">USAGE</code> statement was issued, query the <code class="codeph">USED</code> column of the <code class="codeph">USER_OBJECT_USAGE</code> data dictionary view.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-0EF3606A-2B79-4F4A-9787-D8D3BD62E7B9">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN26958" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the <code class="codeph">USER_OBJECT_USAGE</code> data dictionary view
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8E98AFF5-4BD5-4F96-AFA6-7FFDEFC44AF5">UPDATE BLOCK REFERENCES Clause</p>
                  <p><a id="d224930e2756" class="indexterm-anchor"></a><a id="d224930e2760" class="indexterm-anchor"></a>The <code class="codeph">UPDATE</code> <code class="codeph">BLOCK</code> <code class="codeph">REFERENCES</code> clause is valid only for normal and domain indexes on index-organized tables. Specify this clause to update all the stale guess data block addresses stored as part of the index row with the correct database address for the corresponding block identified by the primary key. 
                  </p>
                  <p>For a domain index, Oracle Database executes the <code class="codeph">ODCIIndexAlter</code> routine with the <code class="codeph">alter_option</code> parameter set to <code class="codeph">AlterIndexUpdBlockRefs</code>. This routine enables the cartridge code to update the stale guess data block addresses in the index.
                  </p>
                  <p><span class="bold">Restriction on UPDATE BLOCK REFERENCES</span></p>
                  <p>You cannot combine this clause with any other clause of <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B70ED4C9-83D5-434D-A7B0-430CC8E3F07E"><span class="italic">alter_index_partitioning </span></p>
                  <p>The partitioning clauses of the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement are valid only for partitioned indexes. 
                  </p>
                  <p>The storage of partitioned database entities in tablespaces of different block sizes is subject to several restrictions. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=VLDBG00306" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for a discussion of these restrictions.
                  </p>
                  <p><span class="bold">Restrictions on Modifying Index Partitions</span></p>
                  <p>Modifying index partitions is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify any of these clauses for an index on a temporary table.</p>
                     </li>
                     <li>
                        <p>You can combine several operations on the base index into one <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> statement (except <code class="codeph">RENAME</code> and <code class="codeph">REBUILD</code>), but you cannot combine partition operations with other partition operations or with operations on the base index.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D7B17E89-EA4B-4CDB-B29A-C426EF9B51BA"><span class="italic">modify_index_default_attrs </span></p>
                  <p>Specify new values for the default attributes of a partitioned index. </p>
                  <p><span class="bold">Restriction on Modifying Partition Default Attributes</span></p>
                  <p>The only attribute you can specify for a hash-partitioned global index or for an index on a hash-partitioned table is <code class="codeph">TABLESPACE</code>.
                  </p>
                  <p><span class="bold">TABLESPACE</span></p>
                  <p>Specify the default tablespace for new partitions of an index or subpartitions of an index partition. </p>
                  <p><span class="bold"><span class="italic">logging_clause</span></span></p>
                  <p>Specify the default logging attribute of a partitioned index or an index partition.</p>
                  <p>Refer to <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E">logging_clause</a></span> for a full description of this clause.
                  </p>
                  <p><span class="bold">FOR PARTITION</span></p>
                  <p>Use the <code class="codeph">FOR</code> <code class="codeph">PARTITION</code> clause to specify the default attributes for the subpartitions of a partition of a local index on a composite-partitioned table.
                  </p>
                  <p><span class="bold">Restriction on FOR PARTITION</span></p>
                  <p>You cannot specify <code class="codeph">FOR</code> <code class="codeph">PARTITION</code> for a list partition.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-78B755D2-923E-4CE1-9D84-541955C262B6">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136125">Modifying Default Attributes: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-37B637D3-01FA-40E1-B972-9CC9BD969EB5"><span class="italic">add_hash_index_partition </span></p>
                  <p>Use this clause to add a partition to a global hash-partitioned index. Oracle Database adds hash partitions and populates them with index entries rehashed from an existing hash partition of the index, as determined by the hash function. If you omit the partition name, then Oracle Database assigns a name of the form <code class="codeph">SYS_P</code><span class="italic"><code class="codeph">n</code></span>. If you omit the <code class="codeph">TABLESPACE</code> clause, then Oracle Database places the partition in the tablespace specified for the index. If no tablespace is specified for the index, then Oracle Database places the partition in the default tablespace of the user, if one has been specified, or in the system default tablespace.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2050732">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-997FFE1B-B87E-4343-8F26-ED29C428CE34"><span class="italic">modify_index_partition </span></p>
                  <p>Use the <span class="italic"><code class="codeph">modify_index_partition</code></span> clause to modify the real physical attributes, logging attribute, or storage characteristics of index partition <span class="italic"><code class="codeph">partition</code></span> or its subpartitions. For a hash-partitioned global index, the only subclause of this clause you can specify is <code class="codeph">UNUSABLE</code>.
                  </p>
                  <p><span class="bold">COALESCE</span><a id="d224930e2933" class="indexterm-anchor"></a></p>
                  <p>Specify this clause to merge the contents of index partition blocks where possible to free blocks for reuse.</p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__BGEDAEGC"><span class="bold">CLEANUP</span></p>
                  <p>Specify <code class="codeph">CLEANUP</code> to remove orphaned index entries for records that were previously dropped or truncated by a table partition maintenance operation.
                  </p>
                  <p>To determine whether an index partition contains orphaned index entries, you can query the <code class="codeph">ORPHANED_ENTRIES</code> column of the <code class="codeph">USER_</code>, <code class="codeph">DBA_</code>, <code class="codeph">ALL_PART_INDEXES</code> data dictionary views. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=REFRN20086" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information.
                  </p>
                  <p><span class="bold">UPDATE BLOCK REFERENCES</span><a id="d224930e2969" class="indexterm-anchor"></a><a id="d224930e2973" class="indexterm-anchor"></a><a id="d224930e2977" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">UPDATE</code> <code class="codeph">BLOCK</code> <code class="codeph">REFERENCES</code> clause is valid only for normal indexes on index-organized tables. Use this clause to update all stale guess data block addresses stored in the secondary index partition.
                  </p>
                  <p><span class="bold">Restrictions on UPDATE BLOCK REFERENCES</span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify the <span class="italic"><code class="codeph">physical_attributes_clause</code></span> for an index on a hash-partitioned table.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify <code class="codeph">UPDATE</code> <code class="codeph">BLOCK</code> <code class="codeph">REFERENCES</code> with any other clause in <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-B06A5719-878A-45B4-9C17-0699578D7B23">
                     <p class="notep1">Note:</p>
                     <p>If the index is a local index on a composite-partitioned table, then the changes you specify here will override any attributes specified earlier for the subpartitions of index, as well as establish default values of attributes for future subpartitions of that partition. To change the default attributes of the partition without overriding the attributes of subpartitions, use <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ... <code class="codeph">MODIFY</code> <code class="codeph">DEFAULT</code> <code class="codeph">ATTRIBUTES</code> <code class="codeph">FOR</code> <code class="codeph">PARTITION</code>.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-E0BCF923-4CF1-4D25-8E60-BAED4BD0CDBB">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136020">Marking an Index Unusable: Examples</a>"</span></p>
                  </div>
                  <p><span class="bold">UNUSABLE Clause</span></p>
                  <p>This clause has the same function for index partitions that it has for the index as a whole. Refer to <span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2160588">USABLE | UNUSABLE</a>"</span>.
                  </p>
                  <p><span class="bold"><span class="italic">index_compression</span></span></p>
                  <p>This clause is relevant for composite-partitioned indexes. Use this clause to change the compression attribute for the partition and every subpartition in that partition. Oracle Database marks each index subpartition in the partition <code class="codeph">UNUSABLE</code> and you must then rebuild these subpartitions. Prefix compression must already have been specified for the index before you can specify the <span class="italic"><code class="codeph">prefix_compression</code></span> clause for a partition, or advanced index compression must have already been specified for the index before you can specify the <span class="italic"><code class="codeph">advanced_index_compression</code></span> clause for a partition. You can specify this clause only at the partition level. You cannot change the compression attribute for an individual subpartition.
                  </p>
                  <p>You can use this clause for noncomposite index partitions. However, it is more efficient to use the <span class="italic"><code class="codeph">rebuild_clause</code></span> for noncomposite partitions, which lets you rebuild and set the compression attribute in one step.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-A380EE7B-EDBC-4162-850A-318DFDA062EF"><span class="italic">rename_index_partition</span></p>
                  <p>Use the <span class="italic"><code class="codeph">rename_index_partition</code></span> clauses to rename index <span class="italic"><code class="codeph">partition</code></span> or <span class="italic"><code class="codeph">subpartition</code></span> to <span class="italic"><code class="codeph">new_name</code></span>.
                  </p>
                  <p><span class="bold">Restrictions on Renaming Index Partitions</span></p>
                  <p>Renaming index partitions is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot rename the subpartition of a list partition.</p>
                     </li>
                     <li>
                        <p>For a partition of a domain index, <span class="italic"><code class="codeph">index</code></span> cannot be marked <code class="codeph">IN_PROGRESS</code> or <code class="codeph">FAILED</code>, none of the partitions can be marked <code class="codeph">IN_PROGRESS</code>, and the partition you are renaming cannot be marked <code class="codeph">FAILED</code>. 
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-63DFE73D-0836-4F62-9F8B-89B83DDB8612">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136078">Renaming an Index Partition: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-86EBB02D-150C-48B3-BD2C-13A4C969512B"><span class="italic">drop_index_partition </span></p>
                  <p>Use the <span class="italic"><code class="codeph">drop_index_partition</code></span> clause to remove a partition and the data in it from a partitioned global index. When you drop a partition of a global index, Oracle Database marks the next index partition <code class="codeph">UNUSABLE</code>. You cannot drop the highest partition of a global index. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-9E068BB5-7830-45C8-8706-92DEF44EE4B5">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2100242">Dropping an Index Partition: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-D0501741-1A0C-4F6F-82CB-8698FED02069"><span class="italic">split_index_partition</span></p>
                  <p>Use the <span class="italic"><code class="codeph">split_index_partition</code></span> clause to split a partition of a global range-partitioned index into two partitions, adding a new partition to the index. This clause is not valid for hash-partitioned global indexes. Instead, use the <span class="italic"><code class="codeph">add_hash_index_partition</code></span> clause.
                  </p>
                  <p>Splitting a partition marked <code class="codeph">UNUSABLE</code> results in two partitions, both marked <code class="codeph">UNUSABLE</code>. You must rebuild the partitions before you can use them.
                  </p>
                  <p>Splitting a partition marked <code class="codeph">USABLE</code> results in two partitions populated with index data. Both new partitions are marked <code class="codeph">USABLE</code>.
                  </p>
                  <p><span class="bold">AT Clause</span></p>
                  <p>Specify the new noninclusive upper bound for <span class="italic"><code class="codeph">split_partition_1</code></span>. The <span class="italic"><code class="codeph">value_list</code></span> must evaluate to less than the presplit partition bound for <span class="italic"><code class="codeph">partition_name_old</code></span> and greater than the partition bound for the next lowest partition (if there is one).
                  </p>
                  <p><span class="bold">INTO Clause</span></p>
                  <p>Specify (optionally) the name and physical attributes of each of the two partitions resulting from the split.</p>
                  <div class="infoboxnotealso" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-8F20F0B5-A2C2-471D-BE97-8040BC7B92B8">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136094">Splitting a Partition: Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-25CBBE37-3FEE-4A15-A3C7-17B54C2F8829"><span class="italic">coalesce_index_partition </span></p>
                  <p>This clause is valid only for hash-partitioned global indexes. Oracle Database reduces by one the number of index partitions. Oracle Database selects the partition to coalesce based on the requirements of the hash function. Use this clause if you want to distribute index entries of a selected partition into one of the remaining partitions and then remove the selected partition.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-37F71AA1-70EC-46FC-9AF6-216F27F8D1D0"><span class="italic">modify_index_subpartition</span></p>
                  <p>Use the <span class="italic"><code class="codeph">modify_index_subpartition</code></span> clause to mark <code class="codeph">UNUSABLE</code> or allocate or deallocate storage for a subpartition of a local index on a composite-partitioned table. All other attributes of such a subpartition are inherited from partition-level default attributes.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__GUID-07C36FCA-8A75-4A74-8EA4-E49C0A4E20CF">Examples</p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135935"><span class="bold">Storing Index Blocks in Reverse Order: Example</span></p>
                  <p>The following statement rebuilds index <code class="codeph">ord_customer_ix</code> (created in <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105550">Creating an Index: Example</a>"</span>) so that the bytes of the index block are stored in reverse order:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ord_customer_ix REBUILD REVERSE;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135962"><span class="bold">Rebuilding an Index in Parallel: Example</span></p>
                  <p>The following statement causes the index to be rebuilt from the existing index by using parallel execution processes to scan the old and to build the new index:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ord_customer_ix REBUILD PARALLEL;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135975"><span class="bold">Modifying Real Index Attributes: Example</span></p>
                  <p>The following statement alters the <code class="codeph">oe.cust_lname_ix</code> index so that future data blocks within this index use 5 initial transaction entries:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX oe.cust_lname_ix  
    INITRANS 5;
</pre><p>If the <code class="codeph">oe.cust_lname_ix</code> index were partitioned, then this statement would also alter the default attributes of future partitions of the index. Partitions added in the future would then use 5 initial transaction entries and an incremental extent of 100K.
                  </p>
                  <p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2135988"><span class="bold">Enabling Parallel Queries: Example</span></p>
                  <p>The following statement sets the parallel attributes for index <code class="codeph">upper_ix</code> (created in <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105548">Creating a Function-Based Index: Example</a>"</span>) so that scans on the index will be parallelized:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX upper_ix PARALLEL;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136004"><span class="bold">Renaming an Index: Example</span></p>
                  <p>The following statement renames an index:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX upper_ix RENAME TO upper_name_ix;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136020"><span class="bold">Marking an Index Unusable: Examples</span></p>
                  <p>The following statements use the <code class="codeph">cost_ix</code> index, which was created in <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105538">Creating a Range-Partitioned Global Index: Example</a>"</span>. Partition <code class="codeph">p1</code> of that index was dropped in <span class="q">"<a href="ALTER-INDEX.html#GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2100242">Dropping an Index Partition: Example</a>"</span>. The first statement marks index partition <code class="codeph">p2</code> as <code class="codeph">UNUSABLE</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix
   MODIFY PARTITION p2 UNUSABLE;
</pre><p>The next statement marks the entire index <code class="codeph">cost_ix</code> as <code class="codeph">UNUSABLE</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix UNUSABLE;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136031"><span class="bold">Rebuilding Unusable Index Partitions: Example</span></p>
                  <p>The following statements rebuild partitions <code class="codeph">p2</code> and <code class="codeph">p3</code> of the <code class="codeph">cost_ix</code> index, making the index once more usable: The rebuilding of partition <code class="codeph">p3</code> will not be logged:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix 
   REBUILD PARTITION p2;
ALTER INDEX cost_ix
   REBUILD PARTITION p3 NOLOGGING;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136067"><span class="bold">Changing MAXEXTENTS: Example</span></p>
                  <p>The following statement changes the maximum number of extents for partition <code class="codeph">p3</code> and changes the logging attribute:
                  </p><pre class="oac_no_warn" dir="ltr">/* This example will fail if the tablespace in which partition p3
   resides is locally managed.
*/
ALTER INDEX cost_ix MODIFY PARTITION p3
   STORAGE(MAXEXTENTS 30) LOGGING;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136078"><span class="bold">Renaming an Index Partition: Example</span></p>
                  <p>The following statement renames an index partition of the <code class="codeph">cost_ix</code> index (created in <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105538">Creating a Range-Partitioned Global Index: Example</a>"</span>):
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix
   RENAME PARTITION p3 TO p3_Q3;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136094"><span class="bold">Splitting a Partition: Example</span></p>
                  <p>The following statement splits partition <code class="codeph">p2</code> of index <code class="codeph">cost_ix</code> (created in <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105538">Creating a Range-Partitioned Global Index: Example</a>"</span>) into <code class="codeph">p2a</code> and <code class="codeph">p2b</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix
   SPLIT PARTITION p2 AT (1500) 
   INTO ( PARTITION p2a TABLESPACE tbs_01 LOGGING,
          PARTITION p2b TABLESPACE tbs_02);</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2100242"><span class="bold">Dropping an Index Partition: Example</span></p>
                  <p>The following statement drops index partition <code class="codeph">p1</code> from the <code class="codeph">cost_ix</code> index:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX cost_ix
   DROP PARTITION p1;</pre><p id="GUID-D8F648E7-8C07-4C89-BB71-862512536558__I2136125"><span class="bold">Modifying Default Attributes: Example</span> 
                  </p>
                  <p>The following statement alters the default attributes of local partitioned index <code class="codeph">prod_idx</code>, which was created in <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2105539">Creating an Index on a Hash-Partitioned Table: Example</a>"</span>. Partitions added in the future will use 5 initial transaction entries:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX prod_idx
      MODIFY DEFAULT ATTRIBUTES INITRANS 5;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='07336.DBA_HIST_ACTIVE_SESS_HISTORY.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="DBA_HIST_ACTIVE_SESS_HISTORY displays the history of the contents of the in-memory active session history of recent system activity.">
      <meta name="description" content="DBA_HIST_ACTIVE_SESS_HISTORY displays the history of the contents of the in-memory active session history of recent system activity.">
      <title>DBA_HIST_ACTIVE_SESS_HISTORY</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Reference">
      <meta property="og:description" content="DBA_HIST_ACTIVE_SESS_HISTORY displays the history of the contents of the in-memory active session history of recent system activity.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00">
      <meta name="dcterms.title" content="Database Reference">
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96196-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBA_HIGH_WATER_MARK_STATISTICS.html" title="Previous" type="text/html">
      <link rel="next" href="DBA_HIST_APPLY_SUMMARY.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBA_HIGH_WATER_MARK_STATISTICS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBA_HIST_APPLY_SUMMARY.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">   Static Data Dictionary Views </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-3.html" property="item" typeof="WebPage"><span property="name"> Static Data Dictionary Views: DBA_2PC_NEIGHBORS to DBA_HIST_JAVA_POOL_ADVICE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBA_HIST_ACTIVE_SESS_HISTORY</li>
            </ol>
            <a id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35" name="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35"></a><a id="REFRN23400"></a>
            
            <h2 id="REFRN-GUID-335EC838-FEA0-4872-9E14-67C5A1908B35" class="sect2"><span class="enumeration_section">4.290 </span>DBA_HIST_ACTIVE_SESS_HISTORY
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBA_HIST_ACTIVE_SESS_HISTORY</code> displays the history of the contents of the in-memory active session history of recent system activity.
               </p>
               <div class="section">
                  <p><code class="codeph">DBA_HIST_ACTIVE_SESS_HISTORY</code> contains snapshots of <code class="codeph">V$ACTIVE_SESSION_HISTORY</code>. See <span class="q">"<a href="V-ACTIVE_SESSION_HISTORY.html#GUID-69CEA3A1-6C5E-43D6-982C-F353CD4B984C" title="V$ACTIVE_SESSION_HISTORY displays sampled session activity in the database.">V$ACTIVE_SESSION_HISTORY</a>"</span> for further interpretation details for many of these columns (except <code class="codeph">SNAP_ID</code>, <code class="codeph">DBID</code>, and <code class="codeph">INSTANCE_NUMBER</code>).
                  </p>
                  <div class="infoboxnote" id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35__GUID-BDE226A0-9CAE-4156-A482-74FB850FD5C7">
                     <p class="notep1">Note:</p>
                     <p>If you want to perform a join with the snapshots view, use the  <code class="codeph">DBA_HIST_ASH_SNAPSHOT</code> view instead of the <code class="codeph">DBA_HIST_SNAPSHOT</code> view.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35__GUID-821A237A-B37A-4D02-BD6F-E57246365A73">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="This table describes the columns for this database view" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d898845e205">Column</th>
                           <th align="left" valign="bottom" width="18%" id="d898845e208">Datatype</th>
                           <th align="left" valign="bottom" width="14%" id="d898845e211">NULL</th>
                           <th align="left" valign="bottom" width="45%" id="d898845e214">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e219" headers="d898845e205 ">
                              <p><code class="codeph">SNAP_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e219 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e219 d898845e211 ">
                              <p><code class="codeph">NOT NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e219 d898845e214 ">
                              <p>Unique snapshot ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e235" headers="d898845e205 ">
                              <p><code class="codeph">DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e235 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e235 d898845e211 ">
                              <p><code class="codeph">NOT NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e235 d898845e214 ">
                              <p>Database ID for the snapshot</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e251" headers="d898845e205 ">
                              <p><code class="codeph">INSTANCE_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e251 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e251 d898845e211 ">
                              <p><code class="codeph">NOT NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e251 d898845e214 ">
                              <p>Instance number for the snapshot</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e267" headers="d898845e205 ">
                              <p><code class="codeph">SAMPLE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e267 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e267 d898845e211 ">
                              <p><code class="codeph">NOT NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e267 d898845e214 ">
                              <p>ID of the sample</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e283" headers="d898845e205 ">
                              <p><code class="codeph">SAMPLE_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e283 d898845e208 ">
                              <p><code class="codeph">TIMESTAMP(3)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e283 d898845e211 ">
                              <p><code class="codeph">NOT NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e283 d898845e214 ">
                              <p>Time of the sample</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e299" headers="d898845e205 ">
                              <p><code class="codeph">SAMPLE_TIME_UTC</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e299 d898845e208 ">
                              <p><code class="codeph">TIMESTAMP(3)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e299 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e299 d898845e214 ">
                              <p><code class="codeph">SAMPLE_TIME</code> in UTC
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e316" headers="d898845e205 ">
                              <p><code class="codeph">USECS_PER_ROW</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e316 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e316 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e316 d898845e214 ">
                              <p>Time in microseconds since the last active session history sample</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e331" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e331 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e331 d898845e211 ">
                              <p><code class="codeph">NOT NULL</code></p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e331 d898845e214 ">
                              <p>Session identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e347" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_SERIAL#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e347 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e347 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e347 d898845e214 ">
                              <p>Session serial number (used to uniquely identify a session's objects)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e362" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e362 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(10)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e362 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e362 d898845e214 ">
                              <p>Session type:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">FOREGROUND</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">BACKGROUND</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e386" headers="d898845e205 ">
                              <p><code class="codeph">FLAGS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e386 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e386 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e386 d898845e214 ">
                              <p>Reserved for future use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e402" headers="d898845e205 ">
                              <p><code class="codeph">USER_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e402 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e402 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e402 d898845e214 ">
                              <p>Oracle user identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e417" headers="d898845e205 ">
                              <p><code class="codeph">SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e417 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(13)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e417 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e417 d898845e214 ">
                              <p>SQL identifier of the SQL statement that is currently being executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e432" headers="d898845e205 ">
                              <p><code class="codeph">IS_SQLID_CURRENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e432 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e432 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e432 d898845e214 ">
                              <p>Indicates whether the SQL identifier in the <code class="codeph">SQL_ID</code> column is being executed (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e456" headers="d898845e205 ">
                              <p><code class="codeph">SQL_CHILD_NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e456 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e456 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e456 d898845e214 ">
                              <p>Child number of the SQL statement that is currently being executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e471" headers="d898845e205 ">
                              <p><code class="codeph">SQL_OPCODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e471 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e471 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e471 d898845e214 ">
                              <p>Indicates what phase of operation the SQL statement is in</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e486" headers="d898845e205 ">
                              <p><code class="codeph">SQL_OPNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e486 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e486 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e486 d898845e214 ">
                              <p>SQL command name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e501" headers="d898845e205 ">
                              <p><code class="codeph">FORCE_MATCHING_SIGNATURE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e501 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e501 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e501 d898845e214 ">
                              <p>Signature used when the <code class="codeph">CURSOR_SHARING</code> parameter is set to <code class="codeph">FORCE</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e521" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_SQL_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e521 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(13)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e521 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e521 d898845e214 ">
                              <p>SQL identifier of the top level SQL statement</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e536" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_SQL_OPCODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e536 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e536 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e536 d898845e214 ">
                              <p>Indicates what phase of operation the top level SQL statement was in</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e551" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e551 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e551 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e551 d898845e214 ">
                              <p>Numerical representation of the SQL plan for the cursor</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e566" headers="d898845e205 ">
                              <p><code class="codeph">SQL_FULL_PLAN_HASH_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e566 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e566 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e566 d898845e214 ">
                              <p>Numerical representation of the complete SQL plan for the cursor being executed by this session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e582" headers="d898845e205 ">
                              <p><code class="codeph">SQL_ADAPTIVE_PLAN_RESOLVED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e582 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e582 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e582 d898845e214 ">
                              <p>Indicates whether the SQL plan of the sampled database session is a resolved adaptive plan or not</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e597" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_LINE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e597 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e597 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e597 d898845e214 ">
                              <p>SQL plan line ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e612" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_OPERATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e612 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e612 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e612 d898845e214 ">
                              <p>Plan operation name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e627" headers="d898845e205 ">
                              <p><code class="codeph">SQL_PLAN_OPTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e627 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e627 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e627 d898845e214 ">
                              <p>Plan operation options</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e642" headers="d898845e205 ">
                              <p><code class="codeph">SQL_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e642 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e642 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e642 d898845e214 ">
                              <p>SQL execution identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e657" headers="d898845e205 ">
                              <p><code class="codeph">SQL_EXEC_START</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e657 d898845e208 ">
                              <p><code class="codeph">DATE</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e657 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e657 d898845e214 ">
                              <p>Time when the execution of the SQL started</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e672" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_ENTRY_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e672 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e672 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e672 d898845e214 ">
                              <p>Object ID of the top-most PL/SQL subprogram on the stack (or NULL if there is no PL/SQL subprogram on the stack)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e687" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_ENTRY_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e687 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e687 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e687 d898845e214 ">
                              <p>Subprogram ID of the top-most PL/SQL subprogram on the stack (or NULL if there is no PL/SQL subprogram on the stack)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e702" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_OBJECT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e702 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e702 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e702 d898845e214 ">
                              <p>Object ID of the currently executing PL/SQL subprogram (or NULL if executing SQL)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e717" headers="d898845e205 ">
                              <p><code class="codeph">PLSQL_SUBPROGRAM_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e717 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e717 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e717 d898845e214 ">
                              <p>Subprogram ID of the currently executing PL/SQL object (or NULL if executing SQL) </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e732" headers="d898845e205 ">
                              <p><code class="codeph">QC_INSTANCE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e732 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e732 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e732 d898845e214 ">
                              <p>Query coordinator instance ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e748" headers="d898845e205 ">
                              <p><code class="codeph">QC_SESSION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e748 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e748 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e748 d898845e214 ">
                              <p>Query coordinator session ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e763" headers="d898845e205 ">
                              <p><code class="codeph">QC_SESSION_SERIAL#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e763 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e763 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e763 d898845e214 ">
                              <p>Query coordinator session serial number</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e778" headers="d898845e205 ">
                              <p><code class="codeph">PX_FLAGS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e778 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e778 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e778 d898845e214 ">
                              <p>Reserved for internal use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e793" headers="d898845e205 ">
                              <p><code class="codeph">EVENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e793 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e793 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e793 d898845e214 ">
                              <p>If <code class="codeph">SESSION_STATE = WAITING</code>, then the event for which the session was waiting at the time of sampling.
                              </p>
                              <p>If <code class="codeph">SESSION_STATE = ON CPU</code>, then this column will be NULL.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e816" headers="d898845e205 ">
                              <p><code class="codeph">EVENT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e816 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e816 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e816 d898845e214 ">
                              <p>Identifier of the resource or event for which the session is waiting or for which the session last waited</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e831" headers="d898845e205 ">
                              <p><code class="codeph">SEQ#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e831 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e831 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e831 d898845e214 ">
                              <p>Sequence number that uniquely identifies the wait (incremented for each wait)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e846" headers="d898845e205 ">
                              <p><code class="codeph">P1TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e846 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e846 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e846 d898845e214 ">
                              <p>Text of first additional parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e861" headers="d898845e205 ">
                              <p><code class="codeph">P1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e861 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e861 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e861 d898845e214 ">
                              <p>First additional parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e876" headers="d898845e205 ">
                              <p><code class="codeph">P2TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e876 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e876 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e876 d898845e214 ">
                              <p>Text of second additional parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e891" headers="d898845e205 ">
                              <p><code class="codeph">P2</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e891 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e891 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e891 d898845e214 ">
                              <p>Second additional parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e906" headers="d898845e205 ">
                              <p><code class="codeph">P3TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e906 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e906 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e906 d898845e214 ">
                              <p>Text of third additional parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e922" headers="d898845e205 ">
                              <p><code class="codeph">P3</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e922 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e922 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e922 d898845e214 ">
                              <p>Third additional parameter</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e937" headers="d898845e205 ">
                              <p><code class="codeph">WAIT_CLASS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e937 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e937 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e937 d898845e214 ">
                              <p>Wait class name of the event for which the session was waiting at the time of sampling. Interpretation is similar to that of the <code class="codeph">EVENT</code> column. Maps to <code class="codeph">V$SESSION.WAIT_CLASS</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e958" headers="d898845e205 ">
                              <p><code class="codeph">WAIT_CLASS_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e958 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e958 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e958 d898845e214 ">
                              <p>Wait class identifier of the event for which the session was waiting at the time of sampling. Interpretation is similar to that of the <code class="codeph">EVENT</code> column. Maps to <code class="codeph">V$SESSION.WAIT_CLASS_ID</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e979" headers="d898845e205 ">
                              <p><code class="codeph">WAIT_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e979 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e979 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e979 d898845e214 ">
                              <p>Total wait time (in microseconds) for the event for which the session last waited (<code class="codeph">0</code> if currently waiting)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e997" headers="d898845e205 ">
                              <p><code class="codeph">SESSION_STATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e997 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(7)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e997 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e997 d898845e214 ">
                              <p>Session state:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">WAITING</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ON</code> <code class="codeph">CPU</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1024" headers="d898845e205 ">
                              <p><code class="codeph">TIME_WAITED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1024 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1024 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1024 d898845e214 ">
                              <p>Time that the current session actually spent waiting for the event (in microseconds). This column is set for waits that were in progress at the time the sample was taken.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1039" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_SESSION_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1039 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(11)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1039 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1039 d898845e214 ">
                              <p>Status of the blocking session:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">VALID</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NO HOLDER</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">GLOBAL</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NOT IN WAIT</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNKNOWN</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1075" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_SESSION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1075 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1075 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1075 d898845e214 ">
                              <p>Session identifier of the blocking session. Populated only when the session was waiting for enqueues or a "buffer busy" wait. Maps to <code class="codeph">V$SESSION.BLOCKING_SESSION</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1093" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_SESSION_SERIAL#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1093 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1093 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1093 d898845e214 ">
                              <p>Serial number of the blocking session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1108" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_INST_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1108 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1108 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1108 d898845e214 ">
                              <p>Instance number of the blocker shown in <code class="codeph">BLOCKING_SESSION</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1125" headers="d898845e205 ">
                              <p><code class="codeph">BLOCKING_HANGCHAIN_INFO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1125 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1125 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1125 d898845e214 ">
                              <p>Indicates whether the information about <code class="codeph">BLOCKING_SESSION</code> comes from the hang chain (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1150" headers="d898845e205 ">
                              <p><code class="codeph">CURRENT_OBJ#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1150 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1150 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1150 d898845e214 ">
                              <p>Object ID of the object that the session is currently referencing. This information is only available if the session was waiting for Application, Cluster, Concurrency, and User I/O wait events. Maps to <code class="codeph">V$SESSION.ROW_WAIT_OBJ#</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1168" headers="d898845e205 ">
                              <p><code class="codeph">CURRENT_FILE#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1168 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1168 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1168 d898845e214 ">
                              <p>File number of the file containing the block that the session is currently referencing. This information is only available if the session was waiting for Cluster, Concurrency, and User I/O wait events. Maps to <code class="codeph">V$SESSION.ROW_WAIT_FILE#</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1186" headers="d898845e205 ">
                              <p><code class="codeph">CURRENT_BLOCK#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1186 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1186 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1186 d898845e214 ">
                              <p>ID of the block that the session is currently referencing</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1201" headers="d898845e205 ">
                              <p><code class="codeph">CURRENT_ROW#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1201 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1201 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1201 d898845e214 ">
                              <p>Row identifier that the session is referencing</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1216" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_CALL#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1216 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1216 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1216 d898845e214 ">
                              <p>Oracle top level call number</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1231" headers="d898845e205 ">
                              <p><code class="codeph">TOP_LEVEL_CALL_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1231 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1231 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1231 d898845e214 ">
                              <p>Oracle top level call name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1246" headers="d898845e205 ">
                              <p><code class="codeph">CONSUMER_GROUP_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1246 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1246 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1246 d898845e214 ">
                              <p>Consumer group ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1261" headers="d898845e205 ">
                              <p><code class="codeph">XID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1261 d898845e208 ">
                              <p><code class="codeph">RAW(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1261 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1261 d898845e214 ">
                              <p>Transaction ID that the session was working on at the time of sampling. <code class="codeph">V$SESSION</code> does not contain this information.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1279" headers="d898845e205 ">
                              <p><code class="codeph">REMOTE_INSTANCE#</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1279 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1279 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1279 d898845e214 ">
                              <p>Remote instance identifier that will serve the block that this session is waiting for. This information is only available if the session was waiting for cluster events.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1294" headers="d898845e205 ">
                              <p><code class="codeph">TIME_MODEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1294 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1294 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1294 d898845e214 ">
                              <p>Time model information</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1309" headers="d898845e205 ">
                              <p><code class="codeph">IN_CONNECTION_MGMT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1309 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1309 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1309 d898845e214 ">
                              <p>Indicates whether the session was doing connection management at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1331" headers="d898845e205 ">
                              <p><code class="codeph">IN_PARSE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1331 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1331 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1331 d898845e214 ">
                              <p>Indicates whether the session was parsing at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1352" headers="d898845e205 ">
                              <p><code class="codeph">IN_HARD_PARSE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1352 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1352 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1352 d898845e214 ">
                              <p>Indicates whether the session was hard parsing at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1373" headers="d898845e205 ">
                              <p><code class="codeph">IN_SQL_EXECUTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1373 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1373 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1373 d898845e214 ">
                              <p>Indicates whether the session was executing SQL statements at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1394" headers="d898845e205 ">
                              <p><code class="codeph">IN_PLSQL_EXECUTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1394 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1394 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1394 d898845e214 ">
                              <p>Indicates whether the session was executing PL/SQL at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1415" headers="d898845e205 ">
                              <p><code class="codeph">IN_PLSQL_RPC</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1415 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1415 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1415 d898845e214 ">
                              <p>Indicates whether the session was executing inbound PL/SQL RPC calls at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1436" headers="d898845e205 ">
                              <p><code class="codeph">IN_PLSQL_COMPILATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1436 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1436 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1436 d898845e214 ">
                              <p>Indicates whether the session was compiling PL/SQL at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1457" headers="d898845e205 ">
                              <p><code class="codeph">IN_JAVA_EXECUTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1457 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1457 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1457 d898845e214 ">
                              <p>Indicates whether the session was executing Java at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1478" headers="d898845e205 ">
                              <p><code class="codeph">IN_BIND</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1478 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1478 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1478 d898845e214 ">
                              <p>Indicates whether the session was doing bind operations at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1499" headers="d898845e205 ">
                              <p><code class="codeph">IN_CURSOR_CLOSE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1499 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1499 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1499 d898845e214 ">
                              <p>Indicates whether the session was closing a cursor at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1520" headers="d898845e205 ">
                              <p><code class="codeph">IN_SEQUENCE_LOAD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1520 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1520 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1520 d898845e214 ">
                              <p>Indicates whether the session is loading in sequence (in sequence load code) (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1541" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_QUERY</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1541 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1541 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1541 d898845e214 ">
                              <p>Indicates whether the session was querying the In-Memory Column Store (IM column store) at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1563" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_POPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1563 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1563 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1563 d898845e214 ">
                              <p>Indicates whether the session was populating the IM column store at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1584" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_PREPOPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1584 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1584 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1584 d898845e214 ">
                              <p>Indicates whether the session was prepopulating the IM column store at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1605" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_REPOPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1605 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1605 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1605 d898845e214 ">
                              <p>Indicates whether the session was repopulating the IM column store at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1626" headers="d898845e205 ">
                              <p><code class="codeph">IN_INMEMORY_TREPOPULATE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1626 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1626 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1626 d898845e214 ">
                              <p>Indicates whether the session was trickle repopulating the IM column store at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1647" headers="d898845e205 ">
                              <p><code class="codeph">IN_TABLESPACE_ENCRYPTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1647 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1647 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1647 d898845e214 ">
                              <p>Indicates whether encryption or decryption of a tablespace occurred at the time of sampling (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1668" headers="d898845e205 ">
                              <p><code class="codeph">CAPTURE_OVERHEAD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1668 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1668 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1668 d898845e214 ">
                              <p>Indicates whether the session is executing capture code (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1689" headers="d898845e205 ">
                              <p><code class="codeph">REPLAY_OVERHEAD</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1689 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1689 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1689 d898845e214 ">
                              <p>Indicates whether the session is executing replay code (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1710" headers="d898845e205 ">
                              <p><code class="codeph">IS_CAPTURED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1710 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1710 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1710 d898845e214 ">
                              <p>Indicates whether the session is being captured (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1731" headers="d898845e205 ">
                              <p><code class="codeph">IS_REPLAYED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1731 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1731 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1731 d898845e214 ">
                              <p>Indicates whether the session is being replayed (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1752" headers="d898845e205 ">
                              <p><code class="codeph">IS_REPLAY_SYNC_TOKEN_HOLDER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1752 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1752 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1752 d898845e214 ">
                              <p>Indicates whether the session is holding a synchronization token (<code class="codeph">Y</code>) or not (<code class="codeph">N</code>) during workload replay  
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1773" headers="d898845e205 ">
                              <p><code class="codeph">SERVICE_HASH</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1773 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1773 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1773 d898845e214 ">
                              <p>Hash that identifies the Service</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1789" headers="d898845e205 ">
                              <p><code class="codeph">PROGRAM</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1789 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1789 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1789 d898845e214 ">
                              <p>Name of the operating system program</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1804" headers="d898845e205 ">
                              <p><code class="codeph">MODULE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1804 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1804 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1804 d898845e214 ">
                              <p>Name of the currently executing module as set by the <code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> procedure
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1822" headers="d898845e205 ">
                              <p><code class="codeph">ACTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1822 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1822 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1822 d898845e214 ">
                              <p>Name of the currently executing action as set by the <code class="codeph">DBMS_APPLICATION_INFO.SET_ACTION</code> procedure
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1840" headers="d898845e205 ">
                              <p><code class="codeph">CLIENT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1840 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1840 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1840 d898845e214 ">
                              <p>Client identifier of the session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1855" headers="d898845e205 ">
                              <p><code class="codeph">MACHINE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1855 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1855 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1855 d898845e214 ">
                              <p>Client's operating system machine name</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1870" headers="d898845e205 ">
                              <p><code class="codeph">PORT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1870 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1870 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1870 d898845e214 ">
                              <p>Client port number</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1885" headers="d898845e205 ">
                              <p><code class="codeph">ECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1885 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1885 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1885 d898845e214 ">
                              <p>Execution context identifier (sent by Application Server)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1900" headers="d898845e205 ">
                              <p><code class="codeph">DBREPLAY_FILE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1900 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1900 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1900 d898845e214 ">
                              <p>If the session is being captured or replayed, then <code class="codeph">DBREPLAY_FILE_ID</code> is the file ID for the workload capture or workload replay; otherwise it is NULL.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1918" headers="d898845e205 ">
                              <p><code class="codeph">DBREPLAY_CALL_COUNTER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1918 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1918 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1918 d898845e214 ">
                              <p>If the session is being captured or replayed, then <code class="codeph">DBREPLAY_CALL_COUNTER</code> is the call counter of the user call that is being captured or replayed; otherwise it is NULL.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1936" headers="d898845e205 ">
                              <p><code class="codeph">TM_DELTA_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1936 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1936 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1936 d898845e214 ">
                              <p>Time interval (in microseconds) over which <code class="codeph">TM_DELTA_CPU_TIME</code> and <code class="codeph">TM_DELTA_DB_TIME</code> are accumulated
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1957" headers="d898845e205 ">
                              <p><code class="codeph">TM_DELTA_CPU_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1957 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1957 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1957 d898845e214 ">
                              <p>Amount of time this session spent on CPU over the last <code class="codeph">TM_DELTA_TIME</code> microseconds
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1976" headers="d898845e205 ">
                              <p><code class="codeph">TM_DELTA_DB_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1976 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1976 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1976 d898845e214 ">
                              <p>Amount of time spent by this session in database calls over the last <code class="codeph">TM_DELTA_TIME</code> microseconds
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e1994" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_TIME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e1994 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e1994 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e1994 d898845e214 ">
                              <p>Time interval (in microseconds) since the last time this session was sampled or created, over which the next five statistics are accumulated</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2009" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_READ_IO_REQUESTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2009 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2009 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2009 d898845e214 ">
                              <p>Number of read I/O requests made by this session over the last <code class="codeph">DELTA_TIME</code> microseconds
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2027" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_WRITE_IO_REQUESTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2027 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2027 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2027 d898845e214 ">
                              <p>Number of write I/O requests made by this session over the last <code class="codeph">DELTA_TIME</code> microseconds
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2045" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_READ_IO_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2045 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2045 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2045 d898845e214 ">
                              <p>Number of I/O bytes read by this session over the last <code class="codeph">DELTA_TIME</code> microseconds
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2063" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_WRITE_IO_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2063 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2063 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2063 d898845e214 ">
                              <p>Number of I/O bytes written by this session over the last <code class="codeph">DELTA_TIME</code> microseconds
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2081" headers="d898845e205 ">
                              <p><code class="codeph">DELTA_INTERCONNECT_IO_BYTES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2081 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2081 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2081 d898845e214 ">
                              <p>Number of I/O bytes sent over the I/O interconnect over the last <code class="codeph">DELTA_TIME</code> microseconds
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2099" headers="d898845e205 ">
                              <p><code class="codeph">PGA_ALLOCATED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2099 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2099 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2099 d898845e214 ">
                              <p>Amount of PGA memory (in bytes) consumed by this session at the time this sample was taken</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2114" headers="d898845e205 ">
                              <p><code class="codeph">TEMP_SPACE_ALLOCATED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2114 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2114 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2114 d898845e214 ">
                              <p>Amount of TEMP memory (in bytes) consumed by this session at the time this sample was taken</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2129" headers="d898845e205 ">
                              <p><code class="codeph">DBOP_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2129 d898845e208 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2129 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2129 d898845e214 ">
                              <p>Database operation name. If the type is SQL, the <code class="codeph">DBOP_NAME</code> will be <code class="codeph">NULL</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2150" headers="d898845e205 ">
                              <p><code class="codeph">DBOP_EXEC_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2150 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2150 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2150 d898845e214 ">
                              <p>Database operation execution identifier for the current execution. If the type is SQL, the <code class="codeph">DBOP_EXEC_ID</code> will be <code class="codeph">NULL</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2172" headers="d898845e205 ">
                              <p><code class="codeph">CON_DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2172 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2172 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2172 d898845e214 ">
                              <p>The database ID of the PDB for the sampled session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d898845e2187" headers="d898845e205 ">
                              <p><code class="codeph">CON_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d898845e2187 d898845e208 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d898845e2187 d898845e211 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d898845e2187 d898845e214 ">
                              <p>The ID of the container that <code class="codeph">CON_DBID</code> identifies. Possible values include:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">0</code>: This value is used for rows containing data that pertain to the entire CDB. This value is also used for rows in non-CDBs.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">1</code>: This value is used for rows containing data that pertain to only the root
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="italic">n</span>: Where <span class="italic">n</span> is the applicable container ID for the rows containing data
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-335EC838-FEA0-4872-9E14-67C5A1908B35__GUID-ACD341DA-29CB-48C0-BFF0-2895D5DBBCCE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="DBA_HIST_ASH_SNAPSHOT.html#GUID-B099E22C-B4C6-4895-9E74-63DC0A5FB6A0" title="DBA_HIST_ASH_SNAPSHOT provides the list of snapshots that contains Active Session History (ASH) data.">DBA_HIST_ASH_SNAPSHOT</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="DBA_HIST_SNAPSHOT.html#GUID-542B6CA6-793B-4D15-AAFD-4D3E6550C0B6" title="DBA_HIST_SNAPSHOT displays information about the snapshots in the Workload Repository.">DBA_HIST_SNAPSHOT</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_APPLICATION_INFO</code> package
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='01558.tuning-rman-performance.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Tuning RMAN Performance</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="part-rman-tuning-troubleshooting.html" title="Previous" type="text/html">
      <link rel="next" href="troubleshooting-rman-operations.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User's Guide">
    <meta name="dcterms.isVersionOf" content="BRADV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-rman-tuning-troubleshooting.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="troubleshooting-rman-operations.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-rman-tuning-troubleshooting.html" property="item" typeof="WebPage"><span property="name"> Tuning and Troubleshooting </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Tuning RMAN Performance</li>
            </ol>
            <a id="GUID-33D81037-2310-4021-8039-1A2C579AAA5A" name="GUID-33D81037-2310-4021-8039-1A2C579AAA5A"></a><a id="BRADV011"></a>
            
            <h2 id="BRADV-GUID-33D81037-2310-4021-8039-1A2C579AAA5A" class="sect2"><span class="enumeration_chapter">23 </span> Tuning RMAN Performance
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9" title="The purpose of RMAN tuning is to identify the bottlenecks for a given job and use RMAN commands, initialization parameters, or adjustments to physical media to improve performance.">Purpose of RMAN Performance Tuning</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3" title="Multiple factors can affect the performance when an RMAN channel is reading data from disk.During a backup, an RMAN channel reads the blocks from the input files into I/O disk buffers. The database files on the disk subsystem can be managed by either Automatic Storage Management (ASM) or an alternative volume manager or file system. The considerations for backup tuning change depending on whether you manage database files with ASM.When a channel reads from or writes to disk, the I/O is either synchronous I/O or asynchronous I/O. On operating systems that do not support native asynchronous I/O, the database can simulate it with special I/O slave processes. These processes are dedicated to performing I/O on behalf of another process. You can use the RATE parameter to set an upper limit for bytes read so that RMAN does not consume excessive disk bandwidth and degrade online performance. Essentially, RATE serves as a backup throttle. In the copy phase, a channel copies blocks from the input buffers to the output buffers and performs additional processing.When backing up to SBT, RMAN gives the media management software a stream of bytes and associates a unique name with this stream. All details of how and where that stream is stored are handled entirely by the media manager. Thus, a backup to tape involves the interaction of both RMAN and the media manager.The RMAN-specific factors affecting the SBT write phase are analogous to the factors affecting disk reads. In both cases, the buffer allocation, slave processes, and synchronous or asynchronous I/O affect performance. Multiple factors affect the speed of the backup to tape.If the tape device is remote, then the media manager must transfer data over the network. The tape native transfer rate is the speed of writing to a tape without compression. This speed represents the upper limit of the backup rate. The level of tape compression is very important for backup performance. If the tape has good compression, then the sustained backup rate is faster. Tape streaming during write operations has a major effect on tape backup performance. The physical tape block size can affect backup performance. The principal factor affecting the write phase for disk is the buffer size.">Basic Concepts of RMAN Performance Tuning</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243" title="Typically, you begin the tuning process by using V$ views to determine where RMAN backup and restore operations are encountering problems.">Using V$ Views to Diagnose RMAN Performance Problems</a></p>
                  </li>
                  <li>
                     <p><a href="tuning-rman-performance.html#GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD" title="Many factors can affect backup performance. Often, finding the solution to a slow backup is a process of trial and error.">Tuning RMAN Backup Performance</a></p>
                  </li>
               </ul>
            </div><a id="BRADV89842"></a><div class="props_rev_3"><a id="GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9" name="GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9"></a><h3 id="BRADV-GUID-BD6B1424-A13E-4EBA-99C3-1B79B2DF7FC9" class="sect3"><span class="enumeration_section">23.1 </span>Purpose of RMAN Performance Tuning
               </h3>
               <div>
                  <p>The purpose of RMAN tuning is to identify the bottlenecks for a given job and use RMAN commands, initialization parameters, or adjustments to physical media to improve performance.</p>
                  <p>An RMAN backup or restore job can be divided into separate phases or components. The slowest of these phases in any RMAN job is called the <strong class="term">bottleneck</strong>. 
                  </p>
               </div>
            </div><a id="BRADV393"></a><a id="BRADV394"></a><a id="BRADV170"></a><div class="props_rev_3"><a id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3" name="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3"></a><h3 id="BRADV-GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3" class="sect3"><span class="enumeration_section">23.2 </span>Basic Concepts of RMAN Performance Tuning
               </h3>
               <div>
                  <p>Tuning RMAN performance requires a detailed understanding of how RMAN creates a backup. The work of a backup is performed by one or more channels. A <a href="glossary.html#GUID-D7D8E7D7-3CD3-4FCF-AF75-AF2BE11A366F"><span class="xrefglossterm">channel</span></a> represents a stream of bytes to a storage device.
                  </p>
                  <p>For the purposes of illustration, you can think of the byte stream as passing from the input buffers in memory through the CPU to the output buffers, and from there to the storage device. To direct a backup to two tape devices, you allocate two tape channels so that each byte stream goes to a different device.</p>
                  <p>The work of each channel, whether of type disk or System Backup Tape (SBT), is subdivided into distinct phases. The following table describes these phases.</p>
                  <div class="tblformal" id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__GUID-E4E56CF2-91C0-46EC-BEB8-FEA1B112839D">
                     <p class="titleintable">Table 23-1 Phases in Channel Work</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Phases in Channel Work" summary="This table describes the phases in the work of an RMAN channel (both of type disk and SBT)." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d100789e283">Sequence</th>
                              <th align="left" valign="bottom" width="20%" id="d100789e285">Phase</th>
                              <th align="left" valign="bottom" width="20%" id="d100789e287">Description</th>
                              <th align="left" valign="bottom" width="20%" id="d100789e289">Additional Information</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d100789e293" headers="d100789e283 ">1</td>
                              <td align="left" valign="top" width="20%" headers="d100789e293 d100789e285 ">Read phase</td>
                              <td align="left" valign="top" width="20%" headers="d100789e293 d100789e287 ">
                                 <p>A channel reads blocks from disk into input I/O buffers.</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d100789e293 d100789e289 ">
                                 <p><span class="q">"<a href="tuning-rman-performance.html#GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7" title="Multiple factors can affect the performance when an RMAN channel is reading data from disk.">Read Phase</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d100789e309" headers="d100789e283 ">2</td>
                              <td align="left" valign="top" width="20%" headers="d100789e309 d100789e285 ">Copy phase</td>
                              <td align="left" valign="top" width="20%" headers="d100789e309 d100789e287 ">
                                 <p>A channel copies blocks from input buffers to output buffers and performs additional processing on the blocks.</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d100789e309 d100789e289 ">
                                 <p><span class="q">"<a href="tuning-rman-performance.html#GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846" title="In the copy phase, a channel copies blocks from the input buffers to the output buffers and performs additional processing.">Copy Phase</a>"</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d100789e325" headers="d100789e283 ">3</td>
                              <td align="left" valign="top" width="20%" headers="d100789e325 d100789e285 ">Write phase</td>
                              <td align="left" valign="top" width="20%" headers="d100789e325 d100789e287 ">
                                 <p>A channel writes the blocks from output buffers to storage media. The write phase can take either of the following mutually exclusive forms, depending on the type of backup media: write phase for System Backup Tape (SBT) or write phase for disk.</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d100789e325 d100789e289 ">
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="q">"<a href="tuning-rman-performance.html#GUID-BA0D4E35-7835-4F28-9504-C5EB32207206" title="When backing up to SBT, RMAN gives the media management software a stream of bytes and associates a unique name with this stream. All details of how and where that stream is stored are handled entirely by the media manager. Thus, a backup to tape involves the interaction of both RMAN and the media manager.">Write Phase for System Backup Tape (SBT)</a>"</span></p>
                                    </li>
                                    <li>
                                       <p><span class="q">"<a href="tuning-rman-performance.html#GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B" title="The principal factor affecting the write phase for disk is the buffer size.">Write Phase for Disk</a>"</span></p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="tuning-rman-performance.html#GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABDJHBJ">Figure 23-1</a> depicts two channels backing up data stored on three disks. Each channel reads the data into the input buffers, processes the data while copying it from the input to the output buffers, and then writes the data from the output buffers to disk.
                  </p>
                  <div class="figure" id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABDJHBJ">
                     <p class="titleinfigure">Figure 23-1 Phases of a Multichannel Backup to Disk</p><img src="img/bradv042.gif" alt="Description of Figure 23-1 follows" title="Description of Figure 23-1 follows" longdesc="img_text/bradv042.html"><br><a href="img_text/bradv042.html">Description of "Figure 23-1 Phases of a Multichannel Backup to Disk"</a></div>
                  <!-- class="figure" -->
                  <p><a href="tuning-rman-performance.html#GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABEDGBI">Figure 23-2</a> also depicts two channels backing up data stored on three disks, but one disk is mounted remotely over the network. Each channel reads the data into the input buffers, processes the data while copying it from the input buffers to the output buffers, and then writes the data from the output buffers to tape. Channel 1 writes the data to a locally attached tape drive, whereas channel 2 sends the data over the network to a remote media server.
                  </p>
                  <div class="figure" id="GUID-55347A64-8DA3-415E-99C7-9F7FB30001A3__BABEDGBI">
                     <p class="titleinfigure">Figure 23-2 Phases of a Multichannel Backup to Tape</p><img src="img/bradv041.gif" alt="Description of Figure 23-2 follows" title="Description of Figure 23-2 follows" longdesc="img_text/bradv041.html"><br><a href="img_text/bradv041.html">Description of "Figure 23-2 Phases of a Multichannel Backup to Tape"</a></div>
                  <!-- class="figure" -->
                  <p>When restoring data, a channel performs these steps in reverse order and reverses the reading and writing operations. The following sections explain RMAN tuning concepts in terms of a backup.</p>
                  <p>The number of channels available for use with a device determines whether RMAN can read from and write to this device in parallel. It is recommended that the number of channels be equal to the number of storage devices used. Therefore, when RMAN uses disk, the number of channels must be equal to the number of physical disks accessed. When RMAN uses tape, the number of channels must be equal to the number of tape drives accessed by RMAN.</p>
               </div><a id="BRADV90067"></a><div class="props_rev_3"><a id="GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7" name="GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7"></a><h4 id="BRADV-GUID-1016F1F4-21D0-47B8-871A-FB582838D8A7" class="sect4"><span class="enumeration_section">23.2.1 </span>Read Phase
                  </h4>
                  <div>
                     <p>Multiple factors can affect the performance when an RMAN channel is reading data from disk.</p>
                     <p>This following topics in this section explains these factors:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B" title="During a backup, an RMAN channel reads the blocks from the input files into I/O disk buffers. The database files on the disk subsystem can be managed by either Automatic Storage Management (ASM) or an alternative volume manager or file system. The considerations for backup tuning change depending on whether you manage database files with ASM.">Allocation of Input Disk Buffers</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" title="When a channel reads from or writes to disk, the I/O is either synchronous I/O or asynchronous I/O.">Synchronous and Asynchronous Disk I/O</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0" title="On operating systems that do not support native asynchronous I/O, the database can simulate it with special I/O slave processes. These processes are dedicated to performing I/O on behalf of another process.">Disk I/O Slaves</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" title="You can use the RATE parameter to set an upper limit for bytes read so that RMAN does not consume excessive disk bandwidth and degrade online performance. Essentially, RATE serves as a backup throttle.">RATE Channel Parameter</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV395"></a><a id="BRADV396"></a><a id="BRADV89845"></a><div class="props_rev_3"><a id="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B" name="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B"></a><h5 id="BRADV-GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B" class="sect5"><span class="enumeration_section">23.2.1.1 </span>Allocation of Input Disk Buffers
                     </h5>
                     <div>
                        <p>During a backup, an RMAN channel reads the blocks from the input files into I/O disk buffers. The database files on the disk subsystem can be managed by either Automatic Storage Management (ASM) or an alternative volume manager or file system. The considerations for backup tuning change depending on whether you manage database files with ASM.</p>
                        <p>The allocation of the input buffers depends on how the files are multiplexed. Backup <a href="glossary.html#GUID-635043F8-78E2-4B43-A3C4-E27AFEAF363C"><span class="xrefglossterm">multiplexing</span></a> is RMAN's ability to read several files in a backup simultaneously from different sources and then write them to a single backup piece. The <a href="glossary.html#GUID-648D7B2D-7AB2-40C0-AFFD-0A6FE569F3D7"><span class="xrefglossterm">level of multiplexing</span></a>, which is the number of input files simultaneously read and then written into the same <a href="glossary.html#GUID-AED62318-D45A-49FA-B4B4-DAD98647FCF6"><span class="xrefglossterm">backup piece</span></a>, is determined by the algorithm described in <span class="q">"<a href="rman-backup-concepts.html#GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97" title="When creating backup sets, RMAN can simultaneously read multiple files from disk and then write their blocks into the same backup set. For example, RMAN can read from two data files simultaneously, and then combine the blocks from these data files into a single backup piece. The combination of blocks from multiple files is called backup multiplexing.">About Multiplexed RMAN Backup Sets</a>"</span>. Review this section before proceeding.
                        </p>
                        <p>When an RMAN channel backs up files from disk, it uses the rules described in <a href="tuning-rman-performance.html#GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__CACCAJJB" title="This table describes buffer sizes RMAN uses depending upon the level of multiplexing.">Table 23-2</a> to determine how large to make the input disk buffers.
                        </p>
                        <div class="tblformal" id="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__CACCAJJB">
                           <p class="titleintable">Table 23-2 Data File Read Buffer Sizing Algorithm</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Data File Read Buffer Sizing Algorithm" summary="This table describes buffer sizes RMAN uses depending upon the level of multiplexing." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d100789e596">Level of Multiplexing</th>
                                    <th align="left" valign="bottom" width="67%" id="d100789e599">Input Disk Buffer Size</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d100789e604" headers="d100789e596 ">
                                       <p>Less than or equal to 4</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d100789e604 d100789e599 ">
                                       <p>The RMAN channel allocates 16 buffers of size 1 megabyte (MB) so that the total buffer size for all the input files is 16 MB.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d100789e611" headers="d100789e596 ">
                                       <p>Greater than 4 but less than or equal to 8</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d100789e611 d100789e599 ">
                                       <p>The RMAN channel allocates a variable number of disk buffers of size 512 kilobytes (KB) so that the total buffer size for all the input files is less than 16 MB.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d100789e618" headers="d100789e596 ">
                                       <p>Greater than 8</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d100789e618 d100789e599 ">
                                       <p>The RMAN channel allocates 4 disk buffers of 128 KB for each file, so that the total buffer size for each input file is 512 KB.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>In the example shown in <a href="tuning-rman-performance.html#GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__BABICCGE">Figure 23-3</a>, one channel is backing up four data files. <code class="codeph">MAXOPENFILES</code> is set to 4 and <code class="codeph">FILESPERSET</code> is set to 4. Thus, the level of multiplexing is 4. So, the total size of the buffers for each data file is 4 MB. The combined size of all the buffers is 16 MB.
                        </p>
                        <div class="figure" id="GUID-59FBFBBE-78F0-4035-8FAC-818DB539576B__BABICCGE">
                           <p class="titleinfigure">Figure 23-3 Disk Buffer Allocation</p><img src="img/bradv011.gif" alt="Description of Figure 23-3 follows" title="Description of Figure 23-3 follows" longdesc="img_text/bradv011.html"><br><a href="img_text/bradv011.html">Description of "Figure 23-3 Disk Buffer Allocation"</a></div>
                        <!-- class="figure" -->
                        <p>If a channel is backing up files stored in ASM, then the number of input disk buffers equals the number of physical disks in the ASM disk group only if the level of multiplexing is 1. For example, if a data file is stored in an ASM disk group that contains 16 physical disks, then the channel allocates 16 input buffers for the data file backup.</p>
                        <p>If a channel is restoring a backup from disk, then 4 buffers are allocated. The size of the buffers is dependent on the operating system.</p>
                     </div>
                  </div><a id="BRADV90068"></a><div class="props_rev_3"><a id="GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" name="GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B"></a><h5 id="BRADV-GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" class="sect5"><span class="enumeration_section">23.2.1.2 </span>Synchronous and Asynchronous Disk I/O
                     </h5>
                     <div>
                        <p>When a channel reads from or writes to disk, the I/O is either synchronous I/O or asynchronous I/O. </p>
                        <p>When the disk I/O is synchronous, a server process can perform only one task at a time. When the disk I/O is asynchronous, a server process can begin an I/O operation and then perform other work while waiting for the I/O to complete. RMAN can also begin multiple I/O operations before waiting for the first to complete.</p>
                        <p>When reading from an ASM <a href="glossary.html#GUID-FB619E7B-0181-4834-8F73-ED14C94837CC"><span class="xrefglossterm">disk group</span></a>, use asynchronous disk I/O if possible. Also, if a channel reads from a <a href="glossary.html#GUID-D6545038-B176-4D0E-9B4B-E4187A063984"><span class="xrefglossterm">raw device</span></a> managed with a volume manager, then asynchronous disk I/O also works well. Some operating systems support native asynchronous disk I/O. The database takes advantage of this feature if it is available.
                        </p>
                     </div>
                  </div><a id="BRADV90069"></a><div class="props_rev_3"><a id="GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0" name="GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0"></a><h5 id="BRADV-GUID-BA1D0CA9-AE7F-4A9A-88B6-2449B94DBEF0" class="sect5"><span class="enumeration_section">23.2.1.3 </span>Disk I/O Slaves
                     </h5>
                     <div>
                        <p>On operating systems that do not support native asynchronous I/O, the database can simulate it with special I/O slave processes. These processes are dedicated to performing I/O on behalf of another process. </p>
                        <p>You can control disk I/O slaves by setting the <code class="codeph">DBWR_IO_SLAVES</code> initialization parameter, which is not dynamic. The parameter specifies the number of I/O server processes used by the database writer process (DBWR). By default, the value is 0 and I/O server processes are not used. If asynchronous I/O is disabled, then RMAN allocates four backup disk I/O slaves for any nonzero value of <code class="codeph">DBWR_IO_SLAVES</code>.
                        </p>
                        <p>When attempting to get shared buffers for I/O slaves, the database does the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the <code class="codeph">LARGE_POOL_SIZE</code> initialization parameter is set, and if the <code class="codeph">DBWR_IO_SLAVES</code> parameter is set to a nonzero value, then the database attempts to get memory from the large pool. If this value is not large enough, then an error is recorded in the alert log, the database does not try to get buffers from the shared pool, and asynchronous I/O is not used.
                              </p>
                           </li>
                           <li>
                              <p>If the <code class="codeph">LARGE_POOL_SIZE</code> initialization parameter is not set or is set to zero, then the database attempts to get memory from the shared pool.
                              </p>
                           </li>
                           <li>
                              <p>If the database cannot get enough memory, then it obtains I/O buffer memory from the Program Global Area (PGA) and writes a message to the <code class="codeph">alert</code>.<code class="codeph">log</code> file indicating that synchronous I/O is used for this backup.
                              </p>
                           </li>
                        </ul>
                        <p>The memory from the large pool is used for many features, including the shared server, parallel query, and RMAN I/O slave buffers. Configuring the large pool prevents RMAN from competing with other subsystems for the same memory.</p>
                        <p>Requests for contiguous memory allocations from the shared pool are usually small (under 5 KB). However, a request for a large contiguous memory allocation can either fail or require significant memory housekeeping to release the required amount of contiguous memory. Although the shared pool may be unable to satisfy this memory request, the large pool can do so. The large pool does not have a least recently used (LRU) list; the database does not attempt to age memory out of the large pool.</p>
                     </div>
                  </div><a id="BRADV90070"></a><div class="props_rev_3"><a id="GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" name="GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613"></a><h5 id="BRADV-GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" class="sect5"><span class="enumeration_section">23.2.1.4 </span>RATE Channel Parameter
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">RATE</code> parameter to set an upper limit for bytes read so that RMAN does not consume excessive disk bandwidth and degrade online performance. Essentially, <code class="codeph">RATE</code> serves as a backup throttle. 
                        </p>
                        <p>In the <code class="codeph">ALLOCATE</code> and <code class="codeph">CONFIGURE CHANNEL</code> commands, the <code class="codeph">RATE</code> parameter specifies the bytes per second that are read on a channel. For example, if you set <code class="codeph">RATE 1500K</code>, and if each disk drive delivers 3 megabytes per second, then the channel leaves some disk bandwidth available to the online system.
                        </p>
                     </div>
                  </div>
               </div><a id="BRADV90071"></a><div class="props_rev_3"><a id="GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846" name="GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846"></a><h4 id="BRADV-GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846" class="sect4"><span class="enumeration_section">23.2.2 </span>Copy Phase
                  </h4>
                  <div>
                     <p>In the copy phase, a channel copies blocks from the input buffers to the output buffers and performs additional processing.</p>
                     <p>For example, if a channel reads data from disk and backs up to tape, then the channel copies the data from the disk buffers to the output tape buffers.</p>
                     <p>The copy phase involves the following types of processing:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Validation</p>
                        </li>
                        <li>
                           <p>Compression</p>
                        </li>
                        <li>
                           <p>Encryption</p>
                        </li>
                     </ul>
                     <p>When performing <a href="glossary.html#GUID-A7DFFD0D-F709-43CD-BD1A-E5F08D88DB77"><span class="xrefglossterm">validation</span></a> of the blocks, RMAN checks them for corruption. Typically, this processing is not CPU-intensive.
                     </p>
                     <p>When performing <a href="glossary.html#GUID-90E07DCF-D038-4770-8A1A-06AF137C3762"><span class="xrefglossterm">binary compression</span></a>, RMAN applies a compression algorithm to the data in backup sets. Binary compression can be CPU-intensive. You can choose which compression algorithm RMAN uses for backups. The basic compression level for RMAN has a good compression ratio for most scenarios. If you enabled the Oracle Advanced Compression option, there are several different levels to choose from that provide tradeoffs between compression ratios and required CPU resources.
                     </p>
                     <p>When performing <a href="glossary.html#GUID-65A13E9F-7391-4A6A-8379-B2EA64D0EA9E"><span class="xrefglossterm">backup encryption</span></a>, RMAN encrypts backup sets by using an algorithm listed in <code class="codeph">V$RMAN_ENCRYPTION_ALGORITHMS</code>. RMAN offers three modes of encryption: transparent, password-protected, and dual-mode. Backup encryption can be CPU-intensive.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4061DDD7-DB0F-46E8-A6B2-C3D10E288846__GUID-259FC8AE-A039-4618-914B-E17AEF44F6BE">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="validating-database-files-backups.html#GUID-CC967929-9610-410D-B881-66E71353D84C" title="Validation enables you to check the integrity of your backups.The main purpose of RMAN validation is to check for corrupt blocks and missing files. You can also use RMAN to determine whether backups can be restored.The database prevents operations that result in unusable backup files or corrupted restored data files. A corrupt block is a block that has been changed so that it differs from what Oracle Database expects to find.In a physical corruption, which is also called a media corruption, the database does not recognize the block at all: the checksum is invalid, the block contains all zeros, or the header and footer of the block do not match. You can use the SET MAXCORRUPT command to set the total number of unmarked corruptions permitted in a file for RMAN backups. The default is zero, meaning that RMAN does not tolerate unmarked corrupt blocks of any kind.Oracle Database supports different techniques for detecting, repairing, and monitoring block corruption.You can use the VALIDATE command to manually check for physical and logical corruptions in database files. You can also use the BACKUP VALIDATE command to perform validation.You can run RESTORE...VALIDATE to test whether RMAN can restore a specific file or set of files from a backup. RMAN chooses which backups to use.RMAN enables you to validate multitenant container databases (CDBs) and pluggable databases (PDBs) using the VALIDATE command. The steps to validate a CDB are similar to the ones used to validate a non-CDB. There are multiple methods to validate PDBs.">Validating Database Files and Backups</a></p>
                           </li>
                           <li>
                              <p><a href="backing-up-database.html#GUID-E0D30989-9477-45DD-8FE1-367BDD0A7A8E" title="When creating backup sets, you can use RMAN support for binary compression of backup sets by including the AS COMPRESSED BACKUPSET option to the BACKUP command.">Making Compressed Backups</a></p>
                           </li>
                           <li>
                              <p><a href="backing-up-database-advanced.html#GUID-ECBE4965-57F7-49F0-BECD-734196F417F5" title="You can protect RMAN backup sets with backup encryption. Encrypted backups cannot be read if they are obtained by unauthorized users.">Encrypting RMAN Backups</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV90072"></a><div class="props_rev_3"><a id="GUID-BA0D4E35-7835-4F28-9504-C5EB32207206" name="GUID-BA0D4E35-7835-4F28-9504-C5EB32207206"></a><h4 id="BRADV-GUID-BA0D4E35-7835-4F28-9504-C5EB32207206" class="sect4"><span class="enumeration_section">23.2.3 </span>Write Phase for System Backup Tape (SBT)
                  </h4>
                  <div>
                     <p>When backing up to SBT, RMAN gives the media management software a stream of bytes and associates a unique name with this stream. All details of how and where that stream is stored are handled entirely by the media manager. Thus, a backup to tape involves the interaction of both RMAN and the media manager.</p>
                     <p></p>
                     <p>Factors that affect the write phase for SBT are described in the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9" title="The RMAN-specific factors affecting the SBT write phase are analogous to the factors affecting disk reads. In both cases, the buffer allocation, slave processes, and synchronous or asynchronous I/O affect performance.">RMAN Component of the Write Phase for SBT</a></p>
                        </li>
                        <li>
                           <p><a href="tuning-rman-performance.html#GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F" title="Multiple factors affect the speed of the backup to tape.">Media Manager Component of the Write Phase for SBT</a></p>
                        </li>
                     </ul>
                  </div><a id="BRADV90073"></a><div class="props_rev_3"><a id="GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9" name="GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9"></a><h5 id="BRADV-GUID-A0CF4DE6-07C1-4828-9889-EDA1E30E1BE9" class="sect5"><span class="enumeration_section">23.2.3.1 </span>RMAN Component of the Write Phase for SBT
                     </h5>
                     <p>The RMAN-specific factors affecting the SBT write phase are analogous to the factors affecting disk reads. In both cases, the buffer allocation, slave processes, and synchronous or asynchronous I/O affect performance. </p><a id="BRADV397"></a><a id="BRADV89846"></a><div class="props_rev_3"><a id="GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826" name="GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826"></a><h6 id="BRADV-GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826" class="sect6"><span class="enumeration_section">23.2.3.1.1 </span>Allocation of Tape Buffers
                        </h6>
                        <div>
                           <p>If you back up to or restore from an <a href="glossary.html#GUID-2E48CE71-9547-4196-B715-5CE59033262E"><span class="xrefglossterm">SBT</span></a> device, then by default the database allocates four buffers for each channel for the tape writers (or reads if restoring data as shown in <a href="tuning-rman-performance.html#GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826__CACEAIIF">Figure 23-4</a>). The size of the tape I/O buffers is platform-dependent. You can change this value with the <code class="codeph">PARMS</code> and <code class="codeph">BLKSIZE</code> parameters of the <code class="codeph">ALLOCATE CHANNEL</code> or <code class="codeph">CONFIGURE CHANNEL</code> command.
                           </p>
                           <div class="figure" id="GUID-14963AC8-18DB-44F1-99C8-F07D85D7D826__CACEAIIF">
                              <p class="titleinfigure">Figure 23-4 Allocation of Tape Buffers</p><img src="img/bradv013.gif" alt="Description of Figure 23-4 follows" title="Description of Figure 23-4 follows" longdesc="img_text/bradv013.html"><br><a href="img_text/bradv013.html">Description of "Figure 23-4 Allocation of Tape Buffers"</a></div>
                           <!-- class="figure" -->
                        </div>
                     </div><a id="BRADV90074"></a><div class="props_rev_3"><a id="GUID-4AFD6357-3E96-4449-A2F0-AA4BF49A11A8" name="GUID-4AFD6357-3E96-4449-A2F0-AA4BF49A11A8"></a><h6 id="BRADV-GUID-4AFD6357-3E96-4449-A2F0-AA4BF49A11A8" class="sect6"><span class="enumeration_section">23.2.3.1.2 </span>Tape I/O Slaves
                        </h6>
                        <div>
                           <p>RMAN allocates the tape buffers in the System Global Area (SGA) or the Program Global Area (PGA), depending on whether I/O slaves are used. If you set the initialization parameter <code class="codeph">BACKUP_TAPE_IO_SLAVES=true</code>, then RMAN allocates tape buffers from the SGA. Tape devices can only be accessed by one process at a time, so RMAN starts as many slaves as necessary for the number of tape devices. If the <code class="codeph">LARGE_POOL_SIZE</code> initialization parameter is also set, then RMAN allocates buffers from the large pool. If you set <code class="codeph">BACKUP_TAPE_IO_SLAVES=false</code>, then RMAN allocates the buffers from the PGA.
                           </p>
                           <p>If you use I/O slaves, then set the <code class="codeph">LARGE_POOL_SIZE</code> initialization parameter to dedicate SGA memory to holding these large memory allocations. This parameter prevents RMAN I/O buffers from competing with the library cache for SGA memory. If I/O slaves for tape I/O were requested but there is not enough space in the SGA for them, slaves are not used, and a message appears in the alert log.
                           </p>
                           <p>The parameter <code class="codeph">BACKUP_TAPE_IO_SLAVES</code> specifies whether RMAN uses slave processes rather than the number of slave processes. Tape devices can only be accessed by one process at a time, and RMAN uses the number of slaves necessary for the number of tape devices.
                           </p>
                        </div>
                     </div><a id="BRADV398"></a><a id="BRADV399"></a><a id="BRADV89847"></a><div class="props_rev_3"><a id="GUID-34FEA214-7C3D-447B-B441-A05C11814015" name="GUID-34FEA214-7C3D-447B-B441-A05C11814015"></a><h6 id="BRADV-GUID-34FEA214-7C3D-447B-B441-A05C11814015" class="sect6"><span class="enumeration_section">23.2.3.1.3 </span>Synchronous and Asynchronous I/O
                        </h6>
                        <div>
                           <p>When an SBT channel reads or writes data to tape, the I/O is always synchronous. For tape I/O, each channel allocated (whether manually or automatically) corresponds to a server process, called here a channel process.</p>
                           <p><a href="tuning-rman-performance.html#GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABEBGFD">Figure 23-5</a> shows synchronous I/O in a backup to tape. 
                           </p>
                           <div class="figure" id="GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABEBGFD">
                              <p class="titleinfigure">Figure 23-5 Synchronous Tape I/O</p><img src="img/bradv015.png" alt="Description of Figure 23-5 follows" title="Description of Figure 23-5 follows" longdesc="img_text/bradv015.html"><br><a href="img_text/bradv015.html">Description of "Figure 23-5 Synchronous Tape I/O"</a></div>
                           <!-- class="figure" -->
                           <p>The following steps occur:</p>
                           <ol>
                              <li>
                                 <p>The channel process composes a tape buffer.</p>
                              </li>
                              <li>
                                 <p>The channel process executes media manager code that processes the tape buffer and internalizes it for further processing and storage by the media manager.</p>
                              </li>
                              <li>
                                 <p>The media manager code returns a message to the server process stating that it has completed writing.</p>
                              </li>
                              <li>
                                 <p>The channel process can initiate a new task.</p>
                              </li>
                           </ol>
                           <p><a href="tuning-rman-performance.html#GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABCJEEI">Figure 23-6</a> shows asynchronous I/O in a tape backup. Asynchronous I/O to tape is simulated by using tape slaves. In this case, each allocated channel corresponds to a server process, which in the explanation that follows is identified as a channel process. For each channel process, one tape slave is started (or more than one, if multiple copies exist).
                           </p>
                           <div class="figure" id="GUID-34FEA214-7C3D-447B-B441-A05C11814015__BABCJEEI">
                              <p class="titleinfigure">Figure 23-6 Asynchronous Tape I/O</p><img src="img/bradv012.png" alt="Description of Figure 23-6 follows" title="Description of Figure 23-6 follows" longdesc="img_text/bradv012.html"><br><a href="img_text/bradv012.html">Description of "Figure 23-6 Asynchronous Tape I/O"</a></div>
                           <!-- class="figure" -->
                           <p>The following steps occur:</p>
                           <ol>
                              <li>
                                 <p>A channel process writes blocks to a tape buffer.</p>
                              </li>
                              <li>
                                 <p>The channel process sends a message to the tape slave process to process the tape buffer. The tape slave process executes media manager code that processes the tape buffer and internalizes it so that the media manager can process it. </p>
                              </li>
                              <li>
                                 <p>While the tape slave process is writing, the channel process is free to read data from the data files and prepare more output buffers. </p>
                              </li>
                              <li>
                                 <p>After the tape slave channel returns from the media manager code, it requests a new tape buffer, which usually is ready. Thus waiting time for the channel process is reduced, and the backup is completed faster.</p>
                              </li>
                           </ol>
                        </div>
                     </div>
                  </div><a id="BRADV99979"></a><div class="props_rev_3"><a id="GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F" name="GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F"></a><h5 id="BRADV-GUID-AD7E0880-DEDB-4339-80E6-125F40591F8F" class="sect5"><span class="enumeration_section">23.2.3.2 </span>Media Manager Component of the Write Phase for SBT
                     </h5>
                     <div>
                        <p>Multiple factors affect the speed of the backup to tape.</p>
                        <p>They include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3" title="If the tape device is remote, then the media manager must transfer data over the network.">Network Throughput</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9" title="The tape native transfer rate is the speed of writing to a tape without compression. This speed represents the upper limit of the backup rate.">Native Transfer Rate</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-93005BE3-2812-42B2-9475-07013BADF2A7" title="The level of tape compression is very important for backup performance. If the tape has good compression, then the sustained backup rate is faster.">Tape Compression</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1" title="Tape streaming during write operations has a major effect on tape backup performance.">Tape Streaming</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32" title="The physical tape block size can affect backup performance.">Physical Tape Block Size</a></p>
                           </li>
                        </ul>
                     </div><a id="BRADV99980"></a><div class="props_rev_3"><a id="GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3" name="GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3"></a><h6 id="BRADV-GUID-7F87C520-E4DC-4D2E-9BD5-520715D43FD3" class="sect6"><span class="enumeration_section">23.2.3.2.1 </span>Network Throughput
                        </h6>
                        <div>
                           <p>If the tape device is remote, then the media manager must transfer data over the network. </p>
                           <p>For example, an administrative domain in Oracle Secure Backup can contain multiple networked client hosts, media servers, and tape devices. If the database is on one host, but the output tape drive is attached to a different host, then Oracle Secure Backup manages the data transfer over the network. The network throughput is the upper limit for backup performance.</p>
                        </div>
                     </div><a id="BRADV89850"></a><div class="props_rev_3"><a id="GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9" name="GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9"></a><h6 id="BRADV-GUID-B8428B92-0FD1-4027-9935-D8B8C3A5D9E9" class="sect6"><span class="enumeration_section">23.2.3.2.2 </span>Native Transfer Rate
                        </h6>
                        <div>
                           <p>The tape native transfer rate is the speed of writing to a tape without compression. This speed represents the upper limit of the backup rate. </p>
                           <p>The upper limit of your backup performance should be the aggregate transfer rate of all of your tape drives. If your backup is performing at that rate, and if it is not using an excessive amount of CPU, then RMAN performance tuning does not help.</p>
                        </div>
                     </div><a id="BRADV89851"></a><div class="props_rev_3"><a id="GUID-93005BE3-2812-42B2-9475-07013BADF2A7" name="GUID-93005BE3-2812-42B2-9475-07013BADF2A7"></a><h6 id="BRADV-GUID-93005BE3-2812-42B2-9475-07013BADF2A7" class="sect6"><span class="enumeration_section">23.2.3.2.3 </span>Tape Compression
                        </h6>
                        <div>
                           <p>The level of tape compression is very important for backup performance. If the tape has good compression, then the sustained backup rate is faster. </p>
                           <p>For example, if the compression ratio is 2:1 and native transfer rate of the tape drive is 6 megabytes per second, then the resulting backup speed is 12 megabytes per second. In this case, RMAN must be able to read disks with a throughput of more than 12 megabytes per second or the disk becomes the bottleneck for the backup.</p>
                           <div class="infoboxnote" id="GUID-93005BE3-2812-42B2-9475-07013BADF2A7__GUID-B38EF514-4F37-40C6-9FAE-6EF52887C635">
                              <p class="notep1">Note:</p>
                              <p>Do not use both tape compression provided by the media manager and binary compression provided by RMAN. If the media manager compression is efficient, then it is usually the better choice. Using RMAN-compressed backup sets can be an effective alternative to reduce bandwidth used to move uncompressed backup sets over a network to the media manager, if the CPU overhead required to compress the data in RMAN is acceptable.</p>
                           </div>
                        </div>
                     </div><a id="BRADV89852"></a><div class="props_rev_3"><a id="GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1" name="GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1"></a><h6 id="BRADV-GUID-14C2A81B-F28F-4F32-A6F6-D91F510E08F1" class="sect6"><span class="enumeration_section">23.2.3.2.4 </span>Tape Streaming
                        </h6>
                        <div>
                           <p>Tape streaming during write operations has a major effect on tape backup performance. </p>
                           <p>Many tape drives are fixed-speed, streaming tape drives. Because such drives can write data at only one speed, when they run out of data to write to tape, the tape must slow and stop. Typically, when the drive's buffer empties, the tape is moving so quickly that it actually overshoots; to continue writing, the drive must rewind the tape to locate the point where it stopped writing. Multiple speed tape drives are available that alleviate this problem.</p>
                        </div>
                     </div><a id="BRADV89853"></a><div class="props_rev_3"><a id="GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32" name="GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32"></a><h6 id="BRADV-GUID-F92F1101-04CD-478D-B766-6C01EE4AFB32" class="sect6"><span class="enumeration_section">23.2.3.2.5 </span>Physical Tape Block Size
                        </h6>
                        <div>
                           <p>The physical tape block size can affect backup performance. </p>
                           <p>The block size is the amount of data written by media management software to a tape in one write operation. In general, the larger the tape block size, the faster the backup. The physical tape block size is not controlled by RMAN or Oracle database, but by media management software. See your media management software's documentation for details.</p>
                        </div>
                     </div>
                  </div>
               </div><a id="BRADV90075"></a><div class="props_rev_3"><a id="GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B" name="GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B"></a><h4 id="BRADV-GUID-56356B98-2E0F-4D03-9998-F1E8348D9F2B" class="sect4"><span class="enumeration_section">23.2.4 </span>Write Phase for Disk
                  </h4>
                  <div>
                     <p>The principal factor affecting the write phase for disk is the buffer size. </p>
                     <p>When the output of the backup resides on disk, each channel allocates four output buffers of 1 MB each. The disk channel writes the blocks to the disk subsystem. When restoring files, the read phase is similar to the write phase when backing up files, except the blocks move in the opposite direction.</p>
                     <p>If RMAN reads from a disk asynchronously, then it writes to the disk asynchronously. When writing to disk, you can make use of disk I/O slaves just as when reading from disk.</p>
                     <p>If RMAN is backing up files to a disk-based output destination striped over multiple disks, then you can allocate multiple channels. The number of channels is limited only to the number of disks over which the destination is striped. ASM is one example of a destination striped over multiple disks.</p>
                  </div>
               </div>
            </div><a id="BRADV90076"></a><div class="props_rev_3"><a id="GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243" name="GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243"></a><h3 id="BRADV-GUID-9F7B89D0-969A-47EE-B29B-28C8F5AC3243" class="sect3"><span class="enumeration_section">23.3 </span>Using V$ Views to Diagnose RMAN Performance Problems
               </h3>
               <div>
                  <p>Typically, you begin the tuning process by using <code class="codeph">V$</code> views to determine where RMAN backup and restore operations are encountering problems.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="tuning-rman-performance.html#GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159" title="You can monitor the progress of backups and restore jobs by querying the view V$SESSION_LONGOPS. RMAN uses two types of rows in V$SESSION_LONGOPS: detail rows and aggregate rows.">Monitoring RMAN Job Progress with V$SESSION_LONGOPS</a></p>
                     </li>
                     <li>
                        <p><a href="tuning-rman-performance.html#GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E" title="You can use the V$BACKUP_SYNC_IO and V$BACKUP_ASYNC_IO views to determine the source of backup or restore bottlenecks and to see detailed progress of backup jobs.">Identifying Bottlenecks with V$BACKUP_SYNC_IO and V$BACKUP_ASYNC_IO</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV400"></a><a id="BRADV401"></a><a id="BRADV99981"></a><div class="props_rev_3"><a id="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159" name="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159"></a><h4 id="BRADV-GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159" class="sect4"><span class="enumeration_section">23.3.1 </span>Monitoring RMAN Job Progress with V$SESSION_LONGOPS
                  </h4>
                  <div>
                     <p>You can monitor the progress of backups and restore jobs by querying the view <code class="codeph">V$SESSION_LONGOPS</code>. RMAN uses two types of rows in <code class="codeph">V$SESSION_LONGOPS</code>: detail rows and aggregate rows.
                     </p>
                     <div class="section">
                        <p>Detail rows describe the files being processed by one job step, whereas aggregate rows describe the files processed by all job steps in an RMAN command. A job step is the creation or restoration of one backup set or data file copy. Detail rows are updated with every buffer that is read or written during the backup step, so their granularity of update is small. Aggregate rows are updated when each job step completes, so their granularity of update is large.</p>
                        <p><a href="tuning-rman-performance.html#GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159__G1013679" title="This table is described in the preceding paragraph.">Table 23-3</a> describes the columns in <code class="codeph">V$SESSION_LONGOPS</code> that are most relevant for RMAN. Typically, you view the detail rows rather than the aggregate rows to determine the progress of each backup set.
                        </p>
                        <div class="tblformal" id="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159__G1013679">
                           <p class="titleintable">Table 23-3 Columns of V$SESSION_LONGOPS Relevant for RMAN</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Columns of V$SESSION_LONGOPS Relevant for RMAN" summary="This table is described in the preceding paragraph." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d100789e2359">Column</th>
                                    <th align="left" valign="bottom" width="80%" id="d100789e2362">Description for Detail Rows</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2367" headers="d100789e2359 ">
                                       <p><code class="codeph">SID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2367 d100789e2362 ">
                                       <p>The server session ID corresponding to an RMAN channel</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2375" headers="d100789e2359 ">
                                       <p><code class="codeph">SERIAL#</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2375 d100789e2362 ">
                                       <p>The server session serial number. This value changes each time a server session is reused.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2383" headers="d100789e2359 ">
                                       <p><code class="codeph">OPNAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2383 d100789e2362 ">
                                       <p>A text description of the row. Examples of details rows include <code class="codeph">RMAN:</code> <code class="codeph">datafile</code> <code class="codeph">copy</code>, <code class="codeph">RMAN:</code> <code class="codeph">full</code> <code class="codeph">datafile</code> <code class="codeph">backup</code>, and <code class="codeph">RMAN:</code> <code class="codeph">full</code> <code class="codeph">datafile</code> <code class="codeph">restore</code>.
                                       </p>
                                       <p><span class="bold">Note:</span> <code class="codeph">RMAN:</code> <code class="codeph">aggregate</code> <code class="codeph">input</code> and <code class="codeph">RMAN:</code> <code class="codeph">aggregate</code> <code class="codeph">output</code> are the only aggregate rows. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2448" headers="d100789e2359 ">
                                       <p><code class="codeph">CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2448 d100789e2362 ">
                                       <p>For backup output rows, this value is <code class="codeph">2</code>. For all other rows except proxy copy (which does not update this column), the value is <code class="codeph">1</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2462" headers="d100789e2359 ">
                                       <p><code class="codeph">SOFAR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2462 d100789e2362 ">
                                       <p>The meaning of this column depends on the type of operation described by this row:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>For image copies, the number of blocks that have been read </p>
                                          </li>
                                          <li>
                                             <p>For backup input rows, the number of blocks that have been read from the files being backed up </p>
                                          </li>
                                          <li>
                                             <p>For backup output rows, the number of blocks that have been written to the backup piece</p>
                                          </li>
                                          <li>
                                             <p>For restores, the number of blocks that have been processed to the files that are being restored in this one job step </p>
                                          </li>
                                          <li>
                                             <p>For proxy copies, the number of files that have been copied</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d100789e2486" headers="d100789e2359 ">
                                       <p><code class="codeph">TOTALWORK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d100789e2486 d100789e2362 ">
                                       <p>The meaning of this column depends on the type of operation described by this row:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>For image copies, the total number of blocks in the file. </p>
                                          </li>
                                          <li>
                                             <p>For backup input rows, the total number of blocks to be read from all files processed in this job step. </p>
                                          </li>
                                          <li>
                                             <p>For backup output rows, the value is <code class="codeph">0</code> because RMAN does not know how many blocks that it will write into any backup piece. 
                                             </p>
                                          </li>
                                          <li>
                                             <p>For restores, the total number of blocks in all files restored in this job step. </p>
                                          </li>
                                          <li>
                                             <p>For proxy copies, the total number of files to be copied in this job step.</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Each server session performing a backup or restore job reports its progress compared to the total work required for a job step. For example, if you restore the database with two channels, and each channel has two backup sets to restore (a total of four sets), then each server session reports its progress through a single backup set. When a set is completely restored, RMAN begins reporting progress on the next set to restore.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82E0A857-10E7-42B7-ABB4-AFD226AD7159__GUID-EA0C36DA-6F39-44CC-AD04-D7590A93229C">To monitor RMAN job progress:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Before starting the RMAN job, create a script file (called, for this example, <code class="codeph">longops</code>) containing the following SQL statement:</span><div><pre class="oac_no_warn" dir="ltr">SELECT SID, SERIAL#, CONTEXT, SOFAR, TOTALWORK,
       ROUND(SOFAR/TOTALWORK*100,2) "%_COMPLETE"
FROM   V$SESSION_LONGOPS
WHERE  OPNAME LIKE 'RMAN%'
AND    OPNAME NOT LIKE '%aggregate%'
AND    TOTALWORK != 0
AND    SOFAR &lt;&gt; TOTALWORK;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Start RMAN and connect to the target database and recovery catalog (if used).</span></li>
                        <li class="stepexpand"><span>Start an RMAN job. For example, enter:</span><div><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE DATABASE<code class="codeph">;</code>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>While the RMAN job is running, start SQL*Plus and connect to the target database, and execute the <code class="codeph">longops</code> script to check the progress of the RMAN job. If you repeat the query while the RMAN job progresses, then you see output such as the following:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @longops
       SID    SERIAL#    CONTEXT      SOFAR  TOTALWORK %_COMPLETE
---------- ---------- ---------- ---------- ---------- ----------
         8         19          1      10377      36617      28.34

SQL&gt; @longops
       SID    SERIAL#    CONTEXT      SOFAR  TOTALWORK % COMPLETE
---------- ---------- ---------- ---------- ---------- ----------
         8         19          1      21513      36617      58.75

SQL&gt; @longops
       SID    SERIAL#    CONTEXT      SOFAR  TOTALWORK % COMPLETE
---------- ---------- ---------- ---------- ---------- ----------
         8         19          1      29641      36617      80.95

SQL&gt; @longops
       SID    SERIAL#    CONTEXT      SOFAR  TOTALWORK % COMPLETE
---------- ---------- ---------- ---------- ---------- ----------
         8         19          1      35849      36617       97.9

SQL&gt; @longops
no rows selected
</pre></div>
                        </li>
                        <li class="stepexpand"><span>If you run the <code class="codeph">longops</code> script at intervals of 2 minutes or more and the <code class="codeph">%</code>_<code class="codeph">COMPLETE</code> column does not increase, then RMAN is encountering a problem. See <span class="q">"<a href="troubleshooting-rman-operations.html#GUID-6B323AE8-1E76-45E6-8434-3DCC5CE2E873" title="You can use the event names in the dynamic performance event views to monitor RMAN calls to the media management API. The event names have one-to-one correspondence with SBT functions.">Monitoring RMAN Interaction with the Media Manager</a>"</span> to obtain more information.</span></li>
                     </ol>
                     <div class="section">
                        <p>If you frequently monitor the execution of long-running tasks, then you could create a shell script or batch file under your host operating system that runs SQL*Plus to execute this query repeatedly.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV402"></a><a id="BRADV89862"></a><div class="props_rev_3"><a id="GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E" name="GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E"></a><h4 id="BRADV-GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E" class="sect4"><span class="enumeration_section">23.3.2 </span>Identifying Bottlenecks with V$BACKUP_SYNC_IO and V$BACKUP_ASYNC_IO
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">V$BACKUP_SYNC_IO</code> and <code class="codeph">V$BACKUP_ASYNC_IO</code> views to determine the source of backup or restore bottlenecks and to see detailed progress of backup jobs.
                     </p>
                     <div class="section">
                        <p><code class="codeph">V$BACKUP_SYNC_IO</code> contains rows when the I/O is synchronous to the process (or thread on some platforms) performing the backup. <code class="codeph">V$BACKUP_ASYNC_IO</code> contains rows when the I/O is asynchronous. Asynchronous I/O is obtained either with I/O processes or because it is supported by the underlying operating system.
                        </p>
                        <p>The results of a backup or restore job remain in memory until the database instance shuts down. Thus, you can query the views after the job completes.</p>
                        <p>To determine whether the tape is streaming when the I/O is synchronous:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Start SQL*Plus and connect to the target database.</span></li>
                        <li class="stepexpand"><span>Query the <code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code> column in the <code class="codeph">V$BACKUP_SYNC_IO</code> or <code class="codeph">V$BACKUP_ASYNC_IO</code> view. </span><div>
                              <p>If <code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code> is less than the raw capacity of the hardware, then the tape is not streaming. If <code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code> is greater than the raw capacity of the hardware, the tape may or may not be streaming. Compression may cause the <code class="codeph">EFFECTIVE_BYTES_PER_SECOND</code> to be greater than the speed of real I/O.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B3E0099F-8F76-4013-8993-550B3BAFF22E__GUID-0E412F03-BE1F-4793-B34D-115AB9A3F83E">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference </span></a>for more information about these views
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV403"></a><a id="BRADV89863"></a><div class="props_rev_3"><a id="GUID-5D8AAB8F-8A63-4B82-9BFB-16D22CE439FD" name="GUID-5D8AAB8F-8A63-4B82-9BFB-16D22CE439FD"></a><h5 id="BRADV-GUID-5D8AAB8F-8A63-4B82-9BFB-16D22CE439FD" class="sect5"><span class="enumeration_section">23.3.2.1 </span>Identifying Bottlenecks with Synchronous I/O
                     </h5>
                     <div>
                        <p>Query the <code class="codeph">V$BACKUP_SYNC_IO</code> view to identify bottlenecks with synchronoous I/O.
                        </p>
                        <div class="section">
                           <p>With synchronous I/O, it is difficult to identify specific bottlenecks because all synchronous I/O is a bottleneck to the process. The only way to tune synchronous I/O is to compare the rate (in bytes per second) with the device's maximum throughput rate. If the rate is lower than the rate that the device specifies, then consider tuning this aspect of the backup and restore process. </p>
                           <p>To determine the rate of synchronous I/O:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Start SQL*Plus and connect to the target database.</span></li>
                           <li class="stepexpand"><span>Query the <code class="codeph">DISCRETE_BYTES_PER_SECOND</code> column in the <code class="codeph">V$BACKUP_SYNC_IO</code> view to display the I/O rate. </span><div>
                                 <p>If you see data in <code class="codeph">V$BACKUP_SYNC_IO</code>, then the problem is that you have not enabled asynchronous I/O or you are not using disk I/O slaves.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="BRADV404"></a><a id="BRADV89864"></a><div class="props_rev_3"><a id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0" name="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0"></a><h5 id="BRADV-GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0" class="sect5"><span class="enumeration_section">23.3.2.2 </span>Identifying Bottlenecks with Asynchronous I/O
                     </h5>
                     <div>
                        <p>Query the <code class="codeph">V$BACKUP_ASYNC_IO</code> to identify bottlenecks with asynchronous I/O.
                        </p>
                        <div class="section">
                           <p><strong class="term">Long waits</strong> are the number of times the backup or restore process told the operating system to wait until an I/O was complete. <strong class="term">Short waits</strong> are the number of times the backup or restore process made an operating system call to poll for I/O completion in a nonblocking mode. <strong class="term">Ready</strong> indicates the number of times when I/O was ready for use, so there was no need to make an operating system call to poll for I/O completion.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0__GUID-59ACB37B-5440-45D1-A9B1-AED1DD9D4029">To determine the rate of asynchronous I/O:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Start SQL*Plus and connect to the target database.</span></li>
                           <li class="stepexpand"><span>Query the <code class="codeph">LONG_WAITS</code> and <code class="codeph">IO_COUNT</code> columns in the <code class="codeph">V$BACKUP_ASYNC_IO</code> view to display the I/O rate. </span><div>
                                 <p>The simplest way to identify the bottleneck is to find the data file that has the largest ratio for <code class="codeph">LONG_WAITS</code> divided by <code class="codeph">IO_COUNT</code>. For example, you can use the following query:
                                 </p><pre class="oac_no_warn" dir="ltr">SELECT   LONG_WAITS/IO_COUNT, FILENAME
FROM     V$BACKUP_ASYNC_IO
WHERE    LONG_WAITS/IO_COUNT &gt; 0
ORDER BY LONG_WAITS/IO_COUNT DESC;</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0__GUID-A3BDB529-CEFB-45A0-93C6-CE0938B50164">
                              <p class="notep1">Note:</p>
                              <p>If you have synchronous I/O but you set <code class="codeph">BACKUP_DISK_IO_SLAVES</code>, then the I/O is displayed in <code class="codeph">V$BACKUP_ASYNC_IO</code>.
                              </p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-CD6CA7F3-F59B-4FB6-8F8C-B378DBEEBCD0__GUID-9649AC95-51E9-4FED-AD9C-E2D3A693C2F9">
                              <p class="notep1">See Also:</p>
                              <p><a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>for descriptions of the <code class="codeph">V$BACKUP_SYNC_IO</code> and <code class="codeph">V$BACKUP_ASYNC_IO</code> views
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="BRADV172"></a><div class="props_rev_3"><a id="GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD" name="GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD"></a><h3 id="BRADV-GUID-5AAB8C9A-41C6-4400-B643-08D10D7106AD" class="sect3"><span class="enumeration_section">23.4 </span>Tuning RMAN Backup Performance
               </h3>
               <div>
                  <p>Many factors can affect backup performance. Often, finding the solution to a slow backup is a process of trial and error. </p>
                  <div class="section">
                     <p><span class="bold">To obtain the best performance for a backup, follow these steps:</span></p>
                     <ol>
                        <li>
                           <p>Remove the <code class="codeph">RATE</code> parameter for channel settings, as described in <span class="q">"<a href="tuning-rman-performance.html#GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7" title="The RATE parameter on a channel is intended to reduce, rather than increase, backup throughput so that more disk bandwidth is available for other database operations. If the backup is not streaming to tape, then confirm that the RATE parameter is not set.">Removing the RATE Parameter from Channel Settings</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>If your disk does not support asynchronous I/O, then set the <code class="codeph">DBWR_IO_SLAVES</code> parameter, as described in <span class="q">"<a href="tuning-rman-performance.html#GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA" title="Some operating systems support native asynchronous I/O. If and only if your disk does not support asynchronous I/O, then set DBWR_IO_SLAVES. Any nonzero value for DBWR_IO_SLAVES causes a fixed number of disk I/O slaves to be used for backup and restore, which simulates asynchronous I/O.">Setting DBWR_IO_SLAVES to Simulate Asynchronous I/O</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Set the <code class="codeph">LARGE_POOL_SIZE</code> parameter, as described in <span class="q">"<a href="tuning-rman-performance.html#GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473" title="Set the LARGE_POOL_SIZE initialization parameter if the database reports an error in the alert log stating that it does not have enough memory and that it cannot start I/O slaves.">Setting LARGE_POOL_SIZE to Resolve Shared Memory Issues</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Remove bottlenecks that affect backup performance, as described in <span class="q">"<a href="tuning-rman-performance.html#GUID-4189FC87-CD02-49CD-A311-887ABAA34004" title="You can perform several tasks to identify and remedy bottlenecks that affect backup performance.">Tuning the Read, Write, and Copy Phases</a>"</span>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="BRADV405"></a><a id="BRADV89855"></a><div class="props_rev_3"><a id="GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7" name="GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7"></a><h4 id="BRADV-GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7" class="sect4"><span class="enumeration_section">23.4.1 </span>Removing the RATE Parameter from Channel Settings
                  </h4>
                  <div>
                     <p>The <code class="codeph">RATE</code> parameter on a channel is intended to reduce, rather than increase, backup throughput so that more disk bandwidth is available for other database operations. If the backup is not streaming to tape, then confirm that the <code class="codeph">RATE</code> parameter is not set.
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><span class="bold">To remove the RATE parameter:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Examine your backup script.</span></li>
                        <li class="stepexpand"><span>Do one of the following:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the backup is in a <code class="codeph">RUN</code> command, then remove the <code class="codeph">RATE</code> parameter, if it is specified, from the <code class="codeph">ALLOCATE</code> command. Skip the remaining steps.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the backup is not in a <code class="codeph">RUN</code> command, then start RMAN, connect to the target database, and proceed to the next step.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">SHOW ALL</code> command to show the currently configured settings.</span></li>
                        <li class="stepexpand"><span>Remove the <code class="codeph">RATE</code> parameter, if it is set, from the <code class="codeph">CONFIGURE CHANNEL</code> command.</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B0E48A46-024E-4C26-BD09-A8BE96FFE5C7__GUID-18BCCE40-416D-4252-9A18-777758ACF56A">
                           <p class="notep1">See Also:</p>
                           <p><a href="tuning-rman-performance.html#GUID-5A55B177-B2A8-47AE-A6E9-693DFB5CC613" title="You can use the RATE parameter to set an upper limit for bytes read so that RMAN does not consume excessive disk bandwidth and degrade online performance. Essentially, RATE serves as a backup throttle.">RATE Channel Parameter</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV406"></a><a id="BRADV89856"></a><div class="props_rev_3"><a id="GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA" name="GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA"></a><h4 id="BRADV-GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA" class="sect4"><span class="enumeration_section">23.4.2 </span>Setting DBWR_IO_SLAVES to Simulate Asynchronous I/O
                  </h4>
                  <div>
                     <p>Some operating systems support native asynchronous I/O. If and only if your disk does <span class="italic">not</span> support asynchronous I/O, then set <code class="codeph">DBWR_IO_SLAVES</code>. Any nonzero value for <code class="codeph">DBWR_IO_SLAVES</code> causes a fixed number of disk I/O slaves to be used for backup and restore, which simulates asynchronous I/O.
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><span class="bold">To enable disk I/O slaves:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Start SQL*Plus and connect to the target database.</span></li>
                        <li class="stepexpand"><span>Shut down the database.</span></li>
                        <li class="stepexpand"><span>Set <code class="codeph">DBWR_IO_SLAVES</code> initialization parameter to a nonzero value.</span><div>
                              <p>This setting enables the database writer processes to use slaves. Thus, you may need to increase the value of the <code class="codeph">PROCESSES</code> initialization parameter.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Restart the database.</span></li>
                        <li class="stepexpand"><span>Restart the RMAN backup.</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B0A3D96A-D65B-4D15-8AB8-A84494F545FA__GUID-ABEE827A-78CF-492E-8354-E39338D4A772">
                           <p class="notep1">See Also:</p>
                           <p><a href="tuning-rman-performance.html#GUID-6339C9D0-E98C-49E0-8C82-1EBA810EBB0B" title="When a channel reads from or writes to disk, the I/O is either synchronous I/O or asynchronous I/O.">Synchronous and Asynchronous Disk I/O</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV407"></a><a id="BRADV89857"></a><div class="props_rev_3"><a id="GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473" name="GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473"></a><h4 id="BRADV-GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473" class="sect4"><span class="enumeration_section">23.4.3 </span>Setting LARGE_POOL_SIZE to Resolve Shared Memory Issues
                  </h4>
                  <div>
                     <p>Set the <code class="codeph">LARGE_POOL_SIZE</code> initialization parameter if the database reports an error in the alert log stating that it does not have enough memory and that it cannot start I/O slaves.
                     </p>
                     <div class="section">
                        <p>The alert log message resembles the following:</p><pre class="oac_no_warn" dir="ltr">ksfqxcre: failure to allocate shared memory means sync I/O will be used whenever
async I/O to file not supported natively
</pre><p>The large pool is used for RMAN and for other purposes, so its total size must accommodate all uses. This is especially true if <code class="codeph">DBWR_IO_SLAVES</code> has been set and the DBWR process needs buffers.
                        </p>
                        <p><span class="bold">To set the large pool size:</span></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Start SQL*Plus and connect to the target database.</span></li>
                        <li class="stepexpand"><span>Optionally, query <code class="codeph">V$SGASTAT.POOL</code> to determine in which pool (shared pool or large pool) the memory for an object resides.</span></li>
                        <li class="stepexpand"><span>Set the <code class="codeph">LARGE_POOL_SIZE</code> initialization parameter in the target database.</span><div>
                              <p>You can execute an <code class="codeph">ALTER SYSTEM SET</code> statement to set the parameter dynamically. The<span class="italic"> </span>formula for setting <code class="codeph">LARGE_POOL_SIZE</code> is as follows:
                              </p><pre class="oac_no_warn" dir="ltr">LARGE_POOL_SIZE =  <span class="italic"><code class="codeph">number_of_allocated_channels</code></span> * 
                   (16 MB + ( 4 *  <span class="italic">size_of_tape_buffer </span>) )
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Restart the RMAN backup.</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B2B1A6DB-6C3D-4E41-B285-26289713D473__GUID-89ACE45B-48F1-402D-A43B-D29947CDE589">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/memory-architecture.html#CNCPT802" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for more information about the large pool
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/LARGE_POOL_SIZE.html#REFRN10078" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for complete information about initialization parameters
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89858"></a><div class="props_rev_3"><a id="GUID-4189FC87-CD02-49CD-A311-887ABAA34004" name="GUID-4189FC87-CD02-49CD-A311-887ABAA34004"></a><h4 id="BRADV-GUID-4189FC87-CD02-49CD-A311-887ABAA34004" class="sect4"><span class="enumeration_section">23.4.4 </span>Tuning the Read, Write, and Copy Phases
                  </h4>
                  <div>
                     <p>You can perform several tasks to identify and remedy bottlenecks that affect backup performance. </p>
                     <div class="section">
                        <p>This includes the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-DA0FFF93-832C-41E9-9162-157F589A7082" title="One reliable way to determine whether the output device or input disk I/O is the bottleneck in a given backup job is to compare the time required to run backup tasks with the time required to run BACKUP VALIDATE of the same tasks. BACKUP VALIDATE of a backup performs the same disk reads as a real backup but performs no I/O to an output device.">Using Backup Validation To Distinguish Between Read and Write Bottlenecks</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" title="Tuning the read phase can help to improve RMAN performance.">Tuning the Read Phase</a></p>
                           </li>
                           <li>
                              <p><a href="tuning-rman-performance.html#GUID-3303B929-0747-4E78-BED1-9F468213F357" title="If the read phase is performing well, then the copy or write phases are probably the bottleneck. In particular, if RMAN is sending data blocks to the tape drive fast enough to support streaming, but the tape is not streaming, then the SBT write phase is the bottleneck.">Tuning the Copy and Write Phases</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="BRADV408"></a><a id="BRADV89859"></a><div class="props_rev_3"><a id="GUID-DA0FFF93-832C-41E9-9162-157F589A7082" name="GUID-DA0FFF93-832C-41E9-9162-157F589A7082"></a><h5 id="BRADV-GUID-DA0FFF93-832C-41E9-9162-157F589A7082" class="sect5"><span class="enumeration_section">23.4.4.1 </span>Using Backup Validation To Distinguish Between Read and Write Bottlenecks
                     </h5>
                     <div>
                        <p>One reliable way to determine whether the output device or input disk I/O is the bottleneck in a given backup job is to compare the time required to run backup tasks with the time required to run <code class="codeph">BACKUP VALIDATE</code> of the same tasks. <code class="codeph">BACKUP VALIDATE</code> of a backup performs the same disk reads as a real backup but performs no I/O to an output device.
                        </p>
                        <div class="section">
                           <p><span class="bold">To compare backup and validation times:</span></p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Ensure your NLS environment date format variable is set to show the time. For example, set the NLS variables as follows:</span><div><pre class="oac_no_warn" dir="ltr">setenv NLS_LANG  AMERICAN_AMERICA.WE8DEC;
setenv NLS_DATE_FORMAT "MM/DD/YYYY HH24:MI:SS"
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Edit your backup script to use the <code class="codeph">BACKUP VALIDATE</code> command instead of the <code class="codeph">BACKUP</code> command.</span></li>
                           <li class="stepexpand"><span>Run the backup script.</span></li>
                           <li class="stepexpand"><span>Examine the RMAN output and calculate the difference between the times displayed in the <code class="codeph">Starting backup at</code> and <code class="codeph">Finished backup at</code> messages.</span></li>
                           <li class="stepexpand"><span>Edit the backup script to use the <code class="codeph">BACKUP</code> command instead of the <code class="codeph">BACKUP VALIDATE</code> command.</span></li>
                           <li class="stepexpand"><span>Run the backup script.</span></li>
                           <li class="stepexpand"><span>Examine the RMAN output and calculate the difference between the times displayed in the <code class="codeph">Starting backup at</code> and <code class="codeph">Finished backup at</code> messages.</span></li>
                           <li class="stepexpand"><span>Compare the backup times for the validation and real backup. </span><div>
                                 <p>If the time for the <code class="codeph">BACKUP VALIDATE</code> to tape is about the same as the time for a real backup to tape, then reading from disk is the likely bottleneck. 
                                 </p>
                                 <p>If the time for the <code class="codeph">BACKUP VALIDATE</code> to tape is significantly less than the time for a real backup to tape, then writing to the output device is the likely bottleneck. 
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-DA0FFF93-832C-41E9-9162-157F589A7082__GUID-91292A39-0110-4FDE-B534-6D5AFF0A476E">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="tuning-rman-performance.html#GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" title="Tuning the read phase can help to improve RMAN performance.">Tuning the Read Phase</a></p>
                                 </li>
                                 <li>
                                    <p><a href="tuning-rman-performance.html#GUID-3303B929-0747-4E78-BED1-9F468213F357" title="If the read phase is performing well, then the copy or write phases are probably the bottleneck. In particular, if RMAN is sending data blocks to the tape drive fast enough to support streaming, but the tape is not streaming, then the SBT write phase is the bottleneck.">Tuning the Copy and Write Phases</a>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV409"></a><a id="BRADV89860"></a><div class="props_rev_3"><a id="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" name="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23"></a><h5 id="BRADV-GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23" class="sect5"><span class="enumeration_section">23.4.4.2 </span>Tuning the Read Phase
                     </h5>
                     <div>
                        <p>Tuning the read phase can help to improve RMAN performance.</p>
                        <div class="section">
                           <p>RMAN may not be able to send data blocks to the output device fast enough to keep it occupied. For example, during an <a href="glossary.html#GUID-31E3AC05-E73E-4E44-A9AA-915988B9A6A3"><span class="xrefglossterm">incremental backup</span></a>, RMAN only backs up blocks changed since a previous data file backup as part of the same strategy. If you do not turn on <a href="glossary.html#GUID-C80ACD57-9170-4FA5-A61F-81A05E77A1A4"><span class="xrefglossterm">block change tracking</span></a>, then RMAN must scan whole data files for changed blocks, and fill output buffers as it finds such blocks. If few blocks changed, and if RMAN is making an SBT backup, then RMAN may not fill output buffers fast enough to keep the tape drive streaming.
                           </p>
                           <p>You can improve backup performance by adjusting the <a href="glossary.html#GUID-648D7B2D-7AB2-40C0-AFFD-0A6FE569F3D7"><span class="xrefglossterm">level of multiplexing</span></a>, which is number of input files simultaneously read and then written into the same RMAN backup piece. The level of multiplexing is the minimum of the <code class="codeph">MAXOPENFILES</code> setting on the channel and the number of input files placed in each backup set. The following table makes recommendations for adjusting the level of multiplexing.
                           </p>
                           <div class="tblformal" id="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23__GUID-EED07681-166A-4905-AAAB-1CE59F011A74">
                              <p class="titleintable">Table 23-4 Adjusting the Level of Multiplexing</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Adjusting the Level of Multiplexing" summary="Level of multiplexing" width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="14%" id="d100789e3896">ASM</th>
                                       <th align="left" valign="bottom" width="29%" id="d100789e3899">Striped Disk</th>
                                       <th align="left" valign="bottom" width="57%" id="d100789e3902">Recommendation</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d100789e3907" headers="d100789e3896 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d100789e3907 d100789e3899 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="57%" headers="d100789e3907 d100789e3902 ">
                                          <p>Increase the level of multiplexing. Determine which is the minimum, <code class="codeph">MAXOPENFILES</code> or the number of files in each backup set, and then increase this value.
                                          </p>
                                          <p>In this way, you increase the rate at which RMAN fills tape buffers, which makes it more likely that buffers are sent to the media manager fast enough to maintain streaming.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d100789e3922" headers="d100789e3896 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d100789e3922 d100789e3899 ">
                                          <p>No</p>
                                       </td>
                                       <td align="left" valign="top" width="57%" headers="d100789e3922 d100789e3902 ">
                                          <p>Increase the <code class="codeph">MAXOPENFILES</code> setting on the channel.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="14%" id="d100789e3935" headers="d100789e3896 ">
                                          <p>Yes</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d100789e3935 d100789e3899 ">
                                          <p>Not applicable</p>
                                       </td>
                                       <td align="left" valign="top" width="57%" headers="d100789e3935 d100789e3902 ">
                                          <p>Set the <code class="codeph">MAXOPENFILES</code> parameter on the channel to <code class="codeph">1</code> or <code class="codeph">2</code>.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-F2715D6D-F750-4B4B-8A8A-BC4B2ECE6D23__GUID-4E86A862-7A97-4DCD-B2BC-04453FCDA43F">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="rman-backup-concepts.html#GUID-6E6613A6-545A-4E65-8D5E-849CB6B91E97" title="When creating backup sets, RMAN can simultaneously read multiple files from disk and then write their blocks into the same backup set. For example, RMAN can read from two data files simultaneously, and then combine the blocks from these data files into a single backup piece. The combination of blocks from multiple files is called backup multiplexing.">About Multiplexed RMAN Backup Sets</a>"</span> to learn how the <code class="codeph">MAXOPENFILES</code> and <code class="codeph">FILESPERSET</code> settings affect the level of multiplexing
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="rman-backup-concepts.html#GUID-C93F3588-BBA9-4AE2-9E47-74C7A9468023" title="An incremental backup copies only those data blocks that have changed since a previous backup. You can use RMAN to create incremental backups of data files, tablespaces, or the whole database.">About RMAN Incremental Backups</a>"</span> for a conceptual overview
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="BRADV89861"></a><div class="props_rev_3"><a id="GUID-3303B929-0747-4E78-BED1-9F468213F357" name="GUID-3303B929-0747-4E78-BED1-9F468213F357"></a><h5 id="BRADV-GUID-3303B929-0747-4E78-BED1-9F468213F357" class="sect5"><span class="enumeration_section">23.4.4.3 </span>Tuning the Copy and Write Phases
                     </h5>
                     <div>
                        <p>If the read phase is performing well, then the copy or write phases are probably the bottleneck. In particular, if RMAN is sending data blocks to the tape drive fast enough to support streaming, but the tape is not streaming, then the SBT write phase is the bottleneck. </p>
                        <div class="section">
                           <div class="p">Try to improve performance using one of the techniques described in the following table.
                              <div class="tblformal" id="GUID-3303B929-0747-4E78-BED1-9F468213F357__GUID-25D6F10A-8A0B-4B5E-A74D-B44526F62CA4">
                                 <p class="titleintable">Table 23-5 Techniques for Improving Copy and Write Performance</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="Techniques for Improving Copy and Write Performance" summary="This table describes the techniques available to improve copy and writer performance." frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="20%" id="d100789e4065">Technique</th>
                                          <th align="left" valign="bottom" width="20%" id="d100789e4067">Description</th>
                                          <th align="left" valign="bottom" width="20%" id="d100789e4069">Additional Informaiton</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4073" headers="d100789e4065 ">
                                             <p>If the backup is a <a href="glossary.html#GUID-D47BE9B3-BAE1-4415-B4B4-4D577B6CB493"><span class="xrefglossterm">full backup</span></a>, then consider using incremental backups
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4073 d100789e4067 ">
                                             <p>Incremental level 1 backups write only the changed blocks from data files to tape, so that any bottleneck on writing to tape has less impact on your overall backup strategy. In particular, if tape drives are not locally attached to the node of the database being backed up, then incremental backups can be faster. .</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4073 d100789e4069 ">
                                             <p><span class="q">"<a href="backing-up-database.html#GUID-2AF8EE74-CEB2-468D-A3B2-DD6AD8E41304" title="An incremental backup copies only data file blocks that have changed since a specified previous backup. Use the BACKUP command to create incremental backups.">Making and Updating RMAN Incremental Backups</a>"</span></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4094" headers="d100789e4065 ">
                                             <p>If the backup uses the basic compression algorithm, then consider using the Oracle Advanced Compression option</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4094 d100789e4067 ">
                                             <p> </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4094 d100789e4069 ">
                                             <ul style="list-style-type: disc;">
                                                <li>
                                                   <p><span class="q">"<a href="configuring-rman-client-advanced.html#GUID-3117DA93-EC34-488D-A4FB-29E6CD4D168A" title="RMAN supports precompression processing and binary compression of backup sets. The CONFIGURE COMPRESSION ALGORITHM command enables you to configure compression options.">Configuring Compression Options</a>"</span></p>
                                                </li>
                                                <li>
                                                   <p><span class="q">"<a href="rman-backup-concepts.html#GUID-2AFCD551-95CB-4F9F-946E-550E89613974" title="RMAN supports binary compression of backup sets. Binary compression is only enabled when you specify AS COMPRESSED BACKUPSET in the BACKUP command, or one-time with the CONFIGURE DEVICE TYPE [DISK | SBT] BACKUP TYPE TO COMPRESSED BACKUPSET command.">About Binary Compression for RMAN Backup Sets</a>"</span></p>
                                                </li>
                                             </ul>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4131" headers="d100789e4065 ">
                                             <p>If the database host uses multiple CPUs, and if the backup uses binary compression, then increase the number of channels</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4131 d100789e4067 ">
                                             <p> </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4131 d100789e4069 ">&nbsp;</td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4139" headers="d100789e4065 ">
                                             <p>If the backup is encrypted, then change the encryption algorithm to <code class="codeph">AES128</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4139 d100789e4067 ">
                                             <p> The <code class="codeph">AES128</code> algorithm is the least CPU-intensive algorithm.
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4139 d100789e4069 "><span class="q">"<a href="configuring-rman-client-advanced.html#GUID-97ED7AA5-476C-4068-9C6C-97A0C0353864" title="You can use the CONFIGURE command to persistently configure the default algorithm to use for encryption when writing backup sets.">Configuring the Backup Encryption Algorithm</a>"</span></td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4161" headers="d100789e4065 ">
                                             <p>(For tape backups only) Adjust the size of the tape I/O buffers</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4161 d100789e4067 ">
                                             <p>Use the <code class="codeph">PARMS</code> and <code class="codeph">BLKSIZE</code> parameters of the <code class="codeph">ALLOCATE CHANNEL</code> or <code class="codeph">CONFIGURE CHANNEL</code> command to set the size. The size of the tape I/O buffers is platform-dependent. The <code class="codeph">BLKSIZE</code> setting overrides the default.
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4161 d100789e4069 ">&nbsp;</td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4184" headers="d100789e4065 ">
                                             <p>(For tape backups only) Adjust settings in the media management software</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4184 d100789e4067 ">
                                             <p>Some media manager settings, including the tape block size, may affect backup performance.</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4184 d100789e4069 ">&nbsp;</td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d100789e4192" headers="d100789e4065 ">
                                             <p>If RMAN is backing up files to ASM, then increase the number of channels</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4192 d100789e4067 ">
                                             <p>For example, if RMAN is backing up the database to a single disk group with 16 physical disks, then allocate or configure at least 4 disk channels, up to a maximum of 16.</p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d100789e4192 d100789e4069 ">&nbsp;</td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03429.loading-transformation-date-warehouses.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Loading and Transformation in Data Warehouses</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Warehousing Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Warehousing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-data-warehousing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T00:20:13-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96243-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="transportation-data-warehouses.html" title="Previous" type="text/html">
      <link rel="next" href="part-relational-analytics.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Data Warehousing Guide">
    <meta name="dcterms.isVersionOf" content="DWHSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="transportation-data-warehouses.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-relational-analytics.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Warehousing Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-etl.html" property="item" typeof="WebPage"><span property="name">Data Movement/ETL </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Loading and Transformation in Data Warehouses</li>
            </ol>
            <a id="GUID-5B2CC8B6-8503-4B41-A75E-79A4925FCE4B" name="GUID-5B2CC8B6-8503-4B41-A75E-79A4925FCE4B"></a>
            
            <h2 id="DWHSG-GUID-5B2CC8B6-8503-4B41-A75E-79A4925FCE4B" class="sect2"><span class="enumeration_chapter">18 </span>Loading and Transformation in Data Warehouses
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter helps you create and manage a data warehouse, and discusses:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1" title="You can optimize bulk updates to the table by using the EXECUTE_UPDATE procedure. Because the updates are not logged in the redo log, performance is optimized.Because ETL can become complex and suffer from poor performance, Oracle Database provides a user interface that enables you to monitor and report on database operations that are part of an ETL plan.">Overview of Loading and Transformation in Data Warehouses</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13">Loading Mechanisms for Data Warehouses</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186">Transformation Mechanisms in Data Warehouses</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A" title="External data that is used during the data transformation process may sometimes be inaccurate thereby causing data conversion errors. Certain SQL functions can be used to handle data conversion errors.">Error Logging and Handling Mechanisms</a></p>
                  </li>
                  <li>
                     <p><a href="loading-transformation-date-warehouses.html#GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6">Loading and Transformation Scenarios</a></p>
                  </li>
               </ul>
            </div><a id="DWHSG8304"></a><div class="props_rev_3"><a id="GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1" name="GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1"></a><h3 id="DWHSG-GUID-D3F12AE4-CF2B-4F67-B027-C3CD7B86E9F1" class="sect3"><span class="enumeration_section">18.1 </span>Overview of Loading and Transformation in Data Warehouses
               </h3>
               <div>
                  <p><a id="d63021e75" class="indexterm-anchor"></a>Data transformations are often the most complex and, in terms of processing time, the most costly part of the extraction, transformation, and loading (ETL) process. They can range from simple data conversions to extremely complex data scrubbing techniques. Many, if not all, data transformations can occur within an Oracle database, although transformations are often implemented outside of the database (for example, on flat files) as well.
                  </p>
                  <p>This chapter introduces techniques for implementing scalable and efficient data transformations within the Oracle Database. The examples in this chapter are relatively simple. Real-world data transformations are often considerably more complex. However, the transformation techniques introduced in this chapter meet the majority of real-world data transformation requirements, often with more scalability and less programming than alternative approaches.</p>
                  <p>This chapter does not seek to illustrate all of the typical transformations that would be encountered in a data warehouse, but to demonstrate the types of fundamental technology that can be applied to implement these transformations and to provide guidance in how to choose the best techniques.</p>
               </div><a id="DWHSG8305"></a><div class="props_rev_3"><a id="GUID-1B38D45D-1860-44D6-98A4-9B089C4759A5" name="GUID-1B38D45D-1860-44D6-98A4-9B089C4759A5"></a><h4 id="DWHSG-GUID-1B38D45D-1860-44D6-98A4-9B089C4759A5" class="sect4"><span class="enumeration_section">18.1.1 </span>Data Warehouses: Transformation Flow
                  </h4>
                  <div>
                     <p>From an architectural perspective, you can transform your data in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8">Multistage Data Transformation in Data Warehouses</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-FA110310-B713-4165-8F48-EC5E869E1F8F">Pipelined Data Transformation in Data Warehouses</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4">Staging Area in Data Warehouses</a></p>
                        </li>
                     </ul>
                  </div><a id="DWHSG8307"></a><a id="DWHSG8306"></a><div class="props_rev_3"><a id="GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8" name="GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8"></a><h5 id="DWHSG-GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8" class="sect5"><span class="enumeration_section">18.1.1.1 </span>Multistage Data Transformation in Data Warehouses
                     </h5>
                     <div>
                        <p>The data<a id="d63021e143" class="indexterm-anchor"></a> transformation logic for most data warehouses consists of multiple steps. For example, in transforming new records to be inserted into a sales table, there may be separate logical transformation steps to validate each dimension key.
                        </p>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8__BABCAHAJ">Figure 18-1</a> offers a graphical way of looking at the transformation logic.
                        </p>
                        <div class="figure" id="GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8__BABCAHAJ">
                           <p class="titleinfigure">Figure 18-1 Multistage Data Transformation</p><img src="img/dwhsg025.gif" alt="Description of Figure 18-1 follows" title="Description of Figure 18-1 follows" longdesc="img_text/dwhsg025.html"><br><a href="img_text/dwhsg025.html">Description of "Figure 18-1 Multistage Data Transformation"</a></div>
                        <!-- class="figure" -->
                        <p>When using Oracle Database as a transformation engine, a common strategy is to implement each transformation as a separate SQL operation and to create a separate, temporary staging table (such as the tables <code class="codeph">new_sales_step1</code> and <code class="codeph">new_sales_step2</code> in <a href="loading-transformation-date-warehouses.html#GUID-AF6D2F31-0BAE-421E-A812-62D38C3645B8__BABCAHAJ">Figure 18-1</a>) to store the incremental results for each step. This load-then-transform strategy also provides a natural checkpointing scheme to the entire transformation process, which enables the process to be more easily monitored and restarted. However, a disadvantage to multistaging is that the space and time requirements increase.
                        </p>
                        <p>It may also be possible to combine many simple logical transformations into a single SQL statement or single PL/SQL procedure. Doing so may provide better performance than performing each step independently, but it may also introduce difficulties in modifying, adding, or dropping individual transformations, as well as recovering from failed transformations.</p>
                     </div>
                  </div><a id="DWHSG8309"></a><a id="DWHSG8308"></a><div class="props_rev_3"><a id="GUID-FA110310-B713-4165-8F48-EC5E869E1F8F" name="GUID-FA110310-B713-4165-8F48-EC5E869E1F8F"></a><h5 id="DWHSG-GUID-FA110310-B713-4165-8F48-EC5E869E1F8F" class="sect5"><span class="enumeration_section">18.1.1.2 </span>Pipelined Data Transformation in Data Warehouses
                     </h5>
                     <div>
                        <p>The ETL process flow can be changed dramatically and the database becomes an integral part of the ETL solution<a id="d63021e191" class="indexterm-anchor"></a>.
                        </p>
                        <p>The new functionality renders some of the former necessary process steps obsolete while some others can be remodeled to enhance the data flow and the data transformation to become more scalable and non-interruptive. The task shifts from serial transform-then-load process (with most of the tasks done outside the database) or load-then-transform process, to an enhanced transform-while-loading. </p>
                        <p>Oracle offers a wide variety of new capabilities to address all the issues and tasks relevant in an ETL scenario. It is important to understand that the database offers toolkit functionality rather than trying to address a one-size-fits-all solution. The underlying database has to enable the most appropriate ETL process flow for a specific customer need, and not dictate or constrain it from a technical perspective. <a href="loading-transformation-date-warehouses.html#GUID-FA110310-B713-4165-8F48-EC5E869E1F8F__I1007647">Figure 18-2</a> illustrates the new functionality, which is discussed throughout later sections.
                        </p>
                        <div class="figure" id="GUID-FA110310-B713-4165-8F48-EC5E869E1F8F__I1007647">
                           <p class="titleinfigure">Figure 18-2 Pipelined Data Transformation</p><img src="img/dwhsg107.gif" alt="Description of Figure 18-2 follows" title="Description of Figure 18-2 follows" longdesc="img_text/dwhsg107.html"><br><a href="img_text/dwhsg107.html">Description of "Figure 18-2 Pipelined Data Transformation"</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="DWHSG8953"></a><div class="props_rev_3"><a id="GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4" name="GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4"></a><h5 id="DWHSG-GUID-48A039BC-D1EC-4E6A-9552-E3DFDA33D4E4" class="sect5"><span class="enumeration_section">18.1.1.3 </span>Staging Area in Data Warehouses
                     </h5>
                     <div>
                        <p>The overall speed of your load is determined by how quickly the raw data can be read from the staging area and written to the target table in the database. It is highly recommended that you stage your raw data across as many physical disks as possible to ensure the reading of the raw data is not a bottleneck during the load.</p>
                        <p>An excellent place to stage the data is in an Oracle Database File System (DBFS). DBFS creates a mountable file system which can be used to access files stored in the database as SecureFiles LOBs. DBFS is similar to NFS in that it provides a shared network file system that looks like a local file system. Oracle recommends that you create the DBFS in a separate database from the data warehouse, and that the file system be mounted using the <code class="codeph">DIRECT_IO</code> option to avoid contention on the system page cache while moving the raw data files in and out of the file system. More information on setting up DBFS can be found in <a href="../adlob/introducing-database-file-system.html#ADLOB-GUID-B7A83817-F0D6-4A09-AE98-DFC966783109" target="_blank"><span><cite>Oracle Database SecureFiles and Large Objects Developer's Guide</cite></span></a>.
                        </p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7" name="GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7"></a><h4 id="DWHSG-GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7" class="sect4"><span class="enumeration_section">18.1.2 </span>About Batch Updates and Online Table Redefinition
                  </h4>
                  <div>
                     <p>You can optimize bulk updates to the table by using the <code class="codeph">EXECUTE_UPDATE</code> procedure. Because the updates are not logged in the redo log, performance is optimized.
                     </p>
                     <p></p>
                     <p>The <code class="codeph">DBMS_REDEFINITION.EXECUTE_UPDATE</code> procedure allows you to run <code class="codeph">UPDATE</code> statements in direct insert mode. Because redo is not logged during this operation, you cannot recover the redefinition and data updates using media recovery.  To maintain recoverability, it is recommended that a database or tablespace backup be performed before the redefinition begins.
                     </p>
                     <div class="infoboxnotealso" id="GUID-44B2D063-DAC4-4CFC-A776-FF501AAEDEE7__GUID-70324A39-FCDF-4E13-BECE-682BCC0A7421">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-tables.html#ADMIN-GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC" name="GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC"></a><h4 id="DWHSG-GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC" class="sect4"><span class="enumeration_section">18.1.3 </span>Overview of Monitoring ETL Operations
                  </h4>
                  <div>
                     <p>Because ETL can become complex and suffer from poor performance, Oracle Database provides a user interface that enables you to monitor and report on database operations that are part of an ETL plan.</p>
                     <p></p>
                     <p>A database operation is a user-defined logical object that contains a set of related database tasks, for example an ETL processing job, defined by end users or application code. Each database operation is uniquely identified by its name and execution ID and can be executed multiple times. </p>
                     <p>Database operation monitoring is extremely useful for troubleshooting a suboptimally performing job and helps to identify where and how much resources are being consumed at any given step. It enables you to track related information, identify performance bottlenecks, and reduce the time to tune database performance problems. Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can begin a database operation on an arbitrary session by specifying its session ID and serial number in the <code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code> function.
                     </p>
                     <div class="infoboxnotealso" id="GUID-D66210E5-9F35-45C8-B310-FC4D764B4FEC__GUID-B74F4813-535B-4F44-BD16-88C9C9499433">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tgsql/monitoring-database-operations.html#TGSQL-GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8310"></a><div class="props_rev_3"><a id="GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13" name="GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13"></a><h3 id="DWHSG-GUID-6DECC3F7-758E-45E3-88EE-F2B740AB7C13" class="sect3"><span class="enumeration_section">18.2 </span>Loading Mechanisms for Data Warehouses
               </h3>
               <div>
                  <p>You can use the following mechanisms for loading a data warehouse:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0">Loading a Data Warehouse with SQL*Loader</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E">Loading a Data Warehouse with External Tables</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-16CA33C9-77A1-494A-8170-F4703D2C0447">Loading a Data Warehouse with OCI and Direct-Path APIs</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-5904B997-7D60-4553-82CA-91709E040F5A">Loading a Data Warehouse with Export/Import</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8311"></a><div class="props_rev_3"><a id="GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0" name="GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0"></a><h4 id="DWHSG-GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0" class="sect4"><span class="enumeration_section">18.2.1 </span>Loading a Data Warehouse with SQL*Loader
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d63021e396" class="indexterm-anchor"></a>Before any data transformations can occur within the database, the raw data must become accessible for the database. One approach is to load it into the database. <a href="transportation-data-warehouses.html#GUID-3CC5E89C-A354-4F58-BC2A-D9DF439357E5">Transportation in Data Warehouses</a>, discusses several techniques for transporting data to an Oracle data warehouse. Perhaps the most common technique for transporting data is by way of flat files.
                        </p>
                        <p>SQL*Loader is used to move data from flat files into an Oracle data warehouse. During this data load, SQL*Loader can also be used to implement basic data transformations. When using direct-path SQL*Loader, basic data manipulation, such as data type conversion and simple <code class="codeph">NULL</code> handling, can be automatically resolved during the data load. Most data warehouses use direct-path loading for performance reasons. 
                        </p>
                        <p>The conventional-path loader provides broader capabilities for data transformation than a direct-path loader: SQL functions can be applied to any column as those values are being loaded. This provides a rich capability for transformations during the data load. However, the conventional-path loader is slower than direct-path loader. For these reasons, the conventional-path loader should be considered primarily for loading and transforming smaller amounts of data.</p>
                        <p>Data warehouses can use direct path mode to run batch updates to avoid the overhead of maintaining redo data. You can run batch updates on a table during online table redefinition. </p>
                        <p>The following is a simple example of a SQL*Loader control file to load data into the <code class="codeph">sales</code> table of the <code class="codeph">sh</code> sample schema from an external file <code class="codeph">sh_sales.dat</code>. The external flat file <code class="codeph">sh_sales.dat</code> consists of sales transaction data, aggregated on a daily level. Not all columns of this external file are loaded into <code class="codeph">sales</code>. This external file is also used as a source for loading the second fact table of the <code class="codeph">sh</code> sample schema, which is done using an external table:
                        </p>
                        <p>The following shows the control file (<code class="codeph">sh_sales.ctl</code>) loading the <code class="codeph">sales</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">LOAD DATA INFILE sh_sales.dat APPEND INTO TABLE sales
FIELDS TERMINATED BY "|"
(PROD_ID, CUST_ID, TIME_ID, CHANNEL_ID, PROMO_ID, QUANTITY_SOLD, AMOUNT_SOLD)
 </pre><p>It can be loaded with the following command:</p><pre class="oac_no_warn" dir="ltr">$  sqlldr control=sh_sales.ctl direct=true
Username:
Password:
</pre><p>In the case of SQL*Loader Express mode, you do not use a control file. Instead, it uses table column definitions to determine input data types.</p>
                        <div class="infoboxnotealso" id="GUID-075B9E66-3C42-4164-BF70-B144C0BEC4F0__GUID-9803962C-26EA-41CC-B137-F26225C73761">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sutil/oracle-sql-loader-commands.html#SUTIL-GUID-CD662CD8-DAA7-4A30-BC84-546E4C40DB31" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for more information
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-tables.html#ADMIN-GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about bulk updates using the <code class="codeph">DBMS_REDEFINITION</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG8312"></a><div class="props_rev_3"><a id="GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E" name="GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E"></a><h4 id="DWHSG-GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E" class="sect4"><span class="enumeration_section">18.2.2 </span>Loading a Data Warehouse with External Tables
                  </h4>
                  <div>
                     <div class="section">
                        <p>Another appr<a id="d63021e495" class="indexterm-anchor"></a><a id="d63021e497" class="indexterm-anchor"></a>oach for handling external data sources is using external tables. Oracle's external table feature enables you to use external data as a virtual table that can be queried and joined directly and in parallel without requiring the external data to be first loaded in the database. You can then use SQL, PL/SQL, and Java to access the external data.
                        </p>
                        <p></p>
                        <p>External tables enable the pipelining of the loading phase with the transformation phase. The transformation process can be merged with the loading process without any interruption of the data streaming. It is no longer necessary to stage the data inside the database for further processing inside the database, such as comparison or transformation. For example, the conversion functionality of a conventional load can be used for a direct-path <code class="codeph">INSERT</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement in conjunction with the <code class="codeph">SELECT</code> from an external table. Starting in Oracle Database 12<span class="italic">c</span>, the database automatically gathers table statistics as part of a bulk-load operation (CTAS and IAS) similar to how statistics are gathered when an index is created. By gathering statistics during the data load, you avoid additional scan operations and provide the necessary statistics as soon as the data becomes available to the users. 
                        </p>
                        <p>The main difference between external tables and regular tables is that externally organized tables are read-only. No DML operations (<code class="codeph">UPDATE</code>/<code class="codeph">INSERT</code>/<code class="codeph">DELETE</code>) are possible and no indexes can be created on them.
                        </p>
                        <p>External tables are mostly compliant with the existing SQL*Loader functionality and provide superior functionality in most cases. External tables are especially useful for environments where the complete external source has to be joined with existing database objects or when the data has to be transformed in a complex manner. For example, unlike SQL*Loader, you can apply any arbitrary SQL transformation and use the direct-path insert method. In addition, you can specify a program to be executed (such as <code class="codeph">zcat</code>) that processes files (such as compressed data files) and enables Oracle Database to use the output (such as uncompressed data files), which means you can load large amounts of compressed data without first uncompressing it on a disk.
                        </p>
                        <p>You can create an external table named <code class="codeph">sales_transactions_ext</code>, representing the structure of the complete sales transaction data, represented in the external file <code class="codeph">sh_sales.gz</code>. The product department is especially interested in a cost analysis on product and time. You thus create a fact table named <code class="codeph">cost</code> in the <code class="codeph">sh</code> schema. The operational source data is the same as for the <code class="codeph">sales</code> fact table. However, because you are not investigating every dimensional information that is provided, the data in the <code class="codeph">cost</code> fact table has a coarser granularity than in the <code class="codeph">sales</code> fact table, for example, all different distribution channels are aggregated.
                        </p>
                        <p>You cannot load the data into the <code class="codeph">cost</code> fact table without applying the previously mentioned aggregation of the detailed information, due to the suppression of some of the dimensions.
                        </p>
                        <p>The external table framework offers a solution to solve this. Unlike SQL*Loader, where you would have to load the data before applying the aggregation, you can combine the loading and transformation within a single SQL DML statement, as shown in the following. You do not have to stage the data temporarily before inserting into the target table.</p>
                        <p>The object directories must already exist, and point to the directory containing the <code class="codeph">sh_sales.gz</code> file as well as the directory containing the bad and log files.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_transactions_ext
(PROD_ID NUMBER, CUST_ID NUMBER,
 TIME_ID DATE, CHANNEL_ID NUMBER,
 PROMO_ID NUMBER, QUANTITY_SOLD NUMBER,
 AMOUNT_SOLD NUMBER(10,2), UNIT_COST NUMBER(10,2),
 UNIT_PRICE NUMBER(10,2))
ORGANIZATION external (TYPE oracle_loader
  DEFAULT DIRECTORY data_file_dir ACCESS PARAMETERS
  (RECORDS DELIMITED BY NEWLINE CHARACTERSET US7ASCII
    PREPROCESSOR EXECDIR:'zcat' 
    BADFILE log_file_dir:'sh_sales.bad_xt'
    LOGFILE log_file_dir:'sh_sales.log_xt'
    FIELDS TERMINATED BY "|" LDRTRIM
    ( PROD_ID, CUST_ID,
      TIME_ID         DATE(10) "YYYY-MM-DD", 
      CHANNEL_ID, PROMO_ID, QUANTITY_SOLD, AMOUNT_SOLD,
      UNIT_COST, UNIT_PRICE))
  location ('sh_sales.gz') 
)REJECT LIMIT UNLIMITED;
</pre><p>The external table can now be used from within the database, accessing some columns of the external data only, grouping the data, and inserting it into the <code class="codeph">costs</code> fact table:
                        </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND */ INTO COSTS
(TIME_ID, PROD_ID, UNIT_COST, UNIT_PRICE)
SELECT TIME_ID, PROD_ID, AVG(UNIT_COST), AVG(amount_sold/quantity_sold)
FROM sales_transactions_ext GROUP BY time_id, prod_id;
</pre><div class="infoboxnotealso" id="GUID-0C48B004-54C8-48A3-BBF8-6C69BB19F15E__GUID-0B77661A-7303-4873-B184-AAB8294FC45E">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF53428" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for a complete description of external table syntax
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sutil/oracle-sql-loader-concepts.html#SUTIL995" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for usage examples
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DWHSG8313"></a><div class="props_rev_3"><a id="GUID-16CA33C9-77A1-494A-8170-F4703D2C0447" name="GUID-16CA33C9-77A1-494A-8170-F4703D2C0447"></a><h4 id="DWHSG-GUID-16CA33C9-77A1-494A-8170-F4703D2C0447" class="sect4"><span class="enumeration_section">18.2.3 </span>Loading a Data Warehouse with OCI and Direct-Path APIs
                  </h4>
                  <div>
                     <p>OCI and direct-path APIs are frequently used when the transformation and computation are done outside the database and there is no need for flat file staging.</p>
                  </div>
               </div><a id="DWHSG8314"></a><div class="props_rev_3"><a id="GUID-5904B997-7D60-4553-82CA-91709E040F5A" name="GUID-5904B997-7D60-4553-82CA-91709E040F5A"></a><h4 id="DWHSG-GUID-5904B997-7D60-4553-82CA-91709E040F5A" class="sect4"><span class="enumeration_section">18.2.4 </span>Loading a Data Warehouse with Export/Import
                  </h4>
                  <div>
                     <p>Export and import are used when the data is inserted as is into the target system. No complex extractions are possible. See <a href="extraction-data-warehouses.html#GUID-7C9793D3-10E7-40BB-80FF-627C7160D044">Extraction in Data Warehouses</a> for further information.
                     </p>
                  </div>
               </div>
            </div><a id="DWHSG8315"></a><div class="props_rev_3"><a id="GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186" name="GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186"></a><h3 id="DWHSG-GUID-D8DA5FB4-7F4C-42C5-828D-9150A5699186" class="sect3"><span class="enumeration_section">18.3 </span>Transformation Mechanisms in Data Warehouses
               </h3>
               <div>
                  <p>You have the following cho<a id="d63021e670" class="indexterm-anchor"></a>ices for transforming data inside the database:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90">Transforming Data Using SQL</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-11660715-44A7-4687-8E4B-2C18B8339A1D">Transforming Data Using PL/SQL</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-98157B1C-86EC-4888-9760-DB0164D2A832">Transforming Data Using Table Functions</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8316"></a><div class="props_rev_3"><a id="GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90" name="GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90"></a><h4 id="DWHSG-GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90" class="sect4"><span class="enumeration_section">18.3.1 </span>Transforming Data Using SQL
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d63021e713" class="indexterm-anchor"></a>Once data is loaded into the database, data transformations can be executed using SQL operations. There are four basic techniques for implementing SQL data transformations:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0">CREATE TABLE ... AS SELECT And INSERT /*+APPEND*/ AS SELECT</a></p>
                           </li>
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00">Transforming Data Using UPDATE</a></p>
                           </li>
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-033C3049-7936-46C2-881C-14BA409D294B">Transforming Data Using MERGE</a></p>
                           </li>
                           <li>
                              <p><a href="loading-transformation-date-warehouses.html#GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854">Transforming Data Using Multitable INSERT</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DWHSG8317"></a><div class="props_rev_3"><a id="GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0" name="GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0"></a><h5 id="DWHSG-GUID-DB1E72E7-5ED6-4BA6-A133-DAD16932E5A0" class="sect5"><span class="enumeration_section">18.3.1.1 </span>CREATE TABLE ... AS SELECT And INSERT /*+APPEND*/ AS SELECT
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> ... <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement (CTAS) is a powerful tool for manipulating large sets of data. As shown in the following example, many data transformations can be expressed in standard SQL, and CTAS provides a mechanism for efficiently executing a SQL query and storing the results of that query in a new database table. The <code class="codeph">INSERT</code> /*+<code class="codeph">APPEND</code>*/ ... <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement offers the same capabilities with existing database tables.
                           </p>
                           <p>In a data warehouse environment, CTAS is typically run in parallel using <code class="codeph">NOLOGGING</code> mode for best performance.
                           </p>
                           <p>A simple and common type of data transformation is data substitution. In a data substitution transformation, some or all of the values of a single column are modified. For example, our <code class="codeph">sales</code> table has a <code class="codeph">channel_id</code> column. This column indicates whether a given sales transaction was made by a company's own sales force (a direct sale) or by a distributor (an indirect sale).
                           </p>
                           <p>You may receive data from multiple source systems for your data warehouse. Suppose that one of those source systems processes only direct sales, and thus the source system does not know indirect sales channels. When the data warehouse initially receives sales data from this system, all sales records have a <code class="codeph">NULL</code> value for the <code class="codeph">sales.channel_id</code> field. These <code class="codeph">NULL</code> values must be set to the proper key value. For example, you can do this efficiently using a SQL function as part of the insertion into the target sales table statement. The structure of source table <code class="codeph">sales_activity_direct</code> is as follows:
                           </p><pre class="oac_no_warn" dir="ltr">DESC sales_activity_direct
Name           Null?    Type
------------   -----    ----------------
SALES_DATE              DATE
PRODUCT_ID              NUMBER
CUSTOMER_ID             NUMBER
PROMOTION_ID            NUMBER
AMOUNT                  NUMBER
QUANTITY                NUMBER
</pre><p>The following SQL statement inserts data from <code class="codeph">sales_activity_direct</code> into the <code class="codeph">sales</code> table of the sample schema, using a SQL function to truncate the sales date values to the midnight time and assigning a fixed channel ID of 3.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND NOLOGGING PARALLEL */
INTO sales SELECT product_id, customer_id, TRUNC(sales_date), 3,
       promotion_id, quantity, amount
FROM sales_activity_direct;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG8318"></a><div class="props_rev_3"><a id="GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00" name="GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00"></a><h5 id="DWHSG-GUID-7463003E-2689-4469-8ED9-77BBA5BC2A00" class="sect5"><span class="enumeration_section">18.3.1.2 </span>Transforming Data Using UPDATE
                     </h5>
                     <div>
                        <div class="section">
                           <p>Another technique for implementing a data substitution is to use an <code class="codeph">UPDATE</code> statement to modify the <code class="codeph">sales.channel_id</code> column. An <code class="codeph">UPDATE</code> provides the correct result. However, if the data substitution transformations require that a very large percentage of the rows (or all of the rows) be modified, then, it may be more efficient to use a CTAS statement than an <code class="codeph">UPDATE</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG8321"></a><a id="DWHSG8319"></a><div class="props_rev_3"><a id="GUID-033C3049-7936-46C2-881C-14BA409D294B" name="GUID-033C3049-7936-46C2-881C-14BA409D294B"></a><h5 id="DWHSG-GUID-033C3049-7936-46C2-881C-14BA409D294B" class="sect5"><span class="enumeration_section">18.3.1.3 </span>Transforming Data Using MERGE
                     </h5>
                     <div>
                        <div class="section">
                           <p>Oracle Database's merge functionality extends SQL, by introducing the SQL keyword <code class="codeph">MERGE</code>, in order to provide the ability to update or insert a row conditionally into a table or out of line single table views. Conditions are specified in the <code class="codeph">ON</code> clause. This is, besides pure bulk loading, one of the most common operations in data warehouse synchronization.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-033C3049-7936-46C2-881C-14BA409D294B__i1006454">
                           <p class="titleinexample">Example 18-1 Merge Operation Using SQL</p>
                           <p>The following example discusses various implementations of a merge. It assumes that new data for the dimension table products is propagated to the data warehouse and has to be either inserted or updated. The table <code class="codeph">products_delta</code> has the same structure as <code class="codeph">products</code>.
                           </p><pre class="oac_no_warn" dir="ltr">MERGE INTO products t USING products_delta s
ON (t.prod_id=s.prod_id)
WHEN MATCHED THEN UPDATE SET
  t.prod_list_price=s.prod_list_price, t.prod_min_price=s.prod_min_price
WHEN NOT MATCHED THEN INSERT (prod_id, prod_name, prod_desc, prod_subcategory,
  prod_subcategory_desc, prod_category, prod_category_desc, prod_status, 
  prod_list_price, prod_min_price)
VALUES (s.prod_id, s.prod_name, s.prod_desc, s.prod_subcategory, 
  s.prod_subcategory_desc, s.prod_category, s.prod_category_desc, 
  s.prod_status, s.prod_list_price, s.prod_min_price);</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DWHSG8323"></a><a id="DWHSG8324"></a><a id="DWHSG8325"></a><a id="DWHSG8326"></a><a id="DWHSG8322"></a><div class="props_rev_3"><a id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854" name="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854"></a><h5 id="DWHSG-GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854" class="sect5"><span class="enumeration_section">18.3.1.4 </span>Transforming Data Using Multitable INSERT
                     </h5>
                     <div>
                        <div class="section">
                           <p>Many times, external data sources have to be segregated based on logical attributes for insertion into different target objects. It is also frequent in data warehouse environments to fan out the same source data into several target objects. Multitable inserts provide a new SQL statement for these kinds of transformations, where data can either end up in several or exactly one target, depending on the business transformation rules. This insertion can be done conditionally based on business rules or unconditionally.</p>
                           <p>It offers the benefits of the <code class="codeph">INSERT</code> ... <code class="codeph">SELECT</code> statement when multiple tables are involved as targets. In doing so, it avoids the drawbacks of the two obvious alternatives. You either had to deal with <span class="italic">n</span> independent <code class="codeph">INSERT</code> … <code class="codeph">SELECT</code> statements, thus processing the same source data <span class="italic">n</span> times and increasing the transformation workload <span class="italic">n</span> times. Alternatively, you had to choose a procedural approach with a per-row determination how to handle the insertion. This solution lacked direct access to high-speed access paths available in SQL.
                           </p>
                           <p>As with the existing <code class="codeph">INSERT</code> ... <code class="codeph">SELECT</code> statement, the new statement can be parallelized and used with the direct-load mechanism for faster performance.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-35298AB6-DA03-4C43-9C91-F786FDB70E61">
                           <p class="titleinexample">Example 18-2 Unconditional Insert</p>
                           <p>The following statement aggregates the transactional sales information, stored in <code class="codeph">sales_activity_direct</code>, on a daily basis and inserts into both the <code class="codeph">sales</code> and the <code class="codeph">costs</code> fact table for the current day.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT ALL
   INTO sales VALUES (product_id, customer_id, today, 3, promotion_id,
                      quantity_per_day, amount_per_day)
   INTO costs VALUES (product_id, today, promotion_id, 3,
                      product_cost, product_price)
SELECT TRUNC(s.sales_date) AS today, s.product_id, s.customer_id,
  s.promotion_id, SUM(s.amount) AS amount_per_day, SUM(s.quantity)
  quantity_per_day, p.prod_min_price*0.8 AS product_cost, p.prod_list_price 
  AS product_price
FROM sales_activity_direct s, products p
WHERE s.product_id = p.prod_id AND TRUNC(sales_date) = TRUNC(SYSDATE)
GROUP BY TRUNC(sales_date), s.product_id, s.customer_id, s.promotion_id, 
  p.prod_min_price*0.8, p.prod_list_price;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-83B9F592-5612-4A97-B8AC-5B6FB5DE0D17">
                           <p class="titleinexample">Example 18-3 Conditional ALL Insert</p>
                           <p>The following statement inserts a row into the <code class="codeph">sales</code> and <code class="codeph">costs</code> tables for all sales transactions with a valid promotion and stores the information about multiple identical orders of a customer in a separate table <code class="codeph">cum_sales_activity</code>. It is possible two rows will be inserted for some sales transactions, and none for others.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT ALL
WHEN promotion_id IN (SELECT promo_id FROM promotions) THEN
   INTO sales VALUES (product_id, customer_id, today, 3, promotion_id,
                       quantity_per_day, amount_per_day)
   INTO costs VALUES (product_id, today, promotion_id, 3,
                      product_cost, product_price)
WHEN num_of_orders &gt; 1 THEN
   INTO cum_sales_activity VALUES (today, product_id, customer_id,
     promotion_id, quantity_per_day, amount_per_day, num_of_orders)
SELECT TRUNC(s.sales_date) AS today, s.product_id, s.customer_id,
   s.promotion_id, SUM(s.amount) AS amount_per_day, SUM(s.quantity)
   quantity_per_day, COUNT(*) num_of_orders, p.prod_min_price*0.8
   AS product_cost, p.prod_list_price AS product_price
FROM sales_activity_direct s, products p
WHERE s.product_id = p.prod_id
AND TRUNC(sales_date) = TRUNC(SYSDATE)
GROUP BY TRUNC(sales_date), s.product_id, s.customer_id,
 s.promotion_id, p.prod_min_price*0.8, p.prod_list_price;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-348DCBDD-BB6A-4F54-893D-ECE3E180D1E5">
                           <p class="titleinexample">Example 18-4 Conditional FIRST Insert</p>
                           <p>The following statement inserts into an appropriate shipping manifest according to the total quantity and the weight of a product order. An exception is made for high value orders, which are also sent by express, unless their weight classification is too high. All incorrect orders, in this simple example represented as orders without a quantity, are stored in a separate table. It assumes the existence of appropriate tables <code class="codeph">large_freight_shipping</code>, <code class="codeph">express_shipping</code>, <code class="codeph">default_shipping</code>, and <code class="codeph">incorrect_sales_order</code>.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT FIRST WHEN (sum_quantity_sold &gt; 10 AND prod_weight_class &lt; 5) AND
sum_quantity_sold &gt;=1) OR (sum_quantity_sold &gt; 5 AND prod_weight_class &gt; 5) THEN
  INTO large_freight_shipping VALUES
      (time_id, cust_id, prod_id, prod_weight_class, sum_quantity_sold)
  WHEN sum_amount_sold &gt; 1000 AND sum_quantity_sold &gt;=1 THEN
  INTO express_shipping VALUES
      (time_id, cust_id, prod_id, prod_weight_class,
       sum_amount_sold, sum_quantity_sold)
WHEN (sum_quantity_sold &gt;=1) THEN INTO default_shipping VALUES
      (time_id, cust_id, prod_id, sum_quantity_sold)
ELSE INTO incorrect_sales_order VALUES (time_id, cust_id, prod_id)
SELECT s.time_id, s.cust_id, s.prod_id, p.prod_weight_class,
       SUM(amount_sold) AS sum_amount_sold,
       SUM(quantity_sold) AS sum_quantity_sold
FROM sales s, products p
WHERE s.prod_id = p.prod_id AND s.time_id = TRUNC(SYSDATE)
GROUP BY s.time_id, s.cust_id, s.prod_id, p.prod_weight_class;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-6B1707BA-287E-4409-B935-CCBE18BB8EE9">
                           <p class="titleinexample">Example 18-5 Mixed Conditional and Unconditional Insert</p>
                           <p>The following example inserts new customers into the <code class="codeph">customers</code> table and stores all new customers with <code class="codeph">cust_credit_limit</code> higher then 4500 in an additional, separate table for further promotions.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT FIRST WHEN cust_credit_limit &gt;= 4500 THEN INTO customers
  INTO customers_special VALUES (cust_id, cust_credit_limit)
  ELSE INTO customers
SELECT * FROM customers_new;
</pre><div class="infoboxnotealso" id="GUID-573C71FA-9CC7-41F1-B27A-AC5668A02854__GUID-EC09222A-5C7B-42BC-BBF5-8479F656F857">
                              <p class="notep1">See Also:</p>
                              <p><a href="refreshing-materialized-views.html#GUID-64068234-BDB0-4C12-AE70-75571046A586" title="A materialized view that uses the ON STATEMENT refresh mode is automatically refreshed every time a DML operation is performed on any of the materialized view’s base tables. Oracle Database performs fast refresh for materialized views that are defined using approximate queries.While redefining a table online using the DBMS_REDEFINITION package, you can perform incremental refresh of fast refreshable materialized views that are dependent on the table being redefined.You can use the complete, fast, or PCT refresh methods to refresh a materialized view that is based on a hybrid partitioned table.">Refreshing Materialized Views</a> for more information regarding <code class="codeph">MERGE</code> operations
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DWHSG8327"></a><div class="props_rev_3"><a id="GUID-11660715-44A7-4687-8E4B-2C18B8339A1D" name="GUID-11660715-44A7-4687-8E4B-2C18B8339A1D"></a><h4 id="DWHSG-GUID-11660715-44A7-4687-8E4B-2C18B8339A1D" class="sect4"><span class="enumeration_section">18.3.2 </span>Transforming Data Using PL/SQL
                  </h4>
                  <div>
                     <p>In a data warehouse environment, you can use procedural languages such as PL/SQL to implement complex transformations in the Oracle Database. Whereas CTAS operates on entire tables and emphasizes parallelism, PL/SQL provides a row-based approached and can accommodate very sophisticated transformation rules. For example, a PL/SQL procedure could open multiple cursors and read data from multiple source tables, combine this data using complex business rules, and finally insert the transformed data into one or more target table. It would be difficult or impossible to express the same sequence of operations using standard SQL statements.</p>
                     <p>Using a procedural language, a specific transformation (or number of transformation steps) within a complex ETL processing can be encapsulated, reading data from an intermediate staging area and generating a new table object as output. A previously generated transformation input table and a subsequent transformation will consume the table generated by this specific transformation. Alternatively, these encapsulated transformation steps within the complete ETL process can be integrated seamlessly, thus streaming sets of rows between each other without the necessity of intermediate staging. You can use table functions to implement such behavior.</p>
                  </div>
               </div><a id="DWHSG8328"></a><div class="props_rev_3"><a id="GUID-98157B1C-86EC-4888-9760-DB0164D2A832" name="GUID-98157B1C-86EC-4888-9760-DB0164D2A832"></a><h4 id="DWHSG-GUID-98157B1C-86EC-4888-9760-DB0164D2A832" class="sect4"><span class="enumeration_section">18.3.3 </span>Transforming Data Using Table Functions
                  </h4>
                  <div>
                     <p>Table functions provide the support for pipelined and parallel execution of transformations implemented in PL/SQL, C, or Java.<span class="bold"> </span>Scenarios as mentioned earlier can be done without requiring the use of intermediate staging tables, which interrupt the data flow through various transformations steps. Detailed information about table functions is provided in <span class="q">"<a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B">What is a Table Function?</a>"</span>.
                     </p>
                  </div><a id="DWHSG8330"></a><a id="DWHSG8331"></a><a id="DWHSG8332"></a><a id="DWHSG8329"></a><div class="props_rev_3"><a id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B" name="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B"></a><h5 id="DWHSG-GUID-53CA1DE7-F323-46AA-8803-C76E1642486B" class="sect5"><span class="enumeration_section">18.3.3.1 </span>What is a Table Function?
                     </h5>
                     <div>
                        <p>A table function is defined as a function that can produce a set of rows as output. Additionally, table functions can take a set of rows as input. Prior to Oracle9<span class="italic">i</span>, PL/SQL functions:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Could not take cursors as input.</p>
                           </li>
                           <li>
                              <p>Could not be parallelized or pipelined.</p>
                           </li>
                        </ul>
                        <p>Now, functions are not limited in these ways. Table functions extend database functionality by allowing:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Multiple rows to be returned from a function.</p>
                           </li>
                           <li>
                              <p>Results of SQL subqueries (that select multiple rows) to be passed directly to functions.</p>
                           </li>
                           <li>
                              <p>Functions take cursors as input.</p>
                           </li>
                           <li>
                              <p>Functions can be parallelized.</p>
                           </li>
                           <li>
                              <p>Returning result sets incrementally for further processing as soon as they are created. This is called incremental pipelining</p>
                           </li>
                        </ul>
                        <p>Table functions can be defined in PL/SQL using a native PL/SQL interface, or in Java or C using the Oracle Data Cartridge Interface (ODCI).</p>
                        <div class="infoboxnotealso" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-012AFC1F-DF1D-428F-8B0A-D5C4EAFDFCD1">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS01210" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for further information
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../addci/using-pipelined-and-parallel-table-functions.html#ADDCI2140" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for further information
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__I1006638">Figure 18-3</a> illustrates a typical aggregation where you input a set of rows and output a set of rows, in that case, after performing a <code class="codeph">SUM</code> operation.
                        </p>
                        <div class="figure" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__I1006638">
                           <p class="titleinfigure">Figure 18-3 Table Function Example</p><img src="img/dwhsg084.gif" alt="Description of Figure 18-3 follows" title="Description of Figure 18-3 follows" longdesc="img_text/dwhsg084.html"><br><a href="img_text/dwhsg084.html">Description of "Figure 18-3 Table Function Example"</a></div>
                        <!-- class="figure" -->
                        <p>The pseudocode for this operation would be similar to:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO Out SELECT * FROM ("Table Function"(SELECT * FROM In));
</pre><p>The table function takes the result of the <code class="codeph">SELECT</code> on <code class="codeph">In</code> as input and delivers a set of records in a different format as output for a direct insertion into <code class="codeph">Out</code>.
                        </p>
                        <p>Additionally, a table function can fan out data within the scope of an atomic transaction. This can be used for many occasions like an efficient logging mechanism or a fan out for other independent transformations. In such a scenario, a single staging table is needed.</p>
                        <div class="figure" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-999253ED-2787-4948-B9B0-40D96C6CD5A8">
                           <p class="titleinfigure">Figure 18-4 Pipelined Parallel Transformation with Fanout</p><img src="img/dwhsg079.gif" alt="Description of Figure 18-4 follows" title="Description of Figure 18-4 follows" longdesc="img_text/dwhsg079.html"><br><a href="img_text/dwhsg079.html">Description of "Figure 18-4 Pipelined Parallel Transformation with Fanout"</a></div>
                        <!-- class="figure" -->
                        <p>The pseudocode for this would be similar to:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO target SELECT * FROM (tf2(SELECT * 
FROM (tf1(SELECT * FROM source))));
</pre><p>This inserts into <code class="codeph">target</code> and, as part of <code class="codeph">tf1</code>, into <code class="codeph">Stage</code> <code class="codeph">Table</code> <code class="codeph">1</code> within the scope of an atomic transaction.
                        </p><pre class="oac_no_warn" dir="ltr">INSERT INTO target SELECT * FROM tf3(SELT * FROM stage_table1);</pre><div class="infoboxnotealso" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-926150FA-ADB1-46D0-94A5-0EA5D04FA3B6">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS01210" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for details about table functions
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../addci/using-pipelined-and-parallel-table-functions.html#ADDCI2140" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for details about tables functions implemented in languages other than PL/SQL
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="section">
                           <p class="subhead3" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-0C215ACE-E2B1-4B2D-9B06-98365261B1CD">Objects to Create Before Running Table Function Examples</p>
                           <p>The following examples demonstrate the fundamentals of table functions, without the usage of complex business rules implemented inside those functions. They are chosen for demonstration purposes only, and are all implemented in PL/SQL.</p>
                           <p>Table functions return sets of records and can take cursors as input. Besides the <code class="codeph">sh</code> sample schema, you have to set up the following database objects before using the examples:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE product_t AS OBJECT (
      prod_id                  NUMBER(6)
    , prod_name                VARCHAR2(50)
    , prod_desc                VARCHAR2(4000)
    , prod_subcategory         VARCHAR2(50)
    , prod_subcategory_desc    VARCHAR2(2000)
    , prod_category            VARCHAR2(50)
    , prod_category_desc       VARCHAR2(2000)
    , prod_weight_class        NUMBER(2)
    , prod_unit_of_measure     VARCHAR2(20)
    , prod_pack_size           VARCHAR2(30)
    , supplier_id              NUMBER(6)
    , prod_status              VARCHAR2(20)
    , prod_list_price          NUMBER(8,2)
    , prod_min_price           NUMBER(8,2)
);
/
CREATE TYPE product_t_table AS TABLE OF product_t;
/
COMMIT;

CREATE OR REPLACE PACKAGE cursor_PKG AS
  TYPE product_t_rec IS RECORD (
      prod_id                   NUMBER(6)
    , prod_name                 VARCHAR2(50)
    , prod_desc                 VARCHAR2(4000)
    , prod_subcategory          VARCHAR2(50)
    , prod_subcategory_desc     VARCHAR2(2000)
    , prod_category             VARCHAR2(50)
    , prod_category_desc        VARCHAR2(2000)
    , prod_weight_class         NUMBER(2)
    , prod_unit_of_measure      VARCHAR2(20)
    , prod_pack_size            VARCHAR2(30)
    , supplier_id               NUMBER(6)
    , prod_status               VARCHAR2(20)
    , prod_list_price           NUMBER(8,2)
    , prod_min_price            NUMBER(8,2));
  TYPE product_t_rectab IS TABLE OF product_t_rec;
  TYPE strong_refcur_t IS REF CURSOR RETURN product_t_rec;
  TYPE refcur_t IS REF CURSOR;
END;
/

REM artificial help table, used later
CREATE TABLE obsolete_products_errors (prod_id NUMBER, msg VARCHAR2(2000));
</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__CACFHAGG">
                           <p class="titleinexample">Example 18-6 Table Functions Example: Basic Example</p>
                           <p>This example demonstrates a simple filtering; it shows all obsolete products except the <code class="codeph">prod_category</code> Electronics. The table function returns the result set as a set of records and uses a weakly typed <code class="codeph">REF</code> <code class="codeph">CURSOR</code> as input.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION obsolete_products(cur cursor_pkg.refcur_t)
RETURN product_t_table
IS
    prod_id                   NUMBER(6); 
    prod_name                 VARCHAR2(50);
    prod_desc                 VARCHAR2(4000);
    prod_subcategory          VARCHAR2(50);
    prod_subcategory_desc     VARCHAR2(2000);
    prod_category             VARCHAR2(50);
    prod_category_desc        VARCHAR2(2000);
    prod_weight_class         NUMBER(2);
    prod_unit_of_measure      VARCHAR2(20);
    prod_pack_size            VARCHAR2(30);
    supplier_id               NUMBER(6);
    prod_status               VARCHAR2(20);
    prod_list_price           NUMBER(8,2);
    prod_min_price            NUMBER(8,2);
    sales NUMBER:=0;
    objset product_t_table := product_t_table();
    i NUMBER := 0;
BEGIN
   LOOP
     -- Fetch from cursor variable
     FETCH cur INTO prod_id, prod_name, prod_desc, prod_subcategory, 
    prod_subcategory_desc, prod_category, prod_category_desc, prod_weight_class,
    prod_unit_of_measure, prod_pack_size, supplier_id, prod_status, 
    prod_list_price, prod_min_price;
     EXIT WHEN cur%NOTFOUND; -- exit when last row is fetched
     -- Category Electronics is not meant to be obsolete and will be suppressed
     IF prod_status='obsolete' AND prod_category != 'Electronics' THEN
     -- append to collection
     i:=i+1;
     objset.extend;
     objset(i):=product_t( prod_id, prod_name, prod_desc, prod_subcategory,
     prod_subcategory_desc, prod_category, prod_category_desc, 
     prod_weight_class, prod_unit_of_measure, prod_pack_size, supplier_id, 
     prod_status, prod_list_price, prod_min_price);
     END IF;
   END LOOP;
   CLOSE cur;
   RETURN objset;
END;
/
</pre><p>You can use the table function in a SQL statement to show the results. Here you use additional SQL functionality for the output:</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT UPPER(prod_category), prod_status
FROM TABLE(obsolete_products(
   CURSOR(SELECT prod_id, prod_name, prod_desc, prod_subcategory,
   prod_subcategory_desc, prod_category, prod_category_desc, prod_weight_class,
   prod_unit_of_measure, prod_pack_size,
   supplier_id, prod_status, prod_list_price, prod_min_price
          FROM products)));
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-32FB1B25-A469-4EF9-8A7F-6529447A8379">
                           <p class="titleinexample">Example 18-7 Table Functions Example: Filtering Using REF CURSOR</p>
                           <p>This example implements the same filtering as <a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__CACFHAGG">Example 18-6</a>. The main differences between the two are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>This example uses a strong typed <code class="codeph">REF</code> <code class="codeph">CURSOR</code> as input and can be parallelized based on the objects of the strong typed cursor, as shown in one of the following examples.
                                 </p>
                              </li>
                              <li>
                                 <p>The table function returns the result set incrementally as soon as records are created.</p>
                              </li>
                           </ul><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION 
  obsolete_products_pipe(cur cursor_pkg.strong_refcur_t) RETURN product_t_table
PIPELINED
PARALLEL_ENABLE (PARTITION cur BY ANY) IS
    prod_id                 NUMBER(6);
    prod_name               VARCHAR2(50);
    prod_desc               VARCHAR2(4000);
    prod_subcategory        VARCHAR2(50);
    prod_subcategory_desc   VARCHAR2(2000);
    prod_category           VARCHAR2(50);
    prod_category_desc      VARCHAR2(2000);
    prod_weight_class       NUMBER(2);
    prod_unit_of_measure   VARCHAR2(20);
    prod_pack_size         VARCHAR2(30);
    supplier_id            NUMBER(6);
    prod_status            VARCHAR2(20);
    prod_list_price        NUMBER(8,2);
    prod_min_price         NUMBER(8,2);
    sales NUMBER:=0;
BEGIN
 LOOP
     -- Fetch from cursor variable
     FETCH cur INTO prod_id, prod_name, prod_desc, prod_subcategory,
     prod_subcategory_desc, prod_category, prod_category_desc, 
     prod_weight_class, prod_unit_of_measure, prod_pack_size, supplier_id, 
     prod_status, prod_list_price, prod_min_price;
     EXIT WHEN cur%NOTFOUND; -- exit when last row is fetched
     IF prod_status='obsolete' AND prod_category !='Electronics' THEN
       PIPE ROW (product_t( prod_id, prod_name, prod_desc, prod_subcategory,
 prod_subcategory_desc, prod_category, prod_category_desc, prod_weight_class,
 prod_unit_of_measure, prod_pack_size, supplier_id, prod_status, 
 prod_list_price, prod_min_price));
     END IF;
   END LOOP;
   CLOSE cur;
   RETURN;
END;
/
</pre><p>You can use the table function as follows:</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category,
                DECODE(prod_status,'obsolete','NO LONGER AVAILABLE','N/A')
FROM TABLE(obsolete_products_pipe(
  CURSOR(SELECT prod_id, prod_name, prod_desc, prod_subcategory,
         prod_subcategory_desc, prod_category, prod_category_desc,
         prod_weight_class, prod_unit_of_measure, prod_pack_size,
         supplier_id, prod_status, prod_list_price, prod_min_price
         FROM products)));
</pre><p>You now change the degree of parallelism for the input table products and issue the same statement again:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE products PARALLEL 4;
</pre><p>The session statistics show that the statement has been parallelized:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM V$PQ_SESSTAT WHERE statistic='Queries Parallelized';

STATISTIC              LAST_QUERY  SESSION_TOTAL
--------------------   ----------  -------------
Queries Parallelized            1              3

1 row selected.
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__GUID-F06815AD-5A85-4D00-9517-623F1DE58B40">
                           <p class="titleinexample">Example 18-8 Table Functions Example: Fanning Out Results into Persistent Tables</p>
                           <p>Table functions are also capable to fanout results into persistent table structures. In this example, the function filters all obsolete products except those of a specific <code class="codeph">prod_category</code> (default Electronics), which was set to status <code class="codeph">obsolete</code> by error. The result set of the table function consists of all other obsolete product categories. The detected wrong <code class="codeph">prod_id</code> IDs are stored in a separate table structure <code class="codeph">obsolete_products_error</code>. Note that if a table function is part of an autonomous transaction, it must <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> before each <code class="codeph">PIPE</code> <code class="codeph">ROW</code> statement to avoid an error in the callings subprogram. Its result set consists of all other obsolete product categories. It furthermore demonstrates how normal variables can be used in conjunction with table functions:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION obsolete_products_dml(cur cursor_pkg.strong_refcur_t,
 prod_cat varchar2 DEFAULT 'Electronics') RETURN product_t_table
PIPELINED
PARALLEL_ENABLE (PARTITION cur BY ANY) IS
    PRAGMA AUTONOMOUS_TRANSACTION;
    prod_id                   NUMBER(6);
    prod_name                 VARCHAR2(50);
    prod_desc                 VARCHAR2(4000);
    prod_subcategory          VARCHAR2(50);
    prod_subcategory_desc     VARCHAR2(2000);
    prod_category             VARCHAR2(50);
    prod_category_desc        VARCHAR2(2000);
    prod_weight_class         NUMBER(2);
    prod_unit_of_measure      VARCHAR2(20);
    prod_pack_size            VARCHAR2(30);
    supplier_id               NUMBER(6);
    prod_status               VARCHAR2(20);
    prod_list_price           NUMBER(8,2);
    prod_min_price            NUMBER(8,2);
    sales                     NUMBER:=0;
BEGIN
   LOOP
     -- Fetch from cursor variable
     FETCH cur INTO prod_id, prod_name, prod_desc, prod_subcategory, 
  prod_subcategory_desc, prod_category, prod_category_desc, prod_weight_class,
  prod_unit_of_measure, prod_pack_size, supplier_id, prod_status,
     prod_list_price, prod_min_price;
     EXIT WHEN cur%NOTFOUND; -- exit when last row is fetched
     IF prod_status='obsolete' THEN
       IF prod_category=prod_cat THEN
          INSERT INTO obsolete_products_errors VALUES
          (prod_id, 'correction: category '||UPPER(prod_cat)||' still
   available');
          COMMIT;
       ELSE
       PIPE ROW (product_t( prod_id, prod_name, prod_desc, prod_subcategory,
 prod_subcategory_desc, prod_category, prod_category_desc, prod_weight_class,
 prod_unit_of_measure, prod_pack_size, supplier_id, prod_status, 
 prod_list_price, prod_min_price));
       END IF;
     END IF;
   END LOOP;
   CLOSE cur;
   RETURN;
END;
/
</pre><p>The following query shows all obsolete product groups except the <code class="codeph">prod_category</code> Electronics, which was wrongly set to status <code class="codeph">obsolete</code>:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category, prod_status FROM TABLE(obsolete_products_dml(
CURSOR(SELECT prod_id, prod_name, prod_desc, prod_subcategory, 
  prod_subcategory_desc, prod_category, prod_category_desc, prod_weight_class,
  prod_unit_of_measure, prod_pack_size, supplier_id, prod_status, 
  prod_list_price, prod_min_price
FROM products)));
</pre><p>As you can see, there are some products of the <code class="codeph">prod_category</code> Electronics that were obsoleted by accident:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT msg FROM obsolete_products_errors;
</pre><p>Taking advantage of the second input variable, you can specify a different product group than Electronics to be considered:</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category, prod_status
FROM TABLE(obsolete_products_dml(
CURSOR(SELECT prod_id, prod_name, prod_desc, prod_subcategory,
  prod_subcategory_desc, prod_category, prod_category_desc, prod_weight_class,
  prod_unit_of_measure, prod_pack_size, supplier_id, prod_status,
  prod_list_price, prod_min_price
FROM products),'Photo'));
</pre><p>Because table functions can be used like a normal table, they can be nested, as shown in the following:</p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT prod_category, prod_status
FROM TABLE(obsolete_products_dml(CURSOR(SELECT * 
FROM TABLE(obsolete_products_pipe(CURSOR(SELECT prod_id, prod_name, prod_desc,
 prod_subcategory, prod_subcategory_desc, prod_category, prod_category_desc,
 prod_weight_class, prod_unit_of_measure, prod_pack_size, supplier_id, 
 prod_status, prod_list_price, prod_min_price
FROM products))))));
</pre><p>The biggest advantage of Oracle Database's ETL is its toolkit functionality, where you can combine any of the latter discussed functionality to improve and speed up your ETL processing. For example, you can take an external table as input, join it with an existing table and use it as input for a parallelized table function to process complex business logic. This table function can be used as input source for a <code class="codeph">MERGE</code> operation, thus streaming the new information for the data warehouse, provided in a flat file within one single statement through the complete ETL process.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8333"></a><div class="props_rev_3"><a id="GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A" name="GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A"></a><h3 id="DWHSG-GUID-DAD3F208-A1CB-4491-8D61-D4640B51286A" class="sect3"><span class="enumeration_section">18.4 </span>Error Logging and Handling Mechanisms
               </h3>
               <div>
                  <p>Ha<a id="d63021e1397" class="indexterm-anchor"></a><a id="d63021e1399" class="indexterm-anchor"></a><a id="d63021e1403" class="indexterm-anchor"></a>ving data that is not clean is very common when loading and transforming data, especially when dealing with data coming from a variety of sources, including external ones. If this dirty data causes you to abort a long-running load or transformation operation, a lot of time and resources is wasted.
                  </p>
                  <p>The following topics discuss the two main causes of errors and how to address them:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89">Business Rule Violations</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-92563272-9748-4A5F-882E-7A645BF69859" title="External data that is used during the data transformation process may sometimes be inaccurate thereby causing data conversion errors. Certain SQL functions can be used to handle data conversion errors.">Data Rule Violations (Data Errors)</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8334"></a><div class="props_rev_3"><a id="GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89" name="GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89"></a><h4 id="DWHSG-GUID-3AAAC9DA-2009-474A-B85A-7C7999C80F89" class="sect4"><span class="enumeration_section">18.4.1 </span>Business Rule Violations
                  </h4>
                  <div>
                     <p>Data that is logically not clean violates business rules that are known prior to any data consumption. Most of the time, handling these kind of errors will be incorporated into the loading or transformation process. However, in situations where the error identification for all records would become too expensive and the business rule can be enforced as a data rule violation, for example, testing hundreds of columns to see if they are <code class="codeph">NOT</code> <code class="codeph">NULL</code>, programmers often choose to handle even known possible logical error cases more generically. An example of this is shown in <span class="q">"<a href="loading-transformation-date-warehouses.html#GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0">Data Error Scenarios</a>"</span>.
                     </p>
                     <p>Incorporating logical rules can be as easy as applying filter conditions on the data input stream or as complex as feeding the dirty data into a different transformation workflow. Some examples are as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Filtering of logical data errors using SQL. Data that does not adhere to certain conditions is filtered out prior to being processed.</p>
                        </li>
                        <li>
                           <p>Identifying and separating logical data errors. In simple cases, this can be accomplished using SQL, as shown in <a href="loading-transformation-date-warehouses.html#GUID-033C3049-7936-46C2-881C-14BA409D294B__i1006454">Example 18-1</a>, or in more complex cases in a procedural approach, as shown in <a href="loading-transformation-date-warehouses.html#GUID-53CA1DE7-F323-46AA-8803-C76E1642486B__CACFHAGG">Example 18-6</a>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DWHSG8335"></a><div class="props_rev_3"><a id="GUID-92563272-9748-4A5F-882E-7A645BF69859" name="GUID-92563272-9748-4A5F-882E-7A645BF69859"></a><h4 id="DWHSG-GUID-92563272-9748-4A5F-882E-7A645BF69859" class="sect4"><span class="enumeration_section">18.4.2 </span>Data Rule Violations (Data Errors)
                  </h4>
                  <div>
                     <p>Unlike logical errors, data rule violations are not usually anticipated by the load or transformation process. Such unexpected data rule violations (also known as data errors) that are not handled from an operation cause the operation to fail. Data rule violations are error conditions that happen inside the database and cause a statement to fail. Examples of this are data type conversion errors or constraint violations.</p>
                     <p></p>
                     <p>In the past, SQL did not offer a way to handle data errors on a row level as part of its bulk processing. The only way to handle data errors inside the database was to use PL/SQL. Now, however, you can log data errors into a special error table while the DML operation continues. You can also handle data conversion errors using SQL functions.</p>
                     <p>The following sections briefly discuss the various exception handling strategies:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0" title="External data that is used during the data transformation process may sometimes be inaccurate thereby causing data conversion errors. Certain SQL functions can be used to handle data conversion errors.">Handling Data Errors with SQL</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29">Handling Data Errors in PL/SQL</a></p>
                        </li>
                        <li>
                           <p><a href="loading-transformation-date-warehouses.html#GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54">Handling Data Errors with an Error Logging Table</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="sect4"><a id="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0" name="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0"></a><h5 id="DWHSG-GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0" class="sect5"><span class="enumeration_section">18.4.2.1 </span>Handling Data Errors with SQL
                     </h5>
                     <div>
                        <p>External data that is used during the data transformation process may sometimes be inaccurate thereby causing data conversion errors. Certain SQL functions can be used to handle data conversion errors.</p>
                        <div class="p">
                           <p></p>
                           <p>The <code class="codeph">COMPATIBLE</code> parameter must be set to 12.2 to use SQL functions that handle data conversion errors.
                           </p>
                           <p>The following strategies are available to handle data conversion errors with SQL functions:</p>
                        </div>
                        <!-- class="section" -->
                        <ul>
                           <li class="stepexpand"><span>Explicit filtering of either valid or invalid data</span><div>
                                 <p>The <code class="codeph">VALIDATE_CONVERSION</code> function identifies problem data that cannot be converted to the required data type. It returns 1 if a given expression can be converted to the specified data type, else it returns 0.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Error handling within SQL data type conversion functions</span><div>
                                 <p>The <code class="codeph">CAST</code>, <code class="codeph">TO_NUMBER</code>, <code class="codeph">TO_BINARY_FLOAT</code>, <code class="codeph">TO_BINARY_DOUBLE</code>, <code class="codeph">TO_DATE</code>, <code class="codeph">TO_TIMESTAMP</code>, <code class="codeph">TO_TIMESTAMP_TZ</code>, <code class="codeph">TO_DSINTERVAL</code>, and <code class="codeph">TO_YMINTERVAL</code> functions can return a user-specified value, instead of an error, when data type conversion errors occur. This reduces failures during an ETL process.
                                 </p>
                                 <p>The user-specified value is returned only if an error occurs while converting the expression, not when evaluating the expression. The <code class="codeph">CAST</code> function also allows format strings and NLS parameter strings as arguments for certain data types.
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <div class="example" id="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0__GUID-C01B88B1-1D36-42E1-9488-C49C89888DE9">
                           <p class="titleinexample">Example 18-9 Using VALIDATE_CONVERSION and CAST to Handle Data Conversion Errors</p>
                           <p>Assume that data is loaded into the <code class="codeph">PRODUCTS</code> table from the <code class="codeph">TMP_PRODUCTS</code> table. The number and names of columns in both tables are the same, but the data type of the <code class="codeph">prod_id</code> column is different. The <code class="codeph">prod_id</code> column in the <code class="codeph">PRODUCTS</code> table is of data type <code class="codeph">NUMBER</code>. Although the data in the <code class="codeph">prod_id</code> column in the <code class="codeph">TMP_PRODUCTS</code> table is numeric, its data type is <code class="codeph">VARCHAR2</code>. While loading data into the <code class="codeph">PRODUCTS</code> table, you can handle data type conversion errors on the <code class="codeph">prod_id</code> column by either filtering out the rows containing incorrect <code class="codeph">prod_id</code> values or assigning a default value for <code class="codeph">prod_id</code> values that cannot be converted to <code class="codeph">NUMBER</code>.
                           </p>
                           <p>The following command loads data from the <code class="codeph">TMP_PRODUCTS</code> table into <code class="codeph">PRODUCTS</code> table. Only rows where <code class="codeph">tmp_products.prod_id</code> can be successfully converted into a numeric value are inserted.
                           </p><pre class="pre codeblock"><code>INSERT INTO PRODUCTS 
   (SELECT prod_id, prod_name, prod_desc, prod_category_id, prod_category_name, 
       prod_category_desc, prod_list_price 
    FROM tmp_products
    WHERE VALIDATE_CONVERSION(prod_id AS NUMBER)=1);</code></pre><p>You can use the <code class="codeph">CAST</code> function to handle <code class="codeph">prod_id</code> values that cause data type conversion errors. The following <code class="codeph">INSERT</code> command loads data from the <code class="codeph">TMP_PRODUCTS</code> table into the <code class="codeph">PRODUCTS</code> table. The <code class="codeph">CAST</code> function used with <code class="codeph">prod_id</code> ensures that the default value of 0 is assigned to <code class="codeph">prod_id</code> when a data type conversion error occurs. This ensures that the load operation does not fail because of data type conversion errors.
                           </p><pre class="pre codeblock"><code>INSERT INTO PRODUCTS 
   (SELECT CAST(prod_id AS NUMBER DEFAULT 0 ON CONVERSION ERROR), prod_name, 
       prod_desc, prod_category_id, prod_category_name, prod_category_desc, 
       prod_list_price 
    FROM tmp_products);</code></pre><div class="infoboxnotealso" id="GUID-F26DFED8-0A21-4546-8E74-CD3741DFFFC0__GUID-DA74FAC3-7E9C-486C-B23C-CB395515DAC7">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/Functions.html#SQLRF-GUID-D079EFD3-C683-441F-977E-2C9503089982" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about the <code class="codeph">CAST</code> and <code class="codeph">VALIDATE_CONVERSION</code> functions and their supported data types
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DWHSG8336"></a><div class="props_rev_3"><a id="GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29" name="GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29"></a><h5 id="DWHSG-GUID-9AC08819-AA89-4FCE-8F87-0DA0E6932C29" class="sect5"><span class="enumeration_section">18.4.2.2 </span>Handling Data Errors in PL/SQL
                     </h5>
                     <div>
                        <div class="section">
                           <p>The following statement is an example of how error handling can be done using PL/SQL. Note that you have to use procedural record-level processing to catch any errors. This statement is a rough equivalent of the statement discussed in <span class="q">"<a href="loading-transformation-date-warehouses.html#GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54">Handling Data Errors with an Error Logging Table</a>"</span>.
                           </p><pre class="oac_no_warn" dir="ltr">DECLARE
errm number default 0;
BEGIN
FOR crec IN (SELECT product_id, customer_id, TRUNC(sales_date) sd,
                   promotion_id, quantity, amount
             FROM sales_activity_direct) loop
 
BEGIN
 INSERT INTO sales VALUES (crec.product_id, crec.customer_id,
                           crec.sd, 3, crec.promotion_id,
                           crec.quantity, crec.amount);
exception
WHEN others then
 errm := sqlerrm;
 INSERT INTO sales_activity_error
        VALUES (errm, crec.product_id, crec.customer_id, crec.sd,
                crec.promotion_id, crec.quantity, crec.amount);
END;
END loop;
END;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DWHSG8337"></a><div class="props_rev_3"><a id="GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54" name="GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54"></a><h5 id="DWHSG-GUID-F8F527F2-A7D7-4262-A1F0-D1E84FC3DD54" class="sect5"><span class="enumeration_section">18.4.2.3 </span>Handling Data Errors with an Error Logging Table
                     </h5>
                     <div>
                        <div class="section">
                           <p>DML error<a id="d63021e1771" class="indexterm-anchor"></a> logging extends existing DML functionality by enabling you to specify the name of an error logging table into which Oracle Database should record errors encountered during DML operations. This enables you to complete the DML operation in spite of any errors, and to take corrective action on the erroneous rows at a later time.
                           </p>
                           <p>This DML error logging table consists of several mandatory control columns and a set of user-defined columns that represent either all or a subset of the columns of the target table of the DML operation using a data type that is capable of storing potential errors for the target column. For example, you need a <code class="codeph">VARCHAR2</code> data type in the error logging table to store <code class="codeph">TO_NUM</code> data type conversion errors for a <code class="codeph">NUMBER</code> column in the target table. You<a id="d63021e1787" class="indexterm-anchor"></a> should use the <code class="codeph">DBMS_ERRLOG</code> package to create the DML error logging tables. See the <a href="../arpls/DBMS_ERRLOG.html#ARPLS680" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about this package and the structure of the logging table.
                           </p>
                           <p>The column name mapping between the DML target table and an error logging table determines which columns besides the control columns is logged for a DML operation.</p>
                           <p>The following statement illustrates how to enhance the example in <span class="q">"<a href="loading-transformation-date-warehouses.html#GUID-E1BA12C1-5CE7-405C-8BC7-745ADE615E90">Transforming Data Using SQL</a>"</span> with DML error logging:
                           </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND PARALLEL */
INTO sales SELECT product_id, customer_id, TRUNC(sales_date), 3,
   promotion_id, quantity, amount
FROM sales_activity_direct
LOG ERRORS INTO sales_activity_errors('load_20040802')
REJECT LIMIT UNLIMITED
</pre><p>All data errors are logged into table <code class="codeph">sales_activity_errors</code>, identified by the optional tag <code class="codeph">load_20040802</code>. The <code class="codeph">INSERT</code> statement succeeds even in the presence of data errors. Note that you have to create the DML error logging table prior to using this statement.
                           </p>
                           <p>If <code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> <code class="codeph">X</code> had been specified, the statement would have failed with the error message of <code class="codeph">error X=1</code>. The error message can be different for different reject limits. In the case of a failing statement, only the DML statement is rolled back, not the insertion into the DML error logging table. The error logging table will contain X+1 rows.
                           </p>
                           <p>A DML error logging table can be in a different schema than the executing user, but you must fully specify the table name in that case. Optionally, the name of the DML error logging table can be omitted; Oracle then assumes a default name for the table as generated by <a id="d63021e1839" class="indexterm-anchor"></a><a id="d63021e1841" class="indexterm-anchor"></a>the <code class="codeph">DBMS_ERRLOG</code> package.
                           </p>
                           <p>Oracle Database logs the following errors during DML operations:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Column values that are too large.</p>
                              </li>
                              <li>
                                 <p>Constraint violations (<code class="codeph">NOT</code> <code class="codeph">NULL</code>, unique, referential, and check constraints).
                                 </p>
                              </li>
                              <li>
                                 <p>Errors raised during trigger execution.</p>
                              </li>
                              <li>
                                 <p>Errors resulting from type conversion between a column in a subquery and the corresponding column of the table.</p>
                              </li>
                              <li>
                                 <p>Partition mapping errors.</p>
                              </li>
                           </ul>
                           <p>The following conditions cause the statement to fail and roll back without invoking the error logging capability:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Violated deferred constraints.</p>
                              </li>
                              <li>
                                 <p>Out of space errors.</p>
                              </li>
                              <li>
                                 <p>Any direct-path <code class="codeph">INSERT</code> operation (<code class="codeph">INSERT</code> or <code class="codeph">MERGE</code>) that raises a unique constraint or index violation.
                                 </p>
                              </li>
                              <li>
                                 <p>Any <code class="codeph">UPDATE</code> operation (<code class="codeph">UPDATE</code> or <code class="codeph">MERGE</code>) that raises a unique constraint or index violation.
                                 </p>
                              </li>
                           </ul>
                           <p>In addition, you cannot track errors in the error logging table for <code class="codeph">LONG</code>, <code class="codeph">LOB</code>, or object type columns. See <a href="../sqlrf/INSERT.html#SQLRF55101" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on restrictions when using error logging.
                           </p>
                           <p>DML error logging can be applied to any kind of DML operation. Several examples are discussed in the following section.</p>
                           <p>Note that SQL*Loader as an external load utility offers the functionality of logging data errors as well, but lacks the advantage of the integrated ETL processing inside the database.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="DWHSG8338"></a><div class="props_rev_3"><a id="GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6" name="GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6"></a><h3 id="DWHSG-GUID-DD11528E-EE2A-4640-B8F1-75E6D3EB08F6" class="sect3"><span class="enumeration_section">18.5 </span>Loading and Transformation Scenarios
               </h3>
               <div>
                  <p>The following sections offer examp<a id="d63021e1946" class="indexterm-anchor"></a>les of typical loading and transformation tasks:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378">Key Lookup Scenario</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-F03860DA-EE32-46EF-A670-D6E7DE037669">Business Rule Violation Scenario</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0">Data Error Scenarios</a></p>
                     </li>
                     <li>
                        <p><a href="loading-transformation-date-warehouses.html#GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD">Pivoting Scenarios</a></p>
                     </li>
                  </ul>
               </div><a id="DWHSG8339"></a><div class="props_rev_3"><a id="GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378" name="GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378"></a><h4 id="DWHSG-GUID-8AFBA8C7-D42C-4860-942D-BF5DB229B378" class="sect4"><span class="enumeration_section">18.5.1 </span>Key Lookup Scenario
                  </h4>
                  <div>
                     <p><a id="d63021e1993" class="indexterm-anchor"></a>A typical transformation is the key lookup. For example, suppose that sales transaction data has been loaded into a retail data warehouse. Although the data warehouse's <code class="codeph">sales</code> table contains a <code class="codeph">product_id</code> column, the sales transaction data extracted from the source system contains Uniform Price Codes (UPC) instead of product IDs. Therefore, it is necessary to transform the UPC codes into product IDs before the new sales transaction data can be inserted into the <code class="codeph">sales</code> table.
                     </p>
                     <p>In order to execute this transformation, a lookup table must relate the <code class="codeph">product_id</code> values to the UPC codes. This table might be the <code class="codeph">product</code> dimension table, or perhaps another table in the data warehouse that has been created specifically to support this transformation. For this example, you assume that there is a table named <code class="codeph">product</code>, which has a <code class="codeph">product_id</code> and an <code class="codeph">upc_code</code> column.
                     </p>
                     <p>This data substitution transformation can be implemented using the following CTAS statement:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE temp_sales_step2 NOLOGGING PARALLEL AS SELECT sales_transaction_id,
  product.product_id sales_product_id, sales_customer_id, sales_time_id,
  sales_channel_id, sales_quantity_sold, sales_dollar_amount
FROM  temp_sales_step1, product
WHERE temp_sales_step1.upc_code = product.upc_code;
</pre><p>This CTAS statement converts each valid UPC code to a valid <code class="codeph">product_id</code> value. If the ETL process has guaranteed that each UPC code is valid, then this statement alone may be sufficient to implement the entire transformation.
                     </p>
                  </div>
               </div><a id="DWHSG8340"></a><div class="props_rev_3"><a id="GUID-F03860DA-EE32-46EF-A670-D6E7DE037669" name="GUID-F03860DA-EE32-46EF-A670-D6E7DE037669"></a><h4 id="DWHSG-GUID-F03860DA-EE32-46EF-A670-D6E7DE037669" class="sect4"><span class="enumeration_section">18.5.2 </span>Business Rule Violation Scenario
                  </h4>
                  <div>
                     <p>In the preceding example, if you must also handle new sales data that does not have valid UPC codes (a logical data error), you can use an additional CTAS statement to identify the invalid rows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE temp_sales_step1_invalid NOLOGGING PARALLEL AS
SELECT * FROM temp_sales_step1 s
WHERE NOT EXISTS (SELECT 1 FROM product p WHERE p.upc_code=s.upc_code);
</pre><p>This invalid data is now stored in a separate table, <code class="codeph">temp_sales_step1_invalid</code>, and can be handled separately by the ETL process.
                     </p>
                     <p>Another way to handle invalid data is to modify the original CTAS to use an outer join, as in the following statement:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE temp_sales_step2 NOLOGGING PARALLEL AS
SELECT sales_transaction_id, product.product_id sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id, sales_quantity_sold,
   sales_dollar_amount
FROM  temp_sales_step1, product
WHERE temp_sales_step1.upc_code = product.upc_code (+);
</pre><p>Using this outer join, the sales transactions that originally contained invalidated UPC codes are assigned a <code class="codeph">product_id</code> of <code class="codeph">NULL</code>. These transactions can be handled later. Alternatively, you could use a multi-table insert, separating the values with a <code class="codeph">product_id</code> of <code class="codeph">NULL</code> into a separate table; this might be a beneficial approach when the expected error count is relatively small compared to the total data volume. You do not have to touch the large target table but only a small one for a subsequent processing.
                     </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND PARALLEL */ FIRST
WHEN sales_product_id IS NOT NULL THEN
   INTO temp_sales_step2
   VALUES (sales_transaction_id, sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount)
ELSE
   INTO temp_sales_step1_invalid
   VALUES (sales_transaction_id, sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount)
SELECT sales_transaction_id, product.product_id sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount
FROM temp_sales_step1, product
WHERE temp_sales_step1.upc_code = product.upc_code (+);
</pre><p>Note that for this solution, the empty tables <code class="codeph">temp_sales_step2</code> and <code class="codeph">temp_sales_step1_invalid</code> must already exist.
                     </p>
                     <p>Additional approaches to handling invalid UPC codes exist. Some data warehouses may choose to insert null-valued <code class="codeph">product_id</code> values into their <code class="codeph">sales</code> table, while others may not allow any new data from the entire batch to be inserted into the <code class="codeph">sales</code> table until all invalid UPC codes have been addressed. The correct approach is determined by the business requirements of the data warehouse. Irrespective of the specific requirements, exception handling can be addressed by the same basic SQL techniques as transformations.
                     </p>
                  </div>
               </div><a id="DWHSG8341"></a><div class="props_rev_3"><a id="GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0" name="GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0"></a><h4 id="DWHSG-GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0" class="sect4"><span class="enumeration_section">18.5.3 </span>Data Error Scenarios
                  </h4>
                  <div>
                     <p>If the quality of the data is unknown, the example discussed in <a href="loading-transformation-date-warehouses.html#GUID-F03860DA-EE32-46EF-A670-D6E7DE037669">Business Rule Violation Scenario</a> could be enhanced to handle unexpected data errors, for example, data type conversion errors, as shown in the following:
                     </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND PARALLEL */ FIRST
WHEN sales_product_id IS NOT NULL THEN
INTO temp_sales_step2
VALUES (sales_transaction_id, sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount)
LOG ERRORS INTO sales_step2_errors('load_20040804')
REJECT LIMIT UNLIMITED
ELSE
INTO temp_sales_step1_invalid
VALUES (sales_transaction_id, sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount)
LOG ERRORS INTO sales_step2_errors('load_20040804')
REJECT LIMIT UNLIMITED
SELECT sales_transaction_id, product.product_id sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount
FROM temp_sales_step1, product
WHERE temp_sales_step1.upc_code = product.upc_code (+);
</pre><p>This statement tracks the logical data error of not having a valid product UPC code in table <code class="codeph">temp_sales_step1_invalid</code> and all other possible errors in a DML error logging table called <code class="codeph">sales_step2_errors</code>. Note that an error logging table can be used for several DML operations.
                     </p>
                     <p>An alternative to this approach would be to enforce the business rule of having a valid UPC code on the database level with a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint. Using an outer join, all orders not having a valid UPC code would be mapped to a <code class="codeph">NULL</code> value and then treated as data errors. This DML error logging capability is used to track these errors in the following statement:
                     </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND PARALLEL */
INTO temp_sales_step2
VALUES (sales_transaction_id, sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount)
SELECT sales_transaction_id, product.product_id sales_product_id,
   sales_customer_id, sales_time_id, sales_channel_id,
   sales_quantity_sold, sales_dollar_amount
FROM temp_sales_step1, product
WHERE temp_sales_step1.upc_code = product.upc_code (+)
LOG ERRORS INTO sales_step2_errors('load_20040804')
REJECT LIMIT UNLIMITED;
</pre><p>The error logging table contains all records that would have caused the DML operation to fail. You can use its content to analyze and correct any error. The content in the error logging table is preserved for any DML operation, irrespective of the success of the DML operation itself. Let us assume the following SQL statement failed because the reject limit was reached:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT /*+ APPEND NOLOGGING PARALLEL */ INTO sales_overall
2 SELECT * FROM sales_activity_direct
3 LOG ERRORS INTO err$_sales_overall ('load_test2')
4 REJECT LIMIT 10;
SELECT * FROM sales_activity_direct
*
ERROR at line 2:
ORA-01722: invalid number
</pre><p>The <a id="d63021e2155" class="indexterm-anchor"></a>name of the error logging table, <code class="codeph">err$_sales_overall</code>, is the default derived by using the <code class="codeph">DBMS_ERRLOG</code> package. See <a href="../arpls/DBMS_ERRLOG.html#ARPLS680" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information.
                     </p>
                     <p>The error message raised by Oracle occurs where the first after the error limit is reached. The next error (number 11) is the one that raised an error. The error message that is displayed is based on the error that exceeded the limit, so, for example, the ninth error could be different from the eleventh error.</p>
                     <p>The target table <code class="codeph">sales_overall</code> will not show any records being entered (assumed that the table was empty before), but the error logging table will contain 11 rows (<code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> <code class="codeph">+</code> <code class="codeph">1</code>)
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT COUNT(*) FROM sales_overall;
COUNT(*)
----------
0

SQL&gt; SELECT COUNT(*) FROM err$_sales_overall;
COUNT(*)
----------
11
</pre><p>A DML error logging table consists of several fixed control columns that are mandatory for every error logging table. Besides the Oracle error number, Oracle enforces storing the error message as well. In many cases, the error message provides additional information to analyze and resolve the root cause for the data error. The following SQL output of a DML error logging table shows this difference. Note that the second output contains the additional information for rows that were rejected due to <code class="codeph">NOT</code> <code class="codeph">NULL</code> violations.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT DISTINCT ora_err_number$ FROM err$_sales_overall;

ORA_ERR_NUMBER$
---------------
           1400
           1722
           1830
           1847

SQL&gt; SELECT DISTINCT ora_err_number$, ora_err_mesg$ FROM err$_sales_overall;

ORA_ERR_NUMBER$       ORA_ERR_MESG$
           1400       ORA-01400: cannot insert NULL into
                      ("SH"."SALES_OVERALL"."CUST_ID")
           1400       ORA-01400: cannot insert NULL into
                      ("SH"."SALES_OVERALL"."PROD_ID")
           1722       ORA-01722: invalid number
           1830       ORA-01830: date format picture ends before
                      converting entire input string
           1847       ORA-01847: day of month must be between 1 and last
                      day of month
</pre><div class="infoboxnotealso" id="GUID-E99E3CAC-83BC-448E-9CF3-D45432BE34A0__GUID-061305F1-B55F-4522-9BF0-72BE286359F1">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-tables.html#ADMIN10261" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for a detailed description of control columns.
                        </p>
                     </div>
                  </div>
               </div><a id="DWHSG8343"></a><a id="DWHSG8342"></a><div class="props_rev_3"><a id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD" name="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD"></a><h4 id="DWHSG-GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD" class="sect4"><span class="enumeration_section">18.5.4 </span>Pivoting Scenarios
                  </h4>
                  <div>
                     <p><a id="d63021e2232" class="indexterm-anchor"></a>A data warehouse can<a id="d63021e2235" class="indexterm-anchor"></a> receive data from many different sources. Some of these source systems may not be relational databases and may store data in very different formats from the data warehouse. For example, suppose that you receive a set of sales records from a nonrelational database having the form:
                     </p><pre class="oac_no_warn" dir="ltr">product_id, customer_id, weekly_start_date, sales_sun, sales_mon, sales_tue,
  sales_wed, sales_thu, sales_fri, sales_sat
</pre><p>The input table looks like the following:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales_input_table;
</pre><pre class="oac_no_warn" dir="ltr">PRODUCT_ID CUSTOMER_ID WEEKLY_ST  SALES_SUN  SALES_MON  SALES_TUE  SALES_WED SALES_THU  SALES_FRI  SALES_SAT
---------- ----------- --------- ---------- ---------- ---------- -------------------- ---------- ----------
       111         222 01-OCT-00        100        200        300        400       500        600        700
       222         333 08-OCT-00        200        300        400        500       600        700        800
       333         444 15-OCT-00        300        400        500        600       700        800        900</pre><p>In your data warehouse, you would want to store the records in a more typical relational form in a fact table <code class="codeph">sales</code> of the <code class="codeph">sh</code> sample schema: 
                     </p><pre class="oac_no_warn" dir="ltr">prod_id, cust_id, time_id, amount_sold</pre><div class="infoboxnote" id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD__GUID-C310F522-8844-48A7-83E8-A1EB97C34BD3">
                        <p class="notep1">Note:</p>
                        <p>A number of constraints on the <code class="codeph">sales</code> table have been disabled for purposes of this example, because the example ignores a number of table columns for the sake of brevity.
                        </p>
                     </div>
                     <p>Thus, you need to build a transformation such that each record in the input stream must be converted into seven records for the data warehouse's <code class="codeph">sales</code> table. This operation is commonly referred to as <a href="glossary.html#GUID-CE6745C6-610E-4EEA-BD47-534C9CBF44A9"><span class="xrefglossterm">pivoting</span></a>, and Oracle Database offers several ways to do this.
                     </p>
                     <p>The result of the previous example will resemble the following:</p><pre class="oac_no_warn" dir="ltr">SELECT prod_id, cust_id, time_id, amount_sold FROM sales;

   PROD_ID    CUST_ID   TIME_ID   AMOUNT_SOLD
---------- ----------   --------- -----------
       111        222   01-OCT-00         100
       111        222   02-OCT-00         200
       111        222   03-OCT-00         300
       111        222   04-OCT-00         400
       111        222   05-OCT-00         500
       111        222   06-OCT-00         600
       111        222   07-OCT-00         700
       222        333   08-OCT-00         200
       222        333   09-OCT-00         300
       222        333   10-OCT-00         400
       222        333   11-OCT-00         500
       222        333   12-OCT-00         600
       222        333   13-OCT-00         700
       222        333   14-OCT-00         800
       333        444   15-OCT-00         300
       333        444   16-OCT-00         400
       333        444   17-OCT-00         500
       333        444   18-OCT-00         600
       333        444   19-OCT-00         700
       333        444   20-OCT-00         800
       333        444   21-OCT-00         900</pre><div class="example" id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD__GUID-82E18458-E50D-4335-AD42-F5E03B458225">
                        <p class="titleinexample">Example 18-10 Pivoting Example</p>
                        <p>The following example uses the multitable insert syntax to insert into the demo table <code class="codeph">sh.sales</code> some data from an input table with a different structure. The multitable <code class="codeph">INSERT</code> statement looks like the following:
                        </p><pre class="oac_no_warn" dir="ltr">INSERT ALL INTO sales (prod_id, cust_id, time_id, amount_sold)
      VALUES (product_id, customer_id, weekly_start_date, sales_sun)
      INTO sales (prod_id, cust_id, time_id, amount_sold)
      VALUES (product_id, customer_id, weekly_start_date+1, sales_mon)
      INTO sales (prod_id, cust_id, time_id, amount_sold)
      VALUES (product_id, customer_id, weekly_start_date+2, sales_tue)
      INTO sales (prod_id, cust_id, time_id, amount_sold)
      VALUES (product_id, customer_id, weekly_start_date+3, sales_wed)
      INTO sales (prod_id, cust_id, time_id, amount_sold)
      VALUES (product_id, customer_id, weekly_start_date+4, sales_thu)
      INTO sales (prod_id, cust_id, time_id, amount_sold)
      VALUES (product_id, customer_id, weekly_start_date+5, sales_fri)
      INTO sales (prod_id, cust_id, time_id, amount_sold)
      VALUES (product_id, customer_id, weekly_start_date+6, sales_sat)
SELECT product_id, customer_id, weekly_start_date, sales_sun,
      sales_mon, sales_tue, sales_wed, sales_thu, sales_fri, sales_sat
FROM sales_input_table;
</pre><p>This statement only scans the source table once and then inserts the appropriate data for each day.</p>
                     </div>
                     <!-- class="example" -->
                     <div class="infoboxnotealso" id="GUID-BE3DFCBF-6BDF-421D-BA6D-F37EB98D6ECD__GUID-52555A81-C1EA-47A4-942E-9ACE219CBAED">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="sql-analysis-reporting-data-warehouses.html#GUID-05BB22CD-0F53-4C90-AE84-CE3F88DBD591">Pivoting Operations</a>"</span> for more information regarding pivoting
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for <code class="codeph">pivot_clause</code> syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='09761.lrs-linear-referencing-system-concepts.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">
      <meta name="description" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">
      <title>Linear Referencing System</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94799-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="coordinate-systems-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="location-tracking-server-concepts.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="coordinate-systems-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="location-tracking-server-concepts.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-concepts-usage.html" property="item" typeof="WebPage"><span property="name">  Conceptual and Usage Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Linear Referencing System</li>
            </ol>
            <a id="GUID-9793361B-6C73-41E1-8389-85D8788ED083" name="GUID-9793361B-6C73-41E1-8389-85D8788ED083"></a><a id="SPATL060"></a>
            
            <h2 id="SPATL-GUID-9793361B-6C73-41E1-8389-85D8788ED083" class="sect2"><span class="enumeration_chapter">7 </span> Linear Referencing System
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).</p>
               <p><a id="d62565e50" class="indexterm-anchor"></a><a id="d62565e54" class="indexterm-anchor"></a>The major advantage of linear referencing is its capability of locating attributes and events along a linear feature with only one parameter (usually known as <span class="italic">measure</span>) instead of two (such as <span class="italic">longitude/latitude</span> or <span class="italic">x/y</span> in Cartesian space). Sections of a linear feature can be referenced and created dynamically by indicating the start and end locations along the feature without explicitly storing them.
               </p>
               <p>The linear referencing system (LRS) application programming interface (API) in Oracle Spatial and Graph provides server-side LRS capabilities at the cartographic level. The linear measure information is directly integrated into the Oracle Spatial and Graph geometry structure. The Oracle Spatial and Graph LRS API provides support for dynamic segmentation, and it serves as a groundwork for third-party or middle-tier application development for virtually any linear referencing methods and models in any coordinate system.</p>
               <p>For an example of LRS, see <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770" title="This section presents a simplified example that uses LRS functions.">Example of LRS Functions</a>. However, you may want to read the rest of this chapter first, to understand the concepts that the example illustrates.
               </p>
               <p>For reference information about LRS functions and procedures, see <a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="The MDSYS.SDO_LRS package contains subprograms that create, modify, query, and convert linear referencing elements."> SDO_LRS Package (Linear Referencing System) </a>.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2">LRS Terms and Concepts</a><br>This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20">LRS Data Model</a><br>The Oracle Spatial and Graph LRS data model incorporates measure information into its geometry representation at the point level.
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA">Indexing of LRS Data</a><br>If LRS data has four dimensions (three plus the M dimension) and if you need to index all three non-measure dimensions, you must use a spatial R-tree index to index the data.
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-E392761D-EF47-4764-8287-8E3D1D799D53">3D Formats of LRS Functions</a><br>Most LRS functions have formats that end in <span class="italic">_3D</span>: for example, DEFINE_GEOM_SEGMENT_3D, CLIP_GEOM_SEGMENT_3D, FIND_MEASURE_3D, and LOCATE_PT_3D. If a function has a <span class="italic">3D</span> format, it is identified in the Usage Notes for the function’s reference topic.
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985">LRS Operations</a><br>This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C">Tolerance Values with LRS Functions</a><br>Many LRS functions require that you specify a tolerance value or one or more dimensional arrays.
                  </li>
                  <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770">Example of LRS Functions</a><br>This section presents a simplified example that uses LRS functions.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="spatial-concepts-usage.html#GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076">Conceptual and Usage Information</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL739"></a><div class="props_rev_3"><a id="GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" name="GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2"></a><h3 id="SPATL-GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" class="sect3"><span class="enumeration_section">7.1 </span>LRS Terms and Concepts
               </h3>
               <div>
                  <p>This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D">Geometric Segments (LRS Segments)</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7">Shape Points</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5">Direction of a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD">Measure (Linear Measure)</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3">Offset</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C">Measure Populating</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E">Measure Range of a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE">Projection</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F">LRS Point</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE">Linear Features</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-B5434407-EC9A-4F49-A048-253544EBA930">Measures with Multiline Strings and Polygons with Holes</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">Linear Referencing System</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL741"></a><a id="SPATL740"></a><div class="props_rev_3"><a id="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D" name="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D"></a><h4 id="SPATL-GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D" class="sect4"><span class="enumeration_section">7.1.1 </span>Geometric Segments (LRS Segments) 
                  </h4>
                  <div>
                     <p><a id="d62565e340" class="indexterm-anchor"></a><a id="d62565e344" class="indexterm-anchor"></a><a id="d62565e348" class="indexterm-anchor"></a><span class="bold">Geometric segments</span> are basic LRS elements in Oracle Spatial and Graph. A geometric segment can be any of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Line string: an ordered, nonbranching, and continuous geometry (for example, a simple road)</p>
                        </li>
                        <li>
                           <p>Multiline string: nonconnected line strings (for example, a highway with a gap caused by a lake or a bypass road)</p>
                        </li>
                        <li>
                           <p>Polygon (for example, a racetrack or a scenic tour route that starts and ends at the same point)</p>
                        </li>
                     </ul>
                     <p>A geometric segment must contain at least start and end measures for its start and end points. Measures of points of interest (such as highway exits) on the geometric segments can also be assigned. These measures are either assigned by users or derived from existing geometric segments. <a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">Figure 7-1</a> shows a geometric segment with four line segments and one arc. Points on the geometric segment are represented by triplets (x, y, m), where <span class="italic">x</span> and <span class="italic">y</span> describe the location and <span class="italic">m</span> denotes the measure (with each measure value underlined in <a href="lrs-linear-referencing-system-concepts.html#GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">Figure 7-1</a>). 
                     </p>
                     <div class="figure" id="GUID-FF93B930-F0C4-4CAF-8C13-52FFD8EFAE1D__I884952">
                        <p class="titleinfigure">Figure 7-1 Geometric Segment</p><img src="img/geoseg.gif" alt="Description of Figure 7-1 follows" title="Description of Figure 7-1 follows" longdesc="img_text/geoseg.html"><br><a href="img_text/geoseg.html">Description of "Figure 7-1 Geometric Segment"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL742"></a><div class="props_rev_3"><a id="GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7" name="GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7"></a><h4 id="SPATL-GUID-2EF4D152-9019-4F02-9ABB-F6DE633BB7C7" class="sect4"><span class="enumeration_section">7.1.2 </span>Shape Points
                  </h4>
                  <div>
                     <p><a id="d62565e447" class="indexterm-anchor"></a><a id="d62565e449" class="indexterm-anchor"></a><span class="bold">Shape points</span> are points that are specified when an LRS segment is constructed, and that are assigned measure information. In Oracle Spatial and Graph, a line segment is represented by its start and end points, and an arc is represented by three points: start, middle, and end points of the arc. You must specify these points as shape points, but you can also specify other points as shape points if you need measure information stored for these points (for example, an exit in the middle of a straight part of the highway).
                     </p>
                     <p>Thus, shape points can serve one or both of the following purposes: to indicate the direction of the segment (for example, a turn or curve), and to identify a point of interest for which measure information is to be stored.</p>
                     <p>Shape points might not directly relate to mileposts or reference posts in LRS; they are used as internal reference points. The measure information of shape points is automatically populated when you define the LRS segment using the <a href="SDO_LRS-reference.html#GUID-9A02C622-CEBA-4C2C-84F6-43D916011AE8">SDO_LRS.DEFINE_GEOM_SEGMENT</a> procedure, which is described in <a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="The MDSYS.SDO_LRS package contains subprograms that create, modify, query, and convert linear referencing elements."> SDO_LRS Package (Linear Referencing System) </a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL743"></a><div class="props_rev_3"><a id="GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5" name="GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5"></a><h4 id="SPATL-GUID-A76A863C-C1D1-4993-8D9B-B3BB12C69CE5" class="sect4"><span class="enumeration_section">7.1.3 </span>Direction of a Geometric Segment
                  </h4>
                  <div>
                     <p><a id="d62565e532" class="indexterm-anchor"></a><a id="d62565e534" class="indexterm-anchor"></a>The <span class="bold">direction</span> of a geometric segment is indicated from the start point of the geometric segment to the end point. The direction is determined by the order of the vertices (from start point to end point) in the geometry definition. Measures of points on a geometric segment always either increase or decrease along the direction of the geometric segment.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL744"></a><div class="props_rev_3"><a id="GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD" name="GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD"></a><h4 id="SPATL-GUID-7420725A-15C0-47FC-AE35-4E42BAA642AD" class="sect4"><span class="enumeration_section">7.1.4 </span>Measure (Linear Measure)
                  </h4>
                  <div>
                     <p><a id="d62565e603" class="indexterm-anchor"></a><a id="d62565e605" class="indexterm-anchor"></a>The <span class="bold">measure</span> of a point along a geometric segment is the linear distance (in the measure dimension) to the point measured from the start point (for increasing values) or end point (for decreasing values) of the geometric segment. The measure information does not necessarily have to be of the same scale as the distance. However, the linear mapping relationship between measure and distance is always preserved.
                     </p>
                     <p>Some LRS functions use <span class="italic">offset</span> instead of measure to represent measured distance along linear features. Although some other linear referencing systems might use offset to mean what the Oracle Spatial and Graph LRS refers to as measure, offset has a different meaning in Oracle Spatial and Graph from measure, as explained in <a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3">Offset</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL746"></a><a id="SPATL745"></a><div class="props_rev_3"><a id="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3" name="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3"></a><h4 id="SPATL-GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3" class="sect4"><span class="enumeration_section">7.1.5 </span>Offset
                  </h4>
                  <div>
                     <p><a id="d62565e683" class="indexterm-anchor"></a>The <span class="bold">offset</span> of a point along a geometric segment is the perpendicular distance between the point and the geometric segment. Offsets are positive if the points are on the left side along the segment direction and are negative if they are on the right side. Points are on a geometric segment if their offsets to the segment are zero.
                     </p>
                     <p>The unit of measurement for an offset is the same as for the coordinate system associated with the geometric segment. For geodetic data, the default unit of measurement is meters.</p>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3__I891553">Figure 7-2</a> shows how a point can be located along a geometric segment with measure and offset information. By assigning an offset together with a measure, it is possible to locate not only points that are on the geometric segment, but also points that are perpendicular to the geometric segment.
                     </p>
                     <div class="figure" id="GUID-2D8CA0D9-2EFC-4992-A4B3-9063668277E3__I891553">
                        <p class="titleinfigure">Figure 7-2 Describing a Point Along a Segment with a Measure and an Offset</p><img src="img/point.gif" alt="Description of Figure 7-2 follows" title="Description of Figure 7-2 follows" longdesc="img_text/point.html"><br><a href="img_text/point.html">Description of "Figure 7-2 Describing a Point Along a Segment with a Measure and an Offset"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL748"></a><a id="SPATL749"></a><a id="SPATL750"></a><a id="SPATL747"></a><div class="props_rev_3"><a id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C" name="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C"></a><h4 id="SPATL-GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C" class="sect4"><span class="enumeration_section">7.1.6 </span>Measure Populating
                  </h4>
                  <div>
                     <p><a id="d62565e763" class="indexterm-anchor"></a><a id="d62565e767" class="indexterm-anchor"></a>Any unassigned measures of a geometric segment are automatically populated based upon their distance distribution. This is done before any LRS operations for geometric segments with unknown measures (NULL in Oracle Spatial and Graph). The resulting geometric segments from any LRS operations return the measure information associated with geometric segments. The measure of a point on the geometric segment can be obtained based upon a linear mapping relationship between its previous and next known measures or locations. See the algorithm representation in <a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I884936">Figure 7-3</a> and the example in <a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I888540">Figure 7-4</a>. 
                     </p>
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I884936">
                        <p class="titleinfigure">Figure 7-3 Measures, Distances, and Their Mapping Relationship</p><img src="img/maprel.gif" alt="Description of Figure 7-3 follows" title="Description of Figure 7-3 follows" longdesc="img_text/maprel.html"><br><a href="img_text/maprel.html">Description of "Figure 7-3 Measures, Distances, and Their Mapping Relationship"</a></div>
                     <!-- class="figure" -->
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I888540">
                        <p class="titleinfigure">Figure 7-4 Measure Populating of a Geometric Segment</p><img src="img/measpop.gif" alt="Description of Figure 7-4 follows" title="Description of Figure 7-4 follows" longdesc="img_text/measpop.html"><br><a href="img_text/measpop.html">Description of "Figure 7-4 Measure Populating of a Geometric Segment"</a></div>
                     <!-- class="figure" -->
                     <p>Measures are evenly spaced between assigned measures. However, the assigned measures for points of interest on a geometric segment do not need to be evenly spaced. This could eliminate the problem of error accumulation and account for inaccuracy of data source.</p>
                     <p>Moreover, the assigned measures do not even need to reflect actual distances (for example, they can reflect estimated driving time); they can be any valid values within the measure range. <a href="lrs-linear-referencing-system-concepts.html#GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I889839">Figure 7-5</a> shows the measure population that results when assigned measure values are not proportional and reflect widely varying gaps.
                     </p>
                     <div class="figure" id="GUID-D3C81EE9-F7E0-4932-A0E0-56CFFA59375C__I889839">
                        <p class="titleinfigure">Figure 7-5 Measure Populating with Disproportional Assigned Measures</p><img src="img/disprop.gif" alt="Description of Figure 7-5 follows" title="Description of Figure 7-5 follows" longdesc="img_text/disprop.html"><br><a href="img_text/disprop.html">Description of "Figure 7-5 Measure Populating with Disproportional Assigned Measures"</a></div>
                     <!-- class="figure" -->
                     <p>In all cases, measure populating is done in an incremental fashion along the segment direction. This improves the performance of current and subsequent LRS operations.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL751"></a><div class="props_rev_3"><a id="GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E" name="GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E"></a><h4 id="SPATL-GUID-1A64AD0D-14D7-48FE-A1F1-B056DECD752E" class="sect4"><span class="enumeration_section">7.1.7 </span>Measure Range of a Geometric Segment
                  </h4>
                  <div>
                     <p><a id="d62565e860" class="indexterm-anchor"></a><a id="d62565e862" class="indexterm-anchor"></a>The start and end measures of a geometric segment define the linear <span class="bold">measure range</span> of the geometric segment. Any valid LRS measures of a geometric segment must fall within its linear measure range.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL752"></a><div class="props_rev_3"><a id="GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE" name="GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE"></a><h4 id="SPATL-GUID-3AF241F0-0AF5-4F2B-9BF2-955E7360E7CE" class="sect4"><span class="enumeration_section">7.1.8 </span>Projection
                  </h4>
                  <div>
                     <p><a id="d62565e932" class="indexterm-anchor"></a><a id="d62565e934" class="indexterm-anchor"></a>The <span class="bold">projection</span> of a point along a geometric segment is the point on the geometric segment with the minimum distance to the specified point. The measure information of the resulting point is also returned in the point geometry.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL753"></a><div class="props_rev_3"><a id="GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F" name="GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F"></a><h4 id="SPATL-GUID-B1959CB1-088F-4494-8800-5E89EEC3E11F" class="sect4"><span class="enumeration_section">7.1.9 </span>LRS Point
                  </h4>
                  <div>
                     <p><a id="d62565e1003" class="indexterm-anchor"></a><a id="d62565e1007" class="indexterm-anchor"></a><a id="d62565e1009" class="indexterm-anchor"></a><span class="bold">LRS points</span> are points with linear measure information along a geometric segment. A valid LRS point is a point geometry with measure information.
                     </p>
                     <p>All LRS point data must be stored in the SDO_ELEM_INFO_ARRAY and SDO_ORDINATE_ARRAY, and cannot be stored in the SDO_POINT field in the SDO_GEOMETRY definition of the point.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL755"></a><a id="SPATL754"></a><div class="props_rev_3"><a id="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE" name="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE"></a><h4 id="SPATL-GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE" class="sect4"><span class="enumeration_section">7.1.10 </span>Linear Features
                  </h4>
                  <div>
                     <p><a id="d62565e1080" class="indexterm-anchor"></a><a id="d62565e1082" class="indexterm-anchor"></a><span class="bold">Linear features</span> are any spatial objects that can be treated as a logical set of linear segments. Examples of linear features are highways in transportation applications and pipelines in utility industry applications. The relationship of linear features, geometric segments, and LRS points is shown in <a href="lrs-linear-referencing-system-concepts.html#GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE__I884386">Figure 7-6</a>, where a single linear feature consists of three geometric segments, and three LRS points are shown on the first segment.
                     </p>
                     <div class="figure" id="GUID-F8B373AA-9F41-4586-BB3E-57FA4EBC21BE__I884386">
                        <p class="titleinfigure">Figure 7-6 Linear Feature, Geometric Segments, and LRS Points</p><img src="img/linear.gif" alt="Description of Figure 7-6 follows" title="Description of Figure 7-6 follows" longdesc="img_text/linear.html"><br><a href="img_text/linear.html">Description of "Figure 7-6 Linear Feature, Geometric Segments, and LRS Points"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL756"></a><div class="props_rev_3"><a id="GUID-B5434407-EC9A-4F49-A048-253544EBA930" name="GUID-B5434407-EC9A-4F49-A048-253544EBA930"></a><h4 id="SPATL-GUID-B5434407-EC9A-4F49-A048-253544EBA930" class="sect4"><span class="enumeration_section">7.1.11 </span>Measures with Multiline Strings and Polygons with Holes
                  </h4>
                  <div>
                     <p>With a multiline string or polygon with hole LRS geometry, the <a href="SDO_LRS-reference.html#GUID-9A02C622-CEBA-4C2C-84F6-43D916011AE8">SDO_LRS.DEFINE_GEOM_SEGMENT</a> procedure and <a href="SDO_LRS-reference.html#GUID-70E4BB1A-250F-413E-B06C-D134C6B8E33D">SDO_LRS.CONVERT_TO_LRS_GEOM</a> function by default assign the same measure value to the end point of one segment and the start point (separated by a gap) of the next segment, although you can later assign different measure values to points. Thus, by default there will duplicate measure values in different segments for such geometries. In such cases, LRS subprograms use the first point with a specified measure, except when doing so would result in an invalid geometry.
                     </p>
                     <p>For example, assume that in a multiline string LRS geometry, the first segment is from measures 0 through 100 and the second segment is from measures 100 through 150. If you use the <a href="SDO_LRS-reference.html#GUID-0A7398C5-9112-415D-9F75-38DFF40DEEBA">SDO_LRS.LOCATE_PT</a> function to find the point at measure 100, the returned point will be at measure 100 in the first segment. If you use the <a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a>, <a href="SDO_LRS-reference.html#GUID-EF61FA31-92A2-4333-B2B3-3D19B8B29EB8">SDO_LRS.DYNAMIC_SEGMENT</a>, or <a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a> function to return the geometry object between measures 75 and 125, the result is a multiline string geometry consisting of two segments. If you use the same function to return the geometry object between measures 100 and 125, the point at measure 100 in the first segment is ignored, and the result is a line string along the second segment from measures 100 through 125.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-606C936B-DB4F-4FE0-A5F6-3C1C15FA30C2" title="This topic explains important terms and concepts related to linear referencing support in Oracle Spatial and Graph.">LRS Terms and Concepts</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL759"></a><a id="SPATL758"></a><a id="SPATL757"></a><div class="props_rev_3"><a id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20" name="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20"></a><h3 id="SPATL-GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20" class="sect3"><span class="enumeration_section">7.2 </span>LRS Data Model
               </h3>
               <div>
                  <p>The Oracle Spatial and Graph LRS data model incorporates measure information into its geometry representation at the point level.</p>
                  <p><a id="d62565e1265" class="indexterm-anchor"></a><a id="d62565e1269" class="indexterm-anchor"></a>The measure information is directly integrated into the Oracle Spatial and Graph model. To accomplish this, an additional <span class="italic">measure</span> dimension must be added to the Oracle Spatial and Graph metadata.
                  </p>
                  <p>Oracle Spatial and Graph LRS support affects the spatial metadata and data (the geometries). <a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">Example 7-1</a> shows how a measure dimension can be added to two-dimensional geometries in the spatial metadata. The measure dimension must be the last element of the SDO_DIM_ARRAY in a spatial object definition (shown in bold in <a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">Example 7-1</a>).
                  </p>
                  <div class="figure" id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">
                     <p class="titleinfigure">Figure 7-7 Creating a Geometric Segment</p><img src="img/creating.gif" alt="Description of Figure 7-7 follows" title="Description of Figure 7-7 follows" longdesc="img_text/creating.html"><br><a href="img_text/creating.html">Description of "Figure 7-7 Creating a Geometric Segment"</a></div>
                  <!-- class="figure" -->
                  <p>In <a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">Figure 7-7</a>, the geometric segment has the following definition (with measure values underlined):
                  </p><pre class="oac_no_warn" dir="ltr">SDO_GEOMETRY(3302, NULL, NULL,
     SDO_ELEM_INFO_ARRAY(1,2,1),
     SDO_ORDINATE_ARRAY(5,10,<span class="underline">0</span>, 20,5,<span class="underline">NULL</span>, 35,10,<span class="underline">NULL</span>, 55,10,<span class="underline">100</span>))
</pre><p>Whenever a geometric segment is defined, its start and end measures must be defined or derived from some existing geometric segment. The unsigned measures of all shape points on a geometric segment will be automatically populated. </p>
                  <p>The SDO_GTYPE of any point geometry used with an LRS function must be 3301.</p>
                  <div class="example" id="GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I885124">
                     <p class="titleinexample">Example 7-1 Including LRS Measure Dimension in Spatial Metadata</p><pre class="oac_no_warn" dir="ltr">INSERT INTO user_sdo_geom_metadata
    (TABLE_NAME,
     COLUMN_NAME,
     DIMINFO,
     SRID)
  VALUES(
  'LRS_ROUTES',
  'GEOMETRY',
  SDO_DIM_ARRAY (
    SDO_DIM_ELEMENT('X', 0, 20, 0.005),
    SDO_DIM_ELEMENT('Y', 0, 20, 0.005),
    <span class="bold">SDO_DIM_ELEMENT('M', 0, 100, 0.005)</span>),
  NULL);
</pre><p>After adding the new measure dimension, geometries with measure information such as geometric segments and LRS points can be represented. An example of creating a geometric segment with three line segments is shown in <a href="lrs-linear-referencing-system-concepts.html#GUID-34C0AE0E-09AD-4765-A426-8AEBB7CE5A20__I884481">Figure 7-7</a>. 
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">Linear Referencing System</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL760"></a><div class="props_rev_3"><a id="GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA" name="GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA"></a><h3 id="SPATL-GUID-CA7D44D7-CB40-4C33-9345-2C84F43CF8CA" class="sect3"><span class="enumeration_section">7.3 </span>Indexing of LRS Data
               </h3>
               <div>
                  <p>If LRS data has four dimensions (three plus the M dimension) and if you need to index all three non-measure dimensions, you must use a spatial R-tree index to index the data.</p>
                  <p>You must also specify PARAMETERS('sdo_indx_dims=3') in the <a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a> statement to ensure that the first three dimensions are indexed. Note, however, that if you specify an <code class="codeph">sdo_indx_dims</code> value of 3 or higher, only those operators listed in <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a> as considering all three dimensions can be used on the indexed geometries; the other operators described in <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type."> Spatial Operators </a> cannot be used. (The default value for the <code class="codeph">sdo_indx_dims</code> keyword is 2, which would cause only the first two dimensions to be indexed.) For example, if the dimensions are X, Y, Z, and M, specify <code class="codeph">sdo_indx_dims=3</code> to index the X, Y, and Z dimensions, but not the measure (M) dimension. Do not include the measure dimension in a spatial index, because this causes additional processing overhead and produces no benefit.
                  </p>
                  <p>Information about the <a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a> statement and its parameters and keywords is in <a href="sql-indexing-spatial-data.html#GUID-E356011F-BC91-44EC-9E86-E5E786EDC2BC" title="This chapter describes the SQL statements used when working with the spatial object data type."> SQL Statements for Indexing Spatial Data</a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">Linear Referencing System</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL761"></a><div class="props_rev_3"><a id="GUID-E392761D-EF47-4764-8287-8E3D1D799D53" name="GUID-E392761D-EF47-4764-8287-8E3D1D799D53"></a><h3 id="SPATL-GUID-E392761D-EF47-4764-8287-8E3D1D799D53" class="sect3"><span class="enumeration_section">7.4 </span>3D Formats of LRS Functions
               </h3>
               <div>
                  <p>Most LRS functions have formats that end in <span class="italic">_3D</span>: for example, DEFINE_GEOM_SEGMENT_3D, CLIP_GEOM_SEGMENT_3D, FIND_MEASURE_3D, and LOCATE_PT_3D. If a function has a <span class="italic">3D</span> format, it is identified in the Usage Notes for the function’s reference topic.
                  </p>
                  <p>The <span class="italic">3D</span> formats are supported only for line string and multiline string geometries. (They are not supported for polygons, arcs, or circles.) The <span class="italic">3D</span> formats should be used only when the geometry object has four dimensions and the fourth dimension is the measure (for example, X, Y, Z, and M), and only when you want the function to consider the first three dimensions (for example, X, Y, and Z). If the standard format of a function (that is, without the <span class="italic">_3D</span>) is used on a geometry with four dimensions, the function considers only the first two dimensions (for example, X and Y).
                  </p>
                  <p>For example, the following format considers the X, Y, and Z dimensions of the specified GEOM object in performing the clip operation:</p><pre class="oac_no_warn" dir="ltr">SELECT  SDO_LRS.CLIP_GEOM_SEGMENT_3D(a.geom, m.diminfo, 5, 10)
  FROM routes r, user_sdo_geom_metadata m
  WHERE m.table_name = 'ROUTES' AND m.column_name = 'GEOM'
    AND r.route_id = 1;
</pre><p>However, the following format considers only the X and Y dimensions, and ignores the Z dimension, of the specified GEOM object in performing the clip operation:</p><pre class="oac_no_warn" dir="ltr">SELECT  SDO_LRS.CLIP_GEOM_SEGMENT(a.geom, m.diminfo, 5, 10)
  FROM routes r, user_sdo_geom_metadata m
  WHERE m.table_name = 'ROUTES' AND m.column_name = 'GEOM'
    AND r.route_id = 1;
</pre><p>The parameters for the standard and <span class="italic">3D</span> formats of any function are the same, and the Usage Notes apply to both formats.
                  </p>
                  <p>If the parameters for an LRS function include both a line (or multiline) string and a point (LRS point), both the line string and the point must have the same number of dimensions. For example:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For the <a href="SDO_LRS-reference.html#GUID-BBCE2843-7303-4FB6-B832-F335925F4F8B">SDO_LRS.PROJECT_PT</a> function, the input <code class="codeph">geom_segment</code> (line) must have two dimensions (X.Y) plus the measure dimension, and the the input <code class="codeph">point</code> point must be a two-dimensional LRS point geometry with a measure dimension (SDO_GTYPE = 3301). (This is the case in the example for that function.)
                        </p>
                     </li>
                     <li>
                        <p>For the SDO_LRS.PROJECT_PT_3D function. the input <code class="codeph">geom_segment</code> must have three dimensions (X,Y,Z) plus the measure dimension, and the input <code class="codeph">point</code> point must be a three-dimensional LRS point geometry with a measure dimension (SDO_GTYPE = 3401).
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">Linear Referencing System</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL762"></a><div class="props_rev_3"><a id="GUID-247E53DE-3F27-4BE2-97D6-363F10814985" name="GUID-247E53DE-3F27-4BE2-97D6-363F10814985"></a><h3 id="SPATL-GUID-247E53DE-3F27-4BE2-97D6-363F10814985" class="sect3"><span class="enumeration_section">7.5 </span>LRS Operations
               </h3>
               <div>
                  <p>This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66">Defining a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584">Redefining a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">Clipping a Geometric Segment (Dynamic Segmentation)</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86">Splitting a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC">Concatenating Geometric Segments</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38">Scaling a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F">Offsetting a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9">Locating a Point on a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC">Projecting a Point onto a Geometric Segment</a><br></li>
                     <li class="ulchildlink"><a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299">Converting LRS Geometries</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">Linear Referencing System</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL764"></a><a id="SPATL763"></a><div class="props_rev_3"><a id="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66" name="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66"></a><h4 id="SPATL-GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66" class="sect4"><span class="enumeration_section">7.5.1 </span>Defining a Geometric Segment 
                  </h4>
                  <div>
                     <p><a id="d62565e1751" class="indexterm-anchor"></a><a id="d62565e1755" class="indexterm-anchor"></a>There are two ways to create a geometric segment with measure information: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Construct a geometric segment and assign measures explicitly.</p>
                        </li>
                        <li>
                           <p>Define a geometric segment with specified start and end, and any other measures, in an ascending or descending order. Measures of shape points with unknown (unassigned) measures (null values) in the geometric segment will be automatically populated according to their locations and distance distribution. </p>
                        </li>
                     </ul>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66__I887823">Figure 7-8</a> shows different ways of defining a geometric segment:
                     </p>
                     <div class="figure" id="GUID-8B79B6E2-469D-4E6B-9B1B-394ED1E6EE66__I887823">
                        <p class="titleinfigure">Figure 7-8 Defining a Geometric Segment</p><img src="img/defining.gif" alt="Description of Figure 7-8 follows" title="Description of Figure 7-8 follows" longdesc="img_text/defining.html"><br><a href="img_text/defining.html">Description of "Figure 7-8 Defining a Geometric Segment"</a></div>
                     <!-- class="figure" -->
                     <p>An LRS segment must be defined (or must already exist) before any LRS operations can proceed. That is, the start, end, and any other assigned measures must be present to derive the location from a specified measure. The measure information of intermediate shape points will automatically be populated if measure values are not assigned.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL766"></a><a id="SPATL765"></a><div class="props_rev_3"><a id="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584" name="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584"></a><h4 id="SPATL-GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584" class="sect4"><span class="enumeration_section">7.5.2 </span>Redefining a Geometric Segment
                  </h4>
                  <div>
                     <p><a id="d62565e1840" class="indexterm-anchor"></a><a id="d62565e1844" class="indexterm-anchor"></a>You can redefine a geometric segment to replace the existing measures of all shape points between the start and end point with automatically calculated measures. Redefining a segment can be useful if errors have been made in one or more explicit measure assignments, and you want to start over with proportionally assigned measures.
                     </p>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">Figure 7-9</a> shows the redefinition of a segment where the existing (before) assigned measure values are not proportional and reflect widely varying gaps.
                     </p>
                     <div class="figure" id="GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">
                        <p class="titleinfigure">Figure 7-9 Redefining a Geometric Segment</p><img src="img/redefining.gif" alt="Description of Figure 7-9 follows" title="Description of Figure 7-9 follows" longdesc="img_text/redefining.html"><br><a href="img_text/redefining.html">Description of "Figure 7-9 Redefining a Geometric Segment"</a></div>
                     <!-- class="figure" -->
                     <p>After the segment redefinition in <a href="lrs-linear-referencing-system-concepts.html#GUID-3E2F0C1F-1040-4340-A259-DCB8A81EC584__I889831">Figure 7-9</a>, the populated measures reflect proportional distances along the segment.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL768"></a><a id="SPATL767"></a><div class="props_rev_3"><a id="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC" name="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC"></a><h4 id="SPATL-GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC" class="sect4"><span class="enumeration_section">7.5.3 </span>Clipping a Geometric Segment (Dynamic Segmentation)
                  </h4>
                  <div>
                     <p><a id="d62565e1923" class="indexterm-anchor"></a><a id="d62565e1927" class="indexterm-anchor"></a><a id="d62565e1931" class="indexterm-anchor"></a>You can clip a geometric segment to create a new geometric segment out of an existing geometric segment, as shown in <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">Figure 7-10</a>, part a.
                     </p>
                     <div class="figure" id="GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">
                        <p class="titleinfigure">Figure 7-10 Clipping, Splitting, and Concatenating Geometric Segments</p><img src="img/clipping.gif" alt="Description of Figure 7-10 follows" title="Description of Figure 7-10 follows" longdesc="img_text/clipping.html"><br><a href="img_text/clipping.html">Description of "Figure 7-10 Clipping, Splitting, and Concatenating Geometric Segments"</a></div>
                     <!-- class="figure" -->
                     <p>In <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC__I890600">Figure 7-10</a>, part a, a segment is created from part of a larger segment. The new segment has its own start and end points, and the direction is the same as in the original larger segment.
                     </p>
                     <p>Clipping segments enables you to perform <span class="bold">dynamic segmentation</span>, where you clip the line at specific measure values. A scenario for such usage would be creating a table of road conditions, where for a given road, some segments are designated as in good condition and other segments are designated as in bad condition. For example, the segment between measures 100 and 120 might be in good condition, but the segment between measures 120 and 125 might be in poor condition. See the reference information for the synonymous functions <a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a> and <a href="SDO_LRS-reference.html#GUID-EF61FA31-92A2-4333-B2B3-3D19B8B29EB8">SDO_LRS.DYNAMIC_SEGMENT</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL769"></a><div class="props_rev_3"><a id="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86" name="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86"></a><h4 id="SPATL-GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86" class="sect4"><span class="enumeration_section">7.5.4 </span>Splitting a Geometric Segment
                  </h4>
                  <div>
                     <p><a id="d62565e2017" class="indexterm-anchor"></a><a id="d62565e2021" class="indexterm-anchor"></a>You can create two new geometric segments by splitting a geometric segment, as shown in the figure in <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">Clipping a Geometric Segment (Dynamic Segmentation)</a>, part b. The direction of each new segment is the same as in the original segment.
                     </p>
                     <div class="infoboxnote" id="GUID-443BF6B9-1AB9-431E-AEEC-CCB8376D6B86__GUID-1B55FD84-1FBD-436E-959C-B5D07AD348B4">
                        <p class="notep1">Note:</p>
                        <p>In <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">Clipping a Geometric Segment (Dynamic Segmentation)</a> and other topics, small gaps between segments are used in illutrations of segment splitting and concatenation. Each gap simply reinforces the fact that two different segments are involved. However, the two segments (such as segment 1 and segment 2 in <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">Clipping a Geometric Segment (Dynamic Segmentation)</a>, parts b and c) are actually connected. The tolerance (see <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>) is considered in determining whether or not segments are connected.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL771"></a><a id="SPATL772"></a><a id="SPATL770"></a><div class="props_rev_3"><a id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC" name="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC"></a><h4 id="SPATL-GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC" class="sect4"><span class="enumeration_section">7.5.5 </span>Concatenating Geometric Segments
                  </h4>
                  <div>
                     <p><a id="d62565e2106" class="indexterm-anchor"></a><a id="d62565e2110" class="indexterm-anchor"></a>You can create a new geometric segment by concatenating two geometric segments, as shown in part c of the figure in <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">Clipping a Geometric Segment (Dynamic Segmentation)</a>. The geometric segments do not need to be spatially connected, although they are connected in the illustration in part c of that figure. (If the segments are not spatially connected, the concatenated result is a multiline string.) The measures of the second geometric segment are shifted so that the end measure of the first segment is the same as the start measure of the second segment. The direction of the segment resulting from the concatenation is the same as in the two original segments.
                     </p>
                     <p>Measure assignments for the clipping, splitting, and concatenating operations in the figure in <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">Clipping a Geometric Segment (Dynamic Segmentation)</a> are shown in the following figure. Measure information and segment direction are preserved in a consistent manner. The assignment is done automatically when the operations have completed.
                     </p>
                     <div class="figure" id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC__I887072">
                        <p class="titleinfigure">Figure 7-11 Measure Assignment in Geometric Segment Operations</p><img src="img/geosegoper.gif" alt="Description of Figure 7-11 follows" title="Description of Figure 7-11 follows" longdesc="img_text/geosegoper.html"><br><a href="img_text/geosegoper.html">Description of "Figure 7-11 Measure Assignment in Geometric Segment Operations"</a></div>
                     <!-- class="figure" -->
                     <p><a id="d62565e2129" class="indexterm-anchor"></a><a id="d62565e2133" class="indexterm-anchor"></a>The direction of the geometric segment resulting from concatenation is always the direction of the first segment (<code class="codeph">geom_segment1</code> in the call to the <a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a> function), as shown in the following figure.
                     </p>
                     <div class="figure" id="GUID-AAF5BEE8-6FFB-439B-A64D-1C629487B1BC__I892282">
                        <p class="titleinfigure">Figure 7-12 Segment Direction with Concatenation</p><img src="img/concat.gif" alt="Description of Figure 7-12 follows" title="Description of Figure 7-12 follows" longdesc="img_text/concat.html"><br><a href="img_text/concat.html">Description of "Figure 7-12 Segment Direction with Concatenation"</a></div>
                     <!-- class="figure" -->
                     <p><a id="d62565e2151" class="indexterm-anchor"></a><a id="d62565e2155" class="indexterm-anchor"></a>In addition to explicitly concatenating two connected segments using the <a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a> function, you can perform aggregate concatenation: that is, you can concatenate all connected geometric segments in a column (layer) using the <a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a> spatial aggregate function. (See the description and example of the <a href="spatial-aggregate-functions.html#GUID-FFB228EB-A6DF-4ACC-9E18-28723C9E56E7">SDO_AGGR_LRS_CONCAT</a> spatial aggregate function in <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="This chapter contains reference and usage information for the spatial aggregate functions."> Spatial Aggregate Functions</a>.)
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL774"></a><a id="SPATL773"></a><div class="props_rev_3"><a id="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38" name="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38"></a><h4 id="SPATL-GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38" class="sect4"><span class="enumeration_section">7.5.6 </span>Scaling a Geometric Segment 
                  </h4>
                  <div>
                     <p><a id="d62565e2243" class="indexterm-anchor"></a><a id="d62565e2247" class="indexterm-anchor"></a>You can create a new geometric segment by performing a linear scaling operation on a geometric segment. <a href="lrs-linear-referencing-system-concepts.html#GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38__I884764">Figure 7-13</a> shows the mapping relationship for geometric segment scaling.
                     </p>
                     <div class="figure" id="GUID-E0961173-0F8E-4F74-9B7A-B8ACFDFE1D38__I884764">
                        <p class="titleinfigure">Figure 7-13 Scaling a Geometric Segment</p><img src="img/scaling.gif" alt="Description of Figure 7-13 follows" title="Description of Figure 7-13 follows" longdesc="img_text/scaling.html"><br><a href="img_text/scaling.html">Description of "Figure 7-13 Scaling a Geometric Segment"</a></div>
                     <!-- class="figure" -->
                     <p>In general, scaling a geometric segment only involves rearranging measures of the newly created geometric segment. However, if the scaling factor is negative, the order of the shape points needs to be reversed so that measures will increase along the geometric segment's direction (which is defined by the order of the shape points). </p>
                     <p>A scale operation can perform any combination of the following operations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Translating (shifting) measure information. (For example, add the same value to Ms and Me to get M's and M'e.)</p>
                        </li>
                        <li>
                           <p>Reversing measure information. (Let M's = Me, M'e = Ms, and Mshift = 0.)</p>
                        </li>
                        <li>
                           <p>Performing simple scaling of measure information. (Let Mshift = 0.)</p>
                        </li>
                     </ul>
                     <p>For examples of these operations, see the Usage Notes and Examples for the<a href="SDO_LRS-reference.html#GUID-7FB461F0-C221-490C-94BF-AE49ACE42828">SDO_LRS.SCALE_GEOM_SEGMENT</a>, <a href="SDO_LRS-reference.html#GUID-3633A045-B824-4275-B6B3-5A6155F12415">SDO_LRS.TRANSLATE_MEASURE</a>, <a href="SDO_LRS-reference.html#GUID-94B55D69-FAC9-4FF3-8EC2-084FA21D305B">SDO_LRS.REVERSE_GEOMETRY</a>, and <a href="SDO_LRS-reference.html#GUID-EF05083F-E47C-4AB4-BCF0-FA39A3B9A25B">SDO_LRS.REDEFINE_GEOM_SEGMENT</a> subprograms in <a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="The MDSYS.SDO_LRS package contains subprograms that create, modify, query, and convert linear referencing elements."> SDO_LRS Package (Linear Referencing System) </a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL776"></a><a id="SPATL775"></a><div class="props_rev_3"><a id="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F" name="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F"></a><h4 id="SPATL-GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F" class="sect4"><span class="enumeration_section">7.5.7 </span>Offsetting a Geometric Segment
                  </h4>
                  <div>
                     <p><a id="d62565e2360" class="indexterm-anchor"></a><a id="d62565e2364" class="indexterm-anchor"></a>You can create a new geometric segment by performing an offsetting operation on a geometric segment. <a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">Figure 7-14</a> shows the mapping relationship for geometric segment offsetting.
                     </p>
                     <div class="figure" id="GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">
                        <p class="titleinfigure">Figure 7-14 Offsetting a Geometric Segment</p><img src="img/offsetting.gif" alt="Description of Figure 7-14 follows" title="Description of Figure 7-14 follows" longdesc="img_text/offsetting.html"><br><a href="img_text/offsetting.html">Description of "Figure 7-14 Offsetting a Geometric Segment"</a></div>
                     <!-- class="figure" -->
                     <p>In the offsetting operation shown in <a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F__I892782">Figure 7-14</a>, the resulting geometric segment is offset by 5 units from the specified start and end measures of the original segment. 
                     </p>
                     <p>For more information, see the Usage Notes and Examples for the <a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a> function in <a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="The MDSYS.SDO_LRS package contains subprograms that create, modify, query, and convert linear referencing elements."> SDO_LRS Package (Linear Referencing System) </a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL778"></a><a id="SPATL779"></a><a id="SPATL777"></a><div class="props_rev_3"><a id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9" name="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9"></a><h4 id="SPATL-GUID-DF662D84-9717-4C13-95F8-1E71B67114C9" class="sect4"><span class="enumeration_section">7.5.8 </span>Locating a Point on a Geometric Segment
                  </h4>
                  <div>
                     <p><a id="d62565e2457" class="indexterm-anchor"></a><a id="d62565e2461" class="indexterm-anchor"></a>You can find the position of a point described by a measure and an offset on a geometric segment (see <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">Figure 7-15</a>).
                     </p>
                     <div class="figure" id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">
                        <p class="titleinfigure">Figure 7-15 Locating a Point Along a Segment with a Measure and an Offset</p><img src="img/point_offset.gif" alt="Description of Figure 7-15 follows" title="Description of Figure 7-15 follows" longdesc="img_text/point_offset.html"><br><a href="img_text/point_offset.html">Description of "Figure 7-15 Locating a Point Along a Segment with a Measure and an Offset"</a></div>
                     <!-- class="figure" -->
                     <p>There is always a unique location with a specific measure on a geometric segment. Ambiguity arises when offsets are given and the points described by the measures fall on shape points of the geometric segment (see <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">Figure 7-16</a>).
                     </p>
                     <div class="figure" id="GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">
                        <p class="titleinfigure">Figure 7-16 Ambiguity in Location Referencing with Offsets</p><img src="img/ambiguity.gif" alt="Description of Figure 7-16 follows" title="Description of Figure 7-16 follows" longdesc="img_text/ambiguity.html"><br><a href="img_text/ambiguity.html">Description of "Figure 7-16 Ambiguity in Location Referencing with Offsets"</a></div>
                     <!-- class="figure" -->
                     <p>As shown in <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">Figure 7-16</a>, an offset arc of a shape point on a geometric segment is an arc on which all points have the same minimum distance to the shape point. As a result, all points on the offset arc are represented by the same (measure, offset) pair. To resolve this one-to-many mapping problem, the middle point on the offset arc is returned. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL781"></a><a id="SPATL780"></a><div class="props_rev_3"><a id="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC" name="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC"></a><h4 id="SPATL-GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC" class="sect4"><span class="enumeration_section">7.5.9 </span>Projecting a Point onto a Geometric Segment
                  </h4>
                  <div>
                     <p><a id="d62565e2548" class="indexterm-anchor"></a><a id="d62565e2550" class="indexterm-anchor"></a><a id="d62565e2554" class="indexterm-anchor"></a>You can find the projection point of a point with respect to a geometric segment. The point to be projected can be on or off the segment. If the point is on the segment, the point and its projection point are the same.
                     </p>
                     <p>Projection is a reverse operation of the point-locating operation shown in <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884817">Figure 7-15</a>. Similar to a point-locating operation, all points on the offset arc of a shape point will have the same projection point (that is, the shape point itself), measure, and offset (see <a href="lrs-linear-referencing-system-concepts.html#GUID-DF662D84-9717-4C13-95F8-1E71B67114C9__I884861">Figure 7-16</a>). If there are multiple projection points for a point, the first one from the start point is returned (Projection Point 1 in both illustrations in <a href="lrs-linear-referencing-system-concepts.html#GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC__I884057">Figure 7-17</a>).
                     </p>
                     <div class="figure" id="GUID-AE76EA98-4709-48E4-8B6C-21BB5DE288DC__I884057">
                        <p class="titleinfigure">Figure 7-17 Multiple Projection Points</p><img src="img/multiprojpts.gif" alt="Description of Figure 7-17 follows" title="Description of Figure 7-17 follows" longdesc="img_text/multiprojpts.html"><br><a href="img_text/multiprojpts.html">Description of "Figure 7-17 Multiple Projection Points"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL783"></a><a id="SPATL782"></a><div class="props_rev_3"><a id="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299" name="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299"></a><h4 id="SPATL-GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299" class="sect4"><span class="enumeration_section">7.5.10 </span>Converting LRS Geometries
                  </h4>
                  <div>
                     <p><a id="d62565e2634" class="indexterm-anchor"></a><a id="d62565e2638" class="indexterm-anchor"></a>You can convert geometries from standard line string format to LRS format, and the reverse. The main use of conversion functions will probably occur if you have a large amount of existing line string data, in which case conversion is a convenient alternative to creating all of the LRS segments manually. However, if you need to convert LRS segments to standard line strings for certain applications, that capability is provided also.
                     </p>
                     <p>Functions are provided to convert:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Individual line strings or points</p>
                           <p>For conversion from standard format to LRS format, a measure dimension (named <span class="italic">M</span> by default) is added, and measure information is provided for each point. For conversion from LRS format to standard format, the measure dimension and information are removed. In both cases, the dimensional information (DIMINFO) metadata in the USER_SDO_GEOM_METADATA view is not affected.
                           </p>
                        </li>
                        <li>
                           <p>Layers (all geometries in a column)</p>
                           <p>For conversion from standard format to LRS format, a measure dimension (named <span class="italic">M</span> by default) is added, but no measure information is provided for each point. For conversion from LRS format to standard format, the measure dimension and information are removed. In both cases, the dimensional information (DIMINFO) metadata in the USER_SDO_GEOM_METADATA view is modified as needed.
                           </p>
                        </li>
                        <li>
                           <p>Dimensional information (DIMINFO)</p>
                           <p>The dimensional information (DIMINFO) metadata in the USER_SDO_GEOM_METADATA view is modified as needed. For example, converting a standard dimensional array with X and Y dimensions (SDO_DIM_ELEMENT) to an LRS dimensional array causes an M dimension (SDO_DIM_ELEMENT) to be added.</p>
                        </li>
                     </ul>
                     <p><a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">Figure 7-18</a> shows the addition of measure information when a standard line string is converted to an LRS line string (using the <a href="SDO_LRS-reference.html#GUID-70E4BB1A-250F-413E-B06C-D134C6B8E33D">SDO_LRS.CONVERT_TO_LRS_GEOM</a> function). The measure dimension values are underlined in <a href="lrs-linear-referencing-system-concepts.html#GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">Figure 7-18</a>.
                     </p>
                     <div class="figure" id="GUID-108C0A77-9D9A-40ED-BE79-0FCBC5172299__I890004">
                        <p class="titleinfigure">Figure 7-18 Conversion from Standard to LRS Line String</p><img src="img/conversion.gif" alt="Description of Figure 7-18 follows" title="Description of Figure 7-18 follows" longdesc="img_text/conversion.html"><br><a href="img_text/conversion.html">Description of "Figure 7-18 Conversion from Standard to LRS Line String"</a></div>
                     <!-- class="figure" -->
                     <p>For conversions of point geometries, the SDO_POINT attribute (described in <a href="spatial-datatypes-metadata.html#GUID-1BEDE913-87BA-4EBD-BFFB-09C95C93A04E">SDO_POINT</a>) in the returned geometry is affected as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If a standard point is converted to an LRS point, the SDO_POINT attribute information in the input geometry is used to set the SDO_ELEM_INFO and SDO_ORDINATES attributes (described in <a href="spatial-datatypes-metadata.html#GUID-270AE39D-7B83-46D0-9DD6-E5D99C045021">SDO_ELEM_INFO</a> and <a href="spatial-datatypes-metadata.html#GUID-79D7620B-5526-40FD-9604-9642B79908F2">SDO_ORDINATES</a>) in the resulting geometry, and the SDO_POINT attribute in the resulting geometry is set to null.
                           </p>
                        </li>
                        <li>
                           <p>If an LRS point is converted to a standard point, the information in the SDO_ELEM_INFO and SDO_ORDINATES attributes (described in <a href="spatial-datatypes-metadata.html#GUID-270AE39D-7B83-46D0-9DD6-E5D99C045021">SDO_ELEM_INFO</a> and <a href="spatial-datatypes-metadata.html#GUID-79D7620B-5526-40FD-9604-9642B79908F2">SDO_ORDINATES</a>) in the input geometry is used to set the SDO_POINT attribute information in the resulting geometry, and the SDO_ELEM_INFO and SDO_ORDINATES attributes in the resulting geometry are set to null.
                           </p>
                        </li>
                     </ul>
                     <p>The conversion functions are listed in <a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="The MDSYS.SDO_LRS package contains subprograms that create, modify, query, and convert linear referencing elements."> SDO_LRS Package (Linear Referencing System) </a>. See also the reference information in <a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="The MDSYS.SDO_LRS package contains subprograms that create, modify, query, and convert linear referencing elements."> SDO_LRS Package (Linear Referencing System) </a> about each conversion function.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-247E53DE-3F27-4BE2-97D6-363F10814985" title="This topic describes several linear referencing operations supported by the Oracle Spatial and Graph LRS API.">LRS Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL785"></a><a id="SPATL784"></a><div class="props_rev_3"><a id="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C" name="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C"></a><h3 id="SPATL-GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C" class="sect3"><span class="enumeration_section">7.6 </span>Tolerance Values with LRS Functions
               </h3>
               <div>
                  <p>Many LRS functions require that you specify a tolerance value or one or more dimensional arrays.</p>
                  <p>Thus, you can control whether to specify a single tolerance value for all non-measure dimensions or to use the tolerance associated with each non-measure dimension in the dimensional array or arrays. The tolerance is applied only to the geometry portion of the data, not to the measure dimension. The tolerance value for geodetic data is in meters, and for non-geodetic data it is in the unit of measurement associated with the data. (For a detailed discussion of tolerance, see <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>.)
                  </p>
                  <p>Be sure that the tolerance value used is appropriate to the data and your purpose. If the results of LRS functions seem imprecise or incorrect, you may need to specify a smaller tolerance value.</p>
                  <p>For clip operations (see <a href="lrs-linear-referencing-system-concepts.html#GUID-C3E5E1B7-D0D9-4DCB-A325-86F3C926EFBC">Clipping a Geometric Segment</a>) and offset operations (see <a href="lrs-linear-referencing-system-concepts.html#GUID-6FF6530A-59CE-4756-BDDE-5D095CCE190F">Offsetting a Geometric Segment</a>), if the returned segment has any shape points within the tolerance value of the input geometric segment from what would otherwise be the start point or end point of the returned segment, the shape point is used as the start point or end point of the returned segment. This is done to ensure that the resulting geometry does not contain any redundant vertices, which would cause the geometry to be invalid. For example, assume that the tolerance associated with the geometric segment (non-geodetic data) in <a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">Figure 7-19</a> is 0.5. 
                  </p>
                  <div class="figure" id="GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">
                     <p class="titleinfigure">Figure 7-19 Segment for Clip Operation Affected by Tolerance</p><img src="img/lrs_tol.gif" alt="Description of Figure 7-19 follows" title="Description of Figure 7-19 follows" longdesc="img_text/lrs_tol.html"><br><a href="img_text/lrs_tol.html">Description of "Figure 7-19 Segment for Clip Operation Affected by Tolerance"</a></div>
                  <!-- class="figure" -->
                  <p>If you request a clip operation to return the segment between measure values 0 (the start point) and 61.5 in <a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C__CIHGJHBI">Figure 7-19</a>, and if the distance between the points associated with measure values 61.5 and 61.257 is less than the 0.5 tolerance value, the end point of the returned segment is (35, 10, 61.257).
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">Linear Referencing System</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL787"></a><a id="SPATL788"></a><a id="SPATL789"></a><a id="SPATL790"></a><a id="SPATL786"></a><div class="props_rev_3"><a id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770" name="GUID-699CED71-3497-4826-A4A5-60BF13CD3770"></a><h3 id="SPATL-GUID-699CED71-3497-4826-A4A5-60BF13CD3770" class="sect3"><span class="enumeration_section">7.7 </span>Example of LRS Functions
               </h3>
               <div>
                  <p>This section presents a simplified example that uses LRS functions.</p>
                  <p><a id="d62565e2897" class="indexterm-anchor"></a><a id="d62565e2901" class="indexterm-anchor"></a>It refers to concepts that are explained in this chapter and uses functions documented in <a href="SDO_LRS-reference.html#GUID-38A5534F-0B2D-410B-8210-3DFFD4E4AE5B" title="The MDSYS.SDO_LRS package contains subprograms that create, modify, query, and convert linear referencing elements."> SDO_LRS Package (Linear Referencing System) </a>.
                  </p>
                  <p>This example uses the road that is illustrated in <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">Figure 7-20</a>.
                  </p>
                  <div class="figure" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">
                     <p class="titleinfigure">Figure 7-20 Simplified LRS Example: Highway</p><img src="img/highway.gif" alt="Description of Figure 7-20 follows" title="Description of Figure 7-20 follows" longdesc="img_text/highway.html"><br><a href="img_text/highway.html">Description of "Figure 7-20 Simplified LRS Example: Highway"</a></div>
                  <!-- class="figure" -->
                  <p>In <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">Figure 7-20</a>, the highway (Route 1) starts at point 2,2 and ends at point 5,14, follows the path shown, and has six entrance-exit points (Exit 1 through Exit 6). For simplicity, each unit on the graph represents one unit of measure, and thus the measure from start to end is 27 (the segment from Exit 5 to Exit 6 being the hypotenuse of a 3-4-5 right triangle).
                  </p>
                  <p>Each row in <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABECGJD" title="This is a table of Highway Features and LRS Counterparts (corresponding features).">Table 7-1</a> lists an actual highway-related feature and the LRS feature that corresponds to it or that can be used to represent it.
                  </p>
                  <div class="tblformal" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABECGJD">
                     <p class="titleintable">Table 7-1 Highway Features and LRS Counterparts</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Highway Features and LRS Counterparts" summary="This is a table of Highway Features and LRS Counterparts (corresponding features)." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d62565e2943">Highway Feature</th>
                              <th align="left" valign="bottom" width="47%" id="d62565e2946">LRS Feature</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2951" headers="d62565e2943 ">
                                 <p>Named route, road, or street</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2951 d62565e2946 ">
                                 <p>LRS segment, or linear feature (logical set of segments)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2958" headers="d62565e2943 ">
                                 <p>Mile or kilometer marker</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2958 d62565e2946 ">
                                 <p>Measure</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2965" headers="d62565e2943 ">
                                 <p>Accident reporting and location tracking</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2965 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-0A7398C5-9112-415D-9F75-38DFF40DEEBA">SDO_LRS.LOCATE_PT</a> function
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2975" headers="d62565e2943 ">
                                 <p>Construction zone (portion of a road)</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2975 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-FC99FDEA-8CCD-47A0-B43C-59A6523D98A6">SDO_LRS.CLIP_GEOM_SEGMENT</a> function
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2985" headers="d62565e2943 ">
                                 <p>Road extension (adding at the beginning or end) or combination (designating or renaming two roads that meet as one road)</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2985 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-F6BA9668-821C-4674-9533-0C0EF5E918D3">SDO_LRS.CONCATENATE_GEOM_SEGMENTS</a> function
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e2995" headers="d62565e2943 ">
                                 <p>Road reconstruction or splitting (resulting in two named roads from one named road)</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e2995 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-1CEF3B63-70D9-4A2B-9388-B4B33D710B24">SDO_LRS.SPLIT_GEOM_SEGMENT</a> procedure
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e3005" headers="d62565e2943 ">
                                 <p>Finding the closest point on the road to a point off the road (such as a building)</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e3005 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-BBCE2843-7303-4FB6-B832-F335925F4F8B">SDO_LRS.PROJECT_PT</a> function
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d62565e3015" headers="d62565e2943 ">
                                 <p>Guard rail or fence alongside a road</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d62565e3015 d62565e2946 ">
                                 <p><a href="SDO_LRS-reference.html#GUID-26627C35-104C-42A1-9F0D-0388109A85CE">SDO_LRS.OFFSET_GEOM_SEGMENT</a> function
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">Example 7-2</a> does the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Creates a table to hold the segment depicted in <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">Figure 7-20</a></p>
                     </li>
                     <li>
                        <p>Inserts the definition of the highway depicted in <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__I888413">Figure 7-20</a> into the table
                        </p>
                     </li>
                     <li>
                        <p>Inserts the necessary metadata into the USER_SDO_GEOM_METADATA view</p>
                     </li>
                     <li>
                        <p>Uses PL/SQL and SQL statements to define the segment and perform operations on it</p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">
                     <p class="titleinexample">Example 7-2 Simplified Example: Highway</p><pre class="oac_no_warn" dir="ltr">-- Create a table for routes (highways).
CREATE TABLE lrs_routes (
  route_id  NUMBER PRIMARY KEY,
  route_name  VARCHAR2(32),
  route_geometry  SDO_GEOMETRY);

-- Populate table with just one route for this example.
INSERT INTO lrs_routes VALUES(
  1,
  'Route1',
  SDO_GEOMETRY(
    3302,  -- line string, 3 dimensions: X,Y,M
    NULL,
    NULL,
    SDO_ELEM_INFO_ARRAY(1,2,1), -- one line string, straight segments
    SDO_ORDINATE_ARRAY(
      2,2,0,   -- Start point - Exit1; 0 is measure from start.
      2,4,2,   -- Exit2; 2 is measure from start. 
      8,4,8,   -- Exit3; 8 is measure from start. 
      12,4,12,  -- Exit4; 12 is measure from start. 
      12,10,NULL,  -- Not an exit; measure automatically calculated and filled.
      8,10,22,  -- Exit5; 22 is measure from start.  
      5,14,27)  -- End point (Exit6); 27 is measure from start.
  )
);

-- Update the spatial metadata.
INSERT INTO user_sdo_geom_metadata
    (TABLE_NAME,
     COLUMN_NAME,
     DIMINFO,
     SRID)
  VALUES (
  'lrs_routes',
  'route_geometry',
  SDO_DIM_ARRAY(   -- 20X20 grid
    SDO_DIM_ELEMENT('X', 0, 20, 0.005),
    SDO_DIM_ELEMENT('Y', 0, 20, 0.005),
    SDO_DIM_ELEMENT('M', 0, 20, 0.005) -- Measure dimension
     ),
  NULL   -- SRID
);

-- Create the spatial index.
CREATE INDEX lrs_routes_idx ON lrs_routes(route_geometry)
  INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2;

-- Test the LRS procedures.
DECLARE
geom_segment SDO_GEOMETRY;
line_string SDO_GEOMETRY;
dim_array SDO_DIM_ARRAY;
result_geom_1 SDO_GEOMETRY;
result_geom_2 SDO_GEOMETRY;
result_geom_3 SDO_GEOMETRY;

BEGIN

SELECT a.route_geometry into geom_segment FROM lrs_routes a
  WHERE a.route_name = 'Route1';
SELECT m.diminfo into dim_array from 
  user_sdo_geom_metadata m
  WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY';

-- Define the LRS segment for Route1. This will populate any null measures.
-- No need to specify start and end measures, because they are already defined 
-- in the geometry.
SDO_LRS.DEFINE_GEOM_SEGMENT (geom_segment, dim_array);

SELECT a.route_geometry INTO line_string FROM lrs_routes a 
  WHERE a.route_name = 'Route1';

-- Split Route1 into two segments.
SDO_LRS.SPLIT_GEOM_SEGMENT(line_string,dim_array,5,result_geom_1,result_geom_2);

-- Concatenate the segments that were just split.
result_geom_3 := SDO_LRS.CONCATENATE_GEOM_SEGMENTS(result_geom_1, dim_array, result_geom_2, dim_array);

-- Update and insert geometries into table, to display later.
UPDATE lrs_routes a SET a.route_geometry = geom_segment
   WHERE a.route_id = 1;

INSERT INTO lrs_routes VALUES(
  11,
  'result_geom_1',
  result_geom_1
);
INSERT INTO lrs_routes VALUES(
  12,
  'result_geom_2',
  result_geom_2
);
INSERT INTO lrs_routes VALUES(
  13,
  'result_geom_3',
  result_geom_3
);

END;
/

-- First, display the data in the LRS table.
SELECT route_id, route_name, route_geometry FROM lrs_routes;

-- Are result_geom_1 and result_geom2 connected? 
SELECT  SDO_LRS.CONNECTED_GEOM_SEGMENTS(a.route_geometry,
           b.route_geometry, 0.005)
  FROM lrs_routes a, lrs_routes b
  WHERE a.route_id = 11 AND b.route_id = 12;

-- Is the Route1 segment valid?
SELECT  SDO_LRS.VALID_GEOM_SEGMENT(route_geometry)
  FROM lrs_routes WHERE route_id = 1;

-- Is 50 a valid measure on Route1? (Should return FALSE; highest Route1 measure is 27.)
SELECT  SDO_LRS.VALID_MEASURE(route_geometry, 50)
  FROM lrs_routes WHERE route_id = 1;

-- Is the Route1 segment defined?
SELECT  SDO_LRS.IS_GEOM_SEGMENT_DEFINED(route_geometry)
  FROM lrs_routes WHERE route_id = 1;

-- How long is Route1?
SELECT  SDO_LRS.GEOM_SEGMENT_LENGTH(route_geometry)
  FROM lrs_routes WHERE route_id = 1;

-- What is the start measure of Route1?
SELECT  SDO_LRS.GEOM_SEGMENT_START_MEASURE(route_geometry)
  FROM lrs_routes WHERE route_id = 1;

-- What is the end measure of Route1?
SELECT  SDO_LRS.GEOM_SEGMENT_END_MEASURE(route_geometry)
  FROM lrs_routes WHERE route_id = 1;

-- What is the start point of Route1?
SELECT  SDO_LRS.GEOM_SEGMENT_START_PT(route_geometry)
  FROM lrs_routes WHERE route_id = 1;

-- What is the end point of Route1?
SELECT  SDO_LRS.GEOM_SEGMENT_END_PT(route_geometry)
  FROM lrs_routes WHERE route_id = 1;

-- Translate (shift measure values) (+10).
-- First, display the original segment; then, translate.
SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1;
SELECT SDO_LRS.TRANSLATE_MEASURE(a.route_geometry, m.diminfo, 10)
  FROM lrs_routes a, user_sdo_geom_metadata m
  WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY'
    AND a.route_id = 1;
 
-- Redefine geometric segment to "convert" miles to kilometers
DECLARE
geom_segment SDO_GEOMETRY;
dim_array SDO_DIM_ARRAY;
 
BEGIN
 
SELECT a.route_geometry into geom_segment FROM lrs_routes a
  WHERE a.route_name = 'Route1';
SELECT m.diminfo into dim_array from 
  user_sdo_geom_metadata m
  WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY';
 
-- "Convert" mile measures to kilometers (27 * 1.609 = 43.443).
SDO_LRS.REDEFINE_GEOM_SEGMENT (geom_segment,
  dim_array,
  0, -- Zero starting measure: LRS segment starts at start of route.
  43.443); -- End of LRS segment. 27 miles = 43.443 kilometers.
 
-- Update and insert geometries into table, to display later.
UPDATE lrs_routes a SET a.route_geometry = geom_segment
   WHERE a.route_id = 1;
 
END;/
-- Display the redefined segment, with all measures "converted."
SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1;

-- Clip a piece of Route1.
SELECT  SDO_LRS.CLIP_GEOM_SEGMENT(route_geometry, 5, 10)
  FROM lrs_routes WHERE route_id = 1;

-- Point (9,3,NULL) is off the road; should return (9,4,9).
SELECT  SDO_LRS.PROJECT_PT(route_geometry, 
  SDO_GEOMETRY(3301, NULL, NULL, 
     SDO_ELEM_INFO_ARRAY(1, 1, 1), 
     SDO_ORDINATE_ARRAY(9, 3, NULL)) )
  FROM lrs_routes WHERE route_id = 1;

-- Return the measure of the projected point.
SELECT  SDO_LRS.GET_MEASURE(
 SDO_LRS.PROJECT_PT(a.route_geometry, m.diminfo,
  SDO_GEOMETRY(3301, NULL, NULL, 
     SDO_ELEM_INFO_ARRAY(1, 1, 1), 
     SDO_ORDINATE_ARRAY(9, 3, NULL)) ),
 m.diminfo )
 FROM lrs_routes a, user_sdo_geom_metadata m
 WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY'
   AND a.route_id = 1;

-- Is point (9,3,NULL) a valid LRS point? (Should return TRUE.)
SELECT  SDO_LRS.VALID_LRS_PT(
  SDO_GEOMETRY(3301, NULL, NULL, 
     SDO_ELEM_INFO_ARRAY(1, 1, 1), 
     SDO_ORDINATE_ARRAY(9, 3, NULL)),
  m.diminfo)
  FROM lrs_routes a, user_sdo_geom_metadata m
  WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY'
    AND a.route_id = 1;

-- Locate the point on Route1 at measure 9, offset 0.
SELECT  SDO_LRS.LOCATE_PT(route_geometry, 9, 0)
  FROM lrs_routes WHERE route_id = 1;
</pre><p><a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABGFEHE">Example 7-3</a> shows the output of the SELECT statements in <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABFDJGE">Example 7-2</a>.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-699CED71-3497-4826-A4A5-60BF13CD3770__BABGFEHE">
                     <p class="titleinexample">Example 7-3 Simplified Example: Output of SELECT Statements</p><pre class="oac_no_warn" dir="ltr">SQL&gt; -- First, display the data in the LRS table.
SQL&gt; SELECT route_id, route_name, route_geometry FROM lrs_routes;

  ROUTE_ID ROUTE_NAME                                                           
---------- --------------------------------                                     
ROUTE_GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDIN
--------------------------------------------------------------------------------
         1 Route1                                                               
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
2, 2, 0, 2, 4, 2, 8, 4, 8, 12, 4, 12, 12, 10, 18, 8, 10, 22, 5, 14, 27))        
                                                                                
        11 result_geom_1                                                        
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
2, 2, 0, 2, 4, 2, 5, 4, 5))                                                     
                                                                                
        12 result_geom_2                                                        

  ROUTE_ID ROUTE_NAME                                                           
---------- --------------------------------                                     
ROUTE_GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDIN
--------------------------------------------------------------------------------
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
5, 4, 5, 8, 4, 8, 12, 4, 12, 12, 10, 18, 8, 10, 22, 5, 14, 27))                 
                                                                                
        13 result_geom_3                                                        
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
2, 2, 0, 2, 4, 2, 5, 4, 5, 8, 4, 8, 12, 4, 12, 12, 10, 18, 8, 10, 22, 5, 14, 27)
)  
 
SQL&gt; -- Are result_geom_1 and result_geom2 connected?
SQL&gt; SELECT  SDO_LRS.CONNECTED_GEOM_SEGMENTS(a.route_geometry,
  2  		b.route_geometry, 0.005)
  3    FROM lrs_routes a, lrs_routes b
  4    WHERE a.route_id = 11 AND b.route_id = 12;

SDO_LRS.CONNECTED_GEOM_SEGMENTS(A.ROUTE_GEOMETRY,B.ROUTE_GEOMETRY,0.005)        
--------------------------------------------------------------------------------
TRUE
 
SQL&gt; -- Is the Route1 segment valid?
SQL&gt; SELECT  SDO_LRS.VALID_GEOM_SEGMENT(route_geometry)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.VALID_GEOM_SEGMENT(ROUTE_GEOMETRY)                                      
--------------------------------------------------------------------------------
TRUE 
 
SQL&gt; -- Is 50 a valid measure on Route1? (Should return FALSE; highest Route1 measure is 27.)
SQL&gt; SELECT  SDO_LRS.VALID_MEASURE(route_geometry, 50)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.VALID_MEASURE(ROUTE_GEOMETRY,50)                                        
--------------------------------------------------------------------------------
FALSE 
 
SQL&gt; -- Is the Route1 segment defined?
SQL&gt; SELECT  SDO_LRS.IS_GEOM_SEGMENT_DEFINED(route_geometry)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.IS_GEOM_SEGMENT_DEFINED(ROUTE_GEOMETRY)                                 
--------------------------------------------------------------------------------
TRUE 
 
SQL&gt; -- How long is Route1?
SQL&gt; SELECT  SDO_LRS.GEOM_SEGMENT_LENGTH(route_geometry)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.GEOM_SEGMENT_LENGTH(ROUTE_GEOMETRY)                                     
-------------------------------------------                                     
                                         27  
 
SQL&gt; -- What is the start measure of Route1?
SQL&gt; SELECT  SDO_LRS.GEOM_SEGMENT_START_MEASURE(route_geometry)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.GEOM_SEGMENT_START_MEASURE(ROUTE_GEOMETRY)                              
--------------------------------------------------                              
                                                 0  
 
SQL&gt; -- What is the end measure of Route1?
SQL&gt; SELECT  SDO_LRS.GEOM_SEGMENT_END_MEASURE(route_geometry)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.GEOM_SEGMENT_END_MEASURE(ROUTE_GEOMETRY)                                
------------------------------------------------                                
                                              27  
 
SQL&gt; -- What is the start point of Route1?
SQL&gt; SELECT  SDO_LRS.GEOM_SEGMENT_START_PT(route_geometry)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.GEOM_SEGMENT_START_PT(ROUTE_GEOMETRY)(SDO_GTYPE, SDO_SRID, SDO_POINT(X, 
--------------------------------------------------------------------------------
SDO_GEOMETRY(3301, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(
2, 2, 0)) 
 
SQL&gt; -- What is the end point of Route1?
SQL&gt; SELECT  SDO_LRS.GEOM_SEGMENT_END_PT(route_geometry)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.GEOM_SEGMENT_END_PT(ROUTE_GEOMETRY)(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y,
--------------------------------------------------------------------------------
SDO_GEOMETRY(3301, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(
5, 14, 27))  
 
SQL&gt; -- Translate (shift measure values) (+10).
SQL&gt; -- First, display the original segment; then, translate.
SQL&gt; SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1;
 
ROUTE_GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDIN
--------------------------------------------------------------------------------
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
2, 2, 0, 2, 4, 2, 8, 4, 8, 12, 4, 12, 12, 10, 18, 8, 10, 22, 5, 14, 27))        
                                                                                
SQL&gt; SELECT SDO_LRS.TRANSLATE_MEASURE(a.route_geometry, m.diminfo, 10)
  2    FROM lrs_routes a, user_sdo_geom_metadata m
  3    WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY'
  4   AND a.route_id = 1;
 
SDO_LRS.TRANSLATE_MEASURE(A.ROUTE_GEOMETRY,M.DIMINFO,10)(SDO_GTYPE, SDO_SRID, SD
--------------------------------------------------------------------------------
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
2, 2, 10, 2, 4, 12, 8, 4, 18, 12, 4, 22, 12, 10, 28, 8, 10, 32, 5, 14, 37))     
                                                                                
 
SQL&gt; -- Redefine geometric segment to "convert" miles to kilometers
SQL&gt; DECLARE
  2  geom_segment SDO_GEOMETRY;
  3  dim_array SDO_DIM_ARRAY;
  4  
  5  BEGIN
  6  
  7  SELECT a.route_geometry into geom_segment FROM lrs_routes a
  8    WHERE a.route_name = 'Route1';
  9  SELECT m.diminfo into dim_array from
 10    user_sdo_geom_metadata m
 11    WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY';
 12  
 13  -- "Convert" mile measures to kilometers (27 * 1.609 = 43.443).
 14  SDO_LRS.REDEFINE_GEOM_SEGMENT (geom_segment,
 15    dim_array,
 16    0, -- Zero starting measure: LRS segment starts at start of route.
 17    43.443); -- End of LRS segment. 27 miles = 43.443 kilometers.
 18  
 19  -- Update and insert geometries into table, to display later.
 20  UPDATE lrs_routes a SET a.route_geometry = geom_segment
 21  	WHERE a.route_id = 1;
 22  
 23  END;
 24  /
 
PL/SQL procedure successfully completed.
 
SQL&gt; -- Display the redefined segment, with all measures "converted."
SQL&gt; SELECT a.route_geometry FROM lrs_routes a WHERE a.route_id = 1;
 
ROUTE_GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDIN
--------------------------------------------------------------------------------
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
2, 2, 0, 2, 4, 3.218, 8, 4, 12.872, 12, 4, 19.308, 12, 10, 28.962, 8, 10, 35.398
, 5, 14, 43.443)) 
 
SQL&gt; -- Clip a piece of Route1.
SQL&gt; SELECT  SDO_LRS.CLIP_GEOM_SEGMENT(route_geometry, 5, 10)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.CLIP_GEOM_SEGMENT(ROUTE_GEOMETRY,5,10)(SDO_GTYPE, SDO_SRID, SDO_POINT(X,
--------------------------------------------------------------------------------
SDO_GEOMETRY(3302, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 2, 1), SDO_ORDINATE_ARRAY(
5, 4, 5, 8, 4, 8, 10, 4, 10))   
 
SQL&gt; -- Point (9,3,NULL) is off the road; should return (9,4,9).
SQL&gt; SELECT  SDO_LRS.PROJECT_PT(route_geometry,
  2    SDO_GEOMETRY(3301, NULL, NULL,
  3    SDO_ELEM_INFO_ARRAY(1, 1, 1),
  4    SDO_ORDINATE_ARRAY(9, 3, NULL)) )
  5    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.PROJECT_PT(ROUTE_GEOMETRY,SDO_GEOMETRY(3301,NULL,NULL,SDO_EL
--------------------------------------------------------------------------------
SDO_GEOMETRY(3301, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(
9, 4, 9)) 
 
SQL&gt; -- Return the measure of the projected point.
SQL&gt; SELECT  SDO_LRS.GET_MEASURE(
  2   SDO_LRS.PROJECT_PT(a.route_geometry, m.diminfo,
  3    SDO_GEOMETRY(3301, NULL, NULL,
  4    SDO_ELEM_INFO_ARRAY(1, 1, 1),
  5    SDO_ORDINATE_ARRAY(9, 3, NULL)) ),
  6   m.diminfo )
  7   FROM lrs_routes a, user_sdo_geom_metadata m
  8   WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY'
  9  	 AND a.route_id = 1;

SDO_LRS.GET_MEASURE(SDO_LRS.PROJECT_PT(A.ROUTE_GEOMETRY,M.DIMINFO,SDO_GEOM
--------------------------------------------------------------------------------
                                                                               9
 
SQL&gt; -- Is point (9,3,NULL) a valid LRS point? (Should return TRUE.)
SQL&gt; SELECT  SDO_LRS.VALID_LRS_PT(
  2    SDO_GEOMETRY(3301, NULL, NULL,
  3    SDO_ELEM_INFO_ARRAY(1, 1, 1),
  4    SDO_ORDINATE_ARRAY(9, 3, NULL)),
  5    m.diminfo)
  6    FROM lrs_routes a, user_sdo_geom_metadata m
  7    WHERE m.table_name = 'LRS_ROUTES' AND m.column_name = 'ROUTE_GEOMETRY'
  8    AND a.route_id = 1;

SDO_LRS.VALID_LRS_PT(SDO_GEOMETRY(3301,NULL,NULL,SDO_ELEM_INFO_ARRAY
------------------------------------------------------------------------------
TRUE   
 
SQL&gt; -- Locate the point on Route1 at measure 9, offset 0.
SQL&gt; SELECT  SDO_LRS.LOCATE_PT(route_geometry, 9, 0)
  2    FROM lrs_routes WHERE route_id = 1;

SDO_LRS.LOCATE_PT(ROUTE_GEOMETRY,9,0)(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), S
--------------------------------------------------------------------------------
SDO_GEOMETRY(3301, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(
9, 4, 9)) </pre><p></p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="lrs-linear-referencing-system-concepts.html#GUID-9793361B-6C73-41E1-8389-85D8788ED083" title="Linear referencing is a natural and convenient means to associate attributes or events to locations or portions of a linear feature. It has been widely used in transportation applications (such as for highways, railroads, and transit routes) and utilities applications (such as for gas and oil pipelines).">Linear Referencing System</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='04686.clob-class.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Clob Class</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96205-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="bytes-class.html" title="Previous" type="text/html">
      <link rel="next" href="connection-class.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNCPP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="bytes-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="connection-class.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name"> OCCI Application Programming Interface</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Clob Class</li>
            </ol>
            <a id="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1" name="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1"></a><a id="LNCPP20702"></a><a id="LNCPP1006"></a>
            
            <h2 id="LNCPP-GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1" class="sect2"><span class="enumeration_section">13.9 </span>Clob Class
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>The <code class="codeph">Clob</code> class defines the common properties of objects of type <code class="codeph">CLOB</code>. A <code class="codeph">Clob</code> is a large character object stored as a column value in a row of a database table. A <code class="codeph">Clob</code> object contains a logical pointer to a <code class="codeph">CLOB</code>, not the <code class="codeph">CLOB</code> itself.
                  </p>
                  <p>Methods of the <code class="codeph">Clob</code> class enable you to perform specific tasks related to <code class="codeph">Clob</code> objects, including methods for getting the length of a SQL <code class="codeph">CLOB</code>, for materializing a <code class="codeph">CLOB</code> on the client, and for extracting a part of the <code class="codeph">CLOB</code>.
                  </p>
                  <p>The only methods valid on a <code class="codeph">NULL</code> <code class="codeph">CLOB</code> object are <a href="bfile-class.html#GUID-96AA140C-73F2-432D-9E76-0123BBEDFB6D">setName()</a>, <a href="clob-class.html#GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA">isNull()</a>, and <a href="bfile-class.html#GUID-BED75C06-79E5-474F-AF41-461958455942">operator=()</a>.
                  </p>
                  <p>Methods in the <code class="codeph">ResultSet</code> and <code class="codeph">Statement</code> classes, such as <code class="codeph">getClob()</code> and <code class="codeph">setClob()</code>, enable you to access an SQL <code class="codeph">CLOB</code> value.
                  </p>
                  <p>An uninitialized <code class="codeph">CLOB</code> object can be initialized by:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <a href="blob-class.html#GUID-E1F81CE1-F3BC-496D-90C3-A83049EF7930">setEmpty()</a> method. The <code class="codeph">CLOB</code> can then be modified by inserting this <code class="codeph">CLOB</code> into the table and retrieving it using   <code class="codeph">SELECT...FOR&nbsp;UPDATE</code>. The <a href="blob-class.html#GUID-001D367B-2009-43BE-9348-674C1BCD68EA">write()</a> method modifies the <code class="codeph">CLOB</code>; however, the modified data is flushed to the table only when the transaction is committed. Note that an <code class="codeph">insert</code> is not required.
                        </p>
                     </li>
                     <li>
                        <p>Assigning an initialized <code class="codeph">Clob</code> object to it.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1__GUID-06DED90A-F29F-45F9-AE3B-117126047C8B">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>In-depth discussion of <code class="codeph">LOB</code>s in the introductory chapter of   <a href="../adlob/introduction-to-large-objects.html#ADLOB001" target="_blank"><span><cite>Oracle Database SecureFiles and Large Objects Developer's Guide</cite></span></a>, 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-E898FEF1-55B6-4398-A0A0-CFFA7C4B5BF1__BBAFIFAD">
                  <p class="titleintable">Table 13-10 Summary of Clob Methods </p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of Clob Methods " summary="First column lists methods; second column provides description of these methods." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="37%" id="d96246e217">Method</th>
                           <th align="left" valign="bottom" width="63%" id="d96246e220">Summary</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e225" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED">Clob()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e225 d96246e220 ">
                              <p><code class="codeph">Clob</code> class constructor.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e235" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2">append()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e235 d96246e220 ">
                              <p>Appends a <code class="codeph">Clob</code> at the end of the current <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e249" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-117C8885-266B-4D1D-9441-E0253E63129B">close()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e249 d96246e220 ">
                              <p>Closes a previously opened <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e260" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A">closeStream()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e260 d96246e220 ">
                              <p>Closes the <code class="codeph">Stream</code> object obtained from the current <code class="codeph">Clob</code>. 
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e274" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02">copy()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e274 d96246e220 ">
                              <p>Copies all or a portion of a <code class="codeph">Clob</code> or <code class="codeph">BFILE</code> into the current <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e291" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C">getCharSetForm()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e291 d96246e220 ">
                              <p>Returns the character set form of the <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e302" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF">getCharSetId()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e302 d96246e220 ">
                              <p>Returns the character set ID of the <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e313" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43">getCharSetIdUString()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e313 d96246e220 ">
                              <p>Retrieves the characterset name associated with the <code class="codeph">Clob</code>; <code class="codeph">UString</code> version.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e327" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB">getChunkSize()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e327 d96246e220 ">
                              <p>Returns the smallest data size to perform efficient writes to the <code class="codeph">CLOB</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e338" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-361E0EE2-F19A-4656-B66A-96E20957FC68">getContentType()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e338 d96246e220 ">
                              <p>Returns the content type of the <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e349" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761">getOptions()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e349 d96246e220 ">
                              <p>Returns the <code class="codeph">CLOB</code>'s <code class="codeph">LobOptionValue</code> for a specified <code class="codeph">LobOptionTyp</code>e. 
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e367" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e367 d96246e220 ">
                              <p>Returns data from the <code class="codeph">CLOB</code> as a <code class="codeph">Stream</code> object.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e381" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760">isInitialized()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e381 d96246e220 ">
                              <p>Tests whether the <code class="codeph">Clob</code> object is initialized.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e392" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA">isNull()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e392 d96246e220 ">
                              <p>Tests whether the <code class="codeph">Clob</code> object is atomically <code class="codeph">NULL</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e406" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-29506600-ECAD-44BD-81D3-634D3504371C">isOpen()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e406 d96246e220 ">
                              <p>Tests whether the <code class="codeph">Clob</code> is open.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e417" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1">length()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e417 d96246e220 ">
                              <p>Returns the number of characters in the current <code class="codeph">CLOB</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e428" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-58C57D2B-1FE5-430F-B032-18A2B1850360">open()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e428 d96246e220 ">
                              <p>Opens the <code class="codeph">CLOB</code> with read or read/write access.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e439" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E">operator=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e439 d96246e220 ">
                              <p>Assigns a <code class="codeph">CLOB</code> locator to the current <code class="codeph">Clob</code> object.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e453" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5">operator==()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e453 d96246e220 ">
                              <p>Tests whether two <code class="codeph">Clob</code> objects are equal.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e464" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5">operator!=()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e464 d96246e220 ">
                              <p>Tests whether two <code class="codeph">Clob</code> objects are not equal.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e475" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83">read()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e475 d96246e220 ">
                              <p>Reads a portion of the <code class="codeph">CLOB</code> into a buffer.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e486" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e486 d96246e220 ">
                              <p>Sets the character set ID associated with the <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e498" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e498 d96246e220 ">
                              <p>Sets the character set ID associated with the <code class="codeph">Clob</code>; used when the environment character set is UTF16.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e509" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e509 d96246e220 ">
                              <p>Sets the character set form associated with the <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e520" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852">setContentType()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e520 d96246e220 ">
                              <p>Sets the content type of the <code class="codeph">Clob</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e531" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234">setEmpty()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e531 d96246e220 ">
                              <p>Sets the <code class="codeph">Clob</code> object to empty.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e542" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9">setNull()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e542 d96246e220 ">
                              <p>Sets the <code class="codeph">Clob</code> object to atomically <code class="codeph">NULL</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e556" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2">setOptions()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e556 d96246e220 ">
                              <p>Specifies a <code class="codeph">LobOptionValue</code> for a particular <code class="codeph">LobOptionType</code>. Enables advanced compression, encryption and deduplication of <code class="codeph">CLOB</code>s.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e573" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5">trim()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e573 d96246e220 ">
                              <p>Truncates the <code class="codeph">Clob</code> to a specified length.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e584" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-B17C9E99-2292-4F40-9E29-E02113DD9210">write()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e584 d96246e220 ">
                              <p>Writes a buffer into an <span class="italic">unopened</span> <code class="codeph">CLOB</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="37%" id="d96246e598" headers="d96246e217 ">
                              <p><a href="clob-class.html#GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E">writeChunk()</a></p>
                           </td>
                           <td align="left" valign="top" width="63%" headers="d96246e598 d96246e220 ">
                              <p>Writes a buffer into an <span class="italic">open</span> <code class="codeph">CLOB</code>.
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP20703"></a><div class="props_rev_3"><a id="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED" name="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED"></a><h3 id="LNCPP-GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED" class="sect3"><span class="enumeration_section">13.9.1 </span>Clob()
               </h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">Clob</code> class constructor.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED__GUID-FB794FE3-DCEE-4374-A6A3-AF4959B3696F">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists constructor versions; second column provides description of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d96246e688">Syntax</th>
                              <th align="left" valign="bottom" width="50%" id="d96246e691">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e696" headers="d96246e688 "><pre class="oac_no_warn" dir="ltr">Clob();</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e696 d96246e691 ">
                                 <p>Creates a <code class="codeph">NULL</code> <code class="codeph">Clob</code> object.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e709" headers="d96246e688 "><pre class="oac_no_warn" dir="ltr">Clob(
&nbsp;&nbsp;&nbsp;const Connection *connectionp);</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e709 d96246e691 ">
                                 <p>Creates an uninitialized <code class="codeph">Clob</code> object.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e719" headers="d96246e688 "><pre class="oac_no_warn" dir="ltr">Clob(
&nbsp;&nbsp;&nbsp;const Clob *srcClob);</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e719 d96246e691 ">
                                 <p>Creates a copy of a <code class="codeph">Clob</code> object.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-69F87279-4DEB-425C-AD41-3A17BAA383ED__GUID-BD918811-6AF0-48F9-83A6-65B9D7B1A50A">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d96246e736">Parameter</th>
                              <th align="left" valign="bottom" width="78%" id="d96246e739">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d96246e744" headers="d96246e736 "><pre class="oac_no_warn" dir="ltr">connectionp</pre></td>
                              <td align="left" valign="top" width="78%" headers="d96246e744 d96246e739 ">
                                 <p>Connection pointer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d96246e751" headers="d96246e736 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="78%" headers="d96246e751 d96246e739 ">
                                 <p>The source <code class="codeph">Clob</code> object
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20705"></a><a id="LNCPP20704"></a><div class="props_rev_3"><a id="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2" name="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2"></a><h3 id="LNCPP-GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2" class="sect3"><span class="enumeration_section">13.9.2 </span>append() 
               </h3>
               <div>
                  <div class="section">
                     <p>Appends a <code class="codeph">CLOB</code> to the end of the current <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2__GUID-2267DF3A-7931-4777-9B52-A430084BEA55">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void append(
&nbsp;&nbsp;&nbsp;const Clob &amp;srcClob);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4442BE8B-C7DC-4738-B1E3-35C828B4F1B2__GUID-5E255F23-88B7-4955-8D0A-3AB9172F33DE">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d96246e848">Parameter</th>
                              <th align="left" valign="bottom" width="81%" id="d96246e851">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e856" headers="d96246e848 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e856 d96246e851 ">
                                 <p>The <code class="codeph">CLOB</code> to be appended to the current <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20707"></a><a id="LNCPP20706"></a><div class="props_rev_3"><a id="GUID-117C8885-266B-4D1D-9441-E0253E63129B" name="GUID-117C8885-266B-4D1D-9441-E0253E63129B"></a><h3 id="LNCPP-GUID-117C8885-266B-4D1D-9441-E0253E63129B" class="sect3"><span class="enumeration_section">13.9.3 </span>close()
               </h3>
               <div>
                  <div class="section">
                     <p>Closes a <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-117C8885-266B-4D1D-9441-E0253E63129B__GUID-AEC2EF0C-C7F5-47CA-B410-9788A3D6BA92">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void close();
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20709"></a><a id="LNCPP20708"></a><div class="props_rev_3"><a id="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A" name="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A"></a><h3 id="LNCPP-GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A" class="sect3"><span class="enumeration_section">13.9.4 </span>closeStream()
               </h3>
               <div>
                  <div class="section">
                     <p>Closes the <code class="codeph">Stream</code> object obtained from the <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A__GUID-83F8C00B-010E-4AF0-A00C-D02DB028F044">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void closeStream(
&nbsp;&nbsp;&nbsp;Stream *stream);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-694B02DF-0CB6-417E-865E-B2D67A537A2A__GUID-AD1B035E-DFF6-4CE4-A1D0-D740F56FC7D2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d96246e1034">Parameter</th>
                              <th align="left" valign="bottom" width="81%" id="d96246e1037">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e1042" headers="d96246e1034 "><pre class="oac_no_warn" dir="ltr">stream</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e1042 d96246e1037 ">
                                 <p>The Stream object to be closed.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20710"></a><div class="props_rev_3"><a id="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02" name="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02"></a><h3 id="LNCPP-GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02" class="sect3"><span class="enumeration_section">13.9.5 </span>copy()
               </h3>
               <div>
                  <div class="section">
                     <p>Copies a part or all of a <code class="codeph">BFILE</code> or <code class="codeph">CLOB</code> into the current <code class="codeph">CLOB</code>.
                     </p>
                     <p>OCCI does not perform any characterset conversions when loading data from a <code class="codeph">Bfile</code> into a <code class="codeph">Clob</code>; therefore, ensure that the contents of the <code class="codeph">Bfile</code> are character data in the server's <code class="codeph">Clob</code> storage characterset.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02__GUID-ED045E02-F356-426C-A192-559BE1232BDC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists method versions; second column provides description of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d96246e1146">Syntax</th>
                              <th align="left" valign="bottom" width="50%" id="d96246e1149">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e1154" headers="d96246e1146 "><pre class="oac_no_warn" dir="ltr">void copy(
&nbsp;&nbsp;&nbsp;const Bfile &amp;srcBfile,
&nbsp;&nbsp;&nbsp;unsigned int numBytes,
&nbsp;&nbsp;&nbsp;unsigned int dstOffset = 1,
&nbsp;&nbsp;&nbsp;unsigned int srcOffset = 1);</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e1154 d96246e1149 ">
                                 <p>Copies a <code class="codeph">BFILE</code> into the current <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d96246e1167" headers="d96246e1146 "><pre class="oac_no_warn" dir="ltr">void copy(
&nbsp;&nbsp;&nbsp;const Clob &amp;srcClob,
&nbsp;&nbsp;&nbsp;unsigned int numBytes,
&nbsp;&nbsp;&nbsp;unsigned int dstOffset = 1,
&nbsp;&nbsp;&nbsp;unsigned int srcOffset = 1);</pre></td>
                              <td align="left" valign="top" width="50%" headers="d96246e1167 d96246e1149 ">
                                 <p>Copies a <code class="codeph">CLOB</code> into the current <code class="codeph">CLOB</code>.
                                 </p>
                                 <p>If the destination <code class="codeph">CLOB</code> has deduplication enabled, and the source and destination <code class="codeph">CLOB</code>s are in the same column, the new <code class="codeph">CLOB</code> is created as copy-on-write. All other settings are inherited from the source <code class="codeph">CLOB</code>. If the destination <code class="codeph">CLOB</code> has deduplication disabled, it is a completely new copy of the <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-B0BAB1FD-A86D-4C0B-936F-ADF18C8D1A02__GUID-D05273D2-E3AE-4C5D-A4FC-55C2ABFCCCD2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e1208">Parameter</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e1211">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1216" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">srcBfile</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1216 d96246e1211 ">
                                 <p>The <code class="codeph">BFILE</code> from which the data is to be copied.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1226" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1226 d96246e1211 ">
                                 <p>The <code class="codeph">CLOB</code> from which the data is to be copied.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1236" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">numBytes</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1236 d96246e1211 ">
                                 <p>The number of bytes to be copied from the source <code class="codeph">BFILE</code><code class="codeph"> or </code><code class="codeph">CLOB</code><code class="codeph">. </code>Valid values are numbers greater than 0.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1252" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">dstOffset</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1252 d96246e1211 ">
                                 <p>The starting position at which data is to be is at 0.</p>
                                 <p>The starting position at which to begin writing data into the current <code class="codeph">CLOB</code> Valid values are numbers greater than or equal to 1 written in the destination buffer; the position of the first byte.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1264" headers="d96246e1208 "><pre class="oac_no_warn" dir="ltr">srcOffset</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1264 d96246e1211 ">
                                 <p>The starting position at which to begin reading data from the source <code class="codeph">BFILE</code> or <code class="codeph">CLOB</code>. Valid values are numbers greater than or equal to 1.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20712"></a><a id="LNCPP20711"></a><div class="props_rev_3"><a id="GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C" name="GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C"></a><h3 id="LNCPP-GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C" class="sect3"><span class="enumeration_section">13.9.6 </span>getCharSetForm() 
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the character set form of the <code class="codeph">CLOB</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-157613E5-CA75-40B1-BDCA-1C1543EF033C__GUID-AB18EC78-38EA-4BC5-A3F5-C83F4E0086C6">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">CharSetForm getCharSetForm() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20714"></a><a id="LNCPP20713"></a><div class="props_rev_3"><a id="GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF" name="GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF"></a><h3 id="LNCPP-GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF" class="sect3"><span class="enumeration_section">13.9.7 </span>getCharSetId()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the character set ID of the <code class="codeph">CLOB</code>, in string form. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AF041882-DE01-4007-AB7A-9DE7325A45BF__GUID-0B074A8F-1E4D-4ED2-A1DA-5197BFCC0C1A">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getCharSetId() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20716"></a><a id="LNCPP20715"></a><div class="props_rev_3"><a id="GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43" name="GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43"></a><h3 id="LNCPP-GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43" class="sect3"><span class="enumeration_section">13.9.8 </span>getCharSetIdUString()
               </h3>
               <div>
                  <div class="section">
                     <p>Retrieves the characterset name associated with the <code class="codeph">Clob</code>; <code class="codeph">UString</code> version.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3E3393B8-7720-46A8-8B18-C93DDCB6DC43__GUID-0562C61B-7747-4A41-B7D1-9E782E4C2968">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString getCharSetIdUString() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20718"></a><a id="LNCPP20717"></a><div class="props_rev_3"><a id="GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB" name="GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB"></a><h3 id="LNCPP-GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB" class="sect3"><span class="enumeration_section">13.9.9 </span>getChunkSize() 
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the smallest data size to perform efficient writes to the <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-794D4A03-5AFC-476A-A80A-10C06BB379EB__GUID-05A8D3D2-15F0-40E3-9C04-D91D2465F897">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getChunkSize() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20720"></a><a id="LNCPP20719"></a><div class="props_rev_3"><a id="GUID-361E0EE2-F19A-4656-B66A-96E20957FC68" name="GUID-361E0EE2-F19A-4656-B66A-96E20957FC68"></a><h3 id="LNCPP-GUID-361E0EE2-F19A-4656-B66A-96E20957FC68" class="sect3"><span class="enumeration_section">13.9.10 </span>getContentType()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the content type of the <code class="codeph">Clob</code>. If a content type has not been assigned, returns a <code class="codeph">NULL</code> string.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361E0EE2-F19A-4656-B66A-96E20957FC68__GUID-4F17C94D-9C1F-4305-83CE-9BE0BB02BBD0">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getContentType();
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20722"></a><a id="LNCPP20721"></a><div class="props_rev_3"><a id="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761" name="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761"></a><h3 id="LNCPP-GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761" class="sect3"><span class="enumeration_section">13.9.11 </span>getOptions()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the <code class="codeph">CLOB</code>'s <code class="codeph">LobOptionValue</code> for a specified <code class="codeph">LobOptionType</code>. 
                     </p>
                     <p>Throws an exception if attempting to retrieve a value for an option that is not configured on the database column or partition that stores the <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761__GUID-B82707CF-2637-4789-88D0-D7678549C675">Syntax </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">LobOptionValue getOptions(
&nbsp;&nbsp;&nbsp;LobOptionType optType);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C6490868-E08A-4CFE-8DEA-78BE3EC70761__GUID-487544AC-0F0A-4DFD-9F91-FC18F2B2A9AE">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d96246e1765">Parameter</th>
                              <th align="left" valign="bottom" width="76%" id="d96246e1768">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d96246e1773" headers="d96246e1765 "><pre class="oac_no_warn" dir="ltr">optType</pre></td>
                              <td align="left" valign="top" width="76%" headers="d96246e1773 d96246e1768 ">
                                 <p>The <code class="codeph">LobOptionType</code> setting requested. These may be combined using bitwise <code class="codeph">or</code> (<code class="codeph">|</code>) to avoid server round trips. See <a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABGICGB" title="This table has 2 columns. The first column contains a value of type LobOptionType, and the second column contains its description">Table 7-1</a> and <a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABEHGAJ" title="This table has 2 columns. The first column contains a value of type LobOptionValue, and the second column contains its description">Table 7-2</a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20724"></a><a id="LNCPP20723"></a><div class="props_rev_3"><a id="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974" name="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974"></a><h3 id="LNCPP-GUID-D9C9410F-BD34-41CA-9680-BF63A885A974" class="sect3"><span class="enumeration_section">13.9.12 </span>getStream()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns a <code class="codeph">Stream</code> object from the <code class="codeph">CLOB</code>. If a stream is open, it is disallowed to open another stream on <code class="codeph">CLOB</code> object, so the user must always close the stream before performing any <code class="codeph">Clob</code> object operations. The client's character set id and form is used by default, unless they are explicitly set through <a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId()</a> and <a href="blob-class.html#GUID-E1F81CE1-F3BC-496D-90C3-A83049EF7930">setEmpty()</a> calls.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974__GUID-FD51E615-A13E-47B2-8D42-97E646026E6F">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Stream* getStream(
&nbsp;&nbsp;&nbsp;unsigned int offset = 1,
&nbsp;&nbsp;&nbsp;unsigned int amount = 0);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D9C9410F-BD34-41CA-9680-BF63A885A974__GUID-1A2C0722-A4B4-4E8C-BFAE-4FA20D99894C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e1899">Parameter</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e1902">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1907" headers="d96246e1899 "><pre class="oac_no_warn" dir="ltr">offset</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1907 d96246e1902 ">
                                 <p>The starting position at which to begin reading data from the <code class="codeph">CLOB</code>. If <code class="codeph">offset</code> is not specified, the data is written from the beginning of the <code class="codeph">CLOB</code>. Valid values are numbers greater than or equal to 1.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e1923" headers="d96246e1899 "><pre class="oac_no_warn" dir="ltr">amount</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e1923 d96246e1902 ">
                                 <p>The total number of consecutive characters to be read. If <span class="italic"><code class="codeph">amount</code></span> is 0, the data is read from the<code class="codeph"> offset</code> value until the end of the <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20726"></a><a id="LNCPP20725"></a><div class="props_rev_3"><a id="GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760" name="GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760"></a><h3 id="LNCPP-GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760" class="sect3"><span class="enumeration_section">13.9.13 </span>isInitialized()
               </h3>
               <div>
                  <div class="section">
                     <p>Tests whether the <code class="codeph">Clob object</code> is initialized. If the <code class="codeph">Clob</code> object is initialized, <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D206E3A-658E-4DCA-AB8F-1047E5733760__GUID-34C82E13-9DF8-42F1-97EA-964BD23D6AC3">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isInitialized() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20728"></a><a id="LNCPP20727"></a><div class="props_rev_3"><a id="GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA" name="GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA"></a><h3 id="LNCPP-GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA" class="sect3"><span class="enumeration_section">13.9.14 </span>isNull()
               </h3>
               <div>
                  <div class="section">
                     <p>Tests whether the <code class="codeph">Clob</code> object is atomically <code class="codeph">NULL</code>. If the <code class="codeph">Clob</code> object is atomically <code class="codeph">NULL</code>, <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-466EC6D3-62B4-43CA-84F3-6A3836D53DBA__GUID-1C80F27B-B38D-4CB2-8907-7963A51CA4AE">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isNull() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20730"></a><a id="LNCPP20729"></a><div class="props_rev_3"><a id="GUID-29506600-ECAD-44BD-81D3-634D3504371C" name="GUID-29506600-ECAD-44BD-81D3-634D3504371C"></a><h3 id="LNCPP-GUID-29506600-ECAD-44BD-81D3-634D3504371C" class="sect3"><span class="enumeration_section">13.9.15 </span>isOpen()
               </h3>
               <div>
                  <div class="section">
                     <p>Tests whether the <code class="codeph">CLOB</code> is open. If the <code class="codeph">CLOB</code> is open, <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29506600-ECAD-44BD-81D3-634D3504371C__GUID-F88216FD-63D0-4EFF-8FF6-1FB09DACA4EA">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool isOpen() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20732"></a><a id="LNCPP20731"></a><div class="props_rev_3"><a id="GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1" name="GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1"></a><h3 id="LNCPP-GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1" class="sect3"><span class="enumeration_section">13.9.16 </span>length() 
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the number of characters in the <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0A394BA5-D881-4B3E-B564-C261B8347FD1__GUID-5207861B-4C75-4B47-9AFC-6B151C8A05FD">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int length() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20734"></a><a id="LNCPP20733"></a><div class="props_rev_3"><a id="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360" name="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360"></a><h3 id="LNCPP-GUID-58C57D2B-1FE5-430F-B032-18A2B1850360" class="sect3"><span class="enumeration_section">13.9.17 </span>open() 
               </h3>
               <div>
                  <div class="section">
                     <p>Opens the <code class="codeph">CLOB</code> in <code class="codeph">read/write</code> or read-only mode.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360__GUID-AE97C0CE-7CB0-4ED7-AA02-112AA933A1DD">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void open(
&nbsp;&nbsp;&nbsp;LObOpenMode mode = OCCI_LOB_READWRITE);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-58C57D2B-1FE5-430F-B032-18A2B1850360__GUID-72863AD4-88ED-4782-837E-4C367505D1A0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e2370">Parameter</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e2373">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e2378" headers="d96246e2370 "><pre class="oac_no_warn" dir="ltr">mode</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e2378 d96246e2373 ">
                                 <p><code class="codeph">The mode the </code><code class="codeph">CLOB</code><code class="codeph"> is to be opened in. Valid values are:</code></p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">OCCI_LOB_READWRITE</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OCCI_LOB_READONLY</code></p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20736"></a><a id="LNCPP20735"></a><div class="props_rev_3"><a id="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E" name="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E"></a><h3 id="LNCPP-GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E" class="sect3"><span class="enumeration_section">13.9.18 </span>operator=() 
               </h3>
               <div>
                  <div class="section">
                     <p>Assigns a <code class="codeph">CLOB</code> to the current <code class="codeph">CLOB</code>. The source <code class="codeph">CLOB</code> gets copied to the destination <code class="codeph">CLOB</code> only when the destination <code class="codeph">CLOB</code> gets stored in the table.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E__GUID-C6DEBEF2-2A66-45E4-85C6-BB77EB86C92C">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Clob&amp; operator=(
&nbsp;&nbsp;&nbsp;const Clob &amp;srcClob);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-28D302F2-CF84-418E-B0E7-23DA09BEB27E__GUID-CCB90036-5ACB-47CB-B4CC-180A3A5CABF0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d96246e2496">Parameter</th>
                              <th align="left" valign="bottom" width="84%" id="d96246e2499">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d96246e2504" headers="d96246e2496 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="84%" headers="d96246e2504 d96246e2499 ">
                                 <p>The <code class="codeph">Clob</code> from which the data must be copied.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20738"></a><a id="LNCPP20737"></a><div class="props_rev_3"><a id="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5" name="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5"></a><h3 id="LNCPP-GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5" class="sect3"><span class="enumeration_section">13.9.19 </span>operator==() 
               </h3>
               <div>
                  <div class="section">
                     <p>Compares two <code class="codeph">Clob</code> objects for equality. Two <code class="codeph">Clob</code> objects are equal if they both refer to the same <code class="codeph">CLOB</code>. Two <code class="codeph">NULL</code> <code class="codeph">Clob</code> objects are not considered equal. If the <code class="codeph">Blob</code> objects are equal, then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5__GUID-58746872-757A-40AD-997E-BBD93CBF62E5">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator==(
&nbsp;&nbsp;&nbsp;const Clob &amp;srcClob) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-62F30694-1B9A-4CCC-86C9-9CD4981216F5__GUID-387F0CBC-C037-492A-B3D2-3984B59F7131">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e2620">Parameter</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e2623">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e2628" headers="d96246e2620 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e2628 d96246e2623 ">
                                 <p>The <code class="codeph">Clob</code> object to be compared with the current <code class="codeph">Clob</code> object.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20740"></a><a id="LNCPP20739"></a><div class="props_rev_3"><a id="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5" name="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5"></a><h3 id="LNCPP-GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5" class="sect3"><span class="enumeration_section">13.9.20 </span>operator!=() 
               </h3>
               <div>
                  <div class="section">
                     <p>Compares two <code class="codeph">Clob objects</code> for inequality. Two <code class="codeph">Clob</code> objects are equal if they both refer to the same <code class="codeph">CLOB</code>. Two <code class="codeph">NULL</code> <code class="codeph">Clob</code> objects are not considered equal. If the <code class="codeph">Clob</code> objects are not equal, then <code class="codeph">TRUE</code> is returned; otherwise, <code class="codeph">FALSE</code> is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5__GUID-0AC2C9D4-9C3C-4A76-BB9D-A28D30416DB3">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">bool operator!=(
&nbsp;&nbsp;&nbsp;const Clob &amp;srcClob) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-214AE007-C8CC-4A6D-AD22-3F15697853B5__GUID-151BA277-ECB8-48B0-A647-AF6C9DC4CBC2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e2747">Parameter</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e2750">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e2755" headers="d96246e2747 "><pre class="oac_no_warn" dir="ltr">srcClob</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e2755 d96246e2750 ">
                                 <p>The <code class="codeph">Clob</code> object to be compared with the current <code class="codeph">Clob</code> object.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20741"></a><div class="props_rev_3"><a id="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83" name="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83"></a><h3 id="LNCPP-GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83" class="sect3"><span class="enumeration_section">13.9.21 </span>read()
               </h3>
               <div>
                  <div class="section">
                     <p>Reads a part or all of the <code class="codeph">CLOB</code> into a buffer. 
                     </p>
                     <p>Returns the actual number of characters read for fixed-width charactersets, such as UTF16, or the number of bytes read for multibyte charactersets, including UTF8. </p>
                     <p>The client's character set id and form is used by default, unless they are explicitly set through <a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId()</a>, <a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString()</a> and <a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm()</a> calls.
                     </p>
                     <p>Note that for the second version of the method, the return value represents either the number of characters read for fixed-width charactersets (UTF16), or the number of bytes read for multibyte charactersets (including UTF8).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83__GUID-98A023F7-B212-433E-8166-AF5FD0A8C4A3">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists versions of the method; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d96246e2861">Syntax</th>
                              <th align="left" valign="bottom" width="47%" id="d96246e2864">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e2869" headers="d96246e2861 "><pre class="oac_no_warn" dir="ltr">unsigned int read(
&nbsp;&nbsp;&nbsp;unsigned int amt,
&nbsp;&nbsp;&nbsp;unsigned char *buffer,
&nbsp;&nbsp;&nbsp;unsigned int bufsize,
&nbsp;&nbsp;&nbsp;unsigned int offset=1) const;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e2869 d96246e2864 ">
                                 <p>Reads a part or all of the <code class="codeph">CLOB</code> into a buffer. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e2879" headers="d96246e2861 "><pre class="oac_no_warn" dir="ltr">unsigned int read(
&nbsp;&nbsp;&nbsp;unsigned int amt,
&nbsp;&nbsp;&nbsp;unsigned utext *buffer,
&nbsp;&nbsp;&nbsp;unsigned int bufsize,
&nbsp;&nbsp;&nbsp;unsigned int offset=1) const;</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e2879 d96246e2864 ">
                                 <p>Reads a part or all of the <code class="codeph">CLOB</code> into a buffer; globalization enabled. Should be called after setting character set to OCCIUTF16 using <code class="codeph">setCharSetId()</code> method.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-65E4DC2D-2997-46F4-8CC1-2F3F2EADEF83__GUID-A363851C-9953-46AA-90FA-8E95C781A4F1">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e2899">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e2902">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2907" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">amt</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2907 d96246e2902 ">
                                 <p>The number of bytes to be read. from the <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2917" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">buffer</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2917 d96246e2902 ">
                                 <p>The buffer that the <code class="codeph">CLOB </code>data is to be read into.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2927" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">buffsize</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2927 d96246e2902 ">
                                 <p>The size of the buffer. Valid values are numbers greater than or equal to <code class="codeph">amt</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e2937" headers="d96246e2899 "><pre class="oac_no_warn" dir="ltr">offset</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e2937 d96246e2902 ">
                                 <p>The starting position at which to begin reading data from the <code class="codeph">CLOB</code>. If <code class="codeph">offset</code> is not specified, the data is written from the beginning of the <code class="codeph">CLOB</code>. Valid values are numbers greater than or equal to 1.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20743"></a><a id="LNCPP20742"></a><div class="props_rev_3"><a id="GUID-5005CF1B-B728-4798-822F-8FE2D697D176" name="GUID-5005CF1B-B728-4798-822F-8FE2D697D176"></a><h3 id="LNCPP-GUID-5005CF1B-B728-4798-822F-8FE2D697D176" class="sect3"><span class="enumeration_section">13.9.22 </span>setCharSetId()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the Character set Id associated with <code class="codeph">Clob</code>. The characterset id set is used for read/write and <a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream()</a> operations. If no value is set explicitly, the default client's character set id is used. List of character sets supported is given in Globalization Support Guide Appendix A.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5005CF1B-B728-4798-822F-8FE2D697D176__GUID-B3E31D5B-FDA0-400E-A47C-978A3E45601A">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCharSetId(
&nbsp;&nbsp;&nbsp;const string &amp;charset);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5005CF1B-B728-4798-822F-8FE2D697D176__GUID-7FAD8DB5-7F0A-4061-9F6A-DE5E29D50F98">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3040">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3043">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3048" headers="d96246e3040 "><pre class="oac_no_warn" dir="ltr">charset</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3048 d96246e3043 ">
                                 <p>Oracle supported characterset name, such as <code class="codeph">E8DEC</code>, <code class="codeph">ZHT16BIG5</code>, or <code class="codeph">OCCIUTF16</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20745"></a><a id="LNCPP20744"></a><div class="props_rev_3"><a id="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28" name="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28"></a><h3 id="LNCPP-GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28" class="sect3"><span class="enumeration_section">13.9.23 </span>setCharSetIdUString()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the characterset id associated with <code class="codeph">Clob</code>; used when the environment's characterset is <code class="codeph">UTF16</code>. The <code class="codeph">charset</code> id set is used for read, write and <a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream()</a> operations.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28__GUID-0B73533F-DE85-459D-A0F7-85D5E0337D94">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCharSetIdUSString(
&nbsp;&nbsp;&nbsp;const string &amp;charset);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28__GUID-FDC4F8FA-7D2F-4CBE-B084-A41A2470C418">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3157">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3160">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3165" headers="d96246e3157 "><pre class="oac_no_warn" dir="ltr">charset</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3165 d96246e3160 ">
                                 <p>Oracle supported characterset name, such as <code class="codeph">WE8DEC</code>, <code class="codeph">ZHT16BIG5</code>, or<code class="codeph"> OCCIUTF16</code> in <code class="codeph">UString</code> (UTF16 characterset).
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20747"></a><a id="LNCPP20746"></a><div class="props_rev_3"><a id="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF" name="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF"></a><h3 id="LNCPP-GUID-DECC528D-81B4-4444-9B59-ADC0810924CF" class="sect3"><span class="enumeration_section">13.9.24 </span>setCharSetForm()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the character set form associated with the <code class="codeph">CLOB</code>. The charset form set is used for read, write and <a href="clob-class.html#GUID-D9C9410F-BD34-41CA-9680-BF63A885A974">getStream()</a> operations. If no value is set explicitly, by default, <code class="codeph">OCCI_SQLCS_IMPLICIT</code> is used.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF__GUID-A0A5057C-42C4-42AC-AEB8-F66CBE5418ED">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setCharSetForm(
&nbsp;&nbsp;&nbsp;CharSetForm csfrm );</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DECC528D-81B4-4444-9B59-ADC0810924CF__GUID-DC942017-09C0-46AC-82C8-584873961894">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3275">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3278">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3283" headers="d96246e3275 "><pre class="oac_no_warn" dir="ltr">csfrm</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3283 d96246e3278 ">
                                 <p>The charset form for <code class="codeph">Clob</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20749"></a><a id="LNCPP20748"></a><div class="props_rev_3"><a id="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852" name="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852"></a><h3 id="LNCPP-GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852" class="sect3"><span class="enumeration_section">13.9.25 </span>setContentType()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the content type of the <code class="codeph">Clob</code>. If the <code class="codeph">Clob</code> is not a SecureFile, throws an exception.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852__GUID-1DFF6C46-6259-4372-8142-371A439A5B03">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setContentType(
&nbsp;&nbsp;&nbsp;const string contenttype);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4A5950A7-7A65-4725-BEB8-4BED9AEB7852__GUID-A08B0598-4587-4B71-8E3C-3316CBE07E9C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3380">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3383">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3388" headers="d96246e3380 "><pre class="oac_no_warn" dir="ltr">contenttype</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3388 d96246e3383 ">
                                 <p>The content type of the <code class="codeph">Clob</code>; an ASCII Mime compliant string.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20750"></a><div class="props_rev_3"><a id="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234" name="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234"></a><h3 id="LNCPP-GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234" class="sect3"><span class="enumeration_section">13.9.26 </span>setEmpty()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the <code class="codeph">Clob</code> object to empty.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234__GUID-BE7E932D-607A-4DE1-BBCA-D17352C154FD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists method versions; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d96246e3475">Syntax</th>
                              <th align="left" valign="bottom" width="56%" id="d96246e3478">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d96246e3483" headers="d96246e3475 "><pre class="oac_no_warn" dir="ltr">void setEmpty();</pre></td>
                              <td align="left" valign="top" width="56%" headers="d96246e3483 d96246e3478 ">
                                 <p>Sets the <code class="codeph">Clob</code> object to empty.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d96246e3493" headers="d96246e3475 "><pre class="oac_no_warn" dir="ltr">void setEmpty(
&nbsp;&nbsp;&nbsp;const Connection* connectionp);</pre></td>
                              <td align="left" valign="top" width="56%" headers="d96246e3493 d96246e3478 ">
                                 <p>Sets the <code class="codeph">Clob</code> object to empty and initializes the connection pointer to the passed parameter.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-FFFBC9ED-1F95-4EAC-932E-CC59E8289234__GUID-C7CBDC60-8B1B-4F09-8E78-EB670F25D4EB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d96246e3510">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d96246e3513">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d96246e3518" headers="d96246e3510 "><pre class="oac_no_warn" dir="ltr">connectionp</pre></td>
                              <td align="left" valign="top" width="72%" headers="d96246e3518 d96246e3513 ">
                                 <p>The new connection pointer for the <code class="codeph">Clob</code> object.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20752"></a><a id="LNCPP20751"></a><div class="props_rev_3"><a id="GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9" name="GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9"></a><h3 id="LNCPP-GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9" class="sect3"><span class="enumeration_section">13.9.27 </span>setNull()
               </h3>
               <div>
                  <div class="section">
                     <p>Sets the <code class="codeph">Clob</code> object to atomically <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EF8BE3C5-C388-4706-A996-A1DD3D60EBE9__GUID-1AD16490-423C-49D0-982B-43090DEB0670">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setNull();
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP20754"></a><a id="LNCPP20753"></a><div class="props_rev_3"><a id="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2" name="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2"></a><h3 id="LNCPP-GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2" class="sect3"><span class="enumeration_section">13.9.28 </span>setOptions()
               </h3>
               <div>
                  <div class="section">
                     <p>Specifies a <code class="codeph">LobOptionValue</code> for a particular <code class="codeph">LobOptionType</code>. Enables advanced compression, encryption and deduplication of CLOBs. See <a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABGICGB" title="This table has 2 columns. The first column contains a value of type LobOptionType, and the second column contains its description">Table 7-1</a> and <a href="programming-with-lobs.html#GUID-90D12A1C-2B85-4E2E-BE98-D45160885746__BABEHGAJ" title="This table has 2 columns. The first column contains a value of type LobOptionValue, and the second column contains its description">Table 7-2</a>.
                     </p>
                     <p>Throws an exception if attempting to set or un-set an option that is not configured on the database column or partition that stores the <code class="codeph">CLOB</code>.
                     </p>
                     <p>Throws an exception if attempting to turn off encryption in an encrypted <code class="codeph">CLOB</code> column.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2__GUID-96288A3A-12B6-4CD3-AC1D-37FA78E23A78">Syntax </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void setOptions(
&nbsp;&nbsp;&nbsp;LobOptionType optType,
&nbsp;&nbsp;&nbsp;LobOptionValue optValue);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3F198304-2D59-4BD7-9B96-9F04BBB8E1B2__GUID-FB821EFF-A969-4899-9E7F-57D88CEA1A3C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d96246e3716">Parameter</th>
                              <th align="left" valign="bottom" width="76%" id="d96246e3719">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d96246e3724" headers="d96246e3716 "><pre class="oac_no_warn" dir="ltr">optType</pre></td>
                              <td align="left" valign="top" width="76%" headers="d96246e3724 d96246e3719 ">
                                 <p>The <code class="codeph">LobOptionType</code> setting being specified. These may be combined using bitwise <code class="codeph">or</code> (<code class="codeph">|</code>) to avoid server round trips.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d96246e3740" headers="d96246e3716 "><pre class="oac_no_warn" dir="ltr">optValue</pre></td>
                              <td align="left" valign="top" width="76%" headers="d96246e3740 d96246e3719 ">
                                 <p>The <code class="codeph">LobOptionValue</code> setting for the <code class="codeph">LobOptionType</code> specified by the <code class="codeph">optType</code> parameter
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20756"></a><a id="LNCPP20755"></a><div class="props_rev_3"><a id="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5" name="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5"></a><h3 id="LNCPP-GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5" class="sect3"><span class="enumeration_section">13.9.29 </span>trim() 
               </h3>
               <div>
                  <div class="section">
                     <p>Truncates the <code class="codeph">CLOB</code><code class="codeph"> to the new length specified.</code></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5__GUID-393B3E8E-2F6F-4490-A766-CAFF0EFA5996">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void trim(
&nbsp;&nbsp;&nbsp;unsigned int newlen);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F7B42A36-1CEE-4612-BD3A-F113180539F5__GUID-DDB0CF6E-B2F3-4ACD-A695-8470CC2C7E80">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d96246e3841">Parameter</th>
                              <th align="left" valign="bottom" width="84%" id="d96246e3844">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d96246e3849" headers="d96246e3841 "><pre class="oac_no_warn" dir="ltr">newlen</pre></td>
                              <td align="left" valign="top" width="84%" headers="d96246e3849 d96246e3844 ">
                                 <p>The new length of the <code class="codeph">CLOB</code>. Valid values are numbers less than or equal to the current length of the <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20757"></a><div class="props_rev_3"><a id="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210" name="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210"></a><h3 id="LNCPP-GUID-B17C9E99-2292-4F40-9E29-E02113DD9210" class="sect3"><span class="enumeration_section">13.9.30 </span>write()
               </h3>
               <div>
                  <div class="section">
                     <p>Writes data from a buffer into a <code class="codeph">CLOB</code>. 
                     </p>
                     <p>This method implicitly opens the <code class="codeph">CLOB</code>, copies the buffer into the <code class="codeph">CLOB</code>, and implicitly closes the <code class="codeph">CLOB</code>. If the <code class="codeph">CLOB</code> is open, use <a href="clob-class.html#GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E">writeChunk()</a> instead. The actual number of characters written is returned. The client's character set id and form is used by default, unless they are explicitly set through <a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId()</a> and <a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm()</a> calls.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210__GUID-500B42A1-FD37-4988-B524-004BEAF64F2D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists method versions; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d96246e3964">Syntax</th>
                              <th align="left" valign="bottom" width="59%" id="d96246e3967">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d96246e3972" headers="d96246e3964 "><pre class="oac_no_warn" dir="ltr">unsigned int write(
&nbsp;&nbsp;&nbsp;unsigned int amt,
&nbsp;&nbsp;&nbsp;unsigned char *buffer,
&nbsp;&nbsp;&nbsp;unsigned int bufsize,
&nbsp;&nbsp;&nbsp;unsigned int offset=1);</pre></td>
                              <td align="left" valign="top" width="59%" headers="d96246e3972 d96246e3967 ">
                                 <p>Writes data from a buffer into a <code class="codeph">CLOB</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d96246e3982" headers="d96246e3964 "><pre class="oac_no_warn" dir="ltr">unsigned int write(
&nbsp;&nbsp;&nbsp;unsigned int amt,
&nbsp;&nbsp;&nbsp;utext *buffer,
&nbsp;&nbsp;&nbsp;unsigned int bufsize,
&nbsp;&nbsp;&nbsp;unsigned int offset=1);</pre></td>
                              <td align="left" valign="top" width="59%" headers="d96246e3982 d96246e3967 ">
                                 <p>Writes data from a UTF16 buffer into a <code class="codeph">CLOB</code>; globalization enabled. Should be called after setting character set to OCCIUTF16 using <a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString()</a> method.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-B17C9E99-2292-4F40-9E29-E02113DD9210__GUID-04DF6383-7DAB-49EA-A836-EB0CFC0E9AAD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d96246e4002">Parameter</th>
                              <th align="left" valign="bottom" width="81%" id="d96246e4005">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4010" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">amt</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4010 d96246e4005 ">
                                 <p>The amount parameter represents:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>number of characters written for fixed-width charactersets (UTF16)</p>
                                    </li>
                                    <li>
                                       <p>number of bytes written for multibyte charactersets (including UTF8)</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4024" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">buffer</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4024 d96246e4005 ">
                                 <p>The buffer containing the data to be written to the <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4034" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">buffsize</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4034 d96246e4005 ">
                                 <p>The size of the buffer containing the data to be written to the <code class="codeph">CLOB</code><code class="codeph">. </code>Valid values are numbers greater than or equal to <code class="codeph">amt</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d96246e4049" headers="d96246e4002 "><pre class="oac_no_warn" dir="ltr">offset</pre></td>
                              <td align="left" valign="top" width="81%" headers="d96246e4049 d96246e4005 ">
                                 <p>The starting position at which to begin writing data into the <code class="codeph">CLOB</code>. If <code class="codeph">offset</code> is not specified, the data is written from the beginning of the <code class="codeph">CLOB</code>. Valid values are numbers greater than or equal to 1.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP20758"></a><div class="props_rev_3"><a id="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E" name="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E"></a><h3 id="LNCPP-GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E" class="sect3"><span class="enumeration_section">13.9.31 </span>writeChunk()
               </h3>
               <div>
                  <div class="section">
                     <p>Writes data from a buffer into a previously opened <code class="codeph">CLOB</code>. Returns the actual number of characters.   The client's character set id and form is used by default, unless they are explicitly set through <a href="clob-class.html#GUID-5005CF1B-B728-4798-822F-8FE2D697D176">setCharSetId()</a> and <a href="clob-class.html#GUID-DECC528D-81B4-4444-9B59-ADC0810924CF">setCharSetForm()</a> calls.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E__GUID-5549CD1D-3727-4B82-B53C-4A0A48E8CE39">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists method versions; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="53%" id="d96246e4148">Syntax</th>
                              <th align="left" valign="bottom" width="47%" id="d96246e4151">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e4156" headers="d96246e4148 "><pre class="oac_no_warn" dir="ltr">unsigned int writeChunk(
&nbsp;&nbsp;&nbsp;unsigned int amt,
&nbsp;&nbsp;&nbsp;unsigned char *buffer,
&nbsp;&nbsp;&nbsp;unsigned int bufsize,
&nbsp;&nbsp;&nbsp;unsigned int offset=1);</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e4156 d96246e4151 ">
                                 <p>Writes data from a buffer into a previously opened <code class="codeph">CLOB</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="53%" id="d96246e4166" headers="d96246e4148 "><pre class="oac_no_warn" dir="ltr">unsigned int writeChunk(
&nbsp;&nbsp;&nbsp;unsigned int amt,
&nbsp;&nbsp;&nbsp;utext *buffer,
&nbsp;&nbsp;&nbsp;unsigned int bufsize,
&nbsp;&nbsp;&nbsp;unsigned int offset=1);</pre></td>
                              <td align="left" valign="top" width="47%" headers="d96246e4166 d96246e4151 ">
                                 <p>Writes data from a UTF16 buffer into a <code class="codeph">CLOB</code>; globalization enabled. Should be called after setting characterset to <code class="codeph">OCCIUTF16</code> using <a href="clob-class.html#GUID-25DABCF5-FFDC-473F-8969-13D96EA06E28">setCharSetIdUString()</a> method.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-F4155991-2FF8-4938-BDCB-2C62AEC1673E__GUID-0A873494-22F7-43F5-84AA-ADF8C248EA87">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d96246e4189">Parameter</th>
                              <th align="left" valign="bottom" width="83%" id="d96246e4192">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4197" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">amt</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4197 d96246e4192 ">
                                 <p>The amount parameter represents either a number of characters written for fixed-width charactersets (UTF16) or a number of bytes written for multibyte charactersets (including UTF8)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4204" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">buffer</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4204 d96246e4192 ">
                                 <p>The buffer containing the data to be written to the <code class="codeph">CLOB</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4214" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">buffsize</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4214 d96246e4192 ">
                                 <p>The size of the buffer containing the data to be written to the <code class="codeph">CLOB</code><code class="codeph">. </code>Valid values are numbers greater than or equal to <code class="codeph">amt</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d96246e4229" headers="d96246e4189 "><pre class="oac_no_warn" dir="ltr">offset</pre></td>
                              <td align="left" valign="top" width="83%" headers="d96246e4229 d96246e4192 ">
                                 <p>The starting position at which to begin writing data into the <code class="codeph">CLOB</code>. If <code class="codeph">offset</code> is not specified, the data is written from the beginning of the <code class="codeph">CLOB</code>. Valid values are numbers greater than or equal to 1.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00077.application-architecture.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Choosing a Programming Environment</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="flashback.html" title="Previous" type="text/html">
      <link rel="next" href="external-procedures.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="flashback.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="external-procedures.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-part.html" property="item" typeof="WebPage"><span property="name">Advanced Topics for Application Developers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Choosing a Programming Environment</li>
            </ol>
            <a id="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10" name="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10"></a><a id="ADFNS1076"></a><a id="ADFNS00109"></a>
            
            <h2 id="ADFNS-GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10" class="sect2"><span class="enumeration_chapter">20 </span>Choosing a Programming Environment
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>To choose a programming environment for a development project, read:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>The topics in this chapter and the documents to which they refer.</p>
                  </li>
                  <li>
                     <p>The platform-specific documents that explain which compilers and development tools your platforms support.</p>
                  </li>
               </ul>
               <p>Sometimes the choice of programming environment is obvious, for example:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Pro*COBOL does not support ADTs or collection types, while Pro*C/C++ does.</p>
                  </li>
               </ul>
               <p>If no programming language provides all the features you need, you can use multiple programming languages, because:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Every programming language in this chapter can invoke PL/SQL and Java stored subprograms. (Stored subprograms include triggers and ADT methods.)</p>
                  </li>
                  <li>
                     <p>PL/SQL, Java, SQL, and Oracle Call Interface (OCI) can invoke external C subprograms.</p>
                  </li>
                  <li>
                     <p>External C subprograms can access Oracle Database using SQL, OCI, or Pro*C (but not C++).</p>
                  </li>
               </ul>
               <div class="section">
                  <p class="subhead1" id="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10__GUID-3828FD80-39C6-4EDD-84C2-488CBCFC438E">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="application-architecture.html#GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1">Overview of Application Architecture</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9">Overview of the Program Interface</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-04E7C628-D91E-4831-AFEB-87A92874548D">Overview of PL/SQL</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-38A72A49-C27C-4B48-B97F-48778B549AFA">Overview of Oracle Database Java Support</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-19324E9B-9D97-4E45-A41C-0413BA00714D">Choosing PL/SQL or Java</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF">Overview of Precompilers</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140">Overview of OCI and OCCI</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6">Comparison of Precompilers and OCI</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC">Overview of Oracle Data Provider for .NET (ODP.NET)</a></p>
                  </li>
                  <li>
                     <p><a href="application-architecture.html#GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD">Overview of OraOLEDB</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-595BF48C-CAA2-4872-8A8C-0EE7B21C8E10__NOTE-1310-CAFF94B5">
                  <p class="notep1">See Also:</p>
                  <p><a href="external-procedures.html#GUID-230B2B41-2A6F-4756-AEC0-DBC99DCA8A37">Developing Applications with Multiple Programming Languages</a> for more information about multilanguage programming
                  </p>
               </div>
            </div><a id="ADFNS1077"></a><a id="ADFNS00101"></a><div class="props_rev_3"><a id="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1" name="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1"></a><h3 id="ADFNS-GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1" class="sect3">Overview of Application Architecture</h3>
               <div>
                  <p>In this topic, <span class="bold">application architecture</span> refers to the computing environment in which a database application connects to an Oracle Database.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1__GUID-BF94356D-51E2-4B79-8CA8-C27F049A304A">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="application-architecture.html#GUID-E14029A8-5CDD-4228-B6FD-59565085143C">Client/Server Architecture</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB">Server-Side Programming</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-43052281-751F-4AC7-85FF-5A0A20C2D609">Two-Tier and Three-Tier Architecture</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-C2E06F35-DD36-4DBE-82AB-4B29444B19B1__GUID-D6A4F5B4-D7FF-4441-B472-D2D1419CFE22">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT006" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about application architecture
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS650"></a><div class="props_rev_3"><a id="GUID-E14029A8-5CDD-4228-B6FD-59565085143C" name="GUID-E14029A8-5CDD-4228-B6FD-59565085143C"></a><h4 id="ADFNS-GUID-E14029A8-5CDD-4228-B6FD-59565085143C" class="sect4">Client/Server Architecture</h4>
                  <div>
                     <p>In a traditional client/server program, your application code runs on a client system; that is, a system other than the database server. Database calls are transmitted from the client system to the database server. Data is transmitted from the client to the server for insert and update operations and returned from the server to the client for query operations. The data is processed on the client system. Client/server programs are typically written by using precompilers, whereas SQL statements are embedded within the code of another language such as C, C++, or COBOL.</p>
                     <div class="infoboxnotealso" id="GUID-E14029A8-5CDD-4228-B6FD-59565085143C__GUID-AA895EA3-1E98-4BD4-B1CA-A91394FA8D0B">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT701" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about client/server architecture
                        </p>
                     </div>
                  </div>
               </div><a id="ADFNS651"></a><div class="props_rev_3"><a id="GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB" name="GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB"></a><h4 id="ADFNS-GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB" class="sect4">Server-Side Programming</h4>
                  <div>
                     <p>You can develop application logic that resides entirely inside the database by using triggers that are executed automatically when changes occur in the database or stored subprograms that are invoked explicitly. Off-loading the work from your application lets you reuse code that performs verification and cleanup and control database operations from a variety of clients. For example, by making stored subprograms invocable through a web server, you can construct a web-based user interface that performs the same functions as a client/server application.</p>
                     <div class="infoboxnotealso" id="GUID-394BC882-0158-4926-B8BE-FF38D6EA3BAB__GUID-3E0665D9-71C8-42B1-99F9-101C44C691BD">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT036" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about server-side programming
                        </p>
                     </div>
                  </div>
               </div><a id="ADFNS652"></a><div class="props_rev_3"><a id="GUID-43052281-751F-4AC7-85FF-5A0A20C2D609" name="GUID-43052281-751F-4AC7-85FF-5A0A20C2D609"></a><h4 id="ADFNS-GUID-43052281-751F-4AC7-85FF-5A0A20C2D609" class="sect4">Two-Tier and Three-Tier Architecture</h4>
                  <div>
                     <p>Client/server computing is often referred to as a <strong class="term">two-tier model</strong>: your application communicates directly with the database server. In the <strong class="term">three-tier model</strong>, a separate application server processes the requests. The application server might be a basic web server, or might perform advanced functions like caching and load-balancing. Increasing the processing power of this middle tier lets you lessen the resources needed by client systems, resulting in a <span class="bold">thin client configuration</span> in which the client system might need only a web browser or other means of sending requests over the TCP/IP or HTTP protocols.
                     </p>
                     <div class="infoboxnotealso" id="GUID-43052281-751F-4AC7-85FF-5A0A20C2D609__GUID-901AD508-74E7-4AFA-B724-C158C7558D12">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT702" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about multitier architecture
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1078"></a><a id="ADFNS99963"></a><div class="props_rev_3"><a id="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9" name="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9"></a><h3 id="ADFNS-GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9" class="sect3">Overview of the Program Interface</h3>
               <div>
                  <p>The <span class="bold">program interface</span> is the software layer between a database application and Oracle Database. The program interface:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Provides a security barrier, preventing destructive access to the SGA by client user processes</p>
                     </li>
                     <li>
                        <p>Acts as a communication mechanism, formatting information requests, passing data, and trapping and returning errors</p>
                     </li>
                     <li>
                        <p>Converts and translates data, particularly between different types of computers or to external user program data types</p>
                     </li>
                  </ul>
                  <p>The Oracle code acts as a server, performing database tasks on behalf of an application (a client), such as fetching rows from data blocks. The program interface consists of several parts, provided by both Oracle Database software and operating system-specific software.</p>
                  <div class="infoboxnotealso" id="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9__GUID-CA14095A-4974-4338-BBE7-1386F1705017">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT906" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about the program interface
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-85907D59-BC05-4797-A9FC-AB3FB538C6D9__GUID-45F89D65-4700-4CD3-A212-0B0F6D1F9419">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="application-architecture.html#GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5">User Interface</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC">Stateful and Stateless User Interfaces</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS653"></a><div class="props_rev_3"><a id="GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5" name="GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5"></a><h4 id="ADFNS-GUID-70FAC4F8-83C0-4055-90FD-A6EEDD18E2F5" class="sect4">User Interface</h4>
                  <div>
                     <p>The <span class="bold">user interface</span> is what your application displays to end users. It depends on the technology behind the application and the needs of the users themselves. Experienced users can enter SQL statements that are passed on to the database. Novice users can be shown a graphical user interface that uses the graphics libraries of the client system (such as Windows or X-Windows). Any traditional user interface can also be provided in a web browser through HTML and Java.
                     </p>
                  </div>
               </div><a id="ADFNS99958"></a><div class="props_rev_3"><a id="GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC" name="GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC"></a><h4 id="ADFNS-GUID-6387D0CA-4CAA-4999-B753-25ECC2503DDC" class="sect4">Stateful and Stateless User Interfaces</h4>
                  <div>
                     <p>In traditional client/server applications, the application can keep a record of user actions and use this information over the course of one or more sessions. For example, past choices can be presented in a menu so that they not be entered again. When the application can save information in this way, the application is considered <strong class="term">stateful</strong>.
                     </p>
                     <p>Web or thin-client applications that are <strong class="term">stateless</strong> are easier to develop. Stateless applications gather all the required information, process it using the database, and then start over with the next user. This is a popular way to process single-screen requests such as customer registration.
                     </p>
                     <p>There are many ways to add stateful action to web applications that are stateless by default. For example, an entry form on one web page can pass information to subsequent web pages, enabling you to construct a wizard-like interface that remembers user choices through several different steps. You can use cookies to store small items of information about the client system, and retrieve them when the user returns to a website. You can use servlets to keep a database session open and store variables between requests from the same client.</p>
                  </div>
               </div>
            </div><a id="ADFNS00102"></a><div class="props_rev_3"><a id="GUID-04E7C628-D91E-4831-AFEB-87A92874548D" name="GUID-04E7C628-D91E-4831-AFEB-87A92874548D"></a><h3 id="ADFNS-GUID-04E7C628-D91E-4831-AFEB-87A92874548D" class="sect3">Overview of PL/SQL</h3>
               <div>
                  <p>PL/SQL, the Oracle procedural extension of SQL, is a completely portable, high-performance transaction-processing language. PL/SQL lets you manipulate data with SQL statements; control program flow with conditional selection and loops; declare constants and variables; define subprograms; define types, subtypes, and ADTs and declare variables of those types; and trap runtime errors.</p>
                  <p>Applications written in any Oracle Database programmatic interface can invoke PL/SQL stored subprograms and send blocks of PL/SQL code to Oracle Database for execution. Third-generation language (3GL) applications can access PL/SQL scalar and composite data types through host variables and implicit data type conversion. A 3GL language is easier than assembler language for a human to understand and includes features such as named variables. Unlike a fourth-generation language (4GL), it is not specific to an application domain.</p>
                  <p>You can use PL/SQL to develop stored procedures that can be invoked by a web client.</p>
                  <div class="infoboxnotealso" id="GUID-04E7C628-D91E-4831-AFEB-87A92874548D__GUID-1F1C7C2D-EFB1-4F09-9EA6-262A3AFDAA04">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS001" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the advantages, main features, and architecture of PL/SQL
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADFNS1079"></a><a id="ADFNS00103"></a><div class="props_rev_3"><a id="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA" name="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA"></a><h3 id="ADFNS-GUID-38A72A49-C27C-4B48-B97F-48778B549AFA" class="sect3">Overview of Oracle Database Java Support</h3>
               <div>
                  <p>This section provides an overview of Oracle Database features that support Java applications. The database includes the core JDK libraries such as <code class="codeph">java</code>.<code class="codeph">lang</code>, <code class="codeph">java</code>.<code class="codeph">io</code>, and so on. The database supports client-side Java standards such as JDBC and SQLJ, and provides server-side JDBC driver that enables data-intensive Java code to run within the database.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA__GUID-5FCAFD3D-DB12-4BA3-9EC8-78F7B120B6DD">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="application-architecture.html#GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3">Overview of Oracle JVM</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38">Overview of Oracle JDBC</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466">Overview of Oracle SQLJ</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-4973104E-CE62-4094-8294-868A20C2889E">Comparison of Oracle JDBC and Oracle SQLJ</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8">Overview of Java Stored Subprograms</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-FA7EAD66-A188-4665-9317-2DACFFA44591">Overview of Oracle Database Web Services</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-38A72A49-C27C-4B48-B97F-48778B549AFA__GUID-75D9BBEF-F300-471E-9F9F-30191F487009">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDEV-GUID-912A14D4-2621-4955-85BD-A04E17EE6D21" target="_blank"><span><cite>Oracle Database Java Developer’s Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC-GUID-864DB502-5E50-4044-8132-33D6AAF8927A" target="_blank"><span><cite>Oracle Database JDBC Developer’s Guide</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS654"></a><div class="props_rev_3"><a id="GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3" name="GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3"></a><h4 id="ADFNS-GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3" class="sect4">Overview of Oracle JVM</h4>
                  <div>
                     <p>Oracle JVM, the Java Virtual Machine provided with the Oracle Database, is compliant with the J2SE version 1.5.x specification and supports the database session architecture.</p>
                     <p>Any database session can activate a dedicated JVM. All sessions share the same JVM code and statics; however, private states for any given session are held, and subsequently garbage collected, in an individual session space.</p>
                     <p>This design provides these benefits:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Java applications have the same session isolation and data integrity as SQL operations.</p>
                        </li>
                        <li>
                           <p>You need not run Java in a separate process for data integrity.</p>
                        </li>
                        <li>
                           <p>Oracle JVM is a robust JVM with a small memory footprint.</p>
                        </li>
                        <li>
                           <p>The JVM has the same linear Symmetric Multiprocessing (SMP) scalability as the database and can support thousands of concurrent Java sessions.</p>
                        </li>
                     </ul>
                     <p>Oracle JVM works consistently with every platform supported by Oracle Database. Java applications that you develop with Oracle JVM can easily be ported to any supported platform.</p>
                     <p>Oracle JVM includes a deployment-time native compiler that enables Java code to be compiled once, stored in executable form, shared among users, and invoked more quickly and efficiently.</p>
                     <p>Security features of the database are also available with Oracle JVM. Java classes must be loaded in a database schema (by using Oracle JDeveloper, a third-party IDE, SQL*Plus, or the <code class="codeph">loadjava</code> utility) before they can be called. Java class calls are secured and controlled through database authentication and authorization, Java 2 security, and invoker's rights (IR) or definer's rights (DR).
                     </p>
                     <p>Effective with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.1), Oracle JVM provides complete support for the latest Java Standard Edition. Compatibility with latest Java standards increases application portability and enables direct execution of client-side Java classes in the database.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4D9CF88F-1536-415A-A6EB-F08C967FFEF3__GUID-26E60E5A-DF42-411E-9DBC-E3EA05C66253">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT820" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for additional general information about Oracle JVM
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDEV13553" target="_blank"><span class="italic">Oracle Database Java Developer's Guide</span></a> for information about support for the latest Java Standard Edition
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS1080"></a><a id="ADFNS655"></a><div class="props_rev_3"><a id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38" name="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38"></a><h4 id="ADFNS-GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38" class="sect4">Overview of Oracle JDBC</h4>
                  <div>
                     <p> Java Database Connectivity (JDBC) is an Applications Programming Interface (API) that enables Java to send SQL statements to an object-relational database such as Oracle Database.</p>
                     <p>Oracle Database includes these extensions to the JDBC 1.22 standard:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Support for Oracle data types</p>
                        </li>
                        <li>
                           <p>Performance enhancement by row prefetching</p>
                        </li>
                        <li>
                           <p>Performance enhancement by execution batching</p>
                        </li>
                        <li>
                           <p>Specification of query column types to save round trips</p>
                        </li>
                        <li>
                           <p>Control of <code class="codeph">DatabaseMetaData</code> calls
                           </p>
                        </li>
                     </ul>
                     <p>Oracle Database supports all APIs from the JDBC 2.0 standard, including the core APIs, optional packages, and numerous extensions. Some highlights include datasources, JTA, and distributed transactions.</p>
                     <p>Oracle Database supports these features from the JDBC 3.0 standard:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Support for JDK 1.5.</p>
                        </li>
                        <li>
                           <p>Toggling between local and global transactions.</p>
                        </li>
                        <li>
                           <p>Transaction savepoints.</p>
                        </li>
                        <li>
                           <p>Reuse of prepared statements by connection pools.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38__GUID-44A3E0D6-C6E7-4889-93DB-DB2D21C9B005">
                        <p class="notep1">Note:</p>
                        <p>JDBC code and SQLJ code interoperate.</p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38__GUID-9A9B0951-0AAF-429C-8533-60BB34B4F720">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="application-architecture.html#GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF">Oracle JDBC Drivers</a></p>
                           </li>
                           <li>
                              <p><a href="application-architecture.html#GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732">Sample JDBC 2.0 Program</a></p>
                           </li>
                           <li>
                              <p><a href="application-architecture.html#GUID-F2429980-0741-4D04-9821-598A443C3082">Sample Pre-2.0 JDBC Program</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-AE98D870-1124-4B1D-82CB-127DCB38BC38__GUID-CCD8FE52-99D0-48BD-A9F3-4D2452A51C89">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT616" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for additional general information about Java support in Oracle Database
                                 </p>
                              </li>
                              <li>
                                 <p><a href="application-architecture.html#GUID-4973104E-CE62-4094-8294-868A20C2889E">Comparison of Oracle JDBC and Oracle SQLJ</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS1081"></a><a id="ADFNS656"></a><div class="props_rev_3"><a id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF" name="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF"></a><h5 id="ADFNS-GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF" class="sect5">Oracle JDBC Drivers</h5>
                     <div>
                        <p>The JDBC standard defines four types of JDBC drivers:</p>
                        <div class="tblformal" id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF__GUID-DD22C123-50A6-4277-A9E5-1F3AADABD27E">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="This table summarizes the types of JDBC drivers." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="10%" id="d117663e1764">Type</th>
                                    <th align="left" valign="bottom" width="90%" id="d117663e1767">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1772" headers="d117663e1764 ">
                                       <p>1</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1772 d117663e1767 ">
                                       <p>A JDBC-ODBC bridge. Software must be installed on client systems.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1779" headers="d117663e1764 ">
                                       <p>2</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1779 d117663e1767 ">
                                       <p>Native methods (calls C or C++) and Java methods. Software must be installed on the client.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1786" headers="d117663e1764 ">
                                       <p>3</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1786 d117663e1767 ">
                                       <p>Pure Java. The client uses sockets to call middleware on the server.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d117663e1793" headers="d117663e1764 ">
                                       <p>4</p>
                                    </td>
                                    <td align="left" valign="top" width="90%" headers="d117663e1793 d117663e1767 ">
                                       <p>The most pure Java solution. Talks directly to the database by using Java sockets.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>JDBC is based on Part 3 of the SQL standard, "Call-Level Interface."</p>
                        <p>You can use JDBC to do dynamic SQL. In dynamic SQL, the embedded SQL statement to be executed is not known before the application is run and requires input to build the statement.</p>
                        <p>The drivers that are implemented by Oracle have extensions to the capabilities in the JDBC standard that was defined by Sun Microsystems.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF__GUID-D7AE1740-9E37-4F62-B93C-250D749F8228">Topics:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="application-architecture.html#GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074">JDBC Thin Driver</a></p>
                              </li>
                              <li>
                                 <p><a href="application-architecture.html#GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46">JDBC OCI Driver</a></p>
                              </li>
                              <li>
                                 <p><a href="application-architecture.html#GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E">JDBC Server-Side Internal Driver</a></p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-3C02E8DA-AFFC-4B08-9ED5-6BCC476DA2FF__GUID-D73E284C-82CF-4B22-B85C-1CAA3D7383BF">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT825" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for additional general information about JDBC drivers
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDBC-GUID-864DB502-5E50-4044-8132-33D6AAF8927A" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for more information about JDBC
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div><a id="ADFNS657"></a><div class="props_rev_3"><a id="GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074" name="GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074"></a><h6 id="ADFNS-GUID-0B28BEDA-3078-4FE9-94E5-75DEC3564074" class="sect6">JDBC Thin Driver</h6>
                        <div>
                           <p>The JDBC Thin driver is a Type&nbsp;4 (100% pure Java) driver that uses Java sockets to connect directly to a database server. It has its own implementation of a Two-Task Common (TTC), a lightweight implementation of TCP/IP from Oracle Net. It is written entirely in Java and is therefore platform-independent.</p>
                           <p>The thin driver does not require Oracle software on the client side. It does need a TCP/IP listener on the server side. Use this driver in Java applets that are downloaded into a web browser or in applications for which you do not want to install Oracle client software. The thin driver is self-contained, but it opens a Java socket, and thus can run only in a browser that supports sockets.</p>
                        </div>
                     </div><a id="ADFNS658"></a><div class="props_rev_3"><a id="GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46" name="GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46"></a><h6 id="ADFNS-GUID-A8AEE973-B6F5-4732-9E06-8E88BC3C6D46" class="sect6">JDBC OCI Driver</h6>
                        <div>
                           <p>The JDBC OCI driver is a Type&nbsp; 2 JDBC driver. It makes calls to OCI written in C to interact with Oracle Database, thus using native and Java methods.</p>
                           <p>The OCI driver provides access to more features than the thin driver, such as Transparent Application Fail-Over, advanced security, and advanced LOB manipulation.</p>
                           <p>The OCI driver provides the highest compatibility between different Oracle Database versions. It also supports all installed Oracle Net adapters, including IPC, named pipes, TCP/IP, and IPX/SPX.</p>
                           <p>Because it uses native methods (a combination of Java and C) the OCI driver is platform-specific. It requires a client installation of version Oracle8<span class="italic">i</span> or later including Oracle Net, OCI libraries, CORE libraries, and all other dependent files. The OCI driver usually runs faster than the thin driver. 
                           </p>
                           <p>The OCI driver is not appropriate for Java applets, because it uses a C library that is platform-specific and cannot be downloaded into a web browser. It is usable in J2EE components running in middle-tier application servers, such as Oracle Application Server. Oracle Application Server provides middleware services and tools that support access between applications and browsers.</p>
                        </div>
                     </div><a id="ADFNS659"></a><div class="props_rev_3"><a id="GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E" name="GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E"></a><h6 id="ADFNS-GUID-AA33B398-B155-4E3D-9001-F4E83A538C5E" class="sect6">JDBC Server-Side Internal Driver</h6>
                        <div>
                           <p>The JDBC server-side internal driver is a Type&nbsp;2 driver that runs inside the database server, reducing the number of round trips needed to access large amounts of data. The driver, the Java server VM, the database, the Java native compiler (which speeds execution by as much as 10 times), and the SQL engine all run within the same address space.</p>
                           <p>This driver provides server-side support for any Java program used in the database. You can also call PL/SQL stored subprograms and triggers.</p>
                           <p>The server driver fully supports the same features and extensions as the client-side drivers.</p>
                        </div>
                     </div>
                  </div><a id="ADFNS660"></a><div class="props_rev_3"><a id="GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732" name="GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732"></a><h5 id="ADFNS-GUID-24FB2DA8-BACC-40BD-9CE9-1BD3907D4732" class="sect5">Sample JDBC 2.0 Program</h5>
                     <div>
                        <p>This example shows the recommended technique for looking up a data source using JNDI in JDBC 2.0:</p><pre class="oac_no_warn" dir="ltr">// import the JDBC packages 
import java.sql.*; 
import javax.sql.*; 
import oracle.jdbc.pool.*; 
...
   InitialContext ictx = new InitialContext(); 
   DataSource ds = (DataSource)ictx.<span class="bold">lookup</span>("jdbc/OracleDS"); 
   Connection conn = ds.getConnection(); 
   Statement stmt = conn.createStatement(); 
   ResultSet rs = stmt.executeQuery("SELECT last_name FROM employees"); 
   while ( rs.next() ) { 
   out.println( rs.getString("ename") + "&lt;br&gt;"); 
   } 
conn.close(); </pre></div>
                  </div><a id="ADFNS661"></a><div class="props_rev_3"><a id="GUID-F2429980-0741-4D04-9821-598A443C3082" name="GUID-F2429980-0741-4D04-9821-598A443C3082"></a><h5 id="ADFNS-GUID-F2429980-0741-4D04-9821-598A443C3082" class="sect5">Sample Pre-2.0 JDBC Program</h5>
                     <div>
                        <p>This source code registers an Oracle JDBC thin driver, connects to the database, creates a <code class="codeph">Statement</code> object, runs a query, and processes the result set.
                        </p>
                        <p>The <code class="codeph">SELECT</code> statement retrieves and lists the contents of the <code class="codeph">last_name</code> column of the <code class="codeph">hr</code>.<code class="codeph">employees</code> table.
                        </p><pre class="oac_no_warn" dir="ltr">import java.sql.*
import java.math.*
import java.io.*
import java.awt.*

class JdbcTest { 
  public static void main (String args []) throws SQLException { 
    // Load Oracle driver
    <code class="codeph">DriverManager.registerDriver (new oracle.jdbc.OracleDriver());</code>
     
    // Connect to the local database
    Connection conn = 
      DriverManager.getConnection ("jdbc:oracle:<span class="bold">thin</span>:@myhost:1521:orcl", 
                                   "hr", "<span class="italic">password</span>");

    // Query the employee names 
    Statement stmt = conn.createStatement (); 
    ResultSet rset = stmt.executeQuery ("SELECT last_name FROM employees");

    // Print the name out 
    while (rset.next ())
      System.out.println (rset.getString (1));
    // Close the result set, statement, and the connection
    rset.close();
    stmt.close();
    conn.close();
  } 
} 
</pre><p>One Oracle Database extension to the JDBC drivers is a form of the <code class="codeph">getConnection()</code> method that uses a <code class="codeph">Properties</code> object. The <code class="codeph">Properties</code> object lets you specify user, password, database information, row prefetching, and execution batching.
                        </p>
                        <p>To use the OCI driver in this code, replace the <code class="codeph">Connection</code> statement with this code, where <code class="codeph">MyHostString</code> is an entry in the <code class="codeph">tnsnames</code>.<code class="codeph">ora</code> file:
                        </p><pre class="oac_no_warn" dir="ltr">Connection conn = DriverManager.getConnection ("jdbc:oracle:<span class="bold"><code class="codeph">oci8</code></span>:@MyHostString",
    "hr", "<span class="italic">password</span>");
</pre><p>If you are creating an applet, then the <code class="codeph">getConnection()</code> and <code class="codeph">registerDriver()</code> strings are different.
                        </p>
                     </div>
                  </div>
               </div><a id="ADFNS1082"></a><a id="ADFNS662"></a><div class="props_rev_3"><a id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466" name="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466"></a><h4 id="ADFNS-GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466" class="sect4">Overview of Oracle SQLJ</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-23DCD94A-C66E-484A-942F-1F720FE4BE18">
                        <p class="notep1">Note:</p>
                        <p>In this guide, <span class="bold">SQLJ</span> refers to Oracle SQLJ and its extensions.
                        </p>
                     </div>
                     <p>SQLJ is an ANSI SQL-1999 standard for embedding SQL statements in Java source code. SQLJ provides a simpler alternative to JDBC for client-side SQL data access from Java.</p>
                     <p>A SQLJ source file contains Java source with embedded SQL statements. Oracle SQLJ supports dynamic and static SQL. Support for dynamic SQL is an Oracle extension to the SQLJ standard. </p>
                     <p>The Oracle SQLJ translator performs these tasks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Translates SQLJ source to Java code with calls to the SQLJ runtime driver. The SQLJ translator converts the source code to pure Java source code and can check the syntax and semantics of static SQL statements against a database schema and verify the type compatibility of host variables with SQL types.</p>
                        </li>
                        <li>
                           <p>Compiles the generated Java code with the Java compiler.</p>
                        </li>
                        <li>
                           <p>(Optional) Creates profiles for the target database. SQLJ generates "profile" files with customization specific to Oracle Database.</p>
                        </li>
                     </ul>
                     <p>SQLJ is integrated with JDeveloper. Source-level debugging support for SQLJ is available in JDeveloper.</p>
                     <p>This is an example of a simple SQLJ executable statement, which returns one value because <code class="codeph">employee_id</code> is unique in the <code class="codeph">employee</code> table:
                     </p><pre class="oac_no_warn" dir="ltr">String name;
#sql  { SELECT first_name INTO <span class="bold"><code class="codeph">:</code></span>name FROM employees WHERE employee_id=112 };
System.out.println("Name is " + name + ", employee number = " + employee_id);
</pre><p>Each host variable (or qualified name or complex Java host expression) included in a SQL expression is preceded by a colon (:). Other SQLJ statements declare Java types. For example, you can declare an iterator (a construct related to a database cursor) for queries that retrieve many values, as follows:</p><pre class="oac_no_warn" dir="ltr">#sql iterator EmpIter (String EmpNam, int EmpNumb);</pre><div class="infoboxnotealso" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-6F8B242B-54E2-40C9-9AF3-C7FD3CED3CAE">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JSQLJ137" target="_blank"><span class="italic">Oracle Database SQLJ Developer's Guide</span></a> for more examples and details about Oracle SQLJ syntax
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-024B41E0-A822-4EF1-9A60-B95E670E02B7">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="application-architecture.html#GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1">Benefits of SQLJ</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-D93A111E-26B4-46A5-8903-F6E7E3F7E466__GUID-A9E87A06-B072-4EA6-990C-CA3A80D208E4">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT826" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for additional general information about SQLJ
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS663"></a><div class="props_rev_3"><a id="GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1" name="GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1"></a><h5 id="ADFNS-GUID-7F066AD7-8DE8-4C28-945E-46FC135340F1" class="sect5">Benefits of SQLJ</h5>
                     <div>
                        <p>Oracle SQLJ extensions to Java enable rapid development and easy maintenance of applications that perform database operations through embedded SQL.</p>
                        <p>In particular, Oracle SQLJ does this:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Provides a concise, legible mechanism for database access from static SQL. Most SQL in applications is static. SQLJ provides more concise and less error-prone static SQL constructs than JDBC does. </p>
                           </li>
                           <li>
                              <p>Provides an SQL Checker module for verification of syntax and semantics at translate time.</p>
                           </li>
                           <li>
                              <p>Provides flexible deployment configurations, which makes it possible to implement SQLJ on the client, or middle tier.</p>
                           </li>
                           <li>
                              <p>Supports a software standard. SQLJ is an effort of a group of vendors and is supported by all of them. Applications can access multiple database vendors.</p>
                           </li>
                           <li>
                              <p>Provides source code portability. Executables can be used with all of the vendor DBMSs if the code does not rely on vendor-specific features.</p>
                           </li>
                           <li>
                              <p>Enforces a uniform programming style for the clients and the servers.</p>
                           </li>
                           <li>
                              <p>Integrates the SQLJ translator with <a id="d117663e2729" class="indexterm-anchor"></a><a id="d117663e2731" class="indexterm-anchor"></a><strong class="term">Oracle JDeveloper</strong>, a graphical IDE that provides SQLJ translation, Java compilation, profile customizing, and debugging at the source code level, all in one step.
                              </p>
                           </li>
                           <li>
                              <p>Includes Oracle Database type extensions.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS665"></a><div class="props_rev_3"><a id="GUID-4973104E-CE62-4094-8294-868A20C2889E" name="GUID-4973104E-CE62-4094-8294-868A20C2889E"></a><h4 id="ADFNS-GUID-4973104E-CE62-4094-8294-868A20C2889E" class="sect4">Comparison of Oracle JDBC and Oracle SQLJ</h4>
                  <div>
                     <p>JDBC code and SQLJ code interoperate, enabling dynamic SQL statements in JDBC to be used with both static and dynamic SQL statements in SQLJ. A SQLJ iterator class corresponds to the JDBC result set.</p>
                     <p>Some differences between JDBC and SQLJ are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>JDBC provides a complete dynamic SQL interface from Java to databases. It gives developers full control over database operations. SQLJ simplifies Java database programming to improve development productivity.</p>
                        </li>
                        <li>
                           <p>JDBC provides fine-grained control of the execution of dynamic SQL from Java, whereas SQLJ provides a higher-level binding to SQL operations in a specific database schema.</p>
                        </li>
                        <li>
                           <p>SQLJ source code is more concise than equivalent JDBC source code.</p>
                        </li>
                        <li>
                           <p>SQLJ uses database connections to type-check static SQL code. JDBC, being a completely dynamic API, does not.</p>
                        </li>
                        <li>
                           <p>SQLJ provides strong typing of query outputs and return parameters and provides type-checking on calls. JDBC passes values to and from SQL without compile-time type checking. </p>
                        </li>
                        <li>
                           <p>SQLJ programs enable direct embedding of Java bind expressions within SQL statements. JDBC requires a separate get or set statement for each bind variable and specifies the binding by position number.</p>
                        </li>
                        <li>
                           <p>SQLJ provides simplified rules for calling SQL stored subprograms.</p>
                           <p>For example, the following four examples show, on successive lines, how to call a stored procedure or a stored function using either JDBC escape syntax or Oracle JDBC syntax:</p><pre class="oac_no_warn" dir="ltr">prepStmt.prepareCall("{call fun(?,?)}");       //stored proc. JDBC esc.
prepStmt.prepareCall("{? = call fun(?,?)}");   //stored func. JDBC esc.
prepStmt.prepareCall("begin fun(:1,:2);end;"); //stored proc. Oracle
prepStmt.prepareCall("begin :1 := fun(:2,:3);end;"); //stored func. Oracle
</pre><p>The SQLJ equivalent is:</p><pre class="oac_no_warn" dir="ltr">#sql {call fun(<span class="italic">param_list</span>) };  //Stored procedure
// Declare x
...
#sql x = {VALUES(fun(<span class="italic">param_list</span>)) };  // Stored function
// where VALUES is the SQL construct
</pre></li>
                     </ul>
                     <p>These benefits are common to SQLJ and JDBC:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SQLJ source files can contain JDBC calls. SQLJ and JDBC are interoperable.</p>
                        </li>
                        <li>
                           <p>PL/SQL and Java stored subprograms can be used interchangeably.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS667"></a><div class="props_rev_3"><a id="GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8" name="GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8"></a><h4 id="ADFNS-GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8" class="sect4">Overview of Java Stored Subprograms</h4>
                  <div>
                     <p>Java stored subprograms enable you to implement programs that run in the database server and are independent of programs that run in the middle tier. Structuring applications in this way reduces complexity and increases reuse, security, performance, and scalability.</p>
                     <p>For example, you can create a Java stored subprogram that performs operations that require data persistence and a separate program to perform presentation or business logic operations. </p>
                     <p>Java stored subprograms interface with SQL using an execution model similar to that of PL/SQL.</p>
                     <div class="infoboxnotealso" id="GUID-F59F44DF-14C3-4193-92F4-4D08C4C786B8__GUID-FF428BD6-45E3-4B00-B789-677B25B24C2E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1805" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for additional general information about Java stored subprograms
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=JJDEV01530" target="_blank"><span class="italic">Oracle Database Java Developer's Guide</span></a> for complete information about Java stored subprograms
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS668"></a><div class="props_rev_3"><a id="GUID-FA7EAD66-A188-4665-9317-2DACFFA44591" name="GUID-FA7EAD66-A188-4665-9317-2DACFFA44591"></a><h4 id="ADFNS-GUID-FA7EAD66-A188-4665-9317-2DACFFA44591" class="sect4">Overview of Oracle Database Web Services</h4>
                  <div>
                     <p>Web services represent a distributed computing paradigm for Java application development that is an alternative to earlier Java protocols such as JDBC, and which enable applications to interact through the XML and web protocols. For example, an electronics parts vendor can provide a web-based programmatic interface to its suppliers for inventory management. The vendor can invoke a web service as part of a program and automatically order stock based on the data returned.</p>
                     <p>The key technologies used in web services are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Web Services Description Language (WSDL), which is a standard format for creating an XML document. WSDL describes what a web service can do, where it resides, and how to invoke it. Specifically, it describes the operations and parameters, including parameter types, provided by a web service. Also, a WSDL document describes the location, the transport protocol, and the invocation style for the web service.</p>
                        </li>
                        <li>
                           <p>Simple Object Access Protocol (SOAP) messaging, which is an XML-based message protocol used by web services. SOAP does not prescribe a specific transport mechanism such as HTTP, FTP, SMTP, or JMS; however, most web services accept messages that use HTTP or HTTPS.</p>
                        </li>
                        <li>
                           <p>Universal Description, Discovery, and Integration (UDDI) business registry, which is a directory that lists web services on the internet. The UDDI registry is often compared to a telephone directory, listing unique identifiers (white pages), business categories (yellow pages), and instructions for binding to a service protocol (green pages).</p>
                        </li>
                     </ul>
                     <p>Web services can use a variety of techniques and protocols. For example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Dispatching can occur in a synchronous (typical) or asynchronous manner.</p>
                        </li>
                        <li>
                           <p>You can invoke a web service in an RPC-style operation in which arguments are sent and a response returned, or in a message style such as a one-way SOAP document exchange.</p>
                        </li>
                        <li>
                           <p>You can use different encoding rules: literal or encoded.</p>
                        </li>
                     </ul>
                     <p>You can invoke a web service statically, when you might know everything about it beforehand, or dynamically, in which case you can discover its operations and transport endpoints while using it.</p>
                     <p>Oracle Database can function as either a web service provider or as a web service consumer. When used as a provider, the database enables sharing and disconnected access to stored subprograms, data, metadata, and other database resources such as the queuing and messaging systems. </p>
                     <p>As a web service provider, Oracle Database provides a disconnected and heterogeneous environment that:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Exposes stored subprograms independently of the language in which the subprograms are written</p>
                        </li>
                        <li>
                           <p>Exposes SQL Queries and XQuery</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FA7EAD66-A188-4665-9317-2DACFFA44591__GUID-5DB8DC58-3B7C-4594-A5CE-26781FD3C66B">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1271" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for additional general information about Oracle Database as a web service provider
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS669"></a><a id="ADFNS1083"></a><a id="ADFNS99961"></a><div class="props_rev_3"><a id="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D" name="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D"></a><h3 id="ADFNS-GUID-19324E9B-9D97-4E45-A41C-0413BA00714D" class="sect3">Choosing PL/SQL or Java</h3>
               <div>
                  <p>PL/SQL and Java interoperate in the server. You can run a PL/SQL package from Java or PL/SQL can be invoked from Java, so that either one can be invoked from distributed CORBA and Enterprise Java Beans clients.</p>
                  <p><a href="application-architecture.html#GUID-19324E9B-9D97-4E45-A41C-0413BA00714D__G1022106" title="This table lists PL/SQL packages and their Java equivalents.">Table 20-1</a> shows PL/SQL packages and their Java equivalents.
                  </p>
                  <div class="tblformal" id="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D__G1022106">
                     <p class="titleintable">Table 20-1  PL/SQL Packages and Their Java Equivalents</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title=" PL/SQL Packages and Their Java Equivalents" summary="This table lists PL/SQL packages and their Java equivalents." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d117663e3283">PL/SQL Package</th>
                              <th align="left" valign="bottom" width="69%" id="d117663e3286">Java Equivalent</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3291" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_ALERT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3291 d117663e3286 ">
                                 <p>Call package with JDBC.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3299" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_DDL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3299 d117663e3286 ">
                                 <p>JDBC has this functionality.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3307" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_JOB</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3307 d117663e3286 ">
                                 <p>Schedule a job that has a Java stored subprogram.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3315" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_LOCK</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3315 d117663e3286 ">
                                 <p>Call with JDBC.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3323" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_MAIL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3323 d117663e3286 ">
                                 <p>Use JavaMail.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3331" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_OUTPUT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3331 d117663e3286 ">
                                 <p>Use subclass <code class="codeph">oracle</code>.<code class="codeph">aurora</code>.<code class="codeph">rdbms</code>.<code class="codeph">OracleDBMSOutputStream</code> or Java stored subprogram <code class="codeph">DBMS_JAVA</code>.<code class="codeph">SET_STREAMS</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3358" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_PIPE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3358 d117663e3286 ">
                                 <p>Call with JDBC.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3366" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_SESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3366 d117663e3286 ">
                                 <p>Use JDBC to run an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3380" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_SNAPSHOT</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3380 d117663e3286 ">
                                 <p>Call with JDBC.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3388" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_SQL</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3388 d117663e3286 ">
                                 <p>Use JDBC.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3396" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_TRANSACTION</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3396 d117663e3286 ">
                                 <p>Use JDBC to run an <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> statement.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3411" headers="d117663e3283 ">
                                 <p><code class="codeph">DBMS_UTILITY</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3411 d117663e3286 ">
                                 <p>Call with JDBC.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d117663e3419" headers="d117663e3283 ">
                                 <p><code class="codeph">UTL_FILE</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d117663e3419 d117663e3286 ">
                                 <p>Grant the <code class="codeph">JAVAUSERPRIV</code> privilege and then use Java I/O entry points.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19324E9B-9D97-4E45-A41C-0413BA00714D__GUID-898A2364-3E2F-4947-9DD5-8A9FAE538538">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="application-architecture.html#GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4">Similarities of PL/SQL and Java</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A">PL/SQL Advantages Over Java</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC">Java Advantages Over PL/SQL</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS670"></a><div class="props_rev_3"><a id="GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4" name="GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4"></a><h4 id="ADFNS-GUID-E83E5E05-9348-47E5-9507-18B4B64ABFF4" class="sect4">Similarities of PL/SQL and Java</h4>
                  <div>
                     <p>Both PL/SQL and Java provide packages and libraries.</p>
                     <p>Both PL/SQL and Java have object-oriented features:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Both have inheritance.</p>
                        </li>
                        <li>
                           <p>PL/SQL has <strong class="term">type evolution</strong>, the ability to change methods and attributes of a type while preserving subtypes and table data that use the type.
                           </p>
                        </li>
                        <li>
                           <p>Java has polymorphism and component models for developing distributed systems.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS671"></a><div class="props_rev_3"><a id="GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A" name="GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A"></a><h4 id="ADFNS-GUID-4C3ACD7C-4B6E-4027-91A2-35A77084964A" class="sect4">PL/SQL Advantages Over Java</h4>
                  <div>
                     <p>As an extension of SQL, PL/SQL supports all SQL data types, data encapsulation, information hiding, overloading, and exception-handling. Therefore:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SQL data types are easier to use in PL/SQL than in Java.</p>
                        </li>
                        <li>
                           <p>SQL operations are faster with PL/SQL than with Java, especially when a large amount of data is involved, when mostly database access is done, or when bulk operations are used.</p>
                           <p>Some advanced PL/SQL capabilities are unavailable for Java in Oracle9<span class="italic">i</span> (for example, autonomous transactions and the dblink facility for remote databases).
                           </p>
                        </li>
                     </ul>
                     <p>Code development is usually faster in PL/SQL than in Java; however, this really depends upon the development tool or development environment you are using.</p>
                     <p>PL/SQL is preferred when your data logic is SQL intensive. That is, the data processing or data validation requirements of your application are high.</p>
                     <p>Also, there is a large user base with Oracle-supplied packages and third party libraries that can draw upon for development.</p>
                  </div>
               </div><a id="ADFNS672"></a><div class="props_rev_3"><a id="GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC" name="GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC"></a><h4 id="ADFNS-GUID-2CEC2860-EB5F-4B95-A612-96BA3FA461EC" class="sect4">Java Advantages Over PL/SQL</h4>
                  <div>
                     <p>Java is used for open distributed applications, and many Java-based development tools are available throughout the industry. Java has native mechanisms that are unavailable in PL/SQL. For example, Java has built-in security mechanisms, an automatic Garbage Collector, type safety mechanisms, byte-code verifier, and Java 2 security. Also, Java provides built-in rapid development features, such as, built-in automatic bounds checking on arrays, built-in network access classes, and APIs that contain many useful and ready-to-use classes. Java has a vast set of class libraries, tools, and third-party class libraries that can be reused in the database. Java has a richer type system than PL/SQL. Java can use CORBA (which can have many different computer languages in its clients) and Enterprise Java Beans. PL/SQL packages can be invoked from CORBA or Enterprise Java Beans clients. You can run XML tools, the Internet File System, or JavaMail from Java.</p>
                     <p>If you application must interact with ERP systems, RMI servers, Java/J2EE, and web services, Java is preferred because none of these things can be accomplished with PL/SQL. Java is also preferred if you must develop part of your application in the middle-tier because your business logic is complex or compute intensive with little to moderate direct SQL access, you are implementing a middle-tier-driven presentation logic, your application requires transparent Java persistence, or your application requires container-managed infrastructure services. Thus, when needing to partition your application between the database tier and middle tier, migrate that part of your application as needed to the middle tier and use Java/J2EE.</p>
                  </div>
               </div>
            </div><a id="ADFNS1084"></a><a id="ADFNS99962"></a><div class="props_rev_3"><a id="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF" name="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF"></a><h3 id="ADFNS-GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF" class="sect3">Overview of Precompilers</h3>
               <div>
                  <p>Client/server programs are typically written using <span class="bold">precompilers</span>, which are programming tools that let you embed SQL statements in high-level programs written in languages such as C, C++, or COBOL. Because the client application hosts the SQL statements, it is called a <span class="bold">host program</span>, and the language in which it is written is called the <span class="bold">host language</span>.
                  </p>
                  <p>A precompiler accepts the host program as input, translates the embedded SQL statements into standard database runtime library calls, and generates a source program that you can compile, link, and run in the usual way.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF__GUID-AB345CCD-4010-452B-B0AF-6CB1442B3491">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="application-architecture.html#GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B">Overview of the Pro*C/C++ Precompiler</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-447B087B-E49D-49E4-8C21-35DB88017AA4">Overview of the Pro*COBOL Precompiler</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-FDCDF7D6-5CFB-480A-8A50-A1525712E9CF__GUID-CBF3E0A2-2F7B-4DAA-B1E9-AB01959CE92A">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1765" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for additional general information about Oracle precompilers
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS673"></a><a id="ADFNS00104"></a><div class="props_rev_3"><a id="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B" name="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B"></a><h4 id="ADFNS-GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B" class="sect4">Overview of the Pro*C/C++ Precompiler</h4>
                  <div>
                     <p>For the Pro*C/C++ precompiler, the host language is either C or C++. Some features of the Pro*C/C++ precompiler are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can write multithreaded programs if your platform supports a threads package. Concurrent connections are supported in either single-threaded or multithreaded applications.</p>
                        </li>
                        <li>
                           <p>You can improve performance by embedding PL/SQL blocks. These blocks can invoke subprograms in Java or PL/SQL that are written by you or provided in Oracle Database packages.</p>
                        </li>
                        <li>
                           <p>Using precompiler options, you can check the syntax and semantics of your SQL or PL/SQL statements during precompilation, and at runtime.</p>
                        </li>
                        <li>
                           <p>You can invoke stored PL/SQL and Java subprograms. Modules written in COBOL or in C can be invoked from Pro*C/C++. External C subprograms in shared libraries can be invoked by your program.</p>
                        </li>
                        <li>
                           <p>You can conditionally precompile sections of your code so that they can run in different environments.</p>
                        </li>
                        <li>
                           <p>You can use arrays, or structures, or arrays of structures as host and indicator variables in your code to improve performance.</p>
                        </li>
                        <li>
                           <p>You can deal with errors and warnings so that data integrity is guaranteed. As a programmer, you control how errors are handled.</p>
                        </li>
                        <li>
                           <p>Your program can convert between internal data types and C language data types.</p>
                        </li>
                        <li>
                           <p>The Oracle Call Interface (OCI) and Oracle C++ Call Interface (OCCI), lower-level C and C++ interfaces, are available for use in your precompiler source.</p>
                        </li>
                        <li>
                           <p>Pro*C/C++ supports dynamic SQL, a technique that enables users to input variable values and statement syntax.</p>
                        </li>
                        <li>
                           <p>Pro*C/C++ can use special SQL statements to manipulate tables containing user-defined object types. An Object Type Translator (OTT) maps the ADTs and named collection types in your database to structures and headers that you include in your source.</p>
                        </li>
                        <li>
                           <p>Three kinds of collection types: associative arrays, nested tables and <code class="codeph">VARRAY</code>, are supported with a set of SQL statements that give you a high degree of control over data.
                           </p>
                        </li>
                        <li>
                           <p>Large Objects are accessed by another set of SQL statements.</p>
                        </li>
                        <li>
                           <p>A new ANSI SQL standard for dynamic SQL is supported for new applications, so that you can run SQL statements with a varying number of host variables. An older technique for dynamic SQL is still usable by pre-existing applications.</p>
                        </li>
                        <li>
                           <p>Globalization support lets you use multibyte characters and UCS2 Unicode data.</p>
                        </li>
                        <li>
                           <p>Using scrollable cursors, you can move backward and forward through a result set. For example, you can fetch the last row of the result set, or jump forward or backward to an absolute or relative position within the result set.</p>
                        </li>
                        <li>
                           <p>A <span class="bold">connection pool</span> is a group of physical connections to a database that can be shared by several named connections. Enabling the connection pool option can help optimize the performance of Pro*C/C++ application. The connection pool option is not enabled by default.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B__GUID-7C136A67-DA5A-4B4A-8DD6-45579F68929F">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPCC-GUID-20CBCC27-EC6B-4651-92CC-7E008BD73611" target="_blank"><span><cite>Pro*C/C++ Programmer's Guide</cite></span></a> for complete information about the Pro*C/C++ precompiler
                        </p>
                     </div>
                     <p><a href="application-architecture.html#GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B__BABJAJIH">Example 20-1</a> is a code fragment from a C source program that queries the table <code class="codeph">employees</code> in the schema <code class="codeph">hr</code>.
                     </p>
                     <div class="example" id="GUID-973E66B6-A353-48C8-BB9C-E8BA8E69903B__BABJAJIH">
                        <p class="titleinexample">Example 20-1 Pro*C/C++ Application</p><pre class="oac_no_warn" dir="ltr">...
#define  UNAME_LEN   10
...
int   emp_number;
/* Define a host structure for the output values of a SELECT statement. */
/* No declare section needed if precompiler option MODE=ORACLE          */
struct {
    VARCHAR  last_name[UNAME_LEN];
    float    salary;
    float    commission_pct;
} emprec;
/* Define an indicator structure to correspond to the host output structure. */
struct {
    short emp_name_ind;
    short sal_ind;
    short comm_ind;
} emprec_ind;
...
/* Select columns last_name, salary, and commission_pct given the user's input 
/* for employee_id. */
    EXEC SQL SELECT last_name, salary, commission_pct
        INTO :emprec INDICATOR :emprec_ind
        FROM employees
        WHERE employee_id = :emp_number;
...
</pre><p>The embedded <code class="codeph">SELECT</code> statement differs slightly from the interactive (SQL*Plus) <code class="codeph">SELECT</code> statement. Every embedded SQL statement begins with <code class="codeph">EXEC</code> <code class="codeph">SQL</code>. The colon (:) precedes every host (C) variable. The returned values of data and indicators (set when the data value is <code class="codeph">NULL</code> or character columns were truncated) can be stored in structs (such as in the preceding code fragment), in arrays, or in arrays of structs. Multiple result set values are handled very simply in a manner that resembles the case shown, where there is only one result, because of the unique employee number. Use the actual names of columns and tables in embedded SQL.
                        </p>
                        <p>Either use the default precompiler option values or enter values that give you control over the use of resources, how errors are reported, the formatting of output, and how cursors (which correspond to a particular connection or SQL statement) are managed. Cursors are used when there are multiple result set values.</p>
                        <p>Enter the options either in a configuration file, on the command line, or inline inside your source code with a special statement that begins with <code class="codeph">EXEC</code> <code class="codeph">ORACLE</code>. If there are no errors found, you can compile, link, and run the output source file, like any other C program that you write.
                        </p>
                        <p>Use the precompiler to create server database access from clients that can be on many different platforms. Pro*C/C++ gives you the freedom to design your own user interfaces and to add database access to existing applications.</p>
                        <p>Before writing your embedded SQL statements, you can test interactive versions of the SQL in SQL*Plus and then make minor changes to start testing your embedded SQL application.</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS674"></a><a id="ADFNS00105"></a><div class="props_rev_3"><a id="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4" name="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4"></a><h4 id="ADFNS-GUID-447B087B-E49D-49E4-8C21-35DB88017AA4" class="sect4">Overview of the Pro*COBOL Precompiler</h4>
                  <div>
                     <p>For the Pro*COBOL precompiler, the host language is COBOL. Some features of the Pro*COBOL precompiler are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can invoke stored PL/SQL or Java subprograms. You can improve performance by embedding PL/SQL blocks. These blocks can invoke PL/SQL subprograms written by you or provided in Oracle Database packages.</p>
                        </li>
                        <li>
                           <p>Precompiler options enable you to define how cursors, errors, syntax-checking, file formats, and so on, are handled.</p>
                        </li>
                        <li>
                           <p>Using precompiler options, you can check the syntax and semantics of your SQL or PL/SQL statements during precompilation, and at runtime.</p>
                        </li>
                        <li>
                           <p>You can conditionally precompile sections of your code so that they can run in different environments.</p>
                        </li>
                        <li>
                           <p>Use tables, or group items, or tables of group items as host and indicator variables in your code to improve performance.</p>
                        </li>
                        <li>
                           <p>You can program how errors and warnings are handled, so that data integrity is guaranteed.</p>
                        </li>
                        <li>
                           <p>Pro*COBOL supports dynamic SQL, a technique that enables users to input variable values and statement syntax.</p>
                           <div class="infoboxnotealso" id="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4__GUID-9C94F540-E528-4D56-A9AC-5DDDE1DDB09A">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPCB-GUID-2F2833F4-62F3-4FC7-8FC1-B742E44727B0" target="_blank"><span><cite>Pro*COBOL Programmer's Guide</cite></span></a> for complete information about the Pro*COBOL precompiler
                              </p>
                           </div>
                        </li>
                     </ul>
                     <p><a href="application-architecture.html#GUID-447B087B-E49D-49E4-8C21-35DB88017AA4__BABFHEJI">Example 20-2</a> is a code fragment from a COBOL source program that queries the table <code class="codeph">employees</code> in the schema <code class="codeph">hr</code>.
                     </p>
                     <div class="example" id="GUID-447B087B-E49D-49E4-8C21-35DB88017AA4__BABFHEJI">
                        <p class="titleinexample">Example 20-2 Pro*COBOL Application</p><pre class="oac_no_warn" dir="ltr">...
 WORKING-STORAGE SECTION.
*
* DEFINE HOST INPUT AND OUTPUT HOST AND INDICATOR VARIABLES.
* NO DECLARE SECTION NEEDED IF MODE=ORACLE.
*
 01  EMP-REC-VARS.
     05  EMP-NAME    PIC X(10) VARYING.
     05  EMP-NUMBER  PIC S9(4) COMP VALUE ZERO.
     05  SALARY      PIC S9(5)V99 COMP-3 VALUE ZERO.
     05  COMMISSION  PIC S9(5)V99 COMP-3 VALUE ZERO.
     05  COMM-IND    PIC S9(4) COMP VALUE ZERO.
...
 PROCEDURE DIVISION.
...
     EXEC SQL
         SELECT last_name, salary, commission_pct
         INTO :EMP-NAME, :SALARY, :COMMISSION:COMM-IND
         FROM employees
         WHERE employee_id = :EMP-NUMBER
     END-EXEC.
...
</pre><p>The embedded <code class="codeph">SELECT</code> statement is only slightly different from an interactive (SQL*Plus) <code class="codeph">SELECT</code> statement. Every embedded SQL statement begins with EXEC SQL. The colon (:) precedes every host (COBOL) variable. The SQL statement is terminated by <code class="codeph">END-EXEC</code>. The returned values of data and indicators (set when the data value is <code class="codeph">NULL</code> or character columns were truncated) can be stored in group items (such as in the preceding code fragment), in tables, or in tables of group items. Multiple result set values are handled very simply in a manner that resembles the case shown, where there is only one result, given the unique employee number. Use the actual names of columns and tables in embedded SQL.
                        </p>
                        <p>Use the default precompiler option values, or enter values that give you control over the use of resources, how errors are reported, the formatting of output, and how cursors are managed (cursors correspond to a particular connection or SQL statement).</p>
                        <p>Enter the options in a configuration file, on the command line, or inline inside your source code with a special statement that begins with EXEC ORACLE. If there are no errors found, you can compile, link, and run the output source file, like any other COBOL program that you write.</p>
                        <p>Use the precompiler to create server database access from clients that can be on many different platforms. Pro*COBOL gives you the freedom to design your own user interfaces and to add database access to existing COBOL applications.</p>
                        <p>The embedded SQL statements available conform to an ANSI standard, so that you can access data from many databases in a program, including remote servers networked through Oracle Net. </p>
                        <p>Before writing your embedded SQL statements, you can test interactive versions of the SQL in SQL*Plus and then make minor changes to start testing your embedded SQL application.</p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADFNS1085"></a><a id="ADFNS00106"></a><div class="props_rev_3"><a id="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140" name="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140"></a><h3 id="ADFNS-GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140" class="sect3">Overview of OCI and OCCI</h3>
               <div>
                  <p>The Oracle Call Interface (OCI) and Oracle C++ Call Interface (OCCI) are application programming interfaces (APIs) that enable you to create applications that use native subprogram invocations of a third-generation language to access Oracle Database and control all phases of SQL statement execution. These APIs provide:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Improved performance and scalability through the efficient use of system memory and network connectivity</p>
                     </li>
                     <li>
                        <p>Consistent interfaces for dynamic session and transaction management in a two-tier client/server or multitier environment</p>
                     </li>
                     <li>
                        <p><span class="italic">N</span>-tiered authentication
                        </p>
                     </li>
                     <li>
                        <p>Comprehensive support for application development using Oracle Database objects</p>
                     </li>
                     <li>
                        <p>Access to external databases</p>
                     </li>
                     <li>
                        <p>Ability to develop applications that service an increasing number of users and requests without additional hardware investments</p>
                     </li>
                  </ul>
                  <p>OCI lets you manipulate data and schemas in a database using a host programming language, such as C. OCCI is an object-oriented interface suitable for use with C++. These APIs provide a library of standard database access and retrieval functions in the form of a dynamic runtime library that can be linked in an application at runtime. You need not embed SQL or PL/SQL within 3GL programs.</p>
                  <div class="infoboxnotealso" id="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140__GUID-1926E237-74AD-47F5-B31F-AC278046FD85">
                     <p class="notep1">See Also:</p>
                     <p>For more information about OCI and OCCI calls:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNOCI-GUID-27645179-6957-4004-8BB8-38775266B038" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C++ Call Interface Programmer's Guide</cite></span></a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADQUE0300" target="_blank"><span class="italic">Oracle Database Advanced Queuing User's Guide</span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=NLSPG-GUID-4530259E-9CA6-4FC3-A024-3EB6C2D90DAE" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADDCI4180" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-FEAEF1C5-6C7D-4E3D-91E3-34AB80249140__GUID-68CE80AA-F4FD-42ED-955D-AF65A6C281FB">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="application-architecture.html#GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF">Advantages of OCI and OCCI</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19">OCI and OCCI Functions</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE">Procedural and Nonprocedural Elements of OCI and OCCI Applications</a></p>
                        </li>
                        <li>
                           <p><a href="application-architecture.html#GUID-8AC1A6DA-F3D0-423A-877A-566F75973164">Building an OCI or OCCI Application</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS675"></a><div class="props_rev_3"><a id="GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF" name="GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF"></a><h4 id="ADFNS-GUID-475C821A-6BD9-42C9-A1B9-604184A73EFF" class="sect4">Advantages of OCI and OCCI</h4>
                  <div>
                     <p>OCI and OCCI provide significant advantages over other methods of accessing Oracle Database:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>More fine-grained control over all aspects of the application design.</p>
                        </li>
                        <li>
                           <p>High degree of control over program execution.</p>
                        </li>
                        <li>
                           <p>Use of familiar 3GL programming techniques and application development tools such as browsers and debuggers.</p>
                        </li>
                        <li>
                           <p>Support of dynamic SQL, method 4.</p>
                        </li>
                        <li>
                           <p>Availability on the broadest range of platforms of all the Oracle Database programmatic interfaces.</p>
                        </li>
                        <li>
                           <p>Dynamic bind and define using callbacks.</p>
                        </li>
                        <li>
                           <p>Describe functionality to expose layers of server metadata.</p>
                        </li>
                        <li>
                           <p>Asynchronous event notification for registered client applications.</p>
                        </li>
                        <li>
                           <p>Enhanced array data manipulation language (DML) capability for arrays.</p>
                        </li>
                        <li>
                           <p>Ability to associate a commit request with a statement execution to reduce round trips.</p>
                        </li>
                        <li>
                           <p>Optimization for queries using transparent prefetch buffers to reduce round trips.</p>
                        </li>
                        <li>
                           <p>Thread safety, so you do not have to implement mutual exclusion (mutex) locks on OCI and OCCI handles.</p>
                        </li>
                        <li>
                           <p>The server connection in nonblocking mode means that control returns to the OCI code when a call is still running or cannot complete.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS676"></a><div class="props_rev_3"><a id="GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19" name="GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19"></a><h4 id="ADFNS-GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19" class="sect4">OCI and OCCI Functions</h4>
                  <div>
                     <p>Both OCI and OCCI have four kinds of functions:</p>
                     <div class="tblformal" id="GUID-E1221A78-D20B-4AD9-B5DF-54D632ED5C19__GUID-86EAA732-A141-4E25-8CE4-5DB45F739D1A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="This table lists the kinds of OCI and OCCI functions and describes their purposes." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d117663e4767">Kind of Function</th>
                                 <th align="left" valign="bottom" width="67%" id="d117663e4770">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4775" headers="d117663e4767 ">
                                    <p>Relational</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4775 d117663e4770 ">
                                    <p>To manage database access and process SQL statements</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4782" headers="d117663e4767 ">
                                    <p>Navigational</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4782 d117663e4770 ">
                                    <p>To manipulate objects retrieved from the database</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4789" headers="d117663e4767 ">
                                    <p>Database mapping and manipulation</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4789 d117663e4770 ">
                                    <p>To manipulate data attributes of Oracle Database types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d117663e4796" headers="d117663e4767 ">
                                    <p>External subprogram</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d117663e4796 d117663e4770 ">
                                    <p>To write C callbacks from PL/SQL (OCI only)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="ADFNS677"></a><div class="props_rev_3"><a id="GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE" name="GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE"></a><h4 id="ADFNS-GUID-DC64E4A2-0718-4F55-83C3-25845C285EAE" class="sect4">Procedural and Nonprocedural Elements of OCI and OCCI Applications</h4>
                  <div>
                     <p>OCI and OCCI enable you to develop applications that combine the nonprocedural data access power of SQL with the procedural capabilities of most programming languages, including C and C++. Procedural and nonprocedural languages have these characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>In a nonprocedural language program, the set of data to be operated on is specified, but what operations are performed and how the operations are to be carried out is not specified. The nonprocedural nature of SQL makes it an easy language to learn and to use to perform database transactions. It is also the standard language used to access and manipulate data in modern relational and object-relational database systems.</p>
                        </li>
                        <li>
                           <p>In a procedural language program, the execution of most statements depends on previous or subsequent statements and on control structures, such as loops or conditional branches, which are unavailable in SQL. The procedural nature of these languages makes them more complex than SQL, but it also makes them very flexible and powerful.</p>
                        </li>
                     </ul>
                     <p>The combination of both nonprocedural and procedural language elements in an OCI or OCCI program provides easy access to Oracle Database in a structured programming environment.</p>
                     <p>OCI and OCCI support all SQL data definition, data manipulation, query, and transaction control facilities that are available through Oracle Database. For example, an OCI or OCCI program can run a query against Oracle Database. The queries can require the program to supply data to the database using input (bind) variables, as follows:</p><pre class="oac_no_warn" dir="ltr">SELECT name FROM employees WHERE empno = <span class="bold"><code class="codeph">:</code></span>empnumber
</pre><p>In the preceding SQL statement, :<code class="codeph">empnumber</code> is a placeholder for a value to be supplied by the application.
                     </p>
                     <p>Alternatively, you can use PL/SQL, Oracle's procedural extension to SQL. The applications you develop can be more powerful and flexible than applications written in SQL alone. OCI and OCCI also provide facilities for accessing and manipulating objects in Oracle Database.</p>
                  </div>
               </div><a id="ADFNS679"></a><a id="ADFNS678"></a><div class="props_rev_3"><a id="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164" name="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164"></a><h4 id="ADFNS-GUID-8AC1A6DA-F3D0-423A-877A-566F75973164" class="sect4">Building an OCI or OCCI Application</h4>
                  <div>
                     <div class="section">
                        <p>As <a href="application-architecture.html#GUID-8AC1A6DA-F3D0-423A-877A-566F75973164__i1006860">Figure 20-1</a> shows, you compile and link an OCI or OCCI program in the same way that you compile and link a nondatabase application. There is no need for a separate preprocessing or precompilation step.
                        </p>
                        <div class="figure" id="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164__i1006860">
                           <p class="titleinfigure">Figure 20-1 The OCI or OCCI Development Process</p><img src="img/adfns111.png" width="365" alt="Description of Figure 20-1 follows" title="Description of Figure 20-1 follows" longdesc="img_text/adfns111.html"><br><a href="img_text/adfns111.html">Description of "Figure 20-1 The OCI or OCCI Development Process"</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnote" id="GUID-8AC1A6DA-F3D0-423A-877A-566F75973164__GUID-30ACE853-74C8-429E-A2A5-165DB2EAC510">
                           <p class="notep1">Note:</p>
                           <p>To properly link your OCI and OCCI programs, it might be necessary on some platforms to include other libraries, in addition to the OCI and OCCI libraries. Check your Oracle platform-specific documentation for further information about extra libraries that might be required. </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS99960"></a><div class="props_rev_3"><a id="GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6" name="GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6"></a><h3 id="ADFNS-GUID-2A34235C-DB59-4230-8E00-3E6A8533A4E6" class="sect3">Comparison of Precompilers and OCI</h3>
               <div>
                  <p>Precompiler applications typically contain less code than equivalent OCI applications, which can help productivity.</p>
                  <p>Some situations require detailed control of the database and are suited for OCI applications (either pure OCI or a precompiler application with embedded OCI calls):</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>OCI provides more detailed control over multiplexing and migrating sessions.</p>
                     </li>
                     <li>
                        <p>OCI provides dynamic bind and define using callbacks that can be used for any arbitrary structure, including lists.</p>
                     </li>
                     <li>
                        <p>OCI has many calls to handle metadata.</p>
                     </li>
                     <li>
                        <p>OCI enables asynchronous event notifications to be received by a client application. It provides a means for clients to generate notifications for propagation to other clients.</p>
                     </li>
                     <li>
                        <p>OCI enables DML statements to use arrays to complete as many iterations as possible before returning any error messages.</p>
                     </li>
                     <li>
                        <p>OCI calls for special purposes include Advanced Queuing, globalization support, Data Cartridges, and support of the date and time data types.</p>
                     </li>
                     <li>
                        <p>OCI calls can be embedded in a Pro*C/C++ application.</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADFNS00107"></a><div class="props_rev_3"><a id="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC" name="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC"></a><h3 id="ADFNS-GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC" class="sect3">Overview of Oracle Data Provider for .NET (ODP.NET)</h3>
               <div>
                  <p>Oracle Data Provider for .NET (ODP.NET) is an implementation of a data provider for Oracle Database. </p>
                  <p>ODP.NET uses APIs native to Oracle Database to offer fast and reliable access from any .NET application to database features and data. It also uses and inherits classes and interfaces available in the Microsoft .NET Framework Class Library. </p>
                  <p>For programmers using Oracle Provider for OLE DB, ADO (ActiveX Data Objects) provides an automation layer that exposes an easy programming model. ADO.NET provides a similar programming model, but without the automation layer, for better performance. More importantly, the ADO.NET model enables native providers such as ODP.NET to expose specific features and data types specific to Oracle Database. </p>
                  <div class="infoboxnotealso" id="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC__GUID-806F0CAD-7001-4F41-810B-097E077478DE">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ODPNT-GUID-635BAE6C-7D0B-4CF2-ADD8-8DB531B9C52E" target="_blank"><span><cite>Oracle Data Provider for .NET Developer's Guide for Microsoft Windows</cite></span></a></p>
                  </div>
                  <p>This is a simple C# application that connects to Oracle Database and displays its version number before disconnecting:</p><pre class="oac_no_warn" dir="ltr">using System; 
using Oracle.DataAccess.Client; 

class Example 
{ 
  OracleConnection con; 

  void Connect() 
  { 
    con = new OracleConnection(); 
    con.ConnectionString = "User Id=hr;Password=<span class="italic">password</span>;Data Source=oracle"; 
    con.Open(); 
    Console.WriteLine("Connected to Oracle" + con.ServerVersion); 
  } 

  void Close() 
  { 
    con.Close(); 
    con.Dispose(); 
  } 
  
  static void Main() 
  { 
    Example example = new Example(); 
    example.Connect(); 
    example.Close(); 
  } 
}</pre><div class="infoboxnote" id="GUID-39A2770E-6566-4CBD-9DFB-E6202243ECCC__GUID-BC6648E9-5132-4DD4-A79B-F9E5DB44417B">
                     <p class="notep1">Note:</p>
                     <p>Additional samples are provided in directory <span class="italic"><code class="codeph">ORACLE_BASE</code></span><code class="codeph">\</code><span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\ODP.NET\Samples</code>. 
                     </p>
                  </div>
               </div>
            </div><a id="ADFNS99959"></a><div class="props_rev_3"><a id="GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD" name="GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD"></a><h3 id="ADFNS-GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD" class="sect3">Overview of OraOLEDB</h3>
               <div>
                  <p>Oracle Provider for OLE DB (OraOLEDB) is an OLE DB data provider that offers high performance and efficient access to Oracle data by OLE DB consumers. In general, this developer's guide assumes that you are using OraOLEDB through OLE DB or ADO.</p>
                  <div class="infoboxnotealso" id="GUID-9F17B2D3-6796-4799-9083-A41F97BB24DD__GUID-AA5D004E-C155-4334-A3A9-72FC6680A034">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=OLEDB-GUID-6A223652-A623-4952-A341-62083A0AD587" target="_blank"><span><cite>Oracle Provider for OLE DB Developer's Guide for Microsoft Windows</cite></span></a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='06553.semantic-indexing-documents.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">
      <meta name="description" content="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">
      <title>Semantic Indexing for Documents</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="RDF Knowledge Graph Developer's Guide ">
      <meta property="og:description" content="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="RDF Knowledge Graph Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-rdf-knowledge-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T10:56:26-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94798-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="simple-knowledge-organizaiton-system-skos.html" title="Previous" type="text/html">
      <link rel="next" href="fine-grained-access-control-rdf.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph RDF Knowledge Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="RDFRM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="simple-knowledge-organizaiton-system-skos.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="fine-grained-access-control-rdf.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">RDF Knowledge Graph Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-concept-usage.html" property="item" typeof="WebPage"><span property="name"> Conceptual and Usage Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Semantic Indexing for Documents </li>
            </ol>
            <a id="GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" name="GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3"></a><a id="RDFRM99921"></a>
            
            <h2 id="RDFRM-GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" class="sect2"><span class="enumeration_chapter">4 </span>Semantic Indexing for Documents 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.</p>
               <p>Semantic indexing for documents introduces an index type that can make use of information extractors and annotators to semantically index documents stored in relational tables. Documents indexed semantically can be searched using SEM_CONTAINS operator within a standard SQL query. The search criteria for these documents are expressed using SPARQL query patterns that operate on the information extracted from the documents, as in the following example.</p><pre class="oac_no_warn" dir="ltr">SELECT docId
FROM   Newsfeed
WHERE  SEM_CONTAINS (article, 
     ' { ?org    rdf:type            typ:Organization  . 
         ?org    pred:hasCategory    cat:BusinessFinance } ', ..) = 1
</pre><p>The key components that facilitate Semantic Indexing for documents in an Oracle Database include:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Extensible information extractor framework, which allows third-party information extractors to be plugged into the database</p>
                  </li>
                  <li>
                     <p>SEM_CONTAINS operator to identify documents of interest, based on their extracted information, using standard SQL queries</p>
                  </li>
                  <li>
                     <p>SEM_CONTAINS_SELECT ancillary operator to return relevant information about the documents identified using SEM_CONTAINS operator</p>
                  </li>
                  <li>
                     <p>SemContext index type to interact with the information extractor and manage the information extracted from a document set in an index structure and to facilitate semantically meaningful searches on the documents</p>
                  </li>
               </ul>
               <p>The application program interface (API) for managing extractor policies and semantic indexes created for documents is provided in the SEM_RDFCTX PL/SQL package. <a href="SEM_RDFCTX-reference.html#GUID-6C654E4C-4D2F-4EF6-B085-EDD1B7BC2F27" title="The SEM_RDFCTX package contains subprograms (functions and procedures) to manage extractor policies and semantic indexes created for documents."> SEM_RDFCTX Package Subprograms</a> provides the reference information about the subprograms in SEM_RDFCTX package.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-60317EBF-89EB-4581-9327-58A08A215F8D">Information Extractors for Semantically Indexing Documents</a><br><span class="bold">Information extractors</span> process unstructured documents and extract meaningful information from them, often using natural-language processing engines with the aid of ontologies.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551">Extractor Policies</a><br>An <span class="bold">extractor policy</span> is a named dictionary entity that determines the characteristics of a semantic index that is created using the policy.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-65ED585E-8107-4960-997E-ED180627B4C8">Semantically Indexing Documents</a><br>Textual documents stored in a CLOB or VARCHAR2 column of a relational table can be indexed using the MDSYS.SEMCONTEXT index type, to facilitate semantically meaningful searches.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-196189F0-AA72-4900-9D9A-4AD17F036133">SEM_CONTAINS and Ancillary Operators</a><br>You can use the SEM_CONTAINS operator in a standard SQL statement to search for documents or document references that are stored in relational tables.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD">Searching for Documents Using SPARQL Query Patterns</a><br>Documents that are semantically indexed (that is, indexed using the mdsys.SemContext index type) can be searched using SEM_CONTAINS operator within a standard SQL query.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7">Bindings for SPARQL Variables in Matching Subgraphs in a Document (SEM_CONTAINS_SELECT Ancillary Operator)</a><br>You can use the SEM_CONTAINS_SELECT ancillary operator to return additional information about each document matched using the SEM_CONTAINS operator.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833">Improving the Quality of Document Search Operations</a><br>The quality of a document search operation depends on the quality of the information produced by the extractor used to index the documents. If the information extracted is incomplete, you may want to add some annotations to a document.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98">Indexing External Documents</a><br>You can use semantic indexing on documents that are stored in a file system or on the network. In such cases, you store the references to external documents in a table column, and you create a semantic index on the column using an appropriate extractor policy.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-5A73F616-66EF-4887-B123-9DB538E1C269">Configuring the Calais Extractor type</a><br>The CALAIS_EXTRACTOR type, which is a subtype of the RDFCTX_WS_EXTRACTOR type, enables you to access a Web service end point anywhere on the network, including the one that is publicly accessible (<code class="codeph">OpenCalais.com</code>).
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4">Working with General Architecture for Text Engineering (GATE)</a><br>General Architecture for Text Engineering (GATE) is an open source natural language processor and information extractor.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992">Creating a New Extractor Type</a><br>You can create a new extractor type by extending the RDFCTX_EXTRACTOR or RDFCTX_WS_EXTRACTOR extractor type.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6">Creating a Local Semantic Index on a Range-Partitioned Table</a><br>A local index can be created on a VARCHAR2 or CLOB column of a range-partitioned table.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A">Altering a Semantic Index</a><br>You can use the ALTER INDEX statement with a semantic index.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A">Passing Extractor-Specific Parameters in CREATE INDEX and ALTER INDEX</a><br>The CREATE INDEX and ALTER INDEX statements allow the passing of parameters needed by extractors.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234">Performing Document-Centric Inference</a><br>Document-centric inference refers to the ability to infer from each document individually.
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C">Metadata Views for Semantic Indexing</a><br>This section describes views that contain metadata about semantic indexing
                  </li>
                  <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03">Default Style Sheet for GATE Extractor Output</a><br>This section lists the default XML style sheet that the <code class="codeph">mdsys.gatenlp_extractor</code> implementation uses to convert the annotation set (encoded in XML) into RDF/XML.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part-concept-usage.html#GUID-FC153F2D-D51D-4498-A6E1-30B80D540FD6">Conceptual and Usage Information</a></p>
                  </div>
               </div>
            </div>
            <a id="RDFRM99923"></a><a id="RDFRM99922"></a><div class="props_rev_3"><a id="GUID-60317EBF-89EB-4581-9327-58A08A215F8D" name="GUID-60317EBF-89EB-4581-9327-58A08A215F8D"></a><h3 id="RDFRM-GUID-60317EBF-89EB-4581-9327-58A08A215F8D" class="sect3"><span class="enumeration_section">4.1 </span>Information Extractors for Semantically Indexing Documents
               </h3>
               <div>
                  <p><span class="bold">Information extractors</span> process unstructured documents and extract meaningful information from them, often using natural-language processing engines with the aid of ontologies.
                  </p>
                  <p>The quality and the completeness of information extracted from a document vary from one extractor to another. Some extractors simply identify the entities (such as names of persons, organizations, and geographic locations from a document), while the others attempt to identify the relationships among the identified entities and additional description for those entities. You can search for a specific document from a large set when the information extracted from the documents is maintained as a semantic index.</p>
                  <p>You can use an information extractor to create a semantic index on the documents stored in a column of a relational table. An extensible framework allows any third-party information extractor that is accessible from the database to be plugged into the database. An object type created for an extractor encapsulates the extraction logic, and has methods to configure the extractor and receive information extracted from a given document in RDF/XML format.</p>
                  <p>An abstract type MDSYS.RDFCTX_EXTRACTOR defines the common interfaces to all information extractors. An implementation of this abstract type interacts with a specific information extractor to produce RDF/XML for a given document. An implementation for this type can access a third-party information extractor that either is available as a database application or is installed on the network (accessed using Web service callouts). <a href="semantic-indexing-documents.html#GUID-60317EBF-89EB-4581-9327-58A08A215F8D__BEIBDDEG">Example 4-1</a> shows the definition of the RDFCTX_EXTRACTOR abstract type.
                  </p>
                  <div class="example" id="GUID-60317EBF-89EB-4581-9327-58A08A215F8D__BEIBDDEG">
                     <p class="titleinexample">Example 4-1 RDFCTX_EXTRACTOR Abstract Type Definition</p><pre class="oac_no_warn" dir="ltr">create or replace type rdfctx_extractor authid current_user as object (
  extr_type        VARCHAR2(32),
  member function  getDescription return VARCHAR2,
  member function  rdfReturnType return VARCHAR2,
  member function  getContext(attribute VARCHAR2) return VARCHAR2,
  member procedure startDriver,
  member function  extractRDF(document CLOB,
                              docId    VARCHAR2) return CLOB,
  member function  extractRdf(document CLOB,
                              docId    VARCHAR2,
                              params   VARCHAR2,
                              options  VARCHAR2 default NULL) return CLOB
  member function  batchExtractRdf(docCursor        SYS_REFCURSOR,
                              extracted_info_table  VARCHAR2,
                              params                VARCHAR2,
                              partition_name        VARCHAR2 default NULL,
                              docId                 VARCHAR2 default NULL,
                              preferences           SYS.XMLType default NULL,
                              options               VARCHAR2 default NULL)  
                              return CLOB,
  member procedure closeDriver
) not instantiable not final
/
</pre><p>A specific implementation of the RDFCTX_EXTRACTOR type sets an identifier for the extractor type in the <code class="codeph">extr_type</code> attribute, and it returns a short description for the extractor type using <code class="codeph">getDescription</code> method. All implementations of this abstract type return the extracted information as RDF triples. In the current release, the RDF triples are expected to be serialized using RDF/XML format, and therefore the <code class="codeph">rdfReturnType</code> method should return '<code class="codeph">RDF/XML</code>'.
                     </p>
                     <p>An extractor type implementation uses the <code class="codeph">extractRDF</code> method to encapsulate the extraction logic, possibly by invoking external information extractor using proprietary interfaces, and returns the extracted information in RDF/XML format. When a third-party extractor uses some proprietary XML Schema to capture the extracted information, an XML style sheet can be used to generate an equivalent RDF/XML. The <code class="codeph">startDriver</code> and <code class="codeph">closeDriver</code> methods can perform any housekeeping operations pertaining to the information extractor. The optional <code class="codeph">params</code> parameter allows the extractor to obtain additional information about the type of extraction needed (for example, the desired quality of extraction).
                     </p>
                     <p>Optionally, an extractor type implementation may support a batch interface by providing an implementation of the <code class="codeph">batchExtractRdf</code> member function. This function accepts a cursor through the input parameter <code class="codeph">docCursor</code> and typically uses that cursor to retrieve each document, extract information from the document, and then insert the extracted information into (the specified partition identified by the <code class="codeph">partition_name</code> partition of the <code class="codeph">extracted_info_table</code> table. The <code class="codeph">preferences</code> parameter is used to obtain the preferences value associated with the policy (as described in <a href="semantic-indexing-documents.html#GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98" title="You can use semantic indexing on documents that are stored in a file system or on the network. In such cases, you store the references to external documents in a table column, and you create a semantic index on the column using an appropriate extractor policy.">Indexing External Documents</a> and in the <a href="SEM_RDFCTX-reference.html#GUID-B1F06381-1709-4335-AE8F-D937A76936A8">SEM_RDFCTX.CREATE_POLICY</a> reference section).
                     </p>
                     <p>The <code class="codeph">getContext</code> member function accepts an attribute name and returns the value for that attribute. Currently this function is used only for extractors supporting the batch interface. The attribute names and corresponding possible return values are the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For the <code class="codeph">BATCH_SUPPORT</code> attribute, the return values are '<code class="codeph">YES</code>' or '<code class="codeph">NO</code>' depending on whether the extractor supports the batch interface.
                           </p>
                        </li>
                        <li>
                           <p>For the <code class="codeph">DBUSER</code> attribute, the return value is the name of a database user that will connect to the database to retrieve rows from the cursor (identified by the <code class="codeph">docCursor</code> parameter) and that will write to the table <code class="codeph">extracted_info_table</code>. 
                           </p>
                        </li>
                     </ul>
                     <p>This information is used for granting appropriate privileges to the table being indexed and the table <code class="codeph">extracted_info_table</code>.
                     </p>
                     <p>The <code class="codeph">startDriver</code> and <code class="codeph">closeDriver</code> methods can perform any housekeeping operations pertaining to the information extractor.
                     </p>
                     <p>An extractor type for the General Architecture for Text Engineering (GATE) engine is defined as a subtype of the RDFCTX_EXTRACTOR type. The implementation of this extractor type sends the documents to a GATE engine over a TCP connection, receives annotations extracted by the engine in XML format, and converts this proprietary XML document to an RDF/XML document. For more information on configuring a GATE engine to work with Oracle Database, see <a href="semantic-indexing-documents.html#GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" title="General Architecture for Text Engineering (GATE) is an open source natural language processor and information extractor.">Working with General Architecture for Text Engineering (GATE)</a>. For an example of creating a new information extractor, see <a href="semantic-indexing-documents.html#GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992" title="You can create a new extractor type by extending the RDFCTX_EXTRACTOR or RDFCTX_WS_EXTRACTOR extractor type.">Creating a New Extractor Type</a>.
                     </p>
                     <p>Information extractors that are deployed as Web services can be invoked from the database by extending the RDFCTX_WS_EXTRACTOR type, which is a subtype of the RDFCTX_EXTRACTOR type. The RDFCTX_WS_EXTRACTOR type encapsulates the Web service callouts in the <code class="codeph">extractRDF</code> method; specific implementations for network-based extractors can reuse this implementation by setting relevant attribute values in the type constructor.
                     </p>
                     <p>Thomson Reuters Calais is an example of a network-based information extractor that can be accessed using web-service callouts. The CALAIS_EXTRACTOR type, which is a subtype of the RDFCTX_WS_EXTRACTOR type, encapsulates the Calais extraction logic, and it can be used to semantically index the documents. The CALAIS_EXTRACTOR type must be configured for the database instance before it can be used to create semantic indexes, as explained in <a href="semantic-indexing-documents.html#GUID-5A73F616-66EF-4887-B123-9DB538E1C269" title="The CALAIS_EXTRACTOR type, which is a subtype of the RDFCTX_WS_EXTRACTOR type, enables you to access a Web service end point anywhere on the network, including the one that is publicly accessible (OpenCalais.com).">Configuring the Calais Extractor type</a>.
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99924"></a><div class="props_rev_3"><a id="GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551" name="GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551"></a><h3 id="RDFRM-GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551" class="sect3"><span class="enumeration_section">4.2 </span>Extractor Policies
               </h3>
               <div>
                  <p>An <span class="bold">extractor policy</span> is a named dictionary entity that determines the characteristics of a semantic index that is created using the policy.
                  </p>
                  <p>Each extractor policy refers, directly or indirectly, to an instance of an extractor type. An extractor policy with a direct reference to an extractor type instance can be used to compose other extractor policies that include additional RDF models for ontologies.</p>
                  <p>The following example creates a basic extractor policy created using the GATE extractor type:</p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.create_policy (policy_name =&gt; 'SEM_EXTR',
                            extractor   =&gt; mdsys.gatenlp_extractor());
end;
/
</pre><p>The following example creates a dependent extractor policy that combines the metadata extracted by the policy in the preceding example with a user-defined RDF model named <code class="codeph">geo_ontology</code>:
                  </p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.create_policy (policy_name =&gt; 'SEM_EXTR_PLUS_GEOONT',
                            base_policy =&gt; 'SEM_EXTR',
                            user_models =&gt; SEM_MODELS ('geo_ontology'));
end;
/
</pre><p>You can use an extractor policy to create one or more semantic indexes on columns that store unstructured documents, as explained in <a href="semantic-indexing-documents.html#GUID-65ED585E-8107-4960-997E-ED180627B4C8" title="Textual documents stored in a CLOB or VARCHAR2 column of a relational table can be indexed using the MDSYS.SEMCONTEXT index type, to facilitate semantically meaningful searches.">Semantically Indexing Documents</a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99925"></a><div class="props_rev_3"><a id="GUID-65ED585E-8107-4960-997E-ED180627B4C8" name="GUID-65ED585E-8107-4960-997E-ED180627B4C8"></a><h3 id="RDFRM-GUID-65ED585E-8107-4960-997E-ED180627B4C8" class="sect3"><span class="enumeration_section">4.3 </span>Semantically Indexing Documents
               </h3>
               <div>
                  <p>Textual documents stored in a CLOB or VARCHAR2 column of a relational table can be indexed using the MDSYS.SEMCONTEXT index type, to facilitate semantically meaningful searches.</p>
                  <p>The extractor policy specified at index creation determines the information extractor used to semantically index the documents. The extracted information, captured as a set of RDF triples for each document, is managed in the semantic data store. Each instance of the semantic index is associated with a system-generated RDF model, which maintains the RDF triples extracted from the corresponding documents.</p>
                  <p>The following example creates a semantic index named <code class="codeph">ArticleIndex</code> on the textual documents in the ARTICLE column of the NEWSFEED table, using the extractor policy named <code class="codeph">SEM_EXTR</code>:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX ArticleIndex on Newsfeed (article)
   INDEXTYPE IS mdsys.SemContext PARAMETERS ('SEM_EXTR');
</pre><p>The RDF model created for an index is managed internally and it is not associated with an application table. The triples stored in such model are automatically maintained for any modifications (such as update, insert, or delete) made to the documents stored in the table column. Although a single RDF model is used to index all documents stored in a table column, the triples stored in the model maintain references to the documents from which they are extracted; therefore, all the triples extracted from a specific document form an individual graph within the RDF model. The documents that are semantically indexed can then be searched using a SPARQL query pattern that operates on the triples extracted from the documents.</p>
                  <p>When creating a semantic index for documents, you can use a basic extractor policy or a dependent policy, which may include one or more user-defined RDF models. When you create an index with a dependent extractor policy, the document search pattern specified using SPARQL could span the triples extracted from the documents as well as those defined in user-defined models.</p>
                  <p>You can create an index using multiple extractor policies, in which case the triples extracted by the corresponding extractors are maintained separately in distinct RDF models. A document search query using one such index can select the specific policy to be used for answering the query. For example, an extractor policy named <code class="codeph">CITY_EXTR</code> can be created to extract the names of the cities from a given document, and this extractor policy can be used in combination with the SEM_EXTR policy to create a semantic index, as in the following example:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX ArticleIndex on Newsfeed (article)
   INDEXTYPE IS mdsys.SemContext PARAMETERS (<span class="bold">'SEM_EXTR CITY_EXTR'</span>);
</pre><p>The first extractor policy in the PARAMETERS list is considered to be the default policy if a query does not refer to a specific policy; however, you can change the default extractor policy for a semantic index by using the <a href="SEM_RDFCTX-reference.html#GUID-2EBB554D-B440-4F75-B4D8-30C4490AB9AE">SEM_RDFCTX.SET_DEFAULT_POLICY</a> procedure, as in the following example:
                  </p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.set_default_policy (index_name =&gt; 'ArticleIndex',
                                 policy_name =&gt; 'CITY_EXTR');
end;
/</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM220"></a><div class="props_rev_3"><a id="GUID-196189F0-AA72-4900-9D9A-4AD17F036133" name="GUID-196189F0-AA72-4900-9D9A-4AD17F036133"></a><h3 id="RDFRM-GUID-196189F0-AA72-4900-9D9A-4AD17F036133" class="sect3"><span class="enumeration_section">4.4 </span>SEM_CONTAINS and Ancillary Operators
               </h3>
               <div>
                  <p>You can use the SEM_CONTAINS operator in a standard SQL statement to search for documents or document references that are stored in relational tables.</p>
                  <p>This operator has the following syntax:</p><pre class="oac_no_warn" dir="ltr">SEM_CONTAINS(
  column   VARCHAR2 / CLOB,
  sparql   VARCHAR2,
  policy   VARCHAR2,
  aliases  SEM_ALIASES,
  index_status  NUMBER,
  ancoper  NUMBER
 ) RETURN NUMBER;
</pre><p>The <code class="codeph">column</code> and <code class="codeph">sparql</code> attributes attribute are required. The other attributes are optional (that is, each can be a null value).
                  </p>
                  <p>The <code class="codeph">column</code> attribute identifies a VARCHAR2 or CLOB column in a relational table that stores the documents or references to documents that are semantically indexed. An index of type MDSYS.SEMCONTEXT must be defined in this column for the SEM_CONTAINS operator to use.
                  </p>
                  <p>The <code class="codeph">sparql</code> attribute is a string literal that defines the document search criteria, expressed in SPARQL format.
                  </p>
                  <p>The optional <code class="codeph">policy</code> attribute specifies the name of an extractor policy, usually to override the default policy. A semantic document index can have one or more extractor policies specified at index creation, and one of these policies is the default, which is used if the <code class="codeph">policy</code> attribute is null in the call to SEM_CONTAINS.
                  </p>
                  <p><a id="d40605e689" class="indexterm-anchor"></a><a id="d40605e691" class="indexterm-anchor"></a><a id="d40605e693" class="indexterm-anchor"></a>The optional <code class="codeph">aliases</code> attribute identifies one or more namespaces, including a default namespace, to be used for expansion of qualified names in the query pattern. Its data type is SEM_ALIASES, which has the following definition: <code class="codeph">TABLE OF SEM_ALIAS</code>, where each SEM_ALIAS element identifies a namespace ID and namespace value. The SEM_ALIAS data type has the following definition: <code class="codeph">(namespace_id VARCHAR2(30), namespace_val VARCHAR2(4000))</code></p>
                  <p>The optional <code class="codeph">index_status</code> attribute is relevant only when a dependent policy involving one or more entailments is being used for the SEM_CONTAINS invocation. The <code class="codeph">index_status</code> value identifies the minimum required validity status of the entailments. The possible values are <code class="codeph">0</code> (for VALID, the default), <code class="codeph">1</code> (for INCOMPLETE), and <code class="codeph">2</code> (for INVALID).
                  </p>
                  <p><a id="d40605e724" class="indexterm-anchor"></a>The optional <code class="codeph">ancoper</code> attribute specifies a number as the binding to be used when the SEM_CONTAINS_SELECT ancillary operator is used with this operator in a query. The number specified for the <code class="codeph">ancoper</code> attribute should be the same as number specified for the <code class="codeph">operbind</code> attribute in the SEM_CONTAINS_SELECT ancillary operator.
                  </p>
                  <p>The SEM_CONTAINS operator returns 1 for each document instance matching the specified search criteria, and returns 0 for all other cases.</p>
                  <p>For more information about using the SEM_CONTAINS operator, including an example, see <a href="semantic-indexing-documents.html#GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD" title="Documents that are semantically indexed (that is, indexed using the mdsys.SemContext index type) can be searched using SEM_CONTAINS operator within a standard SQL query.">Searching for Documents Using SPARQL Query Patterns</a>.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720">SEM_CONTAINS_SELECT Ancillary Operator</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C">SEM_CONTAINS_COUNT Ancillary Operator</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM221"></a><div class="props_rev_3"><a id="GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720" name="GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720"></a><h4 id="RDFRM-GUID-492C7896-76AC-489C-B9FF-EE6FFE83A720" class="sect4"><span class="enumeration_section">4.4.1 </span>SEM_CONTAINS_SELECT Ancillary Operator
                  </h4>
                  <div>
                     <p>You can use the SEM_CONTAINS_SELECT ancillary operator to return additional information about each document that matches some search criteria. This ancillary operator has a single numerical attribute (<code class="codeph">operbind</code>) that associates an instance of the SEM_CONTAINS_SELECT ancillary operator with a SEM_CONTAINS operator by using the same value for the binding. This ancillary operator returns an object of type CLOB that contains the additional information from the matching document, formatted in SPARQL Query Results XML format.
                     </p>
                     <p>The SEM_CONTAINS_SELECT ancillary operator has the following syntax:</p><pre class="oac_no_warn" dir="ltr">SEM_CONTAINS_SELECT(
  operbind  NUMBER
 ) RETURN CLOB;
</pre><p>For more information about using the SEM_CONTAINS_SELECT ancillary operator, including examples, see <a href="semantic-indexing-documents.html#GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7" title="You can use the SEM_CONTAINS_SELECT ancillary operator to return additional information about each document matched using the SEM_CONTAINS operator.">Bindings for SPARQL Variables in Matching Subgraphs in a Document (SEM_CONTAINS_SELECT Ancillary Operator)</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-196189F0-AA72-4900-9D9A-4AD17F036133" title="You can use the SEM_CONTAINS operator in a standard SQL statement to search for documents or document references that are stored in relational tables.">SEM_CONTAINS and Ancillary Operators</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM222"></a><div class="props_rev_3"><a id="GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C" name="GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C"></a><h4 id="RDFRM-GUID-052122C5-1DC1-405D-A8F8-8E7A8E7E0F6C" class="sect4"><span class="enumeration_section">4.4.2 </span>SEM_CONTAINS_COUNT Ancillary Operator
                  </h4>
                  <div>
                     <p>You can use the SEM_CONTAINS_COUNT ancillary operator for a SEM_CONTAINS operator invocation. For each matched document, it returns the count of matching subgraphs for the SPARQL graph pattern specified in the SEM_CONTAINS invocation.</p>
                     <p>The SEM_CONTAINS_COUNT ancillary operator has the following syntax:</p><pre class="oac_no_warn" dir="ltr">SEM_CONTAINS_COUNT(
  operbind  NUMBER
 ) RETURN NUMBER;
</pre><p>The following example excerpt shows the use of the SEM_CONTAINS_COUNT ancillary operator to return the count of matching subgraphs for each matched document:</p><pre class="oac_no_warn" dir="ltr">SELECT docId, SEM_CONTAINS_COUNT(1) as matching_subgraph_count
FROM   Newsfeed
WHERE  SEM_CONTAINS (article, 
  '{ ?org   rdf:type          class:Organization  . 
     ?org   pred:hasCategory  cat:BusinessFinance }', .., 
   1)= 1;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-196189F0-AA72-4900-9D9A-4AD17F036133" title="You can use the SEM_CONTAINS operator in a standard SQL statement to search for documents or document references that are stored in relational tables.">SEM_CONTAINS and Ancillary Operators</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM99926"></a><div class="props_rev_3"><a id="GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD" name="GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD"></a><h3 id="RDFRM-GUID-23F6471D-60C8-4A81-BAC4-D01EBD4820BD" class="sect3"><span class="enumeration_section">4.5 </span>Searching for Documents Using SPARQL Query Patterns
               </h3>
               <div>
                  <p>Documents that are semantically indexed (that is, indexed using the mdsys.SemContext index type) can be searched using SEM_CONTAINS operator within a standard SQL query.</p>
                  <p>In the query, the SEM_CONTAINS operator must have at least two parameters, the first specifying the column in which the documents are stored and the second specifying the document search criteria expressed as a SPARQL query pattern, as in the following example:</p><pre class="oac_no_warn" dir="ltr">SELECT docId FROM Newsfeed
WHERE  SEM_CONTAINS (article, 
  '{ ?org  rdf:type  &lt;http://www.example.com/classes/Organization&gt;  . 
     ?org  &lt;http://example.com/pred/hasCategory&gt;  
             &lt;http://www.example.com/category/BusinessFinance&gt; }'
           )= 1;
</pre><p>The SPARQL query pattern specified with the SEM_CONTAINS operator is matched against the individual graphs corresponding to each document, and a document is considered to match a search criterion if the triples from the corresponding graph satisfy the query pattern. In the preceding example, the SPARQL query pattern identifies the individual graphs (thus, the documents) that refer to an <code class="codeph">Organization</code> that belong to <code class="codeph">BusinessFinance</code> category. The SQL query returns the rows corresponding to the matching documents in its result set. The preceding example assumes that the URIs used in the query are generated by the underlying extractor, and that you (the user searching for documents) are aware of the properties and terms that are generated by the extractor in use.
                  </p>
                  <p>When you create an index using a dependent extractor policy that includes one or more user-defined RDF models, the triples asserted in the user models are considered to be common to all the documents. Document searches involving such policies test the search criteria against the triples in individual graphs corresponding to the documents, combined with the triples in the user models. For example, the following query identifies all articles referring to organizations in the state of New Hampshire, using the geographical ontology (<code class="codeph">geo_ontology</code> RDF Model from a preceding example) that maps cities to states:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT docId FROM   Newsfeed
WHERE  SEM_CONTAINS (article, 
        '{ ?org     rdf:type          class:Organization  . 
           ?org     pred:hasLocation  <span class="bold">?city</span> . 
           <span class="bold">?city    geo:hasState      state:NewHampshire</span> }', 
        'SEM_EXTR_PLUS_GEOONT', 
               sem_aliases(                              
                  sem_alias('class', 'http://www.myorg.com/classes/'),
                  sem_alias('pred', 'http://www.myorg.com/pred/'),
                  sem_alias('geo', 'http://geoont.org/rel/'),
                  sem_alias('state', 'http://geoont.org/state/'))) = 1;
</pre><p>The preceding query, with a reference to the extractor policy SEM_EXTR_PLUS_GEOONT (created in an example in <a href="semantic-indexing-documents.html#GUID-A06511AE-88AF-4341-8C1D-A4A5DAB19551" title="An extractor policy is a named dictionary entity that determines the characteristics of a semantic index that is created using the policy.">Extractor Policies</a>), combines the triples extracted from the indexed documents and the triples in the user model to find matching documents. In this example, the name of the extractor policy is optional if the corresponding index is created with just this policy or if this is the default extractor policy for the index. When the query pattern uses some qualified names, an optional parameter to the SEM_CONTAINS operator can specify the namespaces to be used for expanding the qualified names.
                  </p>
                  <p>SPARQL-based document searches can make use of the SPARQL syntax that is supported through SEM_MATCH queries.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99927"></a><div class="props_rev_3"><a id="GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7" name="GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7"></a><h3 id="RDFRM-GUID-316F984A-2C96-48B5-8C47-3EA0B10A8CE7" class="sect3"><span class="enumeration_section">4.6 </span>Bindings for SPARQL Variables in Matching Subgraphs in a Document (SEM_CONTAINS_SELECT Ancillary Operator)
               </h3>
               <div>
                  <p>You can use the SEM_CONTAINS_SELECT ancillary operator to return additional information about each document matched using the SEM_CONTAINS operator.</p>
                  <p>Specifically, the bindings for the variables used in SPARQL-based document search criteria can be returned using this operator. This operator is ancillary to the SEM_CONTAINS operator, and a literal number is used as an argument to this operator to associate it with a specific instance of SEM_CONTAINS operator, as in the following example:</p><pre class="oac_no_warn" dir="ltr">SELECT docId, <span class="bold">SEM_CONTAINS_SELECT(1)</span> as result
FROM   Newsfeed
WHERE  SEM_CONTAINS (article, 
  '{ ?org   rdf:type          class:Organization  . 
     ?org   pred:hasCategory  cat:BusinessFinance }', .., 
   <span class="bold">1</span>)= 1;
</pre><p>The SEM_CONTAINS_SELECT ancillary operator returns the bindings for the variables in SPARQL Query Results XML format, as CLOB data. The variables may be bound to multiple data instances from a single document, in which case all bindings for the variables are returned. The following example is an excerpt from the output of the preceding query: a value returned by the SEM_CONTAINS_SELECT ancillary operator for a document matching the specified search criteria.</p><pre class="oac_no_warn" dir="ltr">&lt;results&gt;
  &lt;result&gt; 
     &lt;binding name="ORG"&gt;
        &lt;uri&gt;http://newscorp.com/Org/AcmeCorp&lt;/uri&gt;
     &lt;/binding&gt;
  &lt;/result&gt; 
  &lt;result&gt;
     &lt;binding name="ORG"&gt;
       &lt;uri&gt;http://newscorp.com/Org/ABCCorp&lt;/uri&gt;
     &lt;/binding&gt;
  &lt;/result&gt;
&lt;/results&gt;
</pre><p>You can rank the search results by creating an instance of XMLType for the CLOB value returned by the SEM_CONTAINS_SELECT ancillary operator and applying an XPath expression to sort the results on some attribute values.</p>
                  <p>By default, the SEM_CONTAINS_SELECT ancillary operator returns bindings for all variables used in the SPARQL-based document search criteria. However, when the values for only a subset of the variables are relevant for a search, the SPARQL pattern can include a SELECT clause with space-separated list of variables for which the values should be returned, as in the following example:</p><pre class="oac_no_warn" dir="ltr">SELECT docId, SEM_CONTAINS_SELECT(1) as result
FROM   Newsfeed
WHERE  SEM_CONTAINS (article, 
        '<span class="bold">SELECT ?org  ?city</span> 
         <span class="bold">WHERE</span> { ?org     rdf:type          class:Organization  . 
                 ?org     pred:hasLocation  ?city . 
                 ?city    geo:hasState      state:NewHampshire }', .., 
         1) = 1;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99928"></a><div class="props_rev_3"><a id="GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833" name="GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833"></a><h3 id="RDFRM-GUID-3DE7ED65-BE78-421D-97D7-D64A2866A833" class="sect3"><span class="enumeration_section">4.7 </span>Improving the Quality of Document Search Operations
               </h3>
               <div>
                  <p>The quality of a document search operation depends on the quality of the information produced by the extractor used to index the documents. If the information extracted is incomplete, you may want to add some annotations to a document.</p>
                  <p>You can use the <a href="SEM_RDFCTX-reference.html#GUID-58C106B6-67E1-451B-ABA5-7A1C6B14D92E">SEM_RDFCTX.MAINTAIN_TRIPLES</a> procedure to add annotations, in the form of RDF triples, to specific documents in order to improve the quality of search, as shown in the following example:
                  </p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.maintain_triples(
     index_name      =&gt; 'ArticleIndex',
     where_clause    =&gt; 'docid in (1,15,20)',  
     rdfxml_content =&gt; sys.xmltype(
      '&lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
                xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
                xmlns:pred="http://example.com/pred/"&gt;
       &lt;rdf:Description rdf:about=" http://newscorp.com/Org/ExampleCorp"&gt;
         &lt;pred:hasShortName 
               rdf:datatype="http://www.w3.org/2001/XMLSchema#string"&gt;
             Example
         &lt;/pred:hasShortName&gt;
     &lt;/rdf:Description&gt; 
    &lt;/rdf:RDF&gt;'));
end;
/
</pre><p>The index name and the WHERE clause specified in the preceding example identify specific instances of the document to be annotated, and the RDF/XML content passed in is used to add additional triples to the individual graphs corresponding to those documents. This allows domain experts and user communities to improve the quality of search by adding relevant triples to annotate some documents.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99929"></a><div class="props_rev_3"><a id="GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98" name="GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98"></a><h3 id="RDFRM-GUID-665B4669-4771-46BC-AF58-9A5A0B4E3C98" class="sect3"><span class="enumeration_section">4.8 </span>Indexing External Documents
               </h3>
               <div>
                  <p>You can use semantic indexing on documents that are stored in a file system or on the network. In such cases, you store the references to external documents in a table column, and you create a semantic index on the column using an appropriate extractor policy.</p>
                  <p>To index external documents, define an extractor policy with appropriate preferences, using an XML document that is assigned to the <code class="codeph">preferences</code> parameter of the <a href="SEM_RDFCTX-reference.html#GUID-B1F06381-1709-4335-AE8F-D937A76936A8">SEM_RDFCTX.CREATE_POLICY</a> procedure, as in the following example:
                  </p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.create_policy (
       policy_name =&gt; 'SEM_EXTR_FROM_FILE',
       extractor   =&gt; mdsys.gatenlp_extractor()),
       preferences =&gt; sys.xmltype('<span class="bold">&lt;RDFCTXPreferences&gt;</span>
                                     <span class="bold">&lt;Datastore type="FILE"&gt;</span> 
                                        <span class="bold">&lt;Path&gt;EXTFILES_DIR&lt;/Path&gt;</span>
                                     <span class="bold">&lt;/Datastore&gt;</span>
                                   <span class="bold">&lt;/RDFCTXPreferences&gt;</span>')); 
end;
/
</pre><p>The <code class="codeph">&lt;Datastore&gt;</code> element in the preferences document specifies the type of repository used for the documents to be indexed. When the value for the <code class="codeph">type</code> attribute is set to <code class="codeph">FILE</code>, the <code class="codeph">&lt;Path&gt;</code> element identifies a directory object in the database (created using the SQL statement CREATE DIRECTORY). A table column indexed using the specified extractor policy is expected to contain relative paths to individual files within the directory object, as shown in the following example:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE newsfeed (docid       number, 
                       articleLoc  VARCHAR2(100)); 
INSERT INTO into newsfeed (docid, articleLoc) values
                     (1, '<span class="bold">article1.txt</span>'); 
INSERT INTO newsfeed (docid, articleLoc) values
                     (2, '<span class="bold">folder/article2.txt</span>'); 
 
CREATE INDEX ArticleIndex on newsfeed (articleLoc)
   INDEXTYPE IS mdsys.SemContext PARAMETERS ('<span class="bold">SEM_EXTR_FROM_FILE</span>');
</pre><p>To index documents that are accessed using HTTP protocol, create a extractor policy with preferences that set the <code class="codeph">type</code> attribute of the <code class="codeph">&lt;Datastore&gt;</code> element to <code class="codeph">URL</code> and that list one or more hosts in the <code class="codeph">&lt;Path&gt;</code> elements, as shown in the following excerpt:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;RDFCTXPreferences&gt;
   &lt;Datastore <span class="bold">type="URL"</span>&gt; 
       <span class="bold">&lt;Path&gt;http://cnn.com&lt;/Path&gt;</span>
       <span class="bold">&lt;Path&gt;http://abc.com&lt;/Path&gt;</span>
   &lt;/Datastore&gt;
&lt;/RDFCTXPreferences&gt;
</pre><p>The schema in which a semantic index for external documents is created must have the necessary privileges to access the external objects, including access to any proxy server used to access documents outside the firewall, as shown in the following example:</p><pre class="oac_no_warn" dir="ltr">-- Grant read access to the directory object for FILE data store -- 
grant read on directory EXTFILES_DIR to SEMUSR;
 
-- Grant connect access to set of hosts for URL data store -- 
begin
  dbms_network_acl_admin.create_acl (
                acl          =&gt; 'network_docs.xml',
                description  =&gt; 'Normal Access',
                principal    =&gt; 'SEMUSR',
                is_grant     =&gt; TRUE,
                privilege    =&gt; 'connect');
end;
/
 
begin
  dbms_network_acl_admin.assign_acl (
               acl        =&gt; 'network_docs.xml',
               host       =&gt;  'cnn.com',
               lower_port =&gt; 1,
               upper_port =&gt; 10000);
end;
/
</pre><p>External documents that are semantically indexed in the database may be in one of the well-known formats such as Microsoft Word, RTF, and PDF. This takes advantage of the Oracle Text capability to extract plain text version from formatted documents using filters (see the CTX_DOC.POLICY_FILTER procedure, described in <a href="../ccref/CTX_DOC-package.html#CCREF2116" target="_blank"><span class="italic">Oracle Text Reference</span></a>). To semantically index formatted documents, you must specify the name of a CTX policy in the extractor preferences, as shown in the following excerpt:
                  </p><pre class="oac_no_warn" dir="ltr">&lt;RDFCTXPreferences&gt;
   &lt;Datastore type="FILE" <span class="bold">filter="CTX_FILTER_POLICY"</span>&gt; 
       &lt;Path&gt;EXTFILES_DIR&lt;/Path&gt;
   &lt;/Datastore&gt;
&lt;/RDFCTXPreferences&gt;
</pre><p>In the preceding example, the <code class="codeph">CTX_FILTER_POLICY</code> policy, created using the CTX_DDL.CREATE_POLICY procedure, must exist in your schema. The table columns that are semantically indexed using this preferences document can store paths to formatted documents, from which plain text is extracted using the specified CTX policy. The information extractor associated with the extractor policy then processes the plain text further, to extract the semantics in RDF/XML format.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99930"></a><div class="props_rev_3"><a id="GUID-5A73F616-66EF-4887-B123-9DB538E1C269" name="GUID-5A73F616-66EF-4887-B123-9DB538E1C269"></a><h3 id="RDFRM-GUID-5A73F616-66EF-4887-B123-9DB538E1C269" class="sect3"><span class="enumeration_section">4.9 </span>Configuring the Calais Extractor type
               </h3>
               <div>
                  <p>The CALAIS_EXTRACTOR type, which is a subtype of the RDFCTX_WS_EXTRACTOR type, enables you to access a Web service end point anywhere on the network, including the one that is publicly accessible (<code class="codeph">OpenCalais.com</code>).
                  </p>
                  <div class="section">
                     <p>To do so, you must connect with SYSDBA privileges and configure the Calais extractor type with Web service end point, the SOAP action, and the license key by setting corresponding parameters, as shown in the following example:</p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.set_extractor_param (
     param_key   =&gt; 'CALAIS_WS_ENDPOINT',
     param_value =&gt; 'http://api1.opencalais.com/enlighten/calais.asmx',
     param_desc  =&gt; 'Calais web service end-point');
       
  sem_rdfctx.set_extractor_param (
     param_key   =&gt; 'CALAIS_KEY',
     param_value =&gt; '&lt;Calais license key goes here&gt;',
     param_desc  =&gt; 'Calais extractor license key');
 
  sem_rdfctx.set_extractor_param (
     param_key   =&gt; 'CALAIS_WS_SOAPACTION',
     param_value =&gt; 'http://clearforest.com/Enlighten',
     param_desc  =&gt; 'Calais web service SOAP Action');
end;
</pre><p>To enable access to a Web service outside the firewall, you must also set the parameter for the proxy host, as in the following example:</p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.set_extractor_param (
      param_key   =&gt; 'HTTP_PROXY',
      param_value =&gt; 'www-proxy.acme.com',
      param_desc  =&gt; 'Proxy server');
end;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99931"></a><div class="props_rev_3"><a id="GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" name="GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4"></a><h3 id="RDFRM-GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" class="sect3"><span class="enumeration_section">4.10 </span>Working with General Architecture for Text Engineering (GATE)
               </h3>
               <div>
                  <p>General Architecture for Text Engineering (GATE) is an open source natural language processor and information extractor.</p>
                  <p>For details about GATE, see <a href="http://gate.ac.uk" target="_blank"><code class="codeph">http://gate.ac.uk</code></a>.
                  </p>
                  <p>You can use GATE to perform semantic indexing of documents stored in the database. The extractor type <code class="codeph">mdsys.gatenlp_extractor</code> is defined as a subtype of the RDFCTX_EXTRACTOR type. The implementation of this extractor type sends an unstructured document to a GATE engine over a TCP connection, receives corresponding annotations, and converts them into RDF following a user-specified XML style sheet. 
                  </p>
                  <p>The requests for information extraction are handled by a server socket implementation, which instantiates the GATE components and listens to extraction requests at a pre-determined port. The host and the post for the GATE listener are recorded in the database, as shown in the following example, for all instances of the <code class="codeph">mdsys.gatenlp_extractor</code> type to use.
                  </p><pre class="oac_no_warn" dir="ltr">begin 
  sem_rdfctx.set_extractor_param (
     param_key   =&gt; 'GATE_NLP_HOST',
     param_value =&gt; 'gateserver.acme.com',
     param_desc  =&gt; 'Host for GATE NLP Listener ');
       
  sem_rdfctx.set_extractor_param (
     param_key   =&gt; 'GATE_NLP_PORT',
     param_value =&gt; '7687',
     param_desc  =&gt; 'Port for Gate NLP Listener');
end;
</pre><p>The server socket application receives an unstructured document and constructs an annotation set with the desired types of annotations. Each annotation in the set may be customized to include additional features, such as the relevant phrase from the input document and some domain specific features. The resulting annotation set is serialized into XML (using the <code class="codeph">annotationSetToXml</code> method in the <code class="codeph">gate.corpora.DocumentXmlUtils</code> Java package) and returned back to the socket client.
                  </p>
                  <p><a id="d40605e1439" class="indexterm-anchor"></a><a id="d40605e1443" class="indexterm-anchor"></a><a id="d40605e1447" class="indexterm-anchor"></a>A sample Java implementation for the GATE listener is available for download from the code samples and examples page on OTN (see <a href="rdf-semantic-graph-overview.html#GUID-2A9B194C-2540-42C7-A783-4A32ADA6F1F4" title="PL/SQL examples are provided in this topic.">Semantic Data Examples (PL/SQL and Java)</a> for information about this page).
                  </p>
                  <p>The <code class="codeph">mdsys.gatenlp_extractor</code> implementation in the database receives the annotation set encoded in XML, and converts it to RDF/XML using an XML style sheet. You can replace the default style sheet (listed in <a href="semantic-indexing-documents.html#GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03" title="This section lists the default XML style sheet that the mdsys.gatenlp_extractor implementation uses to convert the annotation set (encoded in XML) into RDF/XML.">Default Style Sheet for GATE Extractor Output</a>) used by the <code class="codeph">mdsys.gatenlp_extractor</code> implementation with a custom style sheet when you instantiate the type.
                  </p>
                  <p>The following example creates an extractor policy that uses a custom style sheet to generate RDF from the annotation set produced by the GATE extractor:</p><pre class="oac_no_warn" dir="ltr">begin
  sem_rdfctx.create_policy (policy_name =&gt; 'GATE_EXTR',
                            extractor   =&gt; mdsys.gatenlp_extractor(
      sys.XMLType('&lt;?xml version="1.0"?&gt; 
                 &lt;xsl:stylesheet version="2.0" 
                    xmlns:xsl="http://www.w3.org/1999/XSL/Transform" &gt;
                   ..
                 &lt;/xsl:stylesheet&gt;')));
end;
/</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99932"></a><div class="props_rev_3"><a id="GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992" name="GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992"></a><h3 id="RDFRM-GUID-C37D3C31-0E22-40D6-AC6F-B090AD5C1992" class="sect3"><span class="enumeration_section">4.11 </span>Creating a New Extractor Type
               </h3>
               <div>
                  <p>You can create a new extractor type by extending the RDFCTX_EXTRACTOR or RDFCTX_WS_EXTRACTOR extractor type.</p>
                  <p>The extractor type to be extended must be accessible using Web service calls. The schema in which the new extractor type is created must be granted additional privileges to allow creation of the subtype. For example, if a new extractor type is created in the schema RDFCTXU, you must enter the following commands to grant the UNDER and RDFCTX_ADMIN privileges to that schema:</p><pre class="oac_no_warn" dir="ltr">GRANT under ON mdsys.rdfctx_extractor TO rdfctxu;
GRANT rdfctx_admin TO rdfctxu;
</pre><p>As an example, assume that an information extractor can process an incoming document and return an XML document that contains extracted information. To enable the information extractor to be invoked using a PL/SQL wrapper, you can create the corresponding extractor type implementation, as in the following example:</p><pre class="oac_no_warn" dir="ltr">create or replace type rdfctxu.info_extractor under rdfctx_extractor (
  xsl_trans   sys.XMLtype,
  constructor function info_extractor (
                 xsl_trans  sys.XMLType ) return self as result,
  overriding member function getDescription return VARCHAR2,
  overriding member function rdfReturnType return VARCHAR2,
  overriding member function extractRDF(document CLOB,
                                        docId    VARCHAR2) return CLOB
)
/
 
create or replace type body rdfctxu.info_extractor as 
  constructor function info_extractor (
                 xsl_trans  sys.XMLType ) return self as result is
  begin
    self.extr_type := 'Info Extractor Inc.'; 
    -- XML style sheet to generate RDF/XML from proprietary XML documents
    self.xsl_trans := xsl_trans; 
    return;
  end info_extractor; 
 
  overriding member function getDescription return VARCHAR2 is
  begin
    return 'Extactor by Info Extractor Inc.';
  end getDescription;
 
  overriding member function rdfReturnType return VARCHAR2 is
  begin
    return 'RDF/XML';
  end rdfReturnType;
 
  overriding member function extractRDF(document CLOB,
                                        docId    VARCHAR2) return CLOB is
    ce_xmlt  sys.xmltype;
  begin
    EXECUTE IMMEDIATE 
      'begin :1 = info_extract_xml(doc =&gt; :2); end;'
       USING IN OUT ce_xmlt, IN document;
 
    -- Now pass the ce_xmlt through RDF/XML transformation -- 
    return ce_xmlt.transform(self.xsl_trans).getClobVal();
  end extractRdf;
 
end;
</pre><p>In the preceding example:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The implementation for the created <code class="codeph">info_extractor</code> extractor type relies on the XML style sheet, set in the constructor, to generate RDF/XML from the proprietary XML schema used by the underlying information extractor.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">extractRDF</code> function assumes that the <code class="codeph">info_extract_xml</code> function contacts the desired information extractor and returns an XML document with the information extracted from the document that was passed in.
                        </p>
                     </li>
                     <li>
                        <p>The XML style sheet is applied on the XML document to generate equivalent RDF/XML, which is returned by the <code class="codeph">extractRDF</code> function.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM223"></a><div class="props_rev_3"><a id="GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6" name="GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6"></a><h3 id="RDFRM-GUID-8E3A0C41-6CF5-4A6A-9C89-02DBC2920CD6" class="sect3"><span class="enumeration_section">4.12 </span>Creating a Local Semantic Index on a Range-Partitioned Table
               </h3>
               <div>
                  <p>A local index can be created on a VARCHAR2 or CLOB column of a range-partitioned table.</p>
                  <p>To do so, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX <span class="italic">&lt;index-name&gt;</span> … LOCAL;
</pre><p>The following example creates a range-partitioned table and a local semantic index on that table:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE part_newsfeed (
  docid number, article CLOB, cdate DATE) 
partition by range (cdate)
(partition p1 values less than (to_date('01-Jan-2001')),
 partition p2 values less than (to_date('01-Jan-2004')),
 partition p3 values less than (to_date('01-Jan-2008')),
 partition p4 values less than (to_date('01-Jan-2012'))
);
 
CREATE INDEX ArticleLocalIndex on part_newsfeed (article)
   INDEXTYPE IS mdsys.SemContext PARAMETERS ('SEM_EXTR')
LOCAL;
</pre><p>Note that every partition of the local semantic index will have content generated for the same set of policies. When you use the ALTER INDEX statement on a local index to add or drop policies associated with a semantic index partition, you should try to keep the same set of policies associated with each partition. You can achieve this result by using ALTER INDEX statements in a loop over the set of partitions. (For more information about altering semantic indexes, see <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="You can use the ALTER INDEX statement with a semantic index.">Altering a Semantic Index</a>,)
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM224"></a><div class="props_rev_3"><a id="GUID-78F0B53C-3CE6-4700-844B-44F53119583A" name="GUID-78F0B53C-3CE6-4700-844B-44F53119583A"></a><h3 id="RDFRM-GUID-78F0B53C-3CE6-4700-844B-44F53119583A" class="sect3"><span class="enumeration_section">4.13 </span>Altering a Semantic Index
               </h3>
               <div>
                  <p>You can use the ALTER INDEX statement with a semantic index.</p>
                  <p>For a local semantic index, the ALTER INDEX statement applies to a specified partition. The general syntax of the ALTER INDEX command for a semantic index is as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX <span class="italic">&lt;index-name&gt;</span> REBUILD [PARTITION <span class="italic">&lt;index-partition-name&gt;</span>]
  [PARAMETERS ('-<span class="italic">&lt;action_for_policy&gt;</span> <span class="italic">&lt;policy-name&gt;</span>')];</pre></div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-CCA874D0-B21B-45CB-AF7C-688755361024">Rebuilding Content for All Existing Policies in a Semantic Index</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427">Rebuilding to Add Content for a New Policy to a Semantic Index</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0">Rebuilding Content for an Existing Policy from a Semantic Index</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37">Rebuilding to Drop Content for an Existing Policy from a Semantic Index</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM225"></a><div class="props_rev_3"><a id="GUID-CCA874D0-B21B-45CB-AF7C-688755361024" name="GUID-CCA874D0-B21B-45CB-AF7C-688755361024"></a><h4 id="RDFRM-GUID-CCA874D0-B21B-45CB-AF7C-688755361024" class="sect4"><span class="enumeration_section">4.13.1 </span>Rebuilding Content for All Existing Policies in a Semantic Index
                  </h4>
                  <div>
                     <p>If the PARAMETERS clause is not included in the ALTER INDEX statement, the content of the semantic index (or index partition) is rebuilt for every policy presently associated with the index. The following are two examples:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD;
ALTER INDEX ArticleLocalIndex REBUILD PARTITION p1;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="You can use the ALTER INDEX statement with a semantic index.">Altering a Semantic Index</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM226"></a><div class="props_rev_3"><a id="GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427" name="GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427"></a><h4 id="RDFRM-GUID-078F16FE-C7C2-4CB5-B7D0-E810B8F23427" class="sect4"><span class="enumeration_section">4.13.2 </span>Rebuilding to Add Content for a New Policy to a Semantic Index
                  </h4>
                  <div>
                     <p>Using <code class="codeph">add_policy</code> for <span class="italic">&lt;action_for_policy&gt;</span>, you can add content for a new base policy or a dependent policy to a semantic index (or index partition). If a dependent policy is being added and if its base policy is not already a part of the index, then content for the base policy is also added implicitly (by invoking the extractor specified as part of the base policy definition). The following is an example:
                     </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD PARAMETERS ('-add_policy MY_POLICY');</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="You can use the ALTER INDEX statement with a semantic index.">Altering a Semantic Index</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM227"></a><div class="props_rev_3"><a id="GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0" name="GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0"></a><h4 id="RDFRM-GUID-2FA2DDC6-F920-48FB-A216-2DE4BD6C36E0" class="sect4"><span class="enumeration_section">4.13.3 </span>Rebuilding Content for an Existing Policy from a Semantic Index
                  </h4>
                  <div>
                     <p>Using <code class="codeph">rebuild_policy</code> for <span class="italic">&lt;action_for_policy&gt;</span>, you can rebuild the content of the semantic index (or index partition) for an existing policy presently associated with the index. The following is an example:
                     </p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD PARAMETERS ('-rebuild_policy MY_POLICY');</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="You can use the ALTER INDEX statement with a semantic index.">Altering a Semantic Index</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM228"></a><div class="props_rev_3"><a id="GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37" name="GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37"></a><h4 id="RDFRM-GUID-FFB6FD78-C201-4C76-A5FE-00A81ABEDC37" class="sect4"><span class="enumeration_section">4.13.4 </span>Rebuilding to Drop Content for an Existing Policy from a Semantic Index
                  </h4>
                  <div>
                     <p>Using <code class="codeph">drop_policy</code> for <span class="italic">&lt;action_for_policy&gt;</span>, you can drop content corresponding to an existing base policy or a dependent policy from a semantic index (or index partition). Note that dropping the content for a base policy will fail if it is the only policy for the index (or index partition) or if it is used by dependent policies associated with this index (or index partition).
                     </p>
                     <p>The following example drops the content for a policy from an index:</p><pre class="oac_no_warn" dir="ltr">ALTER INDEX ArticleIndex REBUILD PARAMETERS ('-drop_policy MY_POLICY');</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-78F0B53C-3CE6-4700-844B-44F53119583A" title="You can use the ALTER INDEX statement with a semantic index.">Altering a Semantic Index</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM229"></a><div class="props_rev_3"><a id="GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A" name="GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A"></a><h3 id="RDFRM-GUID-447F1C60-7EA6-44D5-9D0C-56DE01C6F09A" class="sect3"><span class="enumeration_section">4.14 </span>Passing Extractor-Specific Parameters in CREATE INDEX and ALTER INDEX
               </h3>
               <div>
                  <p>The CREATE INDEX and ALTER INDEX statements allow the passing of parameters needed by extractors.</p>
                  <p>These parameters are passed on to the extractor using the <code class="codeph">params</code> parameter of the <code class="codeph">extractRdf</code> and <code class="codeph">batchExtractRdf</code> methods. The following two examples show their use:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX ArticleIndex on Newsfeed (article)
  INDEXTYPE IS mdsys.SemContext PARAMETERS ('SEM_EXTR=(NE_ONLY)');

ALTER INDEX ArticleIndex REBUILD 
  PARAMETERS ('-add_policy MY_POLICY=(NE_ONLY)');</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM231"></a><a id="RDFRM230"></a><div class="props_rev_3"><a id="GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234" name="GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234"></a><h3 id="RDFRM-GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234" class="sect3"><span class="enumeration_section">4.15 </span>Performing Document-Centric Inference
               </h3>
               <div>
                  <p>Document-centric inference refers to the ability to infer from each document individually.</p>
                  <p>It does not allow triples extracted from two different documents to be used together for inference. It contrasts with the more common corpus-centric inference, where new triples can be inferred from combinations of triples extracted from multiple documents.</p>
                  <p>Document-centric inference can be desirable in document search applications because inclusion of a document in the search result is based on the extracted and/or inferred triples for that document only, that is, triples extracted and/or inferred from any other documents in the corpus do not play any role in the selection of this document. (Document-centric inference might be preferred, for example, if there is inconsistency among documents because of differences in the reliability of the data or in the biases of the document creators.)</p>
                  <p>To perform document-centric inference, use named graph based local inference (explained in <a href="owl-concepts.html#GUID-1C7CAF17-945F-4452-97A3-5F2E1D7A2C84">Named Graph Based Local Inference (NGLI)</a>) by specifying <code class="codeph">options =&gt; 'LOCAL_NG_INF=T'</code> in the call to the <a href="SEM_APIS-reference.html#GUID-BF52CEC0-1BD9-4908-9EF1-F001B0527257">SEM_APIS.CREATE_ENTAILMENT</a> procedure.
                  </p>
                  <p>Entailments created through document-centric inference can be included as content of a semantic index by creating a dependent policy and adding that policy to the semantic index, as shown in <a href="semantic-indexing-documents.html#GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234__BEIEDJCI">Example 4-2</a>.
                  </p>
                  <div class="example" id="GUID-9E82A191-0B7B-4508-BE78-E10D3CB19234__BEIEDJCI">
                     <p class="titleinexample">Example 4-2 Using Document-Centric Inference</p><pre class="oac_no_warn" dir="ltr">-- Create entailment 'extr_data_inf' using document-centric inference
-- assuming:
--   model_name for semantic index based on base policy: 'RDFCTX_MOD_1'
--    (model name is available from the RDFCTX_INDEX_POLICIES view; 
--     see <a href="semantic-indexing-documents.html#GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C">RDFCTX_INDEX_POLICIES View</a>)
--   ontology: dataOntology
--   rulebase: OWL2RL
-- options: 'LOCAL_NG_INF=T' (for document-centric inference)
BEGIN
sem_apis.create_entailment('extr_data_inf',
  models_in    =&gt; sem_models('RDFCTX_MOD_1', 'dataOntology'),
  rulebases_in =&gt; sem_rulebases('OWL2RL'),
  options      =&gt; 'LOCAL_NG_INF=T');
END;
/
-- Create a dependent policy to augment data extracted using base policy
-- with content of entailment extr_data_inf (computed in previous statement)
BEGIN
sem_rdfctx.create_policy (
  policy_name =&gt; 'SEM_EXTR_PLUS_DATA_INF',
  base_policy =&gt; 'SEM_EXTR',
  user_models =&gt; NULL,
  user_entailments =&gt; sem_models('extr_data_inf'));
END;
/
-- Add the dependent policy to the ARTICLEINDEX index.
EXECUTE sem_rdfctx.add_dependent_policy('ARTICLEINDEX','SEM_EXTR_PLUS_DATA_INF');</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="RDFRM99933"></a><div class="props_rev_3"><a id="GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" name="GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C"></a><h3 id="RDFRM-GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" class="sect3"><span class="enumeration_section">4.16 </span>Metadata Views for Semantic Indexing
               </h3>
               <div>
                  <p>This section describes views that contain metadata about semantic indexing</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-670213CA-F4C2-4EA0-907A-3317066C788B">MDSYS.RDFCTX_POLICIES View</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C">RDFCTX_INDEX_POLICIES View</a><br></li>
                     <li class="ulchildlink"><a href="semantic-indexing-documents.html#GUID-2C3797E4-E835-41D2-9721-B48F555AC185">RDFCTX_INDEX_EXCEPTIONS View</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               <a id="RDFRM99935"></a><a id="RDFRM99934"></a><div class="props_rev_3"><a id="GUID-670213CA-F4C2-4EA0-907A-3317066C788B" name="GUID-670213CA-F4C2-4EA0-907A-3317066C788B"></a><h4 id="RDFRM-GUID-670213CA-F4C2-4EA0-907A-3317066C788B" class="sect4"><span class="enumeration_section">4.16.1 </span>MDSYS.RDFCTX_POLICIES View
                  </h4>
                  <div>
                     <p><a id="d40605e2193" class="indexterm-anchor"></a><a id="d40605e2195" class="indexterm-anchor"></a>Information about extractor policies defined in the current schema is maintained in the MDSYS.RDFCTX_POLICIES view, which has the columns shown in <a href="semantic-indexing-documents.html#GUID-670213CA-F4C2-4EA0-907A-3317066C788B__BEIBBEEF" title="MDSYS.RDFCTX_POLICIES view columns">Table 4-1</a> and one row for each extractor policy.
                     </p>
                     <div class="tblformal" id="GUID-670213CA-F4C2-4EA0-907A-3317066C788B__BEIBBEEF">
                        <p class="titleintable">Table 4-1 MDSYS.RDFCTX_POLICIES View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="MDSYS.RDFCTX_POLICIES View Columns" summary="MDSYS.RDFCTX_POLICIES view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d40605e2216">Column Name</th>
                                 <th align="left" valign="bottom" id="d40605e2219">Data Type</th>
                                 <th align="left" valign="bottom" id="d40605e2222">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2227" headers="d40605e2216 ">
                                    <p>POLICY_OWNER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2227 d40605e2219 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2227 d40605e2222 ">
                                    <p>Owner of the extractor policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2237" headers="d40605e2216 ">
                                    <p>POLICY_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2237 d40605e2219 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2237 d40605e2222 ">
                                    <p>Name of the extractor policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2247" headers="d40605e2216 ">
                                    <p>EXTRACTOR</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2247 d40605e2219 ">
                                    <p>MDSYS.RDFCTX_EXTRACTOR</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2247 d40605e2222 ">
                                    <p>Instance of extractor type</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2257" headers="d40605e2216 ">
                                    <p>IS_DEPENDENT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2257 d40605e2219 ">
                                    <p>VARCHAR2(3)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2257 d40605e2222 ">
                                    <p>Contains <code class="codeph">YES</code> if the extractor policy is dependent on a base policy; contains <code class="codeph">NO</code> if the extractor policy is not dependent on a base policy.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2273" headers="d40605e2216 ">
                                    <p>BASE_POLICY</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2273 d40605e2219 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2273 d40605e2222 ">
                                    <p>For a dependent policy, the name of the base policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2283" headers="d40605e2216 ">
                                    <p>USER_MODELS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2283 d40605e2219 ">
                                    <p>MDSYS.RDF_MODELS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2283 d40605e2222 ">
                                    <p>For a dependent policy, a list of the RDF models included in the policy</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" title="This section describes views that contain metadata about semantic indexing">Metadata Views for Semantic Indexing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM99937"></a><a id="RDFRM99936"></a><div class="props_rev_3"><a id="GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C" name="GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C"></a><h4 id="RDFRM-GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C" class="sect4"><span class="enumeration_section">4.16.2 </span>RDFCTX_INDEX_POLICIES View
                  </h4>
                  <div>
                     <p><a id="d40605e2341" class="indexterm-anchor"></a><a id="d40605e2343" class="indexterm-anchor"></a>Information about semantic indexes defined in the current schema and the extractor policies used to create the index is maintained in the MDSYS.RDFCTX_POLICIES view, which has the columns shown in <a href="semantic-indexing-documents.html#GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C__BEIBCCAC" title="MDSYS.RDFCTX_INDEX_POLICIES view columns">Table 4-2</a> and one row for each combination of semantic index and extractor policy.
                     </p>
                     <div class="tblformal" id="GUID-4D2F049C-403B-49CB-969C-C9C46DB3AC5C__BEIBCCAC">
                        <p class="titleintable">Table 4-2 MDSYS.RDFCTX_INDEX_POLICIES View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="MDSYS.RDFCTX_INDEX_POLICIES View Columns" summary="MDSYS.RDFCTX_INDEX_POLICIES view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d40605e2364">Column Name</th>
                                 <th align="left" valign="bottom" id="d40605e2367">Data Type</th>
                                 <th align="left" valign="bottom" id="d40605e2370">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2375" headers="d40605e2364 ">
                                    <p>INDEX_OWNER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2375 d40605e2367 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2375 d40605e2370 ">
                                    <p>Owner of the semantic index</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2385" headers="d40605e2364 ">
                                    <p>INDEX_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2385 d40605e2367 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2385 d40605e2370 ">
                                    <p>Name of the semantic index</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2395" headers="d40605e2364 ">
                                    <p>INDEX_PARTITION</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2395 d40605e2367 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2395 d40605e2370 ">
                                    <p>Name of the index partition (for LOCAL index only)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2405" headers="d40605e2364 ">
                                    <p>POLICY_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2405 d40605e2367 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2405 d40605e2370 ">
                                    <p>Name of the extractor policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2415" headers="d40605e2364 ">
                                    <p>EXTR_PARAMETERS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2415 d40605e2367 ">
                                    <p>VARCHAR2(100)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2415 d40605e2370 ">
                                    <p>Parameters specified for the extractor</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2425" headers="d40605e2364 ">
                                    <p>IS_DEFAULT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2425 d40605e2367 ">
                                    <p>VARCHAR2(3)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2425 d40605e2370 ">
                                    <p>Contains <code class="codeph">YES</code> if POLICY_NAME is the default extractor policy for the index; contains <code class="codeph">NO</code> if POLICY_NAME is not the default extractor policy for the index.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2441" headers="d40605e2364 ">
                                    <p>STATUS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2441 d40605e2367 ">
                                    <p>VARCHAR2(10)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2441 d40605e2370 ">
                                    <p>Contains <code class="codeph">VALID</code> if the index is valid, <code class="codeph">INPROGRESS</code> if the index is being created, or <code class="codeph">FAILED</code> if a system failure occurred during the creation of the index.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2460" headers="d40605e2364 ">
                                    <p>RDF_MODEL</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2460 d40605e2367 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2460 d40605e2370 ">
                                    <p>Name of the RDF model maintaining the index data</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" title="This section describes views that contain metadata about semantic indexing">Metadata Views for Semantic Indexing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="RDFRM99939"></a><a id="RDFRM99938"></a><div class="props_rev_3"><a id="GUID-2C3797E4-E835-41D2-9721-B48F555AC185" name="GUID-2C3797E4-E835-41D2-9721-B48F555AC185"></a><h4 id="RDFRM-GUID-2C3797E4-E835-41D2-9721-B48F555AC185" class="sect4"><span class="enumeration_section">4.16.3 </span>RDFCTX_INDEX_EXCEPTIONS View
                  </h4>
                  <div>
                     <p><a id="d40605e2517" class="indexterm-anchor"></a><a id="d40605e2519" class="indexterm-anchor"></a>Information about exceptions encountered while creating or maintaining semantic indexes in the current schema is maintained in the MDSYS.RDFCTX_INDEX_EXCEPTIONS view, which has the columns shown in <a href="semantic-indexing-documents.html#GUID-2C3797E4-E835-41D2-9721-B48F555AC185__BEIFIEDE" title="MDSYS.RDFCTX_INDEX_EXCEPTIONS view columns">Table 4-3</a> and one row for each exception.
                     </p>
                     <div class="tblformal" id="GUID-2C3797E4-E835-41D2-9721-B48F555AC185__BEIFIEDE">
                        <p class="titleintable">Table 4-3 MDSYS.RDFCTX_INDEX_EXCEPTIONS View Columns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="MDSYS.RDFCTX_INDEX_EXCEPTIONS View Columns" summary="MDSYS.RDFCTX_INDEX_EXCEPTIONS view columns" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d40605e2540">Column Name</th>
                                 <th align="left" valign="bottom" id="d40605e2543">Data Type</th>
                                 <th align="left" valign="bottom" id="d40605e2546">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2551" headers="d40605e2540 ">
                                    <p>INDEX_OWNER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2551 d40605e2543 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2551 d40605e2546 ">
                                    <p>Owner of the semantic index associated with the exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2561" headers="d40605e2540 ">
                                    <p>INDEX_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2561 d40605e2543 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2561 d40605e2546 ">
                                    <p>Name of the semantic index associated with the exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2571" headers="d40605e2540 ">
                                    <p>POLICY_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2571 d40605e2543 ">
                                    <p>VARCHAR2(32)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2571 d40605e2546 ">
                                    <p>Name of the extractor policy associated with the exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2581" headers="d40605e2540 ">
                                    <p>DOC_IDENTIFIER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2581 d40605e2543 ">
                                    <p>VARCHAR2(38)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2581 d40605e2546 ">
                                    <p>Row identifier (rowid) of the document associated with the exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2591" headers="d40605e2540 ">
                                    <p>EXCEPTION_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2591 d40605e2543 ">
                                    <p>VARCHAR2(13)</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2591 d40605e2546 ">
                                    <p>Type of exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2601" headers="d40605e2540 ">
                                    <p>EXCEPTION_CODE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2601 d40605e2543 ">
                                    <p>NUMBER</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2601 d40605e2546 ">
                                    <p>Error code associated with the exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2611" headers="d40605e2540 ">
                                    <p>EXCEPTION_TEXT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2611 d40605e2543 ">
                                    <p>CLOB</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2611 d40605e2546 ">
                                    <p>Text associated with the exception</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d40605e2621" headers="d40605e2540 ">
                                    <p>EXTRACTED_AT</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2621 d40605e2543 ">
                                    <p>TIMESTAMP</p>
                                 </td>
                                 <td align="left" valign="top" headers="d40605e2621 d40605e2546 ">
                                    <p>Time at which the exception occurred</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-0C0409E6-2EED-4468-8F29-2FB00A51995C" title="This section describes views that contain metadata about semantic indexing">Metadata Views for Semantic Indexing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="RDFRM99940"></a><div class="props_rev_3"><a id="GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03" name="GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03"></a><h3 id="RDFRM-GUID-F631DC90-2FB2-41F4-8A00-FF8777480A03" class="sect3"><span class="enumeration_section">4.17 </span>Default Style Sheet for GATE Extractor Output
               </h3>
               <div>
                  <p>This section lists the default XML style sheet that the <code class="codeph">mdsys.gatenlp_extractor</code> implementation uses to convert the annotation set (encoded in XML) into RDF/XML.
                  </p>
                  <p>(This extractor is explained in <a href="semantic-indexing-documents.html#GUID-C293FD06-1FD8-426B-8D9F-661AE09389F4" title="General Architecture for Text Engineering (GATE) is an open source natural language processor and information extractor.">Working with General Architecture for Text Engineering (GATE)</a>.)
                  </p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0"?&gt; 
  &lt;xsl:stylesheet version="2.0" 
                   xmlns:xsl="http://www.w3.org/1999/XSL/Transform" &gt; 
     &lt;xsl:output encoding="utf-8" indent="yes"/&gt; 
     &lt;xsl:param name="docbase"&gt;http://xmlns.oracle.com/rdfctx/&lt;/xsl:param&gt;
     &lt;xsl:param name="docident"&gt;0&lt;/xsl:param&gt;
     &lt;xsl:param name="classpfx"&gt;
       &lt;xsl:value-of select="$docbase"/&gt;
       &lt;xsl:text&gt;class/&lt;/xsl:text&gt; 
     &lt;/xsl:param&gt;
     &lt;xsl:template match="/"&gt;
        &lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
                 xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
                 xmlns:owl="http://www.w3.org/2002/07/owl#" 
                 xmlns:prop="http://xmlns.oracle.com/rdfctx/property/"&gt;  
        &lt;xsl:for-each select="AnnotationSet/Annotation"&gt; 
          &lt;rdf:Description&gt; 
            &lt;xsl:attribute name="rdf:about"&gt; 
              &lt;xsl:value-of select="$docbase"/&gt;
              &lt;xsl:text&gt;docref/&lt;/xsl:text&gt;
              &lt;xsl:value-of select="$docident"/&gt;
              &lt;xsl:text&gt;/&lt;/xsl:text&gt;
              &lt;xsl:value-of select="@Id"/&gt;
            &lt;/xsl:attribute&gt;
            &lt;xsl:for-each select="./Feature"&gt; 
              &lt;xsl:choose&gt;
                &lt;xsl:when test="./Name[text()='majorType']"&gt; 
                  &lt;rdf:type&gt; 
                    &lt;xsl:attribute name="rdf:resource"&gt; 
                       &lt;xsl:value-of select="$classpfx"/&gt;
                       &lt;xsl:text&gt;major/&lt;/xsl:text&gt;
                       &lt;xsl:value-of select="translate(./Value/text(),
                                                       ' ', '#')"/&gt;
                    &lt;/xsl:attribute&gt;  
                  &lt;/rdf:type&gt;
                &lt;/xsl:when&gt;
                &lt;xsl:when test="./Name[text()='minorType']"&gt; 
                  &lt;xsl:element name="prop:hasMinorType"&gt; 
                    &lt;xsl:attribute name="rdf:resource"&gt; 
                       &lt;xsl:value-of select="$docbase"/&gt;
                       &lt;xsl:text&gt;minorType/&lt;/xsl:text&gt;
                       &lt;xsl:value-of select="translate(./Value/text(),
                                                       ' ', '#')"/&gt;
                    &lt;/xsl:attribute&gt;  
                  &lt;/xsl:element&gt; 
                &lt;/xsl:when&gt;
                &lt;xsl:when test="./Name[text()='kind']"&gt; 
                  &lt;xsl:element name="prop:hasKind"&gt; 
                    &lt;xsl:attribute name="rdf:resource"&gt; 
                       &lt;xsl:value-of select="$docbase"/&gt;
                       &lt;xsl:text&gt;kind/&lt;/xsl:text&gt;
                       &lt;xsl:value-of select="translate(./Value/text(),
                                                       ' ', '#')"/&gt;
                    &lt;/xsl:attribute&gt;  
                  &lt;/xsl:element&gt; 
                &lt;/xsl:when&gt;
                &lt;xsl:when test="./Name[text()='locType']"&gt; 
                  &lt;xsl:element name="prop:hasLocType"&gt; 
                    &lt;xsl:attribute name="rdf:resource"&gt; 
                       &lt;xsl:value-of select="$docbase"/&gt;
                       &lt;xsl:text&gt;locType/&lt;/xsl:text&gt;
                       &lt;xsl:value-of select="translate(./Value/text(),
                                                       ' ', '#')"/&gt;
                    &lt;/xsl:attribute&gt;  
                  &lt;/xsl:element&gt; 
                &lt;/xsl:when&gt;
                &lt;xsl:when test="./Name[text()='entityValue']"&gt; 
                  &lt;xsl:element name="prop:hasEntityValue"&gt; 
                    &lt;xsl:attribute name="rdf:datatype"&gt; 
                      &lt;xsl:text&gt;
                         http://www.w3.org/2001/XMLSchema#string
                      &lt;/xsl:text&gt;
                    &lt;/xsl:attribute&gt; 
                    &lt;xsl:value-of select="./Value/text()"/&gt;
                  &lt;/xsl:element&gt; 
                &lt;/xsl:when&gt;
                &lt;xsl:otherwise&gt; 
                  &lt;xsl:element name="prop:has{translate(
                                        substring(./Name/text(),1,1),
                                        'abcdefghijklmnopqrstuvwxyz',
                                        'ABCDEFGHIJKLMNOPQRSTUVWXYZ')}{
                                      substring(./Name/text(),2)}"&gt; 
                     &lt;xsl:attribute name="rdf:datatype"&gt; 
                        &lt;xsl:text&gt;
                          http://www.w3.org/2001/XMLSchema#string
                        &lt;/xsl:text&gt; 
                     &lt;/xsl:attribute&gt; 
                    &lt;xsl:value-of select="./Value/text()"/&gt;
                  &lt;/xsl:element&gt; 
                &lt;/xsl:otherwise&gt; 
              &lt;/xsl:choose&gt;
            &lt;/xsl:for-each&gt; 
          &lt;/rdf:Description&gt; 
        &lt;/xsl:for-each&gt;
        &lt;/rdf:RDF&gt; 
      &lt;/xsl:template&gt;
   &lt;/xsl:stylesheet&gt;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="semantic-indexing-documents.html#GUID-842F5A67-7971-41C3-97FD-8B2BB21F25B3" title="Information extractors locate and extract meaningful information from unstructured documents. The ability to search for documents based on this extracted information is a significant improvement over the keyword-based searches supported by the full-text search engines.">Semantic Indexing for Documents</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>