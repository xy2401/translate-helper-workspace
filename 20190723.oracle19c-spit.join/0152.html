<html id='06058.config-teradata-gateway.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring Oracle Database Gateway for Teradata</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit), and HP-UX Itanium">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:11:50-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18243-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="install-teradata-gateway.html" title="Previous" type="text/html">
      <link rel="next" href="part-sqlserver-gateway.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64">
    <meta name="dcterms.isVersionOf" content="OTGIS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="install-teradata-gateway.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-sqlserver-gateway.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-teradata-gateway.html" property="item" typeof="WebPage"><span property="name">Installing and Configuring Oracle Database Gateway for Teradata </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring Oracle Database Gateway for Teradata</li>
            </ol>
            <a id="GUID-2C527C91-A7AB-46C1-9AE9-F6B0F8F4CF3B" name="GUID-2C527C91-A7AB-46C1-9AE9-F6B0F8F4CF3B"></a><a id="OTGIS700"></a>
            
            <h2 id="OTGIS-GUID-2C527C91-A7AB-46C1-9AE9-F6B0F8F4CF3B" class="sect2"><span class="enumeration_chapter">7 </span> Configuring Oracle Database Gateway for Teradata
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>After installing the gateway, perform the following tasks to configure Oracle Database Gateway for Teradata:</p>
               <ol>
                  <li>
                     <p><a href="config-teradata-gateway.html#GUID-FC22971F-6EA5-4C2D-A82D-F23F88B4B271">Configure the Gateway Initialization Parameter File</a></p>
                  </li>
                  <li>
                     <p><a href="config-teradata-gateway.html#GUID-77B087E9-81A8-499B-9BCA-FEE75046D55F">Configure Oracle Net for the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="config-teradata-gateway.html#GUID-8AA98DC9-7161-4B69-B742-5EBC2897071A">Configure the Oracle Database for Gateway Access</a></p>
                  </li>
                  <li>
                     <p><a href="config-teradata-gateway.html#GUID-498CD897-F7F6-4D81-993B-BDDAAF87CC87">Create Database Links</a></p>
                  </li>
                  <li>
                     <p><a href="config-teradata-gateway.html#GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07">Configure Two-Phase Commit</a></p>
                  </li>
                  <li>
                     <p><a href="config-teradata-gateway.html#GUID-93EE34C4-32D8-471D-BEB8-9B70C5DFD392">Encrypt Gateway Initialization Parameter Values</a></p>
                  </li>
                  <li>
                     <p><a href="config-teradata-gateway.html#GUID-77F3E772-3AF7-43DB-9666-BC251832F58B">Configure the Gateway to Access Multiple Teradata Databases</a></p>
                  </li>
               </ol>
            </div><a id="OTGIS986"></a><div class="props_rev_3"><a id="GUID-FC22971F-6EA5-4C2D-A82D-F23F88B4B271" name="GUID-FC22971F-6EA5-4C2D-A82D-F23F88B4B271"></a><h3 id="OTGIS-GUID-FC22971F-6EA5-4C2D-A82D-F23F88B4B271" class="sect3">Configure the Gateway Initialization Parameter File</h3>
               <div>
                  <div class="section">
                     <p>Perform the following tasks to configure the gateway initialization parameter file:<a id="d18800e103" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-teradata-gateway.html#GUID-1665C038-40F1-4372-A86B-1D7052BF87C9">Choose a System Identifier for the Gateway</a></span></li>
                     <li><span><a href="config-teradata-gateway.html#GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8">Customize the Initialization Parameter File</a></span></li>
                  </ol>
               </div><a id="OTGIS987"></a><div class="props_rev_3"><a id="GUID-1665C038-40F1-4372-A86B-1D7052BF87C9" name="GUID-1665C038-40F1-4372-A86B-1D7052BF87C9"></a><h4 id="OTGIS-GUID-1665C038-40F1-4372-A86B-1D7052BF87C9" class="sect4">Choose a System Identifier for the Gateway</h4>
                  <div>
                     <p>The <a id="d18800e156" class="indexterm-anchor"></a>gateway system identifier <a id="d18800e161" class="indexterm-anchor"></a>(SID) is an alphanumeric character string that identifies a gateway instance. You need one gateway instance, and therefore one gateway SID, for each Teradata database you are accessing. The SID is used as part of the file name for the initialization parameter file. The default SID is <span class="bold"></span><code class="codeph">dg4tera</code>.
                     </p>
                     <p>You can define a gateway SID, but using the default of <code class="codeph">dg4tera</code> is easier because you do not need to change the initialization parameter file name. However, if you want to access two Teradata databases, you need two gateway SIDs, one for each instance of the gateway. If you have only one Teradata database and want to access it sometimes with one set of gateway parameter settings, and other times with different gateway parameter settings, then you will need multiple gateway SIDs for the single Teradata database. 
                     </p>
                  </div>
               </div><a id="OTGIS988"></a><div class="props_rev_3"><a id="GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8" name="GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8"></a><h4 id="OTGIS-GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8" class="sect4">Customize the Initialization Parameter File</h4>
                  <div>
                     <div class="section">
                        <p><a id="d18800e207" class="indexterm-anchor"></a>The initialization parameter file must be available when the gateway is started. During installation, the following default initialization parameter file is created:
                        </p><pre class="oac_no_warn" dir="ltr"><a id="d18800e213" class="indexterm-anchor"></a>$ORACLE_HOME/dg4tera/admin/initdg4tera.ora
</pre><p>where <code class="codeph">$ORACLE_HOME</code> is the directory under which the gateway is installed.
                        </p>
                        <p>This initialization file is for the default gateway SID. If you are not using <code class="codeph">dg4tera</code> as the gateway SID, you must rename the initialization parameter file using the SID you chose in the preceding step <a href="config-teradata-gateway.html#GUID-1665C038-40F1-4372-A86B-1D7052BF87C9">Choose a System Identifier for the Gateway</a>. This default initialization parameter file is sufficient for starting the gateway, verifying a successful installation, and running the demonstration scripts.
                        </p>
                        <p>A number of initialization parameters can be used to modify the gateway behavior. Refer to <a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F">Initialization Parameters</a>for the complete list of initialization parameters that can be set. Changes made to the initialization parameters only take effect in the next gateway session. The most important parameter is the <code class="codeph">HS_FDS_CONNECT_INFO</code>, which describes the connection to the non-Oracle system. 
                        </p>
                        <p>The default initialization parameter file already has an entry for this parameter. The syntax for <code class="codeph">HS_FDS_CONNECT_INFO</code> is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=<span class="italic">host_alias</span>:<span class="italic">port_number</span>[/<span class="italic">database_name</span>]
</pre><p>where:</p>
                        <div class="tblformal" id="GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8__GUID-8F6F6A76-2238-4CE8-9C0A-4B31D176D1EC">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d18800e265">Variable</th>
                                    <th align="left" valign="bottom" width="75%" id="d18800e268">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e273" headers="d18800e265 ">
                                       <p><span class="italic"><code class="codeph">host_alias</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e273 d18800e268 ">
                                       <p>is the host alias name or IP address of the machine hosting the Teradata database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e282" headers="d18800e265 ">
                                       <p><span class="italic"><code class="codeph">port_number</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e282 d18800e268 ">
                                       <p>is the port number of the Teradata database server.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e291" headers="d18800e265 ">
                                       <p><span class="italic"><code class="codeph">database_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e291 d18800e268 ">
                                       <p>is the Teradata database name.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This release of gateway can support  IPv6. If IPv6 address format is to be specified, you have to wrap it with square brackets to indicate the separation from the port number. For example, </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=[2001:0db8:20C:F1FF:FEC6:38AF]:1300/my_db
</pre><div class="infoboxnotealso" id="GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8__GUID-EF18131D-B4C5-46BF-9DC8-7AA826164182">
                           <p class="notep1">See Also:</p>
                           <p><a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F"> Initialization Parameters</a> and the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4089" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity Administrator's Guide</span> </a> for more information about customizing the initialization parameter file.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS989"></a><div class="props_rev_3"><a id="GUID-77B087E9-81A8-499B-9BCA-FEE75046D55F" name="GUID-77B087E9-81A8-499B-9BCA-FEE75046D55F"></a><h3 id="OTGIS-GUID-77B087E9-81A8-499B-9BCA-FEE75046D55F" class="sect3">Configure Oracle Net for the Gateway</h3>
               <div>
                  <div class="section">
                     <p>The gateway requires Oracle Net to communicate with the Oracle database. After configuring the gateway, perform the following tasks to configure Oracle Net to work with the gateway:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-teradata-gateway.html#GUID-0085C036-64AE-4E3D-9324-1E5D256D76F4">Configure Oracle Net Listener for the Gateway</a></span></li>
                     <li><span><a href="config-teradata-gateway.html#GUID-A3FBD96B-F775-4337-AF7D-0B8BBE3707A3">Stop and Start the Oracle Net Listener for the Gateway</a></span></li>
                  </ol>
               </div><a id="OTGIS990"></a><div class="props_rev_3"><a id="GUID-0085C036-64AE-4E3D-9324-1E5D256D76F4" name="GUID-0085C036-64AE-4E3D-9324-1E5D256D76F4"></a><h4 id="OTGIS-GUID-0085C036-64AE-4E3D-9324-1E5D256D76F4" class="sect4">Configure Oracle Net Listener for the Gateway</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle Net Listener listens for incoming requests from the Oracle database. For the Oracle Net Listener to listen for the gateway, information about the gateway must be added to the Oracle Net Listener configuration file, <code class="codeph">listener.ora</code>. This file by default is located in <code class="codeph">$ORACLE_HOME/network/admin</code>, where <code class="codeph">$ORACLE_HOME</code> is the directory under which the gateway is installed.
                        </p>
                        <p>The following entries must be added to the <code class="codeph">listener.ora</code> file:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A list of Oracle Net addresses on which the Oracle Net Listener listens.</p>
                           </li>
                           <li>
                              <p>The executable name of the gateway that the Oracle Net Listener starts in response to incoming connection requests.</p>
                           </li>
                        </ul>
                        <p>A sample of the <code class="codeph">listener.ora</code> entry (<code class="codeph">listener.ora.sample</code>) is available in the <code class="codeph">$ORACLE_HOME/dg4tera/admin</code> directory where <code class="codeph">$</code><code class="codeph">ORACLE_HOME</code> is the directory under which the gateway is installed.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OTGIS991"></a><div class="props_rev_3"><a id="GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D" name="GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D"></a><h5 id="OTGIS-GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D" class="sect5">Syntax of listener.ora File Entries </h5>
                     <div>
                        <p>The Oracle database communicates with the gateway using Oracle Net and any supported protocol adapters. The following is the syntax of the address on which the Oracle Net Listener listens using the TCP/IP protocol adapter:</p><pre class="oac_no_warn" dir="ltr">LISTENER=
        (ADDRESS= 
          (PROTOCOL=TCP)
          (HOST=<span class="italic">host_name</span>)
          (PORT=<span class="italic">port_number</span>))
</pre><p>where:</p>
                        <div class="tblformal" id="GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D__GUID-96AB0104-2D7D-4A05-81ED-DA4552ED1257">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d18800e493">Variable</th>
                                    <th align="left" valign="bottom" width="75%" id="d18800e496">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e501" headers="d18800e493 ">
                                       <p><span class="italic"><code class="codeph">host_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e501 d18800e496 ">
                                       <p>is the name of the machine on which the gateway is installed. IPv6 format is supported with this release. Refer to <a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a> for detail.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e515" headers="d18800e493 ">
                                       <p><span class="italic"><code class="codeph">port_number</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e515 d18800e496 ">
                                       <p>specifies the port number used by the Oracle Net Listener. If you have other listeners running on the same machine, then the value of <span class="italic">port_number</span> must be different from the other listeners' port numbers.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>To direct the Oracle Net Listener to start the gateway in response to incoming connection requests, add an entry to the <code class="codeph">listener.ora</code> file.
                        </p>
                        <div class="infoboxnote" id="GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D__GUID-E926CA59-D1A6-4F68-A6B2-D6B50336055A">
                           <p class="notep1">Note:</p>
                           <p>You must use the same SID value in the <code class="codeph">listener.ora</code> file and the <code class="codeph">tnsnames.ora</code> file that will be configured in the next step.
                           </p>
                        </div>
                        <p>For Linux x86 64bit:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
   (SID_DESC=
     (SID_NAME=<span class="italic">gateway_sid</span>)
     (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
     (PROGRAM=dg4tera)
     (ENVS=LD_PRELOAD=<span class="italic">kerberos_system_libs</span>,LD_LIBRARY_PATH=<span class="italic">teradata_client_library_directory</span>:<span class="italic">oracle_home_directory/lib:/usr/lib</span>)
   )
 )</pre><p>For Solaris SPARC:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
 (SID_LIST=
  (SID_DESC=
   (SID_NAME=gateway_sid)
   (ORACLE_HOME=oracle_home_directory)
   (PROGRAM=dg4tera)
   (ENVS=LD_LIBRARY_PATH=teradata_client_library_directory:oracle_home_directory/lib:/usr/lib)
  )
 )</pre><p>For AIX: </p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
   (SID_LIST=
      (SID_DESC= 
         (SID_NAME=<span class="italic">gateway_sid</span>)
         (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
         (PROGRAM=dg4tera)
         (ENVS=LIBPATH=<span class="italic">teradata_client_library_directory</span>:<span class="italic">oracle_home_directory</span>/lib:/usr/lib/lib_64)
      )
   )
</pre><p>For HP-UX Itanium:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
   (SID_LIST=
      (SID_DESC= 
         (SID_NAME=<span class="italic">gateway_sid</span>)
         (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
         (PROGRAM=dg4tera)
         (ENVS=LD_LIBRARY_PATH=<span class="italic">oracle_home_directory</span>/dg4tera/driver/lib:<span class="italic">oracle_home_directory</span>/lib:<span class="italic">teradata_client_library_directory</span>:/usr/lib/hpux64)
      )
   )
</pre><p>where:</p>
                        <div class="tblformal" id="GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D__GUID-AC148E96-37A6-409F-AE88-DEF8293C31C8">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d18800e609">Variable</th>
                                    <th align="left" valign="bottom" width="75%" id="d18800e612">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e617" headers="d18800e609 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e617 d18800e612 ">
                                       <p>specifies the SID of the gateway. Matches the gateway SID specified in the connect descriptor entry in the <code class="codeph">tnsnames.ora</code> file.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e629" headers="d18800e609 ">
                                       <p><span class="italic"><code class="codeph">oracle_home_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e629 d18800e612 ">
                                       <p>specifies the Oracle home directory where the gateway resides.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e638" headers="d18800e609 ">
                                       <p><span class="italic"><code class="codeph">teradata_client_library_directory</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e638 d18800e612 ">
                                       <p>specifies the directory where the Teradata client directory resides.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e647" headers="d18800e609 ">
                                       <p><code class="codeph">dg4tera</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e647 d18800e612 ">
                                       <p>specifies the executable name of the Oracle Database Gateway for Teradata.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e655" headers="d18800e609 ">
                                       <p><code class="codeph"><span class="codeinlineitalic">kerberos_system_libs</span></code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e655 d18800e612 ">
                                       <p>The path of the system provided Kerberos implementation. For example: <code class="codeph">libgssapi_krb5.so.X.Y</code>, <code class="codeph">libkrb5.so.X</code>, <code class="codeph">libk5crypto.so.X</code>, <code class="codeph">libkrb5support.so.X</code> etc.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If you already have an existing Oracle Net Listener, then add the following syntax to <code class="codeph">SID_LIST</code> in the existing <code class="codeph">listener.ora</code> file. Note the syntax provided below is for HP-UX Itanium. Refer to the above section for other platforms.
                        </p>
                        <p>For HP-UX Itanium:</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
(SID_LIST= 
   (SID_DESC=.
     .
   )
   (SID_DESC=.
     .
   )
   (SID_DESC=
      (SID_NAME=<span class="italic">gateway_sid</span>)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (ENVS=LD_LIBRARY_PATH=<span class="italic">oracle_home_directory</span>/dg4sybs/driver/lib:<span class="italic">oracle_home_directory</span>/lib)
      (PROGRAM=dg4sybs)
   )
)</pre><div class="infoboxnotealso" id="GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D__GUID-6EEF0018-0076-4B41-A4DB-CD9CDA2FD2E6">
                           <p class="notep1">See Also:</p>
                           <p><a href="../netag/configuring-and-administering-oracle-net-listener.html#NETAG294" target="_blank"><span class="italic">Oracle Net Services Administrator's Guide</span></a> for information about changing the <code class="codeph">listener.ora</code> file.
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OTGIS1212"></a><a id="OTGIS992"></a><div class="props_rev_3"><a id="GUID-A3FBD96B-F775-4337-AF7D-0B8BBE3707A3" name="GUID-A3FBD96B-F775-4337-AF7D-0B8BBE3707A3"></a><h4 id="OTGIS-GUID-A3FBD96B-F775-4337-AF7D-0B8BBE3707A3" class="sect4">Stop and Start the Oracle Net Listener for the Gateway</h4>
                  <div>
                     <div class="section">
                        <p>You must stop and restart the Oracle Net Listener to initiate the new settings, as follows:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Set the <code class="codeph">PATH</code> environment variable to <code class="codeph">$ORACLE_HOME/bin</code> where <code class="codeph">$ORACLE_HOME</code> is the directory in which the gateway is installed. </span><div>
                              <p>For example on the Linux platform, if you have the Bourne or Korn Shell, enter the following:</p><pre class="oac_no_warn" dir="ltr">$ PATH=$ORACLE_HOME/bin:$PATH;export PATH
$ LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH; export LD_LIBRARY_PATH
</pre><p>If you have the C Shell, enter the following:</p><pre class="oac_no_warn" dir="ltr">$ setenv PATH $ORACLE_HOME/bin:$PATH
$ setenv LD_LIBRARY_PATH $ORACLE_HOME/lib:$LD_LIBRARY_PATH
</pre><p><a href="config-teradata-gateway.html#GUID-A3FBD96B-F775-4337-AF7D-0B8BBE3707A3__BGBCBBDI" title="summary">Table 7-1</a> specifies which parameter value to use for the different platforms:
                              </p>
                              <div class="tblformal" id="GUID-A3FBD96B-F775-4337-AF7D-0B8BBE3707A3__BGBCBBDI">
                                 <p class="titleintable">Table 7-1 Oracle Database Gateway for Teradata Parameter Values for UNIX Based Platforms</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Database Gateway for Teradata Parameter Values for UNIX Based Platforms" summary="summary" width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="39%" id="d18800e783">Platform</th>
                                          <th align="left" valign="bottom" width="61%" id="d18800e786">Parameter Value</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d18800e791" headers="d18800e783 ">
                                             <p>Oracle Solaris (SPARC) 64 bit</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d18800e791 d18800e786 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH_64=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d18800e799" headers="d18800e783 ">
                                             <p>HP-UX Itanium</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d18800e799 d18800e786 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d18800e807" headers="d18800e783 ">
                                             <p>Linux x86 64 bit</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d18800e807 d18800e786 ">
                                             <p><code class="codeph">LD_LIBRARY_PATH=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="39%" id="d18800e815" headers="d18800e783 ">
                                             <p>IBM AIX on POWER Systems (64-Bit)</p>
                                          </td>
                                          <td align="left" valign="top" width="61%" headers="d18800e815 d18800e786 ">
                                             <p><code class="codeph">LIBPATH=$ORACLE_HOME/lib</code></p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </li>
                        <li class="stepexpand"><span>If the listener is already running, use the <code class="codeph">lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl stop
$ lsnrctl start
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Check the status of the listener with the new settings, as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ lsnrctl status
</pre><p>The following is a partial output from a <code class="codeph">lsnrctl</code> status check:
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">.
.
.
Services Summary...
Service "dg4tera" has 1 instance(s).
  Instance "dg4tera", status UNKNOWN, has 1 handler(s) for this service...
The command completed successfully
</pre><p>In this example, the service name is <code class="codeph">dg4tera</code>, which is the default SID value assigned during installation.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS993"></a><div class="props_rev_3"><a id="GUID-8AA98DC9-7161-4B69-B742-5EBC2897071A" name="GUID-8AA98DC9-7161-4B69-B742-5EBC2897071A"></a><h3 id="OTGIS-GUID-8AA98DC9-7161-4B69-B742-5EBC2897071A" class="sect3">Configure the Oracle Database for Gateway Access</h3>
               <div>
                  <div class="section">
                     <p>Before you use the gateway to access Teradata data you must configure the Oracle database to enable communication with the gateway over Oracle Net.</p>
                     <p>To configure the Oracle database you must add connect descriptors to the <code class="codeph">tnsnames.ora</code> file. By default, this file is in <code class="codeph">$ORACLE_HOME/network/admin</code>, where <code class="codeph">$ORACLE_HOME</code> is the directory in which the Oracle database is installed. You cannot use the Oracle Net Assistant or the Oracle Net Easy Config tools to configure the <code class="codeph">tnsnames.ora</code> file. You must edit the file manually.
                     </p>
                     <p>A sample of the <code class="codeph">tnsnames.ora</code> entry (<code class="codeph">tnsnames.ora.sample</code>) is available in the <code class="codeph">$ORACLE_HOME/dg4tera/admin</code> directory where <code class="codeph">$</code><code class="codeph">ORACLE_HOME</code> is the directory under which the gateway is installed.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIS994"></a><div class="props_rev_3"><a id="GUID-2E378355-91F4-4109-9E2E-691F93F8625C" name="GUID-2E378355-91F4-4109-9E2E-691F93F8625C"></a><h4 id="OTGIS-GUID-2E378355-91F4-4109-9E2E-691F93F8625C" class="sect4">Configuring tnsnames.ora </h4>
                  <div>
                     <div class="section">
                        <p>Edit the <code class="codeph">tnsnames.ora</code> file to add a connect descriptor for the gateway. The following is the syntax of the Oracle Net entry using the TCP/IP protocol:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">connect_descriptor</span>=
   (DESCRIPTION=
      (ADDRESS=
         (PROTOCOL=TCP)
         (HOST=<span class="italic">host_name</span>)
         (PORT=<span class="italic">port_number</span>)
      )
      (CONNECT_DATA=
         (SID=<span class="italic">gateway_sid</span>))
      (HS=OK))
</pre><p>Where:</p>
                        <div class="tblformal" id="GUID-2E378355-91F4-4109-9E2E-691F93F8625C__GUID-9FC7E96C-0320-4FEF-B74E-5A3393A552EE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d18800e977">Variable</th>
                                    <th align="left" valign="bottom" width="75%" id="d18800e980">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e985" headers="d18800e977 ">
                                       <p><span class="italic"><code class="codeph">connect_descriptor</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e985 d18800e980 ">
                                       <p>is the description of the object to connect to as specified when creating the database link, such as <code class="codeph">dg4tera</code>. 
                                       </p>
                                       <p>Check the <code class="codeph">sqlnet.ora</code> file for the following parameter setting:
                                       </p><pre class="oac_no_warn" dir="ltr">names.directory_path = (TNSNAMES)
</pre><p><span class="bold">Note:</span> The <code class="codeph">sqlnet.ora</code> file is typically stored in <code class="codeph">$ORACLE_HOME/network/admin</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e1014" headers="d18800e977 ">
                                       <p><code class="codeph">TCP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e1014 d18800e980 ">
                                       <p>is the TCP protocol used for TCP/IP connections.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e1022" headers="d18800e977 ">
                                       <p><span class="italic"><code class="codeph">host_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e1022 d18800e980 ">
                                       <p>specifies the machine where the gateway is running.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e1031" headers="d18800e977 ">
                                       <p><span class="italic"><code class="codeph">port_number</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e1031 d18800e980 ">
                                       <p>matches the port number used by the Oracle Net Listener that is listening for the gateway. The Oracle Net Listener's port number can be found in the <code class="codeph">listener.ora</code> file used by the Oracle Net Listener. See <a href="config-teradata-gateway.html#GUID-59A148C5-E89C-4A7A-880E-E92ED4A04A1D">Syntax of listener.ora File Entries </a>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e1047" headers="d18800e977 ">
                                       <p><span class="italic"><code class="codeph">gateway_sid</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e1047 d18800e980 ">
                                       <p>specifies the SID of the gateway and matches the SID specified in the <code class="codeph">listener.ora</code> file of the Oracle Net Listener that is listening for the gateway. See <a href="config-teradata-gateway.html#GUID-0085C036-64AE-4E3D-9324-1E5D256D76F4">Configure Oracle Net Listener for the Gateway</a> for more information.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d18800e1063" headers="d18800e977 ">
                                       <p><code class="codeph">(HS=OK)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d18800e1063 d18800e980 ">
                                       <p>specifies that this connect descriptor connects to a non-Oracle system.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-2E378355-91F4-4109-9E2E-691F93F8625C__GUID-20E01AF5-20A3-412C-B6E7-D954BF079B85">
                           <p class="notep1">See Also:</p>
                           <p><a href="../netag/configuring-naming-methods.html#NETAG256" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about editing the <code class="codeph">tnsnames.ora</code> file.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1279"></a><div class="props_rev_3"><a id="GUID-57309533-4623-4F60-94F8-07B19D03467A" name="GUID-57309533-4623-4F60-94F8-07B19D03467A"></a><h4 id="OTGIS-GUID-57309533-4623-4F60-94F8-07B19D03467A" class="sect4">Configuring tnsnames.ora for Multiple Listeners</h4>
                  <div>
                     <div class="section">
                        <p>To ensure higher availability, you can specify multiple <a id="d18800e1128" class="indexterm-anchor"></a>listeners within the connect de<a id="d18800e1131" class="indexterm-anchor"></a>scriptor.
                        </p><pre class="oac_no_warn" dir="ltr"> <a id="d18800e1136" class="indexterm-anchor"></a><span class="italic">connect_descriptor</span>=
    (DESCRIPTION=
       (ADDRESS=
          (PROTOCOL=TCP)
          (HOST=<span class="italic">host_name_1</span>)
          (PORT=<span class="italic">port_number_1</span>)
       )
       (ADDRESS=
          (PROTOCOL=TCP)
          (HOST=<span class="italic">host_name_2</span>)
          (PORT=<span class="italic">port_number_2</span>)
       )
       (CONNECT_DATA=
          (SID=<span class="italic">gateway_sid</span>))
       (HS=OK))
</pre><p>This indicates that, if the listener for  <span class="italic"><code class="codeph">host_name_1</code></span> and <span class="italic"><code class="codeph">port_number_1</code></span> is not available, then the second listener for <span class="italic"><code class="codeph">host_name_2</code></span> and <span class="italic"><code class="codeph">port_number_2</code></span>  will take over.
                        </p>
                        <div class="infoboxnotealso" id="GUID-57309533-4623-4F60-94F8-07B19D03467A__GUID-D91CF4E9-70F4-4235-B872-78B722F770C9">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=NETAG256" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about editing the <code class="codeph">tnsnames.ora</code> file.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS995"></a><div class="props_rev_3"><a id="GUID-498CD897-F7F6-4D81-993B-BDDAAF87CC87" name="GUID-498CD897-F7F6-4D81-993B-BDDAAF87CC87"></a><h3 id="OTGIS-GUID-498CD897-F7F6-4D81-993B-BDDAAF87CC87" class="sect3">Create Database Links</h3>
               <div>
                  <div class="section">
                     <p>Any Oracle client connected to the Oracle database can access Teradata data through the gateway. The Oracle client and the Oracle database can reside on different machines. The gateway accepts connections only from the Oracle database.</p>
                     <p>A connection to the gateway is established through a database link when it is first used in an Oracle session. In this context, a connection refers to the connection between the Oracle database and the gateway. The connection remains established until the Oracle session ends. Another session or user can access the same database link and get a distinct connection to the gateway and Teradata database.</p>
                     <p>Database links are active for the duration of a gateway session. If you want to close a database link during a session, you can do so with the <code class="codeph">ALTER SESSION</code> statement.
                     </p>
                     <p>To access the Teradata server, you must create a database link. A public database link is the most common of database links.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> CONNECT TO
2  "<span class="italic">user"</span> IDENTIFIED BY <span class="italic">"password"</span> USING <span class="italic">'tns_name_entry</span>';
</pre><p>where:</p>
                     <div class="tblformal" id="GUID-498CD897-F7F6-4D81-993B-BDDAAF87CC87__GUID-DAE172EE-BC51-415E-8820-D5262C85DA0C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="variable definition" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d18800e1260">Variable</th>
                                 <th align="left" valign="bottom" width="75%" id="d18800e1263">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d18800e1268" headers="d18800e1260 ">
                                    <p><span class="italic"><code class="codeph">dblink</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d18800e1268 d18800e1263 ">
                                    <p>is the complete database link name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d18800e1277" headers="d18800e1260 ">
                                    <p><span class="italic"><code class="codeph">tns_name_entry</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d18800e1277 d18800e1263 ">
                                    <p>specifies the Oracle Net connect descriptor specified in the <code class="codeph">tnsnames.ora</code> file that identifies the gateway
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>After the database link is created you can verify the connection to the Teradata database, as follows:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM DUAL@dblink;
</pre><div class="infoboxnotealso" id="GUID-498CD897-F7F6-4D81-993B-BDDAAF87CC87__GUID-6CFAABED-C8BB-482D-A13F-CA22B0F9D63A">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for more information about using database links.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OTGIS996"></a><div class="props_rev_3"><a id="GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07" name="GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07"></a><h3 id="OTGIS-GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07" class="sect3">Configure Two-Phase Commit</h3>
               <div>
                  <div class="section">
                     <p><a id="d18800e1334" class="indexterm-anchor"></a>The gateway supports the following transaction capabilities:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">COMMIT_CONFIRM</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">READ_ONLY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SINGLE_SITE</code></p>
                        </li>
                     </ul>
                     <p><a id="d18800e1354" class="indexterm-anchor"></a><a id="d18800e1358" class="indexterm-anchor"></a>The transaction model is set using the <code class="codeph">HS_TRANSACTION_MODEL</code> initialization parameter. By default, the gateway runs in <code class="codeph">COMMIT_CONFIRM</code> transaction mode. When the Teradata database is updated by a transaction, the gateway becomes the commit point site. The Oracle database commits the unit of work in the Teradata database after verifying that all Oracle databases in the transaction have successfully prepared the transaction. Only one gateway instance can participate in an Oracle two-phase commit transaction as the commit point site. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-53CFD0AD-17F5-41D2-A35F-83A3804D8A07__GUID-4FF829FF-DC53-4E26-85C1-F32FC95048BC">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4068" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a> for information about the two-phase commit process.
                        </p>
                     </div>
                     <p>To enable the <code class="codeph">COMMIT_CONFIRM</code> transaction mode, perform the following tasks:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="config-teradata-gateway.html#GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF">Create a Recovery Account and Password</a></span></li>
                     <li><span><a href="config-teradata-gateway.html#GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE">Create the Transaction Log Table</a></span></li>
                  </ol>
                  <div class="section">
                     <p>The log table, called <code class="codeph">HS_TRANSACTION_LOG</code>, is where two-phase commit transactions are recorded. Alternatively users can specify a different table name by setting a gateway initialization parameter <code class="codeph">HS_FDS_TRANSACTION_LOG</code> parameter. This table needs to be in the same schema as the recovery account.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="OTGIS997"></a><div class="props_rev_3"><a id="GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF" name="GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF"></a><h4 id="OTGIS-GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF" class="sect4">Create a Recovery Account and Password</h4>
                  <div>
                     <div class="section">
                        <p>For the gateway to recover distributed transactions, a <a id="d18800e1436" class="indexterm-anchor"></a>recovery account and password must be set up in the Teradata database. By default, both the <a id="d18800e1441" class="indexterm-anchor"></a>user name of the account and the password are <code class="codeph">RECOVER</code>. The name of the account can be changed with the gateway initialization parameter <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code>. The account password can be changed with the gateway initialization parameter <code class="codeph">HS_FDS_RECOVERY_PWD</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF__GUID-1BCEA7F3-3773-4D9C-AB82-369BAB15E843">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends that you do not use the default value <code class="codeph">RECOVER</code> for the user name and password. Moreover, storing plain-text as user name and password in the initialization file is not a good security policy. There is now a utility called <code class="codeph">dg4pwd</code> that should be used for encryption. Refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4010" target="_blank">Section 4.2.3, 'Encrypting Initialization parameters'</a> in the <span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span> for further details.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Set up a user account in the Teradata database. Both the user name and password must be a valid Teradata user name and password.</span></li>
                        <li class="stepexpand"><span>In the initialization parameter file, set the following gateway initialization parameters:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> to the user name of the Teradata user account you set up for recovery.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">HS_FDS_RECOVERY_PWD</code> to the password of the Teradata user account you set up for recovery.
                                    </p>
                                    <div class="infoboxnotealso" id="GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF__GUID-F82233B4-8914-4FBE-AE35-B25294405B68">
                                       <p class="notep1">See Also:</p>
                                       <p><a href="config-teradata-gateway.html#GUID-E53D69AD-0114-4D15-9894-02A8EFC124C8">Customize the Initialization Parameter File</a> for information about editing the initialization parameter file. For information about <code class="codeph">HS_FDS_RECOVERY_ACCOUNT</code> and <code class="codeph">HS_FDS_RECOVERY_PWD</code>, see <a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F"> Initialization Parameters</a>.
                                       </p>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="OTGIS998"></a><div class="props_rev_3"><a id="GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE" name="GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE"></a><h4 id="OTGIS-GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE" class="sect4">Create the Transaction Log Table</h4>
                  <div>
                     <div class="section">
                        <p>When configuring the gateway for two-phase commit, a <a id="d18800e1553" class="indexterm-anchor"></a>table must be created in the Teradata database for logging transactions. The gateway uses the transaction log table to check the status of failed transactions that were started at the Teradata database by the gateway and registered in the table. 
                        </p>
                        <div class="infoboxnote" id="GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE__GUID-5B4D8D71-3F1B-4BC4-B669-9FD5E9A8BD37">
                           <p class="notep1">Note:</p>
                           <p>Updates to the transaction log table cannot be part of an Oracle distributed transaction.</p>
                        </div>
                        <div class="infoboxnote" id="GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE__GUID-192FE926-2AD5-40FF-950D-27F104186BAE">
                           <p class="notep1">Note:</p>
                           <p>The information in the transaction log table is required by the recovery process and<span class="italic"> </span>must not be altered. The table<span class="italic"> </span>must be used, accessed, or updated only by the gateway.
                           </p>
                        </div>
                        <p>The table, called <code class="codeph">HS_TRANSACTION_LOG</code><span class="bold">,</span> consists of two columns, <code class="codeph">GLOBAL_TRAN_ID</code>, data type <code class="codeph">CHAR(64)</code> and <code class="codeph">TRAN_COMMENT</code>, data type <code class="codeph">CHAR(255)</code>.
                        </p>
                        <p>You can use another name for the log table, other than <code class="codeph">HS_TRANSACTION_LOG</code><span class="bold">, </span>by specifying the other name using the <code class="codeph">HS_FDS_TRANSACTION_LOG</code> initialization parameter.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE__GUID-96FD3DEA-85B8-48DA-9FA9-BEDC01671BA1">
                           <p class="notep1">See Also:</p>
                           <p><a href="initialization-parameters-for-gateways.html#GUID-82BEBA7B-5B1A-46F6-9ADC-7375C17A9E1F"> Initialization Parameters</a> for information about the <code class="codeph">HS_FDS_TRANSACTION_LOG</code> initialization parameter.
                           </p>
                        </div>
                        <p>Create the transaction log table in the user account you created in <a href="config-teradata-gateway.html#GUID-44B352BC-7B24-4179-922F-A2AEA55CABAF">Create a Recovery Account and Password</a>. Because the transaction log table is used to record the status of a gateway transaction, the table must reside at the database where the Teradata update takes place. Also, the transaction log table must be created under the owner of the recovery account.
                        </p>
                        <div class="infoboxnote" id="GUID-3A563D6E-6C8B-4098-9737-86EC6CC027CE__GUID-D88E6F78-B2E3-425B-A5A0-E7C306B375F0">
                           <p class="notep1">Note:</p>
                           <p>To utilize the transaction log table, users of the gateway must be granted privileges on the table.</p>
                        </div>
                        <p>To create a transaction log table use the <code class="codeph">dg4tera_tx.sql</code> script, located in the directory <code class="codeph">$ORACLE_HOME/dg4tera/admin</code>, where <code class="codeph">$ORACLE_HOME</code> is the directory under which the gateway is installed.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OTGIS999"></a><div class="props_rev_3"><a id="GUID-93EE34C4-32D8-471D-BEB8-9B70C5DFD392" name="GUID-93EE34C4-32D8-471D-BEB8-9B70C5DFD392"></a><h3 id="OTGIS-GUID-93EE34C4-32D8-471D-BEB8-9B70C5DFD392" class="sect3">Encrypt Gateway Initialization Parameter Values</h3>
               <div>
                  <p>The gateway uses user IDs and passwords to access the information in the remote database. Some user IDs and passwords must be defined in the gateway initialization file to handle functions such as resource recovery. In the current security conscious environment, having plain-text passwords that are accessible in the initialization file is deemed insecure. The <code class="codeph">dg4pwd</code> encryption utility has been added as part of Heterogeneous Services to help make this more secure. This utility is accessible by this gateway. The initialization parameters that contain sensitive values can be stored in an encrypted form.
                  </p>
                  <div class="infoboxnotealso" id="GUID-93EE34C4-32D8-471D-BEB8-9B70C5DFD392__GUID-2E27CE53-E65C-4662-A9CB-E4AC5C0DDDAE">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/otgis&amp;id=HETER4068" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity Administrator's Guide</span></a> for more information about using this utility.
                     </p>
                  </div>
               </div>
            </div><a id="OTGIS1000"></a><div class="props_rev_3"><a id="GUID-77F3E772-3AF7-43DB-9666-BC251832F58B" name="GUID-77F3E772-3AF7-43DB-9666-BC251832F58B"></a><h3 id="OTGIS-GUID-77F3E772-3AF7-43DB-9666-BC251832F58B" class="sect3">Configure the Gateway to Access Multiple Teradata Databases</h3>
               <div>
                  <p>The tasks for configuring the gateway to access multiple Teradata databases are similar to the tasks for configuring the gateway for a single database. The configuration example assumes the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The gateway is installed and configured with the default SID of <code class="codeph">dg4tera</code></p>
                     </li>
                     <li>
                        <p>The <code class="codeph">ORACLE_HOME</code> environment variable is set to the directory where the gateway is installed.
                        </p>
                     </li>
                     <li>
                        <p>The gateway is configured for one Teradata database named <code class="codeph">db1</code>.
                        </p>
                     </li>
                     <li>
                        <p>Two Teradata databases named <code class="codeph">db2</code> and <code class="codeph">db3</code> on a host with IP Address 204.179.79.15 are being added.
                        </p>
                     </li>
                  </ul>
               </div><a id="OTGIS1213"></a><a id="OTGIS1214"></a><a id="OTGIS1001"></a><div class="props_rev_3"><a id="GUID-98886429-2D6C-4A30-B8A2-E5072E88EBBA" name="GUID-98886429-2D6C-4A30-B8A2-E5072E88EBBA"></a><h4 id="OTGIS-GUID-98886429-2D6C-4A30-B8A2-E5072E88EBBA" class="sect4">Multiple Teradata Databases Example: Configuring the Gateway</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-98886429-2D6C-4A30-B8A2-E5072E88EBBA__GUID-3CB66687-F2E7-4C1E-B7F6-8181C42C0E7C">Choose One System ID for Each Teradata Database </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A separate instance of the gateway is needed for each Teradata database. Each instance needs its own gateway System ID (SID). For this example, the gateway SIDs are chosen for the instances that access the Teradata databases:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">dg4tera2</code><span class="bold"> </span>for the gateway accessing database <code class="codeph">db2</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">dg4tera3</code> for the gateway accessing database <code class="codeph">db3</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-98886429-2D6C-4A30-B8A2-E5072E88EBBA__GUID-95BD7E18-884D-480B-9580-6A555075A906">Create Two Initialization Parameter Files</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Create an initialization parameter file for each instance of the gateway by copying the original initialization parameter file: <code class="codeph">                              $ORACLE_HOME/dg4tera/admin/initdg4tera.ora</code>, twice, naming one with the gateway SID for <code class="codeph">db2</code> and the other with the gateway SID for <code class="codeph">db3</code>:
                        </p><pre class="oac_no_warn" dir="ltr">$ cd $ORACLE_HOME/dg4tera/admin
$ cp initdg4tera.ora initdg4tera2.ora
$ cp initdg4tera.ora initdg4tera3.ora
</pre><p>Change the value of the <code class="codeph">HS_FDS_CONNECT_INFO</code> parameter in the new files.
                        </p>
                        <p>For <code class="codeph">init</code><code class="codeph">dg4tera</code><code class="codeph">2.ora</code>, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=204.179.79.15:1025/db2
</pre><p>For <code class="codeph">init</code><code class="codeph">dg4tera</code><code class="codeph">3.ora</code>, enter the following:
                        </p><pre class="oac_no_warn" dir="ltr">HS_FDS_CONNECT_INFO=204.179.79.15:1025/db3
</pre><div class="infoboxnote" id="GUID-98886429-2D6C-4A30-B8A2-E5072E88EBBA__GUID-DCDF2407-9801-49FA-BB17-D8726275AE69">
                           <p class="notep1">Note:</p>
                           <p>If you have multiple gateway SIDs for the same Teradata database because you want to use different gateway parameter settings at different times, follow the same procedure. You create several initialization parameter files, each with different SIDs and different parameter settings.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1215"></a><a id="OTGIS1002"></a><div class="props_rev_3"><a id="GUID-D61C23C5-1427-488B-B7AF-5C3B4D1D43E4" name="GUID-D61C23C5-1427-488B-B7AF-5C3B4D1D43E4"></a><h4 id="OTGIS-GUID-D61C23C5-1427-488B-B7AF-5C3B4D1D43E4" class="sect4">Multiple Teradata Databases Example: Configuring Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-D61C23C5-1427-488B-B7AF-5C3B4D1D43E4__GUID-77CF385F-1E6E-47BA-9C6B-458FDCA7337A">Add Entries to listener.ora</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Add two new entries to the Oracle Net Listener configuration file,<span class="bold"> </span><code class="codeph">listener.ora</code>. You must have an entry for each gateway instance, even when multiple gateway instances access the same database.
                        </p>
                        <p>The following example shows the entry for the original installed gateway first, followed by the new entries.</p><pre class="oac_no_warn" dir="ltr">SID_LIST_LISTENER=
(SID_LIST=
   (SID_DESC=
      (SID_NAME=dg4tera)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (PROGRAM=dg4tera)
      (ENVS=LD_LIBRARY_PATH=<span class="italic">oracle_home_directory</span>/lib:<span class="italic">teradata_client_library_directory</span>:/usr/lib)
   )
   (SID_DESC=
      (SID_NAME=dg4tera2)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (PROGRAM=dg4tera)
      (ENVS=LD_LIBRARY_PATH=<span class="italic">oracle_home_directory</span>/lib:<span class="italic">teradata_client_library_directory</span>:/usr/lib)
   )
   (SID_DESC=
      (SID_NAME=dg4tera3)
      (ORACLE_HOME=<span class="italic">oracle_home_directory</span>)
      (PROGRAM=dg4tera)
      (ENVS=LD_LIBRARY_PATH=<span class="italic">oracle_home_directory</span>/lib:<span class="italic">teradata_client_library_directory</span>:/usr/lib)
   )
)
</pre><p>where, <code class="codeph">oracle_home_directory</code> is the directory where the gateway resides.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1003"></a><div class="props_rev_3"><a id="GUID-9F0AA48F-1993-487C-B33A-3B93ED223049" name="GUID-9F0AA48F-1993-487C-B33A-3B93ED223049"></a><h4 id="OTGIS-GUID-9F0AA48F-1993-487C-B33A-3B93ED223049" class="sect4">Multiple Teradata Databases Example: Stopping and Starting the Oracle Net Listener</h4>
                  <div>
                     <div class="section">
                        <p>If the listener is already running, use the <code class="codeph">lsnrctl</code> command to stop the listener and then start it with the new settings, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">$ lsnrctl stop
$ lsnrctl start</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OTGIS1004"></a><div class="props_rev_3"><a id="GUID-77168CA0-5ABF-48DB-A4CE-F66B4D1EAA37" name="GUID-77168CA0-5ABF-48DB-A4CE-F66B4D1EAA37"></a><h4 id="OTGIS-GUID-77168CA0-5ABF-48DB-A4CE-F66B4D1EAA37" class="sect4">Multiple Teradata Databases Example: Configuring Oracle Database for Gateway Access</h4>
                  <div>
                     <p>Example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="config-teradata-gateway.html#GUID-599101D3-7079-48D1-8DD2-A1F21AE84DC5">Configuring Oracle Net for Multiple Gateway Instances</a></p>
                        </li>
                     </ul>
                  </div><a id="OTGIS1005"></a><div class="props_rev_3"><a id="GUID-599101D3-7079-48D1-8DD2-A1F21AE84DC5" name="GUID-599101D3-7079-48D1-8DD2-A1F21AE84DC5"></a><h5 id="OTGIS-GUID-599101D3-7079-48D1-8DD2-A1F21AE84DC5" class="sect5">Configuring Oracle Net for Multiple Gateway Instances</h5>
                     <div>
                        <div class="section">
                           <p>Add two connect descriptor entries to the <code class="codeph">tnsnames.ora</code><span class="bold"> </span>file. You must have an entry for each gateway instance, even if the gateway instances access the same database.
                           </p>
                           <p>The following Teradata example shows the entry for the original installed gateway first, followed by the two entries for the new gateway instances:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">old_db_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=port_number)
                (HOST=host_name))
                (CONNECT_DATA=
                    (SID=dg4tera))
               (HS=OK))
<span class="italic">new_db2_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=port_number)
                (HOST=host_name))
                (CONNECT_DATA=
                    (SID=dg4tera2))
                (HS=OK))
<span class="italic">new_db3_using</span>=(DESCRIPTION=
              (ADDRESS=
                (PROTOCOL=TCP)
                (PORT=port_number)
                (HOST=host_name))
                (CONNECT_DATA=
                    (SID=dg4tera3))
                (HS=OK)) 
</pre><p>The value for <code class="codeph">PORT</code> is the TCP/IP port number of the Oracle Net Listener that is listening for the gateway. The number can be found in the <code class="codeph">listener.ora</code> file used by the Oracle Net Listener. The value for <code class="codeph">HOST</code> is the name of the machine on which the gateway is running. The name also can be found in the <code class="codeph">listener.ora</code> file used by the Oracle Net Listener.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OTGIS1006"></a><div class="props_rev_3"><a id="GUID-63A065B4-B974-42B7-8BB6-8831150690EC" name="GUID-63A065B4-B974-42B7-8BB6-8831150690EC"></a><h4 id="OTGIS-GUID-63A065B4-B974-42B7-8BB6-8831150690EC" class="sect4">Multiple Teradata Databases Example: Accessing Teradata Data</h4>
                  <div>
                     <div class="section">
                        <p>Enter the following to create a database link for the <code class="codeph">dg4tera2</code> gateway:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK TERA2 CONNECT TO
  2  <span class="italic">"user2"</span> IDENTIFIED BY <span class="italic">"password2</span>" USING 'new_db2_using';
</pre><p>Enter the following to create a database link for the <code class="codeph">dg4tera3</code> gateway:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK TERA3 CONNECT TO
  2  "<span class="italic">user3"</span> IDENTIFIED BY "<span class="italic">password3"</span> USING 'new_db3_using';
</pre><p>After the database links are created, you can verify the connection to the new Teradata databases, as in the following:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS@TERA2;
</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM ALL_USERS@TERA3;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13032.automatic-performance-diagnostics.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Automatic Performance Diagnostics</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Performance Tuning Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Performance Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00">
      <meta name="dcterms.title" content="Database Performance Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96347-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="gathering-database-statistics.html" title="Previous" type="text/html">
      <link rel="next" href="comparing-database-performance-over-time.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="gathering-database-statistics.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="comparing-database-performance-over-time.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Performance Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-diagnosing-and-tuning-database-performance.html" property="item" typeof="WebPage"><span property="name">Diagnosing and Tuning Database Performance </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Automatic Performance Diagnostics </li>
            </ol>
            <a id="GUID-843A596D-2D8B-422D-9C8D-73C0EF52739D" name="GUID-843A596D-2D8B-422D-9C8D-73C0EF52739D"></a><a id="TGDBA026"></a>
            
            <h2 id="TGDBA-GUID-843A596D-2D8B-422D-9C8D-73C0EF52739D" class="sect2"><span class="enumeration_chapter">7 </span>Automatic Performance Diagnostics 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes Oracle Database automatic features for performance diagnosing and tuning.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="automatic-performance-diagnostics.html#GUID-F1FBA929-4FCF-4872-AEE6-2DF716B5BD43" title="Starting with Oracle Database 12c, ADDM is enabled by default in the root container of a multitenant container database (CDB). Starting with Oracle Database 19c, you can also use ADDM in a pluggable database (PDB).ADDM does not work in a pluggable database (PDB) by default, because automatic AWR snapshots are disabled by default in a PDB. To use ADDM in a PDB, you must enable automatic AWR snapshots in the PDB by setting the AWR_PDB_AUTOFLUSH_ENABLED initialization parameter to TRUE and AWR snapshot interval greater than 0.">Overview of the Automatic Database Diagnostic Monitor</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-performance-diagnostics.html#GUID-19D504B9-B4E4-4FBF-B0D2-F758B467FEDD">Setting Up ADDM</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-performance-diagnostics.html#GUID-AEE549F3-DDF9-4977-8A0A-FE1E47C75679">Diagnosing Database Performance Problems with ADDM</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-performance-diagnostics.html#GUID-914A7E7C-FD5F-4F24-93AA-9E98578EB129">ADDM Views</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-843A596D-2D8B-422D-9C8D-73C0EF52739D__GUID-7C5438DD-C87F-4C91-ADF3-99690F5980DF">
                  <p class="notep1">See Also:</p>
                  <p><a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for information about using Oracle Enterprise Manager Cloud Control (Cloud Control) to diagnose and tune the database with the Automatic Database Diagnostic Monitor
                  </p>
               </div>
            </div><a id="TGDBA02602"></a><div class="props_rev_3"><a id="GUID-F1FBA929-4FCF-4872-AEE6-2DF716B5BD43" name="GUID-F1FBA929-4FCF-4872-AEE6-2DF716B5BD43"></a><h3 id="TGDBA-GUID-F1FBA929-4FCF-4872-AEE6-2DF716B5BD43" class="sect3"><span class="enumeration_section">7.1 </span>Overview of the Automatic Database Diagnostic Monitor
               </h3>
               <div>
                  <p>The Automatic Workload Repository (AWR) stores performance related statics for an Oracle database. The Automatic Database Diagnostic Monitor (ADDM) is a diagnostic tool that analyzes the AWR data on a regular basis, locates root causes of any performance problems, provides recommendations for correcting the problems, and identifies non-problem areas of the system. Because AWR is a repository of historical performance data, ADDM can analyze performance issues after the event, often saving time and resources in reproducing a problem.</p>
                  <p>In most cases, ADDM output should be the first place that a DBA looks when notified of a performance problem. ADDM provides the following benefits:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Automatic performance diagnostic report every hour by default</p>
                     </li>
                     <li>
                        <p>Problem diagnosis based on decades of tuning expertise</p>
                     </li>
                     <li>
                        <p>Time-based quantification of problem impacts and recommendation benefits</p>
                     </li>
                     <li>
                        <p>Identification of root cause, not symptoms</p>
                     </li>
                     <li>
                        <p>Recommendations for treating the root causes of problems</p>
                     </li>
                     <li>
                        <p>Identification of non-problem areas of the system</p>
                     </li>
                     <li>
                        <p>Minimal overhead to the system during the diagnostic process</p>
                     </li>
                  </ul>
                  <p>Tuning is an iterative process, and fixing one problem can cause the bottleneck to shift to another part of the system. Even with the benefit of ADDM analysis, it can take multiple tuning cycles to reach acceptable system performance. ADDM benefits apply beyond production systems; on development and test systems, ADDM can provide an early warning of performance issues.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-0C89C9A5-A9EE-4E65-95F8-208C9EA36743">ADDM Analysis</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-8ACD5F59-CFED-4F2A-8284-D969E9E22335">Using ADDM with Oracle Real Application Clusters</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5" title="Starting with Oracle Database 12c, ADDM is enabled by default in the root container of a multitenant container database (CDB). Starting with Oracle Database 19c, you can also use ADDM in a pluggable database (PDB).">Using ADDM in a Multitenant Environment</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-9DD81F99-3B4D-4340-9F19-30E5B47DC41D">Real-Time ADDM Analysis</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-824AA656-C199-437D-926B-A8F05590A65C">ADDM Analysis Results</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8">Reviewing ADDM Analysis Results: Example</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-F1FBA929-4FCF-4872-AEE6-2DF716B5BD43__GUID-C40BBFE1-3E0D-4ACD-8CDD-DA6EA621883C">
                     <p class="notep1">Note:</p>
                     <p>Data visibility and privilege requirements may differ when using ADDM features with pluggable databases (PDBs). For information about how manageability features, including ADDM features, work in a multitenant container database (CDB), see <a href="../multi/administering-a-cdb-with-sql-plus.html#MULTI-GUID-DF42C0D3-8968-4810-9327-9D176337D356" target="_blank"><span class="italic">Oracle Multitenant Administrator’s Guide</span></a>.
                     </p>
                  </div>
               </div><a id="TGDBA94240"></a><div class="props_rev_3"><a id="GUID-0C89C9A5-A9EE-4E65-95F8-208C9EA36743" name="GUID-0C89C9A5-A9EE-4E65-95F8-208C9EA36743"></a><h4 id="TGDBA-GUID-0C89C9A5-A9EE-4E65-95F8-208C9EA36743" class="sect4"><span class="enumeration_section">7.1.1 </span>ADDM Analysis
                  </h4>
                  <div>
                     <p>An ADDM analysis can be performed on a pair of AWR snapshots and a set of instances from the same database. The pair of AWR snapshots define the time period for analysis, and the set of instances define the target for analysis.</p>
                     <p>If you are using Oracle Real Application Clusters (Oracle RAC), then ADDM has three analysis modes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Database</p>
                           <p>In Database mode, ADDM analyzes all instances of the database.</p>
                        </li>
                        <li>
                           <p>Instance</p>
                           <p>In Instance mode, ADDM analyzes a particular instance of the database.</p>
                        </li>
                        <li>
                           <p>Partial</p>
                           <p>In Partial mode, ADDM analyzes a subset of all database instances.</p>
                        </li>
                     </ul>
                     <p>If you are not using Oracle RAC, then ADDM can only function in Instance mode because only one instance of the database exists.</p>
                     <p>An ADDM analysis is performed each time an AWR snapshot is taken and the results are saved in the database. The time period analyzed by ADDM is defined by the last two snapshots (the last hour by default). ADDM will always analyze the specified instance in Instance mode. For non-Oracle RAC or single instance environments, the analysis performed in the Instance mode is the same as a database-wide analysis. If you are using Oracle RAC, then ADDM also analyzes the entire database in Database mode, as described in <span class="q">"<a href="automatic-performance-diagnostics.html#GUID-8ACD5F59-CFED-4F2A-8284-D969E9E22335">Using ADDM with Oracle Real Application Clusters</a>"</span>.
                     </p>
                     <p>After ADDM completes its analysis, you can view the ADDM results using either Cloud Control, or <code class="codeph">DBMS_ADDM</code> package subprograms, or <code class="codeph">DBA_ADDM_*</code> and <code class="codeph">DBA_ADVISOR_*</code> views.
                     </p>
                     <p>ADDM analysis is performed top down, first identifying symptoms, and then refining them to reach the root causes of performance problems. The goal of the analysis is to reduce a single throughput <a id="d19268e302" class="indexterm-anchor"></a>metric called <code class="codeph">DB</code> <code class="codeph">time</code>. <code class="codeph">DB</code> <code class="codeph">time</code> is the fundamental measure of database performance, and is the cumulative time spent by the database in processing user requests. It includes wait time and CPU time of all non-idle user foreground sessions. <code class="codeph">DB</code> <code class="codeph">time</code> is displayed in the <code class="codeph">V$SESS_TIME_MODEL</code> and <code class="codeph">V$SYS_TIME_MODEL</code> views.
                     </p>
                     <p><a id="d19268e333" class="indexterm-anchor"></a>By reducing <code class="codeph">DB</code> <code class="codeph">time</code>, the database is able to support more user requests using the same resources, which increases throughput. The problems reported by ADDM are sorted by the amount of <code class="codeph">DB</code> <code class="codeph">time</code> they are responsible for. System areas that are not responsible for a significant portion of <code class="codeph">DB</code> <code class="codeph">time</code> are reported as non-problem areas.
                     </p>
                     <p><a id="d19268e358" class="indexterm-anchor"></a>The types of problems that ADDM considers include the following: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>CPU bottlenecks - Is the system CPU bound by Oracle Database or some other application?</p>
                        </li>
                        <li>
                           <p>Undersized Memory Structures - Are the Oracle Database memory structures, such as the SGA, PGA, and buffer cache, adequately sized?</p>
                        </li>
                        <li>
                           <p>I/O capacity issues - Is the I/O subsystem performing as expected?</p>
                        </li>
                        <li>
                           <p>High-load SQL statements - Are there any SQL statements which are consuming excessive system resources?</p>
                        </li>
                        <li>
                           <p>High-load PL/SQL execution and compilation, and high-load Java usage</p>
                        </li>
                        <li>
                           <p>Oracle RAC specific issues - What are the global cache hot blocks and objects; are there any interconnect latency issues?</p>
                        </li>
                        <li>
                           <p>Sub-optimal use of Oracle Database by the application - Are there problems with poor connection management, excessive parsing, or application level lock contention?</p>
                        </li>
                        <li>
                           <p>Database configuration issues - Is there evidence of incorrect sizing of log files, archiving issues, excessive checkpoints, or sub-optimal parameter settings?</p>
                        </li>
                        <li>
                           <p>Concurrency issues - Are there buffer busy problems?</p>
                        </li>
                        <li>
                           <p>Hot objects and top SQL for various problem areas</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-0C89C9A5-A9EE-4E65-95F8-208C9EA36743__GUID-3542A93D-ECC0-4F4B-A19B-1224454CCFDE">
                        <p class="notep1">Note:</p>
                        <p>This is not a comprehensive list of all problem types that ADDM considers in its analysis.</p>
                     </div>
                     <p>ADDM also documents the non-problem areas of the system. For example, wait event classes that are not significantly impacting the performance of the system are identified and removed from the tuning consideration at an early stage, saving time and effort that would be spent on items that do not impact overall system performance.</p>
                     <div class="infoboxnotealso" id="GUID-0C89C9A5-A9EE-4E65-95F8-208C9EA36743__GUID-1F6C4CE9-1BEF-487B-8DAA-5C08C7FB1342">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;" id="GUID-0C89C9A5-A9EE-4E65-95F8-208C9EA36743__UL_UHM_G4R_3GB">
                           <li>
                              <p><a href="../refrn/V-SESS_TIME_MODEL.html#REFRN30340" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SESS_TIME_MODEL</code> and <code class="codeph">V$SYS_TIME_MODEL</code> views
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="measuring-database-performance.html#GUID-BC858042-CD71-4717-A614-C0B0A4FE6F2D">Time Model Statistics</a>"</span> for a discussion of time model statistics and <code class="codeph">DB</code> <code class="codeph">time</code></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/process-architecture.html#CNCPT008" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about server processes
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA94241"></a><div class="props_rev_3"><a id="GUID-8ACD5F59-CFED-4F2A-8284-D969E9E22335" name="GUID-8ACD5F59-CFED-4F2A-8284-D969E9E22335"></a><h4 id="TGDBA-GUID-8ACD5F59-CFED-4F2A-8284-D969E9E22335" class="sect4"><span class="enumeration_section">7.1.2 </span>Using ADDM with Oracle Real Application Clusters
                  </h4>
                  <div>
                     <p>If you are using Oracle RAC, then run ADDM in Database analysis mode to analyze the throughput performance of all instances of the database. In Database mode, ADDM considers DB time as the sum of the database time for all database instances. Using the Database analysis mode enables you to view all findings that are significant to the entire database in a single report, instead of reviewing a separate report for each instance.</p>
                     <p>The Database mode report includes findings about database resources (such as I/O and interconnect). The report also aggregates findings from the various instances if they are significant to the entire database. For example, if the CPU load on a single instance is high enough to affect the entire database, then the finding appears in the Database mode analysis, which points to the particular instance responsible for the problem.</p>
                     <div class="infoboxnotealso" id="GUID-8ACD5F59-CFED-4F2A-8284-D969E9E22335__GUID-9952D424-4565-41EE-9003-5063A7A607A1">
                        <p class="notep1">See Also:</p>
                        <p><a href="../racad/monitoring-performance.html#RACAD-GUID-42E1B55A-4685-4CED-98CA-1BB576650D1A" target="_blank"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using ADDM with Oracle RAC
                        </p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5" name="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5"></a><h4 id="TGDBA-GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5" class="sect4"><span class="enumeration_section">7.1.3 </span>Using ADDM in a Multitenant Environment
                  </h4>
                  <div>
                     <p>Starting with Oracle Database 12c, ADDM is enabled by default in the root container of a multitenant container database (CDB). Starting with Oracle Database 19c, you can also use ADDM in a pluggable database (PDB).</p>
                     <div class="section">
                        <p>In a CDB, ADDM works in the same way as it works in a non-CDB, that is, the ADDM analysis is performed each time an AWR snapshot is taken on a CDB root or a PDB, and the ADDM results are stored on the same database system where the snapshot is taken. The time period analyzed by ADDM is defined by the last two snapshots (the last hour by default). </p>
                        <p>After ADDM completes its analysis, you can view the ADDM results using any of the following methods:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Using Enterprise Manager Cloud Control (Cloud Control)</p>
                           </li>
                           <li>
                              <p>Using the <code class="codeph">DBA_ADDM_*</code> and <code class="codeph">DBA_ADVISOR_*</code> views
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__GUID-B6B811FC-9517-4045-BEAC-E44FC7B9B380">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__UL_KJX_XP4_JGB">
                              <li>ADDM is enabled by default in a CDB root.</li>
                              <li>ADDM does not work in a PDB by default, because automatic AWR snapshots are disabled by default in a PDB. To use ADDM in a PDB, you must enable automatic AWR snapshots in the PDB.</li>
                              <li>A user whose current container is the CDB root can view ADDM results for the entire CDB. The ADDM results can include information about multiple PDBs. ADDM results related to a PDB are not included if the PDB is unplugged. The ADDM results stored on the CDB root cannot be viewed when the current container is a PDB.</li>
                              <li>ADDM results on a PDB provide only PDB-specific findings and recommendations. A user whose current container is a PDB can view ADDM results for the current PDB only. The ADDM results exclude findings that apply to the CDB as a whole, for example, I/O problems relating to the buffer cache size.</li>
                              <li>Enabling AWR snapshots on a PDB does not change the ADDM report on the CDB root.</li>
                              <li>AWR data on a PDB cannot be accessed from the CDB root.</li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__GUID-188AF643-808E-4966-AB84-BA9EE1340262">PDB-Level ADDM Restrictions</p>
                        <p>Unlike in a non-CDB, ADDM does not report the following issues in a PDB, because these issues apply to a CDB as a whole and do not apply to an individual PDB:</p>
                        <ul style="list-style-type: disc;" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__UL_UM1_X24_JGB">
                           <li>
                              <p>I/O problems due to: </p>
                              <ul style="list-style-type: disc;" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__UL_HRX_DM4_JGB">
                                 <li>undersized buffer cache</li>
                                 <li>undersized streams pool</li>
                                 <li>excessive temporary writes</li>
                                 <li>excessive checkpoint writes</li>
                                 <li>excessive undo writes</li>
                                 <li>excessive PQ checkpoint writes</li>
                                 <li>excessive truncate writes</li>
                                 <li>excessive tablespace DDL checkpoint</li>
                                 <li>I/O capacity limit</li>
                              </ul>
                           </li>
                           <li>
                              <p>SQL hard parsing issues due to: </p>
                              <ul style="list-style-type: disc;" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__UL_GQF_QM4_JGB">
                                 <li>cursor aging</li>
                                 <li>out-of-memory failed parse</li>
                              </ul>
                           </li>
                           <li>
                              <p>SGA sizing issues</p>
                           </li>
                        </ul>
                        <p>ADDM also does not report the following issues in a PDB, because these issues cannot be resolved at a PDB level:</p>
                        <ul style="list-style-type: disc;" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__UL_VM1_X24_JGB">
                           <li>
                              <p>Cluster messaging related issues, such as network latency, congestion, contention, and lost blocks</p>
                           </li>
                           <li>
                              <p>Log file switch waits on archiving and on checkpoint incomplete</p>
                           </li>
                           <li>
                              <p>Too many free-buffer waits</p>
                           </li>
                           <li>
                              <p>Contention on log buffer waits</p>
                           </li>
                           <li>
                              <p>Waits due to CPU bottleneck</p>
                           </li>
                           <li>
                              <p>Operating system VM paging</p>
                           </li>
                           <li>
                              <p>Session slot wait event</p>
                           </li>
                           <li>
                              <p>CPU quantum wait event</p>
                           </li>
                           <li>
                              <p>RMAN related wait events, such as PQ queued wait event, PGA limit wait event, and I/O queue wait event</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__GUID-C9D0AA36-7691-4DE2-B757-FD842DBAF217">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5__UL_JDP_V24_JGB">
                              <li>
                                 <p><span class="q">"<a href="automatic-performance-diagnostics.html#GUID-5A4F4896-6F95-461F-84E3-8E40F6036752" title="ADDM does not work in a pluggable database (PDB) by default, because automatic AWR snapshots are disabled by default in a PDB. To use ADDM in a PDB, you must enable automatic AWR snapshots in the PDB by setting the AWR_PDB_AUTOFLUSH_ENABLED initialization parameter to TRUE and AWR snapshot interval greater than 0.">Enabling ADDM in a Pluggable Database</a>"</span> for information about how to enable ADDM in a PDB
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="automatic-performance-diagnostics.html#GUID-914A7E7C-FD5F-4F24-93AA-9E98578EB129">ADDM Views</a>"</span> for more information about the ADDM views <code class="codeph">DBA_ADDM_*</code> and <code class="codeph">DBA_ADVISOR_*</code></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="automatic-performance-diagnostics.html#GUID-AEE549F3-DDF9-4977-8A0A-FE1E47C75679">Diagnosing Database Performance Problems with ADDM</a>"</span> for information about how to run ADDM in an Oracle database using the <code class="codeph">DBMS_ADDM</code> package subprograms
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for information about how to run ADDM in an Oracle database using Cloud Control
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="props_rev_3"><a id="GUID-5A4F4896-6F95-461F-84E3-8E40F6036752" name="GUID-5A4F4896-6F95-461F-84E3-8E40F6036752"></a><h5 id="TGDBA-GUID-5A4F4896-6F95-461F-84E3-8E40F6036752" class="sect5"><span class="enumeration_section">7.1.3.1 </span>Enabling ADDM in a Pluggable Database
                     </h5>
                     <div>
                        <p>ADDM does not work in a pluggable database (PDB) by default, because automatic AWR snapshots are disabled by default in a PDB. To use ADDM in a PDB, you must enable automatic AWR snapshots in the PDB by setting the <code class="codeph">AWR_PDB_AUTOFLUSH_ENABLED</code> initialization parameter to <code class="codeph">TRUE</code> and AWR snapshot interval greater than 0.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-5A4F4896-6F95-461F-84E3-8E40F6036752__GUID-DD3E22CF-F0CF-4B77-91B8-E2D6FE1C97E2">To enable ADDM in a PDB:</p>
                           <ol>
                              <li>
                                 <p>Set the <code class="codeph">AWR_PDB_AUTOFLUSH_ENABLED</code> initialization parameter to <code class="codeph">TRUE</code> in the PDB using the following command:
                                 </p><pre class="pre codeblock"><code>SQL&gt; ALTER SYSTEM SET AWR_PDB_AUTOFLUSH_ENABLED=TRUE;</code></pre></li>
                              <li>
                                 <p>Set the AWR snapshot interval greater than 0 in the PDB using the command as shown in the following example:</p><pre class="pre codeblock"><code>SQL&gt; EXEC dbms_workload_repository.modify_snapshot_settings(interval=&gt;60);</code></pre></li>
                           </ol>
                           <div class="infoboxnotealso" id="GUID-5A4F4896-6F95-461F-84E3-8E40F6036752__GUID-B599EB38-C7DD-454C-9703-43CB5036F49C">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;" id="GUID-5A4F4896-6F95-461F-84E3-8E40F6036752__UL_WK1_XC4_JGB">
                                 <li>
                                    <p><a href="../refrn/AWR_PDB_AUTOFLUSH_ENABLED.html#REFRN-GUID-08FA21BC-8FB1-4C51-BEEA-139C734D17A7" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">AWR_PDB_AUTOFLUSH_ENABLED</code> initialization parameter
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../arpls/DBMS_WORKLOAD_REPOSITORY.html#ARPLS-GUID-E2B46878-1BDB-4789-8A21-016A625530F1" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_WORKLOAD_REPOSITORY.MODIFY_SNAPSHOT_SETTINGS</code> procedure
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TGDBA95368"></a><div class="props_rev_3"><a id="GUID-9DD81F99-3B4D-4340-9F19-30E5B47DC41D" name="GUID-9DD81F99-3B4D-4340-9F19-30E5B47DC41D"></a><h4 id="TGDBA-GUID-9DD81F99-3B4D-4340-9F19-30E5B47DC41D" class="sect4"><span class="enumeration_section">7.1.4 </span>Real-Time ADDM Analysis
                  </h4>
                  <div>
                     <p>Introduced in Oracle Enterprise Manager Cloud Control (Cloud Control) 12<span class="italic">c</span>, Real-Time ADDM helps you to analyze and resolve problems in unresponsive or hung databases that traditionally require you to restart the database. Real-Time ADDM runs through a set of predefined criteria to analyze the current performance of the database. After analyzing the problem, Real-Time ADDM helps you to resolve the identified issues—such as deadlocks, hangs, shared pool contention, and other exception situations—without having to restart the database.
                     </p>
                     <p>This section describes Real-Time ADDM and contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="automatic-performance-diagnostics.html#GUID-C8ACD778-60CF-4E9E-A644-45533E93C34A">Real-Time ADDM Connection Modes</a></p>
                        </li>
                        <li>
                           <p><a href="automatic-performance-diagnostics.html#GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6">Real-Time ADDM Triggers</a></p>
                        </li>
                        <li>
                           <p><a href="automatic-performance-diagnostics.html#GUID-01DB980E-9607-41DD-8B20-834FE8D77BE8">Real-Time ADDM Trigger Controls</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9DD81F99-3B4D-4340-9F19-30E5B47DC41D__GUID-DABECB6A-B020-4925-AA78-5604FDAE4D58">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tdppt/resolving-transient-performance-problems.html#TDPPT523" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a> for information about using Real-Time ADDM with Cloud Control
                        </p>
                     </div>
                  </div><a id="TGDBA95369"></a><div class="props_rev_3"><a id="GUID-C8ACD778-60CF-4E9E-A644-45533E93C34A" name="GUID-C8ACD778-60CF-4E9E-A644-45533E93C34A"></a><h5 id="TGDBA-GUID-C8ACD778-60CF-4E9E-A644-45533E93C34A" class="sect5"><span class="enumeration_section">7.1.4.1 </span>Real-Time ADDM Connection Modes
                     </h5>
                     <div>
                        <p>Depending on the database state, Real-Time ADDM uses two different types of connection modes when connecting to the database using Cloud Control:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Normal connection</p>
                              <p>In this mode, Real-Time ADDM performs a normal JDBC connection to the database. This mode is intended to perform extensive performance analysis of the database when some connectivity is available.</p>
                           </li>
                           <li>
                              <p>Diagnostic connection</p>
                              <p>In this mode, Real-Time ADDM performs a latch-less connection to the database. This mode is intended for extreme hang situations when a normal JDBC connection is not possible.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="TGDBA95371"></a><a id="TGDBA95370"></a><div class="props_rev_3"><a id="GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6" name="GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6"></a><h5 id="TGDBA-GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6" class="sect5"><span class="enumeration_section">7.1.4.2 </span>Real-Time ADDM Triggers
                     </h5>
                     <div>
                        <p>Starting with Oracle Database 12<span class="italic">c</span>, Real-Time ADDM proactively detects transient database performance issues. To do this, Real-Time ADDM runs automatically every 3 seconds and uses in-memory data to diagnose any performance spikes in the database.
                        </p>
                        <p>Real-Time ADDM triggers an analysis automatically when a performance problem is detected, as described in the following steps:</p>
                        <ol>
                           <li>
                              <p>Every 3 seconds, the manageability monitor process (MMON) performs an action to obtain performance statistics without lock or latch.</p>
                           </li>
                           <li>
                              <p>The MMON process checks these statistics and triggers a Real-Time ADDM analysis if any of the issues listed in <a href="automatic-performance-diagnostics.html#GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6__BABEDDIC" title="Lists the issues and conditions that trigger an Real-Time ADDM analysis.">Table 7-1</a> are detected.
                              </p>
                           </li>
                           <li>
                              <p>The MMON slave process creates the report and stores it in the AWR.</p>
                              <p>To view metadata for the report, use the <code class="codeph">DBA_HIST_REPORTS</code> view.
                              </p>
                           </li>
                        </ol>
                        <p><a href="automatic-performance-diagnostics.html#GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6__BABEDDIC" title="Lists the issues and conditions that trigger an Real-Time ADDM analysis.">Table 7-1</a> lists the issues and conditions that trigger a Real-Time ADDM analysis.
                        </p>
                        <div class="tblformal" id="GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6__BABEDDIC">
                           <p class="titleintable">Table 7-1 Triggering Issues and Conditions for Real-Time ADDM</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Triggering Issues and Conditions for Real-Time ADDM" summary="Lists the issues and conditions that trigger an Real-Time ADDM analysis." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d19268e1029">Issue</th>
                                    <th align="left" valign="bottom" width="69%" id="d19268e1032">Condition</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1037" headers="d19268e1029 ">
                                       <p>High load</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1037 d19268e1032 ">
                                       <p>Average active sessions are greater than 3 times the number of CPU cores</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1044" headers="d19268e1029 ">
                                       <p>I/O bound</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1044 d19268e1032 ">
                                       <p>I/O impact on active sessions based on single block read performance</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1051" headers="d19268e1029 ">
                                       <p>CPU bound</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1051 d19268e1032 ">
                                       <p>Active sessions are greater than 10% of total load and CPU utilization is greater than 50%</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1058" headers="d19268e1029 ">
                                       <p>Over-allocated memory</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1058 d19268e1032 ">
                                       <p>Memory allocations are over 95% of physical memory</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1065" headers="d19268e1029 ">
                                       <p>Interconnect bound</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1065 d19268e1032 ">
                                       <p>Based on single block interconnect transfer time</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1072" headers="d19268e1029 ">
                                       <p>Session limit</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1072 d19268e1032 ">
                                       <p>Session limit is close to 100%</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1079" headers="d19268e1029 ">
                                       <p>Process limit</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1079 d19268e1032 ">
                                       <p>Process limit is close to 100%</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1086" headers="d19268e1029 ">
                                       <p>Hung session</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1086 d19268e1032 ">
                                       <p>Hung sessions are greater than 10% of total sessions</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d19268e1093" headers="d19268e1029 ">
                                       <p>Deadlock detected</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d19268e1093 d19268e1032 ">
                                       <p>Any deadlock is detected</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-5B6CB1B0-DF21-4FF4-921D-B3E9B39556D6__GUID-EB6A5DA3-3D88-499E-BB01-9F50ED38F4EE">
                              <p class="notep1">See Also:</p>
                              <p><a href="../refrn/DBA_HIST_REPORTS.html#REFRN23881" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">DBA_HIST_REPORTS</code> view
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA95372"></a><div class="props_rev_3"><a id="GUID-01DB980E-9607-41DD-8B20-834FE8D77BE8" name="GUID-01DB980E-9607-41DD-8B20-834FE8D77BE8"></a><h5 id="TGDBA-GUID-01DB980E-9607-41DD-8B20-834FE8D77BE8" class="sect5"><span class="enumeration_section">7.1.4.3 </span>Real-Time ADDM Trigger Controls
                     </h5>
                     <div>
                        <p>To ensure that the automatic triggers do not consume too many system resources and overwhelm the system, Real-Time ADDM employs the following controls:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Duration between reports</p>
                              <p>If a Real-Time ADDM report was created in the past 5 minutes by the automatic trigger, then no new reports will be generated.</p>
                           </li>
                           <li>
                              <p>Oracle RAC control</p>
                              <p>Automatic triggers are local to the database instance. For Oracle RAC, only one database instance can create a Real-Time ADDM report at a given time because a lock is required and a query is performed by the MMON slave process before the report is actually generated.</p>
                           </li>
                           <li>
                              <p>Repeated triggers</p>
                              <p>An automatic trigger for any issue must have an impact of 100% or higher than the previous report with the same triggering issue within the past 45 minutes. For example, if a report is triggered for active sessions with an impact of 8 sessions, then in order for another report to trigger within the next 45 minutes, there must be at least 16 active sessions. In this case, the reported problem with the database is becoming more severe over time. On the other hand, if the same report is being generated once every 45 minutes, then the database is experiencing a persistent problem that has a consistent impact.</p>
                           </li>
                           <li>
                              <p>Newly identified issues</p>
                              <p>If a new issue is detected (that was not previously detected within the past 45 minutes), then a new report is generated. For example, if a report is triggered for 8 active sessions and a new deadlock issue is detected, then a new report is generated regardless of the new active sessions load.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA94242"></a><div class="props_rev_3"><a id="GUID-824AA656-C199-437D-926B-A8F05590A65C" name="GUID-824AA656-C199-437D-926B-A8F05590A65C"></a><h4 id="TGDBA-GUID-824AA656-C199-437D-926B-A8F05590A65C" class="sect4"><span class="enumeration_section">7.1.5 </span>ADDM Analysis Results
                  </h4>
                  <div>
                     <p>In addition to problem diagnostics, ADDM recommends possible solutions. <a id="d19268e1234" class="indexterm-anchor"></a>ADDM analysis results are represented as a set of <a id="d19268e1239" class="indexterm-anchor"></a>findings. See <a href="automatic-performance-diagnostics.html#GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8__i38382">Example 7-1</a> for an example of an ADDM analysis result. Each ADDM finding can belong to one of the following types: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Problem findings describe the root cause of a database performance problem.</p>
                        </li>
                        <li>
                           <p>Symptom findings contain information that often lead to one or more problem findings. </p>
                        </li>
                        <li>
                           <p>Information findings are used for reporting information that are relevant to understanding the performance of the database, but do not constitute a performance problem (such as non-problem areas of the database and the activity of automatic database maintenance).</p>
                        </li>
                        <li>
                           <p>Warning findings contain information about problems that may affect the completeness or accuracy of the ADDM analysis (such as missing data in AWR).</p>
                        </li>
                     </ul>
                     <p>Each problem finding is quantified by an impact that is an estimate of the portion of <code class="codeph">DB</code> <code class="codeph">time</code> caused by the finding's performance issue. A problem finding can be associated with a list of recommendations for reducing the impact of the performance problem. The types of recommendations include<a id="d19268e1267" class="indexterm-anchor"></a>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Hardware changes: adding CPUs or changing the I/O subsystem configuration</p>
                        </li>
                        <li>
                           <p>Database configuration: changing initialization parameter settings</p>
                        </li>
                        <li>
                           <p>Schema changes: hash partitioning a table or index, or using automatic segment-space management (ASSM)</p>
                        </li>
                        <li>
                           <p>Application changes: using the cache option for sequences or using bind    variables</p>
                        </li>
                        <li>
                           <p>Using other advisors: running SQL Tuning Advisor on high-load SQL or running Segment Advisor on hot objects</p>
                        </li>
                     </ul>
                     <p>A list of recommendations can contain various alternatives for solving the same problem; you do not have to apply all the recommendations to solve a specific problem. Each recommendation has a benefit which is an estimate of the portion of <code class="codeph">DB</code> <code class="codeph">time</code> that can be saved if the recommendation is implemented. <a id="d19268e1296" class="indexterm-anchor"></a>Recommendations are composed of actions and rationales. You must apply all the actions of a recommendation to gain the estimated benefit. The rationales are used for explaining why the set of actions were recommended and to provide additional information to implement the suggested recommendation.
                     </p>
                  </div>
               </div><a id="TGDBA94244"></a><a id="TGDBA94243"></a><div class="props_rev_3"><a id="GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8" name="GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8"></a><h4 id="TGDBA-GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8" class="sect4"><span class="enumeration_section">7.1.6 </span>Reviewing ADDM Analysis Results: Example
                  </h4>
                  <div>
                     <p><a id="d19268e1353" class="indexterm-anchor"></a><a id="d19268e1357" class="indexterm-anchor"></a>Consider the following section of an ADDM report in <a href="automatic-performance-diagnostics.html#GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8__i38382">Example 7-1</a>.
                     </p>
                     <div class="example" id="GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8__i38382">
                        <p class="titleinexample">Example 7-1 Example ADDM Report</p><pre class="oac_no_warn" dir="ltr">FINDING 1: 31% impact (7798 seconds) 
------------------------------------ 
SQL statements were not shared due to the usage of literals. This resulted in 
additional hard parses which were consuming significant database time.

RECOMMENDATION 1: Application Analysis, 31% benefit (7798 seconds)
  ACTION: Investigate application logic for possible use of bind variables
    instead of literals. Alternatively, you may set the parameter 
    "cursor_sharing" to "force".
  RATIONALE: SQL statements with PLAN_HASH_VALUE 3106087033 were found to be
    using literals. Look in V$SQL for examples of such SQL statements.
</pre><p>In <a href="automatic-performance-diagnostics.html#GUID-DCD9B583-0059-492C-A801-0A551C9CE5F8__i38382">Example 7-1</a>, the finding points to a particular root cause, the usage of literals in SQL statements, which is estimated to have an impact of about 31% of total <code class="codeph">DB</code> <code class="codeph">time</code> in the analysis period. 
                        </p>
                        <p>The finding has a recommendation associated with it, composed of one action and one rationale. The action specifies a solution to the problem found and is estimated to have a maximum benefit of up to 31% <code class="codeph">DB</code> <code class="codeph">time</code> in the analysis period. Note that the benefit is given as a portion of the total <code class="codeph">DB</code> <code class="codeph">time</code> and not as a portion of the finding's impact. The rationale provides additional information on tracking potential SQL statements that were using literals and causing this performance issue. Using the specified plan hash value of SQL statements that could be a problem, a DBA could quickly examine a few sample statements.
                        </p>
                        <p>When a specific problem has multiple causes, ADDM may report multiple problem and symptom findings. In this case, the impacts of these multiple findings can contain the same portion of <code class="codeph">DB</code> <code class="codeph">time</code>. Because the performance issues of findings can overlap, the sum of the impacts of the findings can exceed 100% of <code class="codeph">DB</code> <code class="codeph">time</code>. For example, if a system performs many reads, then ADDM might report a SQL statement responsible for 50% of <code class="codeph">DB</code> <code class="codeph">time</code> due to I/O activity as one finding, and an undersized buffer cache responsible for 75% of <code class="codeph">DB</code> <code class="codeph">time</code> as another finding.
                        </p>
                        <p>When multiple recommendations are associated with a problem finding, the recommendations may contain alternatives for solving the problem. In this case, the sum of the recommendations' benefits may be higher than the finding's impact.</p>
                        <p>When appropriate, an ADDM action may have multiple solutions for you to choose from. In the example, the most effective solution is to use bind variables. However, it is often difficult to modify the application. Changing the value of the <code class="codeph">CURSOR_SHARING</code> initialization parameter is much easier to implement and can provide significant improvement.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="TGDBA94245"></a><div class="props_rev_3"><a id="GUID-19D504B9-B4E4-4FBF-B0D2-F758B467FEDD" name="GUID-19D504B9-B4E4-4FBF-B0D2-F758B467FEDD"></a><h3 id="TGDBA-GUID-19D504B9-B4E4-4FBF-B0D2-F758B467FEDD" class="sect3"><span class="enumeration_section">7.2 </span>Setting Up ADDM
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d19268e1478" class="indexterm-anchor"></a><a id="d19268e1482" class="indexterm-anchor"></a>Automatic database diagnostic monitoring is enabled by default and is controlled by the <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> and the <code class="codeph">STATISTICS_LEVEL</code> initialization parameters.
                     </p>
                     <p>The <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> parameter should be set to <code class="codeph">DIAGNOSTIC</code> or <code class="codeph">DIAGNOSTIC+TUNING</code> to enable automatic database diagnostic monitoring. The default setting is <code class="codeph">DIAGNOSTIC+TUNING</code>. Setting <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> to <code class="codeph">NONE</code> disables ADDM.
                     </p>
                     <p>The <code class="codeph">STATISTICS_LEVEL</code> parameter should be set to the <code class="codeph">TYPICAL</code> or <code class="codeph">ALL</code> to enable automatic database diagnostic monitoring. The default setting is <code class="codeph">TYPICAL</code>. Setting <code class="codeph">STATISTICS_LEVEL</code> to <code class="codeph">BASIC</code> disables many Oracle Database features, including ADDM, and is strongly discouraged.
                     </p>
                     <div class="infoboxnotealso" id="GUID-19D504B9-B4E4-4FBF-B0D2-F758B467FEDD__GUID-2E1A5D98-918C-4051-B784-B060C1F9C4B4">
                        <p class="notep1">See Also:</p>
                        <p><span class="italic">Oracle Database Reference</span> for information about the <a href="../refrn/CONTROL_MANAGEMENT_PACK_ACCESS.html#REFRN-GUID-A5CA11BA-AE1F-4A2E-9C59-A98BA1F4E5C2" target="_blank"><code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code></a> and <a href="../refrn/STATISTICS_LEVEL.html#REFRN-GUID-16B23F95-8644-407A-A6C8-E85CADFA61FF" target="_blank"><code class="codeph">STATISTICS_LEVEL</code></a> initialization parameters
                        </p>
                     </div>
                     <p>ADDM analysis of I/O performance partially depends on a single argument, <code class="codeph">DBIO_EXPECTED</code>, that describes the expected performance of the I/O subsystem. The value of <code class="codeph">DBIO_EXPECTED</code> is the average time it takes to read a single database block in microseconds. Oracle Database uses the default value of 10 milliseconds, which is an appropriate value for most modern hard drives. If your hardware is significantly different—such as very old hardware or very fast RAM disks—then consider using a different value.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19D504B9-B4E4-4FBF-B0D2-F758B467FEDD__GUID-83877CCB-3119-4D64-932C-C2CDEEEC3217">To determine the correct setting for the DBIO_EXPECTED parameter:</p>
                     <ol>
                        <li>
                           <p>Measure the average read time of a single database block read for your hardware.</p>
                           <p>Note that this measurement is for random I/O, which includes seek time if you use standard hard drives. Typical values for hard drives are between 5000 and 20000 microseconds. </p>
                        </li>
                        <li>
                           <p><a id="d19268e1569" class="indexterm-anchor"></a><a id="d19268e1573" class="indexterm-anchor"></a>Set the value one time for all subsequent ADDM executions.
                           </p>
                           <p>For example, if the measured value if 8000 microseconds, you should execute the following command as SYS user:</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_ADVISOR.SET_DEFAULT_TASK_PARAMETER(
                     'ADDM', 'DBIO_EXPECTED', 8000);</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TGDBA94246"></a><div class="props_rev_3"><a id="GUID-AEE549F3-DDF9-4977-8A0A-FE1E47C75679" name="GUID-AEE549F3-DDF9-4977-8A0A-FE1E47C75679"></a><h3 id="TGDBA-GUID-AEE549F3-DDF9-4977-8A0A-FE1E47C75679" class="sect3"><span class="enumeration_section">7.3 </span>Diagnosing Database Performance Problems with ADDM
               </h3>
               <div>
                  <p>To diagnose database performance problems, first review the ADDM analysis results that are automatically created each time an AWR snapshot is taken. If a different analysis is required (such as a longer analysis period, using a different <code class="codeph">DBIO_EXPECTED</code> setting, or changing the analysis mode), you can run ADDM manually as described in this section.
                  </p>
                  <p>ADDM can analyze any two AWR snapshots (on the same database), as long as both snapshots are still stored in AWR (have not been purged). ADDM can only analyze instances that are started before the beginning snapshot and remain running until the ending snapshot. Additionally, ADDM will not analyze instances that experience significant errors when generating AWR snapshots. In such cases, ADDM will analyze the largest subset of instances that did not experience these problems.</p>
                  <p>The primary interface for diagnostic monitoring is Cloud Control. Whenever possible, run ADDM using Cloud Control, as described in <a href="../tdppt/automatic-database-performance-monitoring.html#TDPPT020" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a>. If Cloud Control is unavailable, then run ADDM using the <code class="codeph">DBMS_ADDM</code> package. To run the <code class="codeph">DBMS_ADDM</code> APIs, the user must be granted the <code class="codeph">ADVISOR</code> privilege.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-844F5FA1-4CD7-42B9-A750-199ECFD3F3E1">Running ADDM in Database Mode</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-EA83D5B3-F4F0-4B4A-9597-19BBA22E55B9">Running ADDM in Instance Mode</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-848B8796-EDDC-4700-BCB9-261C9D21D853">Running ADDM in Partial Mode</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-performance-diagnostics.html#GUID-0A1DA0E7-098C-40CC-9975-B9BF4F29C942">Displaying an ADDM Report</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-AEE549F3-DDF9-4977-8A0A-FE1E47C75679__GUID-87349219-CB01-45B5-BB94-8BCA9CDD1824">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_ADDM.html#ARPLS232" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_ADDM</code> package
                     </p>
                  </div>
               </div><a id="TGDBA94247"></a><div class="props_rev_3"><a id="GUID-844F5FA1-4CD7-42B9-A750-199ECFD3F3E1" name="GUID-844F5FA1-4CD7-42B9-A750-199ECFD3F3E1"></a><h4 id="TGDBA-GUID-844F5FA1-4CD7-42B9-A750-199ECFD3F3E1" class="sect4"><span class="enumeration_section">7.3.1 </span>Running ADDM in Database Mode
                  </h4>
                  <div>
                     <div class="section">
                        <p>For Oracle RAC configurations, you can run ADDM in Database mode to analyze all instances of the databases. For single-instance configurations, you can still run ADDM in Database mode; ADDM will behave as if running in Instance mode.</p>
                        <p>To run ADDM in Database mode, use the <code class="codeph">DBMS_ADDM</code>.<code class="codeph">ANALYZE_DB</code> procedure:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
DBMS_ADDM.ANALYZE_DB (
   task_name           IN OUT VARCHAR2,
   begin_snapshot      IN     NUMBER,
   end_snapshot        IN     NUMBER,
   db_id               IN     NUMBER := NULL);
END;
/
</pre><p>The <code class="codeph">task_name</code> parameter specifies the name of the analysis task that will be created. The <code class="codeph">begin_snapshot</code> parameter specifies the snapshot number of the beginning snapshot in the analysis period. The <code class="codeph">end_snapshot</code> parameter specifies the snapshot number of the ending snapshot in the analysis period. The <code class="codeph">db_id</code> parameter specifies the database identifier of the database that will be analyzed. If unspecified, this parameter defaults to the database identifier of the database to which you are currently connected.
                        </p>
                        <p>The following example creates an ADDM task in database analysis mode, and executes it to diagnose the performance of the entire database during the time period defined by snapshots 137 and 145:</p><pre class="oac_no_warn" dir="ltr">VAR tname VARCHAR2(30);
BEGIN
  :tname := 'ADDM for 7PM to 9PM';
  DBMS_ADDM.ANALYZE_DB(:tname, 137, 145);
END;
/
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94248"></a><div class="props_rev_3"><a id="GUID-EA83D5B3-F4F0-4B4A-9597-19BBA22E55B9" name="GUID-EA83D5B3-F4F0-4B4A-9597-19BBA22E55B9"></a><h4 id="TGDBA-GUID-EA83D5B3-F4F0-4B4A-9597-19BBA22E55B9" class="sect4"><span class="enumeration_section">7.3.2 </span>Running ADDM in Instance Mode
                  </h4>
                  <div>
                     <div class="section">
                        <p>To analyze a particular instance of the database, you can run ADDM in Instance mode. To run ADDM in Instance mode, use the <code class="codeph">DBMS_ADDM</code>.<code class="codeph">ANALYZE_INST</code> procedure:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
DBMS_ADDM.ANALYZE_INST (
   task_name           IN OUT VARCHAR2,
   begin_snapshot      IN     NUMBER,
   end_snapshot        IN     NUMBER,
   instance_number     IN     NUMBER := NULL,
   db_id               IN     NUMBER := NULL);
END;
/
</pre><p>The <code class="codeph">task_name</code> parameter specifies the name of the analysis task that will be created. The <code class="codeph">begin_snapshot</code> parameter specifies the snapshot number of the beginning snapshot in the analysis period. The <code class="codeph">end_snapshot</code> parameter specifies the snapshot number of the ending snapshot in the analysis period. The <code class="codeph">instance_number</code> parameter specifies the instance number of the instance that will be analyzed. If unspecified, this parameter defaults to the instance number of the instance to which you are currently connected. The <code class="codeph">db_id</code> parameter specifies the database identifier of the database that will be analyzed. If unspecified, this parameter defaults to the database identifier of the database to which you are currently connected.
                        </p>
                        <p>The following example creates an ADDM task in instance analysis mode, and executes it to diagnose the performance of instance number 1 during the time period defined by snapshots 137 and 145:</p><pre class="oac_no_warn" dir="ltr">VAR tname VARCHAR2(30);
BEGIN
  :tname := 'my ADDM for 7PM to 9PM';
  DBMS_ADDM.ANALYZE_INST(:tname, 137, 145, 1);
END;
/
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94249"></a><div class="props_rev_3"><a id="GUID-848B8796-EDDC-4700-BCB9-261C9D21D853" name="GUID-848B8796-EDDC-4700-BCB9-261C9D21D853"></a><h4 id="TGDBA-GUID-848B8796-EDDC-4700-BCB9-261C9D21D853" class="sect4"><span class="enumeration_section">7.3.3 </span>Running ADDM in Partial Mode
                  </h4>
                  <div>
                     <div class="section">
                        <p>To analyze a subset of all database instances, you can run ADDM in Partial mode. To run ADDM in Partial mode, use the <code class="codeph">DBMS_ADDM</code>.<code class="codeph">ANALYZE_PARTIAL</code> procedure:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
DBMS_ADDM.ANALYZE_PARTIAL (
   task_name           IN OUT VARCHAR2,
   instance_numbers    IN     VARCHAR2,
   begin_snapshot      IN     NUMBER,
   end_snapshot        IN     NUMBER,
   db_id               IN     NUMBER := NULL);
END;
/
</pre><p>The <code class="codeph">task_name</code> parameter specifies the name of the analysis task that will be created. The <code class="codeph">instance_numbers</code> parameter specifies a comma-delimited list of instance numbers of instances that will be analyzed. The <code class="codeph">begin_snapshot</code> parameter specifies the snapshot number of the beginning snapshot in the analysis period. The <code class="codeph">end_snapshot</code> parameter specifies the snapshot number of the ending snapshot in the analysis period. The <code class="codeph">db_id</code> parameter specifies the database identifier of the database that will be analyzed. If unspecified, this parameter defaults to the database identifier of the database to which you are currently connected.
                        </p>
                        <p>The following example creates an ADDM task in partial analysis mode, and executes it to diagnose the performance of instance numbers 1, 2, and 4, during the time period defined by snapshots 137 and 145:</p><pre class="oac_no_warn" dir="ltr">VAR tname VARCHAR2(30);
BEGIN
  :tname := 'my ADDM for 7PM to 9PM';
  DBMS_ADDM.ANALYZE_PARTIAL(:tname, '1,2,4', 137, 145);
END;
/
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TGDBA94250"></a><div class="props_rev_3"><a id="GUID-0A1DA0E7-098C-40CC-9975-B9BF4F29C942" name="GUID-0A1DA0E7-098C-40CC-9975-B9BF4F29C942"></a><h4 id="TGDBA-GUID-0A1DA0E7-098C-40CC-9975-B9BF4F29C942" class="sect4"><span class="enumeration_section">7.3.4 </span>Displaying an ADDM Report
                  </h4>
                  <div>
                     <div class="section">
                        <p>To display a text report of an executed ADDM task, use the <code class="codeph">DBMS_ADDM</code>.<code class="codeph">GET_REPORT</code> function:
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_ADDM.GET_REPORT (
   task_name           IN VARCHAR2
  RETURN CLOB);
</pre><p>The following example displays a text report of the ADDM task specified by its task name using the <code class="codeph">tname</code> variable:
                        </p><pre class="oac_no_warn" dir="ltr">SET LONG 1000000 PAGESIZE 0;
SELECT DBMS_ADDM.GET_REPORT(:tname) FROM DUAL;
</pre><p>Note that the return type of a report is a <code class="codeph">CLOB</code>, formatted to fit line size of 80. For information about reviewing the ADDM analysis results in an ADDM report, see <span class="q">"<a href="automatic-performance-diagnostics.html#GUID-824AA656-C199-437D-926B-A8F05590A65C">ADDM Analysis Results</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TGDBA94251"></a><div class="props_rev_3"><a id="GUID-914A7E7C-FD5F-4F24-93AA-9E98578EB129" name="GUID-914A7E7C-FD5F-4F24-93AA-9E98578EB129"></a><h3 id="TGDBA-GUID-914A7E7C-FD5F-4F24-93AA-9E98578EB129" class="sect3"><span class="enumeration_section">7.4 </span>ADDM Views
               </h3>
               <div>
                  <div class="section">
                     <p>Typically, you should view ADDM analysis using Cloud Control or <code class="codeph">DBMS_ADDM</code> package subprograms.
                     </p>
                     <p>However, you can also get ADDM information using the <code class="codeph">DBA_ADDM_*</code> and <code class="codeph">DBA_ADVISOR_*</code> views. This group of views includes:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">DBA_ADVISOR_FINDINGS</code> 
                           </p>
                           <p>This view displays all the findings discovered by all advisors. Each finding is displayed with an associated finding ID, name, and type. For tasks with multiple executions, the name of each task execution associated with each finding is also listed.</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_ADDM_FINDINGS</code></p>
                           <p>This view contains a subset of the findings displayed in the related <code class="codeph">DBA_ADVISOR_FINDINGS</code> view. This view only displays the ADDM findings discovered by all advisors. Each ADDM finding is displayed with an associated finding ID, name, and type.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_ADVISOR_FINDING_NAMES</code></p>
                           <p>This view lists all finding names registered with the advisor framework.</p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_ADVISOR_RECOMMENDATIONS</code> 
                           </p>
                           <p>This view displays the results of completed diagnostic tasks with recommendations for the problems identified in each execution. The recommendations should be reviewed in the order of the <code class="codeph">RANK</code> column, as this relays the magnitude of the problem for the recommendation. The <code class="codeph">BENEFIT</code> column displays the benefit to the system you can expect after the recommendation is performed. For tasks with multiple executions, the name of each task execution associated with each advisor task is also listed.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_ADVISOR_TASKS</code> 
                           </p>
                           <p>This view provides basic information about existing tasks, such as the task ID, task name, and when the task was created. For tasks with multiple executions, the name and type of the last or current execution associated with each advisor task is also listed.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-914A7E7C-FD5F-4F24-93AA-9E98578EB129__GUID-6D554325-E510-4612-9093-2DC4F5A7951C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">DBA_ADDM_*</code> and <code class="codeph">DBA_ADVISOR_*</code> views
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="automatic-performance-diagnostics.html#GUID-0A1DA0E7-098C-40CC-9975-B9BF4F29C942">Displaying an ADDM Report</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04335.intro-to-SQLJ.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Introduction to SQLJ</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQLJ Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQLJ Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sqlj-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T08:20:03-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96458-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="getting-started.html" title="Previous" type="text/html">
      <link rel="next" href="key-programming-considerations.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQLJ Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JSQLJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="key-programming-considerations.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQLJ Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Introduction to SQLJ</li>
            </ol>
            <a id="GUID-B3A3C319-5C61-40C6-B3FB-37C2BD98AD48" name="GUID-B3A3C319-5C61-40C6-B3FB-37C2BD98AD48"></a><a id="JSQLJ136"></a>
            
            <h2 id="JSQLJ-GUID-B3A3C319-5C61-40C6-B3FB-37C2BD98AD48" class="sect2"><span class="enumeration_chapter">3 </span> Introduction to SQLJ
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter provides a general overview of SQLJ features and scenarios. The following topics are discussed:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B">Overview of SQLJ</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743">Overview of SQLJ Components</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676">Overview of Oracle Extensions to the SQLJ Standard</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-79F6A0F5-6BCB-4509-8015-B6263933E152">Basic Translation Steps and Run-Time Processing</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B">SQLJ Sample Code</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA">Alternative Deployment Scenarios</a></p>
                  </li>
                  <li>
                     <p><a href="intro-to-SQLJ.html#GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5">Alternative Development Scenarios</a></p>
                  </li>
               </ul>
            </div><a id="JSQLJ137"></a><div class="props_rev_3"><a id="GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B" name="GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B"></a><h3 id="JSQLJ-GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B" class="sect3">Overview of SQLJ</h3>
               <div>
                  <p>This section introduces the basic concepts of SQLJ and discusses the complementary relationship between Java and PL/SQL in Oracle Database applications.</p>
                  <p>SQLJ enables applications programmers to embed SQL statements in Java code in a way that is compatible with the Java design philosophy. A SQLJ program is a Java program containing embedded SQL statements that comply with the International Organization for Standardization (ISO) standard SQLJ Language Reference syntax. The Oracle SQLJ implementation supports the ISO SQLJ standard. The standard covers only <span class="bold">static SQL</span> operations, which are predefined SQL operations that do not change in real time while a user runs the application. The Oracle SQLJ implementation also offers extensions to support <span class="bold">dynamic SQL</span> operations, which are <span class="italic">not</span> predefined and the operations can change in real time. It is also possible to use dynamic SQL operations through Java Database Connectivity (JDBC) code or PL/SQL code within a SQLJ application. Typical applications contain more static SQL operations than dynamic SQL operations.
                  </p>
                  <p>SQLJ consists of a translator and a run-time component and is smoothly integrated into your development environment. You can run the translator to translate, compile, and customize the code in a single step using the <code class="codeph">sqlj</code> front-end utility. The translation process replaces embedded SQL statements with calls to the SQLJ run time, which processes the SQL statements. In ISO SQLJ standard this is typically, but not necessarily, performed through calls to a JDBC driver. To access Oracle Database, you would typically use an Oracle JDBC driver. When you run the SQLJ application, the run time is started to handle the SQL operations.
                  </p>
                  <p>The SQLJ translator is conceptually similar to other Oracle precompilers and enables you to check SQL syntax, verify SQL operations against what is available in the schema, and check the compatibility of Java types with corresponding database types. In this way, you can catch errors during development rather than a user catching the errors at run time. The translator checks the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Syntax of the embedded SQL statements</p>
                     </li>
                     <li>
                        <p>SQL constructs, against a specified database schema to ensure consistency within a particular set of SQL entities (optional)</p>
                        <p>For example, it verifies table names and column names.</p>
                     </li>
                     <li>
                        <p>Data types, to ensure that the data exchanged between Java and SQL have compatible types and proper type conversions</p>
                     </li>
                  </ul>
                  <p>The SQLJ methodology of embedding SQL statements directly in Java code is very convenient and concise in a way that it reduces development and maintenance costs in Java programs that require database connectivity.</p>
                  <p>Java programs can call PL/SQL stored procedures and anonymous blocks through JDBC or SQLJ. In particular, SQLJ provides syntax for calling stored procedures and functions from within a SQLJ statement and also supports embedded PL/SQL anonymous blocks within a SQLJ statement.</p>
                  <div class="infoboxnote" id="GUID-7EDDF612-2C7C-4023-90F8-DCF291811D1B__GUID-7C2120C3-2878-45FA-B401-4257803015C5">
                     <p class="notep1">Note:</p>
                     <p>Using PL/SQL anonymous blocks within SQLJ statements is one way to support dynamic SQL operations in a SQLJ application. However, the Oracle SQLJ implementation includes extensions to support dynamic SQL directly.</p>
                  </div>
               </div>
            </div><a id="JSQLJ138"></a><div class="props_rev_3"><a id="GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743" name="GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743"></a><h3 id="JSQLJ-GUID-C824BC0E-4EE3-4F0D-9969-2F19B018E743" class="sect3">Overview of SQLJ Components</h3>
               <div>
                  <p>This section introduces the main two major SQLJ components in Oracle SQLJ implementation. It covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189">SQLJ Translator Functionality</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6">SQLJ  Run Time</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ139"></a><div class="props_rev_3"><a id="GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189" name="GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189"></a><h4 id="JSQLJ-GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189" class="sect4">SQLJ Translator Functionality</h4>
                  <div>
                     <p>This component is a precompiler that you run after creating SQLJ source code.</p>
                     <p>The translator, which is written in pure Java, supports a programming syntax that enables you to embed SQL statements in SQLJ executable statements. SQLJ executable statements and SQLJ declarations are preceded by the <code class="codeph">#sql</code> token and can be interspersed with Java statements in a SQLJ source code file. SQLJ source code file names must have the <code class="codeph">.sqlj</code> extension. The following is a sample SQLJ statement:
                     </p><pre class="oac_no_warn" dir="ltr">#sql { INSERT INTO employees (first_name, salary) VALUES ('Joe', 43000) };
</pre><p>The translator produces a <code class="codeph">.java</code> file.
                     </p>
                     <p>You can invoke the translator using the <code class="codeph">sqlj</code> command-line utility. On the command line, specify the files that need to be translated and any desired SQLJ option settings.
                     </p>
                     <div class="infoboxnotealso" id="GUID-BDC15EAD-5848-43A6-8261-19D3BD12C189__GUID-AFEDAB80-A310-4341-92FC-DF6002F01781">
                        <p class="notep1">See Also:</p>
                        <p><a href="translator-command-line-and-options.html#GUID-5161125F-E86D-472D-BC57-67AB9E0B08EB"> Translator Command Line and Options</a></p>
                     </div>
                  </div>
               </div><a id="JSQLJ140"></a><div class="props_rev_3"><a id="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6" name="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6"></a><h4 id="JSQLJ-GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6" class="sect4">SQLJ  Run Time</h4>
                  <div>
                     <p>This component is also written in pure Java and is invoked automatically each time you run a SQLJ application.</p>
                     <p>Oracle JDBC calls are generated directly into the translated code and the SQLJ run time plays a much smaller role.</p>
                     <div class="infoboxnotealso" id="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6__GUID-AD315FB0-CDB2-4059-83FC-20664E7B6F00">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-AFF5C519-028E-4554-98E8-B8FF103515D1">SQLJ Run Time</a>"</span></p>
                     </div>
                     <div class="infoboxnote" id="GUID-FADAA0D5-A849-4E26-BEFE-47D7073D21B6__GUID-09F95188-9764-4D7E-B710-60165E789B70">
                        <p class="notep1">Note:</p>
                        <p>Since Oracle Database 10<span class="italic">g</span> Release 1, only Oracle JDBC drivers are supported with SQLJ.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ142"></a><div class="props_rev_3"><a id="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676" name="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676"></a><h3 id="JSQLJ-GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676" class="sect3">Overview of Oracle Extensions to the SQLJ Standard</h3>
               <div>
                  <p>The Oracle SQLJ implementation supports the ISO SQLJ standard. Using the ISO SQLJ standard features requires a Java Development Kit (JDK) 6 or later environment that complies with Java2 Platform, Enterprise Edition (J2EE). The SQLJ translator accepts a broader range of SQL syntax than the ISO SQLJ standard specifies.</p>
                  <div class="infoboxnote" id="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676__GUID-38D90CD2-04C6-46F9-B745-A28F1F06F7F8">
                     <p class="notep1">Note:</p>
                     <p>Oracle SQLJ implementation requires the run-time environment of JDK 6 or JDK 7.</p>
                  </div>
                  <p>The ISO SQLJ standard addresses not only the SQL-92 Entry level dialect of SQL, but also enables extension beyond that. The Oracle SQLJ implementation supports the Oracle SQL dialect, which is a superset of SQL-92 Entry level. If you need to create SQLJ programs that work with other databases, then avoid using SQL syntax and SQL types that are not in the Entry level of SQL-92 and, therefore, may not be supported in other environments.</p>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6">SQLJ Type Extensions</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-54E27173-C5B1-402A-B673-ABFDB7693461">SQLJ Functionality Extensions</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-18FAF725-041B-4CAF-BB03-FE3F780A8676__GUID-DBD9C238-50FA-4BD4-92B9-1614F572EB35">
                     <p class="notep1">See Also:</p>
                     <p><a href="type-support.html#GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9"> Type Support</a>, and <a href="objects-collections-and-OPAQUE-types.html#GUID-93B64A3E-4928-4039-BC10-D7B05E768BFF"> Objects_ Collections_ and OPAQUE Types</a> for information about SQLJ extensions provided by Oracle Database
                     </p>
                  </div>
               </div><a id="JSQLJ143"></a><div class="props_rev_3"><a id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6" name="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6"></a><h4 id="JSQLJ-GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6" class="sect4">SQLJ Type Extensions</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle SQLJ implementation supports the following Java types as extensions to the SQLJ standard:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Instances of <code class="codeph">oracle.sql.*</code> classes as wrappers for SQL data.
                              </p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-8FC73C14-F619-43C0-AB85-C70114B1FA6E">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="type-support.html#GUID-9C82F6F4-197C-4B80-8491-B3CF03861384">Support for JDBC 2.0 LOB Types and Oracle Type Extensions</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Custom Java classes, object references, and collections. For example, classes that implement the <code class="codeph">oracle.sql.ORAData</code> interface or the JDBC standard <code class="codeph">java.sql.SQLdata</code> interface.
                              </p>
                              <div class="infoboxnote" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-42D1ECC0-3903-4697-B574-5F710E589F32">
                                 <p class="notep1">Note:</p>
                                 <p>The <code class="codeph">SQLData</code> interface is standard. Classes that implement it are supported by JDBC drivers and databases of other vendors.
                                 </p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-C05B9042-4CF2-424E-8724-3A059CDC370E">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="objects-collections-and-OPAQUE-types.html#GUID-7B1AEDD4-C53B-47C9-973E-DD23EAA7608E">Custom Java Classes</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Stream instances: <code class="codeph">BinaryStream</code> and <code class="codeph">CharacterStream</code>, the latter of which replaces the deprecated <code class="codeph">AsciiStream</code> and <code class="codeph">UnicodeStream</code>, used as output parameters.
                              </p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-3AFF9339-564F-4D8E-8B8C-742D7820BAA6">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="type-support.html#GUID-5C678045-D184-41AB-B339-9E1E12FE4D46">Support for Streams</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Iterator and result set instances as input or output parameters. The SQLJ standard specifies them only in result expressions or cast statements.</p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-FD2623CD-C35C-4978-BF7B-981192D43291">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="basic-language-features.html#GUID-D3CC3825-1F5D-45AF-9E96-5848B98B7D21">Using Iterators and Result Sets as Host Variables</a>"</span> and <span class="q">"<a href="basic-language-features.html#GUID-F45F4FF0-6D2A-455D-A8A0-0BC3770845B2">Using Iterators and Result Sets as Stored Function Returns</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Unicode character types: <code class="codeph">NString</code>, <code class="codeph">NCHAR</code>, <code class="codeph">NCLOB</code>, and <code class="codeph">NcharCharacterStream</code>, the latter of which replaces the deprecated <code class="codeph">NcharAsciiStream</code> and <code class="codeph">NcharUnicodeStream</code>.
                              </p>
                              <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-EACE920B-6F91-4281-8401-D1077BEE8DFC">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077">SQLJ Extended Globalization Support</a>"</span></p>
                              </div>
                           </li>
                        </ul>
                        <p>Using any of these extensions requires Oracle-specific code generation or Oracle customization during translation, as well as Oracle SQLJ run time and an Oracle JDBC driver when your application runs. Do not use these or other types if you want to use your code in other environments. To ensure that your application is portable, use the SQLJ <code class="codeph">-warn=portable</code> flag.
                        </p>
                        <div class="infoboxnotealso" id="GUID-144356A4-0E03-4586-B1CD-2A34D4285FF6__GUID-3189FE4E-943C-42F5-8754-CF27AD84C5F4">
                           <p class="notep1">See Also:</p>
                           <p>See <span class="q">"<a href="translator-command-line-and-options.html#GUID-5161125F-E86D-472D-BC57-67AB9E0B08EB"> Translator Command Line and Options</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ144"></a><div class="props_rev_3"><a id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461" name="GUID-54E27173-C5B1-402A-B673-ABFDB7693461"></a><h4 id="JSQLJ-GUID-54E27173-C5B1-402A-B673-ABFDB7693461" class="sect4">SQLJ Functionality Extensions</h4>
                  <div>
                     <p>The Oracle SQLJ implementation also supports the following extended functionality:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle-specific code generation</p>
                           <p>This generates JDBC code directly. Much of the SQLJ run-time functionality is bypassed during program execution.</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-6A9515AD-2A18-4632-8812-81F93BB5E597">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Dynamic SQL in SQLJ statements</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-8EC515DE-A5FB-4597-8BCB-FFDBCFFCCD83">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="advanced-language-features.html#GUID-1A237022-5F1E-4C29-87D3-8E913F59C3FA">Support for Dynamic SQL</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Scrollable result set iterators with additional navigation methods, and <code class="codeph">FETCH </code>syntax from result set iterators and scrollable result set iterators
                           </p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-EB175895-72BE-4F48-AE21-72AE26CA0140">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="advanced-language-features.html#GUID-398B03B4-138D-41E6-A34B-B4911ACF7A18">Scrollable Iterators</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Optimization flags for column and parameter size definitions</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-B88857F9-82D0-4716-BEA3-DAD572D99CCD">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="performance-and-debugging.html#GUID-68162E09-5D50-43BE-B39D-6CFCC90B5D50">Column Definitions</a>"</span>, <span class="q">"<a href="performance-and-debugging.html#GUID-51188B99-AF1F-4F26-8826-1F5CAB03122D">Parameter Size Definitions</a>"</span>, and <span class="q">"<a href="translator-command-line-and-options.html#GUID-51E9826F-8FD9-48CD-9423-9DA8CDC10180">Options for Code Generation_ Optimizations_ and CHAR Comparisons</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Flags for modified translator behavior, such as for binding host expressions by identifier or accounting for blank padding in <code class="codeph">CHAR</code> comparisons for <code class="codeph">WHERE</code> clauses
                           </p>
                        </li>
                        <li>
                           <p>SQLJ statement caching on connection contexts</p>
                           <div class="infoboxnotealso" id="GUID-54E27173-C5B1-402A-B673-ABFDB7693461__GUID-B9095FBA-BBDA-4B6A-81F3-F0F62223F314">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="performance-and-debugging.html#GUID-5DA139D6-A47B-466E-BCA5-3B04D710792A">Statement Caching</a>"</span></p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JSQLJ145"></a><div class="props_rev_3"><a id="GUID-79F6A0F5-6BCB-4509-8015-B6263933E152" name="GUID-79F6A0F5-6BCB-4509-8015-B6263933E152"></a><h3 id="JSQLJ-GUID-79F6A0F5-6BCB-4509-8015-B6263933E152" class="sect3">Basic Translation Steps and Run-Time Processing</h3>
               <div>
                  <p>SQLJ source code contains a mixture of standard Java source together with SQLJ class declarations and SQLJ executable statements containing embedded SQL statements. SQLJ source files have the <code class="codeph">.sqlj</code> file name extension. The file name must be a legal Java identifier. If the source file declares a public class, then the file name must match the name of this class. If the source file does not declare a public class, then the file name should match the name of the first defined class.
                  </p>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4">SQLJ Translation Steps</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0">Summary of Translator Input and Output</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0">SQLJ Run-Time Processing</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ147"></a><a id="JSQLJ148"></a><a id="JSQLJ146"></a><div class="props_rev_3"><a id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4" name="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4"></a><h4 id="JSQLJ-GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4" class="sect4">SQLJ Translation Steps</h4>
                  <div>
                     <div class="section">
                        <p>After you have written your <code class="codeph">.sqlj</code> file, you must run SQLJ to process the files. The following example shows SQLJ being run in its simplest form with no command-line options for the <code class="codeph">Foo.sqlj</code> source file with the public class <code class="codeph">Foo</code>:
                        </p><pre class="oac_no_warn" dir="ltr">% sqlj Foo.sqlj
</pre><p>This command runs a front-end script or utility depending on the platform. The script or utility reads the command line, invokes a Java virtual machine (JVM), and passes arguments to it. The JVM invokes the SQLJ translator and acts as a front end.</p>
                        <div class="figure" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-0B49E7D8-4C57-4CE1-83AC-1AB534FB5196">
                           <p class="titleinfigure">Figure 3-1 Flow of Control</p><img src="img/flow_of_control.gif" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" longdesc="img_text/flow_of_control.html"><br><a href="img_text/flow_of_control.html">Description of "Figure 3-1 Flow of Control"</a></div>
                        <!-- class="figure" -->
                        <p>The following sequence of events occurs, presuming each step completes without error:</p>
                        <ol>
                           <li>
                              <p>The JVM invokes the SQLJ translator.</p>
                           </li>
                           <li>
                              <p>The translator parses the SQLJ and Java code in the <code class="codeph">.sqlj</code> file, checking for proper SQLJ syntax and looking for type mismatches between the declared SQL data types and corresponding Java host variables. <a id="d6042e662" class="indexterm-anchor"></a><span class="bold">Host variables</span> are Java local variables that are used as input or output parameters in SQL operations.
                              </p>
                              <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-8AAC5066-1FFD-4911-8C09-645A8E45559B">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="basic-language-features.html#GUID-7B85631F-98E1-4A9A-BBC1-181A53D0D03D">Java Host_ Context_ and Result Expressions</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Depending on the SQLJ option settings, the translator invokes the online semantics-checker, the offline parser, neither, or both. This is to verify syntax of embedded SQL and PL/SQL statements and to check the use of database elements in the code against an appropriate database schema, for online checking. Even when neither is specified, some basic level of checking is performed.</p>
                              <p>When online checking is specified, SQLJ will connect to a specified database schema to verify that the database supports all the database tables, stored procedures, and SQL syntax that the application uses. It also verifies that the host variable types in the SQLJ application are compatible with data types of corresponding database columns.</p>
                           </li>
                           <li>
                              <p>For Oracle-specific SQLJ code generation (<code class="codeph">-codegen=oracle</code>, which is default), SQL operations are converted directly into Oracle JDBC calls.
                              </p>
                              <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-4CF14C0C-1F89-4CEC-98A8-00DBF84FF371">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                              </div>
                              <p>Generated Java code is put into a <code class="codeph">.java</code> output file containing the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Any class definitions and Java code from the <code class="codeph">.sqlj</code> source file
                                    </p>
                                 </li>
                                 <li>
                                    <p>Class definitions created as a result of the SQLJ iterator and connection context declarations</p>
                                    <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-81FBF5C3-5F4B-4EB8-AA60-C889397CC974">
                                       <p class="notep1">See Also:</p>
                                       <p><span class="q">"<a href="basic-language-features.html#GUID-74A36C5C-B63E-4489-A464-47387ABCB24E">Overview of SQLJ Declarations</a>"</span></p>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Calls to Oracle JDBC drivers to implement the actions of the embedded SQL operations</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The JVM invokes the Java compiler, which is usually, but not necessarily, the standard <code class="codeph">javac</code> provided with the Sun Microsystems JDK.
                              </p>
                           </li>
                           <li>
                              <p>The compiler compiles the Java source file generated in Step 4 and produces Java <code class="codeph">.class</code> files as appropriate. This will include a <code class="codeph">.class</code> file for each class that is defined, each of the SQLJ declarations.
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-C7882D07-F495-4768-B542-35123A091656">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3">Internal Translator Operations</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-514BD678-C238-4104-9080-7C688C8DC71E">General SQLJ Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Consider the following when translating and running SQLJ applications:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span>The preceding is a very generic example. </span>It is also possible to specify existing <code class="codeph">.java</code> files on the command line to be compiled and to be available for type resolution as well.
                              </p>
                              <div class="infoboxnotealso" id="GUID-9DD78C77-83EA-4F21-9A17-08027BCE08C4__GUID-9EEE21E6-ABC1-4662-B95E-80809DFFE904">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-F40E0AE9-4103-4878-B21B-7B0BC275F67C">Translator Command Line and Properties Files</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>Your application requires an Oracle JDBC driver when it runs, even if your code does not use Oracle-specific features.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ149"></a><div class="props_rev_3"><a id="GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0" name="GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0"></a><h4 id="JSQLJ-GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0" class="sect4">Summary of Translator Input and Output</h4>
                  <div>
                     <p>This section summarizes what the SQLJ translator takes as input, what it produces as output, and where it places its output. This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243">Translator Input</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3">Translator Output</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7">Output File Locations</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-68C57EA9-1ECC-424A-902C-25C087DB9AA0__GUID-F9378DF4-DE07-41E0-AC5D-186A7F3A45AA">
                        <p class="notep1">Note:</p>
                        <p>This discussion mentions iterator class and connection context class declarations. Iterators are similar to JDBC result sets and connection contexts are used for database connections.</p>
                     </div>
                  </div><a id="JSQLJ150"></a><div class="props_rev_3"><a id="GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243" name="GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243"></a><h5 id="JSQLJ-GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243" class="sect5">Translator Input</h5>
                     <div>
                        <p>The SQLJ translator takes one or more <code class="codeph">.sqlj</code> source files as input, which can be specified on the command line. The name of the main <code class="codeph">.sqlj</code> file is based on the public class it defines, if any, else on the first class it defines.
                        </p>
                        <p>If the main <code class="codeph">.sqlj</code> file defines the <code class="codeph">MyClass</code> class, then the source file name must be:
                        </p><pre class="oac_no_warn" dir="ltr">MyClass.sqlj
</pre><p>This must also be the file name if there are no public class definitions, but <code class="codeph">MyClass</code> is the first class defined. You must define each public class in separate<code class="codeph">.sqlj</code> files. When you run SQLJ, you can also specify numerous SQLJ options on the command line or in the properties files.
                        </p>
                        <div class="infoboxnotealso" id="GUID-F6F8C7BD-70B8-4C22-B98F-CD44962D3243__GUID-0D1E18EC-9EC8-47F1-8FD6-C48F13D2EC51">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-F40E0AE9-4103-4878-B21B-7B0BC275F67C">Translator Command Line and Properties Files</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="JSQLJ151"></a><div class="props_rev_3"><a id="GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3" name="GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3"></a><h5 id="JSQLJ-GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3" class="sect5">Translator Output</h5>
                     <div>
                        <p>The translation step produces a Java source file for each <code class="codeph">.sqlj</code> file in the application, presuming the source code uses SQLJ executable statements.
                        </p>
                        <p>SQLJ generates Java source files as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Java source files are <code class="codeph">.java</code> files with the same base names as the <code class="codeph">.sqlj</code> files.
                              </p>
                              <p>For example, the translator produces <code class="codeph">MyClass.java</code> corresponding to <code class="codeph">MyClass.sqlj</code>, which defines the <code class="codeph">MyClass</code> class. The output <code class="codeph">.java</code> file also contains class definitions for any iterators or connection context classes declared in the <code class="codeph">.sqlj</code> file.
                              </p>
                           </li>
                        </ul>
                        <p>The compilation step compiles the Java source file into multiple class files. One <code class="codeph">.class</code> file is generated for each class defined in the <code class="codeph">.sqlj</code> source file. Additional <code class="codeph">.class</code> files are produced if you declared any SQLJ iterators or connection contexts. Also, separate <code class="codeph">.class</code> files will be produced for any inner classes or anonymous classes in the code.
                        </p>
                        <div class="infoboxnotealso" id="GUID-AB5D0342-DC8A-4435-8B40-8EE70875DBB3__GUID-37857346-500D-47E0-B9FA-491264A01A9C">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="basic-language-features.html#GUID-74A36C5C-B63E-4489-A464-47387ABCB24E">Overview of SQLJ Declarations</a>"</span></p>
                        </div>
                        <p>The <code class="codeph">.class</code> files are named as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The class file for each class defined consists of the name of the class with the <code class="codeph">.class</code> extension. For example, the translator output file <code class="codeph">MyClass.java</code> is compiled into the <code class="codeph">MyClass.class</code> class file.
                              </p>
                           </li>
                           <li>
                              <p>The translator names iterator classes and connection context classes according to how you declare them. For example, if you declare an iterator <code class="codeph">MyIter</code>, then the compiler will generate a corresponding <code class="codeph">MyIter.class</code> class file.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="JSQLJ152"></a><div class="props_rev_3"><a id="GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7" name="GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7"></a><h5 id="JSQLJ-GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7" class="sect5">Output File Locations</h5>
                     <div>
                        <p>By default, SQLJ places the generated <code class="codeph">.java</code> files in the same directory as the <code class="codeph">.sqlj </code>file. You can specify a different <code class="codeph">.java</code> file location using the SQLJ <code class="codeph">-dir</code> option.
                        </p>
                        <p>By default, SQLJ places the generated <code class="codeph">.class</code> and <code class="codeph">.ser</code> files in the same directory as the generated <code class="codeph">.java</code> files. You can specify a different location for <code class="codeph">.class</code> and <code class="codeph">.ser</code> files using the SQLJ <code class="codeph">-d</code> option. This option setting is passed to the Java compiler so that <code class="codeph">.class</code> files and <code class="codeph">.ser</code> files will be in the same location.
                        </p>
                        <p>For both the <code class="codeph">-d</code> and <code class="codeph">-dir</code> option, you must specify a directory that already exists.
                        </p>
                        <div class="infoboxnotealso" id="GUID-88DCEAAC-F9CD-43BD-BC31-CE3F3745FBD7__GUID-D6289D57-8356-40B9-8221-47FD8126FCDE">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Options for Output Files and Directories</a>"</span></p>
                        </div>
                     </div>
                  </div>
               </div><a id="JSQLJ153"></a><div class="props_rev_3"><a id="GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0" name="GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0"></a><h4 id="JSQLJ-GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0" class="sect4">SQLJ Run-Time Processing</h4>
                  <div>
                     <p>This section discusses run-time processing during program execution.</p>
                     <p>When you translate with the default <code class="codeph">-codegen=oracle</code> setting, your program performs the following at run time:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Executes Oracle-specific application programming interfaces (APIs) that ensure batching support and proper creation and closing of Oracle JDBC statements</p>
                        </li>
                        <li>
                           <p>Directly calls Oracle JDBC APIs for registering, passing, and retrieving parameters and result sets</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A5327908-94E5-4D54-AD9D-4CDDE6181BD0__GUID-C1866CA4-A09F-46C9-B856-DF283F70524E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ155"></a><div class="props_rev_3"><a id="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B" name="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B"></a><h3 id="JSQLJ-GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B" class="sect3">SQLJ Sample Code</h3>
               <div>
                  <p>This section presents a side-by-side comparison of two versions of the same sample code, where one version is written in SQLJ and the other in JDBC. The objective of this section is to point out the differences in coding requirements between SQLJ and JDBC. This section covers:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF">SQLJ Version of the Sample Code</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8">JDBC Version of the Sample Code</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B__GUID-C09DF325-5EF3-49DF-99E0-159129459E19">
                     <p class="notep1">Note:</p>
                     <p>The particulars of SQLJ statements and features used here are described later in this manual, but this example is still useful here to give you a general idea in comparing and contrasting SQLJ and JDBC. You can look at it again when you are more familiar with SQLJ concepts and features.</p>
                  </div>
                  <p>In the sample, two methods are defined: <code class="codeph">getEmployeeAddress()</code>, which selects and returns an employee's address from a table based on the employee's number, and <code class="codeph">updateAddress()</code>, which takes the retrieved address, calls a stored procedure, and returns the updated address to the database.
                  </p>
                  <p>In both versions of the sample code, the following assumptions are made:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A SQL script has been run to create the schema in the database and populate the tables. Both versions of the sample code refer to objects and tables created by this script.</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">UPDATE_ADDRESS()</code> PL/SQL stored function exists, and it updates a given address.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">Connection</code> object (for JDBC) and default connection context (for SQLJ) have been created previously by the caller.
                        </p>
                     </li>
                     <li>
                        <p>Exceptions are handled by the caller.</p>
                     </li>
                     <li>
                        <p>The value of the address argument, <code class="codeph">addr</code>, passed to the <code class="codeph">updateAddress()</code> method can be <code class="codeph">null</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-439F143B-3A71-4C4E-94A3-2B32A91CAC9B__GUID-F1752B66-FA84-4F38-9260-1E292ED87885">
                           <p class="notep1">Note:</p>
                           <p>The JDBC and SQLJ versions of the sample code are only partial samples and cannot run independently. There is no <code class="codeph">main()</code> method in either.
                           </p>
                        </div>
                     </li>
                  </ul>
               </div><a id="JSQLJ157"></a><a id="JSQLJ158"></a><a id="JSQLJ159"></a><a id="JSQLJ160"></a><a id="JSQLJ161"></a><a id="JSQLJ162"></a><a id="JSQLJ163"></a><a id="JSQLJ156"></a><div class="props_rev_3"><a id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF" name="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF"></a><h4 id="JSQLJ-GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF" class="sect4">SQLJ Version of the Sample Code</h4>
                  <div>
                     <p>The SQLJ version of the sample code that defines methods to retrieve an employee's address from the database, update the address, and return it to the database is as follows:</p><pre class="oac_no_warn" dir="ltr">import java.sql.*;

/**
  This is what you have to do in SQLJ
  **/
public class SimpleDemoSQLJ                                  // line 6
{
  //TO DO: make a main that calls this

  public Address getEmployeeAddress(int empno)              // line 10
    throws SQLException
  {
    Address addr;                                           // line 13
    #sql { SELECT office_addr INTO :addr FROM employees
           WHERE empnumber = :empno };
    return addr;
  }
                                                            // line 18
  public Address updateAddress(Address addr)
    throws SQLException
  {
    #sql addr = { VALUES(UPDATE_ADDRESS(:addr)) };          // line 22
    return addr;
  }
}</pre><div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-5807968D-8FA9-471A-861E-506D16AC66E0">Line 10</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">getEmployeeAddress()</code> method does not require an explicit <code class="codeph">Connection</code> object. SQLJ can use a default connection context instance, which should be initialized somewhere earlier in the application.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-4963BA2B-1C56-44A9-AA25-4FC2F95AAFD7">Lines 13-15</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">getEmployeeAddress()</code> method retrieves an employee address according to the employee number. Use standard SQLJ <code class="codeph">SELECT</code> <code class="codeph">INTO</code> syntax to select an employee's address from the <code class="codeph">employee</code> table if the employee number matches the one (<code class="codeph">empno</code>) passed in to <code class="codeph">getEmployeeAddress()</code>. This requires a declaration of the <code class="codeph">Address</code> object (<code class="codeph">addr</code>) that will receive the data. The <code class="codeph">empno</code> and <code class="codeph">addr</code> variables are used as input host variables.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-3A7A0A63-8B75-410A-9294-5B94A818D772">Line 16</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">getEmployeeAddress()</code> method returns the <code class="codeph">addr</code> object.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-047CAC9E-2A9F-442B-AC6D-F9246D866FBB">Line 19</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">updateAddress()</code> method also uses the default connection context instance.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-905EEA92-A07C-4FE2-B04A-F3BA9014FA8C">Lines 19-22</p>
                     </div>
                     <!-- class="section" -->
                     <p>The address is passed to the <code class="codeph">updateAddress()</code> method, which passes it to the database. The database updates the address and passes it back. The actual updating of the address is performed by the <code class="codeph">UPDATE_ADDRESS()</code> stored function. Use standard SQLJ function-call syntax to receive the <code class="codeph">addr</code> address object returned by <code class="codeph">UPDATE_ADDRESS()</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-9BCEB741-B9D5-4D7C-95DF-B9C1BB9F3A9E">Line 23</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">updateAddress()</code> method returns the <code class="codeph">addr</code> object.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DF3C2511-A96E-44C4-9841-DE0346DE33AF__GUID-BC2C219E-193D-47A9-A423-0B265BF058C4">Specific Features of the SQLJ Version of the Code</p>
                     </div>
                     <!-- class="section" -->
                     <p>Note the following features of the SQLJ version of the sample code:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>An explicit connection is not required. SQLJ can use a default connection context that has been initialized previously in the application.</p>
                        </li>
                        <li>
                           <p>No data type casting is required.</p>
                        </li>
                        <li>
                           <p>SQLJ does not require knowledge of <code class="codeph">_SQL_TYPECODE</code>, <code class="codeph">_SQL_NAME</code>, or factories.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NULL</code> value data is processed implicitly.
                           </p>
                        </li>
                        <li>
                           <p>No explicit code for resource management (for example, closing statements or results sets) is required.</p>
                        </li>
                        <li>
                           <p>SQLJ embeds host variables, in contrast to JDBC, which uses parameter markers.</p>
                        </li>
                        <li>
                           <p>String concatenation for long SQL statements is not required. </p>
                        </li>
                        <li>
                           <p>You do not have to register output parameters.</p>
                        </li>
                        <li>
                           <p>SQLJ syntax is simpler. For example, <code class="codeph">SELECT INTO</code> statements are supported and ODBC-style escapes are not used.
                           </p>
                        </li>
                        <li>
                           <p>You do not have to implement your own statement cache. By default, SQLJ will automatically cache <code class="codeph">#sql</code> statements. This results in improved performance, for example, if you repeatedly call <code class="codeph">getEmployeeAddress()</code> and <code class="codeph">updateAddress()</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSQLJ164"></a><div class="props_rev_3"><a id="GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8" name="GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8"></a><h4 id="JSQLJ-GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8" class="sect4">JDBC Version of the Sample Code</h4>
                  <div>
                     <p>If you are familiar with JDBC, then you can check the following the JDBC version of the sample code, which defines methods to retrieve an employee's address from the database, update the address, and return it to the database.</p>
                     <div class="infoboxnote" id="GUID-3BBCA271-5A46-4CCB-B1FB-33C96158FAA8__GUID-605117A3-1CD9-4AD5-8F5A-99AC241701F1">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">TO DO</code> items in the comment lines indicate where you might want to add additional code to increase the usefulness of the code sample.
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import oracle.jdbc.*;

/**
  This is what you have to do in JDBC
  **/
public class SimpleDemoJDBC                                  // line 7
{

//TO DO: make a main that calls this

  public Address getEmployeeAddress(int empno, Connection conn)
    throws SQLException                                     // line 13
  {
    Address addr;
    PreparedStatement pstmt =                               // line 16
      conn.prepareStatement("SELECT office_addr FROM employees" + 
       " WHERE empnumber = ?");
    pstmt.setInt(1, empno);
    OracleResultSet rs = (OracleResultSet)pstmt.executeQuery();
    rs.next();                                              // line 21
     //TO DO: what if false (result set contains no data)?
    addr = (Address)rs.getORAData(1, Address.getORADataFactory());
    //TO DO: what if additional rows? 
    rs.close();                                             // line 25
    pstmt.close();
    return addr;                                            // line 27
  }
  public Address updateAddress(Address addr, Connection conn)
    throws SQLException                                     // line 30
                                                           
  {
    OracleCallableStatement cstmt = (OracleCallableStatement)
      conn.prepareCall("{ ? = call UPDATE_ADDRESS(?) }");   //line 34
    cstmt.registerOutParameter(1, Address._SQL_TYPECODE, Address._SQL_NAME);
                                                            // line 36
    if (addr == null) {
      cstmt.setNull(2, Address._SQL_TYPECODE, Address._SQL_NAME);
    } else {
      cstmt.setORAData(2, addr);
    } 
    
    cstmt.executeUpdate();                                  // line 43
    addr = (Address)cstmt.getORAData(1, Address.getORADataFactory());
    cstmt.close();                                          // line 45
    return addr;
  }
}
</pre></div>
               </div>
            </div><a id="JSQLJ175"></a><div class="props_rev_3"><a id="GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA" name="GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA"></a><h3 id="JSQLJ-GUID-24B99BA3-A097-447B-82F6-E234FFD7B9CA" class="sect3">Alternative Deployment Scenarios</h3>
               <div>
                  <p>Although this manual mainly discusses writing for client-side SQLJ applications, you may find it useful to run SQLJ code from an applet.</p>
               </div><a id="JSQLJ176"></a><div class="props_rev_3"><a id="GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C" name="GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C"></a><h4 id="JSQLJ-GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C" class="sect4">Running SQLJ in Applets</h4>
                  <div>
                     <p>Because the SQLJ run time is pure Java, you can use SQLJ source code in applets as well as applications. However, there are a few considerations.</p>
                     <div class="infoboxnotealso" id="GUID-DDFECBEB-E853-4163-A704-5D487AE85B3C__GUID-414C71BA-B514-45CC-9F7D-426EF96580B6">
                        <p class="notep1">See Also:</p>
                        <p><a href="../jjdbc/index.html" target="_blank"><span><cite>Oracle Database JDBC Developer’s Guide</cite></span></a></p>
                     </div>
                     <p>This section covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584">General Development and Deployment Considerations</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7">General End User Considerations</a></p>
                        </li>
                        <li>
                           <p><a href="intro-to-SQLJ.html#GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64">Java Environment and the Java Plug-In</a></p>
                        </li>
                     </ul>
                  </div><a id="JSQLJ177"></a><div class="props_rev_3"><a id="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584" name="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584"></a><h5 id="JSQLJ-GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584" class="sect5">General Development and Deployment Considerations</h5>
                     <div>
                        <p>The following general considerations apply to the use of SQLJ in applets:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You must package all the SQLJ run-time packages with your applet. The packages are:</p><pre class="oac_no_warn" dir="ltr">sqlj.runtime
sqlj.runtime.ref
sqlj.runtime.error
</pre><p>Also package the following if you used Oracle customization:</p><pre class="oac_no_warn" dir="ltr">oracle.sqlj.runtime
oracle.sqlj.runtime.error
</pre><p>These packages are included with your Oracle installation in one of several run-time libraries in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/lib</code> directory.
                              </p>
                              <div class="infoboxnotealso" id="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584__GUID-EEAE96FC-4A21-4215-8E41-9E4A9BCEC28C">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="getting-started.html#GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67">Requirements for Using the Oracle SQLJ Implementation</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>You must specify a pure Java JDBC driver, such as Oracle JDBC Thin driver, for your database connection.</p>
                           </li>
                           <li>
                              <p>You must explicitly specify a connection context instance for each SQLJ executable statement in an applet. This is a requirement because you could conceivably run two SQLJ applets in a single browser and, thus, in the same JVM.</p>
                              <div class="infoboxnotealso" id="GUID-A3166984-C5A5-46DF-B29C-4F3A21C86584__GUID-BF407659-5BBD-4278-8301-EFDDF5AB21F6">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="key-programming-considerations.html#GUID-02A50813-2D4D-4DC1-AD1A-014AF1EDC03D">Connection Considerations</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>The default translator setting <code class="codeph">-codegen=oracle</code> generates Oracle-specific code. This will eliminate the use of Java reflection at run time and, thus, increase portability across different browser environments.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="JSQLJ178"></a><div class="props_rev_3"><a id="GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7" name="GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7"></a><h5 id="JSQLJ-GUID-5EB10A9A-F953-4915-ADB5-CBB0D93741F7" class="sect5">General End User Considerations</h5>
                     <div>
                        <p>When end users run your SQLJ applet, classes in their <code class="codeph">CLASSPATH</code> may conflict with classes that are downloaded with the applet. Therefore, Oracle recommends that end users clear their <code class="codeph">CLASSPATH</code> before running the applet.
                        </p>
                     </div>
                  </div><a id="JSQLJ179"></a><div class="props_rev_3"><a id="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64" name="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64"></a><h5 id="JSQLJ-GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64" class="sect5">Java Environment and the Java Plug-In</h5>
                     <div>
                        <p>The following are some additional considerations regarding the Java environment and use of Oracle-specific features:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>SQLJ requires the run-time environment of JDK 6 or JDK 7. Users cannot run SQLJ applets in browsers using earlier JDK versions,  without a plug-in. One option is to use a Java plug-in offered by Sun Microsystems. For information, refer to the following:</p>
                              <p><a href="http://www.oracle.com/technetwork/java/index.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/index.html</code></a></p>
                           </li>
                           <li>
                              <p>Applets using Oracle-specific features require Oracle SQLJ run time to work. Oracle SQLJ run time consists of the classes in the SQLJ run-time library file under <code class="codeph">oracle.sqlj.*</code>. Oracle SQLJ <code class="codeph">runtime.jar</code> library requires the Java Reflection API, <code class="codeph">java.lang.reflect.*</code>. Most browsers do not support the Reflection API or impose security restrictions, but the Sun Microsystems Java plug-in provides support for the Reflection API.
                              </p>
                              <div class="infoboxnote" id="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64__GUID-0F25EAAD-1605-448D-A5C1-A576BA0B2886">
                                 <p class="notep1">Note:</p>
                                 <p>The term "Oracle-specific features" refers to the use of Oracle type extensions (discussed in <a href="type-support.html#GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9"> Type Support</a>) and the use of SQLJ features that require Oracle-specific code generation or, for ISO SQLJ standard code generation, require your application to be customized to work against Oracle Database instance. (For example, this is true of the <code class="codeph">SET</code> statement, discussed in <a href="basic-language-features.html#GUID-D93359BA-4F29-49C2-8AAE-23F8BBCE8BE5"> Basic Language Features</a>.)
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p>The preceding issues can be summarized as follows, focusing on users with Internet Explorer and Netscape browsers:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The SQLJ and JDBC versions should match. For example, to use the SQLJ 9.0.0 run time, you must have an Oracle 9.0.0 or earlier JDBC driver.</p>
                              <div class="infoboxnotealso" id="GUID-48C29710-7EBB-4D2F-AD7A-F7E1A401AE64__GUID-509F1E71-34A0-440B-92B7-DE149ECB63E1">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="getting-started.html#GUID-59D43923-4D2A-42FB-8F03-9CF1F3B60C67">Requirements for Using the Oracle SQLJ Implementation</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>If you use object types, JDBC 2.0 types, REF CURSORs, or the <code class="codeph">CAST</code> statement in your SQLJ statements, then you must adhere to your choice of the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the default <code class="codeph">-codegen=oracle</code> setting when you translate your applet.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Ensure that the browser that you use supports JDK 6 and permits reflection.</p>
                                 </li>
                                 <li>
                                    <p>Run your applet through a browser Java plug-in.</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ181"></a><div class="props_rev_3"><a id="GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5" name="GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5"></a><h3 id="JSQLJ-GUID-8F7DF27B-A577-47F3-B93B-9E38A1CC55B5" class="sect3">Alternative Development Scenarios</h3>
               <div>
                  <p>The discussion in this book assumes that you are coding manually on a UNIX environment for English-language deployment. However, you can use SQLJ on other platforms and with integrated development environments (IDEs). There is also globalization support for deployment to other languages. This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6">SQLJ Globalization Support</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1">SQLJ in Oracle JDeveloper 10g and Other IDEs</a></p>
                     </li>
                     <li>
                        <p><a href="intro-to-SQLJ.html#GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19">Windows Considerations</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ182"></a><div class="props_rev_3"><a id="GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6" name="GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6"></a><h4 id="JSQLJ-GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6" class="sect4">SQLJ Globalization Support</h4>
                  <div>
                     <p>Support for native languages and character encodings by the Oracle SQLJ implementation is based on Java built-in globalization support capabilities.</p>
                     <p>The standard <code class="codeph">user.language</code> and <code class="codeph">file.encoding</code> properties of the JVM determine appropriate language and encoding for translator and run-time messages. The SQLJ <code class="codeph">-encoding</code> option determines encoding for interpreting and generating source files during translation.
                     </p>
                     <div class="infoboxnotealso" id="GUID-E899FCDF-3B6D-4098-8864-964DD876C4E6__GUID-3E27AE47-5F5B-4871-9E2C-32FF01D713C1">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-run-time-functionality.html#GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6">Globalization Support in the Translator and Run Time</a>"</span></p>
                     </div>
                  </div>
               </div><a id="JSQLJ183"></a><div class="props_rev_3"><a id="GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1" name="GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1"></a><h4 id="JSQLJ-GUID-D6B8A198-C2B1-416A-BDC0-558A8B1F7FF1" class="sect4">SQLJ in Oracle JDeveloper 10<span class="italic">g</span> and Other IDEs
                  </h4>
                  <div>
                     <p>The Oracle SQLJ implementation includes a programmatic API so that it can be embedded in IDEs, such as Oracle JDeveloper 10<span class="italic">g</span>. The IDE takes on a role similar to that of the front-end <code class="codeph">sqlj</code> script, invoking the translator, semantics-checker, compiler, and customizer (as applicable).
                     </p>
                     <p>JDeveloper is a Jave-based, cross-platform visual development environment for Java programming. The JDeveloper Suite enables developers to build multitier, scalable Internet applications using Java across the Oracle Internet Platform. The core product of the suite, the JDeveloper IDE, excels in creating, debugging, and deploying component-based applications.</p>
                     <p>Oracle JDBC OCI and Thin drivers are included with JDeveloper. The compilation functionality of JDeveloper includes an integrated SQLJ translator so that your SQLJ application is translated automatically as it is compiled. </p>
                  </div>
               </div><a id="JSQLJ184"></a><div class="props_rev_3"><a id="GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19" name="GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19"></a><h4 id="JSQLJ-GUID-4B4D56E6-02C4-4A69-B1C2-929AB5B3EE19" class="sect4">Windows Considerations</h4>
                  <div>
                     <p>Note the following if you are using a Microsoft Windows environment instead of a UNIX environment:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>This manual uses UNIX syntax. Use platform-specific file names and directory separators, such as "\" on Microsoft Windows, that are appropriate for your platform, because your JVM expects file names and paths in the platform-specific format. This is true even if you are using a shell, such as <code class="codeph">ksh</code>, that permits a different file name syntax.
                           </p>
                        </li>
                        <li>
                           <p>For UNIX, the Oracle SQLJ implementation provides a front-end script, <code class="codeph">sqlj</code>, that you use to invoke the SQLJ translator. On Microsoft Windows, Oracle instead provides an executable file, <code class="codeph">sqlj.exe</code>. Using a script is not feasible on Microsoft Windows because <code class="codeph">.bat</code> files on these platforms do not support embedded equals signs (=) in arguments, string operations on arguments, or wildcard characters in file name arguments.
                           </p>
                        </li>
                        <li>
                           <p>How to set environment variables is specific to the operating system. There may also be OS-specific restrictions. In Windows 95, use the <code class="codeph">Environment</code> tab in the <code class="codeph">System</code> control panel. Additionally, because Windows 95 does not support the "=" character in variable settings, SQLJ supports the use of "#" instead of "=" in setting <code class="codeph">SQLJ_OPTIONS</code>, an environment variable that SQLJ can use for option settings. Consult your operating system documentation regarding settings and syntax for environment variables, and be aware of any size limitations.
                           </p>
                        </li>
                        <li>
                           <p>As with any operating system and environment you use, be aware of specific limitations. In particular, the complete, expanded SQLJ command line must not exceed the maximum command-line size, which is 250 characters for Windows 95 and 4000 characters for Windows NT. Consult your operating system documentation.</p>
                        </li>
                     </ul>
                     <p>Refer to the release notes for Windows for additional information.</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00201.DBFS-hierarchical-store.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBFS Hierarchical Store and related store wallet management work together to store less frequently used data.">
      <meta name="description" content="The DBFS Hierarchical Store and related store wallet management work together to store less frequently used data.">
      <title>DBFS Hierarchical Store</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer's Guide">
      <meta property="og:description" content="The DBFS Hierarchical Store and related store wallet management work together to store less frequently used data.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96333-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBFS-securefiles-store.html" title="Previous" type="text/html">
      <link rel="next" href="DBFS-content-API.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADLOB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBFS-securefiles-store.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBFS-content-API.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles and Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-file-system.html" property="item" typeof="WebPage"><span property="name">   Database File System (DBFS)</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">   DBFS Hierarchical Store</li>
            </ol>
            <a id="GUID-375BEA1D-F37C-4647-B3CF-03A4FDCF7161" name="GUID-375BEA1D-F37C-4647-B3CF-03A4FDCF7161"></a><a id="ADLOB006"></a>
            
            <h2 id="ADLOB-GUID-375BEA1D-F37C-4647-B3CF-03A4FDCF7161" class="sect2"><span class="enumeration_chapter">22 </span>   DBFS Hierarchical Store
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The DBFS Hierarchical Store and related store wallet management work together to store less frequently used data.</p>
               <p>Topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3" title="The Oracle DBFS Hierarchical Store package (DBMS_DBFS_HS) is a store provider for DBMS_DBFS_CONTENT that supports hierarchical storage for DBFS content.">About the Hierarchical Store Package_ DBMS_DBFS_HS</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-412817A0-5745-4031-9518-200E5F977030" title="The DBMS_DBFS_HS package must be used in conjunction with the DBMS_DBFS_CONTENT package to manage Hierarchical Storage Management for SecureFiles LOBs using DBFS Links.">Ways to Use DBFS Hierarchial Store</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8" title="You manage a Hierarchical Store wallet and set up, register, and mount a hierarchical Store.">Setting up the Store</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76" title="The Hierarchical Store can be used as an independent file system or as an archive solution for SecureFiles LOBs.">Using the Hierarchical Store</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-3BE7F481-16AB-4584-8339-220D9EAC8684" title="Database File System Links allow for storing SecureFiles LOBs in a different location than usual.">Database File System Links</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3" title="The DBMS_DBFS_HS package is a service provider that enables use of tape or Amazon S3 Web service as storage for data.">The DBMS_DBFS_HS Package</a></p>
                  </li>
                  <li>
                     <p><a href="DBFS-hierarchical-store.html#GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C" title="The BFS Hierarchical Stores have several types of views.">Views for DBFS Hierarchical Store</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB46068"></a><div class="props_rev_3"><a id="GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3" name="GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3"></a><h3 id="ADLOB-GUID-5FE7399B-878E-4308-A22E-7C4D270C64D3" class="sect3">About the Hierarchical Store Package, DBMS_DBFS_HS</h3>
               <div>
                  <p>The Oracle DBFS Hierarchical Store package (<code class="codeph">DBMS_DBFS_HS</code>) is a store provider for <code class="codeph">DBMS_DBFS_CONTENT</code> that supports hierarchical storage for DBFS content. 
                  </p>
                  <p>The package stores content in two external storage devices: tape and the Amazon S3 web service, and associated metadata (or properties) in the database. The DBFS HS may cache frequently accessed content in database tables to improve performance.</p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-412817A0-5745-4031-9518-200E5F977030" name="GUID-412817A0-5745-4031-9518-200E5F977030"></a><h3 id="ADLOB-GUID-412817A0-5745-4031-9518-200E5F977030" class="sect3">Ways to Use DBFS Hierarchial Store</h3>
               <div>
                  <p>The <code class="codeph">DBMS_DBFS_HS</code> package must be used in conjunction with the <code class="codeph">DBMS_DBFS_CONTENT</code> package to manage Hierarchical Storage Management for SecureFiles LOBs using DBFS Links. 
                  </p>
                  <p>Using this package, data that is less frequently used can be migrated to a cheaper external device such as tape, achieving significant reduction in storage costs. </p>
                  <p>The <code class="codeph">DBMS_DBFS_HS</code> package can also be plugged into the <code class="codeph">DBMS_DBFS_CONTENT</code> package, as a store provider, to implement a tape file system, if the associated external storage device is tape, or a cloud file system, if the associated external storage device is the Amazon S3 storage service.
                  </p>
                  <p>The <code class="codeph">DBMS_DBFS_HS</code> package provides you the ability to use tape as a storage tier when implementing Information Lifecycle Management (ILM) for database tables or content. The package also supports other forms of storage targets including Web Services like Amazon S3. This service enables users to store data in the database on tape and other forms of storage. The data on tape or Amazon S3 is part of the Oracle Database and all standard APIs can access it, but only through the database.
                  </p>
                  <p><code class="codeph">DBMS_DBFS_HS</code> has additional interfaces needed to manage the external storage device and the cache associated with each store.
                  </p>
                  <p>To use the package <code class="codeph">DBMS_DBFS_HS</code>, you must be granted the <code class="codeph">DBFS_ROLE</code> role.
                  </p>
                  <div class="infoboxnotealso" id="GUID-412817A0-5745-4031-9518-200E5F977030__GUID-3814361D-59FD-45DE-BB02-2ED751694388">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>, for details of the <code class="codeph">DBMS_DBFS_HS</code> Package
                     </p>
                  </div>
               </div>
            </div><a id="ADLOB46095"></a><div class="props_rev_3"><a id="GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8" name="GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8"></a><h3 id="ADLOB-GUID-858DB4D4-3CBD-4761-8813-DE075E8ABFB8" class="sect3">Setting up the Store</h3>
               <div>
                  <p>You manage a Hierarchical Store wallet and set up, register, and mount a hierarchical Store.</p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712" title="Use the command-line utility mkstore to create and manage wallets.">Managing a HS Store Wallet</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9" title="Setting up a hierarchical file system store requires creating, registering, and mounting the store.">Creating_ Registering_ and Mounting the Store</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46075"></a><div class="props_rev_3"><a id="GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712" name="GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712"></a><h4 id="ADLOB-GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712" class="sect4">Managing a HS Store Wallet</h4>
                  <div>
                     <p>Use the command-line utility <code class="codeph">mkstore</code> to create and manage wallets.
                     </p>
                     <div class="section">
                        <p>Use the following commands to create wallets:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Create a wallet</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -create
</pre></li>
                           <li>
                              <p>Add a <code class="codeph">KEY</code> alias
                              </p>
                              <p>Specify the <code class="codeph">access_key</code> and <code class="codeph">secret_key</code> aliases by enclosing them within single quotes.
                              </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -createCredential <span class="italic">alias</span> '<span class="italic">access_key</span>' '<span class="italic">secret_key</span>'
</pre><p>For example: </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl /home/user1/mywallet -createCredential mykey 'abc' 'xyz'
</pre></li>
                           <li>
                              <p>Delete a KEY alias </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -deleteCredential <span class="italic">alias</span>
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl /home/user1/mywallet -deleteCredential mykey</pre></li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-CBBD02CC-C20D-43C8-80B1-45EB55BDF712__GUID-B29A1083-6C69-4B59-AC8A-CA6CB25B7C20">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../dbimi/using-oracle-wallet-manager.html#DBIMI160" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more about creation and management of wallets
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46161"></a><a id="ADLOB46185"></a><div class="props_rev_3"><a id="GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9" name="GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9"></a><h4 id="ADLOB-GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9" class="sect4">Creating, Registering, and Mounting the Store</h4>
                  <div>
                     <p>Setting up a hierarchical file system store requires creating, registering, and mounting the store.</p>
                     <div class="section"></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E4E4FD6C-092B-412A-A47C-45CB8E0DB2E9__GUID-E37F7157-EC45-4E45-BB34-17BFC6BCC26C">Creating, registering, and mounting the store.</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Call <code class="codeph">createStore</code>.</span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.createStore( store_name, store_type, tbl_name, tbs_name, cache_size, lob_cache_quota, optimal_tarball_size, schema_name);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Set mandatory and optional properties using the following interface:</span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.setStoreProperty(StoreName, PropertyName, PropertyValue);
</pre><p>For <code class="codeph">store_type</code> = <code class="codeph">STORETYPE_TAPE</code>, mandatory properties are:
                              </p><pre class="oac_no_warn" dir="ltr">PROPNAME_DEVICELIBRARY, PROPNAME_MEDIAPOOL, PROPNAME_CACHESIZE.
 
PROPNAME_CACHESIZE is already set by createStore. 
</pre><p>You can change the value of <code class="codeph">PROPNAME_CACHESIZE</code> using <code class="codeph">reconfigCache</code>.
                              </p>
                              <p>Optional properties are:</p><pre class="oac_no_warn" dir="ltr">PROPNAME_OPTTARBALLSIZE, PROPNAME_READCHUNKSIZE, PROPNAME_WRITECHUNKSIZE, PROPNAME_STREAMABLE.
</pre><p>For <code class="codeph">store_type</code> = <code class="codeph">STORETYPE_AMAZONS3</code> mandatory properties are: 
                              </p><pre class="oac_no_warn" dir="ltr">PROPNAME_DEVICELIBRARY, PROPNAME_CACHESIZE, PROPNAME_S3HOST,PROPNAME_BUCKET, PROPNAME_LICENSEID, PROPNAME_WALLET.
</pre><p><code class="codeph">PROPNAME_CACHESIZE</code> is set by <code class="codeph">createStore</code>. You can change the value of <code class="codeph">PROPNAME_CACHESIZE</code> using <code class="codeph">reconfigCache</code>.
                              </p>
                              <p>Optional properties are:</p><pre class="oac_no_warn" dir="ltr">PROPNAME_OPTTARBALLSIZE, PROPNAME_READCHUNKSIZE, PROPNAME_WRITECHUNKSIZE, PROPNAME_STREAMABLE, PROPNAME_HTTPPROXY.
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Register the store with DBFS Content API using:</span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_CONTENT.registerStore(store_name, provider_name, provider_package);
</pre><p>Note: <code class="codeph">provider_package</code> is the <code class="codeph">dbms_dbfs_hs</code> package.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Mount the stores for access using: </span><div><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_CONTENT.mountStore(store_name, store_mount, singleton,principal,
&nbsp;&nbsp;owner, acl, asof, read_only);</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="ADLOB46096"></a><div class="props_rev_3"><a id="GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76" name="GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76"></a><h3 id="ADLOB-GUID-92FCE08F-B9EA-4A96-BE9D-866327422A76" class="sect3">Using the Hierarchical Store</h3>
               <div>
                  <p>The Hierarchical Store can be used as an independent file system or as an archive solution for SecureFiles LOBs.</p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-FF564A86-9245-446C-9085-B3B3145C0617" title="Use the DBMS_DBFS_CONTENT package to create, update, read, and delete file system entries in the store.">Using Hierarchical Store as a File System</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-AF266437-9F64-424D-A42D-F17573D1B195" title="Use the DBMS_LOB package to archive SecureFiles LOBs in a tape or S3 store.">Using Hierarchical Store as an Archive Solution For SecureFiles LOBs</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5" title="You can drop a hierarchical store.">Dropping a Hierarchical Store</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2" title="The DBFS hierarchical store can store its files in compressed forms.">Compression to Use with the Hierarchical Store</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9" title="This example program configures and uses a tape store.">Program Example Using Tape</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D" title="This example program configures and uses an Amazon S3 store.">Program Example Using Amazon S3</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46097"></a><div class="props_rev_3"><a id="GUID-FF564A86-9245-446C-9085-B3B3145C0617" name="GUID-FF564A86-9245-446C-9085-B3B3145C0617"></a><h4 id="ADLOB-GUID-FF564A86-9245-446C-9085-B3B3145C0617" class="sect4">Using Hierarchical Store as a File System</h4>
                  <div>
                     <p>Use the <code class="codeph">DBMS_DBFS_CONTENT</code> package to create, update, read, and delete file system entries in the store. 
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-FF564A86-9245-446C-9085-B3B3145C0617__REFERTODBFSCONTENTAPIFORDETAILS.-DFE7A85D">
                           <p class="notep1">See Also:</p>
                           <p><a href="DBFS-content-API.html#GUID-630BE6DB-0178-4EE4-8D7D-824BA886F68E" title="You can enable applications to use the Database File System (DBFS) in several different programming environments.">DBFS Content API</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46098"></a><div class="sect3"><a id="GUID-AF266437-9F64-424D-A42D-F17573D1B195" name="GUID-AF266437-9F64-424D-A42D-F17573D1B195"></a><h4 id="ADLOB-GUID-AF266437-9F64-424D-A42D-F17573D1B195" class="sect4">Using Hierarchical Store as an Archive Solution For SecureFiles LOBs</h4>
                  <div>
                     <p>Use the <code class="codeph">DBMS_LOB</code> package to archive SecureFiles LOBs in a tape or S3 store.
                     </p>
                     <p>The <code class="codeph">DBMS_LOB</code> package archives SecureFiles LOBs in a tape or S3 store, as described in <span class="q">"<a href="using-oracle-LOBs-storage.html#GUID-DD9F53E4-3A56-43BF-AAA0-9BE2692DC81A" title="There are PL/SQL packages that can be used with BasicFiles LOBs and SecureFiles LOBs.">PL/SQL Packages for LOBs and DBFS</a>"</span>.
                     </p>
                     <p>To free space in the cache or to force cache resident contents to be written to external storage device, call:</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.storePush(store_name);</pre></div>
               </div><a id="ADLOB46099"></a><div class="props_rev_3"><a id="GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5" name="GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5"></a><h4 id="ADLOB-GUID-AD96CBC0-1B5B-4278-8D79-85FB8EC41DE5" class="sect4">Dropping a Hierarchical Store</h4>
                  <div>
                     <p>You can drop a hierarchical store.</p>
                     <div class="section">
                        <p>To drop a hierarchical store, call:</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.dropStore(store_name, opt_flags);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46074"></a><div class="props_rev_3"><a id="GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2" name="GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2"></a><h4 id="ADLOB-GUID-74892CE7-5B14-4501-ABBA-1714C20A61F2" class="sect4">Compression to Use with the Hierarchical Store</h4>
                  <div>
                     <p>The DBFS hierarchical store can store its files in compressed forms.</p>
                     <p>The DBFS hierarchical store has the ability to store its files in compressed form using the <code class="codeph">SETPROPERTY</code> method and the property <code class="codeph">PROPNAME_COMPRESSLVL</code> to specify the compression level. 
                     </p>
                     <p>Valid values are: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_NONE</code>: No compression 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_LOW</code>: <code class="codeph">LOW</code> compression
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_MEDIUM</code>: <code class="codeph">MEDIUM</code> compression
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">PROPVAL_COMPLVL_HIGH</code>: <code class="codeph">HIGH</code> compression
                           </p>
                        </li>
                     </ul>
                     <p>Generally, the compression level <code class="codeph">LOW</code> performs best and still provides a good compression ratio. Compression levels <code class="codeph">MEDIUM</code> and <code class="codeph">HIGH</code> provide significantly better compression ratios, but compression times can be correspondingly longer. Oracle recommends using <code class="codeph">NONE</code> or <code class="codeph">LOW</code> when write performance is critical, such as when files in the DBFS HS store are updated frequently. If space is critical and the best possible compression ratio is desired, use <code class="codeph">MEDIUM</code> or <code class="codeph">HIGH</code>.
                     </p>
                     <p>Files are compressed as they are paged out of the cache into the staging area (before they are subsequently pushed into the back end tape or S3 storage). Therefore, compression also benefits by storing smaller files in the staging area and effectively increasing the total available capacity of the staging area.</p>
                  </div>
               </div><a id="ADLOB46101"></a><div class="props_rev_3"><a id="GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9" name="GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9"></a><h4 id="ADLOB-GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9" class="sect4">Program Example Using Tape</h4>
                  <div>
                     <p>This example program configures and uses a tape store. </p>
                     <p>In the example, you must substitute valid values in some places, as indicated by &lt;...&gt;, for the program to run successfully.</p>
                     <div class="infoboxnotealso" id="GUID-0ADB68C1-B49F-4984-9D0A-324FAB7547E9__GUID-299E4456-63BE-4C01-B23A-1A1DFACF0F84">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> <code class="codeph">DBMS_DBFS_HS</code> documentation for complete details about the methods and their parameters
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">Rem Example to configure and use a Tape store.
Rem
Rem hsuser should be a valid database user who has been granted
Rem the role dbfs_role.
 
connect hsuser/hsuser 
 
Rem The following block sets up a STORETYPE_TAPE store with
Rem DBMS_DBFS_HS acting as the store provider.
 
declare 
storename varchar2(32) ; 
tblname varchar2(30) ; 
tbsname varchar2(30) ; 
lob_cache_quota number := 0.8 ; 
cachesz number ; 
ots number ; 
begin 
cachesz := 50 * 1048576 ; 
ots := 1048576 ; 
storename := 'tapestore10' ; 
tblname := 'tapetbl10' ; 
tbsname := '&lt;TBS_3&gt;' ; -- Substitute a valid tablespace name
 
-- Create the store.
-- Here tbsname is the tablespace used for the store,
-- tblname is the table holding all the store entities,
-- cachesz is the space used by the store to cache content
--   in the tablespace,
-- lob_cache_quota is the fraction of cachesz allocated
--   to level-1 cache and
-- ots is minimum amount of content that is accumulated
--   in level-2 cache before being stored on tape
dbms_dbfs_hs.createStore(
  storename,
  dbms_dbfs_hs.STORETYPE_TAPE,
  tblname, tbsname, cachesz,
  lob_cache_quota, ots) ; 
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_SBTLIBRARY,
  '&lt;ORACLE_HOME/work/libobkuniq.so&gt;') ;
  -- Substitute your ORACLE_HOME path
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_MEDIAPOOL,
  '&lt;0&gt;') ;  -- Substitute valid value
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_COMPRESSLEVEL,
  'NONE') ; 
 
-- Please refer to DBMS_DBFS_CONTENT documentation
-- for details about this method
dbms_dbfs_content.registerstore(
  storename,
  'tapeprvder10',
  'dbms_dbfs_hs') ; 
 
-- Please refer to DBMS_DBFS_CONTENT documentation
-- for details about this method
dbms_dbfs_content.mountstore(storename, 'tapemnt10') ; 
end ; 
/ 
 
Rem The following code block does file operations
Rem using DBMS_DBFS_CONTENT on the store configured
Rem in the previous code block
 
connect hsuser/hsuser 
 
declare 
  path varchar2(256) ; 
  path_pre varchar2(256) ; 
  mount_point varchar2(32) ; 
  store_name varchar2(32) ; 
  prop1 dbms_dbfs_content_properties_t ; 
  prop2 dbms_dbfs_content_properties_t ; 
  mycontent blob := empty_blob() ; 
  buffer varchar2(1050) ; 
  rawbuf raw(1050) ; 
  outcontent blob := empty_blob() ; 
  itemtype integer ; 
  pflag integer ; 
  filecnt integer ; 
  iter integer ; 
  offset integer ; 
  rawlen integer ; 
begin 
 
  mount_point := '/tapemnt10' ; 
  store_name := 'tapestore10' ; 
  path_pre := mount_point ||'/file' ; 
 
 
-- We create 10 empty files in the following loop
  filecnt := 0 ; 
  loop 
    exit when filecnt = 10 ; 
    path := path_pre || to_char(filecnt) ; 
    mycontent := empty_blob() ; 
    prop1 := null ; 
 
    -- Please refer to DBMS_DBFS_CONTENT documentation
    -- for details about this method
    dbms_dbfs_content.createFile(
      path, prop1, mycontent) ; -- Create the file
 
    commit ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
  -- We populate the newly created files with content
  -- in the following loop
  pflag := dbms_dbfs_content.prop_data +
           dbms_dbfs_content.prop_std  +
           dbms_dbfs_content.prop_opt  ; 
 
  buffer := 'Oracle provides an integrated management '  ||
            'solution for managing Oracle database with '||
            'a unique top-down application management '  ||
            'approach. With new self-managing '          ||
            'capabilities, Oracle eliminates time-'      ||
            'consuming, error-prone administrative '     ||
            'tasks, so database administrators can '     ||
            'focus on strategic business objectives '    ||
            'instead of performance and availability '   ||
            'fire drills. Oracle Management Packs for '  ||
            'Database provide signifiCant cost and time-'||
            'saving capabilities for managing Oracle '   ||
            'Databases. Independent studies demonstrate '||
            'that Oracle Database is 40 percent easier ' ||
            'to manage over DB2 and 38 percent over '    ||
            'SQL Server.'; 
 
  rawbuf := utl_raw.cast_to_raw(buffer) ; 
  rawlen := utl_raw.length(rawbuf) ; 
  offset := 1 ; 
  filecnt := 0 ; 
  loop 
    exit when filecnt = 10 ; 
    path := path_pre || to_char(filecnt) ; 
    prop1 := null;
  
    -- Append buffer to file
    -- Please refer to DBMS_DBFS_CONTENT documentation
    -- for details about this method
    dbms_dbfs_content.putpath(
      path, prop1, rawlen,
      offset, rawbuf) ;
 
    commit ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
  -- Clear out level 1 cache
  dbms_dbfs_hs.flushCache(store_name) ; 
  commit ; 
 
  -- Do write operation on even-numbered files.
  -- Do read operation on odd-numbered files.
  filecnt := 0 ; 
  loop 
    exit when filecnt = 10; 
    path := path_pre || to_char(filecnt) ; 
    if mod(filecnt, 2) = 0 then 
      -- Get writable file
      -- Please refer to DBMS_DBFS_CONTENT documentation
      -- for details about this method
      dbms_dbfs_content.getPath(
        path, prop2, outcontent, itemtype,
        pflag, null, true) ;
  
      buffer := 'Agile businesses want to be able to '    ||
                'quickly adopt new technologies, whether '||
                'operating systems, servers, or '         ||
                'software, to help them stay ahead of '   ||
                'the competition. However, change often ' ||
                'introduces a period of instability into '||
                'mission-critical IT systems. Oracle '    ||
                'Real Application Testing-with Oracle '   ||
                'Database 11g Enterprise Edition-allows ' ||
                'businesses to quickly adopt new '        ||
                'technologies while eliminating the '     ||
                'risks associated with change. Oracle '   ||
                'Real Application Testing combines a '    ||
                'workload capture and replay feature '    ||
                'with an SQL performance analyzer to '    ||
                'help you test changes against real-life '||
                'workloads, and then helps you fine-tune '||
                'the changes before putting them into'    ||
                'production. Oracle Real Application '    ||
                'Testing supports older versions of '     ||
                'Oracle Database, so customers running '  ||
                'Oracle Database 9i and Oracle Database ' ||
                '10g can use it to accelerate their '     ||
                'database upgrades. '; 
 
      rawbuf := utl_raw.cast_to_raw(buffer) ; 
      rawlen := utl_raw.length(rawbuf) ; 
 
      -- Modify file content
      -- Please refer to DBMS_DBFS_CONTENT documentation
      -- for details about this method
      dbms_lob.write(outcontent, rawlen, 10, rawbuf);
      commit ; 
    else 
      -- Read the file
      -- Please refer to DBMS_DBFS_CONTENT documentation
      -- for details about this method
      dbms_dbfs_content.getPath(
        path, prop2, outcontent, itemtype, pflag) ;
    end if ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
  -- Delete the first 2 files
  filecnt := 0; 
 
  loop 
    exit when filecnt = 2 ; 
    path := path_pre || to_char(filecnt) ; 
    -- Delete file
    -- Please refer to DBMS_DBFS_CONTENT documentation
    -- for details about this method
    dbms_dbfs_content.deleteFile(path) ;
    commit ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
 
  -- Move content staged in database to the tape store
  dbms_dbfs_hs.storePush(store_name) ; 
  commit ; 
 
end ; 
/</pre></div>
               </div><a id="ADLOB46100"></a><div class="sect3"><a id="GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D" name="GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D"></a><h4 id="ADLOB-GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D" class="sect4">Program Example Using Amazon S3</h4>
                  <div>
                     <p>This example program configures and uses an Amazon S3 store.</p>
                     <p>Valid values must be substituted in some places, indicated by &lt;...&gt;, for the program to run successfully.</p>
                     <div class="infoboxnotealso" id="GUID-EE3C969D-C6DE-49B5-8694-1AF22E143E4D__GUID-EA9073DB-084A-4A0A-AF45-075FDBA5CF1F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> <code class="codeph">DBMS_DBFS_HS</code> documentation for complete details about the methods and their parameters
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">Rem Example to configure and use an Amazon S3 store.
Rem
Rem hsuser should be a valid database user who has been granted
Rem the role dbfs_role.
 
connect hsuser/hsuser 
 
Rem The following block sets up a STORETYPE_AMAZONS3 store with
Rem DBMS_DBFS_HS acting as the store provider.
 
declare 
storename varchar2(32) ; 
tblname varchar2(30) ; 
tbsname varchar2(30) ; 
lob_cache_quota number := 0.8 ; 
cachesz number ; 
ots number ; 
begin 
cachesz := 50 * 1048576 ; 
ots := 1048576 ; 
storename := 's3store10' ; 
tblname := 's3tbl10' ; 
tbsname := '&lt;TBS_3&gt;' ; -- Substitute a valid tablespace name
 
-- Create the store.
-- Here tbsname is the tablespace used for the store,
-- tblname is the table holding all the store entities,
-- cachesz is the space used by the store to cache content
--   in the tablespace,
-- lob_cache_quota is the fraction of cachesz allocated
--   to level-1 cache and
-- ots is minimum amount of content that is accumulated
--   in level-2 cache before being stored in AmazonS3
dbms_dbfs_hs.createStore(
  storename,  
  dbms_dbfs_hs.STORETYPE_AMAZONS3,
  tblname, tbsname, cachesz,
  lob_cache_quota, ots) ; 
 
dbms_dbfs_hs.setstoreproperty(storename,
  dbms_dbfs_hs.PROPNAME_SBTLIBRARY,
  '&lt;ORACLE_HOME/work/libosbws11.so&gt;');
  -- Substitute your ORACLE_HOME path
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_S3HOST,
  's3.amazonaws.com') ; 
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_BUCKET,
  'oras3bucket10') ; 
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_WALLET,
  'LOCATION=file:&lt;ORACLE_HOME&gt;/work/wlt CREDENTIAL_ALIAS=a_key') ;
  -- Substitute your ORACLE_HOME path
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_LICENSEID,
  '&lt;xxxxxxxxxxxxxxxx&gt;') ; -- Substitute a valid SBT license id
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_HTTPPROXY,
  '&lt;http://www-proxy.mycompany.com:80/&gt;') ;
  -- Substitute valid value. If a proxy is not used,
  -- then this property need not be set.
 
dbms_dbfs_hs.setstoreproperty(
  storename,
  dbms_dbfs_hs.PROPNAME_COMPRESSLEVEL,
  'NONE') ; 
 
dbms_dbfs_hs.createbucket(storename) ; 
 
-- Please refer to DBMS_DBFS_CONTENT documentation
-- for details about this method
dbms_dbfs_content.registerstore(
  storename,
  's3prvder10',
  'dbms_dbfs_hs') ; 
 
-- Please refer to DBMS_DBFS_CONTENT documentation
-- for details about this method
dbms_dbfs_content.mountstore(
  storename,
  's3mnt10') ; 
end ; 
/ 
 
Rem The following code block does file operations
Rem using DBMS_DBFS_CONTENT on the store configured
Rem in the previous code block
 
connect hsuser/hsuser 
 
declare 
path varchar2(256) ; 
path_pre varchar2(256) ; 
mount_point varchar2(32) ; 
store_name varchar2(32) ; 
prop1 dbms_dbfs_content_properties_t ; 
prop2 dbms_dbfs_content_properties_t ; 
mycontent blob := empty_blob() ; 
buffer varchar2(1050) ; 
rawbuf raw(1050) ; 
outcontent blob := empty_blob() ; 
itemtype integer ; 
pflag integer ; 
filecnt integer ; 
iter integer ; 
offset integer ; 
rawlen integer ; 
begin 
 
  mount_point := '/s3mnt10' ; 
  store_name := 's3store10' ; 
  path_pre := mount_point ||'/file' ; 
 
  -- We create 10 empty files in the following loop
  filecnt := 0 ; 
  loop 
    exit when filecnt = 10 ; 
    path := path_pre || to_char(filecnt) ; 
    mycontent := empty_blob() ; 
    prop1 := null ; 
 
    -- Please refer to DBMS_DBFS_CONTENT documentation
    -- for details about this method
    dbms_dbfs_content.createFile(
      path, prop1, mycontent) ; -- Create the file
 
    commit ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
  -- We populate the newly created files with content
  -- in the following loop
  pflag := dbms_dbfs_content.prop_data +
           dbms_dbfs_content.prop_std  +
           dbms_dbfs_content.prop_opt  ; 
 
  buffer := 'Oracle provides an integrated management '  ||
            'solution for managing Oracle database with '||
            'a unique top-down application management '  ||
            'approach. With new self-managing '          ||
            'capabilities, Oracle eliminates time-'      ||
            'consuming, error-prone administrative '     ||
            'tasks, so database administrators can '     ||
            'focus on strategic business objectives '    ||
            'instead of performance and availability '   ||
            'fire drills. Oracle Management Packs for '  ||
            'Database provide signifiCant cost and time-'||
            'saving capabilities for managing Oracle '   ||
            'Databases. Independent studies demonstrate '||
            'that Oracle Database is 40 percent easier ' ||
            'to manage over DB2 and 38 percent over '    ||
            'SQL Server.'; 
 
  rawbuf := utl_raw.cast_to_raw(buffer) ; 
  rawlen := utl_raw.length(rawbuf) ; 
  offset := 1 ; 
  filecnt := 0 ; 
  loop 
    exit when filecnt = 10 ; 
    path := path_pre || to_char(filecnt) ; 
    prop1 := null;
  
    -- Append buffer to file
    -- Please refer to DBMS_DBFS_CONTENT documentation
    -- for details about this method
    dbms_dbfs_content.putpath(
      path, prop1, rawlen,
      offset, rawbuf) ;
 
    commit ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
  -- Clear out level 1 cache
  dbms_dbfs_hs.flushCache(store_name) ; 
  commit ; 
 
  -- Do write operation on even-numbered files.
  -- Do read operation on odd-numbered files.
  filecnt := 0 ; 
  loop 
    exit when filecnt = 10; 
    path := path_pre || to_char(filecnt) ; 
    if mod(filecnt, 2) = 0 then 
      -- Get writable file
      -- Please refer to DBMS_DBFS_CONTENT documentation
      -- for details about this method
      dbms_dbfs_content.getPath(
        path, prop2, outcontent, itemtype,
        pflag, null, true) ;
  
      buffer := 'Agile businesses want to be able to '    ||
                'quickly adopt new technologies, whether '||
                'operating systems, servers, or '         ||
                'software, to help them stay ahead of '   ||
                'the competition. However, change often ' ||
                'introduces a period of instability into '||
                'mission-critical IT systems. Oracle '    ||
                'Real Application Testing-with Oracle '   ||
                'Database 11g Enterprise Edition-allows ' ||
                'businesses to quickly adopt new '        ||
                'technologies while eliminating the '     ||
                'risks associated with change. Oracle '   ||
                'Real Application Testing combines a '    ||
                'workload capture and replay feature '    ||
                'with an SQL performance analyzer to '    ||
                'help you test changes against real-life '||
                'workloads, and then helps you fine-tune '||
                'the changes before putting them into'    ||
                'production. Oracle Real Application '    ||
                'Testing supports older versions of '     ||
                'Oracle Database, so customers running '  ||
                'Oracle Database 9i and Oracle Database ' ||
                '10g can use it to accelerate their '     ||
                'database upgrades. '; 
 
      rawbuf := utl_raw.cast_to_raw(buffer) ; 
      rawlen := utl_raw.length(rawbuf) ; 
 
      -- Modify file content
      -- Please refer to DBMS_DBFS_CONTENT documentation
      -- for details about this method
      dbms_lob.write(outcontent, rawlen, 10, rawbuf);
      commit ; 
    else 
      -- Read the file
      -- Please refer to DBMS_DBFS_CONTENT documentation
      -- for details about this method
      dbms_dbfs_content.getPath(
        path, prop2, outcontent, itemtype, pflag) ;
    end if ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
  -- Delete the first 2 files
  filecnt := 0; 
 
  loop 
    exit when filecnt = 2 ; 
    path := path_pre || to_char(filecnt) ; 
    -- Delete file
    -- Please refer to DBMS_DBFS_CONTENT documentation
    -- for details about this method
    dbms_dbfs_content.deleteFile(path) ;
    commit ; 
    filecnt := filecnt + 1 ; 
  end loop ; 
 
 
  -- Move content staged in database to Amazon S3 store
  dbms_dbfs_hs.storePush(store_name) ; 
  commit ; 
 
end ; 
/</pre></div>
               </div>
            </div><a id="ADLOB45974"></a><div class="props_rev_3"><a id="GUID-3BE7F481-16AB-4584-8339-220D9EAC8684" name="GUID-3BE7F481-16AB-4584-8339-220D9EAC8684"></a><h3 id="ADLOB-GUID-3BE7F481-16AB-4584-8339-220D9EAC8684" class="sect3">Database File System Links</h3>
               <div>
                  <p>Database File System Links allow for storing SecureFiles LOBs in a different location than usual.</p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F" title="DBFS Links allows storing SecureFiles LOBs transparently in a location separate from the segment where the LOB is normally stored. Instead, you store a link to the LOB in the segment.">About Database File System Links</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505" title="Database File System Links require the creation of a Database File System through the use of the DBFS Content package, DBMS_DBFS_CONTENT.">Ways to Create Database File System Links</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-147629A9-FCC4-481E-B46B-DE0D4366B797" title="The API DBMS_LOB.COPY_DBFS_LINK(DSTLOB, SRCLOB, FLAGS) provides the ability to copy a linked SecureFiles LOB.">Database File System Links Copy</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D" title="You can copy DBFS links from source tables to destination tables.">Copying a Linked LOB Between Tables</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4" title="Online redefinition copies any DBFS Links that are stored in any SecureFiles LOBs in the table being redefined.">Online Redefinition and DBFS Links</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7" title="DBFS Links can read from a linked SecureFiles LOB even if the data is not cached in the database.">Transparent Read</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45975"></a><a id="ADLOB46147"></a><div class="props_rev_3"><a id="GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F" name="GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F"></a><h4 id="ADLOB-GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F" class="sect4">About Database File System Links</h4>
                  <div>
                     <p>DBFS Links allows storing SecureFiles LOBs transparently in a location separate from the segment where the LOB is normally stored. Instead, you store a link to the LOB in the segment. </p>
                     <p>The link in the segment must reference a path that uses DBFS to locate the LOB when accessed. This means that the LOB could be stored on another file system, on a tape system, in the cloud, or any other location that can be accessed using DBFS.</p>
                     <p>When a user or application tries to access a SecureFiles LOB that has been stored outside the segment using a DBFS Link, the behavior can vary depending on the attempted operation and the characteristics of the DBFS store that holds the LOB:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Read: </p>
                           <p>If the LOB is not already cached in a local area in the database, then it can be read directly from the DBFS content store that holds it, if the content store allows streaming access based on the setting of the <code class="codeph">PROPNAME_STREAMABLE</code> parameter. If the content store does not allow streaming access, then the entire LOB will first be read into a local area in the database, where it will be stored for a period of time for future access.
                           </p>
                        </li>
                        <li>
                           <p>Write: </p>
                           <p>If the LOB is not already cached in a local area in the database, then it will first be read into the database, modified as needed, and then written back to the DBFS content store defined in the DBFS Link for the LOB in question.</p>
                        </li>
                        <li>
                           <p>Delete:</p>
                           <p>When a SecureFiles LOB that is stored through a DBFS Link is deleted, the DBFS Link is deleted from the table, but the LOB itself is NOT deleted from the DBFS content store. Or it is more complex, based on the characteristics/settings, of the DBFS content store in question. </p>
                        </li>
                     </ul>
                     <p>DBFS Links enable the use of SecureFiles LOBs to implement Hierarchical Storage Management (HSM) in conjunction with the DBFS Hierarchical Store (DBFS HS). HSM is a process by which the database moves rarely used or unused data from faster, more expensive, and smaller storage to slower, cheaper, and higher capacity storage.</p>
                     <div class="figure" id="GUID-9B7775D5-ED13-4156-8655-E955D0D7BC2F__GUID-79E69764-D05F-489F-B1E6-C81781D176E8">
                        <p class="titleinfigure">Figure 22-1 Database File System Link</p><img src="img/adlob202.gif" width="288" alt="Description of Figure 22-1 follows" title="Description of Figure 22-1 follows" longdesc="img_text/adlob202.html"><br><a href="img_text/adlob202.html">Description of "Figure 22-1 Database File System Link"</a></div>
                     <!-- class="figure" -->
                  </div>
               </div><a id="ADLOB45976"></a><div class="props_rev_3"><a id="GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505" name="GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505"></a><h4 id="ADLOB-GUID-4817D6E3-DF45-482B-A5A8-FB6792CEC505" class="sect4">Ways to Create Database File System Links</h4>
                  <div>
                     <p>Database File System Links require the creation of a Database File System through the use of the DBFS Content package, <code class="codeph">DBMS_DBFS_CONTENT</code>.
                     </p>
                     <p>Oracle provides several methods for creating a DBFS Link: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Move SecureFiles LOB data into a specified DBFS pathname and store the reference to the new location in the LOB. </p>
                           <p>Call <code class="codeph">DBMS_LOB.MOVE_TO_DBFS_LINK()</code>with LOB and DBFS path name arguments, and the system creates the specified DBFS HSM Store if it does not exist, copies data from the SecureFiles LOB into the specified DBFS HSM Store, removes data from the SecureFiles LOB, and stores the file path name for subsequent access through this LOB.
                           </p>
                        </li>
                        <li>
                           <p>Copy or create a reference to an existing file. </p>
                           <p>Call <code class="codeph">DBMS_LOB.COPY_DBFS_LINK()</code> to copy a link from an existing DBFS Link. If there is any data in the destination SecureFiles LOB, the system removes this data and stores a copy of the reference to the link in the destination SecureFiles LOB.
                           </p>
                        </li>
                        <li>
                           <p>Call <code class="codeph">DBMS_LOB.SET_DBFS_LINK()</code>, which assumes that the data for the link is stored in the specified DBFS path name. 
                           </p>
                           <p>The system removes data in the specified SecureFiles LOB and stores the link to the DBFS path name.</p>
                        </li>
                     </ul>
                     <p>Creating a DBFS Link impacts which operations may be performed and how. Any <code class="codeph">DBMS_LOB</code> operations that modify the contents of a LOB will throw an exception if the underlying LOB has been moved into a DBFS Link. The application must explicitly replace the DBFS Link with a LOB by calling <code class="codeph">DBMS_LOB.COPY_FROM_LINK()</code> before making these calls. 
                     </p>
                     <p>When it is completed, the application can move the updated LOB back to DBFS using <code class="codeph">DBMS_LOB.MOVE_TO_DBFS_LINK()</code>, if needed. Other <code class="codeph">DBMS_LOB</code> operations that existed before Oracle Database 11<span class="italic">g</span> Release 2 work transparently if the DBFS Link is in a file system that supports streaming. Note that these operations fail if streaming is either not supported or disabled.
                     </p>
                     <p>If the DBFS Link file is modified through DBFS interfaces directly, the change is reflected in subsequent reads of the SecureFiles LOB. If the file is deleted through DBFS interfaces, then an exception occurs on subsequent reads.</p>
                     <p>For the database, it is also possible that a DBA may not want to store all of the data stored in a SecureFiles LOB HSM during export and import. Oracle has the ability to export and import only the Database File System Links. The links are fully qualified identifiers that provide access to the stored data, when entered into a SecureFiles LOB or registered on a SecureFiles LOB in a different database. This ability to export and import a link is similar to the common file system functionality of symbolic links.</p>
                     <p>The newly imported link is only available as long as the source, the stored data, is available, or until the first retrieval occurs on the imported system. The application is responsible for stored data retention. If the application system removes data from the store that still has a reference to it, the database throws an exception when the referencing SecureFiles LOB(s) attempt to access the data. Oracle also supports continuing to keep the data in the database after migration out to a DBFS store as a cached copy. It is up to the application to purge these copies in compliance with its retention policies.</p>
                  </div>
               </div><a id="ADLOB45977"></a><div class="props_rev_3"><a id="GUID-147629A9-FCC4-481E-B46B-DE0D4366B797" name="GUID-147629A9-FCC4-481E-B46B-DE0D4366B797"></a><h4 id="ADLOB-GUID-147629A9-FCC4-481E-B46B-DE0D4366B797" class="sect4">Database File System Links Copy</h4>
                  <div>
                     <p>The API <code class="codeph">DBMS_LOB.COPY_DBFS_LINK(DSTLOB,</code> <code class="codeph">SRCLOB</code>, <code class="codeph">FLAGS</code><code class="codeph">)</code> provides the ability to copy a linked SecureFiles LOB. 
                     </p>
                     <p>sBy default, the LOB is not obtained from the DBFS HSM Store during this operation; this is a copy-by-reference operation that exports the DBFS path name (at source side) and imports it (at destination side). The <code class="codeph">flags</code> argument can dictate that the destination has a local copy in the database and references the LOB data in the DBFS HSM Store.
                     </p>
                  </div>
               </div><a id="ADLOB45978"></a><div class="props_rev_3"><a id="GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D" name="GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D"></a><h4 id="ADLOB-GUID-92F203A6-5A72-4775-AC57-BFA8012A4D2D" class="sect4">Copying a Linked LOB Between Tables</h4>
                  <div>
                     <p>You can copy DBFS links from source tables to destination tables.</p>
                     <div class="section">
                        <p>Use the following code to copy any DBFS Links that are stored in any SecureFiles LOBs in the source table to the destination table. </p>
                        <p><code class="codeph">CREATE TABLE ... AS SELECT (CTAS)</code> and <code class="codeph">INSERT TABLE ... AS SELECT (ITAS)</code> 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45979"></a><div class="props_rev_3"><a id="GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4" name="GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4"></a><h4 id="ADLOB-GUID-71728CBF-089E-43FD-BAC9-1BCC1227E7D4" class="sect4">Online Redefinition and DBFS Links</h4>
                  <div>
                     <p>Online redefinition copies any DBFS Links that are stored in any SecureFiles LOBs in the table being redefined. </p>
                     <p>Online redefinition copies any DBFS Links that are stored in any SecureFiles LOBs in the table being redefined. </p>
                  </div>
               </div><a id="ADLOB45980"></a><div class="props_rev_3"><a id="GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7" name="GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7"></a><h4 id="ADLOB-GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7" class="sect4">Transparent Read</h4>
                  <div>
                     <p>DBFS Links can read from a linked SecureFiles LOB even if the data is not cached in the database.</p>
                     <p>You can read data from the content store where the data is currently stored and stream that data back to the user application as if it were being read from the SecureFiles LOB segment. This allows seamless access to the DBFS Linked data without the prerequisite first call to <code class="codeph">DBMS_LOB.COPY_FROM_DBFS_LINK()</code>.
                     </p>
                     <p>Whether or not transparent read is available for a particular SecureFiles LOB is determined by the <code class="codeph">DBFS_CONTENT</code> store where the data resides. This feature is always enabled for <code class="codeph">DBFS_SFS</code> stores, and by default for <code class="codeph">DBFS_HS</code> stores. To disable transparent read for <code class="codeph">DBFS_HS</code> store, set the <code class="codeph">PROPNAME_STREAMABLE</code> parameter to <code class="codeph">FALSE</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-67FBF9BD-3FCC-40E3-8E5F-C895F985F7A7__GUID-EA2B7E26-BE1C-492B-80C9-11ABD62A7679">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72174" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB46070"></a><div class="props_rev_3"><a id="GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3" name="GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3"></a><h3 id="ADLOB-GUID-09F628B0-1448-4364-A9BE-5E2385D4F6C3" class="sect3">The DBMS_DBFS_HS Package</h3>
               <div>
                  <p>The <code class="codeph">DBMS_DBFS_HS</code> package is a service provider that enables use of tape or Amazon S3 Web service as storage for data.
                  </p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868" title="The DBMS_DBFS_HS PL/SQL package constants are very detailed.">Constants for DBMS_DBFS_HS Package</a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8" title="There are many methods in the DBMS_DBFS_HSpackage.">Methods for DBMS_DBFS_HS Package</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46069"></a><div class="props_rev_3"><a id="GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868" name="GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868"></a><h4 id="ADLOB-GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868" class="sect4">Constants for DBMS_DBFS_HS Package</h4>
                  <div>
                     <p> The <code class="codeph">DBMS_DBFS_HS</code> PL/SQL package constants are very detailed.
                     </p>
                     <div class="infoboxnotealso" id="GUID-6EC61353-06C9-4D8F-B5E2-FBAD80981868__SEEORACLEDATABASEPLSQLPACKAGESANDTY-DFE7D10C">
                        <p class="notep1">See Also:</p>
                        <p>See <a href="../arpls/DBMS_DBFS_HS.html#ARPLS72148" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for details of constants used by <code class="codeph">DBMS_DBFS_HS</code> PL/SQL package 
                        </p>
                     </div>
                  </div>
               </div><a id="ADLOB46160"></a><a id="ADLOB46186"></a><div class="props_rev_3"><a id="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8" name="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8"></a><h4 id="ADLOB-GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8" class="sect4">Methods for DBMS_DBFS_HS Package</h4>
                  <div>
                     <p>There are many methods in the <code class="codeph">DBMS_DBFS_HS</code>package.
                     </p>
                     <div class="section">
                        <p><a href="DBFS-hierarchical-store.html#GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8__CHDEECJD" title="Methods of the DBMS_DBFS_HS package. Column 1 is the method, and Column 2 is its brief description.">Table 22-1</a> summarizes the <code class="codeph">DBMS_DBFS_HS</code> PL/SQL package methods.
                        </p>
                        <div class="infoboxnotealso" id="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8__ORACLEDATABASEPLSQLPACKAGESANDTYPES-DFE7F8AC">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-80C9663D-F6A0-4075-AC86-EEF8CA1A38F8__CHDEECJD">
                        <p class="titleintable">Table 22-1 Methods of the DBMS_DBFS_HS PL/SQL Packages</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Methods of the DBMS_DBFS_HS PL/SQL Packages" summary="Methods of the DBMS_DBFS_HS package. Column 1 is the method, and Column 2 is its brief description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d90648e2364">Method</th>
                                 <th align="left" valign="bottom" width="69%" id="d90648e2367">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2372" headers="d90648e2364 ">
                                    <p><code class="codeph">CLEANUPUNUSEDBACKUPFILES</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2372 d90648e2367 ">
                                    <p>Removes files that are created on the external storage device if they have no current content.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72155" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2385" headers="d90648e2364 ">
                                    <p><code class="codeph">CREATEBUCKET</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2385 d90648e2367 ">
                                    <p>Creates an AWS bucket, for use with the <code class="codeph">STORETYPE_AMAZON3</code> store.
                                    </p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72165" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2401" headers="d90648e2364 ">
                                    <p><code class="codeph">CREATESTORE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2401 d90648e2367 ">
                                    <p>Creates a DBFS HS store.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72160" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2415" headers="d90648e2364 ">
                                    <p><code class="codeph">DEREGSTORECOMMAND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2415 d90648e2367 ">
                                    <p>Removes a command (message) that was associated with a store.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72161" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2428" headers="d90648e2364 ">
                                    <p><code class="codeph">DROPSTORE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2428 d90648e2367 ">
                                    <p>Deletes a previously created DBFS HS store.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72163" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2441" headers="d90648e2364 ">
                                    <p><code class="codeph">FLUSHCACHE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2441 d90648e2367 ">
                                    <p>Flushes out level 1 cache to level 2 cache, increasing space in level 1.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72175" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2454" headers="d90648e2364 ">
                                    <p><code class="codeph">GETSTOREPROPERTY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2454 d90648e2367 ">
                                    <p>Retrieves the values of a property of a store in the database.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72165" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2467" headers="d90648e2364 ">
                                    <p><code class="codeph">RECONFIGCACHE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2467 d90648e2367 ">
                                    <p>Reconfigures the parameters of the database cache used by the store.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72167" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2480" headers="d90648e2364 ">
                                    <p><code class="codeph">REGISTERSTORECOMMAND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2480 d90648e2367 ">
                                    <p>Registers commands (messages) for a store so they are sent to the Media Manager of an external storage device.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72177" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> .
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2494" headers="d90648e2364 ">
                                    <p><code class="codeph">SENDCOMMAND</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2494 d90648e2367 ">
                                    <p>Sends a command (message) to the Media Manager of an external storage device.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72171" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2507" headers="d90648e2364 ">
                                    <p><code class="codeph">SETSTOREPROPERTY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2507 d90648e2367 ">
                                    <p>Associates name/value properties with a registered Hierarchical Store.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72173" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d90648e2521" headers="d90648e2364 ">
                                    <p><code class="codeph">STOREPUSH</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d90648e2521 d90648e2367 ">
                                    <p>Pushes locally cached data to an archive store.</p>
                                    <p><a href="../arpls/DBMS_DBFS_HS.html#ARPLS72165" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="ADLOB46206"></a><div class="props_rev_3"><a id="GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C" name="GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C"></a><h3 id="ADLOB-GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C" class="sect3">Views for DBFS Hierarchical Store</h3>
               <div>
                  <p>The BFS Hierarchical Stores have several types of views.</p>
                  <p>There are several types of view for DBFS Hierarchical Stores.</p>
                  <div class="infoboxnotealso" id="GUID-B1824096-15BC-4BA4-8F9B-18E21ABBBF1C__GUID-94E840F2-A61D-4E6A-81DC-D630B5825042">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/USER_DBFS_HS_FILES.html#REFRN26780" target="_blank"><span class="italic">Oracle Database Reference</span></a> for the columns and data types of these views
                     </p>
                  </div>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE" title="There are several views available for DBFS Hierarchical Store.">DBA Views </a></p>
                     </li>
                     <li>
                        <p><a href="DBFS-hierarchical-store.html#GUID-201E3899-9363-4F56-83BD-BE597E7B986B" title="There are several views available for the DBFS Hierarchical Store.">User Views</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46207"></a><div class="props_rev_3"><a id="GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE" name="GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE"></a><h4 id="ADLOB-GUID-27819CF9-55BE-4E35-A559-AF28F0E54BEE" class="sect4">DBA Views </h4>
                  <div>
                     <p>There are several views available for DBFS Hierarchical Store.</p>
                     <div class="section">
                        <p>These views for DBFS Hierarchical Store are available:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS</code></p>
                              <p>This view shows all Database File System (DBFS) hierarchical stores</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS_PROPERTIES</code></p>
                              <p>This view shows modifiable properties of all Database File System (DBFS) hierarchical stores.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS_FIXED_PROPERTIES</code></p>
                              <p>This view shows non-modifiable properties of all Database File System (DBFS) hierarchical stores.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DBA_DBFS_HS_COMMANDS</code></p>
                              <p>This view shows all the registered store commands for all Database File System (DBFS) hierarchical stores.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46088"></a><div class="props_rev_3"><a id="GUID-201E3899-9363-4F56-83BD-BE597E7B986B" name="GUID-201E3899-9363-4F56-83BD-BE597E7B986B"></a><h4 id="ADLOB-GUID-201E3899-9363-4F56-83BD-BE597E7B986B" class="sect4">User Views</h4>
                  <div>
                     <p>There are several views available for the DBFS Hierarchical Store.</p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">USER_DBFS_HS</code></p>
                              <p>This view shows all Database File System (DBFS) hierarchical stores owned by the current user.</p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_PROPERTIES</code></p>
                              <p>This view shows modifiable properties of all Database File System (DBFS) hierarchical stores owned by current user.</p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_FIXED_PROPERTIES</code></p>
                              <p>This view shows non-modifiable properties of all Database File System (DBFS) hierarchical stores owned by current user. </p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_COMMANDS</code> 
                              </p>
                              <p>This view shows all the registered store commands for all Database File system (DBFS) hierarchical stores owned by current user. </p>
                           </li>
                           <li>
                              <p><code class="codeph">USER_DBFS_HS_FILES</code></p>
                              <p>This view shows files in the Database File System (DBFS) hierarchical store owned by the current user and their location on the backend device. </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='06359.about-rman-commands.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>About RMAN Commands</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="release-changes.html" title="Previous" type="text/html">
      <link rel="next" href="rman-commands-at-sign-to-quit.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="release-changes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="rman-commands-at-sign-to-quit.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">About RMAN Commands</li>
            </ol>
            <a id="GUID-0385D88E-6D36-41AC-BEA0-DD7F5C97D253" name="GUID-0385D88E-6D36-41AC-BEA0-DD7F5C97D253"></a><a id="RCMRF001"></a>
            
            <h2 id="RCMRF-GUID-0385D88E-6D36-41AC-BEA0-DD7F5C97D253" class="sect2"><span class="enumeration_chapter">1 </span>About RMAN Commands
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="about-rman-commands.html#GUID-BF60D16B-0A61-4226-BEF7-339B1A73824D" title="Syntax descriptions are provided in this book for RMAN command-line constructs in graphic form or Backus Naur Form (BNF).">RMAN Syntax Diagrams</a></p>
                  </li>
                  <li>
                     <p><a href="about-rman-commands.html#GUID-9B7F162A-B3D8-4241-AA8E-3AAA72048550" title="The RMAN language is free-form. Keywords must be separated by at least one white space character (such as a space, tab, or line break).">Format of RMAN Commands</a></p>
                  </li>
                  <li>
                     <p><a href="about-rman-commands.html#GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675" title="The RMAN language contains reserved words, which are or have been used in RMAN commands. In general, avoid using reserved words in ways that conflict with their primary meaning in the RMAN command language.">RMAN Reserved Words</a></p>
                  </li>
                  <li>
                     <p><a href="about-rman-commands.html#GUID-5439AD1C-7BDD-4271-A320-B7657DC996D5" title="RMAN commands can be executed at the RMAN prompt, within a RUN command, or both.">Summary of RMAN Commands</a></p>
                  </li>
                  <li>
                     <p><a href="about-rman-commands.html#GUID-F3B3D81D-78C8-4534-8E63-1F0D6E974F40" title="RMAN subclauses are used in multiple commands.">Summary of RMAN Subclauses</a></p>
                  </li>
               </ul>
            </div><a id="RCMRF89973"></a><a id="RCMRF1954"></a><div class="props_rev_3"><a id="GUID-BF60D16B-0A61-4226-BEF7-339B1A73824D" name="GUID-BF60D16B-0A61-4226-BEF7-339B1A73824D"></a><h3 id="RCMRF-GUID-BF60D16B-0A61-4226-BEF7-339B1A73824D" class="sect3"><span class="enumeration_section">1.1 </span>RMAN Syntax Diagrams
               </h3>
               <div>
                  <p>Syntax descriptions are provided in this book for RMAN command-line constructs in graphic form or Backus Naur Form (BNF).</p>
                  <p>This section explains RMAN conventions exclusively. See <a href="../sqlrf/How-to-Read-Syntax-Diagrams.html#SQLRF018" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for general information about how to interpret syntax diagrams and BNF notation. 
                  </p>
                  <p>Recovery Manager syntax diagrams use lines and arrows to show syntactic structure, as shown in the following example for the <code class="codeph">CATALOG</code> command.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BF60D16B-0A61-4226-BEF7-339B1A73824D__GUID-CA06C513-7501-44A0-95DC-0FBE75C40F0B"><span class="italic">catalog</span>::=
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="figure" id="GUID-BF60D16B-0A61-4226-BEF7-339B1A73824D__GUID-317500A5-9D2A-4C77-B8AF-8EDFEDCD7610"><img src="img/catalog.gif" width="452" alt="Description of catalog.eps follows" title="Description of catalog.eps follows" longdesc="img_text/catalog.html"><br><a href="img_text/catalog.html">Description of the illustration catalog.eps</a></div>
                     <!-- class="figure" -->
                     <p>This section describes the components of syntax diagrams and gives examples of how to write RMAN commands. Syntax diagrams are made up of these items:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="about-rman-commands.html#GUID-CBA29F28-05EC-499C-93C7-091D7C2D427A" title="Keywords have special meanings in Recovery Manager syntax.">Keywords in RMAN Syntax</a></p>
                        </li>
                        <li>
                           <p><a href="about-rman-commands.html#GUID-55CE1FB1-8D85-42C6-8D3E-AA962F4EA31F" title="Placeholders in syntax diagrams indicate non-keywords.">Placeholders in RMAN Syntax</a></p>
                        </li>
                        <li>
                           <p><a href="about-rman-commands.html#GUID-EF23D6BA-F6AC-4589-9BB5-A369D2BFC45C" title="RMAN syntax diagrams contain some placeholder values that are enclosed in required or optional quotes.">Quotes in RMAN Syntax</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="RCMRF1955"></a><div class="props_rev_3"><a id="GUID-CBA29F28-05EC-499C-93C7-091D7C2D427A" name="GUID-CBA29F28-05EC-499C-93C7-091D7C2D427A"></a><h4 id="RCMRF-GUID-CBA29F28-05EC-499C-93C7-091D7C2D427A" class="sect4"><span class="enumeration_section">1.1.1 </span>Keywords in RMAN Syntax
                  </h4>
                  <div>
                     <p>Keywords have special meanings in Recovery Manager syntax. </p>
                     <p>In the syntax diagrams, keywords appear in rectangular boxes and an uppercase font, like the word <code class="codeph">CATALOG</code> in the example diagram. When used in text and code examples, RMAN keywords appear in uppercase, monospace font, for example,<span class="bold"> </span><code class="codeph">CATALOG</code><code class="codeph"> </code><code class="codeph">DATAFILECOPY</code>. You must use keywords in RMAN statements exactly as they appear in the syntax diagram, except that they can be either uppercase or lowercase.
                     </p>
                  </div>
               </div><a id="RCMRF1956"></a><div class="props_rev_3"><a id="GUID-55CE1FB1-8D85-42C6-8D3E-AA962F4EA31F" name="GUID-55CE1FB1-8D85-42C6-8D3E-AA962F4EA31F"></a><h4 id="RCMRF-GUID-55CE1FB1-8D85-42C6-8D3E-AA962F4EA31F" class="sect4"><span class="enumeration_section">1.1.2 </span>Placeholders in RMAN Syntax
                  </h4>
                  <div>
                     <p>Placeholders in syntax diagrams indicate non-keywords.</p>
                     <p>In the syntax diagrams, placeholders appear in ovals, as in the word <span class="italic">integer</span> in the example diagram. When described in text, RMAN placeholders appear in lowercase italic, for example, <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code>. 
                     </p>
                     <p>Placeholders are usually:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Names of database objects (<span class="italic">tablespace_name</span>)
                           </p>
                        </li>
                        <li>
                           <p>Oracle data type names (<span class="italic">date_string</span>)
                           </p>
                        </li>
                        <li>
                           <p>Subclauses (<span class="italic">datafileSpec</span>)
                           </p>
                        </li>
                     </ul>
                     <p>When you see a placeholder in a syntax diagram, substitute an object or expression of the appropriate type in the RMAN statement. For example, to write a <code class="codeph">DUPLICATE TARGET DATABASE TO</code> <span class="italic">'database_name'</span> command, use the name of the duplicate database you want to create, such as <code class="codeph">dupdb</code>, for the <span class="italic">database_name</span> placeholder in the diagram.
                     </p>
                     <p><a id="d4023e520" class="indexterm-anchor"></a><a id="d4023e524" class="indexterm-anchor"></a><a id="d4023e526" class="indexterm-anchor"></a><a id="d4023e528" class="indexterm-anchor"></a><a id="d4023e530" class="indexterm-anchor"></a><a id="d4023e534" class="indexterm-anchor"></a><a id="d4023e536" class="indexterm-anchor"></a>The only system-independent, valid environment variables in RMAN quoted strings are a question mark (<code class="codeph">?</code>) for the Oracle home and an at-sign (<code class="codeph">@</code>) for the SID. However, you can use operating system-specific environment variables on the target system within quoted strings. The environment variables are interpreted by the database server and not the RMAN client.
                     </p>
                     <p>The following table shows placeholders that appear in the syntax diagrams and provides examples of the values you might substitute for them in your statements.</p>
                     <div class="tblformal" id="GUID-55CE1FB1-8D85-42C6-8D3E-AA962F4EA31F__GUID-86FB5DD4-010D-411D-A11B-AF58C3BDAA8F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Describes variables that appear in RMAN syntax" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d4023e556">Placeholder</th>
                                 <th align="left" valign="bottom" width="43%" id="d4023e559">Description</th>
                                 <th align="left" valign="bottom" width="29%" id="d4023e562">Examples</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d4023e567" headers="d4023e556 ">
                                    <p>Quoted strings such as <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code>, <code class="codeph">'</code><span class="italic"><code class="codeph">tablespace_name</code></span><code class="codeph">'</code>, <code class="codeph">'</code><span class="italic"><code class="codeph">channel_name</code></span><code class="codeph">'</code>, <code class="codeph">'</code><span class="italic"><code class="codeph">channel_parms</code></span><code class="codeph">'</code></p>
                                 </td>
                                 <td align="left" valign="top" width="43%" headers="d4023e567 d4023e559 ">
                                    <p>A string of characters contained in either single or double quotes. A quoted string may contain white space, punctuation, and RMAN and SQL keywords.</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d4023e567 d4023e562 ">
                                    <p><code class="codeph">"?/dbs/cf.f"</code></p>
                                    <p><code class="codeph">'dev1'</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d4023e613" headers="d4023e556 ">
                                    <p>Nonquoted strings such as <span class="italic"><code class="codeph">channel_id</code></span>, <span class="italic"><code class="codeph">tag_name</code></span>, <span class="italic"><code class="codeph">date_string</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="43%" headers="d4023e613 d4023e559 ">
                                    <p>A sequence of characters containing no white space and no punctuation characters and starting with an alphabetic character.</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d4023e613 d4023e562 ">
                                    <p><code class="codeph">ch1</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d4023e635" headers="d4023e556 ">
                                    <p><span class="italic"><code class="codeph">integer</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="43%" headers="d4023e635 d4023e559 ">
                                    <p>Any sequence of only numeric characters.</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d4023e635 d4023e562 ">
                                    <p><code class="codeph">67843</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="RCMRF1957"></a><div class="props_rev_3"><a id="GUID-EF23D6BA-F6AC-4589-9BB5-A369D2BFC45C" name="GUID-EF23D6BA-F6AC-4589-9BB5-A369D2BFC45C"></a><h4 id="RCMRF-GUID-EF23D6BA-F6AC-4589-9BB5-A369D2BFC45C" class="sect4"><span class="enumeration_section">1.1.3 </span>Quotes in RMAN Syntax
                  </h4>
                  <div>
                     <p>RMAN syntax diagrams contain some placeholder values that are enclosed in required or optional quotes.</p>
                     <p><a id="d4023e730" class="indexterm-anchor"></a><a id="d4023e732" class="indexterm-anchor"></a>The syntax diagrams show single quotes, though in all cases double quotes are also valid in RMAN syntax. For example, you may specify either <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code> or <code class="codeph">"</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">"</code>.
                     </p>
                  </div>
               </div>
            </div><a id="RCMRF1958"></a><div class="props_rev_3"><a id="GUID-9B7F162A-B3D8-4241-AA8E-3AAA72048550" name="GUID-9B7F162A-B3D8-4241-AA8E-3AAA72048550"></a><h3 id="RCMRF-GUID-9B7F162A-B3D8-4241-AA8E-3AAA72048550" class="sect3"><span class="enumeration_section">1.2 </span>Format of RMAN Commands
               </h3>
               <div>
                  <p>The RMAN language is free-form. Keywords must be separated by at least one white space character (such as a space, tab, or line break).</p>
                  <p><a id="d4023e834" class="indexterm-anchor"></a><a id="d4023e836" class="indexterm-anchor"></a>An RMAN command starts with a keyword corresponding to a command described in <a href="rman-commands-at-sign-to-quit.html#GUID-8757D5C8-9360-4696-B5EF-5E6D0F8E5440"> RMAN Commands: @ (at sign) to QUIT</a>, followed by arguments and ending with a semicolon, as shown in the syntax diagrams.
                  </p>
                  <p>The following example shows an RMAN backup command:</p><pre class="oac_no_warn" dir="ltr">BACKUP DATABASE;
</pre><p>A command can span multiple lines. For example, you can rewrite each keyword in the preceding command on a separate line as follows:</p><pre class="oac_no_warn" dir="ltr">BACKUP
  DATABASE
;
</pre><p>The maximum length for an RMAN command in a single line is 4000 characters. When a command exceeds this length, you can either split the command into multiple commands or use multiple lines for the command (use the Enter key to make the command span multiple lines). For example, if a <code class="codeph">BACKUP</code> command that backs up multiple data files exceeds 4000 characters, then you can either split this command into two separate <code class="codeph">BACKUP</code> commands or make the single <code class="codeph">BACKUP</code> command span multiple lines.
                  </p>
                  <p><a id="d4023e863" class="indexterm-anchor"></a>You can insert a comment by using a pound (<code class="codeph">#</code>) character at any point in a line. After the <code class="codeph">#</code> character, the remainder of the line is ignored. For example:
                  </p><pre class="oac_no_warn" dir="ltr"># run this command once each day
BACKUP INCREMENTAL LEVEL 1 
  FOR RECOVER OF COPY      # using incrementally updated backups
  WITH TAG "DAILY_BACKUP"  # daily backup routine
  DATABASE;</pre></div>
            </div><a id="RCMRF89974"></a><a id="RCMRF89975"></a><a id="RCMRF909"></a><div class="props_rev_3"><a id="GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675" name="GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675"></a><h3 id="RCMRF-GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675" class="sect3"><span class="enumeration_section">1.3 </span>About RMAN Reserved Words
               </h3>
               <div>
                  <p>The RMAN language contains reserved words, which are or have been used in RMAN commands. In general, avoid using reserved words in ways that conflict with their primary meaning in the RMAN command language.</p>
                  <div class="section">
                     <p>If you must use a reserved word as an argument to an RMAN command (for example, as a file name, tablespace name, tag name, and so on), then surround it with single or double quotes. Otherwise, RMAN cannot parse your command correctly and generates an error. <a href="about-rman-commands.html#GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675__CHDJDFGI">Example 1-1</a> shows correct and incorrect usage of RMAN reserved words in RMAN commands.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675__CHDJDFGI">
                     <p class="titleinexample">Example 1-1 Using Reserved Words as Arguments to RMAN Commands</p><pre class="oac_no_warn" dir="ltr">ALLOCATE CHANNEL backup DEVICE TYPE DISK;         # incorrect
ALLOCATE CHANNEL "backup" DEVICE TYPE DISK;       # correct
BACKUP DATABASE TAG full;                         # incorrect
BACKUP DATABASE TAG 'full';                       # correct</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675__GUID-51976B1A-C05C-417C-AAC9-5978ACB7181D">
                        <p class="notep1">See Also:</p>
                        <p><a href="rman-reserved-words.html#GUID-70EC82A8-19E0-40B6-BBAB-E30475639276" title="This section lists the RMAN reserved words.">RMAN Reserved Words</a> for a list of all the current reserved words
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RCMRF89976"></a><a id="RCMRF1921"></a><div class="props_rev_3"><a id="GUID-5439AD1C-7BDD-4271-A320-B7657DC996D5" name="GUID-5439AD1C-7BDD-4271-A320-B7657DC996D5"></a><h3 id="RCMRF-GUID-5439AD1C-7BDD-4271-A320-B7657DC996D5" class="sect3"><span class="enumeration_section">1.4 </span>Summary of RMAN Commands
               </h3>
               <div>
                  <p>RMAN commands can be executed at the RMAN prompt, within a <code class="codeph">RUN</code> command, or both.
                  </p>
                  <div class="section">
                     <p> All commands from previous RMAN releases work with the current release, although some commands and options are now deprecated (see <a href="deprecated-rman-syntax.html#GUID-E2B27FFB-FAF1-4622-94E5-E4D51D61E86B" title="This appendix describes Recovery Manager syntax that is deprecated and describes preferred syntax if any exists."> Deprecated RMAN Syntax</a>). For command-line options for the RMAN client, refer to <code class="codeph"><a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7">RMAN</a></code>. <a href="about-rman-commands.html#GUID-5439AD1C-7BDD-4271-A320-B7657DC996D5__CHDDIHID" title="Briefly describes all RMAN commands">Table 1-1</a> provides a functional summary of the RMAN commands.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-5439AD1C-7BDD-4271-A320-B7657DC996D5__CHDDIHID">
                     <p class="titleintable">Table 1-1 <span class="bold">Recovery Manager Commands</span></p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Recovery Manager Commands" summary="Briefly describes all RMAN commands" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d4023e1170">Command</th>
                              <th align="left" valign="bottom" width="70%" id="d4023e1173">Purpose</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1178" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="at-sign.html#GUID-7A3919FE-140B-4F50-BA2F-3CEE3285E771">@ (at sign)</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1178 d4023e1173 ">
                                 <p>Run a command file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1188" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="double-at-sign.html#GUID-E2B8B99B-73CB-4D4E-8065-0B9F44AF8A52">@@ (double at sign)</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1188 d4023e1173 ">
                                 <p>Run a command file in the same directory as another command file that is currently running. The <code class="codeph">@@</code> command differs from the <code class="codeph">@</code> command only when run from within a command file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1204" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="ADVISE-FAILURE.html#GUID-40985161-61A8-4C0A-9BEF-1DEECBCDF49C">ADVISE FAILURE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1204 d4023e1173 ">
                                 <p>Display repair options.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1214" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="ALLOCATE-CHANNEL.html#GUID-9320BFF7-0728-4B3D-85B9-2184557ECDCE">ALLOCATE CHANNEL</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1214 d4023e1173 ">
                                 <p>Establish a channel, which is a connection between RMAN and a database instance.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1224" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="ALLOCATE-CHANNEL-FOR-MAINTENANCE.html#GUID-6F9887A0-1D48-4332-8E59-6FA2EFE67824">ALLOCATE CHANNEL FOR MAINTENANCE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1224 d4023e1173 ">
                                 <p>Allocate a channel in preparation for issuing maintenance commands such as <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1239" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1239 d4023e1173 ">
                                 <p>Back up database files, copies of database files, archived logs, or backup sets. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1249" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CATALOG.html#GUID-6E337759-9860-463A-BF7C-8512B272B8E1">CATALOG</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1249 d4023e1173 ">
                                 <p>Add information about file copies and user-managed backups to the repository.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1259" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1259 d4023e1173 ">
                                 <p>Mark a backup piece, image copy, or archived redo log as having the status <code class="codeph">UNAVAILABLE</code> or <code class="codeph">AVAILABLE</code>; remove the repository record for a backup or copy; override the retention policy for a backup or copy; update the recovery catalog with the <code class="codeph">DB_UNIQUE_NAME</code> for the target database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1278" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1278 d4023e1173 ">
                                 <p>Configure persistent RMAN settings. These settings apply to all RMAN sessions until explicitly changed or disabled.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1288" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1288 d4023e1173 ">
                                 <p>Establish a connection between RMAN and a target, auxiliary, or recovery catalog database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1298" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CONVERT.html#GUID-AD252F46-DD9E-4E2C-BF0E-DF2A4C7590C9">CONVERT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1298 d4023e1173 ">
                                 <p>Convert data file formats for transporting tablespaces and databases across platforms.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1309" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CREATE-CATALOG.html#GUID-9CFE47C7-2273-48C4-8056-6A4042AF3CDC">CREATE CATALOG</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1309 d4023e1173 ">
                                 <p>Create the schema for the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1319" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CREATE-SCRIPT.html#GUID-4741C1E1-C365-4597-BF2F-8679145B4946">CREATE SCRIPT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1319 d4023e1173 ">
                                 <p>Create a stored script and store it in the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1329" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1329 d4023e1173 ">
                                 <p>Determine whether files managed by RMAN, such as archived logs, data file copies, and backup pieces, still exist on disk or tape.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1339" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1339 d4023e1173 ">
                                 <p>Delete backups and copies, remove references to them from the recovery catalog, and update their control file records to status <code class="codeph">DELETED</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1352" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="DELETE-SCRIPT.html#GUID-FD104F0A-1A3E-45BA-A37E-648A1B0DADA0">DELETE SCRIPT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1352 d4023e1173 ">
                                 <p>Delete a stored script from the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1362" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="DESCRIBE.html#GUID-8D256DA7-D553-4886-BDD0-B920524FE0D1">DESCRIBE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1362 d4023e1173 ">
                                 <p>List the column definitions of a table or view.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1372" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="DROP-CATALOG.html#GUID-A406A103-5EC2-4087-B317-F4ACDFC99A02">DROP CATALOG</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1372 d4023e1173 ">
                                 <p>Remove the schema from the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1382" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="DROP-DATABASE.html#GUID-6553DD22-C68F-465C-B45D-FBD09D7E30CF">DROP DATABASE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1382 d4023e1173 ">
                                 <p>Delete the target database from disk and unregisters it.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1392" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1392 d4023e1173 ">
                                 <p>Use backups of the target database to create a duplicate database that you can use for testing purposes or to create a standby database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1402" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="EXECUTE-SCRIPT.html#GUID-553B5C55-0BA6-4B47-86A9-0BCF839CCE04">EXECUTE SCRIPT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1402 d4023e1173 ">
                                 <p>Run an RMAN stored script.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1412" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="EXIT.html#GUID-4A316732-92C9-48CC-8FD9-D59DB5D78E3A">EXIT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1412 d4023e1173 ">
                                 <p>Quit the RMAN executable.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1423" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="FLASHBACK-DATABASE.html#GUID-584AC79A-40C5-45CA-8C63-DED3BE3A4511">FLASHBACK DATABASE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1423 d4023e1173 ">
                                 <p>Return the database to its state at a previous time or SCN.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1433" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="GRANT.html#GUID-ECD469D1-DE31-498E-8AE1-E47E52E541B2">GRANT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1433 d4023e1173 ">
                                 <p>Grant privileges to a recovery catalog user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1443" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="HOST.html#GUID-0E990CCC-3D9C-4AEB-8AE2-4DA7E9B7D7D2">HOST</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1443 d4023e1173 ">
                                 <p>Invoke an operating system command-line subshell from within RMAN or run a specific operating system command.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1453" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="IMPORT-CATALOG.html#GUID-70D3A403-822A-40E7-B1BC-C7649F441058">IMPORT CATALOG</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1453 d4023e1173 ">
                                 <p>Imports the metadata from one recovery catalog into a different recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1463" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1463 d4023e1173 ">
                                 <p>Produce a detailed listing of backup sets or copies.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1473" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="PRINT-SCRIPT.html#GUID-FB2882A0-48C0-4D00-8ED6-9F6B2CD15FEC">PRINT SCRIPT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1473 d4023e1173 ">
                                 <p>Display a stored script.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1483" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="QUIT.html#GUID-B9E73011-0E55-4B76-ADB1-6B1273D5F605">QUIT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1483 d4023e1173 ">
                                 <p>Exit the RMAN executable.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1493" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1493 d4023e1173 ">
                                 <p>Apply redo log files and incremental backups to data files or data blocks restored from backup or data file copies, to update them to a specified time.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1503" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="REGISTER-DATABASE.html#GUID-F52FDFAD-C13E-4076-9589-58FB2ACB0691">REGISTER DATABASE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1503 d4023e1173 ">
                                 <p>Register the target database in the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1513" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="RELEASE-CHANNEL.html#GUID-E5B046B9-FE5E-46B4-ABDB-455DB433AECD">RELEASE CHANNEL</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1513 d4023e1173 ">
                                 <p>Release a channel that was allocated with an <code class="codeph"><a href="ALLOCATE-CHANNEL.html#GUID-9320BFF7-0728-4B3D-85B9-2184557ECDCE">ALLOCATE CHANNEL</a></code> command or <code class="codeph"><a href="ALLOCATE-CHANNEL-FOR-MAINTENANCE.html#GUID-6F9887A0-1D48-4332-8E59-6FA2EFE67824">ALLOCATE CHANNEL FOR MAINTENANCE</a></code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1533" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="REPAIR-FAILURE.html#GUID-8BF5A460-940A-41D0-9A8B-C14A303DEA98">REPAIR FAILURE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1533 d4023e1173 ">
                                 <p>Repair one or more failures recorded in the automated diagnostic repository.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1544" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="REPLACE-SCRIPT.html#GUID-2C86EDA9-63BE-4F21-9138-AF75597D5ADF">REPLACE SCRIPT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1544 d4023e1173 ">
                                 <p>Replace an existing script stored in the recovery catalog. If the script does not exist, then <code class="codeph">REPLACE</code> <code class="codeph">SCRIPT</code> creates it.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1560" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0">REPORT</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1560 d4023e1173 ">
                                 <p>Perform detailed analyses of the content of the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1570" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="RESET-DATABASE.html#GUID-C0C00F35-F21F-4657-AE9B-652C4DCE5817">RESET DATABASE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1570 d4023e1173 ">
                                 <p>Inform RMAN that the SQL statement <code class="codeph">ALTER DATABASE OPEN RESETLOGS</code> has been executed and that a new incarnation of the target database has been created, or reset the target database to a prior incarnation.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1583" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1583 d4023e1173 ">
                                 <p>Restore files from backup sets or from disk copies to the default or a new location.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1593" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="RESYNC-CATALOG.html#GUID-DF91BD12-A00D-49CC-99C5-E8EDD0094CCE">RESYNC CATALOG</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1593 d4023e1173 ">
                                 <p>Perform a full resynchronization, which creates a snapshot control file and then copies any new or changed information from that snapshot control file to the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1603" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="REVOKE.html#GUID-4F83C820-E3C2-46A2-B954-1EF589A4B9C8">REVOKE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1603 d4023e1173 ">
                                 <p>Revoke privileges from a recovery catalog user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1613" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7">RMAN</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1613 d4023e1173 ">
                                 <p>Start RMAN from the operating system command line.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1623" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1623 d4023e1173 ">
                                 <p>Execute a sequence of one or more RMAN commands, which are one or more statements executed within the braces of <code class="codeph">RUN</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1636" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SEND.html#GUID-4AD68AC8-1A0A-4FDC-90D5-BDA278393D97">SEND</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1636 d4023e1173 ">
                                 <p>Send a vendor-specific quoted string to one or more specific channels.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1646" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1646 d4023e1173 ">
                                 <p>Set the value of various attributes that affect RMAN behavior for the duration of a RUN block or a session.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1656" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SHOW.html#GUID-6C2AF43B-FADD-41AF-9408-852A69538E2F">SHOW</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1656 d4023e1173 ">
                                 <p>Display the current <code class="codeph">CONFIGURE</code> settings.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1670" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SHUTDOWN.html#GUID-AD7BC13C-E8B7-4CB2-BACB-D2F98DB0E58F">SHUTDOWN</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1670 d4023e1173 ">
                                 <p>Shut down the target database. This command is equivalent to the SQL*Plus <code class="codeph">SHUTDOWN</code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1683" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SPOOL.html#GUID-5B739051-429E-4C72-B96F-4A7E5A7C2A49">SPOOL</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1683 d4023e1173 ">
                                 <p>Write RMAN output to a log file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1693" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SQL.html#GUID-D55D7184-60DA-4B11-B483-8F14726AFE43">SQL</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1693 d4023e1173 ">
                                 <p>Execute a SQL statement or PL/SQL procedures from within Recovery Manager.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1703" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SQL-Quoted.html#GUID-D8D11F06-005D-40EE-B041-BC46C52E71AE">SQL (Quoted)</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1703 d4023e1173 ">
                                 <p>Execute a SQL statement from within Recovery Manager. See the SQL command for improved syntax.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1713" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="STARTUP.html#GUID-96DFEF80-A2D1-493C-8CFF-BF0CB4BE281D">STARTUP</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1713 d4023e1173 ">
                                 <p>Start the target database. This command is equivalent to the SQL*Plus <code class="codeph">STARTUP</code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1726" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1726 d4023e1173 ">
                                 <p>Specify that a data file copy is now the <strong class="term">current data file</strong>, that is, the data file pointed to by the control file. This command is equivalent to the SQL statement <code class="codeph">ALTER DATABASE RENAME FILE</code> as it applies to data files.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1742" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="TRANSPORT-TABLESPACE.html#GUID-3E1F9103-17E7-40F4-A42C-DED0FB14362D">TRANSPORT TABLESPACE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1742 d4023e1173 ">
                                 <p>Create transportable tablespace sets from backup for one or more tablespaces.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1752" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="UNREGISTER.html#GUID-CFC11D2B-0F77-4253-87E6-483C2C4452BB">UNREGISTER</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1752 d4023e1173 ">
                                 <p>Unregister a database from the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1762" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="UPGRADE-CATALOG.html#GUID-E6080FD7-5C15-4659-8D4E-C56E6D9004D1">UPGRADE CATALOG</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1762 d4023e1173 ">
                                 <p>Upgrade the recovery catalog schema from an older version to the version required by the RMAN executable.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d4023e1772" headers="d4023e1170 ">
                                 <p><code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E">VALIDATE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d4023e1772 d4023e1173 ">
                                 <p>Examine a backup set and report whether its data is intact. RMAN scans all of the backup pieces in the specified backup sets and looks at the checksums to verify that the contents can be successfully restored.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="RCMRF89977"></a><a id="RCMRF1959"></a><div class="props_rev_3"><a id="GUID-F3B3D81D-78C8-4534-8E63-1F0D6E974F40" name="GUID-F3B3D81D-78C8-4534-8E63-1F0D6E974F40"></a><h3 id="RCMRF-GUID-F3B3D81D-78C8-4534-8E63-1F0D6E974F40" class="sect3"><span class="enumeration_section">1.5 </span>Summary of RMAN Subclauses
               </h3>
               <div>
                  <p>RMAN subclauses are used in multiple commands.</p>
                  <div class="section">
                     <p>Subclauses are documented in a separate chapter to avoid unnecessary duplication. The descriptions of commands that use these subclauses include a cross-reference to the subclause entry in <a href="rman-subclauses.html#GUID-9CA7EDD1-A347-4801-8A20-2F1071D92AA4">RMAN Subclauses</a>. <a href="about-rman-commands.html#GUID-F3B3D81D-78C8-4534-8E63-1F0D6E974F40__CHDJAIIC" title="Briefly describes the subclauses that are used in multiple commands">Table 1-2</a> summarizes the RMAN subclauses.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-F3B3D81D-78C8-4534-8E63-1F0D6E974F40__CHDJAIIC">
                     <p class="titleintable">Table 1-2 <span class="bold">Recovery Manager Subclauses</span></p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Recovery Manager Subclauses" summary="Briefly describes the subclauses that are used in multiple commands" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d4023e1894">Subclause</th>
                              <th align="left" valign="bottom" width="67%" id="d4023e1897">Specifies . . .</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1902" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="allocOperandList.html#GUID-8B6C1DAB-F27A-4DA8-BECC-5DA04F5907DA">allocOperandList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1902 d4023e1897 ">
                                 <p>Channel control options such as <code class="codeph">PARMS</code> and <code class="codeph">FORMAT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1918" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1918 d4023e1897 ">
                                 <p>A range of archived redo log files </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1929" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="completedTimeSpec.html#GUID-BC83D915-FF57-467D-A606-5B699F2EF4DE">completedTimeSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1929 d4023e1897 ">
                                 <p>A time range during which the backup or copy completed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1940" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1940 d4023e1897 ">
                                 <p>The user name, password, and net service name for connecting to a target, recovery catalog, or auxiliary database. The connection is necessary to authenticate the user and identify the database</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1951" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1951 d4023e1897 ">
                                 <p>A data file by file name or absolute file number</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1962" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="dbObject.html#GUID-C5C5EC3A-1B4E-4591-8E70-715E4BDC9FF8">dbObject</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1962 d4023e1897 ">
                                 <p>A database or part of a database.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1973" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1973 d4023e1897 ">
                                 <p>The type of storage device for a backup or copy</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e1984" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="fileNameConversionSpec.html#GUID-486FE88C-2B48-40C7-B29A-8AC669F29FA3">fileNameConversionSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e1984 d4023e1897 ">
                                 <p>Patterns to transform source to target file names during <code class="codeph">BACKUP AS COPY</code>, <code class="codeph">CONVERT</code> and <code class="codeph">DUPLICATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2003" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2003 d4023e1897 ">
                                 <p>All databases in a Data Guard environment or a database with the specified <code class="codeph">DB_UNIQUE_NAME</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2016" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2016 d4023e1897 ">
                                 <p>Names of database objects to be recovered and the backup sets that contain these objects</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2027" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="foreignlogRecordSpecifier.html#GUID-122E19A7-5BCC-434C-BE2A-9D4F248EA02C">foreignlogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2027 d4023e1897 ">
                                 <p>A range of foreign archived redo log files</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2039" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2039 d4023e1897 ">
                                 <p>A file name format for a backup or copy</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2050" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="keepOption.html#GUID-36E9008E-48A5-4AB9-8C9D-2D477342594B">keepOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2050 d4023e1897 ">
                                 <p>A backup or copy is or is not exempt from the current retention policy</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2061" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="listObjList.html#GUID-73596ED4-99FE-45B8-B333-FECC698E1374">listObjList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2061 d4023e1897 ">
                                 <p>Items to be displayed by the <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2077" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="maintQualifier.html#GUID-6AF4DA92-BBBD-4931-96D2-766D9D29EA3F">maintQualifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2077 d4023e1897 ">
                                 <p>Additional options for maintenance commands such as <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code> and <code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2097" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="maintSpec.html#GUID-933AD976-5FCC-4684-80BB-264F6FC8A06B">maintSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2097 d4023e1897 ">
                                 <p>Files operated on by maintenance commands such as <code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code>, <code class="codeph"><a href="CROSSCHECK.html#GUID-07E07E7E-9A29-4901-9739-FFC472029A7D">CROSSCHECK</a></code>, and <code class="codeph"><a href="DELETE.html#GUID-FB4EAC69-4978-42F7-8B09-77C6736188B3">DELETE</a></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2122" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="obsOperandList.html#GUID-261A8B55-89DD-46DC-B7C4-6951E131FBAA">obsOperandList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2122 d4023e1897 ">
                                 <p>Backups that are obsolete according to specified criteria</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2133" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="recordSpec.html#GUID-92F09EC0-5E30-47C0-834E-5A24FAE98F14">recordSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2133 d4023e1897 ">
                                 <p>Objects that the maintenance commands operate on</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2144" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="sizeSpec.html#GUID-146EDBEE-BCED-4BD4-A720-8E51AA8DC577">sizeSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2144 d4023e1897 ">
                                 <p>Size of the data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2155" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="tempfileSpec.html#GUID-783EB37D-C3F1-4245-BDF1-E463F65A1AE4">tempfileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2155 d4023e1897 ">
                                 <p>A temp file by path or by file number</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d4023e2166" headers="d4023e1894 ">
                                 <p><span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d4023e2166 d4023e1897 ">
                                 <p>An upper limit by time, SCN, or log sequence number. This clause is usually used to specify the desired point in time for an incomplete recovery</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='05011.sample-programs.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Sample Programs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96467-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="embedded-SQL-statements-and-directives.html" title="Previous" type="text/html">
      <link rel="next" href="integration-with-Microsoft-Visual-Studio.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="embedded-SQL-statements-and-directives.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="integration-with-Microsoft-Visual-Studio.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name"> Appendixes </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Sample Programs</li>
            </ol>
            <a id="GUID-B3880B56-46A7-47C6-AC71-C8343656FAD5" name="GUID-B3880B56-46A7-47C6-AC71-C8343656FAD5"></a><a id="LNPCC5122"></a>
            
            <h2 id="LNPCC-GUID-B3880B56-46A7-47C6-AC71-C8343656FAD5" class="sect2"><span class="enumeration_chapter">F </span>Sample Programs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to build Oracle database applications with Pro*C/C++ using the sample programs that are included with this release. </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="sample-programs.html#GUID-A52BD4F7-857B-4086-B510-059754DE5806">Sample Program Descriptions</a></p>
                  </li>
                  <li>
                     <p><a href="sample-programs.html#GUID-9DDD96DB-3982-4913-9901-9B15EC6EDD94">Building the Demonstration Tables</a></p>
                  </li>
                  <li>
                     <p><a href="sample-programs.html#GUID-325C3348-A8D7-4429-BF48-A5C83C010C1E">About Building the Sample Programs</a></p>
                  </li>
               </ul>
            </div><a id="LNPCC5124"></a><a id="LNPCC5123"></a><div class="props_rev_3"><a id="GUID-A52BD4F7-857B-4086-B510-059754DE5806" name="GUID-A52BD4F7-857B-4086-B510-059754DE5806"></a><h3 id="LNPCC-GUID-A52BD4F7-857B-4086-B510-059754DE5806" class="sect3"><span class="enumeration_section">F.1 </span>Sample Program Descriptions
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d142934e189" class="indexterm-anchor"></a>When you install Pro*C/C++, Oracle Universal Installer copies a set of Pro*C/C++ sample programs to the <span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span><code class="codeph">\precomp\demo\proc</code> directory. These sample programs are listed in <a href="sample-programs.html#GUID-A52BD4F7-857B-4086-B510-059754DE5806__BABHJJEC" title="List of sample programs">Table F-1</a> and described in the subsequent section.
                     </p>
                     <p>When built, the sample programs that Oracle provides produce <code class="codeph">.exe</code> executables. 
                     </p>
                     <p>For some sample programs, as indicated in the Notes column of the table, you must run the SQL scripts in the sample directory before you precompile and run the sample program. The SQL scripts set up the correct tables and data so that the sample programs run correctly. These SQL scripts are located in the <span class="italic"><code class="codeph">ORACLE_BASE</code></span><code class="codeph">\</code><span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\precomp\demo\sql</code> directory.
                     </p>
                     <p>Oracle Corporation recommends that you build and run these sample programs to verify that Pro*C/C++ has been installed successfully and operates correctly. You can delete the programs after you use them.</p>
                     <p>You can build the sample program by using a batch file called <code class="codeph">pcmake.bat</code> or by using Microsoft Visual Studio. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-FAD4DD3F-6796-4071-A9BB-D7E0827258ED">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="sample-programs.html#GUID-325C3348-A8D7-4429-BF48-A5C83C010C1E">About Building the Sample Programs</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-A52BD4F7-857B-4086-B510-059754DE5806__BABHJJEC">
                     <p class="titleintable">Table F-1 Sample Programs</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Sample Programs" summary="List of sample programs" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d142934e249">Sample Program</th>
                              <th align="left" valign="bottom" width="20%" id="d142934e252">Source Files</th>
                              <th align="left" valign="bottom" width="20%" id="d142934e255">Pro*C/C++ GUI Project File</th>
                              <th align="left" valign="bottom" width="20%" id="d142934e258">MSVC Compiler Project File</th>
                              <th align="left" valign="bottom" width="20%" id="d142934e263">Notes</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e268" headers="d142934e249 ">
                                 <p><code class="codeph">ANSIDYN1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e268 d142934e252 ">
                                 <p><code class="codeph">ansidyn1.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e268 d142934e255 ">
                                 <p><code class="codeph">ansidyn1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e268 d142934e258 ">
                                 <p><code class="codeph">ansidyn1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e268 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e288" headers="d142934e249 ">
                                 <p><code class="codeph">ANSIDYN2</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e288 d142934e252 ">
                                 <p><code class="codeph">ansidyn2.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e288 d142934e255 ">
                                 <p><code class="codeph">ansidyn2.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e288 d142934e258 ">
                                 <p><code class="codeph">ansidyn2.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e288 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e308" headers="d142934e249 ">
                                 <p><code class="codeph">COLDEMO1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e308 d142934e252 ">
                                 <p><code class="codeph">coldemo1.h  coldemo1.pc  coldemo1.sql  coldemo1.typ</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e308 d142934e255 ">
                                 <p><code class="codeph">coldemo1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e308 d142934e258 ">
                                 <p><code class="codeph">coldemo1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e308 d142934e263 ">
                                 <p>Run <code class="codeph">coldemo1.sql</code> and the Object Type Translator before building <code class="codeph">coldemo1</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e340" headers="d142934e249 ">
                                 <p><code class="codeph">CPDEMO1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e340 d142934e252 ">
                                 <p><code class="codeph">cpdemo1.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e340 d142934e255 ">
                                 <p><code class="codeph">cpdemo1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e340 d142934e258 ">
                                 <p><code class="codeph">cpdemo1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e340 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e360" headers="d142934e249 ">
                                 <p><code class="codeph">CPDEMO2</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e360 d142934e252 ">
                                 <p><code class="codeph">cpdemo2.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e360 d142934e255 ">
                                 <p><code class="codeph">cpdemo2.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e360 d142934e258 ">
                                 <p><code class="codeph">cpdemo2.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e360 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e380" headers="d142934e249 ">
                                 <p><code class="codeph">CPPDEMO1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e380 d142934e252 ">
                                 <p><code class="codeph">cppdemo1.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e380 d142934e255 ">
                                 <p><code class="codeph">cppdemo1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e380 d142934e258 ">
                                 <p><code class="codeph">cppdemo1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e380 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e400" headers="d142934e249 ">
                                 <p><code class="codeph">CPPDEMO2</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e400 d142934e252 ">
                                 <p><code class="codeph">cppdemo2.pc  empclass.pc  cppdemo2.sql  empclass.h</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e400 d142934e255 ">
                                 <p><code class="codeph">cppdemo2.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e400 d142934e258 ">
                                 <p><code class="codeph">cppdemo2.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e400 d142934e263 ">
                                 <p>Run <code class="codeph">cppdemo2.sql</code> before building <code class="codeph">cppdemo2</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e432" headers="d142934e249 ">
                                 <p><code class="codeph">CPPDEMO3</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e432 d142934e252 ">
                                 <p><code class="codeph">cppdemo3.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e432 d142934e255 ">
                                 <p><code class="codeph">cppdemo3.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e432 d142934e258 ">
                                 <p><code class="codeph">cppdemo3.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e432 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e452" headers="d142934e249 ">
                                 <p><code class="codeph">CVDEMO</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e452 d142934e252 ">
                                 <p><code class="codeph">cv_demo.pc cv_demo.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e452 d142934e255 ">
                                 <p><code class="codeph">cv_demo.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e452 d142934e258 ">
                                 <p><code class="codeph">cv_demo.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e452 d142934e263 ">
                                 <p>Run <code class="codeph">cv_demo.sql</code> before building <code class="codeph">cv_demo</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e480" headers="d142934e249 ">
                                 <p><code class="codeph">EMPCLASS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e480 d142934e252 ">
                                 <p><code class="codeph">cppdemo2.pc  empclass.pc  cppdemo2.sql  empclass.h</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e480 d142934e255 ">
                                 <p><code class="codeph">empclass.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e480 d142934e258 ">
                                 <p><code class="codeph">empclass.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e480 d142934e263 ">
                                 <p>Run <code class="codeph">cppdemo2.sql</code> before building <code class="codeph">empclass</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e512" headers="d142934e249 ">
                                 <p><code class="codeph">LOBDEMO1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e512 d142934e252 ">
                                 <p><code class="codeph">lobdemo1.h  lobdemo1.pc  lobdemo1.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e512 d142934e255 ">
                                 <p><code class="codeph">lobdemo1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e512 d142934e258 ">
                                 <p><code class="codeph">lobdemo1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e512 d142934e263 ">
                                 <p>Run <code class="codeph">lobdemo1.sql</code> before building <code class="codeph">lobdemo1</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e543" headers="d142934e249 ">
                                 <p><code class="codeph">MLTTHRD1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e543 d142934e252 ">
                                 <p><code class="codeph">mltthrd1.pc  mltthrd1.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e543 d142934e255 ">
                                 <p><code class="codeph">mltthrd1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e543 d142934e258 ">
                                 <p><code class="codeph">mltthrd1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e543 d142934e263 ">
                                 <p>Run <code class="codeph">mltthrd1.sql</code> before building <code class="codeph">mltthrd1</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e571" headers="d142934e249 ">
                                 <p><code class="codeph">NAVDEMO1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e571 d142934e252 ">
                                 <p><code class="codeph">navdemo1.h  navdemo1.pc  navdemo1.sql  navdemo1.typ</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e571 d142934e255 ">
                                 <p><code class="codeph">navdemo1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e571 d142934e258 ">
                                 <p><code class="codeph">navdemo1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e571 d142934e263 ">
                                 <p>Run <code class="codeph">navdemo1.sql</code> and the Object Type Translator before building <code class="codeph">navdemo1</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e603" headers="d142934e249 ">
                                 <p><code class="codeph">OBJDEMO1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e603 d142934e252 ">
                                 <p><code class="codeph">objdemo1.h  objdemo1.pc  objdemo1.sql  objdemo1.typ</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e603 d142934e255 ">
                                 <p><code class="codeph">objdemo1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e603 d142934e258 ">
                                 <p><code class="codeph">objdemo1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e603 d142934e263 ">
                                 <p>Run <code class="codeph">objdemo1.sql</code> and the Object Type Translator before building <code class="codeph">objdemo1</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e635" headers="d142934e249 ">
                                 <p><code class="codeph">ORACA</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e635 d142934e252 ">
                                 <p><code class="codeph">oraca.pc  oracatst.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e635 d142934e255 ">
                                 <p><code class="codeph">oraca.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e635 d142934e258 ">
                                 <p><code class="codeph">oraca.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e635 d142934e263 ">
                                 <p>Run <code class="codeph">oracatst.sql</code> before building <code class="codeph">oraca</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e663" headers="d142934e249 ">
                                 <p><code class="codeph">PLSSAM</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e663 d142934e252 ">
                                 <p><code class="codeph">plssam.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e663 d142934e255 ">
                                 <p><code class="codeph">plssam.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e663 d142934e258 ">
                                 <p><code class="codeph">plssam.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e663 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e683" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e683 d142934e252 ">
                                 <p><code class="codeph">sample.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e683 d142934e255 ">
                                 <p><code class="codeph">sample.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e683 d142934e258 ">
                                 <p><code class="codeph">sample.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e683 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e703" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e703 d142934e252 ">
                                 <p><code class="codeph">sample1.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e703 d142934e255 ">
                                 <p><code class="codeph">sample1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e703 d142934e258 ">
                                 <p><code class="codeph">sample1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e703 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e723" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE2</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e723 d142934e252 ">
                                 <p><code class="codeph">sample2.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e723 d142934e255 ">
                                 <p><code class="codeph">sample2.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e723 d142934e258 ">
                                 <p><code class="codeph">sample2.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e723 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e743" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE3</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e743 d142934e252 ">
                                 <p><code class="codeph">sample3.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e743 d142934e255 ">
                                 <p><code class="codeph">sample3.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e743 d142934e258 ">
                                 <p><code class="codeph">sample3.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e743 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e763" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE4</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e763 d142934e252 ">
                                 <p><code class="codeph">sample4.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e763 d142934e255 ">
                                 <p><code class="codeph">sample4.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e763 d142934e258 ">
                                 <p><code class="codeph">sample4.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e763 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e783" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE5</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e783 d142934e252 ">
                                 <p><code class="codeph">sample5.pc  exampbld.sql  examplod.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e783 d142934e255 ">
                                 <p><code class="codeph">sample5.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e783 d142934e258 ">
                                 <p><code class="codeph">sample5.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e783 d142934e263 ">
                                 <p>Run <code class="codeph">exampbld.sql</code>, then run <code class="codeph">examplod.sql</code>, before building <code class="codeph">sample5</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e817" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE6</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e817 d142934e252 ">
                                 <p><code class="codeph">sample6.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e817 d142934e255 ">
                                 <p><code class="codeph">sample6.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e817 d142934e258 ">
                                 <p><code class="codeph">sample6.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e817 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e837" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE7</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e837 d142934e252 ">
                                 <p><code class="codeph">sample7.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e837 d142934e255 ">
                                 <p><code class="codeph">sample7.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e837 d142934e258 ">
                                 <p><code class="codeph">sample7.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e837 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e857" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE8</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e857 d142934e252 ">
                                 <p><code class="codeph">sample8.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e857 d142934e255 ">
                                 <p><code class="codeph">sample8.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e857 d142934e258 ">
                                 <p><code class="codeph">sample8.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e857 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e877" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE9</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e877 d142934e252 ">
                                 <p><code class="codeph">sample9.pc  calldemo.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e877 d142934e255 ">
                                 <p><code class="codeph">sample9.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e877 d142934e258 ">
                                 <p><code class="codeph">sample9.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e877 d142934e263 ">
                                 <p>Run <code class="codeph">calldemo.sql</code> before building <code class="codeph">sample9</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e905" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE10</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e905 d142934e252 ">
                                 <p><code class="codeph">sample10.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e905 d142934e255 ">
                                 <p><code class="codeph">sample10.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e905 d142934e258 ">
                                 <p><code class="codeph">sample10.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e905 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e925" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE11</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e925 d142934e252 ">
                                 <p><code class="codeph">sample11.pc  sample11.sql</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e925 d142934e255 ">
                                 <p><code class="codeph">sample11.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e925 d142934e258 ">
                                 <p><code class="codeph">sample11.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e925 d142934e263 ">
                                 <p>Run <code class="codeph">sample11.sql</code> before building <code class="codeph">sample11</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e953" headers="d142934e249 ">
                                 <p><code class="codeph">SAMPLE12</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e953 d142934e252 ">
                                 <p><code class="codeph">sample12.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e953 d142934e255 ">
                                 <p><code class="codeph">sample12.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e953 d142934e258 ">
                                 <p><code class="codeph">sample12.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e953 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e973" headers="d142934e249 ">
                                 <p><code class="codeph">SCDEMO1</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e973 d142934e252 ">
                                 <p><code class="codeph">scdemo1.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e973 d142934e255 ">
                                 <p><code class="codeph">scdemo1.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e973 d142934e258 ">
                                 <p><code class="codeph">scdemo1.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e973 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e993" headers="d142934e249 ">
                                 <p><code class="codeph">SCDEMO2</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e993 d142934e252 ">
                                 <p><code class="codeph">scdemo2.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e993 d142934e255 ">
                                 <p><code class="codeph">scdemo2.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e993 d142934e258 ">
                                 <p><code class="codeph">scdemo2.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e993 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e1013" headers="d142934e249 ">
                                 <p><code class="codeph">SQLVCP</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1013 d142934e252 ">
                                 <p><code class="codeph">sqlvcp.pc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1013 d142934e255 ">
                                 <p><code class="codeph">sqlvcp.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1013 d142934e258 ">
                                 <p><code class="codeph">sqlvcp.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1013 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d142934e1033" headers="d142934e249 ">
                                 <p><code class="codeph">WINSAM</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1033 d142934e252 ">
                                 <p><code class="codeph">resource.h  winsam.h  winsam.ico  winsam.pc  winsam.rc</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1033 d142934e255 ">
                                 <p><code class="codeph">winsam.pre</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1033 d142934e258 ">
                                 <p><code class="codeph">winsam.dsp</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d142934e1033 d142934e263 ">
                                 <p>-</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a id="d142934e1062" class="indexterm-anchor"></a>The following subsections describe the functionality of the sample programs.
                     </p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-B297D84C-5534-4DAC-B2D5-F70B672ABC39">
                              <!-- --></a>ANSIDYN1
                        </dt>
                        <dd>
                           <p>Demonstrates using ANSI dynamic SQL to process SQL statements that are not known until runtime. This program is intended to demonstrate the simplest (though not the most efficient) approach to using ANSI dynamic SQL.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-08DC2C42-5B4C-4B98-808D-83F816714387">
                              <!-- --></a>ANSIDYN2
                        </dt>
                        <dd>
                           <p>Demonstrates using ANSI dynamic SQL to process SQL statements that are not known until runtime. This program uses the Oracle extensions for batch processing and reference semantics.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-A142E726-4DB9-44F3-9364-F350C92FE84B">
                              <!-- --></a>COLDEMO1
                        </dt>
                        <dd>
                           <p>Fetches census information for California counties. This program demonstrates various ways to navigate through collection-typed database columns.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-D6449CAC-C842-468A-BECF-A6841501054A">
                              <!-- --></a>CPDEMO1
                        </dt>
                        <dd>
                           <p>Demonstrates how the connection pool feature can be used. It also shows how different connection pool options can be used to optimize performance.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-6543D877-9BF7-46F8-A186-4924559A0608">
                              <!-- --></a>CPDEMO2
                        </dt>
                        <dd>
                           <p>Demonstrates connection pool feature with relatively complex set of SQL statements and shows how performance gain depends on the kind of SQL statements used by the program.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-DCC9AB7D-E2F4-4671-B74A-EAEEAD7D6B97">
                              <!-- --></a>CPPDEMO1
                        </dt>
                        <dd>
                           <p>Prompts the user for an employee number, then queries the <code class="codeph">emp</code> table for the employee's name, salary, and commission. This program uses indicator variables (in an indicator struct) to determine whether the commission is <code class="codeph">NULL</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-8340F853-48EE-4C3A-A3DC-CC1F6F810B62">
                              <!-- --></a>CPPDEMO2
                        </dt>
                        <dd>
                           <p>Retrieves the names of all employees in a given department from the <code class="codeph">emp</code> table <a id="d142934e1119" class="indexterm-anchor"></a>(dynamic SQL Method 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-7AA4FD37-59EB-4E2D-829B-30BBE74D9434">
                              <!-- --></a>CPPDEMO3
                        </dt>
                        <dd>
                           <p>Finds all salespeople and prints their names and total earnings (including commissions). This program is an example of C++ inheritance.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-CCF28449-60F6-4DD3-9ABF-39F6C7566B31">
                              <!-- --></a>CVDEMO
                        </dt>
                        <dd>
                           <p>Declares and opens a ref cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-72D0B666-20F2-4810-BF17-2BBBAEFEB504">
                              <!-- --></a>EMPCLASS
                        </dt>
                        <dd>
                           <p>The <code class="codeph">EMPCLASS</code> and <code class="codeph">CPPDEMO2</code> files were written to provide an example of how to write Pro*C/C++ programs within a C++ framework. <code class="codeph">EMPCLASS</code> encapsulates a specific query on the <code class="codeph">emp</code> table and is implemented using a cursor variable. <code class="codeph">EMPCLASS</code> instantiates an instance of that query and provides cursor variable functionality (that is: <code class="codeph">open</code>, <code class="codeph">fetch</code>, <code class="codeph">close</code>) through C++ member functions that belong to the <code class="codeph">emp</code> class. The <code class="codeph">empclass.pc</code> file is <span class="italic">not</span> a standalone demo program. It was written to be used by the <code class="codeph">cppdemo2</code> demo program. To use the <code class="codeph">emp</code> class, you have to write a driver (<code class="codeph">cppdemo2.pc</code>) which declares an instance of the <code class="codeph">emp</code> class and issues calls to the member functions of that class.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-C530EAE6-53B3-4AAB-AD03-7A0896825D52">
                              <!-- --></a>LOBDEMO1
                        </dt>
                        <dd>
                           <p>Fetches and adds crime records to the database based on the person's Social Security Number. This program demonstrates the mechanisms for accessing and storing <a id="d142934e1195" class="indexterm-anchor"></a><a id="d142934e1197" class="indexterm-anchor"></a>large objects (LOBs) to tables and manipulating LOBs through the stored procedures available through the <code class="codeph">DBMS_LOB</code> package.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-068BE4F3-68BD-44FC-B706-6E9D23271107">
                              <!-- --></a>MLTTHRD1
                        </dt>
                        <dd>
                           <p>Shows how to use threading in conjunction with precompilers. The program creates as many sessions as there are threads. </p>
                           <div class="infoboxnotealso" id="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-233459F2-16EA-45E3-807E-7A3C91550CCD">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="multithreaded-applications.html#GUID-76B52DE9-54B7-4F3C-9905-AADE6420BE84"> Multithreaded Applications</a>"</span></p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-D1424FD7-7DBC-410D-BE01-245E4AE72106">
                              <!-- --></a>NAVDEMO1
                        </dt>
                        <dd>
                           <p>Demonstrates navigational access to objects in the object cache.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-F2390DE9-8563-458F-A7C2-C0F1D7E6C23A">
                              <!-- --></a>OBJDEMO1
                        </dt>
                        <dd>
                           <p>Demonstrates the use of <a id="d142934e1228" class="indexterm-anchor"></a>objects. This program manipulates the object types <span class="italic">person </span>and <span class="italic">address</span>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-BAED7ACC-D231-4176-8623-90B669D07DD2">
                              <!-- --></a>ORACA
                        </dt>
                        <dd>
                           <p>Demonstrates how to use ORACA to determine various performance parameters at runtime.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-1C509DD3-33E8-4284-9F9C-164B2C969A5F">
                              <!-- --></a>PLSSAM
                        </dt>
                        <dd>
                           <p>Demonstrates the use of <a id="d142934e1251" class="indexterm-anchor"></a>embedded PL/SQL blocks. This program prompts you for an employee name that already resides in a database. It then executes a PL/SQL block, which returns the results of four <code class="codeph">SELECT</code> statements.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-55ED0827-204A-4899-B3D1-D1B68CD521BA">
                              <!-- --></a>SAMPLE
                        </dt>
                        <dd>
                           <p>Adds new employee records to the personnel database and checks database integrity. The employee numbers in the database are automatically selected using the current maximum employee number +10.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-5DF238D5-0C3A-4473-BB79-9A6B05F085B8">
                              <!-- --></a>SAMPLE1
                        </dt>
                        <dd>
                           <p>Logs on to an Oracle database, prompts the user for an employee number, queries the database for the employee's name, salary, and commission, and displays the result. The program continues until the user enters 0 as the employee number.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-B9A2D4B8-46F0-40E1-97C0-A9117726DF7A">
                              <!-- --></a>SAMPLE2
                        </dt>
                        <dd>
                           <p>Logs on to an Oracle database, declares and opens a cursor, fetches the names, salaries, and commissions of all salespeople, displays the results, and closes the cursor.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-EF7D4085-0847-41C0-9153-35714986261F">
                              <!-- --></a>SAMPLE3
                        </dt>
                        <dd>
                           <p>Logs on to an Oracle database, declares and opens a cursor, fetches in batches using arrays, and prints the results using the <code class="codeph">print_rows()</code> function.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-0DCB2A9E-9264-4E5E-9ED0-E35037479608">
                              <!-- --></a>SAMPLE4
                        </dt>
                        <dd>
                           <p>Demonstrates the use of type equivalencies using the <code class="codeph">LONG VARRAW</code> external datatype.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-9194E839-FCEF-4DE9-8587-9597737D8F4F">
                              <!-- --></a>SAMPLE5
                        </dt>
                        <dd>
                           <p>Prompts the user for an account number and a debit amount. The program verifies that the account number is valid and that there are sufficient funds to cover the withdrawal before it debits the account. This program shows the use of embedded SQL.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-B1AEF44A-BFE7-4BF3-8A2D-A1590482DFC1">
                              <!-- --></a>SAMPLE6
                        </dt>
                        <dd>
                           <p>Creates a table, inserts a row, commits insert, and drops the table <a id="d142934e1306" class="indexterm-anchor"></a>(dynamic SQL Method 1).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-D136CFA0-C0F4-41C5-82B3-8D46B3424E37">
                              <!-- --></a>SAMPLE7
                        </dt>
                        <dd>
                           <p>Inserts two rows into the <code class="codeph">emp</code> table and deletes them <a id="d142934e1320" class="indexterm-anchor"></a>(dynamic SQL Method 2).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-BA161A76-2253-4E7B-8D80-627DB46BA7CF">
                              <!-- --></a>SAMPLE8
                        </dt>
                        <dd>
                           <p>Retrieves the names of all employees in a given department from the <code class="codeph">emp</code> table <a id="d142934e1334" class="indexterm-anchor"></a>(dynamic SQL Method 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-78D66A7B-8C6C-4640-A870-9C5E0A051EDB">
                              <!-- --></a>SAMPLE9
                        </dt>
                        <dd>
                           <p>Connects to an Oracle database using the <code class="codeph">scott/tiger</code> account. The program declares several host arrays and calls a PL/SQL stored procedure (<code class="codeph">GET_EMPLOYEES</code> in the <code class="codeph">CALLDEMO</code> package). The PL/SQL procedure returns up to <code class="codeph">ASIZE</code> values. The program keeps calling <code class="codeph">GET_EMPLOYEES</code>, getting <code class="codeph">ASIZE</code> arrays each time, and printing the values, until all rows have been retrieved.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-8B83FE61-ED75-49CB-8D09-9912FA096100">
                              <!-- --></a>SAMPLE10
                        </dt>
                        <dd>
                           <p>Connects to an Oracle database using your username and password and prompts for a SQL statement. You can enter any legal SQL statement, but you must use regular SQL syntax, not embedded SQL. Your statement is processed. If the statement is a query, the rows fetched are displayed <a id="d142934e1370" class="indexterm-anchor"></a>(dynamic SQL Method 4).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-464CAC60-CA1B-483E-B8F9-FA8AC3CA8BEB">
                              <!-- --></a>SAMPLE11
                        </dt>
                        <dd>
                           <p>Fetches from the <code class="codeph">emp</code> table, using a cursor variable. The cursor is opened in the stored PL/SQL procedure <code class="codeph">open_cur</code>, in the <code class="codeph">EMP_DEMO_PKG</code> package.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-484F0FCB-E9B0-4560-8F6F-1F08053DD345">
                              <!-- --></a>SAMPLE12
                        </dt>
                        <dd>
                           <p>Demonstrates how to do array fetches using dynamic SQL Method 4.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-49963571-5FD0-4490-8389-8A8FE0504136">
                              <!-- --></a>SCDEMO1
                        </dt>
                        <dd>
                           <p>Demonstrates how the scrollable cursor can be used with Oracle dynamic SQL Method 4. Scrollable cursor can also be used with ANSI dynamic SQL Method 4.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-715E2D86-84F6-4743-AE8F-18C32C4EF9F4">
                              <!-- --></a>SCDEMO2
                        </dt>
                        <dd>
                           <p>Demonstrates the use of scrollable cursor with host arrays.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-87104FD2-1902-4875-B1BB-C68411E92171">
                              <!-- --></a>SQLVCP
                        </dt>
                        <dd>
                           <p>Demonstrates how you can use the <a id="d142934e1414" class="indexterm-anchor"></a><code class="codeph">sqlvcp()</code> function to determine the actual size of a <code class="codeph">VARCHAR</code> struct. The size is then used as an offset to increment a pointer that steps through an array of <code class="codeph">VARCHARs</code>.
                           </p>
                           <p>This program also demonstrates how to use the <a id="d142934e1427" class="indexterm-anchor"></a><code class="codeph">SQLStmtGetText()</code> function to retrieve the text of the last SQL statement that was executed.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A52BD4F7-857B-4086-B510-059754DE5806__GUID-3AB08C18-2227-4267-BEB9-1A1BAFCF41CE">
                              <!-- --></a>WINSAM
                        </dt>
                        <dd>
                           <p>Adds new employee records to the personnel database and checks database integrity. You can enter as many employee names as you want and perform the SQL commands by selecting the appropriate buttons in the <span class="italic">Employee Record</span> dialog box. This is a GUI version of the sample program.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNPCC5125"></a><div class="props_rev_3"><a id="GUID-9DDD96DB-3982-4913-9901-9B15EC6EDD94" name="GUID-9DDD96DB-3982-4913-9901-9B15EC6EDD94"></a><h3 id="LNPCC-GUID-9DDD96DB-3982-4913-9901-9B15EC6EDD94" class="sect3"><span class="enumeration_section">F.2 </span>Building the Demonstration Tables
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d142934e1465" class="indexterm-anchor"></a>To run the sample programs, you must have a database account with the username <code class="codeph">scott</code> and the password <code class="codeph">tiger</code>. Also, you must have a database with the sample tables <code class="codeph">emp</code> and <code class="codeph">dept.</code> This account is included in the starter database for your Oracle Database 10<span class="italic">g</span> server. If the account does not exist on your database, create the account before running the sample programs. If your database does not contain <code class="codeph">emp</code> and <code class="codeph">dept</code> tables, you can use the <code class="codeph">demobld.sql</code> script to create them.
                     </p>
                     <p>To build the sample tables:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Start SQL*Plus</span></li>
                     <li class="stepexpand"><span>Connect as username <code class="codeph">scott</code> with the password <code class="codeph">tiger</code>.</span></li>
                     <li class="stepexpand"><span>Run the <code class="codeph">demobld.sql</code> script:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @<span class="italic">ORACLE_BASE</span>\<span class="italic">ORACLE_HOME</span>\sqlplus\demo\demobld.sql;</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/lnpcc&amp;id=NTQRF" target="_blank"><span><cite>Oracle Database Administrator’s Reference for Microsoft Windows</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCC5126"></a><div class="props_rev_3"><a id="GUID-325C3348-A8D7-4429-BF48-A5C83C010C1E" name="GUID-325C3348-A8D7-4429-BF48-A5C83C010C1E"></a><h3 id="LNPCC-GUID-325C3348-A8D7-4429-BF48-A5C83C010C1E" class="sect3"><span class="enumeration_section">F.3 </span>About Building the Sample Programs
               </h3>
               <div>
                  <p>You can build the sample programs in two ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Using the <code class="codeph">pcmake.bat</code> file provided
                        </p>
                     </li>
                     <li>
                        <p>Using Microsoft Visual Studio </p>
                     </li>
                  </ul>
               </div><a id="LNPCC5127"></a><div class="props_rev_3"><a id="GUID-D58997A7-8C86-47A5-9CFD-0F5632F1D6D7" name="GUID-D58997A7-8C86-47A5-9CFD-0F5632F1D6D7"></a><h4 id="LNPCC-GUID-D58997A7-8C86-47A5-9CFD-0F5632F1D6D7" class="sect4"><span class="enumeration_section">F.3.1 </span>Using pcmake.bat 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">pcmake.bat</code> file for compiling Pro*C/C++ demos is found in the following location:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_BASE\ORACLE_HOME</span>\precomp\demo\proc</pre><pre class="oac_no_warn" dir="ltr"></pre><p>This batch file is designed to illustrate how Pro*C/C++ applications can be built at the command prompt. </p>
                        <p>In order to use this batch file, Microsoft Visual Studio must be installed. The environment variable <code class="codeph">MSVCDir</code> must be set. Pro*C/C++ command line options and linker options vary depending on your application. 
                        </p>
                        <p>You can use this file to build a demo, to build <code class="codeph">sample1</code> for example:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Navigate to the location of the demo file and enter the following at the command prompt:</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; CD <span class="italic">ORACLE_BASE\ORACLE_HOME</span>\precomp\demo\proc\sample1</pre><pre class="oac_no_warn" dir="ltr"></pre></div>
                        </li>
                        <li class="stepexpand"><span>Enter the following: </span><div><pre class="oac_no_warn" dir="ltr">% pcmake sample1</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="LNPCC5128"></a><div class="props_rev_3"><a id="GUID-4B0335E6-5091-4480-9B0A-DCEE8F4318CE" name="GUID-4B0335E6-5091-4480-9B0A-DCEE8F4318CE"></a><h3 id="LNPCC-GUID-4B0335E6-5091-4480-9B0A-DCEE8F4318CE" class="sect3"><span class="enumeration_section">F.4 </span>Using Microsoft Visual Studio
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d142934e1659" class="indexterm-anchor"></a><a id="d142934e1661" class="indexterm-anchor"></a>Microsoft Visual Studio project files have an extension of<code class="codeph">.dsp</code>. The<code class="codeph">.dsp</code> files in the <span class="italic"><code class="codeph">ORACLE_BASE\ORACLE_HOME</code></span><code class="codeph">\precomp\demo\proc</code> directory guide and control the steps necessary to precompile, compile, and link the sample programs.
                     </p>
                     <p>Pro*C/C++, SQL*Plus, and the <a id="d142934e1678" class="indexterm-anchor"></a><a id="d142934e1680" class="indexterm-anchor"></a>Object Type Translator have been integrated into the Microsoft Visual Studio sample project files. You do not have to run Pro*C/C++, SQL*Plus, and the Object Type Translator separately before compilation. 
                     </p>
                     <p>To build a sample program:</p>
                     <ol>
                        <li>
                           <p>Open a Microsoft Visual Studio project file, such as <code class="codeph">sample1.dsp</code>.
                           </p>
                        </li>
                        <li>
                           <p><a id="d142934e1694" class="indexterm-anchor"></a><a id="d142934e1698" class="indexterm-anchor"></a>Check the paths in the project file to ensure that they correspond to the configuration of your system. If they do not, change the paths accordingly. Your system may produce error messages if the paths to all components are not correct. 
                           </p>
                           <div class="infoboxnote" id="GUID-4B0335E6-5091-4480-9B0A-DCEE8F4318CE__GUID-EBC9A365-781E-4124-BAD4-79678B6F373A">
                              <p class="notep1">Note:</p>
                              <p>All of the sample programs were created with <code class="codeph">C:\oracle\ora92</code> as the default drive.<a id="d142934e1709" class="indexterm-anchor"></a></p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>Select <span class="bold">Build &gt; Rebuild All</span>. Microsoft Visual Studio creates the executable.</span></li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="sample-programs.html#GUID-9BA634D8-32A9-45D2-8F01-753ABCAD5600">Setting the Path for the Sample .pre Files</a></li>
                        <li><a href="the-Object-type.html#GUID-502C3781-C88E-46B8-9EB2-9A93E0B4E7AE">The Object Type Translator</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCC5129"></a><div class="props_rev_3"><a id="GUID-9BA634D8-32A9-45D2-8F01-753ABCAD5600" name="GUID-9BA634D8-32A9-45D2-8F01-753ABCAD5600"></a><h3 id="LNPCC-GUID-9BA634D8-32A9-45D2-8F01-753ABCAD5600" class="sect3"><span class="enumeration_section">F.5 </span>Setting the Path for the Sample .pre Files
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d142934e1753" class="indexterm-anchor"></a><a id="d142934e1757" class="indexterm-anchor"></a><a id="d142934e1761" class="indexterm-anchor"></a>By default the sample <code class="codeph">.pre</code> files search for their corresponding <code class="codeph">.pc</code> files in the <code class="codeph">C:\oracle\ora92</code> directory where <code class="codeph">C:\</code> is the drive that you are using, and <code class="codeph">oracle\ora92</code> represents the location of the Oracle home. If the Oracle base and Oracle home directories are different on your computer, you must change the directory path to the correct path. 
                     </p>
                     <p>To change the directory path for a sample .pre file: </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>In Pro*C/C++, open the <code class="codeph">.pre</code> file. </span></li>
                     <li><span>Double-click the filename in the Input File area to display the Input File dialog box. </span></li>
                     <li><span>Change the directory path to the correct path. </span></li>
                     <li><span>Click <span class="bold">Open</span>. </span></li>
                  </ol>
                  <div class="section">
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04093.Oracle-collections.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Working with Oracle Collections</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="Oracle-object-references.html" title="Previous" type="text/html">
      <link rel="next" href="resultset.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Oracle-object-references.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="resultset.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-access-and-manipulation.html" property="item" typeof="WebPage"><span property="name"> Data Access and Manipulation</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Working with Oracle Collections </li>
            </ol>
            <a id="GUID-338038DB-AE3A-4C82-BB8F-8C87F2D130C4" name="GUID-338038DB-AE3A-4C82-BB8F-8C87F2D130C4"></a><a id="JJDBC28574"></a>
            
            <h2 id="JJDBC-GUID-338038DB-AE3A-4C82-BB8F-8C87F2D130C4" class="sect2"><span class="enumeration_chapter">16 </span> Working with Oracle Collections 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d57778e21" class="indexterm-anchor"></a><a id="d57778e25" class="indexterm-anchor"></a>This chapter describes Oracle extensions to standard Java Database Connectivity (JDBC) that let you access and manipulate Oracle collections, which map to Java arrays, and their data. The following topics are discussed:
               </p>
               <div class="infoboxnote" id="GUID-338038DB-AE3A-4C82-BB8F-8C87F2D130C4__GUID-27A720D7-E1ED-4394-882E-F160C869C3FA">
                  <p class="notep1">Note:</p>
                  <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">oracle.sql.ARRAY</code> class is deprecated and replaced with the <code class="codeph">oracle.jdbc.OracleArray</code> interface, which is a part of the <code class="codeph">oracle.jdbc</code> package. Oracle recommends you to use the methods available in the <code class="codeph">java.sql</code> package, where possible, for standard compatibility and methods available in the <code class="codeph">oracle.jdbc</code> package for Oracle specific extensions. Refer to MoS Note 1364193.1 for more information about the <code class="codeph">oracle.jdbc.OracleArray</code> interface.
                  </p>
               </div>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="Oracle-collections.html#GUID-76466A35-B189-4A20-B068-578BD0939CD1">Oracle Extensions for Collections</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-collections.html#GUID-E57699B6-491C-4430-90EB-8FF1912440DA">Overview of Collection Functionality</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-collections.html#GUID-00517CE4-DC23-4D01-B878-9C50E19B3B0F">ARRAY Performance Extension Methods</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-collections.html#GUID-BC05FE69-643F-44AF-8D86-2E181F7E6628">Creating and Using Arrays</a></p>
                  </li>
                  <li>
                     <p><a href="Oracle-collections.html#GUID-22D90043-E417-4BC3-A838-0DBA954AF2AA">Using a Type Map to Map Array Elements</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28575"></a><div class="props_rev_3"><a id="GUID-76466A35-B189-4A20-B068-578BD0939CD1" name="GUID-76466A35-B189-4A20-B068-578BD0939CD1"></a><h3 id="JJDBC-GUID-76466A35-B189-4A20-B068-578BD0939CD1" class="sect3"><span class="enumeration_section">16.1 </span>Oracle Extensions for Collections
               </h3>
               <div>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="Oracle-collections.html#GUID-1EDB1964-71FF-4AB1-BD7D-86F15D609D4D">Overview of Oracle Collections</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-collections.html#GUID-5015B2F4-54A8-4B55-A02F-E10D66887003">Choices in Materializing Collections</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-collections.html#GUID-13E05667-1EFB-464F-B91F-32E99543DD3F">Creating Collections</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-collections.html#GUID-D2501ACA-FF2D-4973-B700-7A1024404948">Creating Multilevel Collection Types</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-1EDB1964-71FF-4AB1-BD7D-86F15D609D4D" name="GUID-1EDB1964-71FF-4AB1-BD7D-86F15D609D4D"></a><h4 id="JJDBC-GUID-1EDB1964-71FF-4AB1-BD7D-86F15D609D4D" class="sect4"><span class="enumeration_section">16.1.1 </span>Overview of Oracle Collections
                  </h4>
                  <div>
                     <p>An Oracle coll<a id="d57778e147" class="indexterm-anchor"></a>ection, either a variable array (VARRAY) or a nested table in the database, maps to an array in Java. JDBC 2.0 arr<a id="d57778e152" class="indexterm-anchor"></a><a id="d57778e156" class="indexterm-anchor"></a>ays are used to materialize Oracle collections in Java. The terms collection and array are sometimes used interchangeably. However, collection is more appropriate on the database side and array is more appropriate on the JDBC application side.
                     </p>
                     <p>Oracle supports only <a id="d57778e163" class="indexterm-anchor"></a><a id="d57778e165" class="indexterm-anchor"></a>named collections, where you specify a SQL type name to describe a type of collection. JDBC enables you to use arrays as any of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Columns in a <code class="codeph">SELECT</code> clause
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IN</code> or <code class="codeph">OUT</code> bind variables
                           </p>
                        </li>
                        <li>
                           <p>Attributes in an Oracle object</p>
                        </li>
                        <li>
                           <p>Elements of other arrays</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="JJDBC28576"></a><div class="props_rev_3"><a id="GUID-5015B2F4-54A8-4B55-A02F-E10D66887003" name="GUID-5015B2F4-54A8-4B55-A02F-E10D66887003"></a><h4 id="JJDBC-GUID-5015B2F4-54A8-4B55-A02F-E10D66887003" class="sect4"><span class="enumeration_section">16.1.2 </span>Choices in Materializing Collections
                  </h4>
                  <div>
                     <p>In your application, you have the choice of materializing a collection as an instance of the <code class="codeph">oracle.sql.ARRAY</code> class, which is weakly typed, or materializing it as an instance of a custom Java class that you have created in advance, which is strongly typed. Custom Java classes used for collections are referred to as cus<a id="d57778e218" class="indexterm-anchor"></a>tom collection classes. A custom collection class must implement the Oracle <code class="codeph">oracle.jdbc.OracleData</code> interface. In addition, the custom class or a companion class must implement <code class="codeph">oracle.jdbc.OracleDataFactory</code>. The standard <code class="codeph">java.sql.SQLData</code> interface is for mapping SQL object types only.
                     </p>
                     <p>The <code class="codeph">oracle.sql.ARRAY</code> class implements the standard <code class="codeph">java.sql.Array</code> interface. 
                     </p>
                     <p>The <code class="codeph">ARRAY</code> class includes functionality to retrieve the array as a whole, retrieve a subset of the array elements, and retrieve the SQL base type name of the array elements. However, you cannot write to the array, because there are no setter methods.
                     </p>
                     <p>Custom collection classes, as with the <code class="codeph">ARRAY</code> class, enable you to retrieve all or part of the array and get the SQL base type name. They also have the advantage of being strongly typed, which can help you find coding errors during compilation that might not otherwise be discovered until run time.
                     </p>
                     <div class="infoboxnote" id="GUID-5015B2F4-54A8-4B55-A02F-E10D66887003__GUID-784F5C91-A81F-4277-A272-D2FC108607CF">
                        <p class="notep1">Note:</p>
                        <p>There is no difference in the code between accessing VARRAYs and accessing nested tables. <code class="codeph">ARRAY</code> class methods can determine if they are being applied to a VARRAY or nested table, and respond by taking the appropriate actions. 
                        </p>
                     </div>
                  </div>
               </div><a id="JJDBC28577"></a><div class="props_rev_3"><a id="GUID-13E05667-1EFB-464F-B91F-32E99543DD3F" name="GUID-13E05667-1EFB-464F-B91F-32E99543DD3F"></a><h4 id="JJDBC-GUID-13E05667-1EFB-464F-B91F-32E99543DD3F" class="sect4"><span class="enumeration_section">16.1.3 </span>Creating Collections
                  </h4>
                  <div>
                     <div class="section">
                        <p>Because Oracle supports only named collections, you must declare a particular <code class="codeph">VARRAY</code> type name or nested table type name. VARRAY and nested table are not types themselves, but categories of types.
                        </p>
                        <p>A SQL type name is assigned to a collection when you create it using the SQL <code class="codeph">CREATE TYPE</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE &lt;<span class="italic">sql_type_name</span>&gt; AS &lt;<span class="italic">datatype</span>&gt;;
</pre><p>A VARRAY is an array of varying size. It has an ordered set of data elements, and all the elements are of the same data type. Each element has an index, which is a number corresponding to the position of the element in the VARRAY. The number of elements in a VARRAY is the size of the VARRAY. You must specify a maximum size when you declare the <code class="codeph">VARRAY</code> type. For example:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE myNumType AS VARRAY(10) OF NUMBER;
</pre><p>This statement defines <code class="codeph">myNumType</code> as a SQL type name that describes a VARRAY of <code class="codeph">NUMBER</code> values that can contain no more than 10 elements.
                        </p>
                        <p>A nested table is an unordered set of data elements, all of the same data type. The database stores a nested table in a separate table which has a single column, and the type of that column is a built-in type or an object type. If the table is an object type, then it can also be viewed as a multi-column table, with a column for each attribute of the object type. You can create a nested table as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE myNumList AS TABLE OF integer;
</pre><p>This statement identifies <code class="codeph">myNumList</code> as a SQL type name that defines the table type used for the nested tables of the type <code class="codeph">INTEGER</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28578"></a><div class="props_rev_3"><a id="GUID-D2501ACA-FF2D-4973-B700-7A1024404948" name="GUID-D2501ACA-FF2D-4973-B700-7A1024404948"></a><h4 id="JJDBC-GUID-D2501ACA-FF2D-4973-B700-7A1024404948" class="sect4"><span class="enumeration_section">16.1.4 </span>Creating Multilevel Collection Types
                  </h4>
                  <div>
                     <div class="section">
                        <p>The most common way to create a new multilevel collection type in JDBC is to pass the SQL <code class="codeph">CREATE TYPE</code> statement to the <code class="codeph">execute</code> method of the <code class="codeph">java.sql.Statement</code> class. The following code creates a one-level nested table, <code class="codeph">first_level</code>, and a two- levels nested table, <code class="codeph">second_level</code>:
                        </p><pre class="oac_no_warn" dir="ltr">Connection conn = ....                            // make a database
                                                  // connection 
Statement stmt = conn.createStatement();          // open a database
                                                  // cursor 
stmt.execute("CREATE TYPE first_level AS TABLE OF NUMBER");  // create a nested
                                                  // table of number 
stmt.execute("CREATE TYPE second_level AS TABLE OF first_level"); // create a
           // two-levels nested table
...        // other operations here
stmt.close();                                     // release the
                                                  // resource 
conn.close();                                     // close the
                                                  // database connection
</pre><p>Once the multilevel collection types have been created, they can be used as both columns of a base table as well as attributes of a object type. </p>
                        <div class="infoboxnote" id="GUID-D2501ACA-FF2D-4973-B700-7A1024404948__GUID-5D0769DC-78A0-4B80-A442-702A2185F5C7">
                           <p class="notep1">Note:</p>
                           <p>Multilevel collection types are available only for Oracle9<span class="italic">i</span> and later.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28580"></a><a id="JJDBC28581"></a><a id="JJDBC28579"></a><div class="props_rev_3"><a id="GUID-E57699B6-491C-4430-90EB-8FF1912440DA" name="GUID-E57699B6-491C-4430-90EB-8FF1912440DA"></a><h3 id="JJDBC-GUID-E57699B6-491C-4430-90EB-8FF1912440DA" class="sect3"><span class="enumeration_section">16.2 </span>Overview of Collection Functionality
               </h3>
               <div>
                  <div class="section">
                     <p>You can obtain collection data in an array instance through a result set or callable statement and pass it back as a bind variable in a prepared statement or callable statement.</p>
                     <p>The <code class="codeph">oracle.sql.ARRAY</code> class, which implements the standard <code class="codeph">java.sql.Array</code> interface, provides the necessary functionality to access and update the data of an Oracle collection.
                     </p>
                     <p>This section covers Array Getter and Setter Methods. Use the following result set, callable statement, and prepared statement methods to retrieve and pass collections as Java arrays.</p>
                     <div class="infoboxnote" id="GUID-E57699B6-491C-4430-90EB-8FF1912440DA__GUID-A1E8F2AA-B5BE-4916-8481-B043026B32CB">
                        <p class="notep1">Note:</p>
                        <p>Starting from Oracle Database 12<span class="italic">c </span>Release 1 (12.1), the <code class="codeph">oracle.sql.ARRAY</code> class is deprecated and replaced with the <code class="codeph">oracle.jdbc.OracleArray</code> interface, which is a part of the <code class="codeph">oracle.jdbc</code> package. Oracle recommends you to use the methods available in the <code class="codeph">java.sql</code> package, where possible, for standard compatibility and methods available in the <code class="codeph">oracle.jdbc</code> package for Oracle specific extensions. Refer to MoS Note 1364193.1 for more information about the <code class="codeph">oracle.jdbc.OracleArray</code> interface.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E57699B6-491C-4430-90EB-8FF1912440DA__GUID-C760E9B9-5EDC-4354-B4CC-A830A3FB886D">Result Set and Callable Statement Getter Methods</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">OracleResultSet</code> and <code class="codeph">OracleCallableStatement</code> interfaces support <code class="codeph">getARRAY</code> and <code class="codeph">getArray</code> methods to retrieve <code class="codeph">ARRAY</code> objects as output parameters, either as <code class="codeph">oracle.sql.ARRAY</code> instances or <code class="codeph">java.sql.Array</code> instances. You can also use the <code class="codeph">getObject</code> method. These methods take as input a <code class="codeph">String</code> column name or <code class="codeph">int</code> column index.
                     </p>
                     <div class="infoboxnote" id="GUID-E57699B6-491C-4430-90EB-8FF1912440DA__GUID-BFEF1A4E-F3E5-4585-89AB-EE6BCA3A05FD">
                        <p class="notep1">Note:</p>
                        <p>The Oracle JDBC drivers cache array and structure descriptors. This provides enormous performance benefits; however, it means that if you change the underlying type definition of an array type in the database, the cached descriptor for that array type will become stale and your application will receive a <code class="codeph">SQLException</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E57699B6-491C-4430-90EB-8FF1912440DA__GUID-4077765D-C4F8-4A3E-B2CD-13364B0F57F9">Prepared and Callable Statement Setter Methods</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">OraclePreparedStatement</code> and <code class="codeph">OracleCallableStatement</code> classes support <code class="codeph">setARRAY</code> and <code class="codeph">setArray</code> methods to take updated <code class="codeph">ARRAY</code> objects as bind variables and pass them to the database. You can also use the <code class="codeph">setObject</code> method. These methods take as input a <code class="codeph">String</code> parameter name or <code class="codeph">int</code> parameter index as well as an <code class="codeph">oracle.sql.ARRAY</code> instance or a <code class="codeph">java.sql.Array</code> instance.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28585"></a><div class="props_rev_3"><a id="GUID-00517CE4-DC23-4D01-B878-9C50E19B3B0F" name="GUID-00517CE4-DC23-4D01-B878-9C50E19B3B0F"></a><h3 id="JJDBC-GUID-00517CE4-DC23-4D01-B878-9C50E19B3B0F" class="sect3"><span class="enumeration_section">16.3 </span>ARRAY Performance Extension Methods
               </h3>
               <div>
                  <div class="section">
                     <p>This section discusses the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Oracle-collections.html#GUID-C51FE01E-CB73-4BFB-A0A3-3474C5DE5E6A">About Accessing oracle.sql.ARRAY Elements as Arrays of Java Primitive Types</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-collections.html#GUID-33CC8F2C-4E73-412B-990E-D4293173E199">ARRAY Automatic Element Buffering</a></p>
                        </li>
                        <li>
                           <p><a href="Oracle-collections.html#GUID-98DAE89F-6100-4D1F-8E65-546E7943A191">ARRAY Automatic Indexing</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28586"></a><div class="props_rev_3"><a id="GUID-C51FE01E-CB73-4BFB-A0A3-3474C5DE5E6A" name="GUID-C51FE01E-CB73-4BFB-A0A3-3474C5DE5E6A"></a><h4 id="JJDBC-GUID-C51FE01E-CB73-4BFB-A0A3-3474C5DE5E6A" class="sect4"><span class="enumeration_section">16.3.1 </span>About Accessing oracle.sql.ARRAY Elements as Arrays of Java Primitive Types
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">oracle.sql.ARRAY</code> class contains methods that return array elements as Java primitive types. These methods enable you to access collection elements more efficiently than accessing them as <code class="codeph">Datum</code> instances and then converting each <code class="codeph">Datum</code><a id="d57778e592" class="indexterm-anchor"></a> instance to its Java primitive value.
                        </p>
                        <div class="infoboxnote" id="GUID-C51FE01E-CB73-4BFB-A0A3-3474C5DE5E6A__GUID-425AD159-0FD8-47BD-B324-5E8129160CDF">
                           <p class="notep1">Note:</p>
                           <p>These specialized methods of the <code class="codeph">oracle.sql.ARRAY</code> class are restricted to numeric collections.
                           </p>
                        </div>
                        <p>Each method using the first signature returns collection elements as an <span class="italic"><code class="codeph">XXX</code></span><code class="codeph">[]</code>, where <span class="italic"><code class="codeph">XXX</code></span> is a Java primitive type. Each method using the second signature returns a slice of the collection containing the number of elements specified by <code class="codeph">count</code>, starting at the <code class="codeph">index</code> location.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28587"></a><div class="props_rev_3"><a id="GUID-33CC8F2C-4E73-412B-990E-D4293173E199" name="GUID-33CC8F2C-4E73-412B-990E-D4293173E199"></a><h4 id="JJDBC-GUID-33CC8F2C-4E73-412B-990E-D4293173E199" class="sect4"><span class="enumeration_section">16.3.2 </span>ARRAY Automatic Element Buffering
                  </h4>
                  <div>
                     <p>Oracle JDBC driver provides public methods to enable and disable buffering of <code class="codeph">ARRAY</code> contents.
                     </p>
                     <p>The following methods are included with the <code class="codeph">oracle.sql.ARRAY</code> class:<code class="codeph"></code></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">setAutoBuffering</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getAutoBuffering</code></p>
                        </li>
                     </ul>
                     <p>It is advisable to enable auto-buffering in a JDBC application when the <code class="codeph">ARRAY</code> elements will be accessed more than once by the <code class="codeph">getAttributes</code> and <code class="codeph">getArray</code> methods, presuming the <code class="codeph">ARRAY</code> data is able to fit into the Java Virtual Machine (JVM) memory without overflow.
                     </p>
                     <div class="infoboxnote" id="GUID-33CC8F2C-4E73-412B-990E-D4293173E199__GUID-9448147D-D099-471B-A7D9-9EA37BBBAB02">
                        <p class="notep1">Note:</p>
                        <p>Buffering the converted elements may cause the JDBC application to consume a significant amount of memory.</p>
                     </div>
                     <p>When you enable auto-buffering, the <code class="codeph">oracle.sql.ARRAY</code> object keeps a local copy of all the converted elements. This data is retained so that a second access of this information does not require going through the data format conversion process.
                     </p>
                  </div>
               </div><a id="JJDBC28588"></a><div class="props_rev_3"><a id="GUID-98DAE89F-6100-4D1F-8E65-546E7943A191" name="GUID-98DAE89F-6100-4D1F-8E65-546E7943A191"></a><h4 id="JJDBC-GUID-98DAE89F-6100-4D1F-8E65-546E7943A191" class="sect4"><span class="enumeration_section">16.3.3 </span>ARRAY Automatic Indexing
                  </h4>
                  <div>
                     <div class="section">
                        <p>If an array is in auto-indexing mode, then the array object maintains an index table to hasten array element access.</p>
                        <p>The <code class="codeph">oracle.sql.ARRAY</code> class contains the following methods to support automatic array-indexing:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">setAutoIndexing(boolean)</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">setAutoIndexing(boolean, int)</code></p>
                           </li>
                        </ul>
                        <p>By default, auto-indexing is not enabled. For a JDBC application, enable auto-indexing for <code class="codeph">ARRAY</code> objects if random access of array elements may occur through the <code class="codeph">getArray</code> and <code class="codeph">getResultSet</code> methods. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28589"></a><div class="props_rev_3"><a id="GUID-BC05FE69-643F-44AF-8D86-2E181F7E6628" name="GUID-BC05FE69-643F-44AF-8D86-2E181F7E6628"></a><h3 id="JJDBC-GUID-BC05FE69-643F-44AF-8D86-2E181F7E6628" class="sect3"><span class="enumeration_section">16.4 </span>Creating and Using Arrays
               </h3>
               <div>
                  <p>This section discusses how to create array objects and how to retrieve and pass collections as array objects, including the following topics.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="Oracle-collections.html#GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971">Creating ARRAY Objects</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-collections.html#GUID-ED588B9D-376A-4037-9C46-62642261E62D">Retrieving an Array and Its Elements</a></p>
                     </li>
                     <li>
                        <p><a href="Oracle-collections.html#GUID-BCCFF59D-D84C-410B-B681-BA5AA6285EC6">Passing Arrays to Statement Objects</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28591"></a><a id="JJDBC28592"></a><a id="JJDBC28590"></a><div class="props_rev_3"><a id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971" name="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971"></a><h4 id="JJDBC-GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971" class="sect4"><span class="enumeration_section">16.4.1 </span>Creating ARRAY Objects
                  </h4>
                  <div>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__GUID-FA6524BD-94F4-4267-BFEB-79C71B2C0640">
                           <p class="notep1">Note:</p>
                           <p>Oracle JDBC does not support the JDBC 4.0 method <code class="codeph">createArrayOf</code> method of <code class="codeph">java.sql.Connection</code> interface. This method only allows anonymous array types, while all Oracle array types are named. Use the Oracle specific method <code class="codeph">oracle.jdbc.OracleConnection.createARRAY</code> instead.
                           </p>
                        </div>
                        <p>This section describes how to create <code class="codeph">ARRAY</code> objects. This section covers the following topics:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="Oracle-collections.html#GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__i1056527">Steps in Creating ARRAY Objects</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-collections.html#GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__BABHIJHB">Example 16-1</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__i1056527">
                        <p class="subhead3" id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__GUID-63581558-994D-4D2F-9BE4-3E142B8BD9C2">Steps in Creating ARRAY Objects</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Starting from Oracle Database 11<span class="italic">g</span> Release 1, you can use the <code class="codeph">createARRAY</code> factory method of <code class="codeph">oracle.jdbc.OracleConnection</code> interface to create an array object. The factory method for creating arrays has been defined as follows:
                        </p><pre class="oac_no_warn" dir="ltr">public ARRAY createARRAY(java.lang.String typeName,java.lang.Object elements)throws SQLException
</pre><p>where, <code class="codeph">typeName</code> is the name of the SQL type of the created object and <code class="codeph">elements</code> is the elements of the created object.
                        </p>
                        <p>Perform the following to create an array:<a id="d57778e854" class="indexterm-anchor"></a><a id="d57778e856" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a collection with the <code class="codeph">CREATE</code> <code class="codeph">TYPE</code> statement as follows:</span><div><pre class="oac_no_warn" dir="ltr">CREATE TYPE elements AS varray(22) OF NUMBER(5,2);
</pre><p>The two possibilities for the contents of <code class="codeph">elements</code> are: 
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>An array of Java primitives. For example, <code class="codeph">int[]</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>An array of Java objects, such as <span class="italic"><code class="codeph">xxx</code></span><code class="codeph">[]</code>, where <span class="italic"><code class="codeph">xxx</code></span> is the name of a Java class. For example, <code class="codeph">Integer[]</code>.
                                    </p>
                                    <div class="infoboxnote" id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__GUID-D9D54940-C7B1-4A46-974F-0CFCED523F53">
                                       <p class="notep1">Note:</p>
                                       <p>The <code class="codeph">setARRAY</code>, <code class="codeph">setArray</code>, and <code class="codeph">setObject</code> methods of the <code class="codeph">OraclePreparedStatement</code> class take an object of the type <code class="codeph">oracle.sql.ARRAY</code> as an argument, not an array of objects. 
                                       </p>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Construct the <code class="codeph">ARRAY</code> object <a id="d57778e925" class="indexterm-anchor"></a>by passing the Java string specifying the user-defined SQL type name of the array and a Java object containing the individual elements you want the array to contain.</span><div><pre class="oac_no_warn" dir="ltr">ARRAY array = oracle.jdbc.OracleConnection.createARRAY(sql_type_name, elements);
</pre></div>
                        </li>
                     </ol>
                     <div class="example" id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__GUID-C206255F-92D8-485B-AFA2-024913C943C6">
                        <div class="infoboxnote" id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__GUID-05883EBC-F574-41CC-AFA4-EE2C7944C19C">
                           <p class="notep1">Note:</p>
                           <p>The name of the collection type is not the same as the type name of the elements. For example:</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">CREATE TYPE person AS object </code>
<code class="codeph">            (c1 NUMBER(5), c2 VARCHAR2(30)); </code>
<code class="codeph">CREATE TYPE array_of_persons AS varray(10)</code>
            OF person; </pre><p>In the preceding statements, the name of the collection type is <code class="codeph">ARRAY_OF_PERSON</code>. The SQL type name of the collection elements is <code class="codeph">PERSON</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-10D24D4A-4A0F-41DE-96CE-B9EED2583971__BABHIJHB">
                        <p class="titleinexample">Example 16-1 Creating Multilevel Collections</p>
                        <p>As with single-level collections, the JDBC application can create an <code class="codeph">oracle.sql.ARRAY</code> instance to represent a multilevel collection, and then send the instance to the database. The same <code class="codeph">createARRAY</code> factory method you use to create single-level collections, can be used to create multilevel collections as well. To create a single-level collection, the elements are a one dimensional Java array, while to create a multilevel collection, the elements can be either an array of <code class="codeph">oracle.sql.ARRAY[]</code> elements or a nested Java array or the combinations.
                        </p>
                        <p>The following code shows how to create collection types with a nested Java array:</p><pre class="oac_no_warn" dir="ltr">// prepare the multilevel collection elements as a nested Java array
int[][][] elements = { {{1}, {1, 2}}, {{2}, {2, 3}}, {{3}, {3, 4}} };

// create the ARRAY using the factory method
ARRAY array = oracle.jdbc.OracleConnection.createARRAY(sql_type_name, elements);

</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JJDBC28595"></a><div class="props_rev_3"><a id="GUID-ED588B9D-376A-4037-9C46-62642261E62D" name="GUID-ED588B9D-376A-4037-9C46-62642261E62D"></a><h4 id="JJDBC-GUID-ED588B9D-376A-4037-9C46-62642261E62D" class="sect4"><span class="enumeration_section">16.4.2 </span>Retrieving an Array and Its Elements
                  </h4>
                  <div>
                     <div class="section">
                        <p>This section first discusses how to retrieve an <code class="codeph">ARRAY</code> instance as a whole from a result set, and then how to retrieve the elements from the <code class="codeph">ARRAY</code> instance. This section covers the following topics:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="Oracle-collections.html#GUID-54680CDD-B176-4E5C-9153-96740C48116E">About Retrieving the Array </a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-collections.html#GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE">Data Retrieval Methods</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-collections.html#GUID-E2AE8600-F9A9-458B-83B8-C01BCAD51365">Comparing the Data Retrieval Methods</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-collections.html#GUID-4872A6DE-E029-44CF-AF71-4C70979B8F63">Retrieving Elements of a Structured Object Array According to a Type Map</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-collections.html#GUID-6D8BD317-1F52-4CF6-8E4A-096989E8D2A6">Retrieving a Subset of Array Elements</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-collections.html#GUID-BCD2C704-39EA-4B52-B3CB-E192F715ED84">Retrieving Array Elements into an oracle.sql.Datum Array</a></p>
                           </li>
                           <li>
                              <p><a href="Oracle-collections.html#GUID-A374A861-2770-418F-9CF6-DBB807CE282C">About Accessing Multilevel Collection Elements</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="JJDBC28596"></a><div class="props_rev_3"><a id="GUID-54680CDD-B176-4E5C-9153-96740C48116E" name="GUID-54680CDD-B176-4E5C-9153-96740C48116E"></a><h5 id="JJDBC-GUID-54680CDD-B176-4E5C-9153-96740C48116E" class="sect5"><span class="enumeration_section">16.4.2.1 </span>About Retrieving the Array 
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can retrieve a SQL array from a result set by casting the result set to <code class="codeph">OracleResultSet</code> and using the <code class="codeph">getARRAY</code> method, which returns an <code class="codeph">oracle.sql.ARRAY</code> object. If you want to avoid casting the result set, then you can get the data with the standard <code class="codeph">getObject</code> method specified by the <code class="codeph">java.sql.ResultSet</code> interface and cast the output to <code class="codeph">oracle.sql.ARRAY</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28598"></a><a id="JJDBC28599"></a><a id="JJDBC28600"></a><a id="JJDBC28597"></a><div class="props_rev_3"><a id="GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE" name="GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE"></a><h5 id="JJDBC-GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE" class="sect5"><span class="enumeration_section">16.4.2.2 </span>Data Retrieval Methods
                     </h5>
                     <div>
                        <div class="section">
                           <p>Once you have an <code class="codeph">ARRAY</code> object, you can retrieve the data using one of these three overloaded methods of the <code class="codeph">oracle.sql.ARRAY</code> class:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">getArray</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">getOracleArray</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">getResultSet</code></p>
                              </li>
                           </ul>
                           <p>Oracle also provides methods that enable you to retrieve all the elements of an array, or a subset.</p>
                           <div class="infoboxnote" id="GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE__GUID-2DDFB233-7A77-47C4-91F0-B0761B9DE5E4">
                              <p class="notep1">Note:</p>
                              <p>In case you are working with an array of structured objects, Oracle provides versions of these three methods that enable you to specify a type map so that you can choose how to map the objects to Java. </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE__GUID-6E425040-5336-45E5-A6CF-843BA6E0269E">getOracleArray</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The <code class="codeph">getOracleArray</code> method is an Oracle-specific extension that is not specified in the standard <code class="codeph">Array</code> interface. The <code class="codeph">getOracleArray</code> method retrieves the element values of the array into a <code class="codeph">Datum[]</code> array. The elements are of the <code class="codeph">oracle.sql.*</code> data type corresponding to the SQL type of the data in the original array. 
                           </p>
                           <p>For an array of structured objects, this method will use <code class="codeph">oracle.jdbc.OracleStruct</code> instances for the elements.
                           </p>
                           <p>Oracle also provides a <code class="codeph">getOracleArray(</code><span class="italic"><code class="codeph">index</code></span><code class="codeph">,</code><span class="italic"><code class="codeph">count</code></span><code class="codeph">)</code> <code class="codeph">method</code> to get a subset of the array elements.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE__GUID-D1C707D7-533E-4679-A0B2-645E1CB583F3">getResultSet</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The <code class="codeph">getResultSet</code> method returns a result set that contains elements of the array designated by the <code class="codeph">ARRAY</code> object. The result set contains one row for each array element, with two columns in each row. The first column stores the index into the array for that element, and the second column stores the element value. In the case of VARRAYs, the index represents the position of the element in the array. In the case of nested tables, which are by definition unordered, the index reflects only the return order of the elements in the particular query. 
                           </p>
                           <p>Oracle recommends using <code class="codeph">getResultSet</code> when getting data from nested tables. Nested tables can have an unlimited number of elements. The <code class="codeph">ResultSet</code> object returned by the method initially points at the first row of data. You get the contents of the nested table by using the <code class="codeph">next</code> method and the appropriate <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span> method. In contrast, <code class="codeph">getArray</code> returns the entire contents of the nested table at one time. 
                           </p>
                           <p>The <code class="codeph">getResultSet</code> method uses the default type map of the connection to determine the mapping between the SQL type of the Oracle object and its corresponding Java data type. If you do not want to use the default type map of the connection, another version of the method, <code class="codeph">getResultSet(</code><span class="italic"><code class="codeph">map</code></span><code class="codeph">)</code>, enables you to specify an alternate type map. 
                           </p>
                           <p>Oracle also provides the <code class="codeph">getResultSet(</code><span class="italic"><code class="codeph">index</code></span><code class="codeph">,</code><span class="italic"><code class="codeph">count</code></span><code class="codeph">)</code> and <code class="codeph">getResultSet(</code><span class="italic"><code class="codeph">index</code></span><code class="codeph">,</code><span class="italic"><code class="codeph">count</code></span><code class="codeph">,</code><span class="italic"><code class="codeph">map</code></span><code class="codeph">)</code> methods to retrieve a subset of the array elements.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-3BA98572-FD68-4137-B87E-0DC2AAAC65EE__GUID-1F2E7FD9-E75B-4390-B855-6511903382F8">getArray</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The <code class="codeph">getArray</code> method is a standard JDBC method that returns the array elements as a <code class="codeph">java.lang.Object</code>, which you can cast as appropriate. The elements are converted to the Java types corresponding to the SQL type of the data in the original array.
                           </p>
                           <p>Oracle also provides a <code class="codeph">getArray(</code><span class="italic"><code class="codeph">index</code></span><code class="codeph">,</code><span class="italic"><code class="codeph">count</code></span><code class="codeph">)</code> method to retrieve a subset of the array elements.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28601"></a><div class="props_rev_3"><a id="GUID-E2AE8600-F9A9-458B-83B8-C01BCAD51365" name="GUID-E2AE8600-F9A9-458B-83B8-C01BCAD51365"></a><h5 id="JJDBC-GUID-E2AE8600-F9A9-458B-83B8-C01BCAD51365" class="sect5"><span class="enumeration_section">16.4.2.3 </span>Comparing the Data Retrieval Methods
                     </h5>
                     <div>
                        <div class="section">
                           <p>If you use <code class="codeph">getOracleArray</code> to return the array elements, then the use by that method of <code class="codeph">oracle.sql.Datum</code> instances avoids the expense of data conversion from SQL to Java. The non-character data inside the instance of a <code class="codeph">Datum</code> class or any of its subclass remains in raw SQL format.
                           </p>
                           <p>If you use <code class="codeph">getResultSet</code> to return an array of primitive data types, then the JDBC driver returns a <code class="codeph">ResultSet</code> object that contains, for each element, the index into the array for the element and the element value. For example:
                           </p><pre class="oac_no_warn" dir="ltr">ResultSet rset = intArray.getResultSet();
</pre><p>In this case, the result set contains one row for each array element, with two columns in each row. The first column stores the index into the array and the second column stores the element value. </p>
                           <p>If the elements of an array are of a SQL type that maps to a Java type, then <code class="codeph">getArray</code> returns an array of elements of this Java type. The return type of the <code class="codeph">getArray</code> method is <code class="codeph">java.lang.Object</code>. Therefore, the result must be cast before it can be used.
                           </p><pre class="oac_no_warn" dir="ltr">BigDecimal[] values = (BigDecimal[]) intArray.getArray();
</pre><p>Here <code class="codeph">intArray</code> is an <code class="codeph">oracle.sql.ARRAY</code>, corresponding to a VARRAY of type <code class="codeph">NUMBER</code>. The <code class="codeph">values</code> array contains an array of elements of type <code class="codeph">java.math.BigDecimal</code>, because the SQL <code class="codeph">NUMBER</code> data type maps to Java <code class="codeph">BigDecimal</code>, by default, according to Oracle JDBC drivers.
                           </p>
                           <div class="infoboxnote" id="GUID-E2AE8600-F9A9-458B-83B8-C01BCAD51365__GUID-54762DD9-E0C6-4FFD-BCBE-4B016C1CB9F9">
                              <p class="notep1">Note:</p>
                              <p>Using <code class="codeph">BigDecimal</code> is a resource-intensive operation in Java. Because Oracle JDBC maps numeric SQL data to <code class="codeph">BigDecimal</code> by default, using <code class="codeph">getArray</code> may impact performance, and is not recommended for numeric collections.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28602"></a><div class="props_rev_3"><a id="GUID-4872A6DE-E029-44CF-AF71-4C70979B8F63" name="GUID-4872A6DE-E029-44CF-AF71-4C70979B8F63"></a><h5 id="JJDBC-GUID-4872A6DE-E029-44CF-AF71-4C70979B8F63" class="sect5"><span class="enumeration_section">16.4.2.4 </span>Retrieving Elements of a Structured Object Array According to a Type Map
                     </h5>
                     <div>
                        <div class="section">
                           <p>By default, if you are working with an array whose elements are structured objects, and you use <code class="codeph">getArray</code> or <code class="codeph">getResultSet</code>, then the Oracle objects in the array will be mapped to their corresponding Java data types according to the default mapping. This is because these methods use the default <a id="d57778e1419" class="indexterm-anchor"></a>type map of the connection to determine the mapping. 
                           </p>
                           <p>However, if you do not want default behavior, then you can use the <code class="codeph">getArray(</code><span class="italic"><code class="codeph">map</code></span><code class="codeph">)</code> or <code class="codeph">getResultSet(</code><span class="italic"><code class="codeph">map</code></span><code class="codeph">)</code> method to specify a type map that contains alternate mappings. If there are entries in the type map corresponding to the Oracle objects in the array, then each object in the array is mapped to the corresponding Java type specified in the type map. For example: 
                           </p><pre class="oac_no_warn" dir="ltr">Object[] object = (Object[])objArray.getArray(map);
</pre><p>Where <code class="codeph">objArray</code> is an <code class="codeph">oracle.sql.ARRAY</code> object and <code class="codeph">map</code> is a <code class="codeph">java.util.Map</code> object.
                           </p>
                           <p>If the type map does not contain an entry for a particular Oracle object, then the element is returned as an <code class="codeph">oracle.jdbc.OracleStruct</code> object. 
                           </p>
                           <p>The <code class="codeph">getResultSet(</code><span class="italic"><code class="codeph">map</code></span><code class="codeph">)</code> method behaves similarly to the <code class="codeph">getArray(</code><span class="italic"><code class="codeph">map</code></span><code class="codeph">)</code> method.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="Oracle-collections.html#GUID-22D90043-E417-4BC3-A838-0DBA954AF2AA">Using a Type Map to Map Array Elements</a></li>
                           </ul>
                        </div>
                     </div>
                     
                  </div><a id="JJDBC28603"></a><div class="props_rev_3"><a id="GUID-6D8BD317-1F52-4CF6-8E4A-096989E8D2A6" name="GUID-6D8BD317-1F52-4CF6-8E4A-096989E8D2A6"></a><h5 id="JJDBC-GUID-6D8BD317-1F52-4CF6-8E4A-096989E8D2A6" class="sect5"><span class="enumeration_section">16.4.2.5 </span>Retrieving a Subset of Array Elements
                     </h5>
                     <div>
                        <div class="section">
                           <p>If you do not want to retrieve the entire contents of an array, then you can use signatures of <code class="codeph">getArray</code>, <code class="codeph">getResultSet</code>, and <code class="codeph">getOracleArray</code> that let you retrieve a subset. To retrieve a subset of the <a id="d57778e1524" class="indexterm-anchor"></a>array, pass in an index and a count to indicate where in the array you want to start and how many elements you want to retrieve. As previously described, you can specify a type map or use the default type map for your connection to convert to Java types. For example:
                           </p><pre class="oac_no_warn" dir="ltr">Object object = arr.getArray(<span class="italic">index</span>, <span class="italic">count</span>, <span class="italic">map</span>);
Object object = arr.getArray(<span class="italic">index</span>, <span class="italic">count</span>);
</pre><p>Similar examples using <code class="codeph">getResultSet</code> are:
                           </p><pre class="oac_no_warn" dir="ltr">ResultSet rset = arr.getResultSet(<span class="italic">index</span>, <span class="italic">count</span>, <span class="italic">map</span>);
ResultSet rset = arr.getResultSet(<span class="italic">index</span>, <span class="italic">count</span>);
</pre><p>A similar example using <code class="codeph">getOracleArray</code> is:
                           </p><pre class="oac_no_warn" dir="ltr">Datum[] arr = arr.getOracleArray(<span class="italic">index</span>, <span class="italic">count</span>);
</pre><p>Where <span class="italic"><code class="codeph">arr</code></span> is an <code class="codeph">oracle.sql.ARRAY</code> object, <span class="italic"><code class="codeph">index</code></span> is type <code class="codeph">long</code>, <span class="italic"><code class="codeph">count</code></span> is type <code class="codeph">int</code>, and <span class="italic"><code class="codeph">map</code></span> is a <code class="codeph">java.util.Map</code> object.
                           </p>
                           <div class="infoboxnote" id="GUID-6D8BD317-1F52-4CF6-8E4A-096989E8D2A6__GUID-8CD191CC-F240-4147-A6E4-320C66589320">
                              <p class="notep1">Note:</p>
                              <p>There is no performance advantage in retrieving a subset of an array, as opposed to the entire array.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28604"></a><div class="props_rev_3"><a id="GUID-BCD2C704-39EA-4B52-B3CB-E192F715ED84" name="GUID-BCD2C704-39EA-4B52-B3CB-E192F715ED84"></a><h5 id="JJDBC-GUID-BCD2C704-39EA-4B52-B3CB-E192F715ED84" class="sect5"><span class="enumeration_section">16.4.2.6 </span>Retrieving Array Elements into an oracle.sql.Datum Array
                     </h5>
                     <div>
                        <div class="section">
                           <p>Use <code class="codeph">getOracleArray</code> to return an <code class="codeph">oracle.sql.Datum[]</code> array. The elements of the returned array is of <code class="codeph">oracle.sql.*</code> type that correspond to the SQL data type of the elements of the original array. For example:
                           </p><pre class="oac_no_warn" dir="ltr">Datum arraydata[] = arr.getOracleArray();
</pre><p><code class="codeph">arr</code> is an <code class="codeph">oracle.sql.ARRAY</code> object.
                           </p>
                           <p>The <a id="d57778e1661" class="indexterm-anchor"></a>following example assumes that a connection object <code class="codeph">conn</code> and a statement object <code class="codeph">stmt</code> have already been created. In the example, an array with the SQL type name <code class="codeph">NUM_ARRAY</code> is created to store a VARRAY of <code class="codeph">NUMBER</code> data. The <code class="codeph">NUM_ARRAY</code> is in turn stored in a table <code class="codeph">VARRAY_TABLE</code>. 
                           </p>
                           <p>A query selects the contents of the <code class="codeph">VARRAY_TABLE</code>. The result set is cast to <code class="codeph">OracleResultSet</code>. The <code class="codeph">getARRAY</code> method is applied to it to retrieve the array data into <code class="codeph">my_array</code>, which is an <code class="codeph">oracle.sql.ARRAY</code> object.
                           </p>
                           <p>Because <code class="codeph">my_array</code> is of type <code class="codeph">oracle.sql.ARRAY</code>, you can apply the methods <code class="codeph">getSQLTypeName</code> and <code class="codeph">getBaseType</code> to it to return the name of the SQL type of each element in the array and its integer code.
                           </p>
                           <p>The program then prints the contents of the array. Because the contents of <code class="codeph">NUM_ARRAY</code> are of the SQL data type <code class="codeph">NUMBER</code>, the elements of <code class="codeph">my_array</code> are of the type, <code class="codeph">BigDecimal</code>. Before you can use the elements, they must first be cast to <code class="codeph">BigDecimal</code>. In the <code class="codeph">for</code> loop, the individual values of the array are cast to <code class="codeph">BigDecimal</code> and printed to standard output. 
                           </p><pre class="oac_no_warn" dir="ltr">stmt.execute ("CREATE TYPE num_varray AS VARRAY(10) OF NUMBER(12, 2)");
stmt.execute ("CREATE TABLE varray_table (col1 num_varray)");
stmt.execute ("INSERT INTO varray_table VALUES (num_varray(100, 200))");

ResultSet rs = stmt.executeQuery("SELECT * FROM varray_table");
ARRAY my_array = ((OracleResultSet)rs).getARRAY(1);

// return the SQL type names, integer codes, 
// and lengths of the columns
System.out.println ("Array is of type " + array.getSQLTypeName());
System.out.println ("Array element is of type code " + array.getBaseType());
System.out.println ("Array is of length " + array.length());

// get Array elements 
BigDecimal[] values = (BigDecimal[]) my_array.getArray();

for (int i=0; i&lt;values.length; i++) 
{
   BigDecimal out_value = (BigDecimal) values[i];
   System.out.println("&gt;&gt; index " + i + " = " + out_value.intValue());
}
</pre><p>Note that if you use <code class="codeph">getResultSet</code> to obtain the array, then you must would first get the result set object, and then use the <code class="codeph">next</code> method to iterate through it. Notice the use of the parameter indexes in the <code class="codeph">getInt</code> method to retrieve the element index and the element value.
                           </p><pre class="oac_no_warn" dir="ltr">ResultSet rset = my_array.getResultSet();
while (rset.next())
{
    // The first column contains the element index and the 
    // second column contains the element value
    System.out.println("&gt;&gt; index " + rset.getInt(1)+" = " + rset.getInt(2));
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="JJDBC28605"></a><div class="props_rev_3"><a id="GUID-A374A861-2770-418F-9CF6-DBB807CE282C" name="GUID-A374A861-2770-418F-9CF6-DBB807CE282C"></a><h5 id="JJDBC-GUID-A374A861-2770-418F-9CF6-DBB807CE282C" class="sect5"><span class="enumeration_section">16.4.2.7 </span>About Accessing Multilevel Collection Elements
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <code class="codeph">oracle.sql.ARRAY</code> class provides three methods, which are overloaded, to access collection elements. The JDBC drivers extend these methods to support multilevel collections. These methods are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">getArray</code> method
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">getOracleArray</code> method
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">getResultSet</code> method
                                 </p>
                              </li>
                           </ul>
                           <p>The <code class="codeph">getArray</code> method returns a Java array that holds the collection elements. The array element type is determined by the collection element type and the JDBC default conversion matrix.
                           </p>
                           <p>For example, the <code class="codeph">getArray</code> method returns a <code class="codeph">java.math.BigDecimal</code> array for collection of SQL <code class="codeph">NUMBER</code>. The <code class="codeph">getOracleArray</code> method returns a <code class="codeph">Datum</code> array that holds the collection elements in <code class="codeph">Datum</code> format. For multilevel collections, the <code class="codeph">getArray</code> and <code class="codeph">getOracleArray</code> methods both return a Java array of <code class="codeph">oracle.sql.ARRAY</code> elements.
                           </p>
                           <p>The <code class="codeph">getResultSet</code> method returns a <code class="codeph">ResultSet</code> object that wraps the multilevel collection elements. For multilevel collections, the JDBC applications use the <code class="codeph">getObject</code>, <code class="codeph">getARRAY</code>, or <code class="codeph">getArray</code> method of the <code class="codeph">ResultSet</code> class to access the collection elements as instances of <code class="codeph">oracle.sql.ARRAY</code>. 
                           </p>
                           <p>The following code shows how to use the <code class="codeph">getOracleArray</code>, <code class="codeph">getArray</code>, and <code class="codeph">getResultSet</code> methods:
                           </p><pre class="oac_no_warn" dir="ltr">Connection conn = ...;          // make a JDBC connection 
Statement stmt = conn.createStatement (); 
ResultSet rset = stmt.executeQuery ("select col2 from tab2 where idx=1"); 

while (rset.next()) 
{ 
  ARRAY varray3 = (ARRAY) rset.getObject (1); 
  Object varrayElems = varray3.getArray (1);  
// access array elements of "varray3" 
  Datum[] varray3Elems = (Datum[]) varrayElems; 

  for (int i=0; i&lt;varray3Elems.length; i++) 
  { 
    ARRAY varray2 = (ARRAY) varray3Elems[i]; 
    Datum[] varray2Elems = varray2.getOracleArray(); 
    // access array elements of  "varray2" 

    for (int j=0; j&lt;varray2Elems.length; j++) 
    { 
      ARRAY varray1 = (ARRAY) varray2Elems[j]; 
      ResultSet varray1Elems = varray1.getResultSet(); 
      // access array elements   of "varray1" 

      while (varray1Elems.next()) 
        System.out.println ("idx="+varray1Elems.getInt(1)+"
          value="+varray1Elems.getInt(2)); 
    } 
  } 
} 
rset.close (); 
stmt.close (); 
conn.close (); </pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="JJDBC28607"></a><a id="JJDBC28608"></a><a id="JJDBC28606"></a><div class="props_rev_3"><a id="GUID-BCCFF59D-D84C-410B-B681-BA5AA6285EC6" name="GUID-BCCFF59D-D84C-410B-B681-BA5AA6285EC6"></a><h4 id="JJDBC-GUID-BCCFF59D-D84C-410B-B681-BA5AA6285EC6" class="sect4"><span class="enumeration_section">16.4.3 </span>Passing Arrays to Statement Objects
                  </h4>
                  <div>
                     <div class="section">
                        <p>This section discusses how to pass arrays to prepared statement objects or callable statement objects.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCCFF59D-D84C-410B-B681-BA5AA6285EC6__GUID-D37888C2-7F18-4112-8662-53D81AE5D3F4">Passing an Array to a Prepared Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Pass an array to a prepared statement as follows.</p>
                        <div class="infoboxnote" id="GUID-BCCFF59D-D84C-410B-B681-BA5AA6285EC6__GUID-277EE1DF-C607-4EB8-B182-7DF81BE4ADAD">
                           <p class="notep1">Note:</p>
                           <p>you can use arrays as either <code class="codeph">IN</code> or <code class="codeph">OUT</code> bind variables.
                           </p>
                        </div>
                        <ol>
                           <li>
                              <p>Define the array that you want to pass to the prepared statement as an <code class="codeph">oracle.sql.ARRAY</code> object.
                              </p><pre class="oac_no_warn" dir="ltr">ARRAY array = oracle.jdbc.OracleConnection.createARRAY(sql_type_name, elements);
</pre><p><code class="codeph">sql_type_name</code> is a Java string specifying the user-defined SQL type name of the array and <span class="italic"><code class="codeph">elements</code></span> is a <code class="codeph">java.lang.Object</code> containing a Java array of the elements. 
                              </p>
                           </li>
                           <li>
                              <p>Create a <code class="codeph">java.sql.PreparedStatement</code> object containing the SQL statement to be run.
                              </p>
                           </li>
                           <li>
                              <p>Cast your prepared statement to <code class="codeph">OraclePreparedStatement</code>, and use <code class="codeph">setARRAY</code> to pass the array to the prepared statement.
                              </p><pre class="oac_no_warn" dir="ltr">(OraclePreparedStatement)stmt.setARRAY(<span class="italic">parameterIndex</span>, <span class="italic">array</span>);
</pre><p><span class="italic"><code class="codeph">parameterIndex</code></span> is the parameter index and <span class="italic"><code class="codeph">array</code></span> is the <code class="codeph">oracle.sql.ARRAY</code> object you constructed previously.
                              </p>
                           </li>
                           <li>
                              <p>Run the prepared statement.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCCFF59D-D84C-410B-B681-BA5AA6285EC6__GUID-8C72E0CE-F7A1-4C97-BC1B-FA8FF70E893A">Passing an Array to a Callable Statement</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To retrieve a <a id="d57778e1978" class="indexterm-anchor"></a>collection as an <code class="codeph">OUT</code> parameter in PL/SQL blocks, perform the following to register the bind type for your <code class="codeph">OUT</code> parameter.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Cast your callable statement to <code class="codeph">OracleCallableStatement</code>, as follows:</span><div><pre class="oac_no_warn" dir="ltr">OracleCallableStatement ocs = (OracleCallableStatement)conn.prepareCall("{? = call func()}");
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Register the <code class="codeph">OUT</code> parameter with the following form of the <code class="codeph">registerOutParameter</code> method:</span><div><pre class="oac_no_warn" dir="ltr">ocs.registerOutParameter
        (int <span class="italic">param_index</span>, int <span class="italic">sql_type</span>, string <span class="italic">sql_type_name</span>);
</pre><p><span class="italic"><code class="codeph">param_index</code></span> is the parameter index, <span class="italic"><code class="codeph">sql_type</code></span> is the SQL type code, and <span class="italic"><code class="codeph">sql_type_name</code></span> is the name of the array type. In this case, the <span class="italic"><code class="codeph">sql_type</code></span> is <code class="codeph">OracleTypes.ARRAY</code>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the call, as follows:</span><div><pre class="oac_no_warn" dir="ltr">ocs.execute();
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Get the value, as follows:</span><div><pre class="oac_no_warn" dir="ltr">oracle.sql.ARRAY array = ocs.getARRAY(1);</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="JJDBC28609"></a><div class="props_rev_3"><a id="GUID-22D90043-E417-4BC3-A838-0DBA954AF2AA" name="GUID-22D90043-E417-4BC3-A838-0DBA954AF2AA"></a><h3 id="JJDBC-GUID-22D90043-E417-4BC3-A838-0DBA954AF2AA" class="sect3"><span class="enumeration_section">16.5 </span>Using a Type Map to Map Array Elements
               </h3>
               <div>
                  <div class="section">
                     <p>If your <a id="d57778e2077" class="indexterm-anchor"></a><a id="d57778e2081" class="indexterm-anchor"></a>array contains Oracle objects, then you can use a type map to associate the objects in the array with the corresponding Java class. If you do not specify a type map, or if the type map does not contain an entry for a particular Oracle object, then each element is returned as an <code class="codeph">oracle.jdbc.OracleStruct</code> object.
                     </p>
                     <p>If you want the type map to determine the mapping between the Oracle objects in the array and their associated Java classes, then you must add an appropriate entry to the map.</p>
                     <p>The following example illustrates how you can use a type map to map the elements of an array to a custom Java object class. In this case, the array is a nested table. The example begins by defining an <code class="codeph">EMPLOYEE</code> object that has a name attribute and employee number attribute. <code class="codeph">EMPLOYEE_LIST</code> is a nested table type of <code class="codeph">EMPLOYEE</code> objects. Then an <code class="codeph">EMPLOYEE_TABLE</code> is created to store the names of departments within a corporation and the employees associated with each department. In the <code class="codeph">EMPLOYEE_TABLE</code>, the employees are stored in the form of <code class="codeph">EMPLOYEE_LIST</code> tables. 
                     </p><pre class="oac_no_warn" dir="ltr">stmt.execute("CREATE TYPE EMPLOYEE AS OBJECT
            (EmpName VARCHAR2(50),EmpNo INTEGER))");

stmt.execute("CREATE TYPE EMPLOYEE_LIST AS TABLE OF EMPLOYEE");

stmt.execute("CREATE TABLE EMPLOYEE_TABLE (DeptName VARCHAR2(20), 
     Employees EMPLOYEE_LIST) NESTED TABLE Employees STORE AS ntable1");

stmt.execute("INSERT INTO EMPLOYEE_TABLE VALUES ("SALES", EMPLOYEE_LIST
            (EMPLOYEE('Susan Smith', 123), EMPLOYEE('Lee Brown', 124)))");
</pre><p>If you want to retrieve all the employees belonging to the <code class="codeph">SALES</code> department into an array of instances of the custom object class <code class="codeph">EmployeeObj</code>, then you must add an entry to the type map to specify mapping between the <code class="codeph">EMPLOYEE</code> SQL type and the <code class="codeph">EmployeeObj</code> custom object class.
                     </p>
                     <p>To do this, first create your statement and result set objects, then select the <code class="codeph">EMPLOYEE_LIST</code> associated with the <code class="codeph">SALES</code> department into the result set. Cast the result set to <code class="codeph">OracleResultSet</code> so you can use the <code class="codeph">getARRAY</code> method to retrieve the <code class="codeph">EMPLOYEE_LIST</code> into an <code class="codeph">ARRAY</code> object (<code class="codeph">employeeArray</code> in the following example). 
                     </p>
                     <p>The <code class="codeph">EmployeeObj</code> custom object class in this example implements the <code class="codeph">SQLData</code> interface. 
                     </p><pre class="oac_no_warn" dir="ltr">Statement s = conn.createStatement();
OracleResultSet rs = (OracleResultSet)s.executeQuery
       ("SELECT Employees FROM employee_table WHERE DeptName = 'SALES'");

// get the array object 
ARRAY employeeArray = ((OracleResultSet)rs).getARRAY(1);
</pre><p>Now that you have the <code class="codeph">EMPLOYEE_LIST</code> object, get the existing type map and add an entry that maps the <code class="codeph">EMPLOYEE</code> SQL type to the <code class="codeph">EmployeeObj</code> Java type. 
                     </p><pre class="oac_no_warn" dir="ltr">// add type map entry to map SQL type 
// "EMPLOYEE" to Java type "EmployeeObj" 
Map map = conn.getTypeMap();
map.put("EMPLOYEE", Class.forName("EmployeeObj"));
</pre><p>Next, retrieve the SQL <code class="codeph">EMPLOYEE</code> objects from the <code class="codeph">EMPLOYEE_LIST</code>. To do this, call the <code class="codeph">getArray</code> method of the <code class="codeph">employeeArray</code> array object. This method returns an array of objects. The <code class="codeph">getArray</code> method returns the <code class="codeph">EMPLOYEE</code> objects into the <code class="codeph">employees</code> object array. 
                     </p><pre class="oac_no_warn" dir="ltr">// Retrieve array elements 
Object[] employees = (Object[]) employeeArray.getArray();
</pre><p>Finally, create a loop to assign each of the <code class="codeph">EMPLOYEE</code> SQL objects to the <code class="codeph">EmployeeObj</code> Java object <code class="codeph">emp</code>.
                     </p><pre class="oac_no_warn" dir="ltr">// Each array element is mapped to EmployeeObj object.
for (int i=0; i&lt;employees.length; i++)
{
   EmployeeObj emp = (EmployeeObj) employees[i];
   ...
}</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13260.SDO_TOPO-reference.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">
      <meta name="description" content="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">
      <title>SDO_TOPO Package Subprograms</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Topology Data Model and Network Data Model Graph Developer's Guide">
      <meta property="og:description" content="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Topology Data Model and Network Data Model Graph Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-topology-data-model-and-network-data-model-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T12:24:53-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94802-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="editing-topologies.html" title="Previous" type="text/html">
      <link rel="next" href="SDO_TOPO_MAP-reference.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="TOPOL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="editing-topologies.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SDO_TOPO_MAP-reference.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Topology Data Model and Network Data Model Graph Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="topology-data-model.html" property="item" typeof="WebPage"><span property="name"> Topology Data Model</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> SDO_TOPO Package Subprograms</li>
            </ol>
            <a id="GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" name="GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04"></a><a id="TOPOL200"></a>
            
            <h2 id="TOPOL-GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" class="sect2"><span class="enumeration_chapter">3 </span> SDO_TOPO Package Subprograms
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.</p>
               <p><a id="d16946e23" class="indexterm-anchor"></a><a id="d16946e27" class="indexterm-anchor"></a>To use the subprograms in this chapter, you must understand the conceptual information about topology in <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="The Topology Data Model feature of Oracle Spatial and Graph lets you work with data about nodes, edges, and faces in a topology."> Topology Data Model Overview</a>.
               </p>
               <p>Another package, SDO_TOPO_MAP, mainly contains subprograms related to editing topologies. Reference information for the SDO_TOPO_MAP package is in <a href="SDO_TOPO_MAP-reference.html#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" title="The MDSYS.SDO_TOPO_MAP package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature."> SDO_TOPO_MAP Package Subprograms</a>.
               </p>
               <p>The rest of this chapter provides reference information about the SDO_TOPO subprograms, listed in alphabetical order.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559">SDO_TOPO.DROP_TOPOLOGY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4">SDO_TOPO.GET_FACE_BOUNDARY</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-697D0367-D5AF-498A-8AFE-08CFB486627C">SDO_TOPO.GET_TOPO_OBJECTS</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-3C5C023B-079D-4225-802B-CE9B952D82DC">SDO_TOPO.INITIALIZE_AFTER_IMPORT</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1">SDO_TOPO.INITIALIZE_METADATA</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-F49486FC-1125-4C51-8F23-4E8332C935AB">SDO_TOPO.PREPARE_FOR_EXPORT</a><br></li>
                  <li class="ulchildlink"><a href="SDO_TOPO-reference.html#GUID-2131609B-F033-4712-9EA5-FC04B466DEF7">SDO_TOPO.RELATE</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="topology-data-model.html#GUID-568DB747-C605-43E8-A8B4-8FA268B9D687" title="This part covers the topology data model feature of Oracle Spatial and Graph.">Topology Data Model</a></p>
                  </div>
               </div>
            </div>
            <a id="TOPOL825"></a><div class="props_rev_3"><a id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30" name="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30"></a><h3 id="TOPOL-GUID-56C1B565-72E4-43BD-B46C-096D3C878B30" class="sect3"><span class="enumeration_section">3.1 </span>SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-D43BC61A-9AB3-470A-863D-175EE2301636">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology                 IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  table_name               IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  column_name              IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topo_geometry_layer_type IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  relation_table_storage   IN VARCHAR2 DEFAULT NULL, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  child_layer_id           IN NUMBER DEFAULT NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-69D77589-4C91-46B5-B57C-6ABD303CC8A9">Description</p>
                     <p>Adds a topology geometry layer to a topology.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-202901F6-58BC-4D90-8C94-751DFAF48759">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-B2503EF1-4DEB-4D53-ADA9-B9AB484CED7C">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Topology to which to add the topology geometry layer containing the topology geometries in the specified column. The topology must have been created using the <a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-95C2673B-DE66-4FA4-8B3E-D6AAB7F7AACB">
                              <!-- --></a>table_name
                        </dt>
                        <dd>
                           <p>Name of the topology geometry layer table containing the column specified in <code class="codeph">column_name</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-E886C4F5-D35E-4F69-9421-DAD006430F73">
                              <!-- --></a>column_name
                        </dt>
                        <dd>
                           <p>Name of the column (of type SDO_TOPO_GEOMETRY) containing the topology geometries in the topology geometry layer to be added to the topology.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-05CF0B8F-72F0-41D5-A10B-19BA5DF83179">
                              <!-- --></a>topo_geometry_layer_type
                        </dt>
                        <dd>
                           <p>Type of topology geometry layer: POINT, LINE, CURVE, POLYGON, or COLLECTION.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-7C9B70C3-4107-4CD6-95BC-01B86C2846C7">
                              <!-- --></a>relation_table_storage
                        </dt>
                        <dd>
                           <p>Physical storage parameters used internally to create the &lt;topology-name&gt;_RELATION$ table (described in <a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">Relationship Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-4CE2F58C-BAC7-4645-B82F-A7AA0D246C5C">
                              <!-- --></a>child_layer_id
                        </dt>
                        <dd>
                           <p>Layer ID number of the child topology geometry layer for this layer, if the topology has a topology geometry layer hierarchy. (Topology geometry layer hierarchy is explained in <a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F" title="In some topologies, the topology geometry layers (feature layers) have one or more parent-child relationships in a topology hierarchy. That is, the layer at the topmost level consists of features in its child layer at the next level down in the hierarchy; the child layer might consist of features in its child layer at the next layer farther down; and so on.">Topology Geometry Layer Hierarchy</a>.) If you do not specify this parameter and if the topology has a topology geometry layer hierarchy, the topology geometry layer is added to the lowest level (level 0) of the hierarchy.
                           </p>
                           <p>If the topology does not have a topology geometry layer hierarchy, do not specify this parameter when adding any of the topology geometry layers.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-698B5974-8751-4E0F-B661-4BC2D335D0FA">Usage Notes</p>
                     <p>The first call to this procedure for a given topology creates the &lt;topology-name&gt;_RELATION$ table, which is described in <a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">Relationship Information Table</a>.
                     </p>
                     <p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back. To delete the topology that you just created, call the <a href="SDO_TOPO-reference.html#GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER</a> procedure.
                     </p>
                     <p>The procedure creates a spatial index on the spatial features in the topology geometries, and a B-tree index on the combination of <code class="codeph">tg_type</code> and <code class="codeph">tg_id</code> in the topology geometries.
                     </p>
                     <p>Users granted CONNECT and RESOURCE roles must also be granted the CREATE VIEW privilege to call the procedure. This is necessary because effective with Oracle Database 10<span class="italic">g</span> Release 2, the CONNECT role privilege reduction feature removed the following privileges from the CONNECT role: CREATE CLUSTER, CREATE DATABASE LINK, CREATE SEQUENCE, ALTER SESSION, CREATE SYNONYM, CREATE TABLE, and CREATE VIEW.
                     </p>
                     <p>The topology geometry layer table (<code class="codeph">table_name</code> parameter) cannot be an object table.
                     </p>
                     <p>An exception is raised if <code class="codeph">topology</code>, <code class="codeph">table_name</code>, or <code class="codeph">column_name</code> does not exist, or if <code class="codeph">topo_geometry_layer_type</code> is not one of the supported values.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56C1B565-72E4-43BD-B46C-096D3C878B30__GUID-202D5769-379F-4875-AF5A-7F45451BEE92">Examples</p>
                     <p>The following example adds a topology geometry layer to the <code class="codeph">CITY_DATA</code> topology. The topology geometry layer consists of polygon geometries in the FEATURE column of the LAND_PARCELS table. (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER('CITY_DATA', 'LAND_PARCELS', 'FEATURE', 'POLYGON');</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL826"></a><div class="props_rev_3"><a id="GUID-FCF18F45-89D5-4394-9339-323DBA235147" name="GUID-FCF18F45-89D5-4394-9339-323DBA235147"></a><h3 id="TOPOL-GUID-FCF18F45-89D5-4394-9339-323DBA235147" class="sect3"><span class="enumeration_section">3.2 </span>SDO_TOPO.CREATE_TOPOLOGY
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-41CCD9C0-CCF5-478F-907A-987341931364">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.CREATE_TOPOLOGY(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology                 IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  tolerance                IN NUMBER, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  srid                     IN NUMBER DEFAULT NULL, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  node_table_storage       IN VARCHAR2 DEFAULT NULL, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  edge_table_storage       IN VARCHAR2 DEFAULT NULL, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  face_table_storage       IN VARCHAR2 DEFAULT NULL, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  history_table_storage    IN VARCHAR2 DEFAULT NULL. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  digits_right_of_decimal  IN VARCHAR2 DEFAULT 16);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-9F28787B-052B-44B4-8588-50485F277F98">Description</p>
                     <p>Creates a topology.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-A7D16C27-DE75-40FB-AFC9-D409C8A013FD">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-0A5E6EA3-8FD4-4886-91F8-202544E242F2">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Name of the topology to be created. Must not exceed 20 characters.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-B7BE165D-2758-48D1-91EC-3F13DECC5C39">
                              <!-- --></a>tolerance
                        </dt>
                        <dd>
                           <p>Tolerance value associated with topology geometries in the topology. (Tolerance is explained in <a href="topology-data-model-overview.html#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">Tolerance in the Topology Data Model</a>.)
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-41E3C495-764F-4C80-9D0B-7076C64E1AE5">
                              <!-- --></a>srid
                        </dt>
                        <dd>
                           <p>Coordinate system (spatial reference system) associated with all topology geometry layers in the topology. The default is null: no coordinate system is associated; otherwise, it must be a value from the SRID column of the SDO_COORD_REF_SYS table (described in <a href="../spatl/coordinate-systems-concepts.html#SPATL652" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-27B07806-5455-44C5-8234-AB4D8EE1EE65">
                              <!-- --></a>node_table_storage
                        </dt>
                        <dd>
                           <p>Physical storage parameters used internally to create the &lt;topology-name&gt;_NODE$ table (described in <a href="topology-data-model-overview.html#GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F">Node Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-E4E75B97-E7F6-4B8C-BBF2-898327CDCB50">
                              <!-- --></a>edge_table_storage
                        </dt>
                        <dd>
                           <p>Physical storage parameters used internally to create the &lt;topology-name&gt;_EDGE$ table (described in <a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">Edge Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-D3B24656-F81F-415B-8463-D043A78715DE">
                              <!-- --></a>face_table_storage
                        </dt>
                        <dd>
                           <p>Physical storage parameters used internally to create the &lt;topology-name&gt;_FACE$ table (described in <a href="topology-data-model-overview.html#GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3">Face Information Table</a>). Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-1C153690-0D57-4B73-8754-3BF19EC5DD44">
                              <!-- --></a>history_table_storage
                        </dt>
                        <dd>
                           <p>Physical storage parameters used internally to create the &lt;topology-name&gt;_HISTORY$ table (described in <a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">History Information Table</a>. Must be a valid string for use with the CREATE TABLE statement. For example: <code class="codeph">TABLESPACE tbs_3 STORAGE (INITIAL 100K NEXT 200K)</code>. If you do not specify this parameter, the default physical storage values are used.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-0ECBB0B7-A8B6-43C9-8720-19C99F0681B5">
                              <!-- --></a>digits_right_of_decimal
                        </dt>
                        <dd>
                           <p>The number of digits permitted to the right of the decimal point in the expression of any coordinate position when features are added to an existing topology. All incoming features (those passed as arguments to the <code class="codeph">addLinearGeometry</code>, <code class="codeph">addPolygonGeometry</code>, or <code class="codeph">addPointGeometry</code> method in the Java API or the equivalent PL/SQL subprograms) will be automatically snapped (truncated) to the number of digits right of the decimal that is specified in this parameter. The default is 16.
                           </p>
                           <p>This value should be set to match the last digit right of the decimal point that is considered valid based on the accuracy of the incoming data. This mechanism is provided to improve the stability of the computational geometry during the feature insertion process, and to minimize the creation of sliver polygons and other undesired results.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-B52D3877-058C-4ABF-8F8F-0D13E4DEE5CF">Usage Notes</p>
                     <p>This procedure creates the &lt;topology-name&gt;_EDGE$, &lt;topology-name&gt;_NODE$, &lt;topology-name&gt;_FACE$, and &lt;topology-name&gt;_HISTORY$ tables, which are described in <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="To use the Spatial and Graph topology capabilities, you must first insert data into special edge, node, and face tables, which are created by Spatial and Graph when you create a topology.">Topology Data Model Tables</a>, and it creates B-tree indexes on the primary keys of these tables. This procedure also creates the metadata for the topology.
                     </p>
                     <p>In the <code class="codeph">srid</code> parameter, you can specify a geodetic coordinate system; however, all Spatial and Graph internal operations on the topology will use Cartesian (not geodetic) arithmetic operations. (Geodetic and non-geodetic coordinate systems are discussed in <a href="../spatl/coordinate-systems-concepts.html#SPATL616" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.)
                     </p>
                     <p>Node, edge, face, and history tables are created without partitions; however, you can alter any of these tables to make it partitioned. You can also create a partitioned spatial index on a partitioned table, as explained in <a href="../spatl/indexing-querying-spatial-data.html#SPATL586" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.
                     </p>
                     <p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back. To delete the topology that you just created, call the <a href="SDO_TOPO-reference.html#GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559">SDO_TOPO.DROP_TOPOLOGY</a> procedure.
                     </p>
                     <p>An exception is raised if the topology already exists.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FCF18F45-89D5-4394-9339-323DBA235147__GUID-C286A016-5E2B-46D0-AEF7-E1C05D5645CF">Examples</p>
                     <p>The following example creates a topology named <code class="codeph">CITY_DATA</code>. The spatial geometries in this topology have a tolerance value of 0.5 and use the <code class="codeph">WGS 84</code> coordinate system (longitude and latitude, SRID value 8307). (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.CREATE_TOPOLOGY('CITY_DATA', 0.5, 8307);</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL827"></a><div class="props_rev_3"><a id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56" name="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56"></a><h3 id="TOPOL-GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56" class="sect3"><span class="enumeration_section">3.3 </span>SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-2F0B7467-E3AA-429A-BFD3-F446ACAAD7E6">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology    IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  table_name  IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  column_name IN VARCHAR2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-B6EED532-9BF1-47AD-8C9D-2B3C4711A963">Description</p>
                     <p>Deletes a topology geometry layer from a topology.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-CA4666D9-A7C5-441A-8A69-A521A2691306">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-70ADF56C-8DA6-4E36-AB2B-23CAB12B1700">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Topology from which to delete the topology geometry layer containing the topology geometries in the specified column. The topology must have been created using the <a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-58942AC7-17BF-4423-B29C-DBD0ECCF2149">
                              <!-- --></a>table_name
                        </dt>
                        <dd>
                           <p>Name of the table containing the column specified in <code class="codeph">column_name</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-C6205E2A-E7AE-40F0-A6DF-51A57795747A">
                              <!-- --></a>column_name
                        </dt>
                        <dd>
                           <p>Name of the column containing the topology geometries in the topology geometry layer to be deleted from the topology.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-6DBD4438-5636-4578-89E6-1BB8BECE4CB8">Usage Notes</p>
                     <p>This procedure deletes data associated with the specified topology geometry layer from the &lt;topology-name&gt;_RELATION$ table (described in <a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">Relationship Information Table</a>). If this procedure is deleting the only remaining topology geometry layer from the topology, it also deletes the &lt;topology-name&gt;_RELATION$ table.
                     </p>
                     <p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56__GUID-9150F383-98D6-4B5F-B250-3078A0CCA846">Examples</p>
                     <p>The following example deletes the topology geometry layer that is based on the geometries in the FEATURE column of the LAND_PARCELS table from the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER('CITY_DATA', 'LAND_PARCELS', 'FEATURE');</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL828"></a><div class="props_rev_3"><a id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559" name="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559"></a><h3 id="TOPOL-GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559" class="sect3"><span class="enumeration_section">3.4 </span>SDO_TOPO.DROP_TOPOLOGY
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559__GUID-FC704BC7-7CC1-484C-A825-2533ABDBCFDC">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.DROP_TOPOLOGY(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology  IN VARCHAR2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559__GUID-405D0772-43BE-4639-AB0E-735D7DC21953">Description</p>
                     <p>Deletes a topology.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559__GUID-D4F0C6ED-825A-4436-8EE7-8749086DC713">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559__GUID-86CC072D-63F4-4241-82AB-EE9F3F1C0876">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Name of the topology to be deleted. The topology must have been created using the <a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559__GUID-5F06E252-759C-4517-A178-71B661BE2A63">Usage Notes</p>
                     <p>This procedure deletes the &lt;topology-name&gt;_EDGE$, &lt;topology-name&gt;_NODE$, &lt;topology-name&gt;_FACE$, &lt;topology-name&gt;_NODE$, &lt;topology-name&gt;_RELATION$, and &lt;topology-name&gt;_HISTORY$ tables (described in <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="To use the Spatial and Graph topology capabilities, you must first insert data into special edge, node, and face tables, which are created by Spatial and Graph when you create a topology.">Topology Data Model Tables</a>).
                     </p>
                     <p>If there are no topology layers associated with the topology, the topology is removed from the Spatial and Graph metadata.</p>
                     <p>This procedure automatically performs a commit operation, and therefore it cannot be rolled back.</p>
                     <p>A database user that owns a topology cannot be deleted. Therefore, before you can use the DROP USER ... CASCADE statement on a database user that owns a topology, you must connect as that user and execute the SDO_TOPO.DROP_TOPOLOGY procedure.</p>
                     <p>An exception is raised if the topology contains any topology geometries from any topology geometry layers. If you encounter this exception, delete all topology geometry layers in the topology using the <a href="SDO_TOPO-reference.html#GUID-DADC4BCA-1BF9-4EE8-8F56-95BFE0865F56">SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER</a> procedure for each topology geometry layer, and then drop the topology.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-87D033E1-F0BC-4360-94AE-B7671AC3E559__GUID-AF7D3DFA-9584-468D-ABAE-83ACEB0469D1">Examples</p>
                     <p>The following example drops the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.DROP_TOPOLOGY('CITY_DATA');</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL829"></a><div class="props_rev_3"><a id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4" name="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4"></a><h3 id="TOPOL-GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4" class="sect3"><span class="enumeration_section">3.5 </span>SDO_TOPO.GET_FACE_BOUNDARY
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-61361863-E96D-4BD9-8E9C-D46520FB92B1">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.GET_FACE_BOUNDARY(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology   IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  face_id    IN NUMBER, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  all_edges  IN VARCHAR2 DEFAULT 'FALSE' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
) RETURN SDO_LIST_TYPE;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-9A309F7F-952F-4AD2-80CA-023F8D2ED2A3">Description</p>
                     <p>Returns a list of the signed ID numbers of the edges for the specified face.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-64CD8F04-9C27-482C-92FE-F6A00FB47C0C">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-118E31FB-9D7D-4E37-A28A-BC47028BF809">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Name of the topology that contains the face. Must not exceed 20 characters.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-1A525537-C19B-4275-A6DC-47556AF5230D">
                              <!-- --></a>face_id
                        </dt>
                        <dd>
                           <p>Face ID value of the face.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-F59AD255-2B60-42D5-A166-6ADC50E8EC91">
                              <!-- --></a>all_edges
                        </dt>
                        <dd>
                           <p><code class="codeph">TRUE</code> includes all edges that bound the face (that is, that have the face on one or both sides); <code class="codeph">FALSE</code> (the default) includes only edges that constitute the external boundary of the face. (See the examples for this function.)
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-6AC37E76-8ABF-4B84-A507-7EDA2B6C488A">Usage Notes</p>
                     <p>None.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2C7CEBC7-1284-4F7C-9BEC-DD3DB40680C4__GUID-A824DCA1-2A1B-4AB2-8E4A-F355899A86D7">Examples</p>
                     <p>The following examples return the ID numbers of the edges for the face whose face ID value is 1. The first example accepts the default value of '<code class="codeph">FALSE'</code> for the <code class="codeph">all_edges</code> parameter. The second example specifies <code class="codeph">'TRUE'</code> for <code class="codeph">all_edges</code>, and the list includes the ID numbers of the boundary edge and the two isolated edges on the face. (The examples refer to definitions and data from <a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="This topic presents simplified PL/SQL examples that perform Topology Data Model operations.">Topology Examples (PL/SQL)</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">-- Get the boundary of face with face_id 1.
SELECT SDO_TOPO.GET_FACE_BOUNDARY('CITY_DATA', 1) FROM DUAL;
 
SDO_TOPO.GET_FACE_BOUNDARY('CITY_DATA',1)                                       
--------------------------------------------------------------------------------
SDO_LIST_TYPE(1)                                                                
 
-- Specify 'TRUE' for the all_edges parameter.
SELECT SDO_TOPO.GET_FACE_BOUNDARY('CITY_DATA', 1, 'TRUE') FROM DUAL;
 
SDO_TOPO.GET_FACE_BOUNDARY('CITY_DATA',1,'TRUE')                                
--------------------------------------------------------------------------------
SDO_LIST_TYPE(1, -26, 25)</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL830"></a><div class="props_rev_3"><a id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C" name="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C"></a><h3 id="TOPOL-GUID-697D0367-D5AF-498A-8AFE-08CFB486627C" class="sect3"><span class="enumeration_section">3.6 </span>SDO_TOPO.GET_TOPO_OBJECTS
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-5FFD8CA8-185B-4C0D-8EA5-7C877B001C55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.GET_TOPO_OBJECTS(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology  IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  geometry  IN SDO_GEOMETRY &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
) RETURN SDO_TOPO_OBJECT_ARRAY;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.GET_TOPO_OBJECTS(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology               IN VARCHAR2, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topo_geometry_layer_id IN NUMBER, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topo_geometry_id       IN NUMBER &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
) RETURN SDO_TOPO_OBJECT_ARRAY;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-B7A4F058-F739-4B66-8158-6D531A70367C">Description</p>
                     <p>Returns an array of SDO_TOPO_OBJECT objects that interact with a specified geometry object or topology geometry object.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-FF583725-C1B5-4701-BC23-4365228631E6">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-D495E392-42A9-4882-B4B5-CD70852A544A">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Name of the topology. Must not exceed 20 characters.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-A7ABF3E0-C6F1-4277-92F6-5C45501F1301">
                              <!-- --></a>geometry
                        </dt>
                        <dd>
                           <p>Geometry object to be checked.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-822792AA-3DB4-4219-9132-BB1634570AB1">
                              <!-- --></a>topo_geometry_layer_id
                        </dt>
                        <dd>
                           <p>ID number of the topology geometry layer that contains the topology geometry object to be checked.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-B655AB42-5C18-4B78-B152-1A664EA46F15">
                              <!-- --></a>topo_geometry_id
                        </dt>
                        <dd>
                           <p>ID number of the topology geometry object to be checked.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-C9989C7A-D376-4DCE-9AFF-287399DA58FB">Usage Notes</p>
                     <p>The SDO_TOPO_OBJECT_ARRAY data type is described in <a href="topology-data-model-overview.html#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514">Constructors for Insert Operations: Specifying Topological Elements</a>.
                     </p>
                     <p>For a topology that has a topology geometry layer hierarchy, this function works for all levels of the hierarchy, and it always returns the leaf-level (lowest-level) objects. (Topology geometry layer hierarchy is explained in <a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F" title="In some topologies, the topology geometry layers (feature layers) have one or more parent-child relationships in a topology hierarchy. That is, the layer at the topmost level consists of features in its child layer at the next level down in the hierarchy; the child layer might consist of features in its child layer at the next layer farther down; and so on.">Topology Geometry Layer Hierarchy</a>.)
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-697D0367-D5AF-498A-8AFE-08CFB486627C__GUID-E31265A5-8DAE-40CB-B7A9-88F0DC8B6208">Examples</p>
                     <p>The following example returns the topology geometry objects that interact with land parcel P2 in the <code class="codeph">CITY_DATA</code> topology. (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">-- CITY_DATA layer, land parcels (topo_geometry_ layer_id = 1), 
-- parcel P2 (topo_geometry_id = 2)
SELECT SDO_TOPO.GET_TOPO_OBJECTS('CITY_DATA', 1, 2) FROM DUAL;
 
SDO_TOPO.GET_TOPO_OBJECTS('CITY_DATA',1,2)(TOPO_ID, TOPO_TYPE)                  
--------------------------------------------------------------------------------
SDO_TOPO_OBJECT_ARRAY(SDO_TOPO_OBJECT(9, 1), SDO_TOPO_OBJECT(10, 1), SDO_TOPO_OB
JECT(13, 1), SDO_TOPO_OBJECT(14, 1), SDO_TOPO_OBJECT(17, 1), SDO_TOPO_OBJECT(18,
 1), SDO_TOPO_OBJECT(6, 2), SDO_TOPO_OBJECT(7, 2), SDO_TOPO_OBJECT(8, 2), SDO_TO
PO_OBJECT(9, 2), SDO_TOPO_OBJECT(10, 2), SDO_TOPO_OBJECT(11, 2), SDO_TOPO_OBJECT
(12, 2), SDO_TOPO_OBJECT(13, 2), SDO_TOPO_OBJECT(14, 2), SDO_TOPO_OBJECT(17, 2),
 SDO_TOPO_OBJECT(18, 2), SDO_TOPO_OBJECT(19, 2), SDO_TOPO_OBJECT(20, 2), SDO_TOP
O_OBJECT(-6, 2), SDO_TOPO_OBJECT(-7, 2), SDO_TOPO_OBJECT(-8, 2), SDO_TOPO_OBJECT
(-9, 2), SDO_TOPO_OBJECT(-10, 2), SDO_TOPO_OBJECT(-11, 2), SDO_TOPO_OBJECT(-12, 
2), SDO_TOPO_OBJECT(-13, 2), SDO_TOPO_OBJECT(-14, 2), SDO_TOPO_OBJECT(-17, 2), S
DO_TOPO_OBJECT(-18, 2), SDO_TOPO_OBJECT(-19, 2), SDO_TOPO_OBJECT(-20, 2), SDO_TO
PO_OBJECT(-1, 3), SDO_TOPO_OBJECT(3, 3), SDO_TOPO_OBJECT(4, 3), SDO_TOPO_OBJECT(
5, 3), SDO_TOPO_OBJECT(6, 3), SDO_TOPO_OBJECT(7, 3), SDO_TOPO_OBJECT(8, 3)) </pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL831"></a><div class="props_rev_3"><a id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC" name="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC"></a><h3 id="TOPOL-GUID-3C5C023B-079D-4225-802B-CE9B952D82DC" class="sect3"><span class="enumeration_section">3.7 </span>SDO_TOPO.INITIALIZE_AFTER_IMPORT
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC__GUID-D4444904-E197-472C-8B65-F06B27A7E973">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.INITIALIZE_AFTER_IMPORT(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology  IN VARCHAR2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC__GUID-6725B143-C47C-4C3A-B6A4-D181F1CFE91B">Description</p>
                     <p>Creates (initializes) a topology that was imported from another database.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC__GUID-BCE395E9-1560-420B-980A-D7347B4FA608">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC__GUID-4CFF5C96-DEAE-4DF7-BC01-FA0423EDAE02">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Name of the topology to be created. The topology must have been exported from a source database.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC__GUID-D058952E-A4F7-446C-875F-305C58C1BDC2">Usage Notes</p>
                     <p>This procedure creates the specified topology and all related database structures, adjusts (if necessary) the topology ID values in all feature tables, and creates the feature layers in the correct order.</p>
                     <p>Before calling this procedure, connect to the database as the user for the schema that is to own the topology to be created.</p>
                     <p>You must use this procedure after following all other required steps for exporting and importing the topology, as explained in <a href="topology-data-model-overview.html#GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70" title="You can export a topology from one database and import it into a new topology with the same name, structures, and data in another database, as long as the target database does not already contain a topology with the same name as the exported topology.">Exporting and Importing Topology Data</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3C5C023B-079D-4225-802B-CE9B952D82DC__GUID-BD34FEA6-64FD-4A2D-B61C-ECCEBE55EE36">Examples</p>
                     <p>The following example creates the topology named <code class="codeph">CITY_DATA</code>, using information from the imported tables, including CITY_DATA_EXP$. (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.INITIALIZE_AFTER_IMPORT('CITY_DATA');</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL832"></a><div class="props_rev_3"><a id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1" name="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1"></a><h3 id="TOPOL-GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1" class="sect3"><span class="enumeration_section">3.8 </span>SDO_TOPO.INITIALIZE_METADATA
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1__GUID-19B58BB2-A27F-45D8-9EEA-94FA7BDC0AEA">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.INITIALIZE_METADATA(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology  IN VARCHAR2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1__GUID-5C091D87-162A-4ADA-858E-136395F4F370">Description</p>
                     <p>Initializes the topology metadata: sets sequence information for the node, edge, and face tables, and creates (or re-creates) required indexes on these tables.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1__GUID-BED96A35-F27F-4430-BCFB-F92A4D17C71B">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1__GUID-1A1A2941-8C0C-41BA-86C8-7533890599DA">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Name of the topology for which to initialize the sequences. The topology must have been created using the <a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1__GUID-B7EC22E3-86FF-44DA-B368-C2E53D1B91C7">Usage Notes</p>
                     <p>You should run this procedure after loading data into the node, edge, or face tables, to initialize the sequences for these tables with numeric values 2 higher than the highest ID values stored in those tables. This ensures that no attempt is made to reuse the unique ID values in these tables. (The node, edge, and face tables are described in <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="To use the Spatial and Graph topology capabilities, you must first insert data into special edge, node, and face tables, which are created by Spatial and Graph when you create a topology.">Topology Data Model Tables</a>.)
                     </p>
                     <p>This procedure creates spatial indexes on the geometry or MBR geometry columns in the node, edge, and face tables. If the indexes were dropped before a bulk load operation, running this procedure after the bulk load will re-create these indexes.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1__GUID-8D13804C-489B-4ACA-B3D4-E324FB65F5CE">Examples</p>
                     <p>The following example initializes the metadata for the topology named <code class="codeph">CITY_DATA</code>. (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.INITIALIZE_METADATA('CITY_DATA');</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL833"></a><div class="props_rev_3"><a id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB" name="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB"></a><h3 id="TOPOL-GUID-F49486FC-1125-4C51-8F23-4E8332C935AB" class="sect3"><span class="enumeration_section">3.9 </span>SDO_TOPO.PREPARE_FOR_EXPORT
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB__GUID-A0211390-49EF-4886-A694-EE729BB05A9D">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.PREPARE_FOR_EXPORT(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  topology  IN VARCHAR2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB__GUID-BC384C15-D1A3-4F56-A2DB-A912A3451036">Description</p>
                     <p>Prepares a topology to be exported to another database.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB__GUID-64A7DDE2-E0A5-4A86-BAD3-774308378B9D">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB__GUID-F63BB309-B3AF-41C3-A816-8BC3E8746FE0">
                              <!-- --></a>topology
                        </dt>
                        <dd>
                           <p>Name of the topology to be prepared for export. The topology must have been created using the <a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a> procedure.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB__GUID-5FEFB157-DA65-4836-848C-FF00970E14EE">Usage Notes</p>
                     <p>This procedure prepares the specified topology in the current database (the source database) to be exported to another database (the target database).</p>
                     <p>This procedure creates a table in the current schema with a table name in the format &lt;topology-name&gt;_EXP$. This table contains the same columns as the USER_SDO_TOPO_INFO and ALL_SDO_TOPO_INFO views. These columns are described in <a href="topology-data-model-overview.html#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67__BABFBAFF" title="Columns in the xxx_SDO_TOPO_INFO Views">Table 1-8</a> in <a href="topology-data-model-overview.html#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67">xxx_SDO_TOPO_INFO Views</a>.
                     </p>
                     <p>Before calling this procedure, connect to the database as the owner of the topology.</p>
                     <p>For information about exporting and importing topologies, including the steps to be followed, see <a href="topology-data-model-overview.html#GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70" title="You can export a topology from one database and import it into a new topology with the same name, structures, and data in another database, as long as the target database does not already contain a topology with the same name as the exported topology.">Exporting and Importing Topology Data</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F49486FC-1125-4C51-8F23-4E8332C935AB__GUID-5E5271BD-CFE6-4E87-8385-A14264B20F8F">Examples</p>
                     <p>The following example prepares the topology named <code class="codeph">CITY_DATA</code> for export to a target database. (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">Topology Built from Topology Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.PREPARE_FOR_EXPORT('CITY_DATA');</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL834"></a><div class="props_rev_3"><a id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7" name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7"></a><h3 id="TOPOL-GUID-2131609B-F033-4712-9EA5-FC04B466DEF7" class="sect3"><span class="enumeration_section">3.10 </span>SDO_TOPO.RELATE
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-B935359A-A876-406F-9C3D-93094E5877B2">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.RELATE(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  geom1  IN SDO_TOPO_GEOMETRY, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  geom2  IN SDO_TOPO_GEOMETRY, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  mask   IN VARCHAR2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
) RETURN VARCHAR2;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.RELATE(
  feature1  IN SDO_TOPO_GEOMETRY,
  feature2  IN SDO_GEOMETRY,
  mask      IN VARCHAR2
) RETURN VARCHAR2;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO.RELATE(
  geom            IN SDO_TOPO_GEOMETRY,
  topo_elem_array IN SDO_TOPO_OBJECT_ARRAY,
  mask            IN VARCHAR2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
) RETURN VARCHAR2;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-7ED920F1-00A9-40BE-991A-E49BBB4438CD">Description</p>
                     <p>Examines two topology geometry objects, or a topology geometry and a spatial geometry, or a topology geometry and a topology object array (SDO_TOPO_OBJECT_ARRAY object), to determine their spatial relationship.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-6A7B99E5-45BC-4C61-A523-E505BE1F7902">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-20DB5EC4-5D7E-41D9-A2E0-25FE33A3811D">
                              <!-- --></a>geom1
                        </dt>
                        <dd>
                           <p>Topology geometry object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-5B20FA2C-440D-45C9-91F9-0C2F0C61A349">
                              <!-- --></a>geom2
                        </dt>
                        <dd>
                           <p>Topology geometry object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-E4761D8F-AB27-4FD0-92E8-8BC212C6D447">
                              <!-- --></a>feature1
                        </dt>
                        <dd>
                           <p>Topology geometry object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-AF4CCD45-D50D-4491-B4A1-31081EADB8CD">
                              <!-- --></a>feature2
                        </dt>
                        <dd>
                           <p>Spatial geometry object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-7C215825-C76E-4ED8-8EEE-2491892DC93F">
                              <!-- --></a>geom
                        </dt>
                        <dd>
                           <p>Topology geometry object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-93D6AF94-B9E8-40EB-B179-6571B45E265C">
                              <!-- --></a>topo_elem_array
                        </dt>
                        <dd>
                           <p>Topology object array (of type SDO_TOPO_OBJECT_ARRAY, which is described in <a href="topology-data-model-overview.html#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514">Constructors for Insert Operations: Specifying Topological Elements</a>).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-844EC6AA-932D-4EA8-858F-3D32FA2E10A0">
                              <!-- --></a>mask
                        </dt>
                        <dd>
                           <p>Specifies one or more relationships to check. See the list of keywords in the Usage Notes.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-5B9B7096-816D-40E2-9C3C-1953137F612E">Usage Notes</p>
                     <p>The topology operators (described in <a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C">Topology Operators</a>) provide better performance than the SDO_TOPO.RELATE function if you are checking a large number of objects; however, if you are checking just two objects or a small number, the SDO_TOPO.RELATE function provides better performance. In addition, sometimes you may need to use the SDO_TOPO.RELATE function instead of a topology operator. For example, you cannot specify the DETERMINE mask keyword with the topology operators.
                     </p>
                     <p>The following keywords can be specified in the <code class="codeph">mask</code> parameter to determine the spatial relationship between two objects:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>ANYINTERACT: Returns TRUE if the objects are not disjoint. </p>
                        </li>
                        <li>
                           <p>CONTAINS: Returns TRUE if the second object is entirely within the first object and the object boundaries do not touch; otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>COVEREDBY: Returns TRUE if the first object is entirely within the second object and the object boundaries touch at one or more points; otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>COVERS: Returns TRUE if the second object is entirely within the first object and the boundaries touch in one or more places; otherwise, returns FALSE. </p>
                        </li>
                        <li>
                           <p>DETERMINE: Returns the one relationship keyword that best matches the geometries. </p>
                        </li>
                        <li>
                           <p>DISJOINT: Returns TRUE if the objects have no common boundary or interior points; otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>EQUAL: Returns TRUE if the objects share every point of their boundaries and interior, including any holes in the objects; otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>INSIDE: Returns TRUE if the first object is entirely within the second object and the object boundaries do not touch; otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>ON: Returns TRUE if the boundary and interior of a line (the first object) is completely on the boundary of a polygon (the second object); otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>OVERLAPBDYDISJOINT: Returns TRUE if the objects overlap, but their boundaries do not interact; otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>OVERLAPBDYINTERSECT: Returns TRUE if the objects overlap, and their boundaries intersect in one or more places; otherwise, returns FALSE.</p>
                        </li>
                        <li>
                           <p>TOUCH: Returns TRUE if the two objects share a common boundary point, but no interior points; otherwise, returns FALSE. </p>
                        </li>
                     </ul>
                     <p>Values for <code class="codeph">mask</code> (except for DETERMINE) can be combined using the logical Boolean operator OR. For example, 'INSIDE + TOUCH' returns the string TRUE or FALSE depending on the outcome of the test.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2131609B-F033-4712-9EA5-FC04B466DEF7__GUID-56B5D80A-F119-4C87-B2C2-CCF37ADA5085">Examples</p>
                     <p>The following example finds whether or not the ANYINTERACT relationship exists between each topology geometry object in the CITY_STREETS table and the <code class="codeph">P3</code> land parcel (that is, which streets interact with that land parcel). (The example refers to definitions and data from <a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="This topic presents simplified PL/SQL examples that perform Topology Data Model operations.">Topology Examples (PL/SQL)</a>. The output is reformatted for readability.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.feature_name,
  SDO_TOPO.RELATE(c.feature, l.feature, 'anyinteract') Any_Interaction
  FROM city_streets c, land_parcels l WHERE l.feature_name = 'P3';
 
FEATURE_NAME  ANY_INTERACTION                                                                     
------------  ---------------        
R1            TRUE
R2            FALSE                
R3            FALSE                            
R4            FALSE
</pre><p>The following example finds whether or not the ANYINTERACT relationship exists between each topology geometry object in the CITY_STREETS table and an SDO_TOPO_OBJECT_ARRAY object that happens to be identical to the land parcel feature named P3. (This example uses definitions and data from <a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="This topic presents simplified PL/SQL examples that perform Topology Data Model operations.">Topology Examples (PL/SQL)</a>.) The output is identical to that in the preceding example, and is reformatted for readability.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.feature_name, 
  SDO_TOPO.RELATE(c.feature,
    SDO_TOPO_OBJECT_ARRAY (SDO_TOPO_OBJECT (5, 3), SDO_TOPO_OBJECT (8, 3)), 
    'anyinteract') Any_Interaction 
  FROM city_streets c, land_parcels l WHERE l.feature_name = 'P3';
 
FEATURE_NAME  ANY_INTERACTION                                                                     
------------  ---------------        
R1            TRUE
R2            FALSE                
R3            FALSE                            
R4            FALSE</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="The MDSYS.SDO_TOPO package contains subprograms (functions and procedures) that constitute part of the PL/SQL application programming interface (API) for the Spatial and Graph Topology Data Model feature. This package mainly contains subprograms for creating and managing topologies.">SDO_TOPO Package Subprograms</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='00566.jms-point-to-point.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Java Message Service Point-to-Point</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="jms-basic-operation.html" title="Previous" type="text/html">
      <link rel="next" href="jms-publish-subscribe.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-basic-operation.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="jms-publish-subscribe.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Java Message Service Point-to-Point</li>
            </ol>
            <a id="GUID-B9B45B9C-86F2-4FCD-8EFE-B24D21451693" name="GUID-B9B45B9C-86F2-4FCD-8EFE-B24D21451693"></a><a id="ADQUE1300"></a>
            
            <h2 id="ADQUE-GUID-B9B45B9C-86F2-4FCD-8EFE-B24D21451693" class="sect2"><span class="enumeration_chapter">13 </span> Oracle Java Message Service Point-to-Point
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe the components of the Oracle Database Advanced Queuing (AQ) <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java Message Service</span></a> (JMS) operational interface that are specific to point-to-point operations. Components that are shared by point-to-point and publish/subscribe are described in <a href="jms-shared-interfaces.html#GUID-B53CE112-EBD2-48FD-BC3B-1090F5E29BD0"> Oracle Java Message Service Shared Interfaces</a>.
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC">Creating a Connection with User Name/Password</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD">Creating a Connection with Default ConnectionFactory Parameters</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459">Creating a QueueConnection with User Name/Password</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B">Creating a QueueConnection with an Open JDBC Connection </a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332">Creating a QueueConnection with Default ConnectionFactory Parameters </a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3">Creating a QueueConnection with an Open OracleOCIConnectionPool </a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-B555FE46-E029-4961-8AEE-DA8C3415C192">Creating a Session</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919">Creating a QueueSession</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F">Creating a QueueSender</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B">Sending Messages Using a QueueSender with Default Send Options </a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA">Sending Messages Using a QueueSender by Specifying Send Options </a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA">Creating a QueueBrowser for Standard JMS Type Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1">Creating a QueueBrowser for Standard JMS Type Messages_ Locking Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9">Creating a QueueBrowser for Oracle Object Type Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9">Creating a QueueBrowser for Oracle Object Type Messages_ Locking Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-30DF26F0-8284-4291-9662-1B11968E15AA">Creating a QueueReceiver for Standard JMS Type Messages</a></p>
                  </li>
                  <li>
                     <p><a href="jms-point-to-point.html#GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1">Creating a QueueReceiver for Oracle Object Type Messages</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3006"></a><div class="props_rev_3"><a id="GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC" name="GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC"></a><h3 id="ADQUE-GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC" class="sect3"><span class="enumeration_section">13.1 </span>Creating a Connection with User Name/Password
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Connection createConnection(
             java.lang.String username,
             java.lang.String password)
      throws JMSException
</pre><p>This method creates a connection supporting both point-to-point and publish/subscribe operations with the specified user name and password. This method is new and supports JMS version 1.1 specifications. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-259F7C12-A393-454D-A2A8-52B28B10B7CC__GUID-E1279112-1B51-47CB-A4B6-7543F6CCB6E6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e206">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e209">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e214" headers="d85658e206 ">
                                    <p><code class="codeph">username</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e214 d85658e209 ">
                                    <p>Name of the user connecting to the database for queuing</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e222" headers="d85658e206 ">
                                    <p><code class="codeph">password</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e222 d85658e209 ">
                                    <p>Password for creating the connection to the server</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3007"></a><div class="props_rev_3"><a id="GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD" name="GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD"></a><h3 id="ADQUE-GUID-A0281EBD-B453-42F6-9C8D-1D7C425276CD" class="sect3"><span class="enumeration_section">13.2 </span>Creating a Connection with Default ConnectionFactory Parameters
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Connection createConnection()
      throws JMSException
</pre><p>This method creates a connection supporting both point-to-point and publish/subscribe operations with default <a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a> parameters. This method is new and supports JMS version 1.1 specifications. If the <code class="codeph">ConnectionFactory</code> properties do not contain a default user name and password, then it throws a JMSException.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3009"></a><a id="ADQUE3008"></a><div class="props_rev_3"><a id="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459" name="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459"></a><h3 id="ADQUE-GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459" class="sect3"><span class="enumeration_section">13.3 </span>Creating a QueueConnection with User Name/Password
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueConnection createQueueConnection(
             java.lang.String username,
             java.lang.String password)
      throws JMSException
</pre><p>This method creates a <a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">queue</span></a> connection with the specified user name and password. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459__GUID-DFC0C21C-0FCC-4134-8CA4-2282931C7EAD">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e368">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e371">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e376" headers="d85658e368 ">
                                    <p><code class="codeph">username</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e376 d85658e371 ">
                                    <p>Name of the user connecting to the database for queuing</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e384" headers="d85658e368 ">
                                    <p><code class="codeph">password</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e384 d85658e371 ">
                                    <p>Password for creating the connection to the server</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FFD4E5B3-9CB8-4A22-BD06-5CC961762459__GUID-B394BDC8-2A48-49B9-BEB4-03179EB63ABD">
                     <p class="titleinexample">Example 13-1 Creating a QueueConnection with User Name/Password</p><pre class="oac_no_warn" dir="ltr">QueueConnectionFactory qc_fact = AQjmsFactory.getQueueConnectionFactory(
   "sun123", "oratest", 5521, "thin");
QueueConnection qc_conn = qc_fact.createQueueConnection("jmsuser", "jmsuser");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3011"></a><a id="ADQUE3012"></a><a id="ADQUE3010"></a><div class="props_rev_3"><a id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B" name="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B"></a><h3 id="ADQUE-GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B" class="sect3"><span class="enumeration_section">13.4 </span>Creating a QueueConnection with an Open JDBC Connection 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnection createQueueConnection(
   java.sql.Connection jdbc_connection)
   throws JMSException
</pre><p>This method creates a queue connection with an open JDBC connection. It is static and has the following parameter:</p>
                     <div class="tblformal" id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__GUID-9B7D30E8-CF9F-499A-A2F8-A4BC0582C886">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e464">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e467">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e472" headers="d85658e464 ">
                                    <p><code class="codeph">jdbc_connection</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e472 d85658e467 ">
                                    <p>Valid open connection to the database</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The method in <a href="jms-point-to-point.html#GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCJCDF">Example 13-2</a> can be used if the user wants to use an existing JDBC connection (say from a connection pool) for JMS operations. In this case JMS does not open a new connection, but instead uses the supplied JDBC connection to create the JMS <code class="codeph">QueueConnection</code> object.
                     </p>
                     <p>The method in <a href="jms-point-to-point.html#GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCHGJJ">Example 13-3</a> is the only way to create a JMS <code class="codeph">QueueConnection</code> when using JMS from a Java stored procedures inside the database (JDBC Server driver)
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCJCDF">
                     <p class="titleinexample">Example 13-2 Creating a QueueConnection with an Open JDBC Connection</p><pre class="oac_no_warn" dir="ltr">Connection db_conn;     /* previously opened JDBC connection */
QueueConnection qc_conn = AQjmsQueueConnectionFactory.createQueueConnection(
           db_conn);
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1EEA21E3-3107-4C0F-A574-C161383DC54B__CHDCHGJJ">
                     <p class="titleinexample">Example 13-3 Creating a QueueConnection from a Java Procedure Inside Database</p><pre class="oac_no_warn" dir="ltr">OracleDriver ora = new OracleDriver();
QueueConnection qc_conn = AQjmsQueueConnectionFactory.createQueueConnection(ora.defaultConnection());</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3013"></a><div class="props_rev_3"><a id="GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332" name="GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332"></a><h3 id="ADQUE-GUID-48A8F5A3-6BE7-47A5-AAE8-23458E4BA332" class="sect3"><span class="enumeration_section">13.5 </span>Creating a QueueConnection with Default ConnectionFactory Parameters 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueConnection createQueueConnection()
      throws JMSException
</pre><p>This method creates a queue connection with default <a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a> parameters. If the queue connection factory properties do not contain a default user name and password, then it throws a JMSException.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3015"></a><a id="ADQUE3014"></a><div class="props_rev_3"><a id="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3" name="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3"></a><h3 id="ADQUE-GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3" class="sect3"><span class="enumeration_section">13.6 </span>Creating a QueueConnection with an Open OracleOCIConnectionPool 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnection createQueueConnection(
          oracle.jdbc.pool.OracleOCIConnectionPool cpool)
   throws JMSException
</pre><p>This method creates a queue connection with an open <code class="codeph">OracleOCIConnectionPool</code>. It is static and has the following parameter:
                     </p>
                     <div class="tblformal" id="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3__GUID-FF42E8FD-24FA-4F02-A635-8F35219EB082">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e636">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e639">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e644" headers="d85658e636 ">
                                    <p><code class="codeph">cpool</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e644 d85658e639 ">
                                    <p>Valid open OCI connection pool to the database</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The method in <a href="jms-point-to-point.html#GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3__CHDDFEHD">Example 13-4</a> can be used if the user wants to use an existing <code class="codeph">OracleOCIConnectionPool</code> instance for JMS operations. In this case JMS does not open an new <code class="codeph">OracleOCIConnectionPool</code> instance, but instead uses the supplied <code class="codeph">OracleOCIConnectionPool</code> instance to create the JMS QueueConnection object.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F28796A2-F7DD-4D1A-95B0-E1B6B8E1F6D3__CHDDFEHD">
                     <p class="titleinexample">Example 13-4 Creating a QueueConnection with an Open OracleOCIConnectionPool</p><pre class="oac_no_warn" dir="ltr">OracleOCIConnectionPool cpool; /* previously created OracleOCIConnectionPool */
QueueConnection qc_conn = AQjmsQueueConnectionFactory.createQueueConnection(cpool);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3016"></a><div class="props_rev_3"><a id="GUID-B555FE46-E029-4961-8AEE-DA8C3415C192" name="GUID-B555FE46-E029-4961-8AEE-DA8C3415C192"></a><h3 id="ADQUE-GUID-B555FE46-E029-4961-8AEE-DA8C3415C192" class="sect3"><span class="enumeration_section">13.7 </span>Creating a Session
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Session createSession(boolean transacted,
                                                 int ack_mode)
                                          throws JMSException
</pre><p>This method creates a <code class="codeph">Session</code>, which supports both point-to-point and publish/subscribe operations. This method is new and supports JMS version 1.1 specifications. Transactional and <a href="glossary.html#GUID-D93C8E9C-D211-4780-B671-CBA864C62E5A"><span class="xrefglossterm">nontransactional</span></a> sessions are supported. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-B555FE46-E029-4961-8AEE-DA8C3415C192__GUID-84079F6B-18C0-49B0-95B9-4AFFDFC1B402">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e746">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e749">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e754" headers="d85658e746 ">
                                    <p><code class="codeph">transacted</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e754 d85658e749 ">
                                    <p>If set to true, then the session is <a href="glossary.html#GUID-4956C594-EE49-498B-A9DD-7371518B4EBA"><span class="xrefglossterm">transactional</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e765" headers="d85658e746 ">
                                    <p><code class="codeph">ack_mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e765 d85658e749 ">
                                    <p>Indicates whether the consumer or the client will acknowledge any messages it receives. It is ignored if the session is transactional. Legal values are <code class="codeph">Session.AUTO_ACKNOWLEDGE</code>, <code class="codeph">Session.CLIENT_ACKNOWLEDGE</code>, and <code class="codeph">Session.DUPS_OK_ACKNOWLEDGE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3018"></a><a id="ADQUE3017"></a><div class="props_rev_3"><a id="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919" name="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919"></a><h3 id="ADQUE-GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919" class="sect3"><span class="enumeration_section">13.8 </span>Creating a QueueSession
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueSession createQueueSession(
   boolean transacted, int ack_mode)
        throws JMSException
</pre><p>This method creates a <code class="codeph">QueueSession</code>. Transactional and nontransactional sessions are supported. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919__GUID-7A0A4285-27BC-45BD-973A-649C137C7087">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e851">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e854">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e859" headers="d85658e851 ">
                                    <p><code class="codeph">transacted</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e859 d85658e854 ">
                                    <p>If set to true, then the session is <a href="glossary.html#GUID-4956C594-EE49-498B-A9DD-7371518B4EBA"><span class="xrefglossterm">transactional</span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e870" headers="d85658e851 ">
                                    <p><code class="codeph">ack_mode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e870 d85658e854 ">
                                    <p>Indicates whether the consumer or the client will acknowledge any messages it receives. It is ignored if the session is transactional. Legal values are <code class="codeph">Session.AUTO_ACKNOWLEDGE</code>, <code class="codeph">Session.CLIENT_ACKNOWLEDGE</code>, and <code class="codeph">Session.DUPS_OK_ACKNOWLEDGE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D96EEBAA-53C9-49E4-93AF-8A9F75C86919__GUID-FAEF0774-EB72-4D47-A649-42BE07B8AFD8">
                     <p class="titleinexample">Example 13-5 Creating a Transactional QueueSession</p><pre class="oac_no_warn" dir="ltr">QueueConnection qc_conn;
QueueSession  q_sess = qc_conn.createQueueSession(true, 0);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3019"></a><div class="props_rev_3"><a id="GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F" name="GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F"></a><h3 id="ADQUE-GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F" class="sect3"><span class="enumeration_section">13.9 </span>Creating a QueueSender
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueSender createSender(javax.jms.Queue queue)
                                   throws JMSException
</pre><p>This method creates a <code class="codeph">QueueSender</code>. If a sender is created without a default queue, then the destination queue must be specified on every <a href="glossary.html#GUID-23702F6A-28F1-42D5-BBF6-CCFAACD2B784"><span class="xrefglossterm">send</span></a> operation. It has the following parameter:
                     </p>
                     <div class="tblformal" id="GUID-33102292-AAF5-40DC-AEF3-2F65CFF5947F__GUID-E54F7FAD-5450-491C-838D-04D2D3EC59AB">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e965">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e968">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e973" headers="d85658e965 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e973 d85658e968 ">
                                    <p>Name of destination queue</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3021"></a><a id="ADQUE3022"></a><a id="ADQUE3020"></a><div class="props_rev_3"><a id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B" name="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B"></a><h3 id="ADQUE-GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B" class="sect3"><span class="enumeration_section">13.10 </span>Sending Messages Using a QueueSender with Default Send Options 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void send(javax.jms.Queue queue,
                 javax.jms.Message message)
          throws JMSException
</pre><p>This method sends a <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a> using a <code class="codeph">QueueSender</code> with default send options. This operation uses default values for message <code class="codeph">priority</code> (<code class="codeph">1</code>) and <code class="codeph">timeToLive</code> (<code class="codeph">infinite</code>). It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B__GUID-BEA6A8E4-151B-439F-83D3-FA99696B53C5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1072">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1075">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1080" headers="d85658e1072 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1080 d85658e1075 ">
                                    <p>Queue to send this message to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1088" headers="d85658e1072 ">
                                    <p><code class="codeph">message</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1088 d85658e1075 ">
                                    <p>Message to send</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the <code class="codeph">QueueSender</code> has been created with a default queue, then the queue parameter may not necessarily be supplied in the <code class="codeph">send()</code> call. If a queue is specified in the <code class="codeph">send()</code> operation, then this value overrides the default queue of the <code class="codeph">QueueSender</code>.
                     </p>
                     <p>If the <code class="codeph">QueueSender</code> has been created without a default queue, then the queue parameter must be specified in every <code class="codeph">send()</code> call.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B__GUID-D979E279-A2E7-439E-998C-10B7192D1C4F">
                     <p class="titleinexample">Example 13-6 Creating a Sender to Send Messages to Any Queue</p><pre class="oac_no_warn" dir="ltr">/* Create a sender to send messages to any queue */
QueueSession  jms_sess;
QueueSender  sender1;
TextMessage  message;
sender1 = jms_sess.createSender(null); 
sender1.send(queue, message);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9F0F0893-2FDA-4582-AACF-A4CB47D9491B__GUID-22F5F95F-5274-404A-8D11-32E283EDE8C1">
                     <p class="titleinexample">Example 13-7 Creating a Sender to Send Messages to a Specific Queue</p><pre class="oac_no_warn" dir="ltr">/* Create a sender to send messages to a specific queue */
QueueSession jms_sess;
QueueSender sender2;
Queue   billed_orders_que;
TextMessage  message;
sender2 = jms_sess.createSender(billed_orders_que);
sender2.send(queue, message);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3024"></a><a id="ADQUE3025"></a><a id="ADQUE3023"></a><div class="props_rev_3"><a id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA" name="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA"></a><h3 id="ADQUE-GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA" class="sect3"><span class="enumeration_section">13.11 </span>Sending Messages Using a QueueSender by Specifying Send Options 
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public void send(javax.jms.Queue queue,
                 javax.jms.Message message,
                 int deliveryMode,
                 int priority,
                 long timeToLive)
          throws JMSException
</pre><p>This method sends messages using a <code class="codeph">QueueSender</code> by specifying send options. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA__GUID-FCEA11A8-2598-40DE-A30F-C1A87C4D633B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1202">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1205">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1210" headers="d85658e1202 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1210 d85658e1205 ">
                                    <p>Queue to send this message to</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1218" headers="d85658e1202 ">
                                    <p><code class="codeph">message</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1218 d85658e1205 ">
                                    <p>Message to send</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1226" headers="d85658e1202 ">
                                    <p><code class="codeph">deliveryMode</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1226 d85658e1205 ">
                                    <p>Delivery mode to use</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1234" headers="d85658e1202 ">
                                    <p><code class="codeph">priority</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1234 d85658e1205 ">
                                    <p>Priority for this message</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1242" headers="d85658e1202 ">
                                    <p><code class="codeph">timeToLive</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1242 d85658e1205 ">
                                    <p>Message lifetime in milliseconds (zero is unlimited)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the <code class="codeph">QueueSender</code> has been created with a default queue, then the queue parameter may not necessarily be supplied in the <code class="codeph">send()</code> call. If a queue is specified in the <code class="codeph">send()</code> operation, then this value overrides the default queue of the <code class="codeph">QueueSender</code>.
                     </p>
                     <p>If the <code class="codeph">QueueSender</code> has been created without a default queue, then the queue parameter must be specified in every <code class="codeph">send()</code> call.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA__GUID-3AEB0289-0C5E-4E98-A959-961BA0296F97">
                     <p class="titleinexample">Example 13-8 Sending Messages Using a QueueSender by Specifying Send Options 1</p><pre class="oac_no_warn" dir="ltr">/* Create a sender to send messages to any queue */ 
/* Send a message to new_orders_que with priority 2 and timetoLive 100000 
   milliseconds */
QueueSession  jms_sess;
QueueSender  sender1;
TextMessage mesg;
Queue   new_orders_que
sender1 = jms_sess.createSender(null); 
sender1.send(new_orders_que, mesg, DeliveryMode.PERSISTENT, 2, 100000);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5CB52FD8-6CAD-4D31-8919-E79AD46DC2AA__GUID-E63CADAC-B128-42E0-B24A-AF1CAEDC6466">
                     <p class="titleinexample">Example 13-9 Sending Messages Using a QueueSender by Specifying Send Options 2</p><pre class="oac_no_warn" dir="ltr">/* Create a sender to send messages to a specific queue */ 
/* Send a message with priority 1 and timetoLive 400000 milliseconds */
QueueSession jms_sess;
QueueSender sender2;
Queue   billed_orders_que;
TextMessage mesg;
sender2 = jms_sess.createSender(billed_orders_que);
sender2.send(mesg, DeliveryMode.PERSISTENT, 1, 400000);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3027"></a><a id="ADQUE3028"></a><a id="ADQUE3026"></a><div class="props_rev_3"><a id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA" name="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA"></a><h3 id="ADQUE-GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA" class="sect3"><span class="enumeration_section">13.12 </span>Creating a QueueBrowser for Standard JMS Type Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueBrowser createBrowser(javax.jms.Queue queue,
                                            java.lang.String messageSelector)
                                     throws JMSException
</pre><p>This method creates a <code class="codeph">QueueBrowser</code> for queues with text, stream, objects, bytes or MapMessage message bodies. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-062B77D2-6528-44A6-8602-A50A018E669B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1361">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1364">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1369" headers="d85658e1361 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1369 d85658e1364 ">
                                    <p>Queue to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1377" headers="d85658e1361 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1377 d85658e1364 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Use methods in <code class="codeph">java.util.Enumeration</code> to go through list of messages.
                     </p>
                     <div class="infoboxnotealso" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-D0A9F9F4-CBD1-4D4A-A666-59EB02188400">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-AB2DA02B-CBD5-44DC-B9BA-B26C459982F3">
                     <p class="titleinexample">Example 13-10 Creating a QueueBrowser Without a Selector</p><pre class="oac_no_warn" dir="ltr">/* Create a browser without a selector */
QueueSession    jms_session;
QueueBrowser    browser;
Queue           queue;
browser = jms_session.createBrowser(queue);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-00F1339A-7FE9-4046-A5F4-0B1B898BB5CA__GUID-0D2568B7-BFBF-4B14-B9A1-135BCA13D28A">
                     <p class="titleinexample">Example 13-11 Creating a QueueBrowser With a Specified Selector</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for queues with a specified selector */
QueueSession    jms_session;
QueueBrowser    browser;
Queue           queue;
/* create a Browser to look at messages with correlationID = RUSH  */
browser = jms_session.createBrowser(queue, "JMSCorrelationID = 'RUSH'");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3030"></a><a id="ADQUE3031"></a><a id="ADQUE3029"></a><div class="props_rev_3"><a id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1" name="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1"></a><h3 id="ADQUE-GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1" class="sect3"><span class="enumeration_section">13.13 </span>Creating a QueueBrowser for Standard JMS Type Messages, Locking Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueBrowser createBrowser(javax.jms.Queue queue,
                                            java.lang.String messageSelector,
                                            boolean locked)
                                     throws JMSException
</pre><p>This method creates a <code class="codeph">QueueBrowser</code> for queues with TextMessage, StreamMessage, ObjectMessage, BytesMessage, or MapMessage message bodies, locking messages while browsing. Locked messages cannot be removed by other consumers until the browsing session ends the transaction. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1__GUID-33F620F3-DB9E-415E-8830-402934A35222">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1486">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1489">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1494" headers="d85658e1486 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1494 d85658e1489 ">
                                    <p>Queue to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1502" headers="d85658e1486 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1502 d85658e1489 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1513" headers="d85658e1486 ">
                                    <p><code class="codeph">locked</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1513 d85658e1489 ">
                                    <p>If set to true, then messages are locked as they are browsed (similar to a SELECT for UPDATE)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1__GUID-9BE6F0F4-1B49-497E-BABD-45D4D29BA74C">
                     <p class="titleinexample">Example 13-12 Creating a QueueBrowser Without a Selector, Locking Messages</p><pre class="oac_no_warn" dir="ltr">/* Create a browser without a selector */
QueueSession    jms_session;
QueueBrowser    browser;
Queue           queue;
browser = jms_session.createBrowser(queue, null, true);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-ACC96569-4677-4056-A1D9-4F0A45A5ABE1__GUID-F0C3075D-54FA-4008-BA85-D7B7E944B077">
                     <p class="titleinexample">Example 13-13 Creating a QueueBrowser With a Specified Selector, Locking Messages</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for queues with a specified selector */
QueueSession    jms_session;
QueueBrowser    browser;
Queue           queue;
/* create a Browser to look at messages with 
correlationID = RUSH in lock mode */
browser = jms_session.createBrowser(queue, "JMSCorrelationID = 'RUSH'", true);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3033"></a><a id="ADQUE3032"></a><div class="props_rev_3"><a id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9" name="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9"></a><h3 id="ADQUE-GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9" class="sect3"><span class="enumeration_section">13.14 </span>Creating a QueueBrowser for Oracle Object Type Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueBrowser createBrowser(javax.jms.Queue queue, 
                                            java.lang.String messageSelector,
                                            java.lang.Object payload_factory)
                                     throws JMSException
</pre><p>This method creates a <code class="codeph">QueueBrowser</code> for queues of Oracle <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">object type</span></a> messages. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-9D5F8B62-E9CC-462E-B82B-DB0F4B6FCBF6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1612">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1615">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1620" headers="d85658e1612 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1620 d85658e1615 ">
                                    <p>Queue to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1628" headers="d85658e1612 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1628 d85658e1615 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1639" headers="d85658e1612 ">
                                    <p>payload_factory</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1639 d85658e1615 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The <code class="codeph">CustomDatumFactory</code> for a particular java class that maps to the SQL object payload can be obtained using the <code class="codeph">getFactory</code> static method.
                     </p>
                     <div class="infoboxnote" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-6227EF79-D175-4CFA-BFBC-82FA98A027E4">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                        </p>
                     </div>
                     <p>Assume the queue <code class="codeph">test_queue</code> has payload of type <code class="codeph">SCOTT.EMPLOYEE</code> and the java class that is generated by Jpublisher for this Oracle object type is called Employee. The Employee class implements the <code class="codeph">CustomDatum</code> interface. The <code class="codeph">CustomDatumFactory</code> for this class can be obtained by using the <code class="codeph">Employee.getFactory()</code> method.
                     </p>
                     <div class="infoboxnote" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-DD3835EB-8564-44E5-A86D-36FDB46E3F76">
                        <p class="notep1">Note:</p>
                        <p>Sharded queues do not support Object Type messages</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-EAA7E16F-405D-4598-B7F0-76E18671DECD">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-430F8F54-AB2C-4A71-A4E6-B9BB3119F8E9__GUID-A6248E0E-E528-49F0-8B2C-D094964FA627">
                     <p class="titleinexample">Example 13-14 Creating a QueueBrowser for ADTMessages</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for a Queue with AdtMessage messages of type EMPLOYEE*/
QueueSession jms_session
QueueBrowser browser;
Queue        test_queue;
browser = ((AQjmsSession)jms_session).createBrowser(test_queue,
                                                   "corrid='EXPRESS'",
                                                    Employee.getFactory());</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3035"></a><a id="ADQUE3034"></a><div class="props_rev_3"><a id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9" name="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9"></a><h3 id="ADQUE-GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9" class="sect3"><span class="enumeration_section">13.15 </span>Creating a QueueBrowser for Oracle Object Type Messages, Locking Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueBrowser createBrowser(javax.jms.Queue queue,
                                            java.lang.String messageSelector,
                                            java.lang.Object payload_factory,
                                            boolean locked)
                                     throws JMSException
</pre><p>This method creates a <code class="codeph">QueueBrowser</code> for queues of Oracle object type messages, locking messages while browsing. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-37358DBA-102C-468E-A919-00CD73E707AA">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1757">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1760">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1765" headers="d85658e1757 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1765 d85658e1760 ">
                                    <p>Queue to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1773" headers="d85658e1757 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1773 d85658e1760 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1784" headers="d85658e1757 ">
                                    <p>payload_factory</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1784 d85658e1760 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1796" headers="d85658e1757 ">
                                    <p><code class="codeph">locked</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1796 d85658e1760 ">
                                    <p>If set to true, then messages are locked as they are browsed (similar to a SELECT for UPDATE)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-4302C9C7-6953-447D-A938-1078E1325C83">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-85CB580A-9432-4816-B271-FB309A9AEDE2">
                        <p class="notep1">Note:</p>
                        <p>Sharded queues do not support Object Type messages</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-37DC1888-39BD-463C-A503-BFE66AFE98B9__GUID-63E484AB-3C5A-48A0-AC0F-ADB56A22AC92">
                     <p class="titleinexample">Example 13-15 Creating a QueueBrowser for AdtMessages, Locking Messages</p><pre class="oac_no_warn" dir="ltr">/* Create a browser for a Queue with AdtMessage messagess of type EMPLOYEE* in lock mode/
QueueSession jms_session
QueueBrowser browser;
Queue        test_queue;
browser = ((AQjmsSession)jms_session).createBrowser(test_queue, 
                                                    null, 
                                                    Employee.getFactory(),
                                                    true);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3037"></a><a id="ADQUE3038"></a><a id="ADQUE3036"></a><div class="props_rev_3"><a id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA" name="GUID-30DF26F0-8284-4291-9662-1B11968E15AA"></a><h3 id="ADQUE-GUID-30DF26F0-8284-4291-9662-1B11968E15AA" class="sect3"><span class="enumeration_section">13.16 </span>Creating a QueueReceiver for Standard JMS Type Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueReceiver createReceiver(javax.jms.Queue queue,
                                              java.lang.String messageSelector)
                                       throws JMSException
</pre><p>This method creates a <code class="codeph">QueueReceiver</code> for queues of standard JMS type messages. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-6641BC94-7668-42A4-B323-C97F63D9467C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e1898">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e1901">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1906" headers="d85658e1898 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1906 d85658e1901 ">
                                    <p>Queue to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e1914" headers="d85658e1898 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e1914 d85658e1901 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-2834BFB3-74B9-439A-B0AF-1D9CB87C791D">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-5F9C5056-1532-44AE-B760-482FA953D457">
                     <p class="titleinexample">Example 13-16 Creating a QueueReceiver Without a Selector</p><pre class="oac_no_warn" dir="ltr">/* Create a receiver without a selector */
QueueSession    jms_session
QueueReceiver   receiver;
Queue           queue;
receiver = jms_session.createReceiver(queue);</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-30DF26F0-8284-4291-9662-1B11968E15AA__GUID-6A56A071-1686-4A72-897D-F76D7430B1A7">
                     <p class="titleinexample">Example 13-17 Creating a QueueReceiver With a Specified Selector</p><pre class="oac_no_warn" dir="ltr">/* Create a receiver for queues with a specified selector */
QueueSession    jms_session;
QueueReceiver   receiver;
Queue           queue;
/* create Receiver to receive messages with correlationID starting with EXP  */
browser = jms_session.createReceiver(queue, "JMSCorrelationID LIKE 'EXP%'");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE3040"></a><a id="ADQUE3039"></a><div class="props_rev_3"><a id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1" name="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1"></a><h3 id="ADQUE-GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1" class="sect3"><span class="enumeration_section">13.17 </span>Creating a QueueReceiver for Oracle Object Type Messages
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.QueueReceiver createReceiver(javax.jms.Queue queue,
                                              java.lang.String messageSelector,
                                              java.lang.Object payload_factory)
                                       throws JMSException
</pre><p>This method creates a <code class="codeph">QueueReceiver</code> for queues of Oracle object type messages. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-B2EBD4EA-EFCD-4C42-8FD4-88CFA757D851">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d85658e2017">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d85658e2020">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e2025" headers="d85658e2017 ">
                                    <p><code class="codeph">queue</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e2025 d85658e2020 ">
                                    <p>Queue to access</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e2033" headers="d85658e2017 ">
                                    <p><code class="codeph">messageSelector</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e2033 d85658e2020 ">
                                    <p>Only messages with properties matching the <code class="codeph">messageSelector</code> expression are delivered
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d85658e2044" headers="d85658e2017 ">
                                    <p>payload_factory</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d85658e2044 d85658e2020 ">
                                    <p><code class="codeph">CustomDatumFactory</code> or <code class="codeph">ORADataFactory</code> for the java class that maps to the Oracle ADT
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The <code class="codeph">CustomDatumFactory</code> for a particular java class that maps to the SQL object type payload can be obtained using the <code class="codeph">getFactory</code> static method.
                     </p>
                     <div class="infoboxnote" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-671EB893-CD4E-4A0F-8875-33130FFA5687">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">CustomDatum</code> support will be deprecated in a future release. Use <code class="codeph">ORADataFactory</code> payload factories instead.
                        </p>
                     </div>
                     <p>Assume the queue <code class="codeph">test_queue</code> has payload of type <code class="codeph">SCOTT.EMPLOYEE</code> and the java class that is generated by Jpublisher for this Oracle object type is called Employee. The Employee class implements the <code class="codeph">CustomDatum</code> interface. The <code class="codeph">ORADataFactory</code> for this class can be obtained by using the Employee.getFactory() method.
                     </p>
                     <div class="infoboxnote" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-BC2EC1B6-976A-4F7A-93C4-C2E61921AE7A">
                        <p class="notep1">Note:</p>
                        <p>Sharded queues do not support Object Type messages</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-290D7279-638C-4836-8ACC-30589DC29610">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="jms-introduction.html#GUID-9CD17AB0-4085-4E8C-A7FF-E5C15A4BAEFA__CACBBCBJ">MessageSelector</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F0E83FE0-F4E0-4871-A9AF-6C9D2479B5C1__GUID-2E809BD2-CC37-46D5-9459-3156515FC566">
                     <p class="titleinexample">Example 13-18 Creating a QueueReceiver for AdtMessage Messages</p><pre class="oac_no_warn" dir="ltr">/* Create a receiver for a Queue with AdtMessage messages of type EMPLOYEE*/
QueueSession jms_session
QueueReceiver receiver;
Queue        test_queue;
browser = ((AQjmsSession)jms_session).createReceiver(
                 test_queue,
                "JMSCorrelationID = 'MANAGER', 
                 Employee.getFactory());</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04743.cartridge-services-parameter-manager-interface.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Lists and describes cartridge services parameter manager interface functions.">
      <meta name="description" content="Lists and describes cartridge services parameter manager interface functions.">
      <title>Cartridge Services — Parameter Manager Interface</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Lists and describes cartridge services parameter manager interface functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="cartridge-services-maintaining-context.html" title="Previous" type="text/html">
      <link rel="next" href="cartridge-services-file-io-interface.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="cartridge-services-maintaining-context.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="cartridge-services-file-io-interface.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-cartridge-functions.html" property="item" typeof="WebPage"><span property="name"> OCI Cartridge Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Cartridge Services — Parameter Manager Interface</li>
            </ol>
            <a id="GUID-D181F020-3E65-4ED3-B948-C1B2B61BBC77" name="GUID-D181F020-3E65-4ED3-B948-C1B2B61BBC77"></a><a id="LNOCI17552"></a><a id="LNOCI194"></a>
            
            <h2 id="LNOCI-GUID-D181F020-3E65-4ED3-B948-C1B2B61BBC77" class="sect2"><span class="enumeration_section">29.5 </span>Cartridge Services — Parameter Manager Interface
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Lists and describes cartridge services parameter manager interface functions.</p>
               <div class="section">
                  <p><a href="cartridge-services-parameter-manager-interface.html#GUID-D181F020-3E65-4ED3-B948-C1B2B61BBC77__CIHJDJBE" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 29-4</a> lists the parameter manager interface functions that are described in this section.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-D181F020-3E65-4ED3-B948-C1B2B61BBC77__CIHJDJBE">
                  <p class="titleintable">Table 29-4 Parameter Manager Interface Functions</p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="Parameter Manager Interface Functions" summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="61%" id="d287048e201">Function</th>
                           <th align="left" valign="bottom" width="39%" id="d287048e204">Purpose</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e209" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26" title="Processes the keys and their values in the given file.">OCIExtractFromFile()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e209 d287048e204 ">
                              <p>Process the keys and their values in the given file</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e221" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2" title="Generates a list of values for the parameter denoted by index in the parameter list.">OCIExtractFromList()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e221 d287048e204 ">
                              <p>Generate a list of values for the parameter denoted by <code class="codeph">index</code> in the parameter list
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e236" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56" title="Processes the keys and their values in the given string.">OCIExtractFromStr()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e236 d287048e204 ">
                              <p>Process the keys and the their values in the given string</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e248" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A" title="Initializes the parameter manager.">OCIExtractInit()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e248 d287048e204 ">
                              <p>Initialize the parameter manager</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e260" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083" title="Frees the memory currently used for parameter storage, key definition storage, and parameter value lists and reinitializes the structure.">OCIExtractReset()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e260 d287048e204 ">
                              <p>Reinitialize memory</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e272" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584" title="Registers information about a key with the parameter manager.">OCIExtractSetKey()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e272 d287048e204 ">
                              <p>Register information about a key with the parameter manager</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e284" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286" title="Informs the parameter manager of the number of keys that are to be registered.">OCIExtractSetNumKeys()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e284 d287048e204 ">
                              <p>Inform the parameter manager of the number of keys that are to be registered</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e296" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-74ED029F-C330-433C-89AE-000E293DCB19" title="Releases all dynamically allocated storage.">OCIExtractTerm()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e296 d287048e204 ">
                              <p>Release all dynamically allocated storage</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e308" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-0AE3107F-8193-4514-BC71-4235DC7B9867" title="Gets the Boolean value for the specified key.">OCIExtractToBool()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e308 d287048e204 ">
                              <p>Get the Boolean value for the specified key</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e320" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC" title="Gets the integer value for the specified key.">OCIExtractToInt()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e320 d287048e204 ">
                              <p>Get the integer value for the specified key</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e332" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81" title="Generates a list of parameters from the parameter structures that are stored in memory.">OCIExtractToList()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e332 d287048e204 ">
                              <p>Generate a list of parameters from the parameter structures that are stored in memory</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e345" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-EBD9C859-D842-4949-9919-A6F8D5390880" title="Gets the OCINumber value for the specified key.">OCIExtractToOCINum()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e345 d287048e204 ">
                              <p>Get the number value for the specified key</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="61%" id="d287048e357" headers="d287048e201 ">
                              <p><a href="cartridge-services-parameter-manager-interface.html#GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72" title="Gets the string value for the specified key.">OCIExtractToStr()</a></p>
                           </td>
                           <td align="left" valign="top" width="39%" headers="d287048e357 d287048e204 ">
                              <p>Get the string value for the specified key</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-D181F020-3E65-4ED3-B948-C1B2B61BBC77__GUID-7D082548-5323-46C9-BD34-0CDDECC40D55">
                     <p class="notep1">See Also:</p>
                     <p><a href="../addci/using-cartridge-services.html#ADDCI4668" target="_blank"><span><cite>Oracle Database Data Cartridge Developer's Guide</cite></span></a> for more information about using these functions 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
            </div><a id="LNOCI17558"></a><div class="props_rev_3"><a id="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26" name="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26"></a><h3 id="LNOCI-GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26" class="sect3"><span class="enumeration_section">29.5.1 </span>OCIExtractFromFile()
               </h3>
               <div>
                  <p>Processes the keys and their values in the given file.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-D236D51E-F145-4644-B381-192179323C95">Purpose</p>
                     <p>Processes the keys and their values in the given file. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-6728B657-74DF-4D30-B8C0-1727D403ECF8">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractFromFile( void     *hndl, 
                          OCIError *err, 
                          ub4       flag, 
                          OraText  *filename );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-B8B3D5AF-34A6-4336-B454-3960104F4AEC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-04CD6F03-A58A-4AB3-9D16-000852C4AB74">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-2DEA0D97-FD87-471B-8EB3-2A8D4D6FABA1">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-B80FDA5F-D8AA-4239-96AA-379383E41F72">
                              <!-- --></a>flag (IN)
                        </dt>
                        <dd>
                           <p>Zero or has one or more of the following bits set:</p>
                           <p><code class="codeph">OCI_EXTRACT_CASE_SENSITIVE</code></p>
                           <p><code class="codeph">OCI_EXTRACT_UNIQUE_ABBREVS</code></p>
                           <p><code class="codeph">OCI_EXTRACT_APPEND_VALUES</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-C4035E46-8180-4E37-9124-4AD072F9CAA3">
                              <!-- --></a>filename (IN)
                        </dt>
                        <dd>
                           <p>A <code class="codeph">NULL</code>-terminated file name string.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-2E0F70DC-301D-4AC0-B28D-E0290CB8FE88">Comments</p>
                     <p><code class="codeph">OCIExtractSetNumKeys()</code> and <code class="codeph">OCIExtractSetKey()</code> functions must be called to define all of the keys before this routine is called.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26__GUID-3A2133CE-DD93-4299-A5D0-A7C875D1A273">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286" title="Informs the parameter manager of the number of keys that are to be registered.">OCIExtractSetNumKeys()</a></li>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584" title="Registers information about a key with the parameter manager.">OCIExtractSetKey()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17565"></a><div class="props_rev_3"><a id="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2" name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2"></a><h3 id="LNOCI-GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2" class="sect3"><span class="enumeration_section">29.5.2 </span>OCIExtractFromList()
               </h3>
               <div>
                  <p>Generates a list of values for the parameter denoted by index in the parameter list. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-5AF2A2E9-9F94-4E49-8F5D-05FAF268D62E">Purpose</p>
                     <p>Generates a list of values for the parameter denoted by index in the parameter list. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-CD306DFB-E937-4C2E-9D52-C553EEFCB563">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractFromList( void        *hndl, 
                          OCIError    *err, 
                          uword        index, 
                          OraText    **name, 
                          ub1         *type, 
                          uword       *numvals, 
                          void      ***values );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-E19CBD72-5B77-4459-A924-4FCA6338D826">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-9D4C08F1-007F-441B-B06F-426377547665">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-7E34CC51-DCDE-438C-B2A7-475CBCF8B15C">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-DF3898A8-53B8-45B4-9B74-34065E7B1261">
                              <!-- --></a>index (IN)
                        </dt>
                        <dd>
                           <p>Which parameter to retrieve from the parameter list.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-40A2DE58-D1F4-42C5-B2E0-7BD8D35A4574">
                              <!-- --></a>name (OUT)
                        </dt>
                        <dd>
                           <p>The name of the key for the current parameter.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-B700419F-4127-4C49-ACA4-EA7A310C819B">
                              <!-- --></a>type (OUT)
                        </dt>
                        <dd>
                           <p>Type of the current parameter:</p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_STRING</code></p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_INTEGER</code> 
                           </p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_OCINUM</code> 
                           </p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_BOOLEAN</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-F7428F21-1AFB-4113-984D-5A6E4B421A8F">
                              <!-- --></a>numvals (OUT)
                        </dt>
                        <dd>
                           <p>Number of values for this parameter.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-6729CBD9-F4BA-42EB-9BC6-F81DFFDDC11F">
                              <!-- --></a>values (OUT)
                        </dt>
                        <dd>
                           <p>The values for this parameter.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-F2559011-981F-49BE-9C8E-7AE3872A402C">Comments</p>
                     <p><code class="codeph">OCIExtractToList()</code> must be called prior to calling this routine to generate the parameter list from the parameter structures that are stored in memory.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-689F4C5D-8686-4DF5-B58C-5EAE12ACB9F2__GUID-3A511029-1958-408C-A584-C7B9B1149FC3">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81" title="Generates a list of parameters from the parameter structures that are stored in memory.">OCIExtractToList()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17559"></a><div class="props_rev_3"><a id="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56" name="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56"></a><h3 id="LNOCI-GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56" class="sect3"><span class="enumeration_section">29.5.3 </span>OCIExtractFromStr()
               </h3>
               <div>
                  <p>Processes the keys and their values in the given string. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-BB25529A-AE3F-4E6A-8759-23E72254FD71">Purpose</p>
                     <p>Processes the keys and their values in the given string. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-316EC300-A9AE-47E7-B5E5-8BD7C3F19D60">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractFromStr( void     *hndl, 
                         OCIError *err, 
                         ub4       flag, 
                         OraText  *input );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-1290C8DC-CF1F-4FE6-8874-D1EE499C5D6E">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-43669760-4F84-4A3C-B4C7-7B246989E934">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-57CE3640-D9D5-49B4-9127-29733CAE32C7">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. For diagnostic information call <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-7D171F2E-4C99-4D5B-9DD9-B22624CE8A7E">
                              <!-- --></a>flag (IN)
                        </dt>
                        <dd>
                           <p>Zero or has one or more of the following bits set:</p>
                           <p><code class="codeph">OCI_EXTRACT_CASE_SENSITIVE</code> 
                           </p>
                           <p><code class="codeph">OCI_EXTRACT_UNIQUE_ABBREVS</code> 
                           </p>
                           <p><code class="codeph">OCI_EXTRACT_APPEND_VALUES</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-58F75F2E-9129-4D24-8191-290B0619E7EF">
                              <!-- --></a>input (IN)
                        </dt>
                        <dd>
                           <p>A <code class="codeph">NULL</code>-terminated input string.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-825752DE-BBD7-499C-B549-A08D11442856">Comments</p>
                     <p><code class="codeph">OCIExtractSetNumKeys()</code> and <code class="codeph">OCIExtractSetKey()</code> functions must be called to define all of the keys before this routine is called.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56__GUID-BB65A21E-59A3-4940-A46D-6FE74528E97B">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286" title="Informs the parameter manager of the number of keys that are to be registered.">OCIExtractSetNumKeys()</a></li>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584" title="Registers information about a key with the parameter manager.">OCIExtractSetKey()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17553"></a><div class="props_rev_3"><a id="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A" name="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A"></a><h3 id="LNOCI-GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A" class="sect3"><span class="enumeration_section">29.5.4 </span>OCIExtractInit()
               </h3>
               <div>
                  <p>Initializes the parameter manager.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A__GUID-7D202929-2F84-4EC6-A323-A712F893C463">Purpose</p>
                     <p>Initializes the parameter manager. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A__GUID-5769C5AC-6CBB-46D0-8EBC-C235732535F5">Syntax</p><pre class="oac_no_warn" dir="ltr"><code class="codeph">sword OCIExtractInit( void      *hndl,</code>
<code class="codeph">                      OCIError  *err);</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A__GUID-5B4048CB-6C79-475C-AE99-39B924F5B60A">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A__GUID-4DFC734C-7F5F-44CB-BD88-B9798F483635">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A__GUID-8D8A78C5-3940-424F-86A1-9939DC72E2E3">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A__GUID-16C2B922-69FB-41BF-8FED-6715ECF991E0">Comments</p>
                     <p>This function must be called before calling any other parameter manager routine, and it must be called only once. The globalization support information is stored inside the parameter manager context and used in subsequent calls to <code class="codeph">OCIExtract</code> functions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DDE39238-5893-4BA5-BCCF-3F08401B092A__GUID-5443557E-8E0D-4451-B53D-6B9CF3D61841">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17555"></a><div class="props_rev_3"><a id="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083" name="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083"></a><h3 id="LNOCI-GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083" class="sect3"><span class="enumeration_section">29.5.5 </span>OCIExtractReset()
               </h3>
               <div>
                  <p>Frees the memory currently used for parameter storage, key definition storage, and parameter value lists and reinitializes the structure.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083__GUID-1AF25571-A96C-47A6-9DFA-1A82BC5B7706">Purpose</p>
                     <p>Frees the memory currently used for parameter storage, key definition storage, and parameter value lists and reinitializes the structure.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083__GUID-C7FEF736-F504-4F48-BEC3-D78CC170A019">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractReset( void      *hndl, 
                       OCIError  *err );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083__GUID-81A3397B-6B9C-49AA-8B93-F3493D0EBF45">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083__GUID-AD4F4F10-365C-443F-81E8-6E8B6C671020">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083__GUID-F6C6F453-5F1B-4666-AEAE-136C3630A2FE">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-380FF56E-D6E9-4417-9F75-3801A8BC7083__GUID-22DB3775-1EC9-4320-A11B-1CEFDA90395D">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>,
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17557"></a><div class="props_rev_3"><a id="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584" name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584"></a><h3 id="LNOCI-GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584" class="sect3"><span class="enumeration_section">29.5.6 </span>OCIExtractSetKey()
               </h3>
               <div>
                  <p>Registers information about a key with the parameter manager. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-38D88EEF-B1AF-49E7-A1CC-3C7F88EF692C">Purpose</p>
                     <p>Registers information about a key with the parameter manager. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-107800A2-C0A0-463C-A8D2-2CF7F6EBB299">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractSetKey( void        *hndl, 
                        OCIError    *err, 
                        const text  *name,
                        ub1          type, 
                        ub4          flag, 
                        const void  *defval, 
                        const sb4   *intrange, 
                        const text  *strlist );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-E51BC9AC-41B2-4D9A-8AAA-905D18EA8459">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-2560B99F-BD3B-4F79-848F-28C82C80F6D5">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-9F19C390-F598-488D-8E5B-E69823046A7B">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-1234FCC9-07DD-4064-85EE-8D3DAB668EE2">
                              <!-- --></a>name (IN)
                        </dt>
                        <dd>
                           <p>The name of the key.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-49F8EF54-0393-4334-807B-0DBA9BDB6293">
                              <!-- --></a>type (IN)
                        </dt>
                        <dd>
                           <p>The type of the key:</p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_INTEGER</code></p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_OCINUM</code> 
                           </p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_STRING</code> 
                           </p>
                           <p><code class="codeph">OCI_EXTRACT_TYPE_BOOLEAN</code></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-C2D9116A-CDFE-423F-BDC0-E3C6E60F5481">
                              <!-- --></a>flag (IN)
                        </dt>
                        <dd>
                           <p>Set to <code class="codeph">OCI_EXTRACT_MULTIPLE</code> if the key can take multiple values or 0 otherwise.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-03AC17F3-300F-4402-8BC4-D83FB2386CDA">
                              <!-- --></a>defval (IN)
                        </dt>
                        <dd>
                           <p>Set to the default value for the key. It can be <code class="codeph">NULL</code> if there is no default. A string default must be a (text*) type, an integer default must be an (sb4*) type, and a Boolean default must be a (ub1*) type.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-F1FEB7A2-A7C2-48C9-9E98-C3538C325CC1">
                              <!-- --></a>intrange (IN)
                        </dt>
                        <dd>
                           <p>Starting and ending values for the allowable range of integer values; can be <code class="codeph">NULL</code> if the key is not an integer type or if all integer values are acceptable.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-60CE08C7-7529-41C7-BEEC-908C43511D08">
                              <!-- --></a>strlist (IN)
                        </dt>
                        <dd>
                           <p>List of all acceptable text strings for the key ended with 0 (or <code class="codeph">NULL</code>). Can be <code class="codeph">NULL</code> if the key is not a string type or if all text values are acceptable.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-CAD0B5D2-B34B-47D9-9F2C-2B8AF2D9C6E8">Comments</p>
                     <p>This routine must be called after calling <code class="codeph">OCIExtractSetNumKeys()</code> and before calling <code class="codeph">OCIExtractFromFile()</code> or <code class="codeph">OCIExtractFromStr()</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584__GUID-7D0ADC02-CA9E-47B2-9301-2B172EE1401A">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286" title="Informs the parameter manager of the number of keys that are to be registered.">OCIExtractSetNumKeys()</a></li>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-92A380D5-7DB9-425D-AE6B-7C52F5839C26" title="Processes the keys and their values in the given file.">OCIExtractFromFile()</a></li>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-B40FDD52-9EDC-47B9-B166-01A7527ECB56" title="Processes the keys and their values in the given string.">OCIExtractFromStr()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17556"></a><div class="props_rev_3"><a id="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286" name="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286"></a><h3 id="LNOCI-GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286" class="sect3"><span class="enumeration_section">29.5.7 </span>OCIExtractSetNumKeys()
               </h3>
               <div>
                  <p>Informs the parameter manager of the number of keys that are to be registered.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-DE187281-29F8-48A6-873F-A51ABDE3F049">Purpose</p>
                     <p>Informs the parameter manager of the number of keys that are to be registered. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-E674BEE6-F510-4B89-84BC-96E0EE47E10B">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractSetNumKeys( void    *hndl, 
                            CIError *err, 
                            uword    numkeys );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-99497730-457A-4CAD-83C8-D8C16B1F4153">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-F47F8268-3C4B-46A0-B0BC-B50DCCD54AC9">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-93FB05E3-9B6F-471D-8F81-F3717CF407C2">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-C2E03D2C-7547-4250-BA35-1642665A4864">
                              <!-- --></a>numkeys (IN)
                        </dt>
                        <dd>
                           <p>The number of keys that are to be registered with <code class="codeph">OCIExtractSetKey()</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-588A22BD-A90A-4656-BC00-099D0F7D0D1B">Comments</p>
                     <p>This routine must be called prior to the first call of <code class="codeph">OCIExtractSetKey()</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8DBC3B12-0E34-4515-8869-2C3D4406A286__GUID-317A3BBC-9D2A-4782-8A46-645AE3E6A0EE">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="cartridge-services-parameter-manager-interface.html#GUID-5CBA5C77-7A92-41A9-96E7-24BE4F2DF584" title="Registers information about a key with the parameter manager.">OCIExtractSetKey()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17554"></a><div class="props_rev_3"><a id="GUID-74ED029F-C330-433C-89AE-000E293DCB19" name="GUID-74ED029F-C330-433C-89AE-000E293DCB19"></a><h3 id="LNOCI-GUID-74ED029F-C330-433C-89AE-000E293DCB19" class="sect3"><span class="enumeration_section">29.5.8 </span>OCIExtractTerm()
               </h3>
               <div>
                  <p>Releases all dynamically allocated storage.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-74ED029F-C330-433C-89AE-000E293DCB19__GUID-076CF1EC-9C75-4972-9FD5-3552B12138BD">Purpose</p>
                     <p>Releases all dynamically allocated storage.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74ED029F-C330-433C-89AE-000E293DCB19__GUID-A5B777D6-6BB2-4DAD-B0B9-E492E1157ED0">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractTerm( void      *hndl, 
                      OCIError  *err );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74ED029F-C330-433C-89AE-000E293DCB19__GUID-C5820CFC-E23B-4539-B78F-80B189B10558">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-74ED029F-C330-433C-89AE-000E293DCB19__GUID-D0C76E23-34A7-442C-89F2-D1CA62829222">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-74ED029F-C330-433C-89AE-000E293DCB19__GUID-E2DF5EBE-B121-4DF9-B882-37AB67A9B747">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74ED029F-C330-433C-89AE-000E293DCB19__GUID-6B14AAF3-D246-4C2A-8334-DF0CFFD449BC">Comments</p>
                     <p>This function may perform other internal bookkeeping functions. It must be called when the parameter manager is no longer being used, and it must be called only once.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-74ED029F-C330-433C-89AE-000E293DCB19__GUID-29E8E055-4017-415B-B2DF-FC2A5F015E11">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17561"></a><div class="props_rev_3"><a id="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867" name="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867"></a><h3 id="LNOCI-GUID-0AE3107F-8193-4514-BC71-4235DC7B9867" class="sect3"><span class="enumeration_section">29.5.9 </span>OCIExtractToBool()
               </h3>
               <div>
                  <p>Gets the Boolean value for the specified key. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-392E9CC0-FC9C-4C02-9C18-E215CBFE2012">Purpose</p>
                     <p>The <code class="codeph">valno</code>'th value (starting with 0) is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-B8C44709-7D27-4606-8289-38204DA8590B">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractToBool( void      *hndl, 
                        OCIError  *err, 
                        OraText   *keyname, 
                        uword      valno, 
                        ub1       *retval );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-69215006-75EE-4829-9AFD-5CCF5F88820E">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-1F655AEE-7064-42E3-894F-C41FD4A7A0D6">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-F46AFBBA-888D-4DCF-893B-64FE29D3DF36">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-C825E117-417B-4F64-88F3-2F5FB32703C9">
                              <!-- --></a>keyname (IN)
                        </dt>
                        <dd>
                           <p>Key name.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-878E8EA8-8A32-4C10-8B65-02805CBCCB82">
                              <!-- --></a>valno (IN)
                        </dt>
                        <dd>
                           <p>Which value to get for this key.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-75EBEBC6-6961-445B-BF9E-B13F93C12495">
                              <!-- --></a>retval (OUT)
                        </dt>
                        <dd>
                           <p>The actual Boolean value.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0AE3107F-8193-4514-BC71-4235DC7B9867__GUID-3805D163-A6AE-49F9-97DC-1787F371338A">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; <code class="codeph">OCI_NO_DATA</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                     <p><code class="codeph">OCI_NO_DATA</code> means that there is no <code class="codeph">valno</code>'th value for this key.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17560"></a><div class="props_rev_3"><a id="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC" name="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC"></a><h3 id="LNOCI-GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC" class="sect3"><span class="enumeration_section">29.5.10 </span>OCIExtractToInt()
               </h3>
               <div>
                  <p>Gets the integer value for the specified key. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-CAC0D4E8-F4AF-49C5-B39A-7833B8ACBD97">Purpose</p>
                     <p>The <code class="codeph">valno</code>'th value (starting with 0) is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-3B78E714-0235-4F77-BACB-609ABAFF0C63">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractToInt( void      *hndl, 
                       OCIError  *err, 
                       OraText   *keyname, 
                       uword      valno, 
                       sb4       *retval );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-CF60EA86-936A-4A6A-997A-AFA538489F22">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-8C71B7A2-2960-4A41-8263-812C809E91A8">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-522E439D-DC2F-48D0-BECB-D33E40AEC1C4">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-ADA3A894-ABDC-47E0-BEDC-8271C47BB62B">
                              <!-- --></a>keyname (IN)
                        </dt>
                        <dd>
                           <p>Keyname (IN).</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-28DB276A-C114-4C95-87E2-96247AF0F1AA">
                              <!-- --></a>valno (IN)
                        </dt>
                        <dd>
                           <p>Which value to get for this key.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-7BD35EF4-911B-4212-9B85-C18F35A45391">
                              <!-- --></a>retval (OUT)
                        </dt>
                        <dd>
                           <p>The actual integer value.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4628BDB9-F793-4555-BB0E-77F396DF31CC__GUID-26721301-F9FC-48A7-A86B-027E64D6823F">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; <code class="codeph">OCI_NO_DATA</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                     <p><code class="codeph">OCI_NO_DATA</code> means that there is no <code class="codeph">valno</code>'th value for this key.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17564"></a><div class="props_rev_3"><a id="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81" name="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81"></a><h3 id="LNOCI-GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81" class="sect3"><span class="enumeration_section">29.5.11 </span>OCIExtractToList()
               </h3>
               <div>
                  <p>Generates a list of parameters from the parameter structures that are stored in memory. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81__GUID-5220F286-B6E3-4798-9A78-340B313B8B3B">Purpose</p>
                     <p>Must be called before <code class="codeph">OCIExtractValues()</code> is called.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81__GUID-170B45C4-12BA-45A9-9F7B-878089C5D671">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractToList( void      *hndl,
                        OCIError  *err, 
                        uword     *numkeys );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81__GUID-1B602428-342F-464D-8292-A810DA2FA0EB">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81__GUID-AAF93148-9D7A-40AE-9045-DA0B945B62EC">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81__GUID-18D4EEC5-8F60-4BA8-B7A4-7727E79D838D">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81__GUID-023918C8-AE82-4F25-892F-569162E76981">
                              <!-- --></a>numkeys (OUT)
                        </dt>
                        <dd>
                           <p>The number of distinct keys stored in memory.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-374ACDA7-EFBB-4851-8B41-0AF0CE163D81__GUID-210B1DB3-9DC2-40BE-87B4-F83285C5F056">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17563"></a><div class="props_rev_3"><a id="GUID-EBD9C859-D842-4949-9919-A6F8D5390880" name="GUID-EBD9C859-D842-4949-9919-A6F8D5390880"></a><h3 id="LNOCI-GUID-EBD9C859-D842-4949-9919-A6F8D5390880" class="sect3"><span class="enumeration_section">29.5.12 </span>OCIExtractToOCINum()
               </h3>
               <div>
                  <p>Gets the OCINumber value for the specified key. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-6C76CA2F-B5AF-4B57-80F0-E8AA6787741B">Purpose</p>
                     <p>The <code class="codeph">valno</code>'th value (starting with 0) is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-E591E512-ECF4-4867-BD60-C6A88DEF0DD5">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractToOCINum( void      *hndl, 
                          OCIError  *err, 
                          OraText   *keyname, 
                          uword      valno, 
                          OCINumber *retval );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-C3F679DF-CF2D-4CBE-BD88-E709BF5274EC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-A1F89EDD-39DD-495A-9A21-174F6690D308">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-C71FB960-5F5A-4674-8954-D7BF8BA8462A">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-12242B6E-3EB1-43F7-A45B-44FC0B2A3ABF">
                              <!-- --></a>keyname (IN)
                        </dt>
                        <dd>
                           <p>Key name.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-FDC568C5-2A18-4A84-89F8-43256EED3EB3">
                              <!-- --></a>valno (IN)
                        </dt>
                        <dd>
                           <p>Which value to get for this key.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-9ADB7828-67F8-4603-83CF-A65384BD72CA">
                              <!-- --></a>retval (OUT)
                        </dt>
                        <dd>
                           <p>The actual OCINumber value.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBD9C859-D842-4949-9919-A6F8D5390880__GUID-88E83CA9-EBB9-4BAA-B9B7-D4CC9828C20F">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; <code class="codeph">OCI_NO_DATA</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                     <p><code class="codeph">OCI_NO_DATA</code> means that there is no <code class="codeph">valno</code>'th value for this key.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17562"></a><div class="props_rev_3"><a id="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72" name="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72"></a><h3 id="LNOCI-GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72" class="sect3"><span class="enumeration_section">29.5.13 </span>OCIExtractToStr()
               </h3>
               <div>
                  <p>Gets the string value for the specified key.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-F7A3B725-0CF2-40A6-95CB-345D2AB867EA">Purpose</p>
                     <p>The <code class="codeph">valno</code>'th value (starting with 0) is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-4BB298E8-C4AB-4A6F-8916-9DD8C7E43DB2">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIExtractToStr( void       *hndl, 
                       OCIError   *err, 
                       OraText    *keyname, 
                       uword       valno, 
                       OraText    *retval, 
                       uword       buflen );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-56F29650-ED0C-413B-9310-E20FD08EB391">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-10AFBD8E-CF7C-4DB0-AD40-087C9CDAD940">
                              <!-- --></a>hndl (IN)
                        </dt>
                        <dd>
                           <p>The OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-25B46C92-5FFB-4173-94E4-616746DF6F66">
                              <!-- --></a>err (IN/OUT)
                        </dt>
                        <dd>
                           <p>The OCI error handle. If there is an error, it is recorded in <code class="codeph">err</code>, and this function returns <code class="codeph">OCI_ERROR</code>. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-569229A0-C6E1-4687-806F-D3CEA1028C01">
                              <!-- --></a>keyname (IN)
                        </dt>
                        <dd>
                           <p>Key name.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-2375CF14-EAB3-489C-96E4-91CCD167AF89">
                              <!-- --></a>valno (IN)
                        </dt>
                        <dd>
                           <p>Which value to get for this key.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-9843A9D7-9A8E-489B-B7AF-F10314DAE97E">
                              <!-- --></a>retval (OUT)
                        </dt>
                        <dd>
                           <p>The actual <code class="codeph">NULL</code>-terminated string value.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-3F3F3DFA-6F7E-403E-B3C7-40CAFC7184F3">
                              <!-- --></a>buflen
                        </dt>
                        <dd>
                           <p>The length of the buffer for <code class="codeph">retval</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81A04F73-53D0-43C3-A63A-B3F943BABE72__GUID-F997E4D0-4044-44B4-84B0-7DB2CFECBB56">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; <code class="codeph">OCI_NO_DATA</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                     <p><code class="codeph">OCI_NO_DATA</code> means that there is no <code class="codeph">valno</code>'th value for this key.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='00505.operations-on-collection-data-types.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Operations on Collection Data Types</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Object-Relational Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Object-Relational Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="object-relational-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T02:05:10-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96436-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="multilevel-collection-types.html" title="Previous" type="text/html">
      <link rel="next" href="partitioning-table-that-contain-oracle-objects.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Object-Relational Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADOBJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="multilevel-collection-types.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="partitioning-table-that-contain-oracle-objects.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Object-Relational Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="support-for-collection-data-types.html" property="item" typeof="WebPage"><span property="name"> Support for Collection Data Types</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Operations on Collection Data Types</li>
            </ol>
            <a id="GUID-0240B84A-0691-49E2-8DBB-BDBF69C9FABA" name="GUID-0240B84A-0691-49E2-8DBB-BDBF69C9FABA"></a><a id="ADOBJ00212"></a>
            
            <h2 id="ADOBJ-GUID-0240B84A-0691-49E2-8DBB-BDBF69C9FABA" class="sect2"><span class="enumeration_section">5.3 </span>Operations on Collection Data Types
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Operations on collection data types includes querying and comparing.</p>
               <p>Topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94" title="Querying a collection column in the SELECT list nests the elements of the collection in the result row that the collection is associated with. You can unnest the results of collection queries.A TABLE expression can contain a subquery of a collection.You can use a TABLE expression in a CURSOR expression.Unnesting queries can be also used with multilevel collections, both varrays and nested tables.">Collection Querying</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695">DML Operations on Collections</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-980EB386-E7B5-49CD-8A54-838405D990C4">Using BULK COLLECT to Return Entire Result Sets</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5">Conditions that Compare Nested Tables</a></p>
                  </li>
                  <li>
                     <p><a href="operations-on-collection-data-types.html#GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC">Multiset Operations for Nested Tables</a></p>
                  </li>
               </ul>
            </div><a id="ADOBJ7261"></a><div class="props_rev_3"><a id="GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94" name="GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94"></a><h3 id="ADOBJ-GUID-972A2EB4-C1CD-4FCA-8D5E-BCF7AC3ECF94" class="sect3"><span class="enumeration_section">5.3.1 </span>Collection Querying
               </h3>
               <div>
                  <p>There are two general ways to query a table that contains a collection type as a column or attribute. </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Nest the collections in the result rows that contain them.</p>
                     </li>
                     <li>
                        <p>Distribute or unnest collections so that each collection element appears on a row by itself.</p>
                     </li>
                  </ul>
                  <p>Topics: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26" title="Querying a collection column in the SELECT list nests the elements of the collection in the result row that the collection is associated with.">Nesting Results of Collection Queries</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" title="You can unnest the results of collection queries.">Unnesting Results of Collection Queries</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314" title="A TABLE expression can contain a subquery of a collection.">Unnesting Queries Containing Table Expression Subqueries</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004" title="You can use a TABLE expression in a CURSOR expression.">Using a Table Expression in a CURSOR Expression</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-C5545A83-683A-47FD-80D2-8CD242F69568" title="Unnesting queries can be also used with multilevel collections, both varrays and nested tables.">Unnesting Queries with Multilevel Collections</a></p>
                     </li>
                  </ul>
               </div><a id="ADOBJ7263"></a><a id="ADOBJ7262"></a><div class="props_rev_3"><a id="GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26" name="GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26"></a><h4 id="ADOBJ-GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26" class="sect4"><span class="enumeration_section">5.3.1.1 </span>Nesting Results of Collection Queries
                  </h4>
                  <div>
                     <p>Querying a collection column in the <code class="codeph">SELECT</code> list nests the elements of the collection in the result row that the collection is associated with. 
                     </p>
                     <div class="section">
                        <p>The queries in <a href="operations-on-collection-data-types.html#GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26__BHBIIDCC">Example 5-16</a> use the <code class="codeph">department_persons</code> table shown in <a href="collection-data-types.html#GUID-F23E2476-DCD9-4D23-8C9E-80E77BA53ED7__CHDDFHFB">Example 5-3</a>. 
                        </p>
                        <p>The column <code class="codeph">dept_emps</code> is a nested table collection of <code class="codeph">person_typ</code> type. The <code class="codeph">dept_emps</code> collection column appears in the <code class="codeph">SELECT</code> list like an ordinary scalar column
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26__BHBIIDCC">
                        <p class="titleinexample">Example 5-16 Nesting Results of Collection Queries</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and Ex. 5-3
SELECT d.dept_emps 
  FROM department_persons d;
</pre><p>These queries retrieve this nested collection of employees.</p><pre class="pre codeblock"><code>DEPT_EMPS(IDNO, NAME, PHONE)
-------------------------------------------------------------
PEOPLE_TYP(PERSON_TYP(1, 'John Smith', '1-650-555-0135'),
PERSON_TYP(2, 'Diane Smith', '1-650-555-0135'))</code></pre><p>The results are also nested if an object type column in the <code class="codeph">SELECT</code> list contains a collection attribute, even if that collection is not explicitly listed in the <code class="codeph">SELECT</code> list itself. For example, the query <code class="codeph">SELECT</code> <code class="codeph">*</code> <code class="codeph">FROM</code> <code class="codeph">department_persons</code> produces a nested result.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7265"></a><a id="ADOBJ7264"></a><div class="props_rev_3"><a id="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" name="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A"></a><h4 id="ADOBJ-GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" class="sect4"><span class="enumeration_section">5.3.1.2 </span>Unnesting Results of Collection Queries
                  </h4>
                  <div>
                     <p>You can unnest the results of collection queries.</p>
                     <div class="section">
                        <p>Unnesting collection query results is useful because not all tools or applications can deal with results in a nested format. To view Oracle collection data using tools that require a conventional format, you must unnest, or flatten, the collection attribute of a row into one or more relational rows. You can do this using a <code class="codeph">TABLE</code> expression with the collection. <code class="codeph">TABLE</code> expressions enable you to query a collection in the <code class="codeph">FROM</code> clause like a table. In effect, you join the nested table with the row that contains the nested table.
                        </p>
                        <p><code class="codeph">TABLE</code> expressions can be used to query any collection value expression, including transient values such as variables and parameters.
                        </p>
                        <div class="infoboxnotealso" id="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__GUID-2D7AF179-F02F-4616-A30D-3D8DE21A7716">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/SELECT.html#SQLRF30047" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for further information on the <code class="codeph">TABLE</code> expression and unnesting collections 
                           </p>
                        </div>
                        <p>The query in<a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">Example 5-17</a>, like that of <a href="operations-on-collection-data-types.html#GUID-ED0C7364-9EDF-46C6-9604-1A3C519CFC26__BHBIIDCC">Example 5-16</a>, retrieves the collection of employees, but here the collection is unnested.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">
                        <p class="titleinexample">Example 5-17 Unnesting Results of Collection Queries</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
SELECT e.* 
  FROM department_persons d, TABLE(d.dept_emps) e;
</pre><p> Output:</p><pre class="pre codeblock"><code>IDNO       NAME                           PHONE
---------- ------------------------------ ---------------
1          John Smith                     1-650-555-0135
2          Diane Smith                    1-650-555-0135</code></pre><p><a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">Example 5-17</a>shows that a <code class="codeph">TABLE</code> expression can have its own table alias. A table alias for the <code class="codeph">TABLE</code> expression appears in the <code class="codeph">SELECT</code> list to select columns returned by the <code class="codeph">TABLE</code> expression. 
                        </p>
                        <p>The <code class="codeph">TABLE</code> expression uses another table alias to specify the table that contains the collection column that the <code class="codeph">TABLE</code> expression references. The expression <code class="codeph">TABLE(d.dept_emps)</code> specifies the <code class="codeph">department_persons</code> table as containing the <code class="codeph">dept_emps</code> collection column. To reference a table column, a <code class="codeph">TABLE</code> expression can use the table alias of any table appearing to the left of it in a <code class="codeph">FROM</code> clause. This is called left correlation.
                        </p>
                        <p>In<a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A__BHBFDFDJ">Example 5-17</a>, the <code class="codeph">department_persons</code> table is listed in the <code class="codeph">FROM</code> clause solely to provide a table alias for the <code class="codeph">TABLE</code> expression to use. No columns from the <code class="codeph">department_persons</code> table other than the column referenced by the <code class="codeph">TABLE</code> expression appear in the result.
                        </p>
                        <p>The following example produces rows only for departments that have employees. </p><pre class="oac_no_warn" dir="ltr">SELECT d.dept_no, e.* 
  FROM department_persons d, TABLE(d.dept_emps) e;
</pre><p>To get rows for departments with or without employees, you can use outer-join syntax:</p><pre class="oac_no_warn" dir="ltr">SELECT d.dept_no, e.* 
  FROM department_persons d, TABLE(d.dept_emps) (+) e;
</pre><p>The (+) indicates that the dependent join between <code class="codeph">department_persons</code> and <code class="codeph">e.dept_emps</code> should be <code class="codeph">NULL</code>-augmented. That is, there will be rows of <code class="codeph">department_persons</code> in the output for which <code class="codeph">e.dept_emps</code> is <code class="codeph">NULL</code> or empty, with <code class="codeph">NULL</code> values for columns corresponding to <code class="codeph">e.dept_emps</code>.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7267"></a><a id="ADOBJ7266"></a><div class="props_rev_3"><a id="GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314" name="GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314"></a><h4 id="ADOBJ-GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314" class="sect4"><span class="enumeration_section">5.3.1.3 </span>Unnesting Queries Containing Table Expression Subqueries
                  </h4>
                  <div>
                     <p>A <code class="codeph">TABLE</code> expression can contain a subquery of a collection.
                     </p>
                     <div class="section">
                        <p>This is an alternative to the examples in <span class="q">"<a href="operations-on-collection-data-types.html#GUID-162C0E09-FE50-48CB-957F-F7B424BEC33A" title="You can unnest the results of collection queries.">Unnesting Results of Collection Queries</a>"</span> which show a <code class="codeph">TABLE</code> expression that contains the name of a collection. 
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314__CIHECAFA">Example 5-18</a> returns the collection of employees whose department number is <code class="codeph">101</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-67C2AA68-EBD2-4BBF-823A-F1D5FE536314__CIHECAFA">
                        <p class="titleinexample">Example 5-18 Using a Table Expression Containing a Subquery of a Collection</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
SELECT *
  FROM TABLE(SELECT d.dept_emps 
               FROM department_persons d
               WHERE d.dept_no = 101);
</pre><p>Subqueries in a <code class="codeph">TABLE</code> expression have these restrictions:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The subquery must return a collection type.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">SELECT</code> list of the subquery must contain exactly one item.
                              </p>
                           </li>
                           <li>
                              <p>The subquery must return only a single collection; it cannot return collections for multiple rows. For example, the subquery <code class="codeph">SELECT</code> <code class="codeph">dept_emps</code> <code class="codeph">FROM</code> <code class="codeph">department_persons</code> succeeds in a <code class="codeph">TABLE</code> expression only if table <code class="codeph">department_persons</code> contains just a single row. If the table contains more than one row, the subquery produces an error.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7268"></a><div class="props_rev_3"><a id="GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004" name="GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004"></a><h4 id="ADOBJ-GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004" class="sect4"><span class="enumeration_section">5.3.1.4 </span>Using a Table Expression in a CURSOR Expression
                  </h4>
                  <div>
                     <p>You can use a <code class="codeph">TABLE</code> expression in a <code class="codeph">CURSOR</code> expression.
                     </p>
                     <div class="section">
                        <p><a href="operations-on-collection-data-types.html#GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004__CIHJEAJF">Example 5-19</a> shows a <code class="codeph">TABLE</code> expression used in the <code class="codeph">FROM</code> clause of a <code class="codeph">SELECT</code> embedded in a <code class="codeph">CURSOR</code> expression.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-01DD8EBB-D4EF-4E68-A3C2-4A7DBB50B004__CIHJEAJF">
                        <p class="titleinexample">Example 5-19 Using a Table Expression in a CURSOR Expression</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
SELECT d.dept_no, CURSOR(SELECT * FROM TABLE(d.dept_emps)) 
  FROM department_persons d
   WHERE d.dept_no = 101;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7270"></a><a id="ADOBJ7269"></a><div class="props_rev_3"><a id="GUID-C5545A83-683A-47FD-80D2-8CD242F69568" name="GUID-C5545A83-683A-47FD-80D2-8CD242F69568"></a><h4 id="ADOBJ-GUID-C5545A83-683A-47FD-80D2-8CD242F69568" class="sect4"><span class="enumeration_section">5.3.1.5 </span>Unnesting Queries with Multilevel Collections
                  </h4>
                  <div>
                     <p>Unnesting queries can be also used with multilevel collections, both varrays and nested tables.</p>
                     <div class="section">
                        <p> <a href="operations-on-collection-data-types.html#GUID-C5545A83-683A-47FD-80D2-8CD242F69568__CIHCEAEG">Example 5-20</a> shows an unnesting query on a multilevel nested table collection of nested tables. From the table <code class="codeph">region_tab</code> where each region has a nested table of <code class="codeph">countries</code> and each country has a nested table of <code class="codeph">locations</code>, the query returns the names of all <code class="codeph">regions</code>, <code class="codeph">countries</code>, and <code class="codeph">locations</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C5545A83-683A-47FD-80D2-8CD242F69568__CIHCEAEG">
                        <p class="titleinexample">Example 5-20 Unnesting Queries with Multilevel Collections Using the TABLE Function</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
SELECT r.region_name, c.country_name, l.location_id 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l;
 
-- the following query is optimized to run against the locations table
SELECT l.location_id, l.city 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l;
</pre><p>The output should be as follows:</p><pre class="oac_no_warn" dir="ltr">REGION_NAME               COUNTRY_NAME                             LOCATION_ID
------------------------- ---------------------------------------- -----------
Europe                    Italy                                           1000
Europe                    Italy                                           1100
Europe                    Switzerland                                     2900
Europe                    Switzerland                                     3000
Europe                    United Kingdom                                  2400
Europe                    United Kingdom                                  2500
Europe                    United Kingdom                                  2600
 
7 rows selected.
</pre><pre class="oac_no_warn" dir="ltr">LOCATION_ID CITY
----------- ------------------------------
       1000 Roma
       1100 Venice
       2900 Geneva
       3000 Bern
       2400 London
       2500 Oxford
       2600 Stretford
 
7 rows selected.
</pre><p>Because no columns of the base table <code class="codeph">region_tab</code> appear in the second <code class="codeph">SELECT</code> list, the query is optimized to run directly against the <code class="codeph">locations</code> storage table.
                        </p>
                        <p>Outer-join syntax can also be used with queries of multilevel collections.</p>
                        <div class="infoboxnotealso" id="GUID-C5545A83-683A-47FD-80D2-8CD242F69568__GUID-5EDE9054-1E1A-4C3E-B77C-4B78226AA3F3">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="design-considerations-for-collections.html#GUID-CD77D40B-CCAC-4F38-9BD9-C904F35618DA" title="You can query for a list of people and their home phone numbers, based on the home_phones() function you just created.">Viewing Object Data in Relational Form with Unnesting Queries</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADOBJ7271"></a><div class="props_rev_3"><a id="GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695" name="GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695"></a><h3 id="ADOBJ-GUID-C025E6AE-509C-4A0C-AA14-7AF26E140695" class="sect3"><span class="enumeration_section">5.3.2 </span>DML Operations on Collections
               </h3>
               <div>
                  <p>Oracle supports the <span>following</span> DML operations on collections:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Inserts and updates that provide a new value for the entire collection</p>
                     </li>
                     <li>
                        <p>Individual or piecewise updates of nested tables and multilevel nested tables, including inserting, deleting, and updating elements </p>
                     </li>
                  </ul>
                  <p>Oracle does not support piecewise updates on <code class="codeph">VARRAY</code> columns. However, <code class="codeph">VARRAY</code> columns can be inserted into or updated as an atomic unit. This section contains these topics:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4">Performing Piecewise Operations on Nested Tables</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6">Updating a Nested Table</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311">Performing Piecewise Operations on Multilevel Nested Tables</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-D46B7174-A1DF-4416-A23B-362930467B07">Performing Piecewise INSERT to Inner Nested Table</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699">Performing Atomical Changes on VARRAYs and Nested Tables</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46">Updating Collections as Atomic Data Items</a></p>
                     </li>
                  </ul>
               </div><a id="ADOBJ7273"></a><a id="ADOBJ7272"></a><div class="props_rev_3"><a id="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4" name="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4"></a><h4 id="ADOBJ-GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4" class="sect4"><span class="enumeration_section">5.3.2.1 </span>Performing Piecewise Operations on Nested Tables
                  </h4>
                  <div>
                     <div class="section">
                        <p>For piecewise operations on nested table columns, use the <code class="codeph">TABLE</code> expression. 
                        </p>
                        <p>The <code class="codeph">TABLE</code> expression uses a subquery to extract the nested table, so that the <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement applies to the nested table rather than the top-level table.
                        </p>
                        <p><code class="codeph">CAST</code> operators are also helpful. With them, you can do set operations on nested tables using SQL notation, without actually storing the nested tables in the database.
                        </p>
                        <p>The DML statements in <a href="operations-on-collection-data-types.html#GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4__CIHJHIGG">Example 5-21</a> demonstrate piecewise operations on nested table columns.
                        </p>
                        <div class="infoboxnotealso" id="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4__GUID-71BCD007-9C27-4504-9D1B-21FE27D4CCF2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> <a href="../sqlrf/CAST.html#SQLRF00613" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="functions-and-operators-useful-with-objects.html#GUID-6CD85D07-1E06-4E42-A582-68F478040A39">CAST</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C7FC0A7A-F958-4790-8711-4983350BEDD4__CIHJHIGG">
                        <p class="titleinexample">Example 5-21 Piecewise Operations on Collections</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-3
INSERT INTO TABLE(SELECT d.dept_emps 
                  FROM department_persons d
                  WHERE d.dept_no = 101)
   VALUES (5, 'Kevin Taylor', '1-408-555-0199');

UPDATE TABLE(SELECT d.dept_emps 
                  FROM department_persons d
                  WHERE d.dept_no = 101) e   
   SET VALUE(e) = person_typ(5, 'Kevin Taylor', '1-408-555-0199')
   WHERE e.idno = 5;
     
DELETE FROM TABLE(SELECT d.dept_emps 
                  FROM department_persons d
                  WHERE d.dept_no = 101) e
   WHERE e.idno = 5;
</pre></div>
                     <!-- class="example" -->
                  </div><a id="ADOBJ7274"></a><div class="sect4"><a id="GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6" name="GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6"></a><h5 id="ADOBJ-GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6" class="sect5"><span class="enumeration_section">5.3.2.1.1 </span>Updating a Nested Table
                     </h5>
                     <div>
                        <p>You can use <code class="codeph">VALUE</code> to return object instance rows for updating.
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6__CIHJDAFI">Example 5-22</a> shows <code class="codeph">VALUE</code> used to return object instance rows for updating:
                        </p>
                        <div class="example" id="GUID-7A47068C-D2B9-480A-B3AC-BCF6A1D6A5A6__CIHJDAFI">
                           <p class="titleinexample">Example 5-22 Using VALUE to Update a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1, 5-3
UPDATE TABLE(SELECT d.dept_emps FROM department_persons d 
               WHERE  d.dept_no = 101) p
   SET VALUE(p) = person_typ(2, 'Diane Smith', '1-650-555-0148')
   WHERE p.idno = 2;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADOBJ7276"></a><a id="ADOBJ7275"></a><div class="props_rev_3"><a id="GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311" name="GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311"></a><h4 id="ADOBJ-GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311" class="sect4"><span class="enumeration_section">5.3.2.2 </span>Performing Piecewise Operations on Multilevel Nested Tables
                  </h4>
                  <div>
                     <div class="section">
                        <p>Piecewise DML is possible only on multilevel nested tables, not on multilevel varrays. </p>
                        <p>You can perform DML operations atomically on both VARRAYs and nested tables multilevel collections as described in <span class="q">"<a href="operations-on-collection-data-types.html#GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46">Updating Collections as Atomic Data Items</a>"</span>. 
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311__CIHEEEBD">Example 5-23</a> shows a piecewise insert operation on the <code class="codeph">countries</code> nested table of nested tables. The example inserts a new country, complete with its own nested table of <code class="codeph">location_typ</code>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-14C5B6B0-2ED1-46D2-AADF-950D4C80A311__CIHEEEBD">
                        <p class="titleinexample">Example 5-23 Piecewise INSERT on a Multilevel Collection</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
INSERT INTO TABLE( SELECT countries FROM region_tab r WHERE r.region_id = 2) 
  VALUES ( 'CA', 'Canada', nt_location_typ( 
       location_typ(1800, '147 Spadina Ave', 'M5V 2L7', 'Toronto', 'Ontario')));
</pre></div>
                     <!-- class="example" -->
                  </div><a id="ADOBJ7277"></a><div class="props_rev_3"><a id="GUID-D46B7174-A1DF-4416-A23B-362930467B07" name="GUID-D46B7174-A1DF-4416-A23B-362930467B07"></a><h5 id="ADOBJ-GUID-D46B7174-A1DF-4416-A23B-362930467B07" class="sect5"><span class="enumeration_section">5.3.2.2.1 </span>Performing Piecewise INSERT to Inner Nested Table
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can use piecewise insert into an inner nested table to make an individual addition.</p>
                           <p><a href="operations-on-collection-data-types.html#GUID-D46B7174-A1DF-4416-A23B-362930467B07__CIHDABBA">Example 5-24</a> performs a piecewise insert into an inner nested table to add a location for a country. Like the preceding example, this example uses a <code class="codeph">TABLE</code> expression containing a subquery that selects the inner nested table to specify the target for the insert.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-D46B7174-A1DF-4416-A23B-362930467B07__CIHDABBA">
                           <p class="titleinexample">Example 5-24 Piecewise INSERT into an Inner Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
INSERT INTO TABLE( SELECT c.locations 
  FROM TABLE( SELECT r.countries FROM region_tab r WHERE r.region_id = 2) c
  WHERE c.country_id = 'US')
  VALUES (1700, '2004 Lakeview Rd', '98199', 'Seattle', 'Washington');
 
SELECT r.region_name, c.country_name, l.location_id 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADOBJ7279"></a><a id="ADOBJ7278"></a><div class="sect3"><a id="GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699" name="GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699"></a><h4 id="ADOBJ-GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699" class="sect4"><span class="enumeration_section">5.3.2.3 </span>Performing Atomical Changes on VARRAYs and Nested Tables
                  </h4>
                  <div>
                     <p>You can make atomical changes to nested tables and <code class="codeph">VARRAY</code>s.
                     </p>
                     <p>Note: While nested tables can also be changed in a piecewise fashions, varrays cannot.</p>
                     <p><a href="operations-on-collection-data-types.html#GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699__BEIGEIFE">Example 5-25</a> shows how you can manipulate SQL varray object types with PL/SQL statements. In this example, varrays are transferred between PL/SQL variables and SQL tables. You can insert table rows containing collections, update a row to replace its collection, and select collections into PL/SQL variables.
                     </p>
                     <p>However, you cannot update or delete individual varray elements directly with SQL; you have to select the varray from the table, change it in PL/SQL, then update the table to include the new varray. You can also do this with nested tables, but nested tables have the option of doing piecewise updates and deletes.</p>
                     <div class="example" id="GUID-C6FEAA24-85E5-44B5-B801-BF9D2DA84699__BEIGEIFE">
                        <p class="titleinexample">Example 5-25 Using INSERT, UPDATE, DELETE, and SELECT Statements With Varrays</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE dnames_var IS VARRAY(7) OF VARCHAR2(30);
/
CREATE TABLE depts (region VARCHAR2(25), dept_names dnames_var);
BEGIN
   <span class="bold">INSERT</span> INTO depts VALUES('Europe', dnames_var('Shipping','Sales','Finance'));
   <span class="bold">INSERT</span> INTO depts VALUES('Americas', dnames_var('Sales','Finance','Shipping'));
   <span class="bold">INSERT</span> INTO depts 
     VALUES('Asia', dnames_var('Finance','Payroll','Shipping','Sales'));
   COMMIT;
END;
/
DECLARE
   new_dnames dnames_var := dnames_var('Benefits', 'Advertising', 'Contracting', 
                                       'Executive', 'Marketing');
   some_dnames dnames_var;
BEGIN
   <span class="bold">UPDATE</span> depts SET dept_names  = new_dnames WHERE region = 'Europe';
   COMMIT;
   <span class="bold">SELECT</span> dept_names INTO some_dnames FROM depts WHERE region = 'Europe';
   FOR i IN some_dnames.FIRST .. some_dnames.LAST
   LOOP
      DBMS_OUTPUT.PUT_LINE('dept_names = ' || some_dnames(i));
   END LOOP;
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7281"></a><a id="ADOBJ7280"></a><div class="props_rev_3"><a id="GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46" name="GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46"></a><h4 id="ADOBJ-GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46" class="sect4"><span class="enumeration_section">5.3.2.4 </span>Updating Collections as Atomic Data Items
                  </h4>
                  <div>
                     <div class="section">
                        <p>Multilevel collections (both <code class="codeph">VARRAY</code> and nested tables) can also be updated atomically with an <code class="codeph">UPDATE</code> statement. For example, suppose <code class="codeph">v_country</code> is a variable declared to be of the <code class="codeph">countries</code> nested table type <code class="codeph">nt_country_typ</code>. 
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46__CIHEHGBH">Example 5-26</a> updates <code class="codeph">region_tab</code> by setting the <code class="codeph">countries</code> collection as a unit to the value of <code class="codeph">v_country</code>.
                        </p>
                        <p>The section <span class="q">"<a href="multilevel-collection-types.html#GUID-FB2298CD-F748-4DF6-96F1-CD09C9349D83" title="Multilevel collection types are created by calling the constructor of the respective type, just like single-level collections and other object types.">Constructors for Multilevel Collections</a>"</span>  shows how to insert an entire multilevel collection with an <code class="codeph">INSERT</code> statement.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9D817AE2-45FE-437D-BE35-CFE01BB0AC46__CIHEHGBH">
                        <p class="titleinexample">Example 5-26 Using UPDATE to Insert an Entire Multilevel Collection</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-10 and 5-15
INSERT INTO region_tab (region_id, region_name) VALUES(2, 'Americas');

DECLARE
  v_country nt_country_typ;
BEGIN
  v_country :=  nt_country_typ( country_typ( 
   'US', 'United States of America', nt_location_typ (
   location_typ( 1500,'2011 Interiors Blvd','99236','San Francisco','California'),
   location_typ(1600,'2007 Zagora St','50090','South Brunswick','New Jersey'))));
  <span class="bold">UPDATE</span> region_tab r 
    SET r.countries = v_country WHERE r.region_id = 2;
END;
/
-- Invocation:
SELECT r.region_name, c.country_name, l.location_id 
  FROM region_tab r, TABLE(r.countries) c, TABLE(c.locations) l
     WHERE r.region_id = 2;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADOBJ7283"></a><a id="ADOBJ7282"></a><div class="props_rev_3"><a id="GUID-980EB386-E7B5-49CD-8A54-838405D990C4" name="GUID-980EB386-E7B5-49CD-8A54-838405D990C4"></a><h3 id="ADOBJ-GUID-980EB386-E7B5-49CD-8A54-838405D990C4" class="sect3"><span class="enumeration_section">5.3.3 </span>Using BULK COLLECT to Return Entire Result Sets
               </h3>
               <div>
                  <div class="section">
                     <p>The PL/SQL <code class="codeph">BULK</code> <code class="codeph">COLLECT</code> clause is an alternative to using DML statements, which can be time consuming to process. You can return an entire result set in one operation.
                     </p>
                     <p>In <a href="operations-on-collection-data-types.html#GUID-980EB386-E7B5-49CD-8A54-838405D990C4__BABBJBHD">Example 5-27</a>, <code class="codeph">BULK</code> <code class="codeph">COLLECT</code> is used with a multilevel collection that includes an object type.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-980EB386-E7B5-49CD-8A54-838405D990C4__BABBJBHD">
                     <p class="titleinexample">Example 5-27 Using BULK COLLECT with Collections</p><pre class="oac_no_warn" dir="ltr">-- unrelated to other examples in this chapter
CREATE TYPE dnames_var IS VARRAY(7) OF VARCHAR2(30);
/
CREATE TABLE depts (region VARCHAR2(25), dept_names dnames_var);
BEGIN
   INSERT INTO depts VALUES('Europe', dnames_var('Shipping','Sales','Finance'));
   INSERT INTO depts VALUES('Americas', dnames_var('Sales','Finance','Shipping'));
   INSERT INTO depts 
     VALUES('Asia', dnames_var('Finance','Payroll','Shipping','Sales'));
   COMMIT;
END;
/
DECLARE
   TYPE dnames_tab IS TABLE OF dnames_var;
   v_depts dnames_tab;
BEGIN
    SELECT dept_names <span class="bold">BULK COLLECT</span> INTO v_depts FROM depts;
    DBMS_OUTPUT.PUT_LINE(v_depts.COUNT); -- prints 3
END;
/</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADOBJ7284"></a><div class="props_rev_3"><a id="GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5" name="GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5"></a><h3 id="ADOBJ-GUID-B0C65E4A-9CF0-49BA-AFDD-62B792BCF5E5" class="sect3"><span class="enumeration_section">5.3.4 </span>Conditions that Compare Nested Tables
               </h3>
               <div>
                  <p>Using certain conditions, you can compare nested tables, including multilevel nested tables. There is no mechanism for comparing varrays. </p>
                  <p>The SQL examples in this section use the nested tables created in <a href="collection-data-types.html#GUID-041D1EF0-0EF1-4488-9DBC-894C0214C5EF__I477859">Example 5-5</a>, and contain the objects created in <a href="collection-data-types.html#GUID-70E5DE6B-6820-4161-BBE4-E24445E16462__CHDBCCHJ">Example 5-1</a>.
                  </p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-CA49765F-A854-438B-9FE7-FDB88B414F82">Comparing Equal and Not Equal Conditions </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB">Comparing the IN Condition </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B">Comparing Subset of Multiset Conditions</a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84">Determing Members of a Nested Table </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9">Determining Empty Conditions </a></p>
                     </li>
                     <li>
                        <p><a href="operations-on-collection-data-types.html#GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E">Determining Set Conditions </a></p>
                     </li>
                  </ul>
               </div><a id="ADOBJ7286"></a><a id="ADOBJ7285"></a><div class="props_rev_3"><a id="GUID-CA49765F-A854-438B-9FE7-FDB88B414F82" name="GUID-CA49765F-A854-438B-9FE7-FDB88B414F82"></a><h4 id="ADOBJ-GUID-CA49765F-A854-438B-9FE7-FDB88B414F82" class="sect4"><span class="enumeration_section">5.3.4.1 </span>Comparing Equal and Not Equal Conditions 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The equal (=) and not equal (&lt;&gt;) conditions determine whether the input nested tables are identical or not, returning the result as a Boolean value. </p>
                        <p>Two nested tables are equal if they have the same named type, have the same cardinality, and their elements are equal. Elements are equal depending on whether they are equal by the elements own equality definitions, except for object types which require a map method. Equality is determined in the existing order of the elements, because nested tables are unordered. </p>
                        <p>In <a href="operations-on-collection-data-types.html#GUID-CA49765F-A854-438B-9FE7-FDB88B414F82__CIHFECIH">Example 5-28</a>, the nested tables contain <code class="codeph">person_typ</code> objects, which have an associated map method. See <a href="collection-data-types.html#GUID-70E5DE6B-6820-4161-BBE4-E24445E16462__CHDBCCHJ">Example 5-1</a>. Since the two nested tables in the <code class="codeph">WHERE</code> clause are not equal, no rows are selected.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CA49765F-A854-438B-9FE7-FDB88B414F82__CIHFECIH">
                        <p class="titleinexample">Example 5-28 Using an Equality Comparison with Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.name 
  FROM students, TABLE(physics_majors) p 
WHERE math_majors = physics_majors;
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7288"></a><a id="ADOBJ7287"></a><div class="props_rev_3"><a id="GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB" name="GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB"></a><h4 id="ADOBJ-GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB" class="sect4"><span class="enumeration_section">5.3.4.2 </span>Comparing the IN Condition 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">IN</code> condition checks whether or not a nested table is in a list of nested tables, returning the result as a Boolean value. NULL is returned if the nested table is a null nested table.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-550D7EE4-78CA-4195-987A-96D5FAAB33EB__GUID-FC564F34-3A36-47A5-8026-F924B388E792">
                        <p class="titleinexample">Example 5-29 Using an IN Comparison with Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors IN (math_majors, chem_majors);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7290"></a><a id="ADOBJ7289"></a><div class="props_rev_3"><a id="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B" name="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B"></a><h4 id="ADOBJ-GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B" class="sect4"><span class="enumeration_section">5.3.4.3 </span>Comparing Subset of Multiset Conditions
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SUBMULTISET</code> <code class="codeph">[OF]</code> condition checks whether or not a nested table is a subset of another nested table, returning the result as a Boolean value. The <code class="codeph">OF</code> keyword is optional and does not change the functionality of <code class="codeph">SUBMULTISET</code>.
                        </p>
                        <p>This condition is implemented only for nested tables.</p>
                        <div class="infoboxnotealso" id="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B__GUID-843E2B62-FD36-40A4-8ABD-A2213E17FFDB">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="operations-on-collection-data-types.html#GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC">Multiset Operations for Nested Tables</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-02FD4549-336D-4B70-8A13-9CF5D0D3B42B__GUID-AF7A4C01-7D66-435F-8BF6-D3A116DCB560">
                        <p class="titleinexample">Example 5-30 Testing the SUBMULTISET OF Condition on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors SUBMULTISET OF math_majors;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7292"></a><a id="ADOBJ7293"></a><a id="ADOBJ7291"></a><div class="props_rev_3"><a id="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84" name="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84"></a><h4 id="ADOBJ-GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84" class="sect4"><span class="enumeration_section">5.3.4.4 </span>Determing Members of a Nested Table 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MEMBER</code> <code class="codeph">[OF]</code> or <code class="codeph">NOT</code> <code class="codeph">MEMBER</code> <code class="codeph">[OF]</code> condition tests whether or not an element is a member of a nested table, returning the result as a Boolean value. The <code class="codeph">OF</code> keyword is optional and has no effect on the output. 
                        </p>
                        <p>In <a href="operations-on-collection-data-types.html#GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CIHBFJFF">Example 5-31</a>, the <code class="codeph">person_typ</code> is an element of the same type as the elements of the nested table <code class="codeph">math_majors</code>.
                        </p>
                        <p><a href="operations-on-collection-data-types.html#GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CHDDBHGA">Example 5-32</a> presents an alternative approach to the <code class="codeph">MEMBER</code> <code class="codeph">OF</code> condition, which performs more efficiently for large collections.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CIHBFJFF">
                        <p class="titleinexample">Example 5-31 Using MEMBER OF on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT graduation 
  FROM students 
WHERE person_typ(12, 'Bob Jones', '1-650-555-0130') MEMBER OF math_majors;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7B34CDAD-CF7D-4BBF-90DE-338527A18B84__CHDDBHGA">
                        <p class="titleinexample">Example 5-32 Alternative to Using MEMBER OF on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT graduation
  FROM students
WHERE person_typ(12, 'Bob Jones', '1-650-555-0130') in (select value(p) 
    from TABLE( math_majors) p);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7295"></a><a id="ADOBJ7294"></a><div class="props_rev_3"><a id="GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9" name="GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9"></a><h4 id="ADOBJ-GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9" class="sect4"><span class="enumeration_section">5.3.4.5 </span>Determining Empty Conditions 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">IS</code> <code class="codeph">[NOT]</code> <code class="codeph">EMPTY</code> condition checks whether a given nested table is empty or not empty, regardless of whether any of the elements are NULL. If a NULL is given for the nested table, the result is NULL. The result is returned as a Boolean value.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2BECC439-CE71-473C-9D9B-6AC20EA675E9__GUID-4E458735-1081-40BB-9178-E34985CF6577">
                        <p class="titleinexample">Example 5-33 Using IS NOT on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors IS NOT EMPTY;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADOBJ7297"></a><a id="ADOBJ7296"></a><div class="props_rev_3"><a id="GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E" name="GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E"></a><h4 id="ADOBJ-GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E" class="sect4"><span class="enumeration_section">5.3.4.6 </span>Determining Set Conditions 
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">IS</code> <code class="codeph">[NOT]</code> <code class="codeph">A</code> <code class="codeph">SET</code> condition checks whether or not a given nested table is composed of unique elements, returning a Boolean value.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-67BEBA3F-7A6E-4389-8258-AA7513F5A97E__GUID-1C3DBAD8-2930-4975-8612-220BF206B4D2">
                        <p class="titleinexample">Example 5-34 Using IS A SET on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT p.idno, p.name 
  FROM students, TABLE(physics_majors) p 
WHERE physics_majors IS A SET;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADOBJ7298"></a><div class="sect2"><a id="GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC" name="GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC"></a><h3 id="ADOBJ-GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC" class="sect3"><span class="enumeration_section">5.3.5 </span>Multiset Operations for Nested Tables
               </h3>
               <div>
                  <p>You can use<a href="glossary.html#GUID-9FC615B7-02EA-4FCD-9B90-15530E4F3E21"><span class="xrefglossterm">multiset operators</span></a> for nested tables. Multiset operations are not available for varrays.
                  </p>
                  <p>The SQL examples in this section use the nested tables created in <a href="collection-data-types.html#GUID-041D1EF0-0EF1-4488-9DBC-894C0214C5EF__I477859">Example 5-5</a> and the objects created in <a href="collection-data-types.html#GUID-70E5DE6B-6820-4161-BBE4-E24445E16462__CHDBCCHJ">Example 5-1</a>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-8D7F01A5-BF07-4C4A-A4EE-490D899794FC__GUID-DB462D25-85A5-4515-95F1-DD9A0058D45E">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="functions-and-operators-useful-with-objects.html#GUID-502C8BA5-8B2F-4E57-B526-0C857DD3FA77">Functions and Operators Useful with Objects</a>"</span> for a description of additional operations
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/Operators.html#SQLRF003" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.for more information about using operators with nested tables
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADOBJ7300"></a><a id="ADOBJ7299"></a><div class="props_rev_3"><a id="GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC" name="GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC"></a><h4 id="ADOBJ-GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC" class="sect4"><span class="enumeration_section">5.3.5.1 </span>CARDINALITY
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">CARDINALITY</code> function returns the number of elements in a nested table. The return type is <code class="codeph">NUMBER</code>. If the nested table is a null collection, <code class="codeph">NULL</code> is returned. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C4339B0D-13FE-4052-A7FE-6E2E563DDBFC__GUID-25911636-302C-4749-B09A-FE2542EA3143">
                        <p class="titleinexample">Example 5-35 Determining the CARDINALITY of a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT CARDINALITY(math_majors) 
  FROM students;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>For more information about the <code class="codeph">CARDINALITY</code> function, see <a href="../sqlrf/CARDINALITY.html#SQLRF06305" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7301"></a><div class="props_rev_3"><a id="GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848" name="GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848"></a><h4 id="ADOBJ-GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848" class="sect4"><span class="enumeration_section">5.3.5.2 </span>COLLECT
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">COLLECT</code> function is an aggregate function which creates a multiset from a set of elements. The function takes a column of the element type as input and creates a multiset from rows selected. To get the results of this function, you must use it within a <code class="codeph">CAST</code> function to specify the output type of <code class="codeph">COLLECT</code>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-A2786900-25DD-4C35-B5C4-AA322BBB9848__GUID-1EB425CE-8DAF-4572-9C9A-BDC30C94FAF5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>See <span class="q">"<a href="functions-and-operators-useful-with-objects.html#GUID-6CD85D07-1E06-4E42-A582-68F478040A39">CAST</a>"</span> for an example of the <code class="codeph">COLLECT</code> function.
                                 </p>
                              </li>
                              <li>
                                 <p>For more information about the <code class="codeph">COLLECT</code> function, see <a href="../sqlrf/COLLECT.html#SQLRF06304" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7303"></a><a id="ADOBJ7302"></a><div class="props_rev_3"><a id="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1" name="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1"></a><h4 id="ADOBJ-GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1" class="sect4"><span class="enumeration_section">5.3.5.3 </span>MULTISET EXCEPT
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MULTISET</code> <code class="codeph">EXCEPT</code> operator inputs two nested tables and returns a nested table whose elements are in the first nested table but not the second. The input nested tables and the output nested table will all be of the same nested table type. 
                        </p>
                        <p>The <code class="codeph">ALL</code> or <code class="codeph">DISTINCT</code> options can be used with the operator. The default is <code class="codeph">ALL</code>. 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>With the <code class="codeph">ALL</code> option, for <code class="codeph">ntab1</code> <code class="codeph">MULTISET</code> <code class="codeph">EXCEPT</code> <code class="codeph">ALL</code> <code class="codeph">ntab2</code>, all elements in <code class="codeph">ntab1</code> other than those in <code class="codeph">ntab2</code> are part of the result. If a particular element occurs <span class="italic"><code class="codeph">m</code></span> times in <code class="codeph">ntab1</code> and <span class="italic"><code class="codeph">n</code></span> times in <code class="codeph">ntab2</code>, the result shows (<span class="italic"><code class="codeph">m</code></span> - <span class="italic"><code class="codeph">n</code></span>) occurrences of the element if <span class="italic"><code class="codeph">m</code></span> is greater than <span class="italic"><code class="codeph">n</code></span>, otherwise, <code class="codeph">0</code> occurrences of the element. 
                              </p>
                           </li>
                           <li>
                              <p>With the <code class="codeph">DISTINCT</code> option, any element that is present in <code class="codeph">ntab1</code> and is also present in <code class="codeph">ntab2</code> is eliminated, irrespective of the number of occurrences.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1__GUID-F19B4196-3B58-455C-AF74-DBAC7FC543F6">
                        <p class="titleinexample">Example 5-36 Using the MULTISET EXCEPT Operation on Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET EXCEPT physics_majors 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-204D944C-1F4A-4065-A1FF-7E8DA21BFFE1__GUID-38B25DF7-1C07-45C1-AA8C-30F6FAD95B37">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">MULTISET</code> <code class="codeph">EXCEPT</code> operator, see <a href="../sqlrf/Multiset-Operators.html#SQLRF0032" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7305"></a><a id="ADOBJ7304"></a><div class="props_rev_3"><a id="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4" name="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4"></a><h4 id="ADOBJ-GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4" class="sect4"><span class="enumeration_section">5.3.5.4 </span>MULTISET INTERSECT
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MULTISET</code> <code class="codeph">INTERSECT</code> operator returns a nested table whose values are common to the two input nested tables. The input nested tables and the output nested table are all type name equivalent. 
                        </p>
                        <p>There are two options associated with the operator: <code class="codeph">ALL</code> or <code class="codeph">DISTINCT</code>. The default is <code class="codeph">ALL</code>. With the <code class="codeph">ALL</code> option, if a particular value occurs <span class="italic"><code class="codeph">m</code></span> times in <code class="codeph">ntab1</code> and <span class="italic"><code class="codeph">n</code></span> times in <code class="codeph">ntab2</code>, the result contains the element <code class="codeph">MIN</code>(<span class="italic"><code class="codeph">m</code></span>, <span class="italic"><code class="codeph">n</code></span>) times. With the <code class="codeph">DISTINCT</code> option, the duplicates from the result are eliminated, including duplicates of <code class="codeph">NULL</code> values if they exist. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4__GUID-DF85B62A-49A9-451B-BC50-22FE52E6FAFC">
                        <p class="titleinexample">Example 5-37 Using the MULTISET INTERSECT Operation on Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET INTERSECT physics_majors 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0D4BE067-0A83-4EE3-9F28-1CF100220CF4__GUID-357D829A-320A-4CD1-9BE4-0C618AB89C53">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">MULTISET</code> <code class="codeph">INTERSECT</code> operator, see <a href="../sqlrf/Multiset-Operators.html#SQLRF0032" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7307"></a><a id="ADOBJ7306"></a><div class="props_rev_3"><a id="GUID-4861552D-787F-457A-BAFF-D44390FB77ED" name="GUID-4861552D-787F-457A-BAFF-D44390FB77ED"></a><h4 id="ADOBJ-GUID-4861552D-787F-457A-BAFF-D44390FB77ED" class="sect4"><span class="enumeration_section">5.3.5.5 </span>MULTISET UNION
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">MULTISET</code> <code class="codeph">UNION</code> operator returns a nested table whose values are those of the two input nested tables. The input nested tables and the output nested table are all type name equivalent. 
                        </p>
                        <p>There are two options associated with the operator: <code class="codeph">ALL</code> or <code class="codeph">DISTINCT</code>. The default is <code class="codeph">ALL</code>. With the <code class="codeph">ALL</code> option, all elements in <code class="codeph">ntab1</code> and <code class="codeph">ntab2</code> are part of the result, including all copies of <code class="codeph">NULL</code>s. If a particular element occurs <span class="italic"><code class="codeph">m</code></span> times in <code class="codeph">ntab1</code> and <span class="italic"><code class="codeph">n</code></span> times in <code class="codeph">ntab2</code>, the result contains the element (<span class="italic"><code class="codeph">m</code></span> + <span class="italic"><code class="codeph">n</code></span>) times. With the <code class="codeph">DISTINCT</code> option, the duplicates from the result are eliminated, including duplicates of <code class="codeph">NULL</code> values if they exist. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4861552D-787F-457A-BAFF-D44390FB77ED__GUID-9FE3F470-882F-4B77-8F54-BCF2406607A0">
                        <p class="titleinexample">Example 5-38 Using the MULTISET UNION Operation on Nested Tables</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET UNION DISTINCT physics_majors 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section"><pre class="pre codeblock"><code>PEOPLE_TYP(PERSON_TYP(12, 'Bob Jones', '1-650-555-0130'),
	PERSON_TYP(31, 'Sarah Chen', '1-415-555-0120'),
	PERSON_TYP(45, 'Chris Woods', '1-408-555-0128'))</code></pre><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT math_majors MULTISET UNION ALL physics_majors
  FROM students 
WHERE graduation = '01-JUN-03';
</pre><p>Output:</p><pre class="pre codeblock"><code>PEOPLE_TYP(PERSON_TYP(12, 'Bob Jones', '1-650-555-0130'),
	PERSON_TYP(31, 'Sarah Chen', '1-415-555-0120'),
	PERSON_TYP(45, 'Chris Woods', '1-408-555-0128'),
	PERSON_TYP(12, 'Bob Jones', '1-650-555-0130'),
	PERSON_TYP(45, 'Chris Woods', '1-408-555-0128'))	</code></pre><div class="infoboxnotealso" id="GUID-4861552D-787F-457A-BAFF-D44390FB77ED__GUID-55CF0316-4422-47D1-902B-7A534C204FAF">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">MULTISET</code> <code class="codeph">UNION</code> operator, see <a href="../sqlrf/Multiset-Operators.html#SQLRF51170" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7309"></a><a id="ADOBJ7308"></a><div class="props_rev_3"><a id="GUID-4F040601-814A-42B8-82F3-EAB6854246ED" name="GUID-4F040601-814A-42B8-82F3-EAB6854246ED"></a><h4 id="ADOBJ-GUID-4F040601-814A-42B8-82F3-EAB6854246ED" class="sect4"><span class="enumeration_section">5.3.5.6 </span>POWERMULTISET
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">POWERMULTISET</code> function generates all non-empty submultisets from a given multiset. The input to the <code class="codeph">POWERMULTISET</code> function can be any expression which evaluates to a multiset. The limit on the cardinality of the multiset argument is 32.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4F040601-814A-42B8-82F3-EAB6854246ED__GUID-40072ADA-640E-4A76-80AF-5918E797D0D7">
                        <p class="titleinexample">Example 5-39 Using the POWERMULTISET Operation on Multiset</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT * FROM TABLE(POWERMULTISET( people_typ (
           person_typ(12, 'Bob Jones', '1-650-555-0130'), 
           person_typ(31, 'Sarah Chen', '1-415-555-0120'), 
           person_typ(45, 'Chris Woods', '1-415-555-0124'))));
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-4F040601-814A-42B8-82F3-EAB6854246ED__GUID-8C2B61F3-7EFB-4FBB-A5E8-1036497FF7B2">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">POWERMULTISET</code> function, see <a href="../sqlrf/POWERMULTISET.html#SQLRF06306" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7311"></a><a id="ADOBJ7310"></a><div class="props_rev_3"><a id="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43" name="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43"></a><h4 id="ADOBJ-GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43" class="sect4"><span class="enumeration_section">5.3.5.7 </span>POWERMULTISET_BY_CARDINALITY
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">POWERMULTISET_BY_CARDINALITY</code> function returns all non-empty submultisets of a nested table of the specified cardinality. The output is rows of nested tables.
                        </p>
                        <p><code class="codeph">POWERMULTISET_BY_CARDINALITY(x, l)</code> is equivalent to <code class="codeph">TABLE(POWERMULTISET(x))</code> <code class="codeph">p</code> where <code class="codeph">CARDINALITY(value(p))</code> <code class="codeph">=</code> <code class="codeph">l</code>, where <span class="italic"><code class="codeph">x</code></span> is a multiset and l is the specified cardinality.
                        </p>
                        <p>The first input parameter to the <code class="codeph">POWERMULTISET_BY_CARDINALITY</code> can be any expression which evaluates to a nested table. The length parameter must be a positive integer, otherwise an error is returned. The limit on the cardinality of the nested table argument is 32.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43__GUID-4E0210BD-41FA-423B-BD34-9AAF76086DAB">
                        <p class="titleinexample">Example 5-40 Using the POWERMULTISET_BY_CARDINALITY Function</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT * FROM TABLE(POWERMULTISET_BY_CARDINALITY( people_typ (
           person_typ(12, 'Bob Jones', '1-650-555-0130'), 
           person_typ(31, 'Sarah Chen', '1-415-555-0120'), 
           person_typ(45, 'Chris Woods', '1-415-555-0124')),2));
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E28EB6DB-E989-4EBF-AE47-9BFFF723ED43__GUID-128EA772-8245-448F-979C-E81C5682A319">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">POWERMULTISET_BY_CARDINALITY</code> function, see <a href="../sqlrf/POWERMULTISET_BY_CARDINALITY.html#SQLRF06307" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADOBJ7313"></a><a id="ADOBJ7312"></a><div class="props_rev_3"><a id="GUID-D7713B2B-333E-448F-804A-95C15999BAF3" name="GUID-D7713B2B-333E-448F-804A-95C15999BAF3"></a><h4 id="ADOBJ-GUID-D7713B2B-333E-448F-804A-95C15999BAF3" class="sect4"><span class="enumeration_section">5.3.5.8 </span>SET
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SET</code> function converts a nested table into a set by eliminating duplicates, and returns a nested table whose elements are distinct from one another. The nested table returned is of the same named type as the input nested table.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D7713B2B-333E-448F-804A-95C15999BAF3__GUID-65FD4F91-51D7-4139-9885-DA5C7C53B157">
                        <p class="titleinexample">Example 5-41 Using the SET Function on a Nested Table</p><pre class="oac_no_warn" dir="ltr">-- Requires Ex. 5-1 and 5-5
SELECT SET(physics_majors) 
  FROM students 
WHERE graduation = '01-JUN-03';
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-D7713B2B-333E-448F-804A-95C15999BAF3__GUID-B939EFFD-87B4-4037-8607-44B16078EC04">
                           <p class="notep1">See Also:</p>
                           <p>For more information about the <code class="codeph">SET</code> function, see <a href="../sqlrf/SET.html#SQLRF06308" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04779.multithreaded-extproc-agent.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="What is the multithreaded extproc agent?">
      <meta name="description" content="What is the multithreaded extproc agent?">
      <title>Multithreaded extproc Agent</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="What is the multithreaded extproc agent?">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="deprecated-oci-functions.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="deprecated-oci-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Multithreaded extproc Agent</li>
            </ol>
            <a id="GUID-D5B7F5CA-79F8-4D46-A792-F8D27341EC69" name="GUID-D5B7F5CA-79F8-4D46-A792-F8D27341EC69"></a><a id="LNOCI72987"></a><a id="LNOCI00099"></a>
            
            <h2 id="LNOCI-GUID-D5B7F5CA-79F8-4D46-A792-F8D27341EC69" class="sect2"><span class="enumeration_chapter">F </span>Multithreaded extproc Agent
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>What is the multithreaded extproc agent?</p>
               <p>This appendix explains what the multithreaded <code class="codeph">extproc</code> agent is, how it contributes to the overall efficiency of a distributed database system, and how to administer it.
               </p>
               <div class="section">
                  <p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="multithreaded-extproc-agent.html#GUID-6A6DA56C-1882-44D1-9223-1D3004D51F4D" title="This section explains how the multithreaded extproc agent contributes to the efficiency of external procedures.">Why Use the Multithreaded extproc Agent?</a></p>
                     </li>
                     <li>
                        <p><a href="multithreaded-extproc-agent.html#GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6" title="When the agent control utility agtctl starts a multithreaded extproc agent for a SID, agtctl creates the monitor thread.How are dispatcher threads used?How are task threads used?">Multithreaded extproc Agent Architecture</a></p>
                     </li>
                     <li>
                        <p><a href="multithreaded-extproc-agent.html#GUID-35A467BD-A506-424F-A35F-CF814514A9F8" title="One multithreaded extproc agent must be started for each system identifier (SID) before attempting to connect to the external procedure.">Administering the Multithreaded extproc Agent</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="LNOCI72988"></a><a id="LNOCI945"></a><div class="props_rev_3"><a id="GUID-6A6DA56C-1882-44D1-9223-1D3004D51F4D" name="GUID-6A6DA56C-1882-44D1-9223-1D3004D51F4D"></a><h3 id="LNOCI-GUID-6A6DA56C-1882-44D1-9223-1D3004D51F4D" class="sect3"><span class="enumeration_section">F.1 </span>Why Use the Multithreaded extproc Agent?
               </h3>
               <div>
                  <p>This section explains how the multithreaded <code class="codeph">extproc</code> agent contributes to the efficiency of external procedures.
                  </p>
                  <p></p>
                  <div class="section">
                     <p>This section includes the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="multithreaded-extproc-agent.html#GUID-987D764A-73B0-4E72-A62F-AEF105F947B2" title="By default, an extproc agent is started for each user session and the extproc agent process terminates only when the user session ends.">The Challenge of Dedicated Agent Architecture</a></p>
                        </li>
                        <li>
                           <p><a href="multithreaded-extproc-agent.html#GUID-BFBCC8E4-1503-4CBC-91EF-CA7DB3121739" title="The Oracle Database shared server architecture assumes that even when several thousand user sessions are open, only a small percentage of these connections are active at any given time.">The Advantage of Multithreading</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNOCI946"></a><div class="props_rev_3"><a id="GUID-987D764A-73B0-4E72-A62F-AEF105F947B2" name="GUID-987D764A-73B0-4E72-A62F-AEF105F947B2"></a><h4 id="LNOCI-GUID-987D764A-73B0-4E72-A62F-AEF105F947B2" class="sect4"><span class="enumeration_section">F.1.1 </span>The Challenge of Dedicated Agent Architecture
                  </h4>
                  <div>
                     <p>By default, an <code class="codeph">extproc</code> agent is started for each user session and the <code class="codeph">extproc</code> agent process terminates only when the user session ends.
                     </p>
                     <p>This architecture can consume an unnecessarily large amount of system resources. For example, suppose that several thousand user sessions simultaneously spawn <code class="codeph">extproc</code> agent processes. Because an <code class="codeph">extproc</code> agent process is started for each session, several thousand <code class="codeph">extproc</code> agent processes run concurrently. The <code class="codeph">extproc</code> agent processes operate regardless of whether each individual <code class="codeph">extproc</code> agent process is active at the moment. Thus <code class="codeph">extproc</code> agent processes and open connections can consume a disproportionate amount of system resources. When sessions connect to Oracle Database, this problem is addressed by starting the server in shared server mode. Shared server mode allows database connections to be shared by a small number of server processes.
                     </p>
                  </div>
               </div><a id="LNOCI947"></a><div class="props_rev_3"><a id="GUID-BFBCC8E4-1503-4CBC-91EF-CA7DB3121739" name="GUID-BFBCC8E4-1503-4CBC-91EF-CA7DB3121739"></a><h4 id="LNOCI-GUID-BFBCC8E4-1503-4CBC-91EF-CA7DB3121739" class="sect4"><span class="enumeration_section">F.1.2 </span>The Advantage of Multithreading
                  </h4>
                  <div>
                     <p>The Oracle Database shared server architecture assumes that even when several thousand user sessions are open, only a small percentage of these connections are active at any given time. </p>
                     <p>In shared server mode, there is a pool of shared server processes. User sessions connect to dispatcher processes that place the requested tasks in a queue. The tasks are picked up by the first available shared server processes. The number of shared server processes is usually less that the number of user sessions.</p>
                     <p>The multithreaded <code class="codeph">extproc</code> agent provides similar functionality for connections to external procedures. The multithreaded <code class="codeph">extproc</code> agent architecture uses a pool of shared agent threads. The tasks requested by the user sessions are put in a queue and are picked up by the first available multithreaded <code class="codeph">extproc</code> agent thread. Because only a small percentage of user connections are active at a given moment, using a multithreaded <code class="codeph">extproc</code> architecture allows more efficient use of system resources.
                     </p>
                  </div>
               </div>
            </div><a id="LNOCI949"></a><a id="LNOCI948"></a><div class="props_rev_3"><a id="GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6" name="GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6"></a><h3 id="LNOCI-GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6" class="sect3"><span class="enumeration_section">F.2 </span>Multithreaded extproc Agent Architecture
               </h3>
               <div>
                  <p>One multithreaded <code class="codeph">extproc</code> agent must be started for each system identifier (SID) before attempting to connect to the external procedure. This is done using the agent control utility <code class="codeph">agtctl</code>. This utility is also used to configure the agent and to shut down the agent.
                  </p>
                  <p>Each Oracle Net listener that is running on a system listens for incoming connection requests for a set of SIDs. If the SID in an incoming Oracle Net connect string is an SID for which the listener is listening, then that listener processes the connection. Further, if a multithreaded <code class="codeph">extproc</code> agent was started for the SID, then the listener passes the request to that <code class="codeph">extproc</code> agent.
                  </p>
                  <p>In the architecture for multithreaded <code class="codeph">extproc</code> agents, each incoming connection request is processed by different kinds of threads:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A single <span class="bold">monitor</span> thread. The monitor thread is responsible for:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Maintaining communication with the listener</p>
                           </li>
                           <li>
                              <p>Monitoring the load on the process</p>
                           </li>
                           <li>
                              <p>Starting and stopping threads when required</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Several <span class="bold">dispatcher</span> threads. The dispatcher threads are responsible for:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Handling communication with the Oracle Database</p>
                           </li>
                           <li>
                              <p>Passing task requests to the task threads</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Several <span class="bold">task</span> threads. The task threads handle requests from the Oracle Database processes. 
                        </p>
                     </li>
                  </ul>
                  <p><a href="multithreaded-extproc-agent.html#GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6__CFABDEFF">Figure F-1</a> illustrates the architecture of the multithreaded <code class="codeph">extproc</code> agent. User sessions 1 and 2 issue requests for callouts to functions in some DLLs. These requests get serviced through heterogeneous services to the multithreaded <code class="codeph">extproc</code> agent. These requests get handled by the agent's dispatcher threads, which then pass them on to the task threads. The task thread that is actually handling a request is responsible for loading the respective DLL and calling the function therein.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>All requests from a user session get handled by the same dispatcher thread. For example, dispatcher&nbsp;1 handles communication with user session&nbsp;1, and dispatcher&nbsp;2 handles communication with user session&nbsp;2. This is the case for the lifetime of the session.</p>
                     </li>
                     <li>
                        <p>The individual requests can be serviced by different task threads. For example, task thread&nbsp;1 can handle the request from user session&nbsp;1, and later handle the request from user session&nbsp;2.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6__GUID-29667D27-03E8-48A6-A431-335D98616321">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/managing-processes.html#ADMIN00501" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a>. for details on managing processes for external procedures
                     </p>
                  </div>
                  <div class="figure" id="GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6__CFABDEFF">
                     <p class="titleinfigure">Figure F-1 Multithreaded extproc Agent Architecture</p><img src="img/adfns100.gif" alt="Description of Figure F-1 follows" title="Description of Figure F-1 follows" longdesc="img_text/adfns100.html"><br><a href="img_text/adfns100.html">Description of "Figure F-1 Multithreaded extproc Agent Architecture"</a></div>
                  <!-- class="figure" -->
                  <p>These three thread types roughly correspond to the Oracle Database multithreaded server PMON, dispatcher, and shared server processes, respectively.</p>
                  <div class="infoboxnote" id="GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6__GUID-89EBAE1D-2CF0-475F-A765-207162ACEE26">
                     <p class="notep1">Note:</p>
                     <p>All requests from a user session go through the same dispatcher thread, but can be serviced by different task threads. Also, several task threads can use the same connection to the external procedure.</p>
                  </div>
                  <p>These topics explain each type of thread in more detail:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="multithreaded-extproc-agent.html#GUID-5439A085-9032-41E2-B3E9-6D2C8EA7AC59" title="When the agent control utility agtctl starts a multithreaded extproc agent for a SID, agtctl creates the monitor thread.">Monitor Thread</a></p>
                     </li>
                     <li>
                        <p><a href="multithreaded-extproc-agent.html#GUID-8AB1D09E-1C1E-4263-A834-849AE3F3EF62" title="How are dispatcher threads used?">Dispatcher Threads</a></p>
                     </li>
                     <li>
                        <p><a href="multithreaded-extproc-agent.html#GUID-FF67F41D-BDEE-40D1-BD2A-1877C46E3D7F" title="How are task threads used?">Task Threads</a></p>
                        <div class="infoboxnotealso" id="GUID-0ED23C2D-2414-4004-9C9D-6A9C7B0E1CC6__GUID-2672BD6D-72BE-405B-B74B-236A9D0EF4CC">
                           <p class="notep1">See Also:</p>
                           <p><a href="multithreaded-extproc-agent.html#GUID-35A467BD-A506-424F-A35F-CF814514A9F8" title="One multithreaded extproc agent must be started for each system identifier (SID) before attempting to connect to the external procedure.">Administering the Multithreaded extproc Agent</a> for more information about starting and stopping the multithreaded <code class="codeph">exproc</code> agent by using the agent control utility <code class="codeph">agtctl</code></p>
                        </div>
                     </li>
                  </ul>
               </div><a id="LNOCI950"></a><div class="props_rev_3"><a id="GUID-5439A085-9032-41E2-B3E9-6D2C8EA7AC59" name="GUID-5439A085-9032-41E2-B3E9-6D2C8EA7AC59"></a><h4 id="LNOCI-GUID-5439A085-9032-41E2-B3E9-6D2C8EA7AC59" class="sect4"><span class="enumeration_section">F.2.1 </span>Monitor Thread
                  </h4>
                  <div>
                     <p>When the agent control utility <code class="codeph">agtctl</code> starts a multithreaded <code class="codeph">extproc</code> agent for a SID, <code class="codeph">agtctl</code> creates the monitor thread.
                     </p>
                     <p> The monitor thread performs these functions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Creates the dispatcher and task threads.</p>
                        </li>
                        <li>
                           <p>Registers the dispatcher threads with all the listeners that are handling connections to this <code class="codeph">extproc</code> agent. While the dispatcher for this SID is running, the listener does not start a process when it gets an incoming connection. Instead, the listener gives the connection to this same dispatcher.
                           </p>
                        </li>
                        <li>
                           <p>Monitors the other threads and sends load information about the dispatcher threads to all the listener processes handling connections to this <code class="codeph">extproc</code> agent, enabling listeners to give incoming connections to the least loaded dispatcher.
                           </p>
                        </li>
                        <li>
                           <p>Continues to monitor each of the threads it has created.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI951"></a><div class="props_rev_3"><a id="GUID-8AB1D09E-1C1E-4263-A834-849AE3F3EF62" name="GUID-8AB1D09E-1C1E-4263-A834-849AE3F3EF62"></a><h4 id="LNOCI-GUID-8AB1D09E-1C1E-4263-A834-849AE3F3EF62" class="sect4"><span class="enumeration_section">F.2.2 </span>Dispatcher Threads
                  </h4>
                  <div>
                     <p>How are dispatcher threads used?</p>
                     <p>Dispatcher threads perform these functions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Accept incoming connections and task requests from Oracle Database servers.</p>
                        </li>
                        <li>
                           <p>Place incoming requests on a queue for a task thread to pick up.</p>
                        </li>
                        <li>
                           <p>Send results of a request back to the server that issued the request.</p>
                           <div class="infoboxnote" id="GUID-8AB1D09E-1C1E-4263-A834-849AE3F3EF62__GUID-B48BF8C6-CCAC-4A30-AE51-4B57555DF418">
                              <p class="notep1">Note:</p>
                              <p>After a user session establishes a connection with a dispatcher, all requests from that user session go to the same dispatcher until the end of the user session.</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI952"></a><div class="props_rev_3"><a id="GUID-FF67F41D-BDEE-40D1-BD2A-1877C46E3D7F" name="GUID-FF67F41D-BDEE-40D1-BD2A-1877C46E3D7F"></a><h4 id="LNOCI-GUID-FF67F41D-BDEE-40D1-BD2A-1877C46E3D7F" class="sect4"><span class="enumeration_section">F.2.3 </span>Task Threads
                  </h4>
                  <div>
                     <p>How are task threads used?</p>
                     <p>Task threads perform these functions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Pick up requests from a queue.</p>
                        </li>
                        <li>
                           <p>Perform the necessary operations.</p>
                        </li>
                        <li>
                           <p>Place the results on a queue for a dispatcher to pick up.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNOCI72989"></a><a id="LNOCI954"></a><a id="LNOCI953"></a><div class="props_rev_3"><a id="GUID-35A467BD-A506-424F-A35F-CF814514A9F8" name="GUID-35A467BD-A506-424F-A35F-CF814514A9F8"></a><h3 id="LNOCI-GUID-35A467BD-A506-424F-A35F-CF814514A9F8" class="sect3"><span class="enumeration_section">F.3 </span>Administering the Multithreaded extproc Agent
               </h3>
               <div>
                  <p>One multithreaded <code class="codeph">extproc</code> agent must be started for each system identifier (SID) before attempting to connect to the external procedure.
                  </p>
                  <div class="section">
                     <p></p>
                     <p>A multithreaded <code class="codeph">extproc</code> agent is started, stopped, and configured by an agent control utility called <code class="codeph">agtctl</code>, which works like <code class="codeph">lsnrctl</code>. However, unlike <code class="codeph">lsnrctl</code>, which reads a configuration file (<code class="codeph">listener.ora</code>), <code class="codeph">agtctl</code> takes configuration information from the command line and writes it to a control file.
                     </p>
                     <p>Before starting <code class="codeph">agtctl</code>, ensure that Oracle Listener is running. Then use the <code class="codeph">agtctl</code> commands to set the <code class="codeph">agtctl</code> configuration parameters (if you do not want their default values) and to start <code class="codeph">agtctl</code>, as in <a href="multithreaded-extproc-agent.html#GUID-35A467BD-A506-424F-A35F-CF814514A9F8__BEJGACBC">Example F-1</a>.
                     </p>
                     <p>You can use <code class="codeph">agtctl</code> commands in either single-line command mode or shell mode.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-35A467BD-A506-424F-A35F-CF814514A9F8__GUID-CD94BCB4-1127-4BF5-BC6A-08062535D0F7">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="multithreaded-extproc-agent.html#GUID-A3A3AF2A-002E-4976-9041-47FE81ACE351" title="What are the Agent Control Utility commands and what are they used for?">Agent Control Utility (agtctl) Commands</a></p>
                        </li>
                        <li>
                           <p><a href="multithreaded-extproc-agent.html#GUID-B4D5C0C1-FC4F-48FD-92BD-3FC1E9B69E3A" title="This section describes the use of agtctl commands.">About Using agtctl in Single-Line Command Mode</a></p>
                        </li>
                        <li>
                           <p><a href="multithreaded-extproc-agent.html#GUID-C75B07CD-875C-40D0-B59E-4E83440BE424" title="When issuing the AGTCTL&gt; command, it results in the prompt AGTCTL&gt;.">Using Shell Mode Commands</a></p>
                        </li>
                        <li>
                           <p><a href="multithreaded-extproc-agent.html#GUID-94F87818-35D8-46F6-BDC9-C032782D3874" title="What do the configuration parameters for multithreaded extproc agent control do?">Configuration Parameters for Multithreaded extproc Agent Control</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-35A467BD-A506-424F-A35F-CF814514A9F8__BEJGACBC">
                     <p class="titleinexample">Example F-1 Setting Configuration Parameters and Starting agtctl</p><pre class="oac_no_warn" dir="ltr">agtctl set max_dispatchers  2 ep_agt1
agtctl set tcp_dispatchers  1   ep_agt1
agtctl set max_task_threads 2  ep_agt1
agtctl set max_sessions     5 ep_agt1
agtctl unset listener_address ep_agt1
agtctl set listener_address "(address=(protocol=ipc)(key=extproc))" ep_agt1
agtctl startup extproc ep_agt1
</pre></div>
                  <!-- class="example" -->
               </div><a id="LNOCI956"></a><a id="LNOCI955"></a><div class="props_rev_3"><a id="GUID-A3A3AF2A-002E-4976-9041-47FE81ACE351" name="GUID-A3A3AF2A-002E-4976-9041-47FE81ACE351"></a><h4 id="LNOCI-GUID-A3A3AF2A-002E-4976-9041-47FE81ACE351" class="sect4"><span class="enumeration_section">F.3.1 </span>Agent Control Utility (agtctl) Commands
                  </h4>
                  <div>
                     <p>What are the Agent Control Utility commands and what are they used for?</p>
                     <div class="section">
                        <p>You can start and stop <code class="codeph">agtctl</code> and create and maintain its control file by using the commands shown in <a href="multithreaded-extproc-agent.html#GUID-A3A3AF2A-002E-4976-9041-47FE81ACE351__G1006650" title="This table has 2 columns. Column 1 is the command name and column 2 is its description.">Table F-1</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-A3A3AF2A-002E-4976-9041-47FE81ACE351__G1006650">
                        <p class="titleintable">Table F-1 Agent Control Utility (agtctl) Commands</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Agent Control Utility (agtctl) Commands" summary="This table has 2 columns. Column 1 is the command name and column 2 is its description. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d390030e2332">Command</th>
                                 <th align="left" valign="bottom" width="83%" id="d390030e2335">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2340" headers="d390030e2332 ">
                                    <p><code class="codeph">startup</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2340 d390030e2335 ">
                                    <p>Starts a multithreaded <code class="codeph">extproc</code> agent
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2351" headers="d390030e2332 ">
                                    <p><code class="codeph">shutdown</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2351 d390030e2335 ">
                                    <p>Stops a multithreaded <code class="codeph">extproc</code> agent
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2362" headers="d390030e2332 ">
                                    <p><code class="codeph">set</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2362 d390030e2335 ">
                                    <p>Sets a configuration parameter for a multithreaded <code class="codeph">extproc</code> agent
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2373" headers="d390030e2332 ">
                                    <p><code class="codeph">unset</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2373 d390030e2335 ">
                                    <p>Causes a parameter to revert to its default value</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2381" headers="d390030e2332 ">
                                    <p><code class="codeph">show</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2381 d390030e2335 ">
                                    <p>Displays the value of a configuration parameter</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2389" headers="d390030e2332 ">
                                    <p><code class="codeph">delete</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2389 d390030e2335 ">
                                    <p>Deletes the entry for a particular SID from the control file</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2397" headers="d390030e2332 ">
                                    <p><code class="codeph">exit</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2397 d390030e2335 ">
                                    <p>Exits shell mode</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e2405" headers="d390030e2332 ">
                                    <p><code class="codeph">help</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e2405 d390030e2335 ">
                                    <p>Lists available commands</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>These commands can be issued in one of two ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can issue commands from the UNIX or DOS shell. This mode is called single-line command mode.</p>
                           </li>
                           <li>
                              <p>You can enter <code class="codeph">agtctl</code> and an <code class="codeph">AGTCTL&gt;</code> prompt appears. You then can enter commands from within the <code class="codeph">agtctl</code> shell. This mode is called shell mode.
                              </p>
                           </li>
                        </ul>
                        <p>The syntax and parameters for <code class="codeph">agtctl</code> commands depend on the mode in which they are issued.
                        </p>
                        <div class="infoboxnote" id="GUID-A3A3AF2A-002E-4976-9041-47FE81ACE351__GUID-AF2A0F3E-5DE4-493F-AF9C-FA1786F26C44">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>All commands are case-sensitive.</p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">agtctl</code> utility puts its control file in the directory specified by either one of two environment variables, <code class="codeph">AGTCTL_ADMIN</code> or <code class="codeph">TNS_ADMIN</code>. Ensure that at least one of these environment variables is set and that it specifies a directory to which the agent has access.
                                 </p>
                              </li>
                              <li>
                                 <p>If the multithreaded <code class="codeph">extproc</code> agent requires that an environment variable be set, or if the <code class="codeph">ENVS</code> parameter was used when configuring the <code class="codeph">listener.ora</code> entry for the agent working in dedicated mode, then all required environment variables must be set in the UNIX or DOS shell that runs the <code class="codeph">agtctl</code> utility.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI957"></a><div class="props_rev_3"><a id="GUID-B4D5C0C1-FC4F-48FD-92BD-3FC1E9B69E3A" name="GUID-B4D5C0C1-FC4F-48FD-92BD-3FC1E9B69E3A"></a><h4 id="LNOCI-GUID-B4D5C0C1-FC4F-48FD-92BD-3FC1E9B69E3A" class="sect4"><span class="enumeration_section">F.3.2 </span>About Using agtctl in Single-Line Command Mode
                  </h4>
                  <div>
                     <p>This section describes the use of <code class="codeph">agtctl</code> commands. 
                     </p>
                     <p>They are presented in single-line command mode.</p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="multithreaded-extproc-agent.html#GUID-936FB274-B853-4C58-904E-099207584BA2" title="Set the configuration parameters for a multithreaded extproc agent before you start the agent.">Setting Configuration Parameters for a Multithreaded extproc Agent</a></p>
                           </li>
                           <li>
                              <p><a href="multithreaded-extproc-agent.html#GUID-26D0058D-AA26-48D9-989E-F366C51D7E99" title="Use the startup command to start a multithreaded extproc agent.">Starting a Multithreaded extproc Agent</a></p>
                           </li>
                           <li>
                              <p><a href="multithreaded-extproc-agent.html#GUID-7018E3A7-8B0F-4D0C-9AF5-88BC752AA2DB" title="Use the shutdown command to stop a multithreaded extproc agent.">Shutting Down a Multithreaded extproc Agent</a></p>
                           </li>
                           <li>
                              <p><a href="multithreaded-extproc-agent.html#GUID-93D2AFCE-87A6-440D-9C70-B3B2EC2A3020" title="To examine the value of a configuration parameter, use the show command.">Examining the Value of Configuration Parameters</a></p>
                           </li>
                           <li>
                              <p><a href="multithreaded-extproc-agent.html#GUID-FEDD57C5-2607-4C32-B708-50A2C526F7EB" title="You can reset a configuration parameter to its default value using the unset command.">Resetting a Configuration Parameter to Its Default Value</a></p>
                           </li>
                           <li>
                              <p><a href="multithreaded-extproc-agent.html#GUID-AACD60F1-4FE4-4340-A846-193755EBA79E" title="The delete command deletes the entry for the specified SID from the control file.">Deleting an Entry for a Specific SID from the Control File</a></p>
                           </li>
                           <li>
                              <p><a href="multithreaded-extproc-agent.html#GUID-C1669A17-0568-403A-A388-85FBAA6DBE20" title="Use the help command to view a list of available commands for agtctl or to see the syntax for a particular command.">Requesting Help</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI959"></a><a id="LNOCI960"></a><a id="LNOCI958"></a><div class="props_rev_3"><a id="GUID-936FB274-B853-4C58-904E-099207584BA2" name="GUID-936FB274-B853-4C58-904E-099207584BA2"></a><h5 id="LNOCI-GUID-936FB274-B853-4C58-904E-099207584BA2" class="sect5"><span class="enumeration_section">F.3.2.1 </span>Setting Configuration Parameters for a Multithreaded extproc Agent
                     </h5>
                     <div>
                        <p>Set the configuration parameters for a multithreaded <code class="codeph">extproc</code> agent before you start the agent. 
                        </p>
                        <div class="section">
                           <p>If a configuration parameter is not specifically set, a default value is used. Configuration parameters and their default values are shown in <a href="multithreaded-extproc-agent.html#GUID-94F87818-35D8-46F6-BDC9-C032782D3874__G1006685" title="This table has 3 columns. Column 1 is the parameter name, column 2 is its description, and column 3 is the default value.">Table F-2</a>.
                           </p>
                           <p>Use the <code class="codeph">set</code> command to set multithreaded <code class="codeph">extproc</code> agent configuration parameters.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-936FB274-B853-4C58-904E-099207584BA2__GUID-AEF74EB6-16B9-48EB-873C-AF3CC04D9958">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl set <span class="italic">parameter</span> <span class="italic">parameter_value agent_sid</span>
</pre><p><span class="italic"><code class="codeph">parameter</code></span> is the parameter that you are setting.
                           </p>
                           <p><span class="italic"><code class="codeph">parameter_value</code></span> is the value being assigned to that parameter.
                           </p>
                           <p><span class="italic"><code class="codeph">agent_sid</code></span> is the SID that this agent services. This must be specified for single-line command mode.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-936FB274-B853-4C58-904E-099207584BA2__GUID-E8B8311C-243E-4731-A8CA-A894A751EB0F">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl set max_dispatchers 5 salesDB</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI962"></a><a id="LNOCI963"></a><a id="LNOCI961"></a><div class="props_rev_3"><a id="GUID-26D0058D-AA26-48D9-989E-F366C51D7E99" name="GUID-26D0058D-AA26-48D9-989E-F366C51D7E99"></a><h5 id="LNOCI-GUID-26D0058D-AA26-48D9-989E-F366C51D7E99" class="sect5"><span class="enumeration_section">F.3.2.2 </span>Starting a Multithreaded extproc Agent
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">startup</code> command to start a multithreaded <code class="codeph">extproc</code> agent.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-26D0058D-AA26-48D9-989E-F366C51D7E99__GUID-DB206A2C-A4B3-4418-8A4E-F29B85F44B47">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl startup extproc <span class="italic">agent_sid</span>
</pre><p><span class="italic"><code class="codeph">agent_sid</code></span> is the SID that this multithreaded <code class="codeph">extproc</code> agent services. This must be specified for single-line command mode.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-26D0058D-AA26-48D9-989E-F366C51D7E99__GUID-D5134E8C-1B57-48F0-BCFD-7B0947724D05">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl startup extproc salesDB</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI965"></a><a id="LNOCI966"></a><a id="LNOCI964"></a><div class="props_rev_3"><a id="GUID-7018E3A7-8B0F-4D0C-9AF5-88BC752AA2DB" name="GUID-7018E3A7-8B0F-4D0C-9AF5-88BC752AA2DB"></a><h5 id="LNOCI-GUID-7018E3A7-8B0F-4D0C-9AF5-88BC752AA2DB" class="sect5"><span class="enumeration_section">F.3.2.3 </span>Shutting Down a Multithreaded extproc Agent
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">shutdown</code> command to stop a multithreaded <code class="codeph">extproc</code> agent. 
                        </p>
                        <div class="section">
                           <p>There are three forms of shutdown:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Normal (default)</p>
                                 <p><code class="codeph">agtctl</code> asks the multithreaded <code class="codeph">extproc</code> agent to terminate itself gracefully. All sessions complete their current operations and then shut down.
                                 </p>
                              </li>
                              <li>
                                 <p>Immediate</p>
                                 <p><code class="codeph">agtctl</code> tells the multithreaded <code class="codeph">extproc</code> agent to terminate immediately. The agent exits immediately regardless of the state of current sessions.
                                 </p>
                              </li>
                              <li>
                                 <p>Abort</p>
                                 <p>Without talking to the multithreaded <code class="codeph">extproc</code> agent, <code class="codeph">agtctl</code> issues a system call to stop it.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7018E3A7-8B0F-4D0C-9AF5-88BC752AA2DB__GUID-F26E13BE-41B2-4B37-8C09-E94C6045ABCD">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl shutdown [immediate|abort] <span class="italic">agent_sid</span>
</pre><p><span class="italic"><code class="codeph">agent_sid</code></span> is the SID that the multithreaded <code class="codeph">extproc</code> agent services. It must be specified for single-line command mode.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7018E3A7-8B0F-4D0C-9AF5-88BC752AA2DB__GUID-095F9D77-B573-4C32-AD3E-309CB16E513C">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl shutdown immediate salesDB</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI968"></a><a id="LNOCI969"></a><a id="LNOCI967"></a><div class="props_rev_3"><a id="GUID-93D2AFCE-87A6-440D-9C70-B3B2EC2A3020" name="GUID-93D2AFCE-87A6-440D-9C70-B3B2EC2A3020"></a><h5 id="LNOCI-GUID-93D2AFCE-87A6-440D-9C70-B3B2EC2A3020" class="sect5"><span class="enumeration_section">F.3.2.4 </span>Examining the Value of Configuration Parameters
                     </h5>
                     <div>
                        <p>To examine the value of a configuration parameter, use the <code class="codeph">show</code> command.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-93D2AFCE-87A6-440D-9C70-B3B2EC2A3020__GUID-D7592730-42FB-4F67-83E2-F5C1D29A532A">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl show <span class="italic">parameter</span> <span class="italic">agent_sid</span>
</pre><p><span class="italic"><code class="codeph">parameter</code></span> is the parameter that you are examining.
                           </p>
                           <p><span class="italic"><code class="codeph">agent_sid</code></span> is the SID that this multithreaded <code class="codeph">extproc</code> agent services. This must be specified for single-line command mode.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-93D2AFCE-87A6-440D-9C70-B3B2EC2A3020__GUID-D3A821C0-F3CA-415A-9486-2264E1AFC3AF">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl show max_dispatchers salesDB</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI971"></a><a id="LNOCI972"></a><a id="LNOCI970"></a><div class="props_rev_3"><a id="GUID-FEDD57C5-2607-4C32-B708-50A2C526F7EB" name="GUID-FEDD57C5-2607-4C32-B708-50A2C526F7EB"></a><h5 id="LNOCI-GUID-FEDD57C5-2607-4C32-B708-50A2C526F7EB" class="sect5"><span class="enumeration_section">F.3.2.5 </span>Resetting a Configuration Parameter to Its Default Value
                     </h5>
                     <div>
                        <p>You can reset a configuration parameter to its default value using the <code class="codeph">unset</code> command.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-FEDD57C5-2607-4C32-B708-50A2C526F7EB__GUID-6834B026-4EAC-4FAC-8F01-CFAC8DCBFEBC">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl unset <span class="italic">parameter</span> <span class="italic">agent_sid</span>
</pre><p><span class="italic"><code class="codeph">parameter</code></span> is the parameter that you are resetting (or changing).
                           </p>
                           <p><span class="italic"><code class="codeph">agent_sid</code></span> is the SID that this multithreaded <code class="codeph">extproc</code> agent services. It must be specified for single-line command mode.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-FEDD57C5-2607-4C32-B708-50A2C526F7EB__GUID-7C0D4D97-067A-4DBD-87D7-1877FCF47E71">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl unset max_dispatchers salesDB</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI974"></a><a id="LNOCI975"></a><a id="LNOCI973"></a><div class="props_rev_3"><a id="GUID-AACD60F1-4FE4-4340-A846-193755EBA79E" name="GUID-AACD60F1-4FE4-4340-A846-193755EBA79E"></a><h5 id="LNOCI-GUID-AACD60F1-4FE4-4340-A846-193755EBA79E" class="sect5"><span class="enumeration_section">F.3.2.6 </span>Deleting an Entry for a Specific SID from the Control File
                     </h5>
                     <div>
                        <p>The <code class="codeph">delete</code> command deletes the entry for the specified SID from the control file.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-AACD60F1-4FE4-4340-A846-193755EBA79E__GUID-FEDB3F4D-44D7-452F-8CD2-F286AC420E5D">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl delete <span class="italic">agent_sid</span>
</pre><p><span class="italic"><code class="codeph">agent_sid</code></span> is the SID entry to delete.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AACD60F1-4FE4-4340-A846-193755EBA79E__GUID-5C1B144A-D35B-4F8F-8B24-6E21E2470B4D">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl delete salesDB</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI977"></a><a id="LNOCI978"></a><a id="LNOCI976"></a><div class="props_rev_3"><a id="GUID-C1669A17-0568-403A-A388-85FBAA6DBE20" name="GUID-C1669A17-0568-403A-A388-85FBAA6DBE20"></a><h5 id="LNOCI-GUID-C1669A17-0568-403A-A388-85FBAA6DBE20" class="sect5"><span class="enumeration_section">F.3.2.7 </span>Requesting Help
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">help</code> command to view a list of available commands for <code class="codeph">agtctl</code> or to see the syntax for a particular command.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-C1669A17-0568-403A-A388-85FBAA6DBE20__GUID-0ECE3EAC-3846-4723-9BA4-998B54F42220">Syntax</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl help [<span class="italic">command</span>]
</pre><p><span class="italic"><code class="codeph">command</code></span> is the name of the command whose syntax you want to view. The default is all <code class="codeph">agtctl</code> commands.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C1669A17-0568-403A-A388-85FBAA6DBE20__GUID-3DD8C14C-5096-4A34-A4F4-5468009D63CE">Example</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">agtctl help set</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNOCI979"></a><div class="props_rev_3"><a id="GUID-C75B07CD-875C-40D0-B59E-4E83440BE424" name="GUID-C75B07CD-875C-40D0-B59E-4E83440BE424"></a><h4 id="LNOCI-GUID-C75B07CD-875C-40D0-B59E-4E83440BE424" class="sect4"><span class="enumeration_section">F.3.3 </span>Using Shell Mode Commands
                  </h4>
                  <div>
                     <p>When issuing the <code class="codeph">AGTCTL&gt;</code> command, it results in the prompt <code class="codeph">AGTCTL&gt;</code>.
                     </p>
                     <div class="section">
                        <p>In <a id="d390030e4520" class="indexterm-anchor"></a>shell mode, start <code class="codeph">agtctl</code> by entering:
                        </p><pre class="oac_no_warn" dir="ltr">agtctl
</pre><p>Thereafter, because you are issuing commands from within the <code class="codeph">agtctl</code> shell, you need not prefix the command string with <code class="codeph">agtctl</code>.
                        </p>
                        <p>Set the name of the agent SID by entering:</p><pre class="oac_no_warn" dir="ltr">AGTCTL&gt; set agent_sid <span class="italic">agent_sid</span>
</pre><p>All subsequent commands are assumed to be for the specified SID until the <code class="codeph">agent_sid</code> value is changed. Unlike single-line command mode, you do not specify <span class="italic"><code class="codeph">agent_sid</code></span> in the command string.
                        </p>
                        <p>You can set the language for error messages as follows:</p><pre class="oac_no_warn" dir="ltr">AGTCTL&gt; set language <span class="italic">language</span>
</pre><p>The commands themselves are the same as those for the single-line command mode. To exit shell mode, enter <code class="codeph">exit</code>.
                        </p>
                        <div class="p">The following examples use shell mode commands:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="multithreaded-extproc-agent.html#GUID-4795A79D-D5C0-428A-97AE-C0638691F960" title="How to set the value for the shutdown_address configuration parameter.">Example: Setting a Configuration Parameter</a></p>
                              </li>
                              <li>
                                 <p><a href="multithreaded-extproc-agent.html#GUID-24FA1E6A-8BAA-447E-81F7-65D5C031AF0E" title="How to start a multithreaded extproc agent.">Example: Starting a Multithreaded extproc Agent</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI980"></a><div class="props_rev_3"><a id="GUID-4795A79D-D5C0-428A-97AE-C0638691F960" name="GUID-4795A79D-D5C0-428A-97AE-C0638691F960"></a><h5 id="LNOCI-GUID-4795A79D-D5C0-428A-97AE-C0638691F960" class="sect5"><span class="enumeration_section">F.3.3.1 </span>Example: Setting a Configuration Parameter
                     </h5>
                     <div>
                        <p>How to set the value  for the <code class="codeph">shutdown_address</code> configuration parameter.
                        </p>
                        <div class="section">
                           <p>This example sets a value for the <code class="codeph">shutdown_address</code> configuration parameter.
                           </p><pre class="oac_no_warn" dir="ltr">AGTCTL&gt; set shutdown_address (address=(protocol=ipc)(key=oraDBsalesDB))</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI981"></a><div class="props_rev_3"><a id="GUID-24FA1E6A-8BAA-447E-81F7-65D5C031AF0E" name="GUID-24FA1E6A-8BAA-447E-81F7-65D5C031AF0E"></a><h5 id="LNOCI-GUID-24FA1E6A-8BAA-447E-81F7-65D5C031AF0E" class="sect5"><span class="enumeration_section">F.3.3.2 </span>Example: Starting a Multithreaded extproc Agent
                     </h5>
                     <div>
                        <p>How to start a multithreaded <code class="codeph">extproc</code> agent.
                        </p>
                        <div class="section">
                           <p>This example starts a multithreaded <code class="codeph">extproc</code> agent.
                           </p><pre class="oac_no_warn" dir="ltr">AGTCTL&gt; startup extproc</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNOCI983"></a><a id="LNOCI984"></a><a id="LNOCI985"></a><a id="LNOCI986"></a><a id="LNOCI982"></a><div class="props_rev_3"><a id="GUID-94F87818-35D8-46F6-BDC9-C032782D3874" name="GUID-94F87818-35D8-46F6-BDC9-C032782D3874"></a><h4 id="LNOCI-GUID-94F87818-35D8-46F6-BDC9-C032782D3874" class="sect4"><span class="enumeration_section">F.3.4 </span>Configuration Parameters for Multithreaded extproc Agent Control
                  </h4>
                  <div>
                     <p>What do the configuration parameters for multithreaded extproc agent control do?</p>
                     <div class="section">
                        <p><a href="multithreaded-extproc-agent.html#GUID-94F87818-35D8-46F6-BDC9-C032782D3874__G1006685" title="This table has 3 columns. Column 1 is the parameter name, column 2 is its description, and column 3 is the default value.">Table F-2</a> describes and gives the defaults of the configuration parameters for the agent control utility.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformalwide" id="GUID-94F87818-35D8-46F6-BDC9-C032782D3874__G1006685">
                        <p class="titleintable">Table F-2 Configuration Parameters for agtctl</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Configuration Parameters for agtctl" summary="This table has 3 columns. Column 1 is the parameter name, column 2 is its description, and column 3 is the default value. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d390030e5191">Parameter</th>
                                 <th align="left" valign="bottom" width="26%" id="d390030e5194">Description</th>
                                 <th align="left" valign="bottom" width="44%" id="d390030e5197">Default Value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d390030e5202" headers="d390030e5191 ">
                                    <p><code class="codeph">max_dispatchers</code></p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d390030e5202 d390030e5194 ">
                                    <p>Maximum number of dispatchers</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d390030e5202 d390030e5197 ">
                                    <p>1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d390030e5213" headers="d390030e5191 ">
                                    <p><code class="codeph">tcp_dispatchers</code></p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d390030e5213 d390030e5194 ">
                                    <p>Number of dispatchers listening on TCP (the rest are using IPC)</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d390030e5213 d390030e5197 ">
                                    <p>0</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d390030e5224" headers="d390030e5191 ">
                                    <p><code class="codeph">max_task_threads</code></p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d390030e5224 d390030e5194 ">
                                    <p>Maximum number of task threads</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d390030e5224 d390030e5197 ">
                                    <p>2</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d390030e5235" headers="d390030e5191 ">
                                    <p><code class="codeph">max_sessions</code></p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d390030e5235 d390030e5194 ">
                                    <p>Maximum number of sessions for each task thread</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d390030e5235 d390030e5197 ">
                                    <p>5</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d390030e5246" headers="d390030e5191 ">
                                    <p><code class="codeph">listener_address</code></p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d390030e5246 d390030e5194 ">
                                    <p>Address on which the listener is listening (needed for registration)</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d390030e5246 d390030e5197 "><pre class="oac_no_warn" dir="ltr">(ADDRESS_LIST=
    (ADDRESS=
        (PROTOCOL=IPC)
        (KEY=PNPKEY))
    (ADDRESS=
        (PROTOCOL=IPC)
        (KEY=<span class="italic">listener_sid</span>))
    (ADDRESS=
        (PROTOCOL=TCP)
        (HOST=127.0.0.1)
        (PORT=1521)))</pre><p>Note: <span class="italic"><code class="codeph">listener_sid</code></span> is the IPC key of the address, on the Oracle Database, on which the listener is listening.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d390030e5266" headers="d390030e5191 ">
                                    <p><code class="codeph">shutdown_address</code></p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d390030e5266 d390030e5194 ">
                                    <p>Address the agent uses to communicate with the listener. This is the address on which the agent listens for all communication, including shutdown messages from <code class="codeph">agtctl</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d390030e5266 d390030e5197 "><pre class="oac_no_warn" dir="ltr">(ADDRESS=
    (PROTOCOL=IPC)
    (KEY=<span class="italic">listener_sid</span> ||<span class="italic"> agent_sid</span>))
(ADDRESS=
    (PROTOCOL=TCP)
    (HOST=127.0.0.1)
    (PORT=1521))</pre><p>Notes:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="italic"><code class="codeph">agent_sid</code></span> is the SID of the multithreaded <code class="codeph">extproc</code> agent.
                                          </p>
                                       </li>
                                       <li>
                                          <p>|| indicates that <span class="italic"><code class="codeph">listener_sid</code></span> and <span class="italic"><code class="codeph">agent_sid</code></span> are concatenated into one string.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94F87818-35D8-46F6-BDC9-C032782D3874__GUID-E372FB10-504F-42C8-97B6-8B5071C1AD66">max_dispatchers, tcp_dispatchers, max_task_threads, and max_sessions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To improve performance, you might need to change the values of some or all of the parameters <code class="codeph">max_dispatchers</code>, <code class="codeph">tcp_dispatchers</code>, <code class="codeph">max_task_threads</code>, and <code class="codeph">max_sessions</code>.
                        </p>
                        <p>You can calculate the optimum values of <code class="codeph">max_dispatchers</code>, <code class="codeph">tcp_dispatchers</code>, <code class="codeph">max_task_threads</code> with these formulas:
                        </p><pre class="oac_no_warn" dir="ltr">max_dispatchers = CEIL(<span class="italic">x</span>/<span class="italic">y</span>)
tcp_dispatchers = CEIL(<span class="italic">x_tcpip</span>/<span class="italic">y</span>)
max_task_threads = CEIL(<span class="italic">x</span>/max_sessions)
</pre><p>Where:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CEIL</code> is a SQL function that returns the smallest integer greater than or equal to its argument.
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">x</code></span> is the maximum number of sessions that can be connected to <code class="codeph">extproc</code> concurrently.
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">y</code></span> is the maximum number of connections that the system can support for each dispatcher.
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">x_tcpip</code></span> is the maximum number of sessions that can be connected to <code class="codeph">extproc</code> concurrently by TCP/IP.
                              </p>
                              <p>(<span class="italic"><code class="codeph">x</code></span> - <span class="italic"><code class="codeph">x_tcpip</code></span> is the maximum number of sessions that can be connected to <code class="codeph">extproc</code> concurrently by IPC.)
                              </p>
                           </li>
                        </ul>
                        <p>There is no formula for computing the optimum value of <code class="codeph">max_sessions</code>, which affects <code class="codeph">max_task_threads</code>.
                        </p>
                        <p>You must fine-tune these parameter settings, based on the capability of your hardware, and ensure that the concurrent threads do not exhaust your operating system.</p>
                        <p>The value of <code class="codeph">max_dispatchers</code> must be at least 1 (which is the default).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94F87818-35D8-46F6-BDC9-C032782D3874__GUID-97B42414-7874-47B4-918F-2B629DAE30FC">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Suppose:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The maximum number of sessions that can be connected to <code class="codeph">extproc</code> concurrently (<code class="codeph">x</code>) is 650.
                              </p>
                           </li>
                           <li>
                              <p>The maximum number of sessions that can be connected to <code class="codeph">extproc</code> concurrently by TCP/IP (<span class="italic"><code class="codeph">x_tcpip</code></span>) is 400.
                              </p>
                              <p>(The maximum number of sessions that can be connected to <code class="codeph">extproc</code> concurrently by IPC is 650-400=250.)
                              </p>
                           </li>
                           <li>
                              <p>The maximum number of connections that the system can support for each dispatcher (<span class="italic"><code class="codeph">y</code></span>) is 100.
                              </p>
                           </li>
                           <li>
                              <p>The maximum number of sessions for each task thread (<code class="codeph">max_sessions</code>) is 20.
                              </p>
                           </li>
                        </ul>
                        <p>The optimum values for these parameters are:</p><pre class="oac_no_warn" dir="ltr">max_dispatchers = CEIL(650/100) = CEIL(6.5)  = 7
tcp_dispatchers  = CEIL(400/100) = CEIL(4)    = 4
max_task_threads = CEIL(650/20)  = CEIL(32.5) = 33
</pre><p>That is, optimally:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The maximum number of dispatchers is seven.</p>
                           </li>
                           <li>
                              <p>Four of the seven dispatchers are listening on TCP/IP, and the remaining three are listening on IPC.</p>
                           </li>
                           <li>
                              <p>The maximum number of task threads is 33.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94F87818-35D8-46F6-BDC9-C032782D3874__GUID-DC265E0F-776D-4563-800C-A15051E84FCF">listener_address and shutdown_address</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The values of the configuration parameters <code class="codeph">listener_address</code> and <code class="codeph">shutdown_address</code> are specified with <code class="codeph">ADDRESS</code>, as shown in both <a href="multithreaded-extproc-agent.html#GUID-94F87818-35D8-46F6-BDC9-C032782D3874__G1006685" title="This table has 3 columns. Column 1 is the parameter name, column 2 is its description, and column 3 is the default value.">Table F-2</a> and <a href="multithreaded-extproc-agent.html#GUID-35A467BD-A506-424F-A35F-CF814514A9F8__BEJGACBC">Example F-1</a>. Within <code class="codeph">ADDRESS</code>, you can specify the parameter <code class="codeph">HOST</code>, which can be either an IPv6 or IPv4 address or a host name. If <code class="codeph">HOST</code> is a host name, then these values of the optional <code class="codeph">ADDRESS</code> parameter <code class="codeph">IP</code> are relevant:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-94F87818-35D8-46F6-BDC9-C032782D3874__GUID-ED9A3503-2CED-4A16-AF3E-B655290C28DE">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the IP values that are relevant when HOST is a host name, and gives their meanings." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d390030e5520">IP Value</th>
                                 <th align="left" valign="bottom" width="83%" id="d390030e5523">Meaning</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e5528" headers="d390030e5520 ">
                                    <p><code class="codeph">FIRST</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e5528 d390030e5523 ">
                                    <p>Listen on the first IP address returned by the DNS resolution of the host name.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e5536" headers="d390030e5520 ">
                                    <p><code class="codeph">V4_ONLY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e5536 d390030e5523 ">
                                    <p>Listen only on the IPv4 interfaces in the system.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d390030e5544" headers="d390030e5520 ">
                                    <p><code class="codeph">V6_ONLY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="83%" headers="d390030e5544 d390030e5523 ">
                                    <p>Listen only on the IPv6 interfaces in the system.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>For example, this value of <code class="codeph">listener_address</code> or <code class="codeph">shutdown_address</code> restricts it to IPv6 interfaces:
                        </p><pre class="oac_no_warn" dir="ltr">"(ADDRESS=(PROTOCOL=tcp)(HOST=sales)(PORT=1521)<span class="bold">(IP=V6_ONLY)</span>)"
</pre><div class="infoboxnotealso" id="GUID-94F87818-35D8-46F6-BDC9-C032782D3874__GUID-743DB926-8EC4-4A59-AC35-FF75948C7E81">
                           <p class="notep1">See Also:</p>
                           <p><a href="../netag/understanding-communication-layers.html#NETAG999" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for detailed information about IPv6 support in Oracle Database
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>