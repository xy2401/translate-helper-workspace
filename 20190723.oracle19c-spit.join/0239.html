<html id='03809.populating-objects-in-memory.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">
      <meta name="description" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">
      <title>Enabling Objects for In-Memory Population</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database In-Memory Guide">
      <meta property="og:description" content="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database In-Memory Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00">
      <meta name="dcterms.title" content="Database In-Memory Guide">
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96137-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="enabling-the-im-column-store.html" title="Previous" type="text/html">
      <link rel="next" href="populating-the-imcs-manually.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="enabling-the-im-column-store.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="populating-the-imcs-manually.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database In-Memory Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="configuring-the-im-column-store.html" property="item" typeof="WebPage"><span property="name">Configuring and Populating the IM Column Store</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Enabling Objects for In-Memory Population</li>
            </ol>
            <a id="GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" name="GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8"></a>
            
            <h2 id="INMEM-GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" class="sect2"><span class="enumeration_chapter">4 </span>Enabling Objects for In-Memory Population
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.</p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0">About In-Memory Population</a><br><strong class="term">In-Memory population (population)</strong> occurs when the database reads existing row-format data from disk, transforms it into columnar format, and then stores it in the IM column store. 
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B">Enabling and Disabling Tables for the IM Column Store</a><br>Enable a table for the IM column store by including an <code class="codeph">INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement. Disable a table for the IM column store by including a <code class="codeph">NO INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement.
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347">Enabling and Disabling Columns for In-Memory Tables</a><br>You can specify the <code class="codeph">INMEMORY</code> clause for individual columns in an internal table. External tables do not support specifying <code class="codeph">INMEMORY</code> at the column level.
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-636A1675-838D-4004-9CDB-70783DC72C6B">Enabling and Disabling Tablespaces for the IM Column Store</a><br>You can enable or disable tablespaces for the IM column store.
                  </li>
                  <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA">Enabling and Disabling Materialized Views for the IM Column Store</a><br>You can enable and disable materialized views for the IM column store.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="configuring-the-im-column-store.html#GUID-8844C889-E381-4B77-8A51-7AA6462B14D7" title="You can enable and size the In-Memory Column Store (IM column store). You can also configure In-Memory settings for objects, and populate these objects in the IM column store.">Configuring and Populating the IM Column Store</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" name="GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0"></a><h3 id="INMEM-GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" class="sect3"><span class="enumeration_section">4.1 </span>About In-Memory Population
               </h3>
               <div>
                  <p><strong class="term">In-Memory population (population)</strong> occurs when the database reads existing row-format data from disk, transforms it into columnar format, and then stores it in the IM column store. 
                  </p>
                  <p>Only objects with the <code class="codeph">INMEMORY</code> attribute are eligible for population.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B">Purpose of In-Memory Population</a><br>The IM column store does not automatically load all objects in the database into the IM column store. 
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3">How In-Memory Population Works</a><br>You can specify that the database populates objects in the IM column store either at database instance startup or when <code class="codeph">INMEMORY</code> objects are accessed. 
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261">Controls for In-Memory Population</a><br>Use the <code class="codeph">INMEMORY</code> clause in DDL statements to specify which objects are eligible for population into the IM column store. You can enable tablespaces, tables (internal and external), partitions, and materialized views.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">Enabling Objects for In-Memory Population</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B" name="GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B"></a><h4 id="INMEM-GUID-F1395406-6385-4FB4-9A9F-4144183DCC3B" class="sect4"><span class="enumeration_section">4.1.1 </span>Purpose of In-Memory Population
                  </h4>
                  <div>
                     <p>The IM column store does not automatically load all objects in the database into the IM column store. </p>
                     <p>If you do not use DDL to specify any objects as <code class="codeph">INMEMORY</code>, then the IM column store remains empty. Population is necessary to transform rows from user-specified <code class="codeph">INMEMORY</code> objects into columnar format, so that they are available for analytic queries.
                     </p>
                     <p>Population, which transforms <span class="italic">existing</span> data on disk into columnar format, is different from <a href="glossary.html#GUID-9168517C-C8A2-4433-946A-037631B840E2"><span class="xrefglossterm">repopulation</span></a>, which loads <span class="italic">new</span> data into the IM column store. Because IMCUs are read-only structures, Oracle Database does not populate them when rows change. Rather, the database records the row changes in a <a href="glossary.html#GUID-16BF775D-7A77-4F8C-94F2-D1EBF2D67D1B"><span class="xrefglossterm">transaction journal</span></a>, and then creates new IMCUs as part of repopulation.
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="repopulation-and-dml.html#GUID-85AB84D5-1308-430A-BED2-281F3E9515B2" title="The IM column store periodically refreshes objects that have been modified. You can control this behavior using initialization parameters and the DBMS_INMEMORY package.">Optimizing Repopulation of the IM Column Store</a></li>
                           <li><a href="in-memory-column-store-architecture.html#GUID-50A30EC3-1CD1-4BFC-9BD1-9AC55D0B4AAE" title="An In-Memory Compression Unit (IMCU) is a compressed, read-only storage unit that contains data for one or more columns.">In-Memory Compression Units (IMCUs)</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="In-Memory population (population) occurs when the database reads existing row-format data from disk, transforms it into columnar format, and then stores it in the IM column store.">About In-Memory Population</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" name="GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3"></a><h4 id="INMEM-GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" class="sect4"><span class="enumeration_section">4.1.2 </span>How In-Memory Population Works
                  </h4>
                  <div>
                     <p>You can specify that the database populates objects in the IM column store either at database instance startup or when <code class="codeph">INMEMORY</code> objects are accessed. 
                     </p>
                     <p>The population algorithm also varies depending on whether you use single-instance or Oracle RAC.</p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12">Prioritization of In-Memory Population</a><br>DDL statements include an <code class="codeph">INMEMORY PRIORITY</code> subclause that provides more control over the population queue. 
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886">How Background Processes Populate IMCUs</a><br>During population, the database reads data from disk in its row format, pivots the rows to create columns, and then compresses the data into In-Memory Compression Units (IMCUs).
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="In-Memory population (population) occurs when the database reads existing row-format data from disk, transforms it into columnar format, and then stores it in the IM column store.">About In-Memory Population</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" name="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12"></a><h5 id="INMEM-GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" class="sect5"><span class="enumeration_section">4.1.2.1 </span>Prioritization of In-Memory Population
                     </h5>
                     <div>
                        <p>DDL statements include an <code class="codeph">INMEMORY PRIORITY</code> subclause that provides more control over the population queue. 
                        </p>
                        <div class="infoboxnote" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-C9658C1B-B4EE-40CD-A02E-FDD7109AB1E8">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">INMEMORY PRIORITY</code> subclause controls the priority of population, but not the speed of population.
                           </p>
                        </div>
                        <p>The priority level setting applies to an entire table, partition, or subpartition, not to different column subsets. Setting the <code class="codeph">INMEMORY</code> attribute on an object means that this object is a <span class="italic">candidate</span> for population in the IM column store. It does not mean that the database immediately populates the object. 
                        </p>
                        <div class="infoboxnote" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-50EDEDA9-8471-43B5-8320-D297A7DA78FE">
                           <p class="notep1">Note:</p>
                           <p>If a segment on disk is 64 KB or less, then it is not populated in the IM column store. Therefore, some small database objects that were enabled for the IM column store might not be populated.</p>
                        </div>
                        <p>Oracle Database manages prioritization as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>On-demand population</p>
                              <p>By default, the <code class="codeph">INMEMORY PRIORITY</code> parameter is set to <code class="codeph">NONE</code>. In this case, the database <span class="italic">only</span> populates the object when it is accessed through a full table scan. If the object is never accessed, or if it is accessed only through an index scan or fetch by rowid, then population never occurs.
                              </p>
                           </li>
                           <li>
                              <p>Priority-based population</p>
                              <p> When <code class="codeph">PRIORITY</code> is set to a value <span class="italic">other than</span> <code class="codeph">NONE</code>, Oracle database automatically populates the objects using an internally managed priority queue. In this case, a full scan is not a necessary condition for population. The database does the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Populates columnar data in the IM column store automatically after the database instance restarts</p>
                                 </li>
                                 <li>
                                    <p>Queues population of <code class="codeph">INMEMORY</code> objects based on the specified priority level
                                    </p>
                                    <p>For example, a table altered with <code class="codeph">INMEMORY PRIORITY CRITICAL</code> takes precedence over a table altered with <code class="codeph">INMEMORY PRIORITY HIGH</code>, which in turn takes precedence over a table altered with <code class="codeph">INMEMORY PRIORITY LOW</code>. If the IM column store has insufficient space, then Oracle Database does not populate additional objects until space is available.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Waits to return from <code class="codeph">ALTER TABLE</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statements until the changes to the object are recorded in the IM column store
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>After a segment is populated in the IM column store, the database only evicts it when the segment is dropped or moved, or the segment is updated with the <code class="codeph">NO INMEMORY</code> attribute. You can evict a segment manually or by means of an <a href="glossary.html#GUID-66F7095A-378A-4C56-88DA-3AC93A5F55DB"><span class="xrefglossterm">ADO policy</span></a>.
                        </p>
                        <div class="example" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-CD3B2EB8-4C77-428A-9DA3-EAEB61363D82">
                           <p class="titleinexample">Example 4-1 Population of an Object in the IM Column Store</p>
                           <p>Before completing this example, the IM column store must be enabled for the database.</p>
                           <ol>
                              <li>
                                 <p>Log in to the database as an administrator, and then query the <code class="codeph">customers</code> table as follows:
                                 </p><pre class="pre codeblock"><code>SELECT cust_id, cust_last_name, cust_first_name 
FROM   sh.customers 
WHERE  cust_city = 'Hyderabad' 
AND    cust_income_level LIKE 'C%' 
AND    cust_year_of_birth &gt; 1960;</code></pre></li>
                              <li>
                                 <p>Display the execution plan for the query:</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY_CURSOR(FORMAT=&gt;'+ALLSTATS'));
SQL_ID  frgk9dbaftmm9, child number 0
-------------------------------------
SELECT cust_id, cust_last_name, cust_first_name FROM   sh.customers
WHERE  cust_city = 'Hyderabad' AND    cust_income_level LIKE 'C%' AND
 cust_year_of_birth &gt; 1960

Plan hash value: 2008213504

-------------------------------------------------------------------------------
| Id| Operation         | Name      |Starts|E-Rows|A-Rows|   A-Time   |Buffers|
-------------------------------------------------------------------------------
|  0| SELECT STATEMENT  |           |     1|      |    6 |00:00:00.01 |   1523|
|* 1|  TABLE ACCESS FULL| CUSTOMERS |     1|    6 |    6 |00:00:00.01 |   1523|
-------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   1 - filter(("CUST_CITY"='Hyderabad' AND "CUST_YEAR_OF_BIRTH"&gt;1960 AND
              "CUST_INCOME_LEVEL" LIKE 'C%'))
</code></pre></li>
                              <li>
                                 <p>Enable the <code class="codeph">sh.customers</code> table for population in the IM column store:
                                 </p><pre class="pre codeblock"><code>ALTER TABLE sh.customers INMEMORY;</code></pre><p>The preceding statement uses the default priority of <code class="codeph">NONE</code>. A full scan is required to populate objects with no priority.
                                 </p>
                              </li>
                              <li>
                                 <p>To determine whether data from the <code class="codeph">sh.customers</code> table has been populated in the IM column store, execute the following query (sample output included):
                                 </p><pre class="pre codeblock"><code>SELECT SEGMENT_NAME, POPULATE_STATUS 
FROM   V$IM_SEGMENTS 
WHERE  SEGMENT_NAME = 'CUSTOMERS';

no rows selected
</code></pre><p>In this case, no segments are populated in the IM column store because the <code class="codeph">sh.customers</code> table has not yet been scanned. 
                                 </p>
                              </li>
                              <li>
                                 <p>Query <code class="codeph">sh.customers</code> using the same statement as in Step 1:
                                 </p><pre class="pre codeblock"><code>SELECT cust_id, cust_last_name, cust_first_name 
FROM   sh.customers 
WHERE  cust_city = 'Hyderabad' 
AND    cust_income_level LIKE 'C%' 
AND    cust_year_of_birth &gt; 1960;
</code></pre></li>
                              <li>
                                 <p>Querying the cursor shows that the database performed a full scan and accessed the IM column store:</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY_CURSOR(FORMAT=&gt;'+ALLSTATS'));
SQL_ID  frgk9dbaftmm9, child number 0
-------------------------------------
SELECT cust_id, cust_last_name, cust_first_name FROM   sh.customers
WHERE  cust_city = 'Hyderabad' AND    cust_income_level LIKE 'C%' AND
 cust_year_of_birth &gt; 1960

Plan hash value: 2008213504

---------------------------------------------------------------------------------
| Id| Operation           | Name            |Starts|E-Rows|A-Rows|A-Time|Buffers|
---------------------------------------------------------------------------------
|  0| SELECT STATEMENT           |           |    1|     | 6 |00:00:00.02| 1523 |
|* 1|  TABLE ACCESS <span class="bold">INMEMORY</span> FULL| CUSTOMERS |    1|    6| 6 |00:00:00.02| 1523 |
---------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   1 - inmemory(("CUST_CITY"='Hyderabad' AND "CUST_YEAR_OF_BIRTH"&gt;1960 AND
              "CUST_INCOME_LEVEL" LIKE 'C%'))
       filter(("CUST_CITY"='Hyderabad' AND "CUST_YEAR_OF_BIRTH"&gt;1960 AND
              "CUST_INCOME_LEVEL" LIKE 'C%'))
</code></pre></li>
                              <li>
                                 <p>Query <code class="codeph">V$IM_SEGMENTS</code> again (sample output included):
                                 </p><pre class="pre codeblock"><code>COL SEGMENT_NAME FORMAT a20

SELECT SEGMENT_NAME, POPULATE_STATUS 
FROM   V$IM_SEGMENTS 
WHERE  SEGMENT_NAME = 'CUSTOMERS';

SEGMENT_NAME         POPULATE_STATUS
-------------------- ---------------
CUSTOMERS            COMPLETED</code></pre><p>The value <code class="codeph">COMPLETED</code> in <code class="codeph">POPULATE_STATUS</code> means that the table is populated in the IM column store.
                                 </p>
                              </li>
                              <li>
                                 <div class="p">The <code class="codeph">DBA_FEATURE_USAGE_STATISTICS</code> view confirms that the database used the IM column store to retrieve the results:<pre class="pre codeblock"><code>COL NAME FORMAT a25
SELECT ul.NAME, ul.DETECTED_USAGES 
FROM   DBA_FEATURE_USAGE_STATISTICS ul 
WHERE  ul.VERSION= (SELECT MAX(u2.VERSION) 
                    FROM   DBA_FEATURE_USAGE_STATISTICS u2 
                    WHERE  u2.NAME = ul.NAME 
                    AND    ul.NAME LIKE '%Column Store%');

NAME                      DETECTED_USAGES
------------------------- ---------------
In-Memory Column Store    1
</code></pre></div>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12__GUID-1DA5E834-3FE8-47FD-A73E-6C3F9AA22718">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-B37DCA18-7CDA-425A-883B-036B70714F85" title="When you enable an object for the IM column store, you can either let Oracle Database control when the object is populated (default), or you can specify a level that determines the priority of the object in the population queue.">Priority Options for In-Memory Population</a>"</span></p>
                           <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about the <code class="codeph">INMEMORY PRIORITY</code> clause
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" title="You can specify that the database populates objects in the IM column store either at database instance startup or when INMEMORY objects are accessed.">How In-Memory Population Works</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886" name="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886"></a><h5 id="INMEM-GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886" class="sect5"><span class="enumeration_section">4.1.2.2 </span>How Background Processes Populate IMCUs
                     </h5>
                     <div>
                        <p>During population, the database reads data from disk in its row format, pivots the rows to create columns, and then compresses the data into In-Memory Compression Units (IMCUs).</p>
                        <p>Worker processes (W<span class="italic">nnn</span>) populate the data in the IM column store. Each worker process operates on a subset of database blocks from the object. Population is a streaming mechanism, simultaneously compressing the data and converting it into columnar format.
                        </p>
                        <p>The <code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> initialization parameter specifies the maximum number of worker processes to use for IM column store population. By default, the setting is one half of <code class="codeph">CPU_COUNT</code>. Set this parameter to an appropriate value for your environment. More worker processes result in faster population, but they use more CPU resources. Fewer worker processes result in slower population, which reduces CPU overhead.
                        </p>
                        <div class="infoboxnote" id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886__GUID-717BA1F4-0B28-467E-B241-AC8332E32E05">
                           <p class="notep1">Note:</p>
                           <p>If <code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> is set to <code class="codeph">0</code>, then population is disabled.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DF723C06-62FE-4E5A-8BE0-0703695A7886__GUID-4C4DF133-8DB5-4FB7-8AEC-2D8DD301C47F">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/INMEMORY_MAX_POPULATE_SERVERS.html#REFRN-GUID-3428C0FF-5AA9-491C-908E-F0BD88095A5A" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">INMEMORY_MAX_POPULATE_SERVERS</code> initialization parameter
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-29A8026E-FACC-494B-9BC9-E0D2C9E6B4C3" title="You can specify that the database populates objects in the IM column store either at database instance startup or when INMEMORY objects are accessed.">How In-Memory Population Works</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" name="GUID-B50145A4-3A97-48DD-8AA3-7E239E926261"></a><h4 id="INMEM-GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" class="sect4"><span class="enumeration_section">4.1.3 </span>Controls for In-Memory Population
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">INMEMORY</code> clause in DDL statements to specify which objects are eligible for population into the IM column store. You can enable tablespaces, tables (internal and external), partitions, and materialized views.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B">The INMEMORY Subclause</a><br><code class="codeph">INMEMORY</code> is a segment-level attribute, not a column-level attribute. However, you can apply the <code class="codeph">INMEMORY</code> attribute to a subset of columns within a specific object.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-B37DCA18-7CDA-425A-883B-036B70714F85">Priority Options for In-Memory Population</a><br>When you enable an object for the IM column store, you can either let Oracle Database control when the object is populated (default), or you can specify a level that determines the priority of the object in the population queue.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4">IM Column Store Compression Methods</a><br>Depending on your requirement, you can compress In-Memory objects at different levels.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-6E37613F-564B-4619-B9B3-CAEB09427E98">Oracle Compression Advisor</a><br>Oracle Compression Advisor estimates the compression ratio that you can realize using the <code class="codeph">MEMCOMPRESS</code> clause. The advisor uses the <code class="codeph">DBMS_COMPRESSION</code> interface.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" title="In-Memory population (population) occurs when the database reads existing row-format data from disk, transforms it into columnar format, and then stores it in the IM column store.">About In-Memory Population</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" name="GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B"></a><h5 id="INMEM-GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" class="sect5"><span class="enumeration_section">4.1.3.1 </span>The INMEMORY Subclause
                     </h5>
                     <div>
                        <p><code class="codeph">INMEMORY</code> is a segment-level attribute, not a column-level attribute. However, you can apply the <code class="codeph">INMEMORY</code> attribute to a subset of columns within a specific object.
                        </p>
                        <p>To enable or disable an object for the IM column store, specify the <code class="codeph">INMEMORY</code> clause in DDL statements for tablespaces, tables, and materialized views. The <code class="codeph">INMEMORY</code> column in the <code class="codeph">DBA_TABLES</code> view indicates which tables have the <code class="codeph">INMEMORY</code> attribute set (<code class="codeph">ENABLED</code>) or not set (<code class="codeph">DISABLED</code>).
                        </p>
                        <p>The following objects are not eligible for population in the IM column store:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Indexes</p>
                           </li>
                           <li>
                              <p>Index-organized tables</p>
                           </li>
                           <li>
                              <p>Hash clusters</p>
                           </li>
                           <li>
                              <p>Objects owned by the <code class="codeph">SYS</code> user and stored in the <code class="codeph">SYSTEM</code> or <code class="codeph">SYSAUX</code> tablespace
                              </p>
                           </li>
                        </ul>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA">In-Memory Tables</a><br>To make heap-organized tables eligible for population, specify <code class="codeph">INMEMORY</code> on the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statements.
                           </li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-37E2E218-33A2-490E-891D-B627906DE16B">In-Memory External Tables</a><br>To make external tables eligible for population, specify the <code class="codeph">EXTERNAL ... INMEMORY</code> clause in <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code>.
                           </li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A">In-Memory Materialized Views</a><br>You can make materialized views eligible for population by specifying <code class="codeph">INMEMORY</code> on the <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statements.
                           </li>
                           <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580">In-Memory Tablespaces</a><br>You can make permanent tablespaces eligible for population by specifying <code class="codeph">INMEMORY</code> on the <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statements.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="Use the INMEMORY clause in DDL statements to specify which objects are eligible for population into the IM column store. You can enable tablespaces, tables (internal and external), partitions, and materialized views.">Controls for In-Memory Population</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA" name="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA"></a><h6 id="INMEM-GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA" class="sect6"><span class="enumeration_section">4.1.3.1.1 </span>In-Memory Tables
                        </h6>
                        <div>
                           <p>To make heap-organized tables eligible for population, specify <code class="codeph">INMEMORY</code> on the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statements.
                           </p>
                           <p>By default, the IM column store populates all nonvirtual columns in the table. You can specify all or some columns of an internal table. For example, you might exclude the <code class="codeph">weight_class</code> and <code class="codeph">catalog_url</code> columns in <code class="codeph">oe.product_information</code> from eligibility.
                           </p>
                           <p>For a partitioned table, you can populate all or some partitions in the IM column store. By default, all partitions in a partitioned table inherit the <code class="codeph">INMEMORY</code> attribute. For hybrid partitioned tables, which contain both internal and external partitions, only internal partitions inherit the <code class="codeph">INMEMORY</code> attribute.
                           </p>
                           <p>On Oracle Exadata Storage Server, the <code class="codeph">CELLMEMORY</code> keyword (default) enables the flash cache to store data in the In-Memory format. You can use <code class="codeph">ALTER TABLE</code> to choose <code class="codeph">FOR QUERY</code> or <code class="codeph">FOR CAPACITY</code> compression. Specifying <code class="codeph">NO CELLMEMORY</code> disables columnar storage in the flash cache.
                           </p>
                           <p>If you enable a table for the IM column store and it contains any of the following types of columns, then they will not be populated in the IM column store:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Out-of-line columns (varrays, nested table columns, and out-of-line LOBs)</p>
                                 <div class="infoboxnote" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-5136E8D0-9A18-4EE5-A6E0-8FCAB0F5C31F">
                                    <p class="notep1">Note:</p>
                                    <p>For inline LOB columns, the IM column store allocates up to 4 KB of contiguous buffer storage, and up to 32 KB when the inline LOBs contain OSON (binary JSON) data. For out-of-line LOBs, the IM column store allocates up to 40 bytes for the locator, but does not store the LOB itself.</p>
                                 </div>
                              </li>
                              <li>
                                 <p>Columns that use the <code class="codeph">LONG</code> or <code class="codeph">LONG RAW</code> data types
                                 </p>
                              </li>
                              <li>
                                 <p>Extended data type columns</p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-B310B32B-63DF-4C53-A522-0AAD43A8EE86">
                              <p class="titleinexample">Example 4-2 Specifying a Table as INMEMORY</p>
                              <p>Assume that you are connected to the database as user <code class="codeph">sh</code>. You enable the <code class="codeph">customers</code> table for population in the IM column store, using the default compression level of <code class="codeph">FOR QUERY LOW</code>:
                              </p><pre class="pre codeblock"><code>SQL&gt; SELECT TABLE_NAME, INMEMORY FROM USER_TABLES WHERE TABLE_NAME = 'CUSTOMERS';

TABLE_NAME INMEMORY
---------- --------
CUSTOMERS  DISABLED

SQL&gt; ALTER TABLE customers INMEMORY;

Table altered.

SQL&gt; SELECT TABLE_NAME, INMEMORY, INMEMORY_COMPRESSION FROM USER_TABLES WHERE TABLE_NAME='CUSTOMERS';

TABLE_NAME INMEMORY INMEMORY_COMPRESS
---------- -------- -----------------
CUSTOMERS  ENABLED  FOR QUERY LOW
</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-2AA11DCC-5744-42C3-81FB-B2BF9A695DCA__GUID-01A3F602-2793-4402-8628-B7844CE35E11">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="in-memory-column-store-architecture.html#GUID-E652C13F-FD52-49D2-B968-3B1A03F7F1ED" title="The IM column store uses special compression formats optimized for access speed rather than storage reduction. The columnar format enables queries to execute directly against the compressed columns.">In-Memory Compression</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables or materialized views can be populated into the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SAGUG-GUID-76E92D13-C65B-4B74-B92D-2AA01D923902" target="_blank"><span><cite>Oracle Exadata System Software User's Guide</cite></span></a> to learn more about <code class="codeph">ALTER TABLE ... CELLMEMORY</code></p>
                                 </li>
                                 <li>
                                    <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about <code class="codeph">INMEMORY</code> clause of the <code class="codeph">CREATE TABLE</code> statement
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY is a segment-level attribute, not a column-level attribute. However, you can apply the INMEMORY attribute to a subset of columns within a specific object.">The INMEMORY Subclause</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-37E2E218-33A2-490E-891D-B627906DE16B" name="GUID-37E2E218-33A2-490E-891D-B627906DE16B"></a><h6 id="INMEM-GUID-37E2E218-33A2-490E-891D-B627906DE16B" class="sect6"><span class="enumeration_section">4.1.3.1.2 </span>In-Memory External Tables
                        </h6>
                        <div>
                           <p>To make external tables eligible for population, specify the <code class="codeph">EXTERNAL ... INMEMORY</code> clause in <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code>.
                           </p>
                           <div class="section">
                              <p class="subhead3" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-4C5095BD-8708-4F6E-86B1-80EA78A52045">Purpose of In-Memory External Tables</p>
                              <p>In-Memory external tables are useful in the following cases:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Short-term data that must be scanned repeatedly in a short time span and does not require retention in Oracle Database</p>
                                 </li>
                                 <li>
                                    <p>External data that must be joined to relational data for fast analytic processing</p>
                                 </li>
                                 <li>
                                    <p>Data that is accessed by analytic queries in both Oracle Database and external tools, and which does not need to be materialized in database storage</p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-3BCB388A-5694-4886-9E59-033E38188216">Restrictions for In-Memory External Tables</p>
                              <p>The IM column store manages the data for external tables in the same way as for heap-organized tables. For example, a full table scan populates both internal tables and external tables into the IM column store. The same drivers supported for external tables are supported for In-Memory external tables. However, note the following differences:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Some <code class="codeph">INMEMORY</code> subclauses for external tables are not valid, including the column clause, distribute clause, and priority clause.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span>In-Memory Optimized Arithmetic</span> does not support external tables.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Partitioning is not supported for In-Memory external tables. For hybrid partitioned tables, which contain both internal and external partitions, only <span class="italic">internal</span> partitions—not external partitions—support the <code class="codeph">INMEMORY</code> attribute.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Join groups are not supported for In-Memory external tables.</p>
                                 </li>
                                 <li>
                                    <p>IM expressions are not supported for In-Memory external tables.</p>
                                 </li>
                                 <li>
                                    <p>In-Memory external tables do not support the <code class="codeph">DISTRIBUTE ... FOR SERVICE</code> clause for Oracle Active Data Guard instances.
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-41D0FF6E-6FB0-40EC-84E3-793804B9827D">
                                 <p class="notep1">Note:</p>
                                 <p>Sessions that query In-Memory external tables must have the initialization parameter <code class="codeph">QUERY_REWRITE_INTEGRITY</code> set to <code class="codeph">stale_tolerated</code>. If an external table is modified, then the results from the IM column store are undefined.
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-37E2E218-33A2-490E-891D-B627906DE16B__GUID-EA7D5E71-89E7-4B17-BE0F-13548DC66E10">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" title="This example populates an external table that has the INMEMORY option.">Populating an In-Memory External Table Using DBMS_INMEMORY.POPULATE: Example</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about <code class="codeph">INMEMORY</code> clause of the <code class="codeph">CREATE TABLE ... EXTERNAL</code> statement
                                    </p>
                                 </li>
                                 <li>
                                    <p><span><a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a> for details on which features are supported for different editions and services</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY is a segment-level attribute, not a column-level attribute. However, you can apply the INMEMORY attribute to a subset of columns within a specific object.">The INMEMORY Subclause</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A" name="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A"></a><h6 id="INMEM-GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A" class="sect6"><span class="enumeration_section">4.1.3.1.3 </span>In-Memory Materialized Views
                        </h6>
                        <div>
                           <p>You can make materialized views eligible for population by specifying <code class="codeph">INMEMORY</code> on the <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statements.
                           </p>
                           <p>For a partitioned materialized view, you can populate all or a subset of the partitions in the IM column store.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-64B4046F-C3E3-49EB-928E-6502AA58EF4A__GUID-4B5B7E9A-E31E-4963-BB33-17BC6837427A">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-29EE5682-AE42-4879-ABAD-E34E66ADD233" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">ALTER MATERIALIZED VIEW</code> syntax and semantics
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY is a segment-level attribute, not a column-level attribute. However, you can apply the INMEMORY attribute to a subset of columns within a specific object.">The INMEMORY Subclause</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580" name="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580"></a><h6 id="INMEM-GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580" class="sect6"><span class="enumeration_section">4.1.3.1.4 </span>In-Memory Tablespaces
                        </h6>
                        <div>
                           <p>You can make permanent tablespaces eligible for population by specifying <code class="codeph">INMEMORY</code> on the <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statements.
                           </p>
                           <p>By default, all tables and materialized views in the tablespace are enabled for the IM column store. Individual tables and materialized views in the tablespace may have different <code class="codeph">INMEMORY</code> attributes. The attributes for individual database objects override the attributes for the tablespace.
                           </p>
                           <div class="infoboxnote" id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580__GUID-891F89CD-200A-4D8A-86F4-4FC04561BAD6">
                              <p class="notep1">Note:</p>
                              <p>Temporary tablespaces are not eligible for In-Memory population.</p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-C06CE2D2-72A2-427F-ADAD-0AC689D02580__GUID-0E102071-2927-4B74-B5FE-ACD2AC1E4EA7">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/ALTER-TABLESPACE.html#GUID-CA074861-55D3-4768-8995-43D4DA26365D" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">ALTER TABLESPACE</code> syntax and semantics
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-5D4B2A1F-815F-4FDC-91F8-E5CF7179985B" title="INMEMORY is a segment-level attribute, not a column-level attribute. However, you can apply the INMEMORY attribute to a subset of columns within a specific object.">The INMEMORY Subclause</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85" name="GUID-B37DCA18-7CDA-425A-883B-036B70714F85"></a><h5 id="INMEM-GUID-B37DCA18-7CDA-425A-883B-036B70714F85" class="sect5"><span class="enumeration_section">4.1.3.2 </span>Priority Options for In-Memory Population
                     </h5>
                     <div>
                        <p>When you enable an object for the IM column store, you can either let Oracle Database control when the object is populated (default), or you can specify a level that determines the priority of the object in the population queue.</p>
                        <div class="section">
                           <p>Oracle SQL includes an <code class="codeph">INMEMORY PRIORITY</code> clause that provides more control over the queue for population. For example, it might be more important or less important to populate a database object's data before populating the data for other database objects.
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-C3E99599-F9CA-4F6C-8E5B-9DAF3E2EC26F">
                              <p class="notep1">Video:</p>
                              <p>
                                 <div class="video-box">
                                    <div id="9368" class="video-container"></div>
                                 </div>
                              </p>
                           </div>
                           <p>The following table describes the supported priority levels.</p>
                           <div class="tblformalwide" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__BABEIDGD">
                              <p class="titleintable">Table 4-1 Priority Levels for Populating a Database Object in the IM Column Store</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Priority Levels for Populating a Database Object in the IM Column Store" summary="This table describes the priority levels for loading table data into the In-Memory Column Store. It has the following columns:  Priority Level, CREATE/ALTER Table Syntax, and Description" width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="30%" id="d11625e2317">CREATE/ALTER Syntax</th>
                                       <th align="left" valign="bottom" width="70%" id="d11625e2320">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2325" headers="d11625e2317 ">
                                          <p><code class="codeph">PRIORITY NONE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2325 d11625e2320 ">
                                          <p>The database populates the object on demand only. A full scan of the database object triggers the population of the object into the IM column store.</p>
                                          <p>This is the default level when <code class="codeph">PRIORITY</code> is not included in the <code class="codeph">INMEMORY</code> clause.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2341" headers="d11625e2317 ">
                                          <p><code class="codeph">PRIORITY LOW</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2341 d11625e2320 ">
                                          <p>The database assigns the object a low priority and populates it after startup based on its position in the queue. Population does not depend on whether the object is accessed.</p>
                                          <p>The object is populated in the IM column store before database objects with the following priority level: <code class="codeph">NONE</code>. The database object's data is populated in the IM column store after database objects with the following priority levels: <code class="codeph">MEDIUM</code>, <code class="codeph">HIGH</code>, or <code class="codeph">CRITICAL</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2363" headers="d11625e2317 ">
                                          <p><code class="codeph">PRIORITY MEDIUM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2363 d11625e2320 ">
                                          <p>The database assigns the object a medium priority and populates it after startup based on its position in the queue. Population does not depend on whether the object is accessed.</p>
                                          <p>The database object is populated in the IM column store before database objects with the following priority levels: <code class="codeph">NONE</code> or <code class="codeph">LOW</code>. The database object's data is populated in the IM column store after database objects with the following priority levels: <code class="codeph">HIGH</code> or <code class="codeph">CRITICAL</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2385" headers="d11625e2317 ">
                                          <p><code class="codeph">PRIORITY HIGH</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2385 d11625e2320 ">
                                          <p>The database assigns the object a high priority and populates it after startup based on its position in the queue. Population does not depend on whether the object is accessed.</p>
                                          <p>The database object's data is populated in the IM column store before database objects with the following priority levels: <code class="codeph">NONE</code>, <code class="codeph">LOW</code>, or <code class="codeph">MEDIUM</code>. The database object's data is populated in the IM column store after database objects with the following priority level: <code class="codeph">CRITICAL</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="30%" id="d11625e2407" headers="d11625e2317 ">
                                          <p><code class="codeph">PRIORITY CRITICAL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="70%" headers="d11625e2407 d11625e2320 ">
                                          <p>The database assigns the object a low priority and populates it after startup based on its position in the queue. Population does not depend on whether the object is accessed.</p>
                                          <p>The database object's data is populated in the IM column store before database objects with the following priority levels: <code class="codeph">NONE</code>, <code class="codeph">LOW</code>, <code class="codeph">MEDIUM</code>, or <code class="codeph">HIGH</code>.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>When more than one database object has a priority level other than <code class="codeph">NONE</code>, Oracle Database queues the data for objects to be populated based on priority level. Database objects with the <code class="codeph">CRITICAL</code> priority level are populated first; database objects with the <code class="codeph">HIGH</code> priority level are populated next, and so on. If no space remains in the IM column store, then no additional objects are populated in it until space becomes available.
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-E2372CD0-3319-4179-B3DA-64510BF383F8">
                              <p class="notep1">Note:</p>
                              <p>If you specify all objects as <code class="codeph">CRITICAL</code>, then the database does not consider any object as more critical than any other.
                              </p>
                           </div>
                           <p>When a database is restarted, all of the data for database objects with a priority level other than <code class="codeph">NONE</code> are populated in the IM column store during startup. For a database object with a priority level other than <code class="codeph">NONE</code>, an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> DDL statement involving the database object does not return until the DDL changes are recorded in the IM column store.
                           </p>
                           <div class="infoboxnote" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-973048C5-DE8A-43BA-8751-8310E2B2685F">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The priority level setting must apply to an entire table or to a table partition. Specifying different IM column store priority levels for different subsets of columns in a table is not permitted.</p>
                                 </li>
                                 <li>
                                    <p>If a segment on disk is 64 KB or less, then it is not populated in the IM column store. Therefore, some small database objects that were enabled for the IM column store might not be populated.</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B37DCA18-7CDA-425A-883B-036B70714F85__GUID-44A62D85-0071-40D2-909B-D8555BEA8518">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" title="DDL statements include an INMEMORY PRIORITY subclause that provides more control over the population queue.">Prioritization of In-Memory Population</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">CREATE TABLE ... INMEMORY PRIORITY</code> syntax and semantics
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="Use the INMEMORY clause in DDL statements to specify which objects are eligible for population into the IM column store. You can enable tablespaces, tables (internal and external), partitions, and materialized views.">Controls for In-Memory Population</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4" name="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4"></a><h5 id="INMEM-GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4" class="sect5"><span class="enumeration_section">4.1.3.3 </span>IM Column Store Compression Methods
                     </h5>
                     <div>
                        <p>Depending on your requirement, you can compress In-Memory objects at different levels.</p>
                        <div class="section">
                           <p>Typically, compression is a space-saving mechanism. However, the IM column store can compress data using a new set of algorithms that also improve query performance. If the columnar data is compressed using the <code class="codeph">FOR DML</code> or <code class="codeph">FOR QUERY</code> options, then SQL queries execute directly on the compressed data. Thus, scanning and filtering operations execute on a much smaller amount of data. The database only decompresses data when it is required for the result set.
                           </p>
                           <div class="infoboxnote" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-FE6070A5-C5BB-444C-BC92-F63E56B6077C">
                              <p class="notep1">Video:</p>
                              <p>
                                 <div class="video-box">
                                    <div id="9369" class="video-container"></div>
                                 </div>
                              </p>
                           </div>
                           <p>The <code class="codeph">V$IM_SEGMENTS</code> and <code class="codeph">V$IM_COLUMN_LEVEL</code> views indicate the current compression level. You can change compression levels by using the appropriate <code class="codeph">ALTER</code> command. <span>If a table is currently populated in the IM column store, and if you change any <code class="codeph">INMEMORY</code> attribute of the table <span class="italic">other than</span> <code class="codeph">PRIORITY</code>, then the database evicts the table from the IM column store. The repopulation behavior depends on the <code class="codeph">PRIORITY</code> setting.</span></p>
                           <p>The following table summarizes the data compression methods supported in the IM column store.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformalwide" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__BABIHHDA">
                           <p class="titleintable">Table 4-2 IM Column Store Compression Methods</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="IM Column Store Compression Methods" summary="This table describes the types of in-memory table compression. It has the following columns: CREATE/ALTER Table Syntax, and Description" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="45%" id="d11625e2662">CREATE/ALTER Syntax</th>
                                    <th align="left" valign="bottom" width="55%" id="d11625e2665">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2670" headers="d11625e2662 ">
                                       <p><code class="codeph">NO MEMCOMPRESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2670 d11625e2665 ">
                                       <p>The data is not compressed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2678" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS FOR DML</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2678 d11625e2665 ">
                                       <p>This method results in the best DML performance.</p>
                                       <p>This method compresses IM column store data the least, with the exception of <code class="codeph">NO MEMCOMPRESS</code>.
                                       </p>
                                       <div class="infoboxnote" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-D184FBE5-7A65-410E-B241-34AE170A716A">
                                          <p class="notep1">Note:</p>
                                          <p>This compression method is not supported for <code class="codeph">CELLMEMORY</code> storage on Exadata flash cache.
                                          </p>
                                       </div>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2697" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS FOR QUERY LOW</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2697 d11625e2665 ">
                                       <p>This method results in the best query performance.</p>
                                       <p>This method compresses IM column store data more than <code class="codeph">MEMCOMPRESS FOR DML</code> but less than <code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code>.
                                       </p>
                                       <p>This method is the default when the <code class="codeph">INMEMORY</code> clause is specified without a compression method in a <code class="codeph">CREATE</code> or <code class="codeph">ALTER</code> SQL statement or when <code class="codeph">MEMCOMPRESS FOR QUERY</code> is specified without including either <code class="codeph">LOW</code> or <code class="codeph">HIGH</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2734" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2734 d11625e2665 ">
                                       <p>This method results in good query performance, and saves space.</p>
                                       <p>This method compresses IM column store data more than <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code> but less than <code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2750" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2750 d11625e2665 ">
                                       <p>This method balances space saving and query performance, with a bias toward space saving.</p>
                                       <p>This method compresses IM column store data more than <code class="codeph">MEMCOMPRESS FOR QUERY HIGH</code> but less than <code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code>. This method applies a proprietary compression technique called Oracle Zip (OZIP) that offers extremely fast decompression that is tuned specifically for Oracle Database. That data must be decompressed before it can be scanned.
                                       </p>
                                       <p>This method is the default when <code class="codeph">MEMCOMPRESS FOR CAPACITY</code> is specified without including either <code class="codeph">LOW</code> or <code class="codeph">HIGH</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d11625e2777" headers="d11625e2662 ">
                                       <p><code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d11625e2777 d11625e2665 ">
                                       <p>This method results in the best space saving.</p>
                                       <p>This method compresses IM column store data the most.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>In a SQL statement, the <code class="codeph">MEMCOMPRESS</code> keyword must be preceded by the <code class="codeph">INMEMORY</code> keyword.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-1965B8FE-B34E-42D9-9E97-45D6579162A4__GUID-ED27CFC7-FDAC-41CC-AA4D-C6484F71BF43">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="repopulation-and-dml.html#GUID-857EFBD6-6D03-4543-9FAB-F66B5C16D0C7" title="The automatic refresh of columnar data after significant modifications is called repopulation.">About Repopulation of the IM Column Store</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SAGUG-GUID-76E92D13-C65B-4B74-B92D-2AA01D923902" target="_blank"><span><cite>Oracle Exadata System Software User's Guide</cite></span></a> to learn more about <code class="codeph">ALTER TABLE ... CELLMEMORY</code></p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">CREATE TABLE ... INMEMORY PRIORITY</code> syntax and semantics
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="Use the INMEMORY clause in DDL statements to specify which objects are eligible for population into the IM column store. You can enable tablespaces, tables (internal and external), partitions, and materialized views.">Controls for In-Memory Population</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98" name="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98"></a><h5 id="INMEM-GUID-6E37613F-564B-4619-B9B3-CAEB09427E98" class="sect5"><span class="enumeration_section">4.1.3.4 </span>Oracle Compression Advisor
                     </h5>
                     <div>
                        <p>Oracle Compression Advisor estimates the compression ratio that you can realize using the <code class="codeph">MEMCOMPRESS</code> clause. The advisor uses the <code class="codeph">DBMS_COMPRESSION</code> interface.
                        </p>
                        <p> When you run <code class="codeph">DBMS_COMPRESSION.GET_COMPRESSION_RATIO</code> for a table, Oracle Database analyzes a sample of the rows. For this reason, Oracle Compression Advisor provides a good estimate of the compression results that a table achieves after it is populated into the IM column store.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6E37613F-564B-4619-B9B3-CAEB09427E98__GUID-E1CB37F6-B8A3-4A1C-8A0F-FF3B139809FC">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_COMPRESSION.html#ARPLS65605" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about  <code class="codeph">DBMS_COMPRESSION.GET_COMPRESSION_RATIO</code></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-B50145A4-3A97-48DD-8AA3-7E239E926261" title="Use the INMEMORY clause in DDL statements to specify which objects are eligible for population into the IM column store. You can enable tablespaces, tables (internal and external), partitions, and materialized views.">Controls for In-Memory Population</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" name="GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B"></a><h3 id="INMEM-GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" class="sect3"><span class="enumeration_section">4.2 </span>Enabling and Disabling Tables for the IM Column Store
               </h3>
               <div>
                  <p>Enable a table for the IM column store by including an <code class="codeph">INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement. Disable a table for the IM column store by including a <code class="codeph">NO INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-FB360DEE-45DB-49FF-8510-541473AAD707">Enabling New Tables for the In-Memory Column Store</a><br>You enable a new table for the IM column store by including an <code class="codeph">INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE">Enabling and Disabling Existing Tables for the IM Column Store</a><br>Enable or disable an existing table for the IM column store by including an <code class="codeph">INMEMORY</code> or <code class="codeph">NO INMEMORY</code> clause in an <code class="codeph">ALTER TABLE</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496">Enabling and Disabling Tables for the IM Column Store: Examples</a><br>The following examples illustrate how to enable or disable tables for the IM column store.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">Enabling Objects for In-Memory Population</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707" name="GUID-FB360DEE-45DB-49FF-8510-541473AAD707"></a><h4 id="INMEM-GUID-FB360DEE-45DB-49FF-8510-541473AAD707" class="sect4"><span class="enumeration_section">4.2.1 </span>Enabling New Tables for the In-Memory Column Store
                  </h4>
                  <div>
                     <p>You enable a new table for the IM column store by including an <code class="codeph">INMEMORY</code> clause in a <code class="codeph">CREATE TABLE</code> statement.
                     </p>
                     <div class="section">
                        <p>You can enable either internal or external tables for the IM column store. Some <code class="codeph">INMEMORY</code> subclauses, including the columns and priority subclauses, are not valid for external tables.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-6F19ED97-8AD8-40E2-A990-FEA27BBF5C74">Prerequisites</p>
                        <p>Ensure that the IM column store is enabled for the database. See <span class="q">"<a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables or materialized views can be populated into the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-2CCDECBE-24E2-42C4-ACAE-7174A1DD6411">To enable a new table for the IM column store:</p>
                        <ol>
                           <li>
                              <p>Log in to the database as a user with the necessary privileges to create the table.</p>
                           </li>
                           <li>
                              <p>Run a <code class="codeph">CREATE TABLE</code> statement with an <code class="codeph">INMEMORY</code> clause.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FB360DEE-45DB-49FF-8510-541473AAD707__GUID-9512AE6C-E37B-45A6-9C13-1346AA93313E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" title="This example enables all columns in the oe.product_information table for the IM column store except weight_class and catalog_url.">Enabling a Subset of Columns for the IM Column Store: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about <code class="codeph">INMEMORY</code> clause of the <code class="codeph">CREATE TABLE</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="Enable a table for the IM column store by including an INMEMORY clause in a CREATE TABLE or ALTER TABLE statement. Disable a table for the IM column store by including a NO INMEMORY clause in a CREATE TABLE or ALTER TABLE statement.">Enabling and Disabling Tables for the IM Column Store</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE" name="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE"></a><h4 id="INMEM-GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE" class="sect4"><span class="enumeration_section">4.2.2 </span>Enabling and Disabling Existing Tables for the IM Column Store
                  </h4>
                  <div>
                     <p>Enable or disable an existing table for the IM column store by including an <code class="codeph">INMEMORY</code> or <code class="codeph">NO INMEMORY</code> clause in an <code class="codeph">ALTER TABLE</code> statement.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-C0FDBC4A-D0C2-403F-983E-596C5EE3CF42">Prerequisites</p>
                        <p>Ensure that the IM column store is enabled for the database. See <span class="q">"<a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables or materialized views can be populated into the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-BD98BA8A-70BE-4FBC-A8AB-55B59E0D6A22">To enable or disable an existing table for the IM column store:</p>
                        <ol>
                           <li>
                              <p>Log in to the database as a user with <code class="codeph">ALTER TABLE</code> privileges.
                              </p>
                           </li>
                           <li>
                              <p>Run an <code class="codeph">ALTER TABLE</code> statement with an <code class="codeph">INMEMORY</code> clause or a <code class="codeph">NO INMEMORY</code> clause.
                              </p>
                           </li>
                           <li>
                              <p>Optionally, to view metadata (size, priority, compression level) about the In-Memory segment, query <code class="codeph">V$IM_SEGMENTS</code>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-94F1D24C-ABEA-403D-B1D4-43B331321FFE__GUID-9512AE6C-E37B-45A6-9C13-1346AA93313E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" title="This example enables all columns in the oe.product_information table for the IM column store except weight_class and catalog_url.">Enabling a Subset of Columns for the IM Column Store: Example</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the <code class="codeph">ALTER TABLE</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-IM_SEGMENTS.html#GUID-1CD070FD-2864-452D-B2AA-50E977C4885A" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">V$IM_SEGMENTS</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="Enable a table for the IM column store by including an INMEMORY clause in a CREATE TABLE or ALTER TABLE statement. Disable a table for the IM column store by including a NO INMEMORY clause in a CREATE TABLE or ALTER TABLE statement.">Enabling and Disabling Tables for the IM Column Store</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" name="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496"></a><h4 id="INMEM-GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" class="sect4"><span class="enumeration_section">4.2.3 </span>Enabling and Disabling Tables for the IM Column Store: Examples
                  </h4>
                  <div>
                     <p>The following examples illustrate how to enable or disable tables for the IM column store.</p>
                     <div class="section">This section contains the following topics:</div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-21EBEB55-6898-40C8-B60A-36052D34D73C">Creating an In-Memory Table: Example</a><br>This example creates the <code class="codeph">test_inmem</code> table and enables it for the IM column store.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E1378020-4ED0-4C79-A555-0687314D72BC">Creating a Table with In-Memory Partitions: Example</a><br>This example creates a partitioned table named <code class="codeph">range_sales</code>, specifying a subset of the partitions as <code class="codeph">INMEMORY</code>.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4">Creating an In-Memory External Table: Example</a><br>This example creates an external table with the <code class="codeph">INMEMORY</code> option.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9">Creating and Populating a Hybrid External Table: Example</a><br>This example creates a hybrid external table with the <code class="codeph">INMEMORY</code> option, and then populates the internal partitions.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-D259986C-DD74-4E72-B467-15B5858FB2CC">Enabling an Existing Table for the IM Column Store: Example</a><br>This example enables the existing <code class="codeph">sh.sales</code> table for the IM column store.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A">Setting In-Memory Compression to FOR CAPACITY LOW: Example</a><br>This example enables the existing <code class="codeph">oe.product_information</code> table for the IM column store and specifies the compression method <code class="codeph">FOR CAPACITY LOW</code>.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA">Setting In-Memory Priority to HIGH: Example</a><br>This example enables the <code class="codeph">oe.product_information</code> table for the IM column store and specifies <code class="codeph">PRIORITY HIGH</code> for populating the table data in the IM column store.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-2D5D74B5-F89B-4E67-B177-1509185B473E">Changing the Compression and Priority Settings for an In-Memory Table: Example</a><br>This example alters the <code class="codeph">oe.product_information</code> table to use <code class="codeph">FOR CAPACITY HIGH</code> table compression and a <code class="codeph">LOW</code> priority setting.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C">Disabling a Table for the IM Column Store: Example</a><br>To disable a table for the IM column store, specify the <code class="codeph">NO INMEMORY</code> clause.
                        </li>
                        <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4">Disabling Columnar Format on Exadata Smart Flash Cache: Example</a><br>This example disables the columnar format for <code class="codeph">oe.product_information</code> on Exadata Smart Flash Cache storage.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496__GUID-F9C0F675-4D73-454E-9139-E8A6B95BAB8E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="Enable a table for the IM column store by including an INMEMORY clause in a CREATE TABLE or ALTER TABLE statement. Disable a table for the IM column store by including a NO INMEMORY clause in a CREATE TABLE or ALTER TABLE statement.">Enabling and Disabling Tables for the IM Column Store</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C" name="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C"></a><h5 id="INMEM-GUID-21EBEB55-6898-40C8-B60A-36052D34D73C" class="sect5"><span class="enumeration_section">4.2.3.1 </span>Creating an In-Memory Table: Example
                     </h5>
                     <div>
                        <p>This example creates the <code class="codeph">test_inmem</code> table and enables it for the IM column store.
                        </p>
                        <div class="example" id="GUID-21EBEB55-6898-40C8-B60A-36052D34D73C__GUID-2C339BDC-BFDB-4A5D-AB57-15DE86ACD215">
                           <p>In SQL*Plus, log in to the database as the user who will own the table, and then execute the following SQL statement:</p><pre class="pre codeblock"><code>CREATE TABLE test_inmem (
     id        NUMBER(5) PRIMARY KEY,
     test_col  VARCHAR2(15))
  INMEMORY;
</code></pre><p>The preceding statement uses the defaults for the <code class="codeph">INMEMORY</code> clause: <code class="codeph">MEMCOMPRESS FOR QUERY</code> and <code class="codeph">PRIORITY NONE</code>. Because <code class="codeph">PRIORITY</code> is <code class="codeph">NONE</code>, the database will not automatically populate the table.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E1378020-4ED0-4C79-A555-0687314D72BC" name="GUID-E1378020-4ED0-4C79-A555-0687314D72BC"></a><h5 id="INMEM-GUID-E1378020-4ED0-4C79-A555-0687314D72BC" class="sect5"><span class="enumeration_section">4.2.3.2 </span>Creating a Table with In-Memory Partitions: Example
                     </h5>
                     <div>
                        <p>This example creates a partitioned table named <code class="codeph">range_sales</code>, specifying a subset of the partitions as <code class="codeph">INMEMORY</code>.
                        </p>
                        <div class="example" id="GUID-E1378020-4ED0-4C79-A555-0687314D72BC__GUID-3598CEB3-F4DD-42D0-A69C-6425CD023EBE">
                           <p>Log in to SQL*Plus as the user that will own the new table, and then execute the following DDL statement:</p><pre class="pre codeblock"><code>CREATE TABLE range_sales
    ( prod_id        NUMBER(6)
    , cust_id        NUMBER
    , time_id        DATE
    , channel_id     CHAR(1)
    , promo_id       NUMBER(6)
    , quantity_sold  NUMBER(3)
    , amount_sold    NUMBER(10,2)
    ) 
PARTITION BY RANGE (time_id)
  (PARTITION SALES_Q4_1999 
      VALUES LESS THAN (TO_DATE('01-JAN-2015','DD-MON-YYYY'))
      INMEMORY MEMCOMPRESS FOR DML,
   PARTITION SALES_Q1_2000 
      VALUES LESS THAN (TO_DATE('01-APR-2015','DD-MON-YYYY'))
      INMEMORY MEMCOMPRESS FOR QUERY,
   PARTITION SALES_Q2_2000 
      VALUES LESS THAN (TO_DATE('01-JUL-2015','DD-MON-YYYY'))
      INMEMORY MEMCOMPRESS FOR CAPACITY,
   PARTITION SALES_Q3_2000 
      VALUES LESS THAN (TO_DATE('01-OCT-2015','DD-MON-YYYY'))
      NO INMEMORY,
   PARTITION SALES_Q4_2000 
      VALUES LESS THAN (MAXVALUE));</code></pre><p>The preceding SQL specifies a different compression level for the first three partitions in the IM column store. The last two partitions are not eligible for population in the IM column store.</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" name="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4"></a><h5 id="INMEM-GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4" class="sect5"><span class="enumeration_section">4.2.3.3 </span>Creating an In-Memory External Table: Example
                     </h5>
                     <div>
                        <p>This example creates an external table with the <code class="codeph">INMEMORY</code> option.
                        </p>
                        <div class="p">
                           <p>This example assumes that the host has the directories <code class="codeph">/tmp/data/</code>, <code class="codeph">/tmp/log/</code>, and <code class="codeph">/tmp/bad/</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4__GUID-74146E09-A4DF-4F63-9909-836168A7B3DE">
                           <p>The following SQL script creates the comma-delimited flat file <code class="codeph">/tmp/data/sh_sales.csv</code> from the <code class="codeph">sh.sales</code> table. Execute the script as user <code class="codeph">sh</code>.
                           </p><pre class="pre codeblock"><code>SET HEAD OFF
SET PAGES 0
SET FEEDBACK OFF
SET TERMOUT OFF
SPOOL /tmp/data/sh_sales.csv
SELECT prod_id       || ',' || cust_id  || ',' || time_id || ',' || 
       channel_id    || ',' || promo_id || ',' || 
       quantity_sold || ',' || amount_sold 
FROM   sales;
SPOOL OFF</code></pre><p>Using the <code class="codeph">sh_sales.csv</code> file, the following SQL script creates the external table <code class="codeph">sh.admin_ext_sales</code> with the <code class="codeph">INMEMORY</code> option:
                           </p><pre class="pre codeblock"><code>CONNECT  /  AS SYSDBA;
-- Set up directories and grant access to sh 
CREATE OR REPLACE DIRECTORY admin_dat_dir
    AS '/tmp/data'; 
CREATE OR REPLACE DIRECTORY admin_log_dir 
    AS '/tmp/log'; 
CREATE OR REPLACE DIRECTORY admin_bad_dir 
    AS '/tmp/bad'; 
GRANT READ ON DIRECTORY admin_dat_dir TO sh; 
GRANT WRITE ON DIRECTORY admin_log_dir TO sh; 
GRANT WRITE ON DIRECTORY admin_bad_dir TO sh;
-- sh connects. Provide the user password (sh) when prompted.
CONNECT sh
-- create the external table
DROP TABLE admin_ext_sales;
CREATE TABLE admin_ext_sales
                   (prod_id           NUMBER, 
                    cust_id           NUMBER,
                    time_id           DATE, 
                    channel_id        NUMBER,
                    promo_id          NUMBER,
                    quantity_sold     NUMBER(10,2),
                    amount_sold       NUMBER(10,2)
                   ) 
     ORGANIZATION EXTERNAL 
     ( 
       TYPE ORACLE_LOADER 
       DEFAULT DIRECTORY admin_dat_dir 
       ACCESS PARAMETERS 
       ( 
         records delimited by newline 
         badfile admin_bad_dir:'empxt%a_%p.bad' 
         logfile admin_log_dir:'empxt%a_%p.log' 
         fields terminated by ',' 
         missing field values are null 
         ( prod_id, cust_id,
           time_id char date_format date mask "dd-mon-yy", 
           channel_id, promo_id, quantity_sold, amount_sold 
         ) 
       ) 
       LOCATION ('sh_sales.csv') 
     ) 
     REJECT LIMIT UNLIMITED
     INMEMORY; </code></pre><p>The following query of <code class="codeph">ALL_EXTERNAL_TABLES</code> shows that the <code class="codeph">admin_ext_sales</code> table is enabled for <code class="codeph">INMEMORY</code>:
                           </p><pre class="pre codeblock"><code>COL OWNER FORMAT A10
COL TABLE_NAME FORMAT A15

SELECT OWNER, TABLE_NAME, 
       INMEMORY, INMEMORY_COMPRESSION 
FROM   ALL_EXTERNAL_TABLES 
WHERE  TABLE_NAME = 'ADMIN_EXT_SALES';

OWNER      TABLE_NAME      INMEMORY INMEMORY_COMPRESS
---------- --------------- -------- -----------------
SH         ADMIN_EXT_SALES ENABLED  FOR QUERY LOW
</code></pre><p>Related views include <code class="codeph">ALL_XTERNAL_PART_TABLES</code>, <code class="codeph">ALL_XTERNAL_TAB_PARTITIONS</code>, and <code class="codeph">ALL_XTERNAL_TAB_SUBPARTITIONS</code>.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-55107DB5-36DD-4654-94D0-D0BC6979B2E4__GUID-7DD4F704-3C39-4F55-8D02-F3B52AF126BC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="populating-the-imcs-manually.html#GUID-F1B26BDD-614B-4E4C-A986-8977B4B27DF0" title="This example populates an external table that has the INMEMORY option.">Populating an In-Memory External Table Using DBMS_INMEMORY.POPULATE: Example</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/QUERY_REWRITE_INTEGRITY.html#GUID-23655494-DF65-4F0E-A89F-8333222297F5" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about <code class="codeph">ALL_EXTERNAL_TABLES</code> and the related external table views
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9" name="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9"></a><h5 id="INMEM-GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9" class="sect5"><span class="enumeration_section">4.2.3.4 </span>Creating and Populating a Hybrid External Table: Example
                     </h5>
                     <div>
                        <p>This example creates a hybrid external table with the <code class="codeph">INMEMORY</code> option, and then populates the internal partitions.
                        </p>
                        <div class="section">
                           <p>This example assumes the existence of the <code class="codeph">sh.sales</code> table. The goal is to create a hybrid partitioned table <code class="codeph">sales_hpt</code> with two internal partitions, one of which uses the data from <code class="codeph">sh.sales</code>, and then add one external partition. When you apply the <code class="codeph">INMEMORY</code> attribute to <code class="codeph">sales_hpt</code>, this attribute only applies to the internal partitions.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9__GUID-0EFD8472-DEFF-4675-8F07-8485100A5954">
                           <ol id="GUID-38898326-7C23-4ECA-A474-F2FE4B103CC9__OL_T1Z_CNV_3GB">
                              <li>
                                 <p>In Linux, create a temporary directory, and then create a text file with one row of sales data.</p><pre class="pre codeblock"><code>mkdir /tmp/sales_data
echo "1002,110,19-02-2015,12,18,150,4800" &gt; /tmp/sales_data/sales2015_data.txt</code></pre></li>
                              <li>
                                 <p>In SQL*Plus, log is with administrator privileges, and then create a directory object for the sales data:</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA

CREATE DIRECTORY sales_data AS '/tmp/sales_data';
GRANT READ,WRITE ON DIRECTORY sales_data TO sh;
</code></pre></li>
                              <li>
                                 <p>Log in as user <code class="codeph">sh</code>, and then create the <code class="codeph">sales_hpt</code> table:
                                 </p><pre class="pre codeblock"><code>CONNECT sh

DROP TABLE sales_hpt;
CREATE TABLE sales_hpt
  ( prod_id       NUMBER        NOT NULL,
    cust_id       NUMBER        NOT NULL,
    time_id       DATE          NOT NULL,
    channel_id    NUMBER        NOT NULL,
    promo_id      NUMBER        NOT NULL,
    quantity_sold NUMBER(10,2)  NOT NULL,
    amount_sold   NUMBER(10,2)  NOT NULL
  )
    EXTERNAL PARTITION ATTRIBUTES (
      TYPE ORACLE_LOADER 
      DEFAULT DIRECTORY sales_data
       ACCESS PARAMETERS(
         FIELDS TERMINATED BY ','
         (prod_id,cust_id,time_id DATE 'dd-mm-yyyy',channel_id,promo_id,quantity_sold,amount_sold)
       ) 
      REJECT LIMIT UNLIMITED
     ) 
    PARTITION BY RANGE (time_id)
    (
     PARTITION sales_2014 VALUES LESS THAN (TO_DATE('01-01-2015','dd-mm-yyyy')),
     PARTITION sales_2015 VALUES LESS THAN (TO_DATE('01-01-2016','dd-mm-yyyy')),
     PARTITION sales_2016 VALUES LESS THAN (TO_DATE('01-01-2017','dd-mm-yyyy')) EXTERNAL 
          LOCATION ('sales2016_data.txt')
);</code></pre><p>The preceding statement shows that the table has three partitions: <code class="codeph">sales_2014</code>, <code class="codeph">sales_2015</code>, and <code class="codeph">sales_2016</code>. Only <code class="codeph">sales_2016</code> is designed as external.
                                 </p>
                              </li>
                              <li>
                                 <p>Query the data dictionary to confirm that the table is a hybrid:</p><pre class="pre codeblock"><code>SQL&gt; COL TABLE_NAME FORMAT a25
SQL&gt; SELECT TABLE_NAME, HYBRID FROM USER_TABLES WHERE HYBRID = 'YES';

TABLE_NAME                HYB
------------------------- ---
SALES_HPT                 YES</code></pre></li>
                              <li>
                                 <p>Insert rows into the two internal partitions:</p><pre class="pre codeblock"><code>INSERT /*+APPEND*/ INTO sh.sales_hpt (SELECT * FROM sales);
INSERT INTO sh.sales_hpt VALUES (30, 21086, '30-12-2015', 2, 999, 1, 10.19);
COMMIT;</code></pre><p>The first of the preceding statements inserts all rows from the <code class="codeph">sales</code> table. All dates in <code class="codeph">sales</code> are before 2002, so all rows from <code class="codeph">sales</code> are inserted into the <code class="codeph">sales_2014</code> partition. The second statement inserts a single row into the <code class="codeph">sales_2015</code> partition.
                                 </p>
                              </li>
                              <li>
                                 <p>Query the partitions to confirm that the correct data exists:</p><pre class="pre codeblock"><code>SQL&gt; SELECT COUNT(*) FROM sales_hpt PARTITION(sales_2014);

  COUNT(*)
----------
    918843

SQL&gt; SELECT COUNT(*) FROM sales_hpt PARTITION(sales_2015);

  COUNT(*)
----------
         1

SQL&gt; SELECT COUNT(*) FROM sales_hpt PARTITION(sales_2016);

  COUNT(*)
----------
         1</code></pre></li>
                              <li>
                                 <p>Apply the <code class="codeph">INMEMORY</code> attribute at the table level, and then force the database to populate the table into the IM column store:
                                 </p><pre class="pre codeblock"><code>ALTER TABLE sales_hpt INMEMORY;
SELECT /*+ FULL(sales_hpt) NO_PARALLEL(sales_hpt) */ COUNT(*) FROM sales_hpt;</code></pre></li>
                              <li>
                                 <p>Query the population status of the <code class="codeph">sales_hpt</code> partitions:
                                 </p><pre class="pre codeblock"><code>COL OWNER FORMAT a3
COL NAME FORMAT a10
COL PARTITION FORMAT a13
COL STATUS FORMAT a20

SELECT OWNER, SEGMENT_NAME NAME, PARTITION_NAME PARTITION,
       POPULATE_STATUS STATUS, BYTES_NOT_POPULATED
FROM   V$IM_SEGMENTS;

OWN NAME       PARTITION     STATUS               BYTES_NOT_POPULATED
--- ---------- ------------- -------------------- -------------------
SH  SALES_HPT  SALES_2015    COMPLETED                              0
SH  SALES_HPT  SALES_2014    COMPLETED                              0
</code></pre><p>The query shows that only the two internal partitions were populated, which is expected. The <code class="codeph">INMEMORY</code> attribute does not apply to external partitions.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC" name="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC"></a><h5 id="INMEM-GUID-D259986C-DD74-4E72-B467-15B5858FB2CC" class="sect5"><span class="enumeration_section">4.2.3.5 </span>Enabling an Existing Table for the IM Column Store: Example
                     </h5>
                     <div>
                        <p>This example enables the existing <code class="codeph">sh.sales</code> table for the IM column store.
                        </p>
                        <div class="example" id="GUID-D259986C-DD74-4E72-B467-15B5858FB2CC__GUID-E76EA99F-9376-4D58-950D-885C7DB465C4">
                           <p>In SQL*Plus, log in to the database as the <code class="codeph">sh</code> user, and then execute the following DDL statement:
                           </p><pre class="pre codeblock"><code>ALTER TABLE sales INMEMORY;
</code></pre><p>The preceding statement uses the defaults for the <code class="codeph">INMEMORY</code> clause: <code class="codeph">MEMCOMPRESS FOR QUERY</code> and <code class="codeph">PRIORITY NONE</code>.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A" name="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A"></a><h5 id="INMEM-GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A" class="sect5"><span class="enumeration_section">4.2.3.6 </span>Setting In-Memory Compression to FOR CAPACITY LOW: Example
                     </h5>
                     <div>
                        <p>This example enables the existing <code class="codeph">oe.product_information</code> table for the IM column store and specifies the compression method <code class="codeph">FOR CAPACITY LOW</code>.
                        </p>
                        <div class="example" id="GUID-99483384-3F93-482C-A4BE-63EFA9F05C1A__GUID-AF1FC237-18BF-4ECA-9BCA-99CA4E463158">
                           <p>In SQL*Plus, log in to the database as the <code class="codeph">oe</code> user, and then execute the following DDL statement:
                           </p><pre class="pre codeblock"><code>ALTER TABLE product_information 
  INMEMORY 
  MEMCOMPRESS FOR CAPACITY LOW;
</code></pre><p>The preceding statement uses the default for the <code class="codeph">PRIORITY</code> clause of <code class="codeph">NONE</code>. Populate the table by forcing a full table scan as follows (sample output included):
                           </p><pre class="pre codeblock"><code>SELECT /*+ FULL(p) NO_PARALLEL(p) */ COUNT(*) 
FROM   product_information p;

  COUNT(*)
----------
       288
</code></pre><p>In a separate session, log in as a user with administrative privileges, and then calculate the compression ratio by executing the following query (sample output included):</p><pre class="pre codeblock"><code>COL OWNER FORMAT a5
COL SEGMENT_NAME FORMAT a19
SET PAGESIZE 50000

SELECT OWNER, SEGMENT_NAME, BYTES ORIG_SIZE,
       INMEMORY_SIZE IN_MEM_SIZE,
       ROUND (BYTES / INMEMORY_SIZE, 2) COMP_RATIO
FROM   V$IM_SEGMENTS
WHERE  SEGMENT_NAME LIKE 'P%'
ORDER BY 4;

OWNER SEGMENT_NAME         ORIG_SIZE IN_MEM_SIZE COMP_RATIO
----- ------------------- ---------- ----------- ----------
OE    PRODUCT_INFORMATION      98304     1310720        .08</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA" name="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA"></a><h5 id="INMEM-GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA" class="sect5"><span class="enumeration_section">4.2.3.7 </span>Setting In-Memory Priority to HIGH: Example
                     </h5>
                     <div>
                        <p>This example enables the <code class="codeph">oe.product_information</code> table for the IM column store and specifies <code class="codeph">PRIORITY HIGH</code> for populating the table data in the IM column store.
                        </p>
                        <div class="example" id="GUID-C427E06F-AB27-4013-B7CE-223FF15E14AA__GUID-C7F19235-479A-4D5A-A735-FE4560E9F2C3">
                           <p>In SQL*Plus, log in to the database as the <code class="codeph">oe</code> user, and then execute the following DDL statement:
                           </p><pre class="pre codeblock"><code>ALTER TABLE 
  product_information 
  INMEMORY 
  PRIORITY HIGH;
</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E" name="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E"></a><h5 id="INMEM-GUID-2D5D74B5-F89B-4E67-B177-1509185B473E" class="sect5"><span class="enumeration_section">4.2.3.8 </span>Changing the Compression and Priority Settings for an In-Memory Table: Example
                     </h5>
                     <div>
                        <p>This example alters the <code class="codeph">oe.product_information</code> table to use <code class="codeph">FOR CAPACITY HIGH</code> table compression and a <code class="codeph">LOW</code> priority setting.
                        </p>
                        <div class="example" id="GUID-2D5D74B5-F89B-4E67-B177-1509185B473E__GUID-5A918ABB-5598-4535-9B4E-F9DDBC706BD1">
                           <p>In SQL*Plus, log in to the database as an administrative user, and then execute the following query to show the current priority and compression setting for the <code class="codeph">oe.product_information</code> table:
                           </p><pre class="pre codeblock"><code>COL OWNER FORMAT a5
COL SEGMENT_NAME FORMAT a19
SET PAGESIZE 50000

SELECT v.OWNER, v.SEGMENT_NAME, v.INMEMORY_PRIORITY,
       v.INMEMORY_COMPRESSION
FROM   V$IM_SEGMENTS v
WHERE  SEGMENT_NAME LIKE 'P%';

OWNER SEGMENT_NAME        INMEMORY INMEMORY_COMPRESS
----- ------------------- -------- -----------------
OE    PRODUCT_INFORMATION HIGH     FOR CAPACITY LOW
</code></pre><p>The following DDL statement alters <code class="codeph">oe.product_information</code> to use <code class="codeph">FOR CAPACITY HIGH</code> table compression and <code class="codeph">PRIORITY LOW</code>:
                           </p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information 
  INMEMORY 
  MEMCOMPRESS FOR CAPACITY HIGH 
  PRIORITY LOW;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C" name="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C"></a><h5 id="INMEM-GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C" class="sect5"><span class="enumeration_section">4.2.3.9 </span>Disabling a Table for the IM Column Store: Example
                     </h5>
                     <div>
                        <p>To disable a table for the IM column store, specify the <code class="codeph">NO INMEMORY</code> clause.
                        </p>
                        <div class="example" id="GUID-DF52530E-137B-4FAC-AC1E-017D10B9519C__GUID-DF205A1C-2A1B-4E56-A803-E370DA1460FD">
                           <p>Log in to the database as the user <code class="codeph">oe</code>, and then execute the following statement to disable the <code class="codeph">product_information</code> table for the IM column store:
                           </p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information NO INMEMORY;</code></pre><p>The <code class="codeph">V$IM_SEGMENTS</code> view lists the database objects that are populated in the IM column store.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4" name="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4"></a><h5 id="INMEM-GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4" class="sect5"><span class="enumeration_section">4.2.3.10 </span>Disabling Columnar Format on Exadata Smart Flash Cache: Example
                     </h5>
                     <div>
                        <p>This example disables the columnar format for <code class="codeph">oe.product_information</code> on Exadata Smart Flash Cache storage.
                        </p>
                        <div class="example" id="GUID-E71618B8-AB50-48AB-8529-02F6A8F17FD4__GUID-31D5AC5E-FA0A-4615-B03D-9670B3FB88A5">
                           <p>By default, Exadata Smart Flash Cache compresses data using the level <code class="codeph">MEMCOMPRESS FOR CAPACITY LOW</code>. To change the compression level or disable the columnar format altogether, use the <code class="codeph">ALTER TABLE ... NO CELLMEMORY</code> statement.
                           </p>
                           <p>Log in to the database as user <code class="codeph">oe</code>, and execute the following DDL statement:
                           </p><pre class="pre codeblock"><code>ALTER TABLE product_information NO CELLMEMORY;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-F482BE39-36B9-4146-B335-8BEFBA3B3496" title="The following examples illustrate how to enable or disable tables for the IM column store.">Enabling and Disabling Tables for the IM Column Store: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" name="GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347"></a><h3 id="INMEM-GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" class="sect3"><span class="enumeration_section">4.3 </span>Enabling and Disabling Columns for In-Memory Tables
               </h3>
               <div>
                  <p>You can specify the <code class="codeph">INMEMORY</code> clause for individual columns in an internal table. External tables do not support specifying <code class="codeph">INMEMORY</code> at the column level.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617">About Enabling INMEMORY Columns</a><br>For internal tables, both In-Memory virtual columns (IM virtual columns) and nonvirtual columns are eligible for IM population. For external tables, only nonvirtual columns are eligible.
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA">Enabling IM Virtual Columns</a><br>IM virtual columns improve query&nbsp;performance by avoiding repeated calculations. Also, the database can scan and filter IM virtual columns using techniques such as SIMD vector processing.
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E">Enabling a Subset of Columns for the IM Column Store: Example</a><br>This example enables all columns in the <code class="codeph">oe.product_information</code> table for the IM column store except <code class="codeph">weight_class</code> and <code class="codeph">catalog_url</code>. 
                     </li>
                     <li class="ulchildlink"><a href="populating-objects-in-memory.html#GUID-9E123407-13BA-4566-933D-6E4473C8FE5C">Specifying INMEMORY Column Attributes on a NO INMEMORY Table: Example</a><br>Starting in <span>Oracle Database 12c</span> Release 2 (12.2), you can specify the <code class="codeph">INMEMORY</code> clause at the column level on an object that is not yet specified as <code class="codeph">INMEMORY</code>.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">Enabling Objects for In-Memory Population</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617" name="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617"></a><h4 id="INMEM-GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617" class="sect4"><span class="enumeration_section">4.3.1 </span>About Enabling INMEMORY Columns
                  </h4>
                  <div>
                     <p>For internal tables, both In-Memory virtual columns (IM virtual columns) and nonvirtual columns are eligible for IM population. For external tables, only nonvirtual columns are eligible.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-20B9C781-32BF-4F37-9B12-ACC1F9278589">NO INMEMORY Columns in INMEMORY Objects</p>
                        <p>By default, if an internal object has the <code class="codeph">INMEMORY</code> attribute, then all columns in this object are eligible for population into the IM column store. However, you can specify that some columns in an <code class="codeph">INMEMORY</code> table should have the <code class="codeph">NO INMEMORY</code> attribute, in which case only the <code class="codeph">INMEMORY</code> columns are eligible for population.
                        </p>
                        <p>To apply the <code class="codeph">INMEMORY</code> attribute to a subset of columns, specify <code class="codeph">ALTER TABLE <span class="codeinlineitalic">table_name</span> INMEMORY ... NO INMEMORY <span class="codeinlineitalic">excluded_columns</span></code>, where <span class="italic">excluded_columns</span> lists the columns to be specified as <code class="codeph">NO INMEMORY</code>. Only the columns that are not specified as <code class="codeph">NO INMEMORY</code>, that is, the columns that are not in the excluded columns list, inherit the segment-level <code class="codeph">INMEMORY</code> attribute.
                        </p>
                        <p>Specifying <code class="codeph">NO INMEMORY</code> columns in an <code class="codeph">INMEMORY</code> table has an important consequence. A query that references a <code class="codeph">NO INMEMORY</code> column uses the row store <span class="italic">exclusively</span>. For example, if <code class="codeph">sales</code> is an <code class="codeph">INMEMORY</code> table with 7 columns, and if only the <code class="codeph">promo_id</code> column has the <code class="codeph">NO INMEMORY</code> attribute, then any query whose <code class="codeph">SELECT</code> list includes <code class="codeph">promo_id</code> retrieves data from the row store rather than the IM column store. Likewise, any query whose predicate references <code class="codeph">promo_id</code>, regardless of whether <code class="codeph">promo_id</code> is in the <code class="codeph">SELECT</code> list, retrieves data exclusively from the row store.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-2632F2F0-35C5-45CF-A17C-3AA5D339E562">Virtual Columns</p>
                        <p>An IM virtual column is like any other column, except that its value is derived by evaluating an expression. Storing the precalculated IM virtual column values in the IM column store can improve query&nbsp;performance. The expression can include columns from the same table, constants, SQL functions, and user-defined PL/SQL functions (<code class="codeph">DETERMINISTIC</code> only). You cannot explicitly write to an IM virtual column.
                        </p>
                        <div class="infoboxnote" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-611BBB2C-0DF7-4EEE-AD90-881B97977C6F">
                           <p class="notep1">Note:</p>
                           <p>A virtual column or <a href="glossary.html#GUID-7EFD3370-3D0F-40FA-96CD-FB00D333F8B8"><span class="xrefglossterm">IM expression</span></a> counts toward the limit of 1000 columns per populated object.
                           </p>
                        </div>
                        <p>To populate IM virtual columns in the IM column store, set the <code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code> initialization parameter to one of the following values:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_JQY_K3P_LHB">
                           <li>
                              <p><code class="codeph">MANUAL</code> (default): If a table is enabled for the IM column store, then no IM virtual columns defined on this table are eligible for population, unless they are explicitly set as <code class="codeph">INMEMORY</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ENABLE</code>: If a table is enabled for the IM column store, then all IM virtual columns defined on this table are eligible for population, unless they are explicitly set as <code class="codeph">NO INMEMORY</code>. 
                              </p>
                              <p>By default, the compression level of the column in the IM column store is the same as the table or partition in which it is stored. However, when a different compression level is specified for the IM virtual column, it is populated at the specified compression level.</p>
                           </li>
                        </ul>
                        <p>To specify that no IM virtual columns are populated in the IM column store, set this initialization parameter to <code class="codeph">DISABLE</code>.
                        </p>
                        <p>The underlying storage structures for IM virtual columns and IM expressions are the same. However, different mechanisms control IM expressions and IM virtual columns.</p>
                        <div class="infoboxnote" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-380019E5-D4B1-4111-971E-871DC632D2B3">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_KQY_K3P_LHB">
                              <li>
                                 <p>The IM column store only populates virtual columns for tables marked <code class="codeph">INMEMORY</code>. 
                                 </p>
                              </li>
                              <li>
                                 <p>To populate IM virtual columns in the IM column store, the value for the initialization parameter <code class="codeph">COMPATIBLE</code> must be set to 12.1.0 or higher. 
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__GUID-EE5FC973-7C8C-4D99-BDF4-6A505424C89F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;" id="GUID-C0BC34D3-2BD8-41A5-B2F0-9AB109C1B617__UL_QNQ_M3P_LHB">
                           <li>
                              <p><span class="q">"<a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="Enable a table for the IM column store by including an INMEMORY clause in a CREATE TABLE or ALTER TABLE statement. Disable a table for the IM column store by including a NO INMEMORY clause in a CREATE TABLE or ALTER TABLE statement.">Enabling and Disabling Tables for the IM Column Store</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="optimizing-in-memory-expressions.html#GUID-FDA8B0D3-6339-4E19-8D2D-EEA0A7529B46" title="The IM expressions infrastructure is responsible for computing and populating the results of IM expressions, IM virtual columns, and any other useful internal computations in the IM column store. These optimizations primarily benefit analytic queries.">IM Expressions Infrastructure</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="init-parameters-for-im-column-store.html#GUID-A67ABCAC-C6B9-499E-8AE0-BD7922B239BE" title="Several initialization parameters control the behavior of the IM column store.">In-Memory Initialization Parameters</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/inmem&amp;id=SQLRF004" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for the syntax and semantics of the <code class="codeph">INMEMORY</code> clause
                              </p>
                           </li>
                           <li>
                              <p><a href="https://blogs.oracle.com/in-memory/what-happens-if-a-column-is-not-populated" target="_blank">https://blogs.oracle.com/in-memory/what-happens-if-a-column-is-not-populated</a> for a blog entry on accessing columns that are not populated
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="You can specify the INMEMORY clause for individual columns in an internal table. External tables do not support specifying INMEMORY at the column level.">Enabling and Disabling Columns for In-Memory Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA" name="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA"></a><h4 id="INMEM-GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA" class="sect4"><span class="enumeration_section">4.3.2 </span>Enabling IM Virtual Columns
                  </h4>
                  <div>
                     <p>IM virtual columns improve query&nbsp;performance by avoiding repeated calculations. Also, the database can scan and filter IM virtual columns using techniques such as SIMD vector processing.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-FD24C40C-D16B-4CE1-94BA-BBB7DDF52819">Prerequisites</p>
                        <p>To enable IM virtual columns, the following conditions must be true:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The IM column store is enabled for the database.</p>
                              <p>See <span class="q">"<a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables or materialized views can be populated into the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>The table that contains the virtual columns is enabled for the IM column store.</p>
                              <p>See <span class="q">"<a href="populating-objects-in-memory.html#GUID-C5D0A470-C06A-4EE2-AA1A-B221FFEB663B" title="Enable a table for the IM column store by including an INMEMORY clause in a CREATE TABLE or ALTER TABLE statement. Disable a table for the IM column store by including a NO INMEMORY clause in a CREATE TABLE or ALTER TABLE statement.">Enabling and Disabling Tables for the IM Column Store</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code> initialization parameter is <span class="italic">not</span> set to <code class="codeph">DISABLE</code>.
                              </p>
                           </li>
                           <li>
                              <p>The value for the initialization parameter <code class="codeph">COMPATIBLE</code> is set to <code class="codeph">12.1.0</code> or higher. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-8BF2C47F-A612-40A0-9EFD-69F9A4DD00F8">To enable IM virtual columns:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus or SQL Developer, log in to the database as a user with the necessary privileges.</p>
                           </li>
                           <li>
                              <p>Either set the <code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code> initialization parameter to <code class="codeph">ENABLE</code>, or enable specific virtual columns for the IM column store.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-87D49413-0F20-4DA7-93BF-8B2F2437911B">
                        <p class="titleinexample">Example 4-3 Enabling Virtual Columns for the IM Column Store</p>              
                        <p>In this example, you are logged in to the database as <code class="codeph">SYSTEM</code>. The IM column store is enabled, but population of virtual columns is currently disabled:
                        </p><pre class="pre codeblock"><code>SQL&gt; SHOW PARAMETER INMEMORY_SIZE

NAME                                 TYPE        VALUE
------------------------------------ ----------- -----
inmemory_size                        big integer 200M

SQL&gt; SHOW PARAMETER INMEMORY_VIRTUAL_COLUMNS

NAME                                 TYPE        VALUE
------------------------------------ ----------- -------
inmemory_virtual_columns             string      DISABLE
</code></pre><p>You add a virtual column to the <code class="codeph">hr.employees</code> table, and then specify that the table is <code class="codeph">INMEMORY</code>:
                        </p><pre class="pre codeblock"><code>SQL&gt; ALTER TABLE hr.employees ADD (weekly_sal AS (ROUND(salary*12/52,2)));

Table altered.

SQL&gt; ALTER TABLE hr.employees INMEMORY;

Table altered.
</code></pre><p>At this stage, <code class="codeph">weekly_sal</code> is not eligible for population, although the non-virtual columns in <code class="codeph">hr.employees</code> are eligible for population. The following statement enables <code class="codeph">weekly_sal</code>, and any other virtual columns in <code class="codeph">hr.employees</code>, to be populated:
                        </p><pre class="pre codeblock"><code>SQL&gt; ALTER SYSTEM SET INMEMORY_VIRTUAL_COLUMNS=ENABLE SCOPE=SPFILE;

System altered.
</code></pre>     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E75BEB47-6242-418B-9DE8-8AAC8910A2FA__GUID-607CB2DD-913D-406A-9BDF-2A0828A47FB4">
                        <p class="titleinexample">Example 4-4 Enabling a Specific IM Virtual Column for the IM Column Store</p>       
                        <p>This example assumes that the <code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code> initialization parameter is set to <code class="codeph">MANUAL</code>, which means that IM virtual columns must be added to the IM column store explicitly. This example first creates the <code class="codeph">hr.admin_emp</code> table:
                        </p><pre class="pre codeblock"><code>CREATE TABLE hr.admin_emp (
      empno      NUMBER(5) PRIMARY KEY,
      ename      VARCHAR2(15) NOT NULL,
      job        VARCHAR2(10),
      sal        NUMBER(7,2),
      hrly_rate  NUMBER(7,2) GENERATED ALWAYS AS (sal/2080),
      deptno     NUMBER(3) NOT NULL)
   INMEMORY;
</code></pre><p>At this stage, the <code class="codeph">hrly_rate</code> virtual column is not eligible for population. The following statement explicitly specifies the virtual column as <code class="codeph">INMEMORY</code>:
                        </p><pre class="pre codeblock"><code>ALTER TABLE hr.admin_emp INMEMORY(hrly_rate);</code></pre>     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="You can specify the INMEMORY clause for individual columns in an internal table. External tables do not support specifying INMEMORY at the column level.">Enabling and Disabling Columns for In-Memory Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" name="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E"></a><h4 id="INMEM-GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E" class="sect4"><span class="enumeration_section">4.3.3 </span>Enabling a Subset of Columns for the IM Column Store: Example
                  </h4>
                  <div>
                     <p>This example enables all columns in the <code class="codeph">oe.product_information</code> table for the IM column store except <code class="codeph">weight_class</code> and <code class="codeph">catalog_url</code>. 
                     </p>
                     <div class="section">
                        <p>The following statement also specifies different IM column store compression methods for the columns enabled for the IM column store:</p><pre class="pre codeblock"><code>ALTER TABLE oe.product_information  
   INMEMORY MEMCOMPRESS FOR QUERY (
      product_id, product_name, category_id, supplier_id, min_price)
   INMEMORY MEMCOMPRESS FOR CAPACITY HIGH (
      product_description, warranty_period, product_status, list_price)
   NO INMEMORY (
      weight_class, catalog_url);</code></pre><p>Note the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The columns <code class="codeph">product_id</code>, <code class="codeph">product_name</code>, <code class="codeph">category_id</code>, <code class="codeph">supplier_id</code>, and <code class="codeph">min_price</code> are enabled for the IM column store with the <code class="codeph">MEMCOMPRESS FOR QUERY</code> compression method.
                              </p>
                           </li>
                           <li>
                              <p>The columns <code class="codeph">product_description</code>, <code class="codeph">warranty_period</code>, <code class="codeph">product_status</code>, and <code class="codeph">list_price</code> are enabled for the IM column store with the <code class="codeph">MEMCOMPRESS FOR CAPACITY HIGH</code> compression method.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">weight_class</code> and <code class="codeph">catalog_url</code> columns are not enabled for the IM column store. Consequently, any query that references these two columns, either in the <code class="codeph">SELECT</code> list or in the predicate, must use the row store rather than the IM column store.
                              </p>
                           </li>
                           <li>
                              <p>The table uses the default for the <code class="codeph">PRIORITY</code> clause, which is <code class="codeph">PRIORITY NONE</code>.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E__GUID-60E9950B-A5A7-4A8D-8486-2DC42DD609E7">
                           <p class="notep1">Note:</p>
                           <p>The priority level setting must apply to an entire table or partition. Specifying different IM column store priority levels for different subsets of columns in a table is not allowed.</p>
                        </div>
                        <p>To determine the selective column compression levels defined for a database object, query the <code class="codeph">V$IM_COLUMN_LEVEL</code> view, as shown in the following example:
                        </p><pre class="pre codeblock"><code>COL TABLE_NAME FORMAT a20
COL COLUMN_NAME FORMAT a20

SELECT TABLE_NAME, COLUMN_NAME, INMEMORY_COMPRESSION 
FROM   V$IM_COLUMN_LEVEL 
WHERE  TABLE_NAME = 'PRODUCT_INFORMATION'
ORDER BY COLUMN_NAME;

TABLE_NAME           COLUMN_NAME          INMEMORY_COMPRESSION
-------------------- -------------------- --------------------------
PRODUCT_INFORMATION  CATALOG_URL          NO INMEMORY
PRODUCT_INFORMATION  CATEGORY_ID          FOR QUERY LOW
PRODUCT_INFORMATION  LIST_PRICE           FOR CAPACITY HIGH
PRODUCT_INFORMATION  MIN_PRICE            FOR QUERY LOW
PRODUCT_INFORMATION  PRODUCT_DESCRIPTION  FOR CAPACITY HIGH
PRODUCT_INFORMATION  PRODUCT_ID           FOR QUERY LOW
PRODUCT_INFORMATION  PRODUCT_NAME         FOR QUERY LOW
PRODUCT_INFORMATION  PRODUCT_STATUS       FOR CAPACITY HIGH
PRODUCT_INFORMATION  SUPPLIER_ID          FOR QUERY LOW
PRODUCT_INFORMATION  WARRANTY_PERIOD      FOR CAPACITY HIGH
PRODUCT_INFORMATION  WEIGHT_CLASS         NO INMEMORY
</code></pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-128BA141-FB78-4828-B3EE-6FDAB6E23E2E__GUID-3EDE10AA-6654-4BF0-8692-4CB3BBE9BF32">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="in-memory-column-store-architecture.html#GUID-E652C13F-FD52-49D2-B968-3B1A03F7F1ED" title="The IM column store uses special compression formats optimized for access speed rather than storage reduction. The columnar format enables queries to execute directly against the compressed columns.">In-Memory Compression</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-IM_COLUMN_LEVEL.html#REFRN30742" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about the <code class="codeph">V$IM_COLUMN_LEVEL</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="You can specify the INMEMORY clause for individual columns in an internal table. External tables do not support specifying INMEMORY at the column level.">Enabling and Disabling Columns for In-Memory Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C" name="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C"></a><h4 id="INMEM-GUID-9E123407-13BA-4566-933D-6E4473C8FE5C" class="sect4"><span class="enumeration_section">4.3.4 </span>Specifying INMEMORY Column Attributes on a NO INMEMORY Table: Example
                  </h4>
                  <div>
                     <p>Starting in <span>Oracle Database 12c</span> Release 2 (12.2), you can specify the <code class="codeph">INMEMORY</code> clause at the column level on an object that is not yet specified as <code class="codeph">INMEMORY</code>.
                     </p>
                     <div class="section">
                        <p>In previous releases, the column-level <code class="codeph">INMEMORY</code> clause was only valid when specified on an <code class="codeph">INMEMORY</code> table or partition. This restriction meant that a column could not be associated with an <code class="codeph">INMEMORY</code> clause before the table or partition was associated with an <code class="codeph">INMEMORY</code> clause. 
                        </p>
                        <p>Starting in <span>Oracle Database 12c</span> Release 2 (12.2), if you specify the <code class="codeph">INMEMORY</code> clause at the column level, then the database records the attributes of the specified column. If the table is <code class="codeph">NO INMEMORY</code> (default), then the column-level attributes do not affect how the table is queried until the table or partition is specified as <code class="codeph">INMEMORY</code>. If you mark the table itself as <code class="codeph">NO INMEMORY</code>, then the database drops any existing column-level attributes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C__GUID-EF882761-02EE-4310-A1DD-A69238138211">
                        <p>In this example, your goal is to ensure that column <code class="codeph">c3</code> in a partitioned table is never populated in the IM column store. You perform the following steps:
                        </p>
                        <ol>
                           <li>
                              <p>Create a partitioned table <code class="codeph">t</code> as follows:
                              </p><pre class="pre codeblock"><code>CREATE TABLE t (c1 NUMBER, c2 NUMBER, c3 NUMBER) 
  NO INMEMORY -- this clause specifies the table itself as NO INMEMORY
  PARTITION BY LIST (c1) 
    ( PARTITION p1 VALUES (0), 
      PARTITION p2 VALUES (1), 
      PARTITION p3 VALUES (2) );</code></pre><p>Table <code class="codeph">t</code> is <code class="codeph">NO INMEMORY</code>. The table is partitioned by list on column <code class="codeph">c1</code>, and has three partitions: <code class="codeph">p1</code>, <code class="codeph">p2</code>, and <code class="codeph">p3</code>.
                              </p>
                           </li>
                           <li>
                              <p>Query the compression of the columns in the table (sample output included):</p><pre class="pre codeblock"><code>COL TABLE_NAME FORMAT a20
COL COLUMN_NAME FORMAT a20

SELECT TABLE_NAME, COLUMN_NAME, INMEMORY_COMPRESSION
FROM   V$IM_COLUMN_LEVEL
WHERE  TABLE_NAME = 'T'
ORDER BY COLUMN_NAME;

no rows selected</code></pre><p>As shown by the output, no column-level <code class="codeph">INMEMORY</code> attributes are set.
                              </p>
                           </li>
                           <li>
                              <p>To ensure that column <code class="codeph">c3</code> is never populated, apply the <code class="codeph">NO INMEMORY</code> attribute to column <code class="codeph">c3</code>:
                              </p><pre class="pre codeblock"><code>ALTER TABLE t NO INMEMORY (c3);</code></pre></li>
                           <li>
                              <p>Query the compression of the columns in the table (sample output included):</p><pre class="pre codeblock"><code>SELECT TABLE_NAME, COLUMN_NAME, INMEMORY_COMPRESSION
FROM   V$IM_COLUMN_LEVEL
WHERE  TABLE_NAME = 'T'
ORDER BY COLUMN_NAME;

TABLE_NAME           COLUMN_NAME          INMEMORY_COMPRESSION
-------------------- -------------------- --------------------
T                    C1                   DEFAULT
T                    C2                   DEFAULT
T                    C3                   NO INMEMORY</code></pre><p>The database has recorded the <code class="codeph">NO INMEMORY</code> attribute for <code class="codeph">c3</code>. The other columns use the default compression.
                              </p>
                           </li>
                           <li>
                              <p>Specify partition <code class="codeph">p3</code> as <code class="codeph">INMEMORY</code>:
                              </p><pre class="pre codeblock"><code>ALTER TABLE t 
  MODIFY PARTITION p3 
    INMEMORY PRIORITY CRITICAL;</code></pre><p>Because column <code class="codeph">c3</code> was previously specified as <code class="codeph">NO INMEMORY</code>, initial population of partition <code class="codeph">p3</code> will not include column <code class="codeph">c3</code>.
                              </p>
                           </li>
                           <li>
                              <p>Specify the entire table as <code class="codeph">INMEMORY</code>:
                              </p><pre class="pre codeblock"><code>ALTER TABLE t INMEMORY;</code></pre></li>
                           <li>
                              <p>Query the compression of the columns in the table (sample output included):</p><pre class="pre codeblock"><code>SELECT TABLE_NAME, COLUMN_NAME, INMEMORY_COMPRESSION
FROM   V$IM_COLUMN_LEVEL
WHERE  TABLE_NAME = 'T'
ORDER BY COLUMN_NAME;

TABLE_NAME           COLUMN_NAME          INMEMORY_COMPRESSION
-------------------- -------------------- --------------------------
T                    C1                   DEFAULT
T                    C2                   DEFAULT
T                    C3                   NO INMEMORY</code></pre><p>The database has retained the <code class="codeph">NO INMEMORY</code> setting for column <code class="codeph">c3</code>. The other columns use the default compression.
                              </p>
                           </li>
                           <li>Apply different compression levels to columns <code class="codeph">c1</code> and <code class="codeph">c2</code>:<pre class="pre codeblock"><code>ALTER TABLE t 
  INMEMORY MEMCOMPRESS FOR CAPACITY HIGH (c1) 
  INMEMORY MEMCOMPRESS FOR CAPACITY LOW (c2);</code></pre></li>
                           <li>
                              <p>Query the compression of the columns in the table (sample output included):</p><pre class="pre codeblock"><code>SELECT TABLE_NAME, COLUMN_NAME, INMEMORY_COMPRESSION
FROM   V$IM_COLUMN_LEVEL
WHERE  TABLE_NAME = 'T'
ORDER BY COLUMN_NAME;

TABLE_NAME           COLUMN_NAME          INMEMORY_COMPRESSION
-------------------- -------------------- --------------------------
T                    C1                   FOR CAPACITY HIGH
T                    C2                   FOR CAPACITY LOW
T                    C3                   NO INMEMORY</code></pre><p>Each column now has a different compression level.</p>
                           </li>
                           <li>
                              <p>Specify the entire table as <code class="codeph">NO INMEMORY</code>:
                              </p><pre class="pre codeblock"><code>ALTER TABLE t NO INMEMORY;</code></pre></li>
                           <li>
                              <p>Query the compression of the columns in the table (sample output included):</p><pre class="pre codeblock"><code>SELECT TABLE_NAME, COLUMN_NAME, INMEMORY_COMPRESSION
FROM   V$IM_COLUMN_LEVEL
WHERE  TABLE_NAME = 'T'
ORDER BY COLUMN_NAME;

no rows selected</code></pre><p>Because the entire table was specified as <code class="codeph">NO INMEMORY</code>, the database dropped all column-level <code class="codeph">INMEMORY</code> attributes.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9E123407-13BA-4566-933D-6E4473C8FE5C__GUID-05B6B1EB-0640-434C-8FB8-8D12B62F5CE1">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">ALTER TABLE</code> syntax and semantics
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-452D19AE-EB5F-44AC-A1AD-70CF10D2D347" title="You can specify the INMEMORY clause for individual columns in an internal table. External tables do not support specifying INMEMORY at the column level.">Enabling and Disabling Columns for In-Memory Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B" name="GUID-636A1675-838D-4004-9CDB-70783DC72C6B"></a><h3 id="INMEM-GUID-636A1675-838D-4004-9CDB-70783DC72C6B" class="sect3"><span class="enumeration_section">4.4 </span>Enabling and Disabling Tablespaces for the IM Column Store
               </h3>
               <div>
                  <p>You can enable or disable tablespaces for the IM column store.</p>
                  <div class="section">
                     <p>Enable a tablespace for the IM column store during tablespace creation with a <code class="codeph">CREATE TABLESPACE</code> statement that includes the <code class="codeph">INMEMORY</code> clause. You can also alter a tablespace to enable it for the IM column store with an <code class="codeph">ALTER TABLESPACE</code> statement that includes the <code class="codeph">INMEMORY</code> clause.
                     </p>
                     <p>Disable a tablespace for the IM column store by including a <code class="codeph">NO INMEMORY</code> clause in a <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement.
                     </p>
                     <p>When a tablespace is enabled for the IM column store, all tables and materialized views in the tablespace are enabled for the IM column store by default. The <code class="codeph">INMEMORY</code> clause is the same for tables, materialized views, and tablespaces. The <code class="codeph">DEFAULT</code> storage clause is required before the <code class="codeph">INMEMORY</code> clause when enabling a tablespace for the IM column store and before the <code class="codeph">NO INMEMORY</code> clause when disabling a tablespace for the IM column store.
                     </p>
                     <p>When a tablespace is enabled for the IM column store, individual tables and materialized views in the tablespace can have different in-memory settings, and the settings for individual database objects override the settings for the tablespace. For example, if the tablespace is set to <code class="codeph">PRIORITY LOW</code> for populating data in memory, and if a table in the tablespace is set to <code class="codeph">PRIORITY HIGH</code>, then the table uses <code class="codeph">PRIORITY HIGH</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-9663EDEB-6A16-40D9-81DB-533DDE99F2ED">Prerequisites</p>
                     <p>Ensure that the IM column store is enabled for the database. See <span class="q">"<a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables or materialized views can be populated into the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-9AF7F591-DD05-4E2F-8133-E5782542634D">To enable or disable tablespaces for the IM column store:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus or SQL Developer, log in to the database as a user with the necessary privileges.</p>
                        </li>
                        <li>
                           <p>Run a <code class="codeph">CREATE TABLESPACE</code> or <code class="codeph">ALTER TABLESPACE</code> statement with an <code class="codeph">INMEMORY</code> clause or a <code class="codeph">NO INMEMORY</code> clause.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-522FC202-F175-4125-B577-C78FED9ECB00">
                     <p class="titleinexample">Example 4-5 Creating a Tablespace and Enabling It for the IM Column Store</p>
                     <p>The following example creates the <code class="codeph">users01</code> tablespace and enables it for the IM column store:
                     </p><pre class="pre codeblock"><code>CREATE TABLESPACE users01 
   DATAFILE 'users01.dbf' SIZE 40M 
   ONLINE
   DEFAULT INMEMORY;
</code></pre><p>This example uses the defaults for the <code class="codeph">INMEMORY</code> clause. Therefore, <code class="codeph">MEMCOMPRESS FOR QUERY</code> is used, and <code class="codeph">PRIORITY NONE</code> is used.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-636A1675-838D-4004-9CDB-70783DC72C6B__GUID-B0EC62EE-9CC3-4B76-A309-6B9F7241CD29">
                     <p class="titleinexample">Example 4-6 Altering a Tablespace to Enable It for the IM Column Store</p>
                     <p>The following example alters the <code class="codeph">users01</code> tablespace to enable it for the IM column store and specifies <code class="codeph">FOR CAPACITY HIGH</code> compression for the database objects in the tablespace and <code class="codeph">PRIORITY LOW</code> for populating data in memory:
                     </p><pre class="pre codeblock"><code>ALTER TABLESPACE users01 DEFAULT INMEMORY 
   MEMCOMPRESS FOR CAPACITY HIGH 
   PRIORITY LOW;
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">Enabling Objects for In-Memory Population</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA" name="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA"></a><h3 id="INMEM-GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA" class="sect3"><span class="enumeration_section">4.5 </span>Enabling and Disabling Materialized Views for the IM Column Store
               </h3>
               <div>
                  <p>You can enable and disable materialized views for the IM column store.</p>
                  <div class="section">
                     <p>Enable a materialized view for the IM column store by including an <code class="codeph">INMEMORY</code> clause in a <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statement. Disable a materialized view for the IM column store by including a <code class="codeph">NO INMEMORY</code> clause in a <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statement.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-20CD3001-D01A-4A8F-92EF-FB68E9A8CECE">Prerequisites</p>
                     <p>Ensure that the IM column store is enabled for the database. See <span class="q">"<a href="enabling-the-im-column-store.html#GUID-6A220D69-66BA-4C50-8FAB-D5004C96B215" title="Before tables or materialized views can be populated into the IM column store, you must enable the IM column store for the database.">Enabling the IM Column Store for a Database</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-AD22A864-2ACF-4CFD-BE55-F4B723330C19">To enable or disable a materialized view for the IM column store:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus or SQL Developer, log in to the database as a user with the necessary privileges.</p>
                        </li>
                        <li>
                           <p>Run a <code class="codeph">CREATE MATERIALIZED VIEW</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statement with either an <code class="codeph">INMEMORY</code> clause or a <code class="codeph">NO INMEMORY</code> clause.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2E6FF120-DFBD-467C-A40F-F35CCB8FDBA6">
                     <p class="titleinexample">Example 4-7 Creating a Materialized View and Enabling It for the IM Column Store</p>
                     <p>The following statement creates the <code class="codeph">oe.prod_info_mv</code> materialized view and enables it for the IM column store:
                     </p><pre class="pre codeblock"><code>CREATE MATERIALIZED VIEW oe.prod_info_mv INMEMORY 
  AS SELECT * FROM oe.product_information;
</code></pre><p>This example uses the defaults for the <code class="codeph">INMEMORY</code> clause: <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code> and <code class="codeph">PRIORITY</code> <code class="codeph">NONE</code>.
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-BD789C3C-8FC8-49C8-9242-A626F3DA1DB8">
                     <p class="titleinexample">Example 4-8 Enabling a Materialized View for the IM Column Store with HIGH Data Population Priority</p>
                     <p>The following statement enables the <code class="codeph">oe.prod_info_mv</code> materialized view for the IM column store:
                     </p><pre class="pre codeblock"><code>ALTER MATERIALIZED VIEW oe.prod_info_mv INMEMORY PRIORITY HIGH;
</code></pre><p>This example uses the default compression: <code class="codeph">MEMCOMPRESS FOR QUERY LOW</code>.
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8C3B4A9B-DC69-4207-A935-8DB4B3AC94FA__GUID-2D3F2870-0DEA-45DD-A75C-20D36B8EF586">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/CREATE-MATERIALIZED-VIEW.html#GUID-EE262CA4-01E5-4618-B659-6165D993CA1B" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the <code class="codeph">CREATE</code> or <code class="codeph">ALTER MATERIALIZED VIEW</code> statements
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="populating-objects-in-memory.html#GUID-C5F856BF-70E3-41C6-A1BA-1E94D7D230B8" title="This chapter explains how to enable and disable objects for population in the IM column store, including setting compression and priority options.">Enabling Objects for In-Memory Population</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01606.package-XSLTVM-API.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Package XSLTVM for XML C APIs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="XML C API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="XML C API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T06:29:15-08:00">
      <meta name="dcterms.title" content="XML C API Reference">
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96478-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="package-XSLT-API.html" title="Previous" type="text/html">
      <link rel="next" href="appendix.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CAXML">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="package-XSLT-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appendix.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C API Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Package XSLTVM for XML C APIs</li>
            </ol>
            <a id="GUID-4FD87F73-FD21-4949-A61A-38CDB9E426AF" name="GUID-4FD87F73-FD21-4949-A61A-38CDB9E426AF"></a><a id="CAXML00900"></a>
            
            <h2 id="CAXML-GUID-4FD87F73-FD21-4949-A61A-38CDB9E426AF" class="sect2"><span class="enumeration_chapter">16 </span>Package XSLTVM for XML C APIs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Package XSLTVM implements the XSL Transformation (XSLT) language for XML C APIs, as specified in W3C Recommendation 16 November 1999. For convenience, we grouped XSLTVM methods into two interface types.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="package-XSLTVM-API.html#GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3">XSLTC Interface</a></p>
                  </li>
                  <li>
                     <p><a href="package-XSLTVM-API.html#GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE">XSLTVM Interface</a></p>
                  </li>
               </ul>
            </div><a id="CAXML6316"></a><a id="CAXML6315"></a><div class="props_rev_3"><a id="GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3" name="GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3"></a><h3 id="CAXML-GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3" class="sect3">XSLTC Interface of XSLTVM for XML C APIs</h3>
               <div>
                  <div class="section">
                     <p>The following table summarizes the methods available through the <code class="codeph">XSLTC</code> interface of <code class="codeph">XSLTVM</code> for XML C APIs.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D5E18115-59AB-4C99-A6E6-B42E3CC7CBD3__BEJCJACI">
                     <p class="titleintable">Table 16-1 Summary of XSLTC XSLTVM Methods for XML C Implementation</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of XSLTC XSLTVM Methods for XML C Implementation" summary="First column lists interfaces; second column provides a brief description of these interfaces." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d133320e99">Function</th>
                              <th align="left" valign="bottom" width="53%" id="d133320e102">Summary</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e107" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e107 d133320e102 ">
                                 <p>Compile an XSLT stylesheet from buffer into bytecode.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e116" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-D1434EED-6461-4218-85E0-A0FED42AF230">XmlXvmCompileDom()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e116 d133320e102 ">
                                 <p>Compile an XSLT stylesheet from DOM into bytecode.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e125" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D">XmlXvmCompileFile()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e125 d133320e102 ">
                                 <p>Compile an XSLT stylesheet from file into bytecode.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e134" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93">XmlXvmCompileURI()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e134 d133320e102 ">
                                 <p>Compile XSLT stylesheet from URI into byte code.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e143" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-51A26334-F6D9-4DF6-A599-0535848B80C3">XmlXvmCompileXPath()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e143 d133320e102 ">
                                 <p>Compile an XPath expression.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e152" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342">XmlXvmCreateComp()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e152 d133320e102 ">
                                 <p>Create an XSLT compiler.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e161" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050">XmlXvmDestroyComp()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e161 d133320e102 ">
                                 <p>Destroy an XSLT compiler object.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e170" headers="d133320e99 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-78643759-4F26-4EB9-9583-6CF458313555">XmlXvmGetBytecodeLength()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e170 d133320e102 ">
                                 <p>Returns the bytecode length.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CAXML6317"></a><div class="props_rev_3"><a id="GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA" name="GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA"></a><h4 id="CAXML-GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA" class="sect4">XmlXvmCompileBuffer()</h4>
                  <div>
                     <div class="section">
                        <p>Compile an XSLT stylesheet from buffer into bytecode. Compiler flags could be one or more of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">XMLXVM_DEBUG</code> forces compiler to include debug information into the bytecode
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLXVM_STRIPSPACE</code> is equivalent to <code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code>.
                              </p>
                           </li>
                        </ul>
                        <p>The generated bytecode resides in a compiler buffer which is freed when next stylesheet is compiled or when compiler object is deleted. Hence, if the bytecode is to be reused it should be copied into another location. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6321"></a><a id="CAXML6322"></a><a id="CAXML6320"></a><div class="sect3"><a id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230" name="GUID-D1434EED-6461-4218-85E0-A0FED42AF230"></a><h4 id="CAXML-GUID-D1434EED-6461-4218-85E0-A0FED42AF230" class="sect4">XmlXvmCompileDom()</h4>
                  <div>
                     <p>Compile an XSLT stylesheet from DOM into bytecode. Compiler flags could be one or more of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">XMLXVM_DEBUG</code> forces compiler to include debug information into the bytecode
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">XMLXVM_STRIPSPACE</code> is equivalent to <code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code>.
                           </p>
                        </li>
                     </ul>
                     <p>The generated bytecode resides in a compiler buffer which is freed when next stylesheet is compiled or when compiler object is deleted. Hence, if the bytecode is to be reused it should be copied into another location. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-51B4E64E-5E94-4CA5-A848-DC5001FE9CEE">Syntax</p>
                     </div>
                     <!-- class="section" --><pre class="oac_no_warn" dir="ltr">ub2 *XmlXvmCompileDom(
&nbsp;&nbsp;&nbsp;xmlxvmcomp *comp,
&nbsp;&nbsp;&nbsp;xmldocnode *root,
&nbsp;&nbsp;&nbsp;xmlxvmflag flags,
&nbsp;&nbsp;&nbsp;xmlerr *error);</pre><div class="tblformal" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-2DF9313E-9B34-462F-9C9F-D9947ED5F3F0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e311">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e314">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e317">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e322" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">comp</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e322 d133320e314 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e322 d133320e317 ">
                                    <p>compiler object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e332" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">rooot</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e332 d133320e314 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e332 d133320e317 ">
                                    <p>root element of the stylesheet DOM</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e342" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">flags</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e342 d133320e314 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e342 d133320e317 ">
                                    <p>flags for the current compilation</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e352" headers="d133320e311 "><pre class="oac_no_warn" dir="ltr">error</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e352 d133320e314 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e352 d133320e317 ">
                                    <p>returned error code</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-9EA5F1ED-2015-45B6-8DE3-F6F7B94D1AE3">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <p><code class="codeph">(ub2 *)</code> bytecode or <code class="codeph">NULL</code> on error
                     </p>
                     <div class="infoboxnotealso" id="GUID-D1434EED-6461-4218-85E0-A0FED42AF230__GUID-378C0AF2-DCD4-4FED-B439-7596560254C0">
                        <p class="notep1">See Also:</p>
                        <p><a href="package-XSLTVM-API.html#GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D">XmlXvmCompileFile()</a>, <a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer()</a>, <a href="package-XSLTVM-API.html#GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93">XmlXvmCompileURI()</a></p>
                     </div>
                  </div>
               </div><a id="CAXML6324"></a><a id="CAXML6325"></a><a id="CAXML6323"></a><div class="props_rev_3"><a id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D" name="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D"></a><h4 id="CAXML-GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D" class="sect4">XmlXvmCompileFile()</h4>
                  <div>
                     <div class="section">
                        <p>Compile XSLT stylesheet from file into bytecode. Compiler flags could be one or more of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">XMLXVM_DEBUG</code> forces compiler to include debug information into the bytecode
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLXVM_STRIPSPACE</code> is equivalent to <code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code>.
                              </p>
                           </li>
                        </ul>
                        <p>The generated bytecode resides in a compiler buffer which is freed when next stylesheet is compiled or when compiler object is deleted. Hence, if the bytecode is to be reused it should be copied into another location. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-566E4E5B-BC23-44D6-BD13-4B24F78894EC">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub2 *XmlXvmCompileFile(
&nbsp;&nbsp;&nbsp;xmlxvmcomp *comp, 
&nbsp;&nbsp;&nbsp;oratext *path,
&nbsp;&nbsp;&nbsp;oratext *baseURI,
&nbsp;&nbsp;&nbsp;xmlxvmflag flags,
&nbsp;&nbsp;&nbsp;xmlerr *error);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-B814EAE0-5050-4C56-AB1B-5B6205DB7CF6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e461">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e464">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e467">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e472" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">comp</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e472 d133320e464 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e472 d133320e467 ">
                                    <p>compiler object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e482" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">path</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e482 d133320e464 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e482 d133320e467 ">
                                    <p>path of XSL stylesheet file</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e492" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">baseuri</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e492 d133320e464 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e492 d133320e467 ">
                                    <p>base URI of the document</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e502" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">flags</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e502 d133320e464 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e502 d133320e467 ">
                                    <p>flags for the current compilation</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e512" headers="d133320e461 "><pre class="oac_no_warn" dir="ltr">error</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e512 d133320e464 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e512 d133320e467 ">
                                    <p>returned error code</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-AFA48BFB-CB2E-40D2-AEF3-04DDB5AB6E69">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub2 *)</code> bytecode or <code class="codeph">NULL</code> on error
                        </p>
                        <div class="infoboxnotealso" id="GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D__GUID-3665617C-8615-4872-8BE6-2732A5790836">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93">XmlXvmCompileURI()</a>, <a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer()</a>, <a href="package-XSLTVM-API.html#GUID-D1434EED-6461-4218-85E0-A0FED42AF230">XmlXvmCompileDom()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6327"></a><a id="CAXML6328"></a><a id="CAXML6326"></a><div class="props_rev_3"><a id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93" name="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93"></a><h4 id="CAXML-GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93" class="sect4">XmlXvmCompileURI()</h4>
                  <div>
                     <div class="section">
                        <p>Compile XSLT stylesheet from URI into bytecode. Compiler flags could be one or more of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">XMLXVM_DEBUG</code> forces compiler to include debug information into the bytecode
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLXVM_STRIPSPACE</code> is equivalent to <code class="codeph">&lt;xsl:strip-space elements="*"/&gt;</code>.
                              </p>
                           </li>
                        </ul>
                        <p>The generated bytecode resides in a compiler buffer which is freed when next stylesheet is compiled or when compiler object is deleted. Hence, if the bytecode is to be reused it should be copied into another location. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-F602C1E0-FC23-4501-B5A0-DEA1F9E62210">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub2 *XmlXvmCompileURI(
&nbsp;&nbsp;&nbsp;xmlxvmcomp *comp, 
&nbsp;&nbsp;&nbsp;oratext *uri, 
&nbsp;&nbsp;&nbsp;xmlxvmflag flags, 
&nbsp;&nbsp;&nbsp;xmlerr *error);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-2AAA1862-3EC5-499C-AA00-204DBC77BC26">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e621">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e624">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e627">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e632" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">comp</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e632 d133320e624 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e632 d133320e627 ">
                                    <p>compiler object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e642" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">uri</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e642 d133320e624 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e642 d133320e627 ">
                                    <p>URI of the file that contains the XSL stylesheet</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e652" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">flags</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e652 d133320e624 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e652 d133320e627 ">
                                    <p>flags for the current compilation</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e662" headers="d133320e621 "><pre class="oac_no_warn" dir="ltr">error</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e662 d133320e624 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e662 d133320e627 ">
                                    <p>returned error code</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-4A86A42F-0756-49D8-8E8D-E363636B4476">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub2 *)</code> bytecode or <code class="codeph">NULL</code> on error
                        </p>
                        <div class="infoboxnotealso" id="GUID-C10BD89E-2F40-4A18-9065-B8EA73F1CD93__GUID-D88B8768-D123-469B-ADA0-7710B60F5A2A">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-58EAD286-1331-4B2C-B3A7-09E07895A76D">XmlXvmCompileFile()</a>, <a href="package-XSLTVM-API.html#GUID-42012359-0809-4DBE-9C4B-58CE6C0E30CA">XmlXvmCompileBuffer()</a>, <a href="package-XSLTVM-API.html#GUID-D1434EED-6461-4218-85E0-A0FED42AF230">XmlXvmCompileDom()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6330"></a><a id="CAXML6331"></a><a id="CAXML6329"></a><div class="props_rev_3"><a id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3" name="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3"></a><h4 id="CAXML-GUID-51A26334-F6D9-4DF6-A599-0535848B80C3" class="sect4">XmlXvmCompileXPath()</h4>
                  <div>
                     <div class="section">
                        <p>Compiles an XPath expression. The optional <code class="codeph">pfxmap</code> is used to map namespace prefixes to URIs in the XPath expression. It is an array of prefix, URI values, ending in <code class="codeph">NULL</code>, and so on.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3__GUID-561DC049-53F5-4C00-BECA-E236B0B3DBAB">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub2 *XmlXvmCompileXPath(
&nbsp;&nbsp;&nbsp;xmlxvmcomp *comp, 
&nbsp;&nbsp;&nbsp;oratext *xpath,
&nbsp;&nbsp;&nbsp;oratext **pfxmap,
&nbsp;&nbsp;&nbsp;xmlerr *error);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3__GUID-F52FCCC0-4A07-457E-B7DC-049830F6EB3E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e761">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e764">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e767">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e772" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">comp</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e772 d133320e764 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e772 d133320e767 ">
                                    <p>compiler object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e782" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">xpath</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e782 d133320e764 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e782 d133320e767 ">
                                    <p>XPath expression</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e792" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">pfxmap</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e792 d133320e764 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e792 d133320e767 ">
                                    <p>array of prefix-URI mappings</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e802" headers="d133320e761 "><pre class="oac_no_warn" dir="ltr">error</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e802 d133320e764 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e802 d133320e767 ">
                                    <p>returned error code</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-51A26334-F6D9-4DF6-A599-0535848B80C3__GUID-A0E7E286-A433-4892-9ACF-963681817774">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub2 *)</code> XPath expression bytecode or <code class="codeph">NULL</code> on error
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6333"></a><a id="CAXML6334"></a><a id="CAXML6332"></a><div class="props_rev_3"><a id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342" name="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342"></a><h4 id="CAXML-GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342" class="sect4">XmlXvmCreateComp()</h4>
                  <div>
                     <div class="section">
                        <p>Create an XSLT compiler object. The XSLT compiler is used to compile XSLT stylesheets into bytecode.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-E9FF57E3-A4C8-439E-ADD9-AA33047C6322">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlxvmcomp *XmlXvmCreateComp(
&nbsp;&nbsp;&nbsp;xmlctx *xctx);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-29FC1ABD-E0E1-4F32-BFB6-3535C8B70027">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e883">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e886">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e889">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e894" headers="d133320e883 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e894 d133320e886 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e894 d133320e889 ">
                                    <p>XML context</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-CFB714CE-66DD-4C28-BAC0-FDDBC9B14F99">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlxvmcomp *)</code> XSLT compiler object, or <code class="codeph">NULL</code> on error
                        </p>
                        <div class="infoboxnotealso" id="GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342__GUID-511F2C8E-6043-426F-9B34-EBBCED888801">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050">XmlXvmDestroyComp()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6336"></a><a id="CAXML6335"></a><div class="props_rev_3"><a id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050" name="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050"></a><h4 id="CAXML-GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050" class="sect4">XmlXvmDestroyComp()</h4>
                  <div>
                     <div class="section">
                        <p>Destroys an XSLT compiler object</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050__GUID-5DF7667C-8DA3-4D1F-828B-6BFFAF0950D6">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">void XmlXvmDestroyComp(
&nbsp;&nbsp;&nbsp;xmlxvmcomp *comp);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050__GUID-90D655CE-29C3-4888-AF95-D5A39A1C6597">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e978">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e981">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e984">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e989" headers="d133320e978 "><pre class="oac_no_warn" dir="ltr">comp</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e989 d133320e981 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e989 d133320e984 ">
                                    <p>XSLT compiler object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-31F30A75-59D2-4BC4-8A4B-99B98DFB1050__GUID-EB685018-B2E9-4217-8D4F-160F8AC492F3">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-13C4043C-5FDB-4AAB-8AAD-C96A9F4DF342">XmlXvmCreateComp()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6338"></a><a id="CAXML6339"></a><a id="CAXML6337"></a><div class="props_rev_3"><a id="GUID-78643759-4F26-4EB9-9583-6CF458313555" name="GUID-78643759-4F26-4EB9-9583-6CF458313555"></a><h4 id="CAXML-GUID-78643759-4F26-4EB9-9583-6CF458313555" class="sect4">XmlXvmGetBytecodeLength()</h4>
                  <div>
                     <div class="section">
                        <p>The bytecode length is needed when the bytecode is to be copied or when it is set into XSLTVM.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78643759-4F26-4EB9-9583-6CF458313555__GUID-F9089074-B31C-438B-AF0A-11C3FCDC22C8">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub4 XmlXvmGetBytecodeLength(
&nbsp;&nbsp;&nbsp;ub2 *bytecode,
&nbsp;&nbsp;&nbsp;xmlerr *error);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-78643759-4F26-4EB9-9583-6CF458313555__GUID-322E2625-AC5A-4D0F-B1D5-2C942C8167F2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1064">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1067">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1070">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1075" headers="d133320e1064 "><pre class="oac_no_warn" dir="ltr">bytecode</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1075 d133320e1067 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1075 d133320e1070 ">
                                    <p>bytecode buffer</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1085" headers="d133320e1064 "><pre class="oac_no_warn" dir="ltr">error</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1085 d133320e1067 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1085 d133320e1070 ">
                                    <p>returned error code</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-78643759-4F26-4EB9-9583-6CF458313555__GUID-E2A728AA-F7C8-42FA-82DB-2C959053D33A">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub4)</code> The bytecode length in bytes.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CAXML6341"></a><a id="CAXML6340"></a><div class="props_rev_3"><a id="GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE" name="GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE"></a><h3 id="CAXML-GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE" class="sect3">XSLTVM Interface of XSLTVM for XML C APIs</h3>
               <div>
                  <div class="section">
                     <p>The following table summarizes the methods available through the <code class="codeph">XSLTVM</code> interface of <code class="codeph">XSLTVM</code> for XML C APIs.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D7AD5620-A797-4092-9E80-0747D4A24DFE__Summaryxsltvm">
                     <p class="titleintable">Table 16-2 Summary of XSLTVM XSLTVM Methods for XML C Implementation</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of XSLTVM XSLTVM Methods for XML C Implementation" summary="First column lists interfaces; second column provides a brief description of these interfaces." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d133320e1150">Function</th>
                              <th align="left" valign="bottom" width="53%" id="d133320e1153">Summary</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1158" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-694CC811-71C9-42CD-855C-306B53FB3A83">XMLXVM_DEBUG_F()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1158 d133320e1153 ">
                                 <p>XMLXSLTVM debug function.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1167" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD">XmlXvmCreate()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1167 d133320e1153 ">
                                 <p>Create an XSLT virtual machine.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1176" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633">XmlXvmDestroy()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1176 d133320e1153 ">
                                 <p>Destroys an XSLT virtual machine.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1185" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69">XmlXvmEvaluateXPath()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1185 d133320e1153 ">
                                 <p>Evaluate already-compiled XPath expression.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1194" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1194 d133320e1153 ">
                                 <p>Get boolean value of XPath object.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1203" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1203 d133320e1153 ">
                                 <p>Get node from nodeset type XPathobject.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1212" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1212 d133320e1153 ">
                                 <p>Get number of nodes in nodeset type XPathobject.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1221" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1221 d133320e1153 ">
                                 <p>Get number from XPath object.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1230" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1230 d133320e1153 ">
                                 <p>Get string from XPath object.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1239" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1239 d133320e1153 ">
                                 <p>Get XPath object type.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1248" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79">XmlXvmGetOutputDom()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1248 d133320e1153 ">
                                 <p>Returns the output DOM.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1258" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-5EBD08DB-9016-405D-8664-CD054DA65D84">XmlXvmResetParams()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1258 d133320e1153 ">
                                 <p>Resets the stylesheet top level text parameters.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1267" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258">XmlXvmSetBaseURI()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1267 d133320e1153 ">
                                 <p>Sets the base URI for the XLTVM.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1276" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD">XmlXvmSetBytecodeBuffer()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1276 d133320e1153 ">
                                 <p>Set the compiled bytecode.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1285" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F">XmlXvmSetBytecodeFile()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1285 d133320e1153 ">
                                 <p>Set the compiled byte code from file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1294" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5">XmlXvmSetBytecodeURI()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1294 d133320e1153 ">
                                 <p>Set the compiled bytecode.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1303" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-6184A424-E169-4512-914A-9C1440FCE5B6">XmlXvmSetDebugFunc()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1303 d133320e1153 ">
                                 <p>Set a callback function for debugging.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1312" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-9758249C-632E-4B0C-83A0-10D4C087FF71">XmlXvmSetOutputDom()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1312 d133320e1153 ">
                                 <p>Sets the XSLTVM to output document node.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1321" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6">XmlXvmSetOutputEncoding()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1321 d133320e1153 ">
                                 <p>Sets the encoding for the XSLTVM output.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1330" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8">XmlXvmSetOutputSax()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1330 d133320e1153 ">
                                 <p>Sets XSLTVM to output SAX.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1339" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE">XmlXvmSetOutputStream()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1339 d133320e1153 ">
                                 <p>Set the XSLTVM output to a user-defined stream.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1348" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-40F1858D-9B70-4E52-9864-FD2233E27012">XmlXvmSetTextParam()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1348 d133320e1153 ">
                                 <p>Set the stylesheet top-level text parameter.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1358" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1358 d133320e1153 ">
                                 <p>Run compiled XSLT stylesheet on XML document in memory.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1367" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1367 d133320e1153 ">
                                 <p>Run compiled XSLT stylesheet on XML document as DOM.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1376" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1376 d133320e1153 ">
                                 <p>Run compiled XSLT stylesheet on XML document in file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d133320e1385" headers="d133320e1150 ">
                                 <p><a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI()</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d133320e1385 d133320e1153 ">
                                 <p>Run compiled XSLT stylesheet on XML document from URI.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CAXML6343"></a><a id="CAXML6342"></a><div class="props_rev_3"><a id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83" name="GUID-694CC811-71C9-42CD-855C-306B53FB3A83"></a><h4 id="CAXML-GUID-694CC811-71C9-42CD-855C-306B53FB3A83" class="sect4">XMLXVM_DEBUG_F()</h4>
                  <div>
                     <div class="section">
                        <p>Debug callback function for XSLT VM.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83__GUID-FA110B30-4BA5-4A4E-979B-74734AA209B6">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">#define XMLXVM_DEBUG_F(func, line, file, obj, n)
void func(
&nbsp;&nbsp;&nbsp;ub2 line,
&nbsp;&nbsp;&nbsp;oratext *file,
&nbsp;&nbsp;&nbsp;xvmobj *obj,
&nbsp;&nbsp;&nbsp;ub4 n)</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83__GUID-64EAB90D-9DC4-4194-A3AF-9F7E930B8709">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1452">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1455">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1458">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1463" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">line</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1463 d133320e1455 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1463 d133320e1458 ">
                                    <p>source stylesheet line number</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1473" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">file</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1473 d133320e1455 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1473 d133320e1458 ">
                                    <p>stylesheet filename</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1483" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">obj</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1483 d133320e1455 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1483 d133320e1458 ">
                                    <p>current VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1493" headers="d133320e1452 "><pre class="oac_no_warn" dir="ltr">n</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1493 d133320e1455 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1493 d133320e1458 ">
                                    <p>index of current node</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-694CC811-71C9-42CD-855C-306B53FB3A83__GUID-D47D54E3-151A-463B-BBBA-6E02B1F80F81">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-6184A424-E169-4512-914A-9C1440FCE5B6">XmlXvmSetDebugFunc()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6345"></a><a id="CAXML6346"></a><a id="CAXML6344"></a><div class="props_rev_3"><a id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD" name="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD"></a><h4 id="CAXML-GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD" class="sect4">XmlXvmCreate()</h4>
                  <div>
                     <div class="section">
                        <p>Create an XSLT virtual machine. Zero or more of the following XSLTVM properties could be set by using this API:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">"VMStack", size</code> sets the size[Kbyte] of the main VM stack; default size is 4K.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">"NodeStack", size</code> sets the size[Kbyte] of the node-stack; default size is 16K.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">"StringStack", size</code> sets the size[Kbyte] of the string-stack; default size is 64K.
                              </p>
                           </li>
                        </ul>
                        <p>If the stack size is not specified the default size is used. The explicit stack size setting is needed when XSLTVM terminates with "Stack Overflow" message or when smaller memory footprints are required.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-83258559-EEBC-4E40-8CA7-0A4B11D394C1">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlxvm *XmlXvmCreate(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;<span class="italic">list</span>);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-62D2F0F6-31D4-4398-8EF2-EEB10549BD4D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1589">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1592">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1595">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1600" headers="d133320e1589 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1600 d133320e1592 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1600 d133320e1595 ">
                                    <p>XML context</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1610" headers="d133320e1589 "><pre class="oac_no_warn" dir="ltr"><span class="italic">list</span></pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1610 d133320e1592 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1610 d133320e1595 ">
                                    <p><code class="codeph">NULL</code>-terminated list of properties to set; can be empty
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-539B6FF0-B2DA-42F3-BE4F-844F6D0FBE3E">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlxvm *)</code> XSLT virtual machine object, or <code class="codeph">NULL</code> on error
                        </p>
                        <div class="infoboxnotealso" id="GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD__GUID-DC6AF619-A97C-4155-87A8-37553C5EF990">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633">XmlXvmDestroy()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6348"></a><a id="CAXML6347"></a><div class="props_rev_3"><a id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633" name="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633"></a><h4 id="CAXML-GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633" class="sect4">XmlXvmDestroy()</h4>
                  <div>
                     <div class="section">
                        <p>Destroys an XSLT virtual machine</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633__GUID-5BA73422-B24F-4B26-8A5C-9D66997D6097">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">void XmlXvmDestroy(
&nbsp;&nbsp;&nbsp;xmlxvm *vm);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633__GUID-B061875B-835C-4081-AD54-E24C8C40381B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1698">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1701">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1704">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1709" headers="d133320e1698 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1709 d133320e1701 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1709 d133320e1704 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-4EC67E14-4733-41A3-B340-5D8E9CDB5633__GUID-7223CCD0-963B-4B0B-9383-AD7D39A40311">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-3C1E7419-3510-42F2-BFEB-291850DB46CD">XmlXvmCreate()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6350"></a><a id="CAXML6351"></a><a id="CAXML6349"></a><div class="props_rev_3"><a id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69" name="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69"></a><h4 id="CAXML-GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69" class="sect4">XmlXvmEvaluateXPath()</h4>
                  <div>
                     <div class="section">
                        <p>Evaluate already-compiled XPath expression</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69__GUID-EA43C0B6-2CD5-4343-856B-EE9F7D66B57E">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xvmobj *XmlXvmEvaluateXPath(
&nbsp;&nbsp;&nbsp;xmlxvm *vm, 
&nbsp;&nbsp;&nbsp;ub2 *bytecode, 
&nbsp;&nbsp;&nbsp;ub4 ctxpos,
&nbsp;&nbsp;&nbsp;ub4 ctxsize,
&nbsp;&nbsp;&nbsp;xmlnode *ctxnode);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69__GUID-B942AB7F-7961-4654-8602-A10C250FA71A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1784">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1787">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1790">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1795" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1795 d133320e1787 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1795 d133320e1790 ">
                                    <p>XSLTVM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1805" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">bytecode</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1805 d133320e1787 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1805 d133320e1790 ">
                                    <p>XPath expression bytecode</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1815" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">ctxpos</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1815 d133320e1787 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1815 d133320e1790 ">
                                    <p>current context position</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1825" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">ctxsize</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1825 d133320e1787 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1825 d133320e1790 ">
                                    <p>current context size</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1835" headers="d133320e1784 "><pre class="oac_no_warn" dir="ltr">ctxnode</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1835 d133320e1787 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1835 d133320e1790 ">
                                    <p>current context node</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC474F97-22CF-4554-A120-1FAFD2C0CF69__GUID-D40766F2-82E0-4B31-A53E-335F15B7F5FD">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xvmobj *)</code> XPath object
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6353"></a><a id="CAXML6354"></a><a id="CAXML6352"></a><div class="props_rev_3"><a id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8" name="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8"></a><h4 id="CAXML-GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8" class="sect4">XmlXvmGetObjectBoolean()</h4>
                  <div>
                     <div class="section">
                        <p>Get boolean value of XPath object</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-09C6ADDC-616B-4CF3-9DFE-CEBE2C179897">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">boolean XmlXvmGetObjectBoolean(
&nbsp;&nbsp;&nbsp;xvmobj *obj);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-FDF2A2A1-B496-4548-9F23-C82ADC6F09FE">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e1912">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e1915">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e1918">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e1923" headers="d133320e1912 "><pre class="oac_no_warn" dir="ltr">obj</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e1923 d133320e1915 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e1923 d133320e1918 ">
                                    <p>object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-19576688-5FA5-4EDB-AD08-7DE2A7467F93">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(boolean)</code> value of an XPath object
                        </p>
                        <div class="infoboxnotealso" id="GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8__GUID-E2704EDF-FA42-4140-A798-214541EE9A3B">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType()</a>, <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum()</a>, <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode()</a>, <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber()</a>, <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6356"></a><a id="CAXML6357"></a><a id="CAXML6355"></a><div class="props_rev_3"><a id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79" name="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79"></a><h4 id="CAXML-GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79" class="sect4">XmlXvmGetObjectNSetNode()</h4>
                  <div>
                     <div class="section">
                        <p>Get node from nodeset-type XPath object</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-4D8EDA75-8377-4398-B36F-5AF1A87EAE06">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlnode *XmlXvmGetObjectNSetNode(
&nbsp;&nbsp;&nbsp;xvmobj *obj,
&nbsp;&nbsp;&nbsp;ub4 i);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-D2CE484F-9073-4199-B919-62FAE4B3B290">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2022">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2025">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2028">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2033" headers="d133320e2022 "><pre class="oac_no_warn" dir="ltr">obj</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2033 d133320e2025 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2033 d133320e2028 ">
                                    <p>object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2043" headers="d133320e2022 "><pre class="oac_no_warn" dir="ltr">i</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2043 d133320e2025 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2043 d133320e2028 ">
                                    <p>node index in nodeset</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-4B0520BA-14AB-4BFC-9594-B202827F3703">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlnode *)</code> The object type or values.
                        </p>
                        <div class="infoboxnotealso" id="GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79__GUID-3719C672-B95C-4801-9873-4B2A5F27B60F">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType()</a>, <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum()</a>, <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString()</a>, <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber()</a>, <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6359"></a><a id="CAXML6360"></a><a id="CAXML6358"></a><div class="props_rev_3"><a id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA" name="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA"></a><h4 id="CAXML-GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA" class="sect4">XmlXvmGetObjectNSetNum()</h4>
                  <div>
                     <div class="section">
                        <p>Get number of nodes in nodeset-type XPath object</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-9D674993-876E-4B63-913F-45AD6699E7AF">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">ub4 XmlXvmGetObjectNSetNum(
&nbsp;&nbsp;&nbsp;xvmobj *obj);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-35873B85-1862-4FFD-B222-F9B3C5385555">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2141">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2144">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2147">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2152" headers="d133320e2141 "><pre class="oac_no_warn" dir="ltr">obj</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2152 d133320e2144 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2152 d133320e2147 ">
                                    <p>object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-CC1121AE-C073-4054-AD6A-24781E4ABC67">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(ub4)</code> number of nodes in nodeset
                        </p>
                        <div class="infoboxnotealso" id="GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA__GUID-17490C61-AF80-4BC8-AFC2-CC70AC3734E3">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType()</a>, <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode()</a>, <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString()</a>, <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber()</a>, <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6362"></a><a id="CAXML6363"></a><a id="CAXML6361"></a><div class="props_rev_3"><a id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4" name="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4"></a><h4 id="CAXML-GUID-2986510E-5804-472C-8C28-8D0BC060A5D4" class="sect4">XmlXvmGetObjectNumber()</h4>
                  <div>
                     <div class="section">
                        <p>Get number from XPath object.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-6CD11EA9-8FA5-4348-9593-5D8200F87ED7">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">double XmlXvmGetObjectNumber(
&nbsp;&nbsp;&nbsp;xvmobj *obj);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-133A3CA3-9817-4C56-A9F9-C36AFB73D1D2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2250">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2253">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2256">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2261" headers="d133320e2250 "><pre class="oac_no_warn" dir="ltr">obj</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2261 d133320e2253 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2261 d133320e2256 ">
                                    <p>object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-71A4BBC1-0FCA-41B2-B6C2-7AC64B80C231">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(double)</code> number
                        </p>
                        <div class="infoboxnotealso" id="GUID-2986510E-5804-472C-8C28-8D0BC060A5D4__GUID-BF14D75B-BC4C-49D4-ADAB-0309B54488DF">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType()</a>, <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum()</a>, <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode()</a>, <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString()</a>, <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6365"></a><a id="CAXML6366"></a><a id="CAXML6364"></a><div class="props_rev_3"><a id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2" name="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2"></a><h4 id="CAXML-GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2" class="sect4">XmlXvmGetObjectString()</h4>
                  <div>
                     <div class="section">
                        <p>Get string from XPath object.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-5972E754-88EC-4C85-8F62-561623B458A4">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">oratext *XmlXvmGetObjectString(
&nbsp;&nbsp;&nbsp;xvmobj *obj);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-F1650908-991F-455F-8C16-F012F5EA465D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2360">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2363">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2366">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2371" headers="d133320e2360 "><pre class="oac_no_warn" dir="ltr">obj</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2371 d133320e2363 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2371 d133320e2366 ">
                                    <p>object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-0F187CF6-BE20-45F2-BDE0-E63648F6DCDE">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(oratext *)</code> string
                        </p>
                        <div class="infoboxnotealso" id="GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2__GUID-E8CF85D3-5669-4C03-A165-797B41CF1070">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E">XmlXvmGetObjectType()</a>, <a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum()</a>, <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode()</a>, <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber()</a>, <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6368"></a><a id="CAXML6369"></a><a id="CAXML6367"></a><div class="props_rev_3"><a id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E" name="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E"></a><h4 id="CAXML-GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E" class="sect4">XmlXvmGetObjectType()</h4>
                  <div>
                     <div class="section">
                        <p>Get XPath object type</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-1EADD8B0-8DC7-4AF2-AA26-E7E015C77817">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlxvmobjtype XmlXvmGetObjectType(
&nbsp;&nbsp;&nbsp;xvmobj *obj);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-FBD5EA98-93BC-4349-86DD-10736A76070B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2469">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2472">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2475">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2480" headers="d133320e2469 "><pre class="oac_no_warn" dir="ltr">obj</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2480 d133320e2472 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2480 d133320e2475 ">
                                    <p>object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-04FC9C95-F4A1-47FA-B9EA-D44900163686">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlxvmobjtype)</code> type-code for object
                        </p>
                        <div class="infoboxnotealso" id="GUID-FC3BE3CB-780C-415E-84F4-9AFBB894349E__GUID-2A3648D7-0E6A-493D-B5B3-B421A191BFFF">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-8CF172F0-D711-4D87-9D17-344E9E6129CA">XmlXvmGetObjectNSetNum()</a>, <a href="package-XSLTVM-API.html#GUID-CD957532-3B05-4BEF-A824-7B8B5B408E79">XmlXvmGetObjectNSetNode()</a>, <a href="package-XSLTVM-API.html#GUID-21D10C33-99F1-48D1-AE6E-41A7DEAAF4A2">XmlXvmGetObjectString()</a>, <a href="package-XSLTVM-API.html#GUID-2986510E-5804-472C-8C28-8D0BC060A5D4">XmlXvmGetObjectNumber()</a>, <a href="package-XSLTVM-API.html#GUID-C7DEABBC-D6F4-4225-BF36-6527468F48E8">XmlXvmGetObjectBoolean()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6371"></a><a id="CAXML6372"></a><a id="CAXML6370"></a><div class="props_rev_3"><a id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79" name="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79"></a><h4 id="CAXML-GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79" class="sect4">XmlXvmGetOutputDom()</h4>
                  <div>
                     <div class="section">
                        <p>Returns the root node of the result DOM tree (if any). <code class="codeph">XmlXvmSetOutputDom</code> has to be used before transformation to set the VM to output a DOM tree (the default VM output is a stream). 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-AF769051-EE40-4D3C-A435-83C9DBF2F82C">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlfragnode *XmlXvmGetOutputDom(
&nbsp;&nbsp;&nbsp;xmlxvm *vm);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-5597B5E2-20D8-430C-9F8E-716CB8FC8832">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2581">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2584">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2587">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2592" headers="d133320e2581 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2592 d133320e2584 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2592 d133320e2587 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-6E45071C-E7F0-4C37-B746-D87918B85D21">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlfragnode *)</code> output DOM, or <code class="codeph">NULL</code> in a case of SAX or Stream output.
                        </p>
                        <div class="infoboxnotealso" id="GUID-DF447BDD-AC1B-4967-ACC8-AF5757FCBD79__GUID-2021B716-CA9E-4DBF-AAD9-1B9F7B796F73">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-9758249C-632E-4B0C-83A0-10D4C087FF71">XmlXvmSetOutputDom()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6374"></a><a id="CAXML6373"></a><div class="props_rev_3"><a id="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84" name="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84"></a><h4 id="CAXML-GUID-5EBD08DB-9016-405D-8664-CD054DA65D84" class="sect4">XmlXvmResetParams()</h4>
                  <div>
                     <div class="section">
                        <p>Resets the stylesheet top-level parameters with their default values.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84__GUID-C4CBC07B-57C2-4CD4-8209-C8B16DDC7473">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">void XmlXvmResetParams(
&nbsp;&nbsp;&nbsp;xmlxvm *vm);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-5EBD08DB-9016-405D-8664-CD054DA65D84__GUID-CB83059B-4FE0-4376-A95B-40728E181DC4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2677">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2680">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2683">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2688" headers="d133320e2677 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2688 d133320e2680 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2688 d133320e2683 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CAXML6376"></a><a id="CAXML6377"></a><a id="CAXML6375"></a><div class="props_rev_3"><a id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258" name="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258"></a><h4 id="CAXML-GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258" class="sect4">XmlXvmSetBaseURI()</h4>
                  <div>
                     <div class="section">
                        <p>Sets the base URI for the XSLTVM. The baseuri is used by VM to the compose the path XML documents to be loaded for transformation using <code class="codeph">document</code> or <code class="codeph">XmlXvmTransformFile</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258__GUID-B8F3DE77-FEBC-4FB2-9667-D64411ACADF4">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBaseURI(
&nbsp;&nbsp;&nbsp;xmlxvm *vm, 
&nbsp;&nbsp;&nbsp;oratext *baseuri);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258__GUID-6308EE33-D31E-444F-AE86-ED7A4542760B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2763">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2766">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2769">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2774" headers="d133320e2763 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2774 d133320e2766 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2774 d133320e2769 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2784" headers="d133320e2763 "><pre class="oac_no_warn" dir="ltr">baseuri</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2784 d133320e2766 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2784 d133320e2769 ">
                                    <p>VM base URI for reading and writing documents</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CECC4B1C-5D3C-4757-A2ED-5D9EFCE12258__GUID-7C1A4227-775C-484B-B341-81F074C66469">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6379"></a><a id="CAXML6380"></a><a id="CAXML6378"></a><div class="props_rev_3"><a id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD" name="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD"></a><h4 id="CAXML-GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD" class="sect4">XmlXvmSetBytecodeBuffer()</h4>
                  <div>
                     <div class="section">
                        <p>Set the compiled bytecode from buffer. Any previously set bytecode is replaced. An XML transformation can't be performed if the stylesheet bytecode is not set. The VM doesn't copy the bytecode into internal buffer, hence the it shouldn't be freed before VM finishes using it. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-45182243-3BBC-48BD-87E0-E0CECDAED90E">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBytecodeBuffer(
&nbsp;&nbsp;&nbsp;xmlxvm *vm, 
&nbsp;&nbsp;&nbsp;ub2 *buffer, 
&nbsp;&nbsp;&nbsp;size_t buflen);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-2753C3CF-8A13-4322-A506-17ADD269C518">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2861">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2864">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2867">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2872" headers="d133320e2861 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2872 d133320e2864 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2872 d133320e2867 ">
                                    <p>XSLT VM context</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2882" headers="d133320e2861 "><pre class="oac_no_warn" dir="ltr">buffer</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2882 d133320e2864 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2882 d133320e2867 ">
                                    <p>user's buffer</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2892" headers="d133320e2861 "><pre class="oac_no_warn" dir="ltr">buflen</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2892 d133320e2864 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2892 d133320e2867 ">
                                    <p>size of buffer, in bytes</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-34C03207-69BF-431F-A1AF-3EDC40BC35B2">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> numeric error code, <code class="codeph">XMLERR_OK [0] </code>on success
                        </p>
                        <div class="infoboxnotealso" id="GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD__GUID-009E81F8-D85E-49C0-829B-2DCA605FAE4D">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F">XmlXvmSetBytecodeFile()</a>, <a href="package-XSLTVM-API.html#GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5">XmlXvmSetBytecodeURI()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6382"></a><a id="CAXML6383"></a><a id="CAXML6381"></a><div class="props_rev_3"><a id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F" name="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F"></a><h4 id="CAXML-GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F" class="sect4">XmlXvmSetBytecodeFile()</h4>
                  <div>
                     <div class="section">
                        <p>Set the compiled bytecode from file. Any previously set bytecode is replaced. An XML transformation can't be performed if the stylesheet bytecode is not set.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-D11173D6-A444-4BF3-8B9B-AA4BB9DE1CA9">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBytecodeFile(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;oratext *path);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-D7483508-D627-45C6-B5A0-D6DB351201A6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e2982">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e2985">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e2988">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e2993" headers="d133320e2982 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e2993 d133320e2985 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e2993 d133320e2988 ">
                                    <p>XSLT VM context</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3003" headers="d133320e2982 "><pre class="oac_no_warn" dir="ltr">path</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3003 d133320e2985 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3003 d133320e2988 ">
                                    <p>path of bytecode file</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-3D4868DC-ADA2-471B-9ED1-208E5525B043">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> numeric error code, <code class="codeph">XMLERR_OK [0]</code> on success
                        </p>
                        <div class="infoboxnotealso" id="GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F__GUID-F397A279-8364-4258-AB3C-6E6098DAF174">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5">XmlXvmSetBytecodeURI()</a>, <a href="package-XSLTVM-API.html#GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD">XmlXvmSetBytecodeBuffer()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6385"></a><a id="CAXML6386"></a><a id="CAXML6384"></a><div class="props_rev_3"><a id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5" name="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5"></a><h4 id="CAXML-GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5" class="sect4">XmlXvmSetBytecodeURI()</h4>
                  <div>
                     <div class="section">
                        <p>Set the compiled bytecode from URI. Any previously set bytecode is replaced. An XML transformation can't be performed if the stylesheet bytecode is not set.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-B740E711-0138-45E2-A0C6-EC18A9B06070">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetBytecodeURI(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;oratext *uri);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-F3D20177-BA6B-4F1A-9004-374B42E32571">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3092">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3095">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3098">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3103" headers="d133320e3092 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3103 d133320e3095 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3103 d133320e3098 ">
                                    <p>XSLT VM context</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3113" headers="d133320e3092 "><pre class="oac_no_warn" dir="ltr">uri</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3113 d133320e3095 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3113 d133320e3098 ">
                                    <p>path of bytecode file</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-871EEAD5-3106-40FA-89AE-796125E7887D">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> numeric error code, <code class="codeph">XMLERR_OK [0]</code> on success
                        </p>
                        <div class="infoboxnotealso" id="GUID-33CD7545-DA59-4D3A-B28B-75C46A9720A5__GUID-1A6DE5E9-5925-44B1-A98B-85C78291AA8B">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-DE04850F-289D-49B2-AF8D-8A0169FDB76F">XmlXvmSetBytecodeFile()</a>, <a href="package-XSLTVM-API.html#GUID-DE721122-2CF9-41B2-946F-74F5E984B8FD">XmlXvmSetBytecodeBuffer()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6388"></a><a id="CAXML6389"></a><a id="CAXML6387"></a><div class="props_rev_3"><a id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6" name="GUID-6184A424-E169-4512-914A-9C1440FCE5B6"></a><h4 id="CAXML-GUID-6184A424-E169-4512-914A-9C1440FCE5B6" class="sect4">XmlXvmSetDebugFunc()</h4>
                  <div>
                     <div class="section">
                        <p>The user callback function is invoked by VM every time the execution reaches a new line in the XSLT stylesheet. The VM passes to the user the stylesheet file name, the line number, the current context nodes-set and the current node index in the node-set. IMPORTANT - the stylesheet has to be compiled with flag <code class="codeph">XMLXVM_DEBUG</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6__GUID-5B3435FD-45D3-4A2A-9C7F-A071BE2D10BE">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">#define XMLXVM_DEBUG_FUNC(func)
void func (ub2 line, oratext *filename, xvmobj *obj, ub4 n)
xmlerr XmlXvmSetDebugFunc(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;XMLXVM_DEBUG_FUNC(debugcallback));</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6__GUID-A213752C-9558-4F29-88DC-F64FF135B9F7">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3205">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3208">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3211">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3216" headers="d133320e3205 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3216 d133320e3208 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3216 d133320e3211 ">
                                    <p>XSLT VM context</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3226" headers="d133320e3205 "><pre class="oac_no_warn" dir="ltr">func</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3226 d133320e3208 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3226 d133320e3211 ">
                                    <p>callback function</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6184A424-E169-4512-914A-9C1440FCE5B6__GUID-976084C8-8AA7-452E-A252-F5F3155EE14B">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> numeric error code, <code class="codeph">XMLERR_OK [0]</code> on success
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6391"></a><a id="CAXML6392"></a><a id="CAXML6390"></a><div class="props_rev_3"><a id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71" name="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71"></a><h4 id="CAXML-GUID-9758249C-632E-4B0C-83A0-10D4C087FF71" class="sect4">XmlXvmSetOutputDom()</h4>
                  <div>
                     <div class="section">
                        <p>Sets the XSLTVM to output DOM. If <code class="codeph">xmldocnode==NULL</code>, then the result DOM tree belongs to the VM object and is deleted when a new transformation is performed or when the VM object is deleted. If the result DOM tree is to be used for longer period of time then an <code class="codeph">xmldocnode</code> has to be created and set to the VM object. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71__GUID-E1A883DD-5994-49B5-96D9-17FDAB0997B6">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputDom(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;xmldocnode *doc);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71__GUID-6777C50E-ABB9-47BE-BB7B-8E74846FF58D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3313">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3316">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3319">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3324" headers="d133320e3313 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3324 d133320e3316 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3324 d133320e3319 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3334" headers="d133320e3313 "><pre class="oac_no_warn" dir="ltr">doc</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3334 d133320e3316 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3334 d133320e3319 ">
                                    <p>empty document</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9758249C-632E-4B0C-83A0-10D4C087FF71__GUID-B59D0DCD-82C6-4E07-B176-CA9B50263D83">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6394"></a><a id="CAXML6395"></a><a id="CAXML6393"></a><div class="props_rev_3"><a id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6" name="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6"></a><h4 id="CAXML-GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6" class="sect4">XmlXvmSetOutputEncoding()</h4>
                  <div>
                     <div class="section">
                        <p>Sets the encoding for the XSLTVM stream output. If the input (data) encoding is different from the one set by this APIs then encoding conversion is performed. This APIs overrides the encoding set in the XSLT stylesheet (if any).</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6__GUID-0E43E6A1-BBDE-445E-B35A-8EE9E3B92489">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputEncoding(
&nbsp;&nbsp;&nbsp;xmlxvm *vm, 
&nbsp;&nbsp;&nbsp;oratext *encoding);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6__GUID-215338D8-4545-4070-8157-E62C381D7658">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3411">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3414">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3417">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3422" headers="d133320e3411 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3422 d133320e3414 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3422 d133320e3417 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3432" headers="d133320e3411 "><pre class="oac_no_warn" dir="ltr">encoding</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3432 d133320e3414 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3432 d133320e3417 ">
                                    <p>output encoding</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-35B2E644-EB1B-4365-AACA-6F7770A225F6__GUID-2709B8EB-777D-4CB5-8A7E-42CBD7BEB16B">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6397"></a><a id="CAXML6398"></a><a id="CAXML6396"></a><div class="props_rev_3"><a id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8" name="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8"></a><h4 id="CAXML-GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8" class="sect4">XmlXvmSetOutputSax()</h4>
                  <div>
                     <div class="section">
                        <p>Set XSLTVM to output SAX. If the SAX callback interface object is provided the VM outputs the result document in a form of SAX events using the user specified callback functions. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8__GUID-0A1611B6-8C15-4034-9CD9-793B715A2452">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputSax(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;xmlsaxcb *saxcb, 
&nbsp;&nbsp;&nbsp;void *saxctx);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8__GUID-36250E4A-4B52-420B-BC1C-6954D8CE0E6D">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3509">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3512">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3515">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3520" headers="d133320e3509 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3520 d133320e3512 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3520 d133320e3515 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3530" headers="d133320e3509 "><pre class="oac_no_warn" dir="ltr">saxcb</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3530 d133320e3512 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3530 d133320e3515 ">
                                    <p>SAX callback object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3540" headers="d133320e3509 "><pre class="oac_no_warn" dir="ltr">saxctx</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3540 d133320e3512 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3540 d133320e3515 ">
                                    <p>SAX context</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2F632FB8-3091-4867-8A50-6019C5B28BB8__GUID-1AAD5211-8BE4-4A8F-9A2D-C15BD7831B32">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6400"></a><a id="CAXML6401"></a><a id="CAXML6399"></a><div class="props_rev_3"><a id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE" name="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE"></a><h4 id="CAXML-GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE" class="sect4">XmlXvmSetOutputStream()</h4>
                  <div>
                     <div class="section">
                        <p>Set the XSLTVM output to a user-defined stream. The default XSLTVM output is a stream. This APIs overrides the default stream with user specified APIs for writing. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE__GUID-82AFF08E-94A8-4FC6-A585-8CF0A62EB1CF">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetOutputStream(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;xmlostream *ostream);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE__GUID-32406FD0-C284-41CE-A549-0A3618D418F8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3618">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3621">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3624">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3629" headers="d133320e3618 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3629 d133320e3621 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3629 d133320e3624 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3639" headers="d133320e3618 "><pre class="oac_no_warn" dir="ltr">ostream</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3639 d133320e3621 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3639 d133320e3624 ">
                                    <p>stream object</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F10DAA9-C891-499B-B3F4-F632B9C239FE__GUID-A56DEDCF-B1A3-4857-ADD9-8478F05D9887">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6403"></a><a id="CAXML6404"></a><a id="CAXML6402"></a><div class="props_rev_3"><a id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012" name="GUID-40F1858D-9B70-4E52-9864-FD2233E27012"></a><h4 id="CAXML-GUID-40F1858D-9B70-4E52-9864-FD2233E27012" class="sect4">XmlXvmSetTextParam()</h4>
                  <div>
                     <div class="section">
                        <p>Set the stylesheet top-level text parameter. The parameter value set in the XSLT stylesheet is overwritten. Since the top-level parameters are reset with stylesheet values after each transformation, this APIs has to be called again.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012__GUID-3AE88FA3-D44B-4C44-98DF-6F21F19960C4">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmSetTextParam(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;oratext *name,
&nbsp;&nbsp;&nbsp;oratext *value);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012__GUID-2C05FB74-53CF-411B-8D61-8ABB7AE85A8A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3716">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3719">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3722">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3727" headers="d133320e3716 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3727 d133320e3719 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3727 d133320e3722 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3737" headers="d133320e3716 "><pre class="oac_no_warn" dir="ltr">name</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3737 d133320e3719 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3737 d133320e3722 ">
                                    <p>name of top-level parameter</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3747" headers="d133320e3716 "><pre class="oac_no_warn" dir="ltr">value</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3747 d133320e3719 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3747 d133320e3722 ">
                                    <p>value of top-level parameter</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-40F1858D-9B70-4E52-9864-FD2233E27012__GUID-98B725A5-79D5-45F1-B8FF-C25405A5B9FA">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code, <code class="codeph">XMLERR_SUCC [0]</code> on success.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6406"></a><a id="CAXML6407"></a><a id="CAXML6405"></a><div class="props_rev_3"><a id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446" name="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446"></a><h4 id="CAXML-GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446" class="sect4">XmlXvmTransformBuffer()</h4>
                  <div>
                     <div class="section">
                        <p>Run compiled XSLT stylesheet on XML document in memory. The compiled XSLT stylesheet (bytecode) should be set using <code class="codeph">XmlXvmSetBytecodeXXX</code> prior to this call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-D7E7FF52-AA4C-4FF7-8E87-8D919B6538BC">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformBuffer(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;oratext *buffer,
&nbsp;&nbsp;&nbsp;ub4 length,
&nbsp;&nbsp;&nbsp;oratext *baseURI);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-4A9F23A6-4DEE-4735-9A8E-990A83D64596">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="23%" id="d133320e3830">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3833">In/Out</th>
                                 <th align="left" valign="bottom" width="65%" id="d133320e3836">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3841" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3841 d133320e3833 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3841 d133320e3836 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3851" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">buffer</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3851 d133320e3833 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3851 d133320e3836 ">
                                    <p><code class="codeph">NULL</code>-terminated buffer that contains the XML document
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3863" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">length</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3863 d133320e3833 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3863 d133320e3836 ">
                                    <p>length of the XML document</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="23%" id="d133320e3873" headers="d133320e3830 "><pre class="oac_no_warn" dir="ltr">baseURI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3873 d133320e3833 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="65%" headers="d133320e3873 d133320e3836 ">
                                    <p>base URI of XML document</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-CEEBD88F-FF81-4141-8D8A-6E5A831DC908">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code.
                        </p>
                        <div class="infoboxnotealso" id="GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446__GUID-FF80B3D8-7409-4F36-A6EF-8B07270700F1">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile()</a>, <a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI()</a>, <a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6409"></a><a id="CAXML6410"></a><a id="CAXML6408"></a><div class="props_rev_3"><a id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E" name="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E"></a><h4 id="CAXML-GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E" class="sect4">XmlXvmTransformDom()</h4>
                  <div>
                     <div class="section">
                        <p>Run compiled XSLT stylesheet on XML document as DOM. The compiled XSLT stylesheet (bytecode) should be set using <code class="codeph">XmlXvmSetBytecodeXXX</code> prior to this call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-BBB8EBB7-CFED-425F-A975-8E41C779782A">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformDom(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;xmldocnode *root);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-9AC9A7E6-B053-404D-9F86-1A9F7F27E272">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e3967">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e3970">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e3973">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3978" headers="d133320e3967 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3978 d133320e3970 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3978 d133320e3973 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e3988" headers="d133320e3967 "><pre class="oac_no_warn" dir="ltr">root</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e3988 d133320e3970 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e3988 d133320e3973 ">
                                    <p>root element of XML document's DOM</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-9634AC5C-33B3-445F-B75D-B2E3084DCC46">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code.
                        </p>
                        <div class="infoboxnotealso" id="GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E__GUID-D0D01F93-99B8-47D6-992F-FC8D7D76D87E">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile()</a>, <a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI()</a>, <a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6412"></a><a id="CAXML6413"></a><a id="CAXML6411"></a><div class="props_rev_3"><a id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315" name="GUID-1E343A8E-5E17-4761-9830-5F315DC62315"></a><h4 id="CAXML-GUID-1E343A8E-5E17-4761-9830-5F315DC62315" class="sect4">XmlXvmTransformFile()</h4>
                  <div>
                     <div class="section">
                        <p>Run compiled XSLT stylesheet on XML document in file. The compiled XSLT stylesheet (bytecode) should be set using <code class="codeph">XmlXvmSetBytecodeXXX</code> prior to this call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-3331C852-AE38-47BB-AF64-F86A5B5350BB">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformFile(
&nbsp;&nbsp;&nbsp;xmlxvm *vm,
&nbsp;&nbsp;&nbsp;oratext *path,
&nbsp;&nbsp;&nbsp;oratext *baseURI);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-ED063350-6FB6-4091-91E8-4307668B3929">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e4081">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e4084">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e4087">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4092" headers="d133320e4081 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4092 d133320e4084 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4092 d133320e4087 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4102" headers="d133320e4081 "><pre class="oac_no_warn" dir="ltr">path</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4102 d133320e4084 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4102 d133320e4087 ">
                                    <p>path of XML document to transform</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4112" headers="d133320e4081 "><pre class="oac_no_warn" dir="ltr">baseURI</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4112 d133320e4084 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4112 d133320e4087 ">
                                    <p>base URI of XML document</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-CFBCDE1D-194E-4FBB-9DB7-1E8AB52B13BB">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code
                        </p>
                        <div class="infoboxnotealso" id="GUID-1E343A8E-5E17-4761-9830-5F315DC62315__GUID-D486112F-C3A9-4657-95CB-84BF3B52FCAE">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-D2D1D312-948F-4258-9190-7FED51DCB164">XmlXvmTransformURI()</a>, <a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer()</a>, <a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CAXML6415"></a><a id="CAXML6416"></a><a id="CAXML6414"></a><div class="props_rev_3"><a id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164" name="GUID-D2D1D312-948F-4258-9190-7FED51DCB164"></a><h4 id="CAXML-GUID-D2D1D312-948F-4258-9190-7FED51DCB164" class="sect4">XmlXvmTransformURI()</h4>
                  <div>
                     <div class="section">
                        <p>Run compiled XSLT stylesheet on XML document from URI. The compiled XSLT stylesheet (bytecode) should be set using <code class="codeph">XmlXvmSetBytecodeXXX</code> prior to this call.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-F62EFE2D-3B80-4101-80C7-2EDF2D1972D5">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlXvmTransformURI(
&nbsp;&nbsp;&nbsp;xmlxvm *vm, 
&nbsp;&nbsp;&nbsp;oratext *uri);</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-D8581A2F-C7EC-4443-954B-471440AE1AD0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d133320e4205">Parameter</th>
                                 <th align="left" valign="bottom" width="12%" id="d133320e4208">In/Out</th>
                                 <th align="left" valign="bottom" width="62%" id="d133320e4211">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4216" headers="d133320e4205 "><pre class="oac_no_warn" dir="ltr">vm</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4216 d133320e4208 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4216 d133320e4211 ">
                                    <p>VM object</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d133320e4226" headers="d133320e4205 "><pre class="oac_no_warn" dir="ltr">uri</pre></td>
                                 <td align="left" valign="top" width="12%" headers="d133320e4226 d133320e4208 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                                 <td align="left" valign="top" width="62%" headers="d133320e4226 d133320e4211 ">
                                    <p>URI of XML document to transform</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-41CC23F3-30D0-428B-B73C-AF174F42214A">Returns</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">(xmlerr)</code> error code.
                        </p>
                        <div class="infoboxnotealso" id="GUID-D2D1D312-948F-4258-9190-7FED51DCB164__GUID-7C732CD9-AEFE-431E-81B7-2892F0C43135">
                           <p class="notep1">See Also:</p>
                           <p><a href="package-XSLTVM-API.html#GUID-1E343A8E-5E17-4761-9830-5F315DC62315">XmlXvmTransformFile()</a>, <a href="package-XSLTVM-API.html#GUID-9CCFFA9B-2738-42F9-A065-42AF13A6A446">XmlXvmTransformBuffer()</a>, <a href="package-XSLTVM-API.html#GUID-C195EEB7-2EA9-4CCD-A655-2169317A047E">XmlXvmTransformDom()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='06172.replaying-a-database-workload.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="After a captured workload is preprocessed, it can be replayed repeatedly on a replay system that is running the same version of Oracle Database.">
      <meta name="description" content="After a captured workload is preprocessed, it can be replayed repeatedly on a replay system that is running the same version of Oracle Database.">
      <title>Replaying a Database Workload</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Testing Guide ">
      <meta property="og:description" content="After a captured workload is preprocessed, it can be replayed repeatedly on a replay system that is running the same version of Oracle Database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Testing Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="testing-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:43:11-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2008, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96279-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="preprocessing-a-database-workload.html" title="Previous" type="text/html">
      <link rel="next" href="analyzing-captured-and-replayed-workloads.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Testing Guide">
    <meta name="dcterms.isVersionOf" content="RATUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="preprocessing-a-database-workload.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="analyzing-captured-and-replayed-workloads.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Testing Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-replay.html" property="item" typeof="WebPage"><span property="name"> Database Replay </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Replaying a Database Workload </li>
            </ol>
            <a id="GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B" name="GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B"></a><a id="RATUG131"></a>
            
            <h2 id="RATUG-GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B" class="sect2"><span class="enumeration_chapter">12 </span>Replaying a Database Workload 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div><span>After a captured workload is preprocessed, it can be replayed repeatedly on a replay system that is running the same version of Oracle Database.</span> Typically, the replay system where the preprocessed workload will be replayed should be a test system that is separate from the production system.
               </div>
               <p>This chapter describes how to replay a database workload on the test system and contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" title="Proper preparation of the replay system and planning of the workload replay ensures that the replay will be accurate.">Steps for Replaying a Database Workload</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-B97B7550-A947-45D0-A31B-636A6427DD86" title="This section describes how to replay a database workload using Enterprise Manager.">Replaying a Database Workload Using Enterprise Manager</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-F4B0C255-243D-4C85-A003-F876AA25E845" title="The replay schedule feature enables you to scale up the instances of captured workloads to be included in a consolidated replay, and then control the relative playback scheduling of the instances within the replay.">Setting Up the Replay Schedule and Parameters Using Enterprise Manager</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-64593639-9102-4C30-8EB9-71F28ABED05A" title="This section describes how to monitor workload replay using Enterprise Manager. The primary tool for monitoring workload replay is Oracle Enterprise Manager.">Monitoring Workload Replay Using Enterprise Manager</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490" title="As with importing workloads external to Enterprise Manager, you can import replays into Enterprise Manager to manage them.">Importing a Replay External to Enterprise Manager</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" title="This section describes how to replay a database workload using the DBMS_WORKLOAD_REPLAY package.">Replaying a Database Workload Using APIs</a></p>
                  </li>
                  <li>
                     <p><a href="replaying-a-database-workload.html#GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" title="This section describes how to monitor workload replay using APIs and views.">Monitoring Workload Replay Using APIs</a></p>
                  </li>
               </ul>
               <div class="infobox-tip" id="GUID-1F638D8F-7168-492D-BAD6-39F4F36EAD9B__GUID-819370F5-6614-43E8-9293-BF794AE4AA1C">
                  <p class="notep1">Tip:</p>
                  <p>Before you can replay a database workload, you must first:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Capture the workload on the production system, as described in <a href="capturing-a-database-workload.html#GUID-E774C161-98C0-43EF-8B78-DD74E2A2A219" title="This chapter describes how to capture a database workload on the production system.">Capturing a Database Workload</a></p>
                     </li>
                     <li>
                        <p>Preprocess the captured workload, as described in <a href="preprocessing-a-database-workload.html#GUID-4CEE2F79-F5A7-4EBA-9018-0CB99AB51C0A" title="After a workload is captured and setup of the test system is complete, the captured data must be preprocessed.">Preprocessing a Database Workload</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="RATUG135"></a><div class="props_rev_3"><a id="GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" name="GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F"></a><h3 id="RATUG-GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" class="sect3"><span class="enumeration_section">12.1 </span>Steps for Replaying a Database Workload
               </h3>
               <div>
                  <div><span>Proper preparation of the replay system and planning of the workload replay ensures that the replay will be accurate.</span> Before replaying a database workload, complete the following steps to prepare the replay system and the workload replay:
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC" title="The captured workload must have been preprocessed and copied to the replay system. A directory object for the directory to which the preprocessed workload is copied must exist in the replay system.">Setting Up the Replay Directory</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384" title="Before a workload can be replayed, the application data state on the replay system should be logically equivalent to that of the capture system at the start time of workload capture. This minimizes replay divergence during replay. The method for restoring the database depends on the backup method that was used before capturing the workload.">Restoring the Database</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4" title="A captured workload may contain references to external systems, such as database links or external tables. Typically, you should reconfigure these external interactions to avoid impacting other production systems during replay.">Resolving References to External Systems</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" title="During workload capture, connection strings used to connect to the production system are captured. In order for the replay to succeed, you need to remap these connection strings to the replay system. The replay clients can then connect to the replay system using the remapped connections.">Connection Remapping</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" title="During workload capture, the username of the database user or schema used to connect to the production system is captured. You can choose to remap the captured username to that of a new user or schema.">User Remapping</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-289F573A-9C83-4A29-A1D4-323705E8293D" title="After the database is restored, and connections and users are remapped, you can set the appropriate replay options.">Specifying Replay Options</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" title="By default, all captured database calls are replayed during workload replay. You can use workload filters to specify which database calls to include in or exclude from the workload during workload replay.">Using Filters with Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" title="At this point, you need to set up and start the replay clients, which will connect to the replay system and send requests based on what has been captured in the workload.">Setting Up Replay Clients</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG136"></a><div class="props_rev_3"><a id="GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC" name="GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC"></a><h4 id="RATUG-GUID-8E08DCF5-5AC2-44CE-B49B-B2765C5673CC" class="sect4"><span class="enumeration_section">12.1.1 </span>Setting Up the Replay Directory
                  </h4>
                  <p>The captured workload must have been preprocessed and copied to the replay system. A directory object for the directory to which the preprocessed workload is copied must exist in the replay system.</p>
               </div><a id="RATUG133"></a><div class="props_rev_3"><a id="GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384" name="GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384"></a><h4 id="RATUG-GUID-076EFFC4-D4EA-4F75-88E6-9766713BD384" class="sect4"><span class="enumeration_section">12.1.2 </span>Restoring the Database
                  </h4>
                  <div>
                     <div><span>Before a workload can be replayed, the application data state on the replay system should be logically equivalent to that of the capture system at the start time of workload capture. This minimizes replay divergence during replay. The method for restoring the database depends on the backup method that was used before capturing the workload.</span> For example, if RMAN was used to back up the capture system, you can use RMAN <code class="codeph">DUPLICATE</code> capabilities to create the test database. For more information, see <span class="q">"<a href="capturing-a-database-workload.html#GUID-372BA03D-7A24-4300-A0AE-30E0D9D9C724" title="Before starting a workload capture, you should have a strategy in place to restore the database on the test system.">Prerequisites for Capturing a Database Workload</a>"</span>.
                     </div>
                     <p>After the database is created with the appropriate application data on the replay system, perform the system change you want to test, such as a database or operating system upgrade. The primary purpose of Database Replay is to test the effect of system changes on a captured workload. Therefore, the system changes you make should define the test you are conducting with the captured workload.</p>
                  </div>
               </div><a id="RATUG137"></a><div class="props_rev_3"><a id="GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4" name="GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4"></a><h4 id="RATUG-GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4" class="sect4"><span class="enumeration_section">12.1.3 </span>Resolving References to External Systems
                  </h4>
                  <div>
                     <div><span>A captured workload may contain references to external systems, such as database links or external tables. Typically, you should reconfigure these external interactions to avoid impacting other production systems during replay.</span> External references that need to be resolved before replaying a workload include:
                     </div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Database links</p>
                           <p>It is typically not desirable for the replay system to interact with other databases. Therefore, you should reconfigure all database links to point to an appropriate database that contains the data needed for replay.</p>
                        </li>
                        <li>
                           <p>External tables</p>
                           <p>All external files specified using directory objects referenced by external tables need to be available to the database during replay. The content of these files should be the same as during capture, and the filenames and directory objects used to define the external tables should also be valid.</p>
                        </li>
                        <li>
                           <p>Directory objects</p>
                           <p>You should reconfigure any references to directories on the production system by appropriately redefining the directory objects present in the replay system after restoring the database.</p>
                        </li>
                        <li>
                           <p>URLs</p>
                           <p>URLs/URIs that are stored in the database need to be configured so that Web services accessed during the workload capture will point to the proper URLs during replay. If the workload refers to URLs that are stored in the production system, you should isolate the test system network during replay.</p>
                        </li>
                        <li>
                           <p>E-mails</p>
                           <p>To avoid resending E-mail notifications during replay, any E-mail server accessible to the replay system should be configured to ignore requests for outgoing E-mails.</p>
                        </li>
                     </ul>
                     <div class="infobox-tip" id="GUID-5ACBE3DE-4919-46B6-8D8D-20B8CA132AC4__GUID-8E8F665B-D35F-4F00-B0F1-CA819DD33B70">
                        <p class="notep1">Tip:</p>
                        <p>To avoid impacting other production systems during replay, Oracle strongly recommends running the replay within an isolated private network that does not have access to the production environment hosts.</p>
                     </div>
                  </div>
               </div><a id="RATUG138"></a><div class="props_rev_3"><a id="GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" name="GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B"></a><h4 id="RATUG-GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" class="sect4"><span class="enumeration_section">12.1.4 </span>Connection Remapping
                  </h4>
                  <div>
                     <p>During workload capture, connection strings used to connect to the production system are captured. In order for the replay to succeed, you need to remap these connection strings to the replay system. The replay clients can then connect to the replay system using the remapped connections.</p>
                     <p>For Oracle Real Application Clusters (Oracle RAC) databases, you can map all connection strings to a load balancing connection string. This is especially useful if the number of nodes on the replay system is different from the capture system. Alternatively, if you want to direct workload to specific instances, you can use services or explicitly specify the instance identifier in the remapped connection strings.</p>
                  </div>
               </div><a id="RATUG4067"></a><div class="props_rev_3"><a id="GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" name="GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24"></a><h4 id="RATUG-GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" class="sect4"><span class="enumeration_section">12.1.5 </span>User Remapping
                  </h4>
                  <p>During workload capture, the username of the database user or schema used to connect to the production system is captured. You can choose to remap the captured username to that of a new user or schema.</p>
               </div><a id="RATUG139"></a><div class="props_rev_3"><a id="GUID-289F573A-9C83-4A29-A1D4-323705E8293D" name="GUID-289F573A-9C83-4A29-A1D4-323705E8293D"></a><h4 id="RATUG-GUID-289F573A-9C83-4A29-A1D4-323705E8293D" class="sect4"><span class="enumeration_section">12.1.6 </span>Specifying Replay Options
                  </h4>
                  <div>
                     <div><span>After the database is restored, and connections and users are remapped, you can set the appropriate replay options.</span> For example:
                     </div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF" title="The synchronization parameter controls the synchronization method used for database replay.">Specifying the Synchronization Method</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-776F6E15-7429-4434-B4BC-8FEA180DB708" title="The connect_time_scale parameter enables you to scale the elapsed time between the time when the workload capture began and each session connects.">Controlling Session Connection Rate</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-D8D4EEE8-AB75-453B-B696-35A99263504F" title="User think time is the elapsed time while the replayed user waits between issuing calls within a single session.">Controlling Request Rate Within a Session</a></p>
                        </li>
                     </ul>
                  </div><a id="RATUG140"></a><div class="props_rev_3"><a id="GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF" name="GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF"></a><h5 id="RATUG-GUID-72101FAD-1C09-4F15-A691-EAE0EDE86ACF" class="sect5"><span class="enumeration_section">12.1.6.1 </span>Specifying the Synchronization Method
                     </h5>
                     <div>
                        <p>The <code class="codeph">synchronization</code> parameter controls the synchronization method used for database replay.
                        </p>
                        <p>If the parameter is set to <code class="codeph">TIME</code>, the replay will use the same wall-clock timing as the capture. All database session login times will be replayed exactly as the capture. Likewise, all timing between transactions within database sessions will be preserved and replayed as captured. This synchronization method will produce good replays for most workloads.
                        </p>
                        <p>If this parameter is set to <code class="codeph">SCN</code>, the <code class="codeph">COMMIT</code> order in the captured workload will be observed during replay and all replay actions will be executed only after all dependent <code class="codeph">COMMIT</code> actions have completed. This  synchronization method may introduce significant delays for some workloads. If this is the case, it is recommended to use <code class="codeph">TIME</code> as the <code class="codeph">synchronization</code> parameter.
                        </p>
                        <p>If this parameter is set to <code class="codeph">OBJECT_ID</code>, all replay actions will be executed only after all relevant <code class="codeph">COMMIT</code> actions have completed. Relevant <code class="codeph">COMMIT</code> actions must meet the following criteria:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Issued before the given action in the workload capture</p>
                           </li>
                           <li>
                              <p>Modified at least one of the database objects for which the given action is referencing, either implicitly or explicitly</p>
                           </li>
                        </ul>
                        <p>Setting this parameter to <code class="codeph">OBJECT_ID</code> allows for more concurrency during workload replays for <code class="codeph">COMMIT</code> actions that do not reference the same database objects during workload capture.
                        </p>
                     </div>
                  </div><a id="RATUG141"></a><div class="props_rev_3"><a id="GUID-776F6E15-7429-4434-B4BC-8FEA180DB708" name="GUID-776F6E15-7429-4434-B4BC-8FEA180DB708"></a><h5 id="RATUG-GUID-776F6E15-7429-4434-B4BC-8FEA180DB708" class="sect5"><span class="enumeration_section">12.1.6.2 </span>Controlling Session Connection Rate
                     </h5>
                     <div><span>The <code class="codeph">connect_time_scale</code> parameter enables you to scale the elapsed time between the time when the workload capture began and each session connects.</span> You can use this option to manipulate the session connect time during replay with a given percentage value. The default value is 100, which will attempt to connect all sessions as captured. Setting this parameter to 0 will attempt to connect all sessions immediately.
                     </div>
                  </div><a id="RATUG142"></a><div class="props_rev_3"><a id="GUID-D8D4EEE8-AB75-453B-B696-35A99263504F" name="GUID-D8D4EEE8-AB75-453B-B696-35A99263504F"></a><h5 id="RATUG-GUID-D8D4EEE8-AB75-453B-B696-35A99263504F" class="sect5"><span class="enumeration_section">12.1.6.3 </span>Controlling Request Rate Within a Session
                     </h5>
                     <div>
                        <div><span>User think time is the elapsed time while the replayed user waits between issuing calls within a single session.</span> To control replay speed, use the <code class="codeph">think_time_scale</code> parameter to scale user think time during replay.
                        </div>
                        <p>If user calls are being executed slower during replay than during capture, you can make the database replay attempt to catch up by setting the <code class="codeph">think_time_auto_correct</code> parameter to <code class="codeph">TRUE</code>. This will make the replay client shorten the think time between calls, so that the overall elapsed time of the replay will more closely match the captured elapsed time.
                        </p>
                        <p>If user calls are being executed faster during replay than during capture, setting the <code class="codeph">think_time_auto_correct</code> parameter to <code class="codeph">TRUE</code> will not change the think time. The replay client will not increase the think time between calls to match the captured elapsed time.
                        </p>
                     </div>
                  </div>
               </div><a id="RATUG261"></a><div class="props_rev_3"><a id="GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" name="GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE"></a><h4 id="RATUG-GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" class="sect4"><span class="enumeration_section">12.1.7 </span>Using Filters with Workload Replay
                  </h4>
                  <div>
                     <p>By default, all captured database calls are replayed during workload replay. You can use workload filters to specify which database calls to include in or exclude from the workload during workload replay.</p>
                     <p>Workload replay filters are first defined and then added to a <a id="d22870e1258" class="indexterm-anchor"></a>replay filter set so they can be used in a workload replay. There are two types of workload filters: inclusion filters and exclusion filters. <a id="d22870e1265" class="indexterm-anchor"></a>Inclusion filters enable you to specify database calls that will be replayed. <a id="d22870e1272" class="indexterm-anchor"></a>Exclusion filters enable you to specify database calls that will not be replayed. You can use either inclusion filters or exclusion filters in a workload replay, but not both. The workload filter is determined as an inclusion or exclusion filter when the replay filter set is created.
                     </p>
                  </div>
               </div><a id="RATUG143"></a><div class="props_rev_3"><a id="GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" name="GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F"></a><h4 id="RATUG-GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" class="sect4"><span class="enumeration_section">12.1.8 </span>Setting Up Replay Clients
                  </h4>
                  <div>
                     <div>The replay client is a multithreaded program (an executable named <code class="codeph">wrc</code> located in the <code class="codeph">$ORACLE_HOME/bin</code> directory) where each thread submits a workload from a captured session. Before replay begins, the database will wait for replay clients to connect.  <span>At this point, you need to set up and start the replay clients, which will connect to the replay system and send requests based on what has been captured in the workload.</span></div>
                     <p>Before starting replay clients, ensure that the:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Replay client software is installed on the hosts where it will run</p>
                        </li>
                        <li>
                           <p>Replay clients have access to the replay directory</p>
                        </li>
                        <li>
                           <p>Replay directory contains the preprocessed workload capture</p>
                        </li>
                        <li>
                           <p>Replay user has the correct user ID, password, and privileges (the replay user needs the DBA role and cannot be the <code class="codeph">SYS</code> user)
                           </p>
                        </li>
                        <li>
                           <p>Replay clients are not started on a system that is running the database</p>
                        </li>
                        <li>
                           <p>Replay clients read the capture directory on a file system that is different from the one on which the database files reside</p>
                           <p>To do this, copy the capture directory to the system where the replay client will run. After the replay is completed, you can delete the capture directory.</p>
                        </li>
                     </ul>
                     <p>After these prerequisites are met, you can proceed to set up and start the replay clients using the <code class="codeph">wrc</code> executable. The <code class="codeph">wrc</code> executable uses the following syntax:
                     </p><pre class="oac_no_warn" dir="ltr">wrc [user/password[@server]] MODE=[value] [keyword=[value]]
</pre><p>The parameters <code class="codeph">user</code>, <code class="codeph">password</code> and <code class="codeph">server</code> specify the username, password and connection string used to connect to the replay database. The parameter <code class="codeph">mode</code> specifies the mode in which to run the <code class="codeph">wrc</code> executable. Possible values include <code class="codeph">replay</code> (the default), <code class="codeph">calibrate</code>, and <code class="codeph">list_hosts</code>. The parameter <code class="codeph">keyword</code> specifies the options to use for the execution and is dependent on the mode selected. To display the possible keywords and their corresponding values, run the <code class="codeph">wrc</code> executable without any arguments.
                     </p>
                     <p>The following sections describe the modes that you can select when running the <code class="codeph">wrc</code> executable:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6" title="Since one replay client can initiate multiple sessions with the database, it is not necessary to start a replay client for each session that was captured. The number of replay clients that need to be started depends on the number of workload streams, the number of hosts, and the number of replay clients for each host.">Calibrating Replay Clients</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" title="After determining the number of replay clients that are needed to replay the workload, you need to start the replay clients by running the wrc executable in replay mode on the hosts where they are installed.">Starting Replay Clients</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-CFB2030D-C77B-495F-98CF-10953D2A937B" title="You can display the hosts that participated in a workload capture and workload replay by running the wrc executable in list_hosts mode.">Displaying Host Information</a></p>
                        </li>
                     </ul>
                  </div><a id="RATUG144"></a><div class="props_rev_3"><a id="GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6" name="GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6"></a><h5 id="RATUG-GUID-4316A9DF-554D-481E-987A-90D06E5AE7F6" class="sect5"><span class="enumeration_section">12.1.8.1 </span>Calibrating Replay Clients
                     </h5>
                     <div>
                        <p>Since one replay client can initiate multiple sessions with the database, it is not necessary to start a replay client for each session that was captured. The number of replay clients that need to be started depends on the number of workload streams, the number of hosts, and the number of replay clients for each host.</p>
                        <p>To estimate the number of replay clients and hosts that are required to replay a particular workload, run the <code class="codeph">wrc</code> executable in <a id="d22870e1565" class="indexterm-anchor"></a>calibrate mode.
                        </p>
                        <p>In calibrate mode, the <code class="codeph">wrc</code> executable accepts the following keywords:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">replaydir</code> specifies the directory that contains the preprocessed workload capture you want to replay. If unspecified, it defaults to the current directory.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">process_per_cpu</code> specifies the maximum number of client processes that can run per CPU. The default value is 4.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">threads_per_process</code> specifies the maximum number of threads that can run within a client process. The default value is 50.
                              </p>
                           </li>
                        </ul>
                        <p>The following example shows how to run the <code class="codeph">wrc</code> executable in calibrate mode:
                        </p><pre class="oac_no_warn" dir="ltr">%&gt; wrc mode=calibrate replaydir=./replay
</pre><p>In this example, the <code class="codeph">wrc</code> executable is executed to estimate the number of replay clients and hosts that are required to replay the workload capture stored in a subdirectory named <code class="codeph">replay</code> under the current directory. In the following sample output, the recommendation is to use at least 21 replay clients divided among 6 CPUs:
                        </p><pre class="oac_no_warn" dir="ltr">Workload Replay Client: Release 12.1.0.0.1 - Production on Fri Sept 30
13:06:33 2011
 
Copyright (c) 1982, 2011, Oracle.  All rights reserved.
 
Report for Workload in: /oracle/replay/
-----------------------
 
Recommendation:
Consider using at least 21 clients divided among 6 CPU(s).
 
Workload Characteristics:
- max concurrency: 1004 sessions
- total number of sessions: 1013
 
Assumptions:
- 1 client process per 50 concurrent sessions
- 4 client process per CPU
- think time scale = 100
- connect time scale = 100
- synchronization = TRUE
</pre></div>
                  </div><a id="RATUG145"></a><div class="props_rev_3"><a id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" name="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB"></a><h5 id="RATUG-GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" class="sect5"><span class="enumeration_section">12.1.8.2 </span>Starting Replay Clients
                     </h5>
                     <div>
                        <div><span>After determining the number of replay clients that are needed to replay the workload, you need to start the replay clients by running the <code class="codeph">wrc</code> executable in replay mode on the hosts where they are installed.</span> Once started, each replay client will initiate one or more sessions with the database to drive the workload replay.
                        </div>
                        <p>In replay mode, the <code class="codeph">wrc</code> executable accepts the following keywords:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">userid</code> and <code class="codeph">password</code> specify the user ID and password of a replay user for the replay client. If unspecified, these values default to the <code class="codeph">system</code> user.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">server</code> specifies the connection string that is used to connect to the replay system. If unspecified, the value defaults to an empty string.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">replaydir</code> specifies the directory that contains the preprocessed workload capture you want to replay. If unspecified, it defaults to the current directory.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">workdir</code> specifies the directory where the client logs will be written. This parameter is only used with the <code class="codeph">debug</code> parameter for debugging purposes.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">debug</code> specifies whether debug data will be created. Possible values include:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">on</code></p>
                                    <p>Debug data will be written to files in the working directory</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">off</code></p>
                                    <p>No debug data will be written (the default value)</p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-737330EF-05AB-4019-938A-826A8483579B">
                                 <p class="notep1">Note:</p>
                                 <p>Before running the <code class="codeph">wrc</code> executable in debug mode, contact Oracle Support for more information.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p><code class="codeph">connection_override</code> specifies whether to override the connection mappings stored in the <code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code> view. If set to <code class="codeph">TRUE</code>, connection remappings stored in the <code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code> view will be ignored and the connection string specified using the <code class="codeph">server</code> parameter will be used. If set to <code class="codeph">FALSE</code>, all replay threads will connect using the connection remappings stored in the <code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code> view. This is the default setting.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">walletdir</code> points to the location of the auto-login software keystore directory. The default value is an empty string. <code class="codeph">walletdir</code> is mandatory during the replay of an encrypted workload capture. For a non-encrypted capture, <code class="codeph">walletdir</code> must not be set and it defaults to an empty string.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-E881A619-7410-41DF-98A6-3275FD811F63">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>For an encrypted workload capture, you must set the password using the <code class="codeph">oracle.rat.database_replay.encryption</code> (case-sensitive) identifier. The password is stored in the auto-login software keystore.
                                 </p>
                              </li>
                              <li>
                                 <p>During replay of encrypted workload capture, you must set up a separate client-side software keystore. For example:</p><pre class="pre codeblock"><code>rm -rf <span class="italic">keystore_location</span> 
mkdir <span class="italic">keystore_location</span> 
mkstore -wrl <span class="italic">keystore_location</span> -create 
mkstore -wrl <span class="italic">keystore_location</span> -createEntry 'oracle.rat.database_replay.encryption' <span class="italic">secret_key</span> 
mkstore -wrl <span class="italic">keystore_location</span> -createSSO </code></pre><p><code class="codeph"><span class="codeinlineitalic">secret_key</span></code> must match the <code class="codeph"><span class="codeinlineitalic">secret_key</span></code> that was used in the server-side software keystore which was created during the encryption of the workload capture.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>After all replay clients have connected, the database will automatically distribute workload capture streams among all available replay clients and workload replay can begin. You can monitor the status of the replay clients using the <code class="codeph">V$WORKLOAD_REPLAY_THREAD</code> view. After the replay finishes, all replay clients will disconnect automatically.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-75980CA5-8D9E-4165-9E0E-E6FB1EB71232">Example: Running wrc executable in replay mode for a non-encrypted capture</p>
                           <p>The following example shows how to run the <code class="codeph">wrc</code> executable in replay mode:
                           </p><pre class="oac_no_warn" dir="ltr">%&gt; wrc system/password@test mode=replay replaydir=./replay
</pre><p>In this example, the <code class="codeph">wrc</code> executable starts the replay client to replay the workload capture stored in a subdirectory named <code class="codeph">replay</code> under the current directory.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB__GUID-9E3E00FB-6960-4B1B-96D1-871633756E0F">Example: Running wrc executable in replay mode for an encrypted capture</p>
                           <p>The following example shows how to run the <code class="codeph">wrc</code> executable in replay mode for an encrypted workload capture:
                           </p><pre class="pre codeblock"><code>%&gt; wrc system/password@test mode=replay replaydir=./replay walletdir=/tmp/replay_encrypt_cwallet</code></pre><p>In this example, the <code class="codeph">wrc</code> executable starts the replay client to replay the workload capture stored in a subdirectory named <code class="codeph">replay</code> under the current directory. <code class="codeph">walletdir</code> points to the location of the auto-login software keystore directory.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG146"></a><div class="props_rev_3"><a id="GUID-CFB2030D-C77B-495F-98CF-10953D2A937B" name="GUID-CFB2030D-C77B-495F-98CF-10953D2A937B"></a><h5 id="RATUG-GUID-CFB2030D-C77B-495F-98CF-10953D2A937B" class="sect5"><span class="enumeration_section">12.1.8.3 </span>Displaying Host Information
                     </h5>
                     <div>
                        <p>You can display the hosts that participated in a workload capture and workload replay by running the <code class="codeph">wrc</code> executable in list_hosts mode.
                        </p>
                        <p>In list_hosts mode, the <code class="codeph">wrc</code> executable accepts the keyword <code class="codeph">replaydir</code>, which specifies the directory that contains the preprocessed workload capture you want to replay. If unspecified, it defaults to the current directory.
                        </p>
                        <p>The following example shows how to run the <code class="codeph">wrc</code> executable in list_hosts mode:
                        </p><pre class="oac_no_warn" dir="ltr">%&gt; wrc mode=list_hosts replaydir=./replay
</pre><p>In this example, the <code class="codeph">wrc</code> executable is executed to list all hosts that participated in capturing or replaying the workload capture stored in a subdirectory named <code class="codeph">replay</code> under the current directory. In the following sample output, the hosts that participated in the workload capture and three subsequent replays are shown:
                        </p><pre class="oac_no_warn" dir="ltr">Workload Replay Client: Release 12.1.0.0.1 - Production on Fri Sept 30
13:44:48 2011
 
Copyright (c) 1982, 2011, Oracle.  All rights reserved.
 
Hosts found:
Capture:
        prod1
        prod2
Replay 1:
        test1
Replay 2:
        test1
        test2
Replay 3:
        testwin
</pre></div>
                  </div>
               </div>
            </div><a id="RATUG262"></a><a id="RATUG147"></a><div class="props_rev_3"><a id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86" name="GUID-B97B7550-A947-45D0-A31B-636A6427DD86"></a><h3 id="RATUG-GUID-B97B7550-A947-45D0-A31B-636A6427DD86" class="sect3"><span class="enumeration_section">12.2 </span>Replaying a Database Workload Using Enterprise Manager
               </h3>
               <div>
                  <p>This section describes how to replay a database workload using Enterprise Manager.</p>
                  <div class="p">Before proceeding, you must already have created a replay task and created a replay from the replay task. To do this, see <span class="q">"<a href="preprocessing-a-database-workload.html#GUID-07329403-B681-4278-81F3-B72803E83B44" title="Several tasks are involved in preparing a single workload.">Preparing a Single Database Workload Using Enterprise Manager</a>"</span>.
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The primary tool for replaying database workloads is Oracle Enterprise Manager. If Oracle Enterprise Manager is unavailable, you can also replay database workloads using APIs, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" title="This section describes how to replay a database workload using the DBMS_WORKLOAD_REPLAY package.">Replaying a Database Workload Using APIs</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-1A85F1EA-EA18-44DA-B4F9-424D55CC1F4F">To replay a database workload using Enterprise Manager:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>From the Enterprise menu of the Enterprise Manager Cloud Control console, select <span class="bold">Quality Management</span>, then <span class="bold">Database Replay</span>.
                           </p>
                           <p>If the Database Login page appears, log in as a user with administrator privileges.</p>
                           <p>The Database Replay page appears.</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-327EBB40-F190-4AE0-B2D7-FCF985C88FFE"><img src="img/dbr.gif" width="505" alt="Description of dbr.gif follows" title="Description of dbr.gif follows" longdesc="img_text/dbr.html"><br><a href="img_text/dbr.html">Description of the illustration dbr.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Select the <span class="bold">Replay Tasks</span> tab, then click the link for the desired replay task in the table.
                           </p>
                           <p>The Replay Task page for the replay appears.</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-4CE3CACE-9C14-4581-BCEB-B354262FFD97"><img src="img/dbr_replay_tasks.gif" width="509" alt="Description of dbr_replay_tasks.gif follows" title="Description of dbr_replay_tasks.gif follows" longdesc="img_text/dbr_replay_tasks.html"><br><a href="img_text/dbr_replay_tasks.html">Description of the illustration dbr_replay_tasks.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Click <span class="bold">Create</span> in the Replays section to create the replay.
                           </p>
                           <p>The Create Replay pop-up appears.</p>
                        </li>
                        <li>
                           <p>Provide a required Name and optional description, then click the <span class="bold">Target Database</span> icon.
                           </p>
                           <p>The Search and Select: Targets pop-up appears.</p>
                        </li>
                        <li>
                           <p>Choose the appropriate database, then click <span class="bold">Select</span>.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span> in the Create Replay pop-up.
                           </p>
                           <p>The Database Replay page for your replay appears, which includes a Task List with a link to perform the replay.</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-FBF0506B-F50B-46AE-BB4B-7AD7117C0D3A"><img src="img/dbr_replay_workload.gif" width="509" alt="Description of dbr_replay_workload.gif follows" title="Description of dbr_replay_workload.gif follows" longdesc="img_text/dbr_replay_workload.html"><br><a href="img_text/dbr_replay_workload.html">Description of the illustration dbr_replay_workload.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Click the link for the <span class="bold">Replay Workload</span> task.
                           </p>
                           <p>The Replay Workload: Locate Workload page appears.</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-0CBF7B07-FE09-4E55-A5D7-00A2FEA38CA9"><img src="img/dbr_replay_loc_wkload.gif" width="511" alt="Description of dbr_replay_loc_wkload.gif follows" title="Description of dbr_replay_loc_wkload.gif follows" longdesc="img_text/dbr_replay_loc_wkload.html"><br><a href="img_text/dbr_replay_loc_wkload.html">Description of the illustration dbr_replay_loc_wkload.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Select the desired workload location option. </p>
                           <p>If you have not previously copied the workload from its storage location to the replay location where the replay clients can access it, select the option to copy the workload. Otherwise, select the option to use the existing replay directory that contains the workload to be replayed.</p>
                           <p>Click <span class="bold">Next</span> to display the Replay Workload: Copy Workload page.
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-B7775211-FD41-43EA-A70A-45FD8C2E9C81"><img src="img/dbr_replay_copy_wkload.gif" width="511" alt="Description of dbr_replay_copy_wkload.gif follows" title="Description of dbr_replay_copy_wkload.gif follows" longdesc="img_text/dbr_replay_copy_wkload.html"><br><a href="img_text/dbr_replay_copy_wkload.html">Description of the illustration dbr_replay_copy_wkload.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Provide the required credentials and the new location of the workload directory to which you want to copy the workload, then click <span class="bold">Next</span>.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>There are multiple source workloads for a consolidated replay, so multiple source credentials might be needed for the current location of the workload directory. For more information on consolidated replays, see <span class="q">"<a href="using-consolidated-database-replay.html#GUID-BBC96414-F08A-4D57-BA72-B28C1BBEE9F2" title="This section describes how to use Consolidated Database Replay with Enterprise Manager.">Using Consolidated Database Replay with Enterprise Manager</a>."</span></p>
                              </li>
                           </ul>
                           <p>The system responds by displaying a progress bar graph during processing, then displays the Replay Workload: Select Directory page after the copy operation concludes.</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-434D9C21-AFF9-4455-8000-D54F8C9302CC"><img src="img/dbr_replay_select_dir.gif" width="440" alt="Description of dbr_replay_select_dir.gif follows" title="Description of dbr_replay_select_dir.gif follows" longdesc="img_text/dbr_replay_select_dir.html"><br><a href="img_text/dbr_replay_select_dir.html">Description of the illustration dbr_replay_select_dir.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Specify the Directory Object, or create a new Directory Object that points to the location that contains the workload. If you chose to copy from the workload location to a new location in the previous step, make sure that the directory object points to the exact location you specified in the New Location of the Workload Directory section.</p>
                           <p>The system responds by displaying a Capture Summary. You can expand the Capture Details section to see the workload profile and workload filters. You can also generate a Workload Capture Analyzer Report and Database Capture Report. The Capture Summary does not appear for consolidated replays.</p>
                           <p>Click <span class="bold">Next</span> to display the Replay Workload: Initialize Options page.
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-7B2C38C2-1906-4503-B9C2-E868BBF6C219"><img src="img/dbr_replay_init_options.gif" width="437" alt="Description of dbr_replay_init_options.gif follows" title="Description of dbr_replay_init_options.gif follows" longdesc="img_text/dbr_replay_init_options.html"><br><a href="img_text/dbr_replay_init_options.html">Description of the illustration dbr_replay_init_options.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>In the SQL Performance Analyzer section, retain or disable the Capture SQL Statements option, which is enabled by default and recommended. You can disable this option if you do not want to compare SQL tuning sets at the end of the replay.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The SQL Performance Analyzer can initiate an impact analysis of environmental changes on the performance of SQL statements within a SQL Tuning Set. You can create and analyze SQL Performance Analyzer tasks to test the effects of a database upgrade, initialization parameter change, Exadata simulation, or custom experiments. A task compares the effects of before-trial changes with after-trial changes.</p>
                                 <p>Although Database Replay provides an analysis of how a change affects your entire system, you can use a SQL tuning set in conjunction with the SQL Performance Analyzer to gain a more SQL-centric analysis of how the change affects SQL statements and execution plans.</p>
                                 <p>By capturing a SQL tuning set during workload replay, you can use SQL Performance Analyzer to compare this SQL tuning set to another SQL tuning set captured during workload capture, without having to re-execute the SQL statements. This enables you to obtain a SQL Performance Analyzer report and compare the SQL performance, before and after change, while running Database Replay.</p>
                              </li>
                              <li>
                                 <p>In the Identify Source section, initial replay options refer to the connection mappings and parameters on the Customize Options page. Connections are captured along with the workload. </p>
                                 <div class="infoboxnote" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-C05ECE62-389B-4C2A-9CA9-32842967DB84">
                                    <p class="notep1">Note:</p>
                                    <p>This section does not appear for consolidated replays or Oracle RAC.</p>
                                 </div>
                              </li>
                           </ul>
                           <p>Click <span class="bold">Next</span> to display the Replay Workload: Customize Options page.
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-565A1FA8-F5C8-4742-8DF6-E7051C84715A"><img src="img/dbr_replay_cust_options.gif" width="435" alt="Description of dbr_replay_cust_options.gif follows" title="Description of dbr_replay_cust_options.gif follows" longdesc="img_text/dbr_replay_cust_options.html"><br><a href="img_text/dbr_replay_cust_options.html">Description of the illustration dbr_replay_cust_options.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Remap captured connection strings to connection strings that point to the replay system. Note that you need to remap each capture connection. For example, in the illustration above, you would need to remap the connection for both capture12_1 and capture12_adc. </p>
                           <p>(You can remap connections per workload for consolidated replay. There is a Capture Name drop-down to choose the workload.)</p>
                           <p>Click the <span class="bold">Connection Mappings</span> tab. There are several methods you can use to remap captured connection strings. You can choose to:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">Use a single connect descriptor for all client connections</span> by selecting this option and entering the connect descriptor you want to use. The connect descriptor should point to the replay system.
                                 </p>
                                 <p>To test the connection, click <span class="bold">Test Connection</span>. If the connect descriptor is valid, an Information message is displayed to inform you that the connection was successful.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Use a single TNS net service name for all client connections</span> by selecting this option and entering the net service name you want to use. All replay clients must be able to resolve the net service name, which can be done using a local <code class="codeph">tnsnames.ora</code> file.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Use a separate connect descriptor or net service name for each client connect descriptor captured in the workload</span> by selecting this option and, for each capture system value, entering a corresponding replay system value that the replay client will be use. If you selected the "Use replay options from a previous replay" option in the Initialize Options step, the "Use a separate connect descriptor" option is selected, and the previous replay system values appear in the text field below.
                                 </p>
                                 <div class="infoboxnote" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-5CB0B54B-696E-478D-8508-9FD63A1BE52C">
                                    <p class="notep1">Note:</p>
                                    <p>This option does not apply to consolidated replays.</p>
                                 </div>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Specify the replay options using the replay parameters, which control some aspects of the replay.</p>
                           <p>To modify the replay behavior, click the <span class="bold">Replay Parameters</span> tab and enter the desired values for each replay parameter. Using the default values is recommended. For information about setting the replay parameters, see .
                           </p>
                           <p>After setting the replay parameters, click <span class="bold">Next</span>.
                           </p>
                           <p>The Replay Workload: Prepare Replay Clients page appears.</p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-AB0197E8-E153-4CBA-BA04-9D66CA8AA6A3"><img src="img/dbr_replay_prep_clients.gif" width="433" alt="Description of dbr_replay_prep_clients.gif follows" title="Description of dbr_replay_prep_clients.gif follows" longdesc="img_text/dbr_replay_prep_clients.html"><br><a href="img_text/dbr_replay_prep_clients.html">Description of the illustration dbr_replay_prep_clients.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>Ensure that the replay clients are prepared for replay:</p>
                           <p>Before proceeding, the replay clients must be set up.</p>
                           <ol type="a">
                              <li>
                                 <p>Click <span class="bold">Estimate</span> to determine how many replay clients and CPUs are required for the replay. 
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Add Replay Client Hosts</span> to add a host or hosts for the replay clients. (If you do not want to add any replay client hosts, you can still continue and start the replay clients from the command line outside of Enterprise Manager).
                                 </p>
                                 <p>The Search and Select: Replay Client Host pop-up appears.</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Specify a Target Name and then click <span class="bold">Go</span>, or just click <span class="bold">Go</span> to display the entire list of available hosts.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Choose a host and then click <span class="bold">Select</span>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>When the host name appears in the Target column of the Replay Client Hosts table, specify the number of replay clients recommended from the estimate results, then make sure that the number of CPUs listed for the host satisfies the minimum recommendation in the estimate results. You should start at least one replay client per captured workload.</p>
                              </li>
                              <li>
                                 <p>In the Configured column, click the <span class="bold">No</span> link to configure the replay client host in the pop-up that appears.
                                 </p>
                              </li>
                              <li>
                                 <p>Click <span class="bold">Apply</span> after you have finished providing input in the pop-up. The Configured column now displays Yes in the Replay Client Hosts table.
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>Click <span class="bold">Next</span> to start the replay clients and display the Replay Workload: Wait for Client Connections page.
                           </p>
                           <div class="figure" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-376B55C6-B97E-4C67-B49F-0093C1087C90"><img src="img/dbr_replay_client.gif" width="444" alt="Description of dbr_replay_client.gif follows" title="Description of dbr_replay_client.gif follows" longdesc="img_text/dbr_replay_client.html"><br><a href="img_text/dbr_replay_client.html">Description of the illustration dbr_replay_client.gif</a></div>
                           <!-- class="figure" -->
                           <div class="infoboxnote" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-D0B1A7A9-26D6-42B9-BC1E-FA0DFB2CCEA8">
                              <p class="notep1">Note:</p>
                              <p>If you have reached this step in the process from the Enterprise menu, you also need to enter credentials for the replay job and for the replay result storage host.</p>
                           </div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>As replay clients are started, the replay client connections are displayed in the Client Connections table.</p>
                              </li>
                              <li>
                                 <p>The text below the clock changes if a replay client is connected. </p>
                              </li>
                              <li>
                                 <p>The Client Connections table is populated when at least one replay client is connected. </p>
                              </li>
                           </ul>
                           <p>When all replay clients have connected, enter host credentials at the bottom of the page to start the replay job, then click <span class="bold">Next</span> to display the Replay Workload: Review page.
                           </p>
                        </li>
                        <li>
                           <p>Review the options and parameters that have been defined for the workload replay.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The value for Connected Replay Clients must be at least 1 in order to successfully submit the Replay Workload job.</p>
                              </li>
                              <li>
                                 <p>The Submit button is enabled only if at least one replay client is connected. </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>If everything appears as you have intended, click <span class="bold">Submit</span> to submit the replay job.
                           </p>
                           <p>After the replay starts, the Home tab of the Database Replay page for this replay reappears with a system message that states "The workload replay has started."</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-B97B7550-A947-45D0-A31B-636A6427DD86__GUID-4EEE0BB6-83D3-44EC-BB11-A204B438C946">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" title="During workload capture, connection strings used to connect to the production system are captured. In order for the replay to succeed, you need to remap these connection strings to the replay system. The replay clients can then connect to the replay system using the remapped connections.">Connection Remapping</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-289F573A-9C83-4A29-A1D4-323705E8293D" title="After the database is restored, and connections and users are remapped, you can set the appropriate replay options.">Specifying Replay Options</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-80A5AAE5-53E8-4775-AE5F-B43ADDB6E07F" title="At this point, you need to set up and start the replay clients, which will connect to the replay system and send requests based on what has been captured in the workload.">Setting Up Replay Clients</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" title="This section describes how to monitor an active workload replay using Enterprise Manager.">Monitoring an Active Workload Replay</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RATUG4241"></a><div class="props_rev_3"><a id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845" name="GUID-F4B0C255-243D-4C85-A003-F876AA25E845"></a><h3 id="RATUG-GUID-F4B0C255-243D-4C85-A003-F876AA25E845" class="sect3"><span class="enumeration_section">12.3 </span>Setting Up the Replay Schedule and Parameters Using Enterprise Manager
               </h3>
               <div>
                  <div><span>The replay schedule feature enables you to scale up the instances of captured workloads to be included in a consolidated replay, and then control the relative playback scheduling of the instances within the replay.</span> The relative scheduling of the captured workload instances is visually displayed by updating the alignment of the active session chart for each instance.
                  </div>
                  <div class="section">
                     <p>This feature is available for Cloud Control Database plug-in 12.1.0.5 and later releases.</p>
                     <p>This feature enables you to accomplish the following tasks:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Offset instances so that they execute at different time intervals</span></p>
                           <p>You can adjust the relative replay start time of each workload instance to align the average active sessions peak times for scheduled instances of Capture workloads. This alignment of the workload peaks potentially maximizes the load on the system, so that you can experiment with how the test system responds under different workload conditions.</p>
                        </li>
                        <li>
                           <p><span class="bold">Scale up the replay workload by adding instances of the captured workload</span></p>
                           <p>Each added instance is replayed independently of the other instances.</p>
                           <p>When you scale up a workload by specifying multiple instances of it, the default and recommended configuration is to replay the DML statements in one of the instances. All of the additional instances will only replay the query (ready-only) statements. </p>
                           <p>For example, if a workload has a SQL Insert to an employee database, you normally would want to have only one instance that executes the Insert, and the others would bypass user calls that modify the database with this Insert. However, you can override the default setting of an instance by unchecking the Replay Query-only check box to replay all statements in the workload.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-9B423D14-AF82-4262-91D2-9FBE244D6EFF">To access the Plan Replay Schedule page:</p>
                     <ol>
                        <li>
                           <p>From the Database Replay home page, click on the <span class="bold">Replay Tasks</span> tab.
                           </p>
                        </li>
                        <li>
                           <p>Click on the name of an existing replay task with more than one workload to navigate to the Replay Task page.</p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Create</span> to create a new replay.
                           </p>
                        </li>
                        <li>
                           <p>Provide the requisite information in the Create Replay pop-up, then click <span class="bold">OK</span>.
                           </p>
                           <p>The new replay appears in the Replays table. </p>
                        </li>
                        <li>
                           <p>Click the name of your new replay in the Replays table.</p>
                           <p>A Task List now appears in the Replay page.</p>
                        </li>
                        <li>
                           <p>Click the <span class="bold">Plan Replay Schedule</span> link.
                           </p>
                           <p>The Plan Replay Schedule page appears.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-1123ECD6-228B-4D99-9AB6-C7FDFF39F1C9">To scale up a replay:</p>
                     <ol>
                        <li>
                           <p>In the drop-down next to the Add Workload Instance button, select the Capture workload for which you want to add an instance.</p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Add Workload Instance</span> to add the instance. 
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-D7CED3C3-49D2-4657-8394-BDA494B90B4F">To schedule the time intervals:</p>
                     <ol>
                        <li>
                           <p>From the Replay Delay column, either leave the default value of 0 for the first capture instance, or adjust the number of minutes desired before the instance starts to execute. </p>
                        </li>
                        <li>
                           <p>Repeat the step above for each capture instance until you have set all of the values to represent how you want the performance spikes to execute for your testing needs.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-156DC0F0-D6EE-4876-B0F7-A53F1E87D549">To auto-align workload peaks:</p>
                     <ol>
                        <li>
                           <p>Click the <span class="bold">Auto-align</span> button.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-4CD4E1F9-3984-4B00-9AA9-5E0C4474ECD1">To specify query-only instances:</p>
                     <ol>
                        <li>
                           <p>For each instance that you want to be query-only, enable the <span class="bold">Replay Query-only</span> check box.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F4B0C255-243D-4C85-A003-F876AA25E845__GUID-F64C386D-48E8-4A47-96FE-B148A679262C">To review the updated schedule:</p>
                     <ol>
                        <li>
                           <p>From the Replay Task tab of the Database Replay page, click the Replay task link containing your scheduled replay.</p>
                           <p>The Replay Task page appears.</p>
                        </li>
                        <li>
                           <p>Click the scheduled replay in the Replays table.</p>
                        </li>
                        <li>
                           <p>Select the Review tab in the Replay page.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RATUG148"></a><div class="props_rev_3"><a id="GUID-64593639-9102-4C30-8EB9-71F28ABED05A" name="GUID-64593639-9102-4C30-8EB9-71F28ABED05A"></a><h3 id="RATUG-GUID-64593639-9102-4C30-8EB9-71F28ABED05A" class="sect3"><span class="enumeration_section">12.4 </span>Monitoring Workload Replay Using Enterprise Manager
               </h3>
               <div>
                  <div><span>This section describes how to monitor workload replay using Enterprise Manager. The primary tool for monitoring workload replay is Oracle Enterprise Manager.</span> Using Enterprise Manager, you can:
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Monitor or stop an active workload replay</p>
                     </li>
                     <li>
                        <p>View a completed workload replay</p>
                     </li>
                  </ul>
                  <p>If Oracle Enterprise Manager is unavailable, you can monitor workload replay using APIs and views, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" title="This section describes how to monitor workload replay using APIs and views.">Monitoring Workload Replay Using APIs</a>"</span>.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" title="This section describes how to monitor an active workload replay using Enterprise Manager.">Monitoring an Active Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-D482064E-6B26-400F-8D96-B7686F887B70" title="This section describes how to view a completed workload replay using Enterprise Manager.">Viewing a Completed Workload Replay</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG263"></a><a id="RATUG149"></a><div class="props_rev_3"><a id="GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" name="GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071"></a><h4 id="RATUG-GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071" class="sect4"><span class="enumeration_section">12.4.1 </span>Monitoring an Active Workload Replay
                  </h4>
                  <div>
                     <p>This section describes how to monitor an active workload replay using Enterprise Manager.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4803ACC1-B1E0-4668-A6BB-1BA8FAD76071__GUID-2AFC2F82-E69F-4A6A-BC43-6DED6B9B4401">To monitor an active workload replay:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>From the Database Replay page, click the <span class="bold">Replay Tasks</span> tab.</span></li>
                        <li class="stepexpand"><span>Click the name of the replay task that contains the replay for which you want to monitor replay progress.</span></li>
                        <li class="stepexpand"><span>From the Replays section of the Replay Task page, click the name of the replay you have submitted for processing in the Create Replay wizard. (The Status column for this replay should show In Progress.)</span><div>
                              <p>The Home tab of the Database Replay page appears, and the Replay Summary shows a Status of Running. </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The replay line in the Replay Progress chart updates dynamically while the replay is in progress. You can update the chart by clicking the Refresh button. </p>
                                 </li>
                                 <li>
                                    <p>The user calls line in the Replay Progress chart indicates how much of the workload the database has serviced relative to the capture at the same time. </p>
                                 </li>
                                 <li>
                                    <p>Data for the Replay Divergence Summary is not available until the replay completes.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="RATUG286"></a><a id="RATUG150"></a><div class="props_rev_3"><a id="GUID-D482064E-6B26-400F-8D96-B7686F887B70" name="GUID-D482064E-6B26-400F-8D96-B7686F887B70"></a><h4 id="RATUG-GUID-D482064E-6B26-400F-8D96-B7686F887B70" class="sect4"><span class="enumeration_section">12.4.2 </span>Viewing a Completed Workload Replay
                  </h4>
                  <div>
                     <p>This section describes how to view a completed workload replay using Enterprise Manager.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D482064E-6B26-400F-8D96-B7686F887B70__GUID-1EF6243C-817E-47AF-9EF3-538DF526DB9F">To view a completed workload replay:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>From the Database Replay page, click the <span class="bold">Replay Tasks</span> tab.</span></li>
                        <li class="stepexpand"><span>Click the name of the replay task that contains the completed replay you want to view.</span></li>
                        <li class="stepexpand"><span>From the Replays section of the Replay Task page, click the name of the replay you have submitted for processing in the Create Replay wizard. (The Status column for this replay should show Completed.)</span><div>
                              <p>The Home tab of the Database Replay page appears, and the Replay Summary shows a Status of Completed. </p>
                              <div class="figure" id="GUID-D482064E-6B26-400F-8D96-B7686F887B70__GUID-C0EDA23D-04BA-45A9-81DB-3CF9C78050D5"><img src="img/dbr_replay_completed.gif" width="508" alt="Description of dbr_replay_completed.gif follows" title="Description of dbr_replay_completed.gif follows" longdesc="img_text/dbr_replay_completed.html"><br><a href="img_text/dbr_replay_completed.html">Description of the illustration dbr_replay_completed.gif</a></div>
                              <!-- class="figure" -->
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The replay line in the User Calls chart graphically represents the replay progress during the course of the entire replay from initiation to conclusion. </p>
                                    <p>The chart shows how much time it has taken to replay the same workload compared to the elapsed time during the workload capture in terms of user calls. If the Replay line is above or to the left of the Capture line, the replay system is processing the workload faster than the capture system.</p>
                                 </li>
                                 <li>
                                    <p>Under the Replay Divergence Summary, any errors and data discrepancies between the replay system and the capture system are displayed as diverged database calls during replay. You can use the percentage of total calls that diverged as a measure of the replay quality. </p>
                                    <p>To view details about the diverged calls, click the link that corresponds to the type of diverged call in the Count column to access the Diverged Calls During Replay page. The Diverged Calls During Replay page shows the most relevant set of replayed calls that diverged from the workload captured by grouping them based on common attribute values and specified filter conditions. To view details about a particular diverged call—such as the call attributes, SQL text, and bind variables—click the corresponding link in the SQL ID column to bring up the Replay Diverged Statement page.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To return to the Database Replay page, click the Database Replay breadcrumb.</span><div>
                              <div class="infoboxnotealso" id="GUID-D482064E-6B26-400F-8D96-B7686F887B70__GUID-312E464F-D7AA-461F-B1F4-F712B4256A40">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="analyzing-captured-and-replayed-workloads.html#GUID-3E9AA9F2-B37B-4E03-9E00-FEB0A141631E" title="This chapter describes how to analyze captured and replayed workloads using various Database Replay reports.">Analyzing Captured and Replayed Workloads</a>"</span> for information about accessing workload replay reports
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="RATUG4242"></a><div class="props_rev_3"><a id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490" name="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490"></a><h3 id="RATUG-GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490" class="sect3"><span class="enumeration_section">12.5 </span>Importing a Replay External to Enterprise Manager
               </h3>
               <div>
                  <div><span>As with importing workloads external to Enterprise Manager, you can import replays into Enterprise Manager to manage them.</span> To import a replay, you import it from a replay task, which can contain one or more workloads and one or more replays. The replay task is at the top of the database replay hierarchy, and serves as the container for these other subordinate components.
                  </div>
                  <div class="section">
                     <p>A replay to be imported can be running in the test database, or the replay can be completed and the replay directory stored on a file system. </p>
                     <p>This feature is available for Cloud Control Database plug-in 12.1.0.5 and later releases.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__GUID-7EBF83FD-BED6-463C-88F0-79B1FED9E0FA">To import a replay external to Enterprise Manager:</p>
                     <ol>
                        <li>
                           <p>From the Database Replay page, click the <span class="bold">Replay Tasks</span> tab, then select the desired replay task.
                           </p>
                           <p>The Replay Task page appears. </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Import</span> in the Replays section.
                           </p>
                           <p>The Import Replay: Source page appears</p>
                        </li>
                        <li id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">
                           <p>Select one of the three choices available to import a replay, then click <span class="bold">Next</span>.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">Import one or more completed Replays from a directory in the file system</span></p>
                                 <p>This option typically applies for a replay created using an API, in which you now want to import it to Enterprise Manager for subsequent processing. In this case, Enterprise Manager may not be necessarily managing the replay database.</p>
                              </li>
                              <li>
                                 <p><span class="bold">Import one or more completed Replays from a database target</span></p>
                                 <p>In this case, Enterprise Manager is probably already managing the replay database. The replay could have been done on this database, or it could have been loaded in as would be the case for the option above. </p>
                              </li>
                              <li>
                                 <p><span class="bold">Attach to a Replay of this Replay task running in a database target</span></p>
                                 <p>This option is similar to the option above, except this replay is still in progress, rather than one that has already completed.</p>
                              </li>
                           </ul>
                           <p>The Import Replay: Database page appears. </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">the search icon next to the Database Target field and select a database from the pop-up that appears.</span></p>
                           <div class="infoboxnote" id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__GUID-642C727C-0293-42F0-91E1-6E404F3CC72B">
                              <p class="notep1">Note:</p>
                              <p>The target version of the database reading the replay must be at least as high as the one you used in the replay task. For instance, if the replay task used Oracle Database 12x, the database you select to read the replay must be at least version 12x.</p>
                           </div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The system now requests database and host credentials. </p>
                              </li>
                              <li>
                                 <p>In the previous step, if you chose to import one or more completed replays from a directory in the file system, the system also requires a workload location.</p>
                              </li>
                              <li>
                                 <p>The replay task can determine if this is a consolidated replay based on the number of workloads contained in the replay task. If this is a consolidated replay, this step asks you to enter a consolidated replay directory for the workload location.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Provide the requisite input for the step above, then click <span class="bold">Next</span>.
                           </p>
                           <p>The Import Replay: Replay page appears.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you chose "Import one or more completed Replays from a directory in the file system" in step <a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">3</a>, this page provides a Load Replay button.
                                 </p>
                              </li>
                              <li>
                                 <p>If you chose “Import one or more completed Replays from a database target" or “Attach to a Replay of this Replay task running in a database target" in step <a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">3</a>, this page provides a Discover Replay button.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Click either <span class="bold">Load Replay</span> or <span class="bold">Discover Replay</span>, depending on which button is available in accordance with your selection in step <a href="replaying-a-database-workload.html#GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__BGBBEIBA">3</a>.
                           </p>
                           <p>The system displays one or more replays, if found, in the Discovered Replays table. </p>
                        </li>
                        <li>
                           <p>Either click <span class="bold">Next</span> to load the replay, or select one or more replays, then click <span class="bold">Next</span> to continue importing the replays.
                           </p>
                           <p>The Import Replay: Review page appears.</p>
                        </li>
                        <li>
                           <p>If everything appears as you have intended, click <span class="bold">Submit</span>.
                           </p>
                           <p>The Database Replay page reappears and displays a message stating that the job was submitted successfully. The Status column in the table for your imported replay will show In Progress.</p>
                           <div class="infobox-tip" id="GUID-B7EC0F88-A2E4-41C9-97E0-2DCAE0F63490__GUID-B1BC3FCA-2AEF-4BED-81DB-9005C322B0AF">
                              <p class="notep1">Tip:</p>
                              <p>You can check on the job's progress by clicking on the replay name that you just submitted in the Review step. A Replay Summary page appears, and you can click the Database Replay Import Job link to see the progress of the job execution steps. </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="RATUG151"></a><div class="props_rev_3"><a id="GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" name="GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602"></a><h3 id="RATUG-GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602" class="sect3"><span class="enumeration_section">12.6 </span>Replaying a Database Workload Using APIs
               </h3>
               <div>
                  <div><span>This section describes how to replay a database workload using the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package.</span> You can also use Oracle Enterprise Manager to replay a database workload, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-B97B7550-A947-45D0-A31B-636A6427DD86" title="This section describes how to replay a database workload using Enterprise Manager.">Replaying a Database Workload Using Enterprise Manager</a>"</span>.
                  </div>
                  <p>Replaying a database workload using the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package is a multi-step process that involves:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" title="After the workload capture is preprocessed and the test system is properly prepared, the replay data can be initialized. Initializing replay data loads the necessary metadata into tables required by workload replay.">Initializing Replay Data</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0" title="After the replay data is initialized, connection strings used in the workload capture need to be remapped so that user sessions can connect to the appropriate databases and perform external interactions as captured during replay.">Remapping Connections</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-C9CBE72D-5948-4D4F-962B-96108B87507E" title="Aside from remapping connection strings, you can also use a new schema or user instead of the user captured in the workload capture.">Remapping Users</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" title="After the replay data is initialized, and connections and users are remapped, you need to prepare the database for workload replay.">Setting Workload Replay Options</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF" title="This section describes how to add and remove workload replay filters, and how to create and use replay filter sets.">Defining Workload Replay Filters and Replay Filter Sets</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064" title="This section describes how to set a timeout action for the workload replay.">Setting the Replay Timeout Action</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" title="There are tasks to perform before starting a workload replay.">Starting a Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" title="Pausing a workload replay will halt all subsequent user calls issued by the replay clients until the workload replay is either resumed or cancelled.">Pausing a Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" title="This section describes how to resume a workload replay that is paused.">Resuming a Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" title="This section describes how to cancel a workload replay.">Cancelling a Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" title="You can retrieve all information about the workload captures in a replay directory object and the history of the workload replay attempts from the directory.">Retrieving Information About Workload Replays</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" title="Loading divergence data for workload replay imports rows for every replay attempt retrieved from the replay directory into the DBA_WORKLOAD_REPLAY_DIVERGENCE view, which displays information about diverged calls and errors during replay attempts.">Loading Divergence Data for Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-13B2F26C-2655-4900-94A2-60322707D248" title="You can delete information retrieved for either a single workload replay or all workload replays in a given directory object.">Deleting Information About Workload Replays</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" title="Exporting AWR data enables detailed analysis of the workload.">Exporting AWR Data for Workload Replay</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" title="After AWR data is exported from the replay system, you can import the AWR data into another system. Importing AWR data enables detailed analysis of the workload.">Importing AWR Data for Workload Replay</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-0F8D20F3-A4A1-4A89-852A-449C2E7C9602__GUID-77705B7E-E09F-4948-B51C-B68BADF2B020">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RATUG152"></a><div class="props_rev_3"><a id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" name="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD"></a><h4 id="RATUG-GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" class="sect4"><span class="enumeration_section">12.6.1 </span>Initializing Replay Data
                  </h4>
                  <div>
                     <div><span>After the workload capture is preprocessed and the test system is properly prepared, the replay data can be initialized. Initializing replay data loads the necessary metadata into tables required by workload replay.</span> For example, captured connection strings are loaded into a table where they can be remapped for replay.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD__GUID-3B869885-D5DE-42E2-A3B8-8CD8EC813247">To initialize replay data:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e3509" class="indexterm-anchor"></a><code class="codeph">INITIALIZE_REPLAY</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.INITIALIZE_REPLAY (replay_name =&gt; 'dec06_102',
                           replay_dir =&gt; 'dec06',
                           plsql_mode =&gt; 'top_level');
END;
/
</pre><p>In this example, the <code class="codeph">INITIALIZE_REPLAY</code> procedure loads preprocessed workload data from the <code class="codeph">dec06</code> directory into the database.
                              </p>
                              <p>The <code class="codeph">INITIALIZE_REPLAY</code> procedure in this example uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">replay_name</code> required parameter specifies a replay name that can be used with other APIs to retrieve settings and filters of previous replays.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">replay_dir</code> required parameter specifies the directory that contains the workload capture that will be replayed.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The optional <code class="codeph">plsql_mode</code> parameter specifies the PL/SQL replay mode.
                                    </p>
                                    <p>These two values can be set for the <code class="codeph">plsql_mode</code> parameter:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">top_level</code>: Only top-level PL/SQL calls. This is the default value.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">extended</code>: SQL executed inside PL/SQL or top-level PL/SQL if there is no SQL recorded inside. Non-PL/SQL calls will be replayed in the usual manner.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD__GUID-A1145984-A0AC-457E-9398-80F039225CAC">
                           <p class="notep1">Note:</p>
                           <p>To run <code class="codeph">INITIALIZE_REPLAY</code> on an encrypted workload capture, you need to set the password using the <code class="codeph">oracle.rat.database_replay.encryption</code> (case-sensitive) identifier. The password is stored in a software keystore. You can find whether a workload capture is encrypted or not from <code class="codeph">DBA_WORKLOAD_CAPTURES</code> view.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD__GUID-CFEA8F0C-B0DB-4D13-B669-80B7B1780564">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="preprocessing-a-database-workload.html#GUID-4FC4A529-D603-48A1-BA0E-12E8BB130733" title="This section describes how to preprocess a captured workload using the DBMS_WORKLOAD_REPLAY package.">Preprocessing a Database Workload Using APIs</a>"</span> for information about preprocessing a workload capture
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" title="Proper preparation of the replay system and planning of the workload replay ensures that the replay will be accurate.">Steps for Replaying a Database Workload</a>"</span> for information preparing the test system
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG153"></a><div class="props_rev_3"><a id="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0" name="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0"></a><h4 id="RATUG-GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0" class="sect4"><span class="enumeration_section">12.6.2 </span>Remapping Connections
                  </h4>
                  <div>
                     <div><span>After the replay data is initialized, connection strings used in the workload capture need to be remapped so that user sessions can connect to the appropriate databases and perform external interactions as captured during replay.</span> To view connection mappings, use the <code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code> view.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0__GUID-E5E82D13-86F5-422E-8515-B62E7958E954">To remap connections:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e3693" class="indexterm-anchor"></a><code class="codeph">REMAP_CONNECTION</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.REMAP_CONNECTION (connection_id =&gt; 101,
                           replay_connection =&gt; 'dlsun244:3434/bjava21');
END;
/
</pre><p>In this example, the connection that corresponds to the connection ID 101 will use the new connection string defined by the <code class="codeph">replay_connection</code> parameter.
                              </p>
                              <p>The <code class="codeph">REMAP_CONNECTION</code> procedure in this example uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">connection_id</code> required parameter is generated when initializing replay data and corresponds to a connection from the workload capture.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">replay_connection</code> required parameter specifies the new connection string that will be used during workload replay.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-348FCFCF-A37E-44E8-9BBD-B18697EC29B0__GUID-BD17A90C-4AF7-4421-BEBE-C7BA4790CE69">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-823FEDBB-B93B-47DF-AE72-FBD3832DFD9B" title="During workload capture, connection strings used to connect to the production system are captured. In order for the replay to succeed, you need to remap these connection strings to the replay system. The replay clients can then connect to the replay system using the remapped connections.">Connection Remapping</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG4068"></a><div class="props_rev_3"><a id="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E" name="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E"></a><h4 id="RATUG-GUID-C9CBE72D-5948-4D4F-962B-96108B87507E" class="sect4"><span class="enumeration_section">12.6.3 </span>Remapping Users
                  </h4>
                  <div>
                     <div><span>Aside from remapping connection strings, you can also use a new schema or user instead of the user captured in the workload capture.</span> To view captured users, use the <code class="codeph">DBA_WORKLOAD_USER_MAP</code> view.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E__GUID-F3013C9E-0429-444C-BDB9-193D127EF568">To remap users:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e3823" class="indexterm-anchor"></a><code class="codeph">SET_USER_MAPPING</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.SET_USER_MAPPING (capture_user =&gt; 'PROD',
                           replay_user =&gt; 'TEST');
END;
/
</pre><p>In this example, the <code class="codeph">PROD</code> user used during capture is remapped to the <code class="codeph">TEST</code> user during replay.
                              </p>
                              <p>The <code class="codeph">SET_USER_MAPPING</code> procedure in this example uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">capture_user</code> required parameter specifies the username captured during the time of the workload capture.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">replay_user</code> required parameter specifies the username to which the captured user is remapped during replay. If this parameter is set to <code class="codeph">NULL</code>, then the mapping is disabled.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-C9CBE72D-5948-4D4F-962B-96108B87507E__GUID-FF53AEAC-2B70-4478-A493-05B9AD6F7C83">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-A00C24B9-28C9-46E4-839F-A0ABDA6C4C24" title="During workload capture, the username of the database user or schema used to connect to the production system is captured. You can choose to remap the captured username to that of a new user or schema.">User Remapping</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG154"></a><div class="props_rev_3"><a id="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" name="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D"></a><h4 id="RATUG-GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" class="sect4"><span class="enumeration_section">12.6.4 </span>Setting Workload Replay Options
                  </h4>
                  <div>
                     <div><span>After the replay data is initialized, and connections and users are remapped, you need to prepare the database for workload replay.</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D__GUID-37953254-F9E7-4702-BCDB-D08A03D67A75">To prepare workload replay on the replay system:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e3963" class="indexterm-anchor"></a><code class="codeph">PREPARE_REPLAY</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.PREPARE_REPLAY (synchronization =&gt; 'OBJECT_ID',
                           capture_sts =&gt; TRUE,
                           sts_cap_interval =&gt; 300);
END;
/
</pre><p>In this example, the <code class="codeph">PREPARE_REPLAY</code> procedure prepares a replay that has been previously initialized. A SQL tuning set will also be captured in parallel with the workload replay.
                              </p>
                              <p>The <code class="codeph">PREPARE_REPLAY</code> procedure uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">synchronization</code> required parameter controls the type of synchronization used during workload replay.
                                    </p>
                                    <p>If the parameter is set to <code class="codeph">TIME</code>, the replay will use the same wall-clock timing as the capture. All database session login times will be replayed exactly as the capture. Likewise, all timing between transactions within database sessions will be preserved and replayed as captured. This synchronization method will produce good replays for most workloads.
                                    </p>
                                    <p>If this parameter is set to <code class="codeph">SCN</code>  (the default value), the <code class="codeph">COMMIT</code> order in the captured workload will be observed during replay and all replay actions will be executed only after all dependent <code class="codeph">COMMIT</code> actions have completed. This  synchronization method may introduce significant delays for some workloads. If this is the case, it is recommended to use <code class="codeph">TIME</code> as the synchronization parameter.
                                    </p>
                                    <p>If this parameter is set to <code class="codeph">OBJECT_ID</code>, all replay actions will be executed only after all relevant <code class="codeph">COMMIT</code> actions have completed. Relevant <code class="codeph">COMMIT</code> actions must meet the following criteria:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Issued before the given action in the workload capture</p>
                                       </li>
                                       <li>
                                          <p>Modified at least one of the database objects for which the given action is referencing, either implicitly or explicitly</p>
                                       </li>
                                    </ul>
                                    <p>Setting this parameter to <code class="codeph">OBJECT_ID</code> can allow for more concurrency during workload replays for <code class="codeph">COMMIT</code> actions that do not reference the same database objects during workload capture.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">connect_time_scale</code> parameter scales the elapsed time from when the workload capture started to when the session connects with the specified value and is interpreted as a % value. Use this parameter to increase or decrease the number of concurrent users during replay. The default value is 100.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">think_time_scale</code> parameter scales the elapsed time between two successive user calls from the same session and is interpreted as a % value. Setting this parameter to 0 will send user calls to the database as fast as possible during replay. The default value is 100.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">think_time_auto_correct</code> parameter corrects the think time (based on the <code class="codeph">think_time_scale</code> parameter) between calls when user calls take longer to complete during replay than during capture. This parameter can be set to either <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>. Setting this parameter to <code class="codeph">TRUE</code> reduces the think time if the workload replay is taking longer than the workload capture. The default value is <code class="codeph">TRUE</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">scale_up_multiplier</code> parameter defines the number of times the workload is scaled up during replay. Each captured session will be replayed concurrently for as many times as specified by this parameter. However, only one session in each set of identical replay sessions will execute both queries and updates. The rest of the sessions will only execute queries.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">capture_sts</code> parameter specifies whether to capture a SQL tuning set in parallel with the workload replay. If this parameter is set to <code class="codeph">TRUE</code>, you can capture a SQL tuning set during workload replay and use SQL Performance Analyzer to compare it to another SQL tuning set without having to re-execute the SQL statements. This enables you to obtain a SQL Performance Analyzer report and compare the SQL performance—before and after the change—while running Database Replay. You can also export the resulting SQL tuning set with its AWR data using the <code class="codeph">EXPORT_AWR</code> procedure, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" title="Exporting AWR data enables detailed analysis of the workload.">Exporting AWR Data for Workload Replay</a>"</span>.
                                    </p>
                                    <p>This feature is not supported for Oracle RAC. Workload replay filters that are defined using <code class="codeph">DBMS_WORKLOAD_REPLAY</code> do not apply to the SQL tuning set capture. The default value for this parameter is <code class="codeph">FALSE</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">sts_cap_interval</code> parameter specifies the duration of the SQL tuning set capture from the cursor cache in seconds. The default value is 300. Setting the value of this parameter below the default value may cause additional overhead with some workloads and is not recommended.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>For more information about setting these parameters, see <span class="q">"<a href="replaying-a-database-workload.html#GUID-289F573A-9C83-4A29-A1D4-323705E8293D" title="After the database is restored, and connections and users are remapped, you can set the appropriate replay options.">Specifying Replay Options</a>"</span>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D__GUID-CD94962C-3FF3-4A6E-A7C7-047279DD3DDE">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-EA0C0608-0B0C-4D2B-B6A4-2B8FFC548F8F" title="Proper preparation of the replay system and planning of the workload replay ensures that the replay will be accurate.">Steps for Replaying a Database Workload</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG264"></a><div class="props_rev_3"><a id="GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF" name="GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF"></a><h4 id="RATUG-GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF" class="sect4"><span class="enumeration_section">12.6.5 </span>Defining Workload Replay Filters and Replay Filter Sets
                  </h4>
                  <div>
                     <div><span>This section describes how to add and remove workload replay filters, and how to create and use replay filter sets.</span> 
                     </div>
                     <p>This section contains the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296">Adding Workload Replay Filters</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96">Deleting Workload Replay Filters</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-F07AE474-DA24-4FA9-A997-5C1472873070">Creating a Replay Filter Set</a></p>
                        </li>
                        <li>
                           <p><a href="replaying-a-database-workload.html#GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E">Using a Replay Filter Set</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-434C455E-3BA3-4BF6-8DE8-4E5FACBABDAF__GUID-C3F8EA34-2568-47A4-BDAC-7DFC298B59A9">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="replaying-a-database-workload.html#GUID-22C2E8D1-48E7-492E-B116-CDE79686E1BE" title="By default, all captured database calls are replayed during workload replay. You can use workload filters to specify which database calls to include in or exclude from the workload during workload replay.">Using Filters with Workload Replay</a>"</span></p>
                     </div>
                  </div><a id="RATUG265"></a><div class="props_rev_3"><a id="GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296" name="GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296"></a><h5 id="RATUG-GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296" class="sect5"><span class="enumeration_section">12.6.5.1 </span>Adding Workload Replay Filters
                     </h5>
                     <div>
                        <div class="section">
                           <p>This section describes how to add a new filter to be used in a replay filter set.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-BCFCE439-5ACF-476B-853B-AB456FAB9296__GUID-6522CE7C-CA9C-43F2-88F2-470423AF7777">To add a new filter:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the <a id="d22870e4327" class="indexterm-anchor"></a><code class="codeph">ADD_FILTER</code> procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.ADD_FILTER (
                           fname =&gt; 'user_ichan',
                           fattribute =&gt; 'USER',
                           fvalue =&gt; 'ICHAN');
END;
/
</pre><p>In this example, the <code class="codeph">ADD_FILTER</code> procedure adds a filter named user_ichan, which can be used to filter out all sessions belonging to the user name ICHAN.
                                 </p>
                                 <p>The <code class="codeph">ADD_FILTER</code> procedure in this example uses the following parameters:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">fname</code> required parameter specifies the name of the filter that will be added.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">fattribute</code> required parameter specifies the attribute on which the filter will be applied. Valid values include PROGRAM, MODULE, ACTION, SERVICE, USER, and CONNECTION_STRING. You must specify a valid captured connection string that will be used during replay as the CONNECTION_STRING attribute.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">fvalue</code> required parameter specifies the value for the corresponding attribute on which the filter will be applied. It is possible to use wildcards such as % with some of the attributes, such as modules and actions.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>Once all workload replay filters are added, you can create a replay filter set that can be used when replaying the workload.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG266"></a><div class="props_rev_3"><a id="GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96" name="GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96"></a><h5 id="RATUG-GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96" class="sect5"><span class="enumeration_section">12.6.5.2 </span>Deleting Workload Replay Filters
                     </h5>
                     <div>
                        <div class="section">
                           <p>This section describes how to delete workload replay filters.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-43D8C6CD-8E77-4AD3-925B-C3F508E93B96__GUID-305F5690-B735-4644-BBD1-4401D9154912">To delete workload replay filters:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the <a id="d22870e4454" class="indexterm-anchor"></a><code class="codeph">DELETE_FILTER</code> procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.DELETE_FILTER (fname =&gt; 'user_ichan');
END;
/
</pre><p>In this example, the <code class="codeph">DELETE_FILTER</code> procedure removes the filter named user_ichan.
                                 </p>
                                 <p>The <code class="codeph">DELETE_FILTER</code> procedure in this example uses the <code class="codeph">fname</code> required parameter, which specifies the name of the filter to be removed.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG267"></a><div class="props_rev_3"><a id="GUID-F07AE474-DA24-4FA9-A997-5C1472873070" name="GUID-F07AE474-DA24-4FA9-A997-5C1472873070"></a><h5 id="RATUG-GUID-F07AE474-DA24-4FA9-A997-5C1472873070" class="sect5"><span class="enumeration_section">12.6.5.3 </span>Creating a Replay Filter Set
                     </h5>
                     <div>
                        <div class="section">
                           <p>After the workload replay filters are added, you can create a set of replay filters to use with workload replay. When creating a replay filter set, all workload replay filters that were added since the previous replay filter set was created will be used.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F07AE474-DA24-4FA9-A997-5C1472873070__GUID-038B152F-FD36-4740-BAC2-43EAEDB19855">To create a replay filter set:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the <a id="d22870e4562" class="indexterm-anchor"></a><code class="codeph">CREATE_FILTER_SET</code> procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.CREATE_FILTER_SET (
                           replay_dir =&gt; 'apr09',
                           filter_set =&gt; 'replayfilters',
                           default_action =&gt; 'INCLUDE');
END;
/
</pre><p>In this example, the <code class="codeph">CREATE_FILTER_SET</code> procedure creates a replay filter set named replayfilters, which will replay all captured calls for the replay stored in the <code class="codeph">apr09</code> directory, except for the part of the workload defined by the replay filters.
                                 </p>
                                 <p>The <code class="codeph">CREATE_FILTER_SET</code> procedure in this example uses the following parameters:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">replay_dir</code> parameter specifies the directory where the replay to be filtered is stored
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">filter_set</code> parameter specifies the name of the filter set to create
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">default_action</code> parameter determines if every captured database call should be replayed and whether the workload replay filters should be considered as inclusion or exclusion filters.
                                       </p>
                                       <p>If this parameter is set to <code class="codeph">INCLUDE</code>, all captured database calls will be replayed, except for the part of the workload defined by the replay filters. In this case, all replay filters will be treated as exclusion filters, since they will define the part of the workload that will not be replayed. This is the default behavior.
                                       </p>
                                       <p>If this parameter is set to <code class="codeph">EXCLUDE</code>, none of the captured database calls will be replayed, except for the part of the workload defined by the replay filters. In this case, all replay filters will be treated as inclusion filters, since they will define the part of the workload that will be replayed.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="RATUG268"></a><div class="props_rev_3"><a id="GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E" name="GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E"></a><h5 id="RATUG-GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E" class="sect5"><span class="enumeration_section">12.6.5.4 </span>Using a Replay Filter Set
                     </h5>
                     <div>
                        <div class="section">
                           <p>Once the replay filter set is created and the replay is initialized, you can use the replay filter set to filter the replay in the <code class="codeph">replay_dir</code> directory.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-E5D3A78C-C4B7-4778-ACE2-9A92AF750E9E__GUID-FEE2C383-397B-4F96-BF91-6D3E23FB6B17">To use a replay filter set:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the <a id="d22870e4702" class="indexterm-anchor"></a><code class="codeph">USE_FILTER_SET</code> procedure:
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.USE_FILTER_SET (filter_set =&gt; 'replayfilters');
END;
/
</pre><p>In this example, the <code class="codeph">USE_FILTER_SET</code> procedure uses the filter set named replayfilters.
                                 </p>
                                 <p>The <code class="codeph">USE_FILTER_SET</code> procedure in this example uses the <code class="codeph">filter_set</code> required parameter, which specifies the name of the filter set to be used in the replay.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="RATUG320"></a><div class="props_rev_3"><a id="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064" name="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064"></a><h4 id="RATUG-GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064" class="sect4"><span class="enumeration_section">12.6.6 </span>Setting the Replay Timeout Action
                  </h4>
                  <div>
                     <div><span>This section describes how to set a timeout action for the workload replay.</span> You can set a replay timeout action to abort user calls that are significantly slower during replay or cause a replay to hang. For example, you may want to set a replay timeout action to abort runaway queries caused by sub-optimal execution plans following a database upgrade.
                     </div>
                     <div class="section">
                        <p>When a replay timeout action is enabled, a user call will exit with an <code class="codeph">ORA-15569</code> error if it is delayed beyond the conditions specified by the replay timeout action. The aborted call and its error are reported as error divergence.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064__GUID-D680197D-0E1F-44E6-82F8-55D85B74E4D6">To set a replay timeout:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e4817" class="indexterm-anchor"></a><code class="codeph">SET_REPLAY_TIMEOUT</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.SET_REPLAY_TIMEOUT (
                           enabled =&gt; TRUE,
                           min_delay =&gt; 20,
                           max_delay =&gt; 60,
                           delay_factor =&gt; 10);
END;
/
</pre><p>In this example, the <code class="codeph">SET_REPLAY_TIMEOUT</code> procedure defines a replay timeout action that will abort a user call if the delay during replay is more than 60 minutes, or if the delay during replay is over 20 minutes and the elapsed time is 10 times greater than the capture elapsed time.
                              </p>
                              <p>The <code class="codeph">SET_REPLAY_TIMEOUT</code> procedure in this example uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">enabled</code> parameter specifies if the replay timeout action is enabled or disabled. The default value is <code class="codeph">TRUE</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">min_delay</code> parameter defines the lower bound value of call delay in minutes. The replay timeout action is only activated when the delay is over this value. The default value is 10.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">max_delay</code> parameter defines the upper bound value of call delay in minutes. The replay timeout action is activated and issues an error when the delay is over this value. The default value is 120.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">delay_factor</code> parameter defines a factor for the call delays that are between the values of <code class="codeph">min_delay</code> and <code class="codeph">max_delay</code>. The replay timeout action issues an error when the current replay elapsed time is higher than the multiplication of the capture elapsed time and this value. The default value is 8.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0AA0E9DD-400A-47A9-BB80-07B83FBA6064__GUID-2F38C1BF-8044-4F46-AD9A-97ACFA9D0DEA">To retrieve the replay timeout action setting:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <code class="codeph">GET_REPLAY_TIMEOUT</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">DECLARE
  enabled        BOOLEAN;
  min_delay      NUMBER;
  max_delay      NUMBER;
  delay_factor   NUMBER;
BEGIN
  DBMS_WORKLOAD_REPLAY.GET_REPLAY_TIMEOUT(enabled, min_delay, max_delay,
                           delay_factor);
END;
/
</pre><p>The <code class="codeph">GET_REPLAY_TIMEOUT</code> procedure in this example returns the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">enabled</code> parameter returns whether the replay timeout action is enabled or disabled.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">min_delay</code> parameter returns the lower bound value of call delay in minutes.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">max_delay</code> parameter returns the upper bound value of call delay in minutes.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">delay_factor</code> parameter returns the delay factor.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG155"></a><div class="props_rev_3"><a id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" name="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517"></a><h4 id="RATUG-GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517" class="sect4"><span class="enumeration_section">12.6.7 </span>Starting a Workload Replay
                  </h4>
                  <div>
                     <div><span>There are tasks to perform before starting a workload replay.</span> For example:
                     </div>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Preprocess the captured workload, as described in <span class="q">"<a href="preprocessing-a-database-workload.html#GUID-4FC4A529-D603-48A1-BA0E-12E8BB130733" title="This section describes how to preprocess a captured workload using the DBMS_WORKLOAD_REPLAY package.">Preprocessing a Database Workload Using APIs</a>"</span></p>
                           </li>
                           <li>
                              <p>Initialize the replay data, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-FBED93C2-DBF2-4CC1-A9A1-393CDB9B05BD" title="After the workload capture is preprocessed and the test system is properly prepared, the replay data can be initialized. Initializing replay data loads the necessary metadata into tables required by workload replay.">Initializing Replay Data</a>"</span></p>
                           </li>
                           <li>
                              <p>Specify the replay options, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-EA09779B-E85F-45A7-A54E-3FED813AB68D" title="After the replay data is initialized, and connections and users are remapped, you need to prepare the database for workload replay.">Setting Workload Replay Options</a>"</span></p>
                           </li>
                           <li>
                              <p>Start the replay clients, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-0E7CD4B5-433D-408A-990B-DD499C11ACCB" title="After determining the number of replay clients that are needed to replay the workload, you need to start the replay clients by running the wrc executable in replay mode on the hosts where they are installed.">Starting Replay Clients</a>"</span></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517__GUID-9449FCA6-71EB-42BD-99B5-A35B192E509B">
                           <p class="notep1">Note:</p>
                           <p>Once a workload replay is started, new replay clients will not be able to connect to the database. Only replay clients that were started before the <code class="codeph">START_REPLAY</code> procedure is executed will be used to replay the captured workload.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517__GUID-79338298-41C9-4A20-9B5D-D10F54510AEB">To start a workload replay:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e5057" class="indexterm-anchor"></a><code class="codeph">START_REPLAY</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.START_REPLAY ();
END;
/</pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-ED9DCCDB-2928-4BAC-9617-2314532AE517__GUID-88A50B19-1619-482D-AD31-4942C9111EE8">
                           <p class="notep1">Note:</p>
                           <p>Starting with Oracle Database Release 19c, the <code class="codeph">DBA_RAT_CAPTURE_SCHEMA_INFO</code> view provides <code class="codeph">login_schema</code> and <code class="codeph">current_schema</code> information for SQL statements. During a replay in the extended mode, if you encounter the <code class="codeph">ORA-00942: table or view does not exist</code> error, then use the <code class="codeph">DBA_RAT_CAPTURE_SCHEMA_INFO</code> and <code class="codeph">DBA_WORKLOAD_CAPTURE_SQLTEXT</code> views to find the tables on which the error happened. Then grant the necessary privileges on the tables to the users who hit the error and retry the replay; this may fix the problem.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG269"></a><div class="props_rev_3"><a id="GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" name="GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E"></a><h4 id="RATUG-GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E" class="sect4"><span class="enumeration_section">12.6.8 </span>Pausing a Workload Replay
                  </h4>
                  <div>
                     <div><span>Pausing a workload replay will halt all subsequent user calls issued by the replay clients until the workload replay is either resumed or cancelled.</span> User calls that are already in progress will be allowed to complete. This option enables you to temporarily stop the replay to perform a change and observe its impact for the remainder of the replay.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-50EABBFB-99C4-42A1-8B3D-37072B01BB0E__GUID-2C0B14EE-3E36-444D-B76F-BED50AAFE51F">To pause a workload replay:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e5184" class="indexterm-anchor"></a><code class="codeph">PAUSE_REPLAY</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.PAUSE_REPLAY ();
END;
/</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG270"></a><div class="props_rev_3"><a id="GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" name="GUID-AF6D748C-D05E-4612-9578-A726A7427B0F"></a><h4 id="RATUG-GUID-AF6D748C-D05E-4612-9578-A726A7427B0F" class="sect4"><span class="enumeration_section">12.6.9 </span>Resuming a Workload Replay
                  </h4>
                  <div>
                     <p>This section describes how to resume a workload replay that is paused.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AF6D748C-D05E-4612-9578-A726A7427B0F__GUID-E5AA734E-3AA0-4BAF-A001-E697928E1881">To resume a workload replay:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e5286" class="indexterm-anchor"></a><code class="codeph">RESUME_REPLAY</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.RESUME_REPLAY ();
END;
/</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG156"></a><div class="props_rev_3"><a id="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" name="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053"></a><h4 id="RATUG-GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053" class="sect4"><span class="enumeration_section">12.6.10 </span>Cancelling a Workload Replay
                  </h4>
                  <div>
                     <p>This section describes how to cancel a workload replay.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-31D34E9B-14BA-4AE3-91DE-6D57BD4E5053__GUID-B39C1EA3-FB5A-4B9D-B798-4A451F02A46D">To cancel a workload replay:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e5388" class="indexterm-anchor"></a><code class="codeph">CANCEL_REPLAY</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.CANCEL_REPLAY ();
END;
/</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG4258"></a><a id="RATUG4257"></a><div class="props_rev_3"><a id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" name="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA"></a><h4 id="RATUG-GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" class="sect4"><span class="enumeration_section">12.6.11 </span>Retrieving Information About Workload Replays
                  </h4>
                  <div>
                     <div><span>You can retrieve all information about the workload captures in a replay directory object and the history of the workload replay attempts from the directory.</span> By default, the workload replay divergence data is not loaded, but you can selectively choose to load this data.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA__GUID-EA5AED55-3B4A-4494-8C62-C3469DBF7A4D">To retrieve information about workload replays:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Call the <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<a id="d22870e5489" class="indexterm-anchor"></a><code class="codeph">GET_REPLAY_INFO</code> function.
                              </p>
                              <p>The <code class="codeph">GET_REPLAY_INFO</code> function first imports a row into the <code class="codeph">DBA_WORKLOAD_CAPTURES</code> view, which contains information about the workload capture. By default, it then only imports information for replays that have not been previously loaded into the <code class="codeph">DBA_WORKLOAD_REPLAYS</code> view. This function returns the <code class="codeph">cap_id</code> of the capture directory (for a consolidated capture directory, the <code class="codeph">cap_id</code> returned is <code class="codeph">0</code>), which can be associated with the <code class="codeph">CAPTURE_ID</code> column in the <code class="codeph">DBA_WORKLOAD_REPLAYS</code> view to access the information retrieved.
                              </p>
                              <p>The <code class="codeph">GET_REPLAY_INFO</code> function uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">replay_dir</code> required parameter, which specifies the name of the workload replay directory object.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">load_divergence</code> optional parameter, which specifies if divergence data is loaded. The default value for this parameter is <code class="codeph">FALSE</code>. To load divergence data, which imports rows for every replay attempt retrieved from the replay directory into the <code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code> view, set this parameter to <code class="codeph">TRUE</code>. Alternatively, you can use the <code class="codeph">LOAD_DIVERGENCE</code> procedure to selectively load divergence data for a single replay or all replays in a directory object after the replay information is retrieved, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" title="Loading divergence data for workload replay imports rows for every replay attempt retrieved from the replay directory into the DBA_WORKLOAD_REPLAY_DIVERGENCE view, which displays information about diverged calls and errors during replay attempts.">Loading Divergence Data for Workload Replay</a>"</span>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA__GUID-68023FD6-46FF-4C90-8D4A-B7394AC98D27">
                        <p class="titleinexample">Example 12-1 Retrieving information about workload replay</p>
                        <p>The following example shows how to retrieve information about the workload captures and the history of the workload replay attempts for the replay directory object named <code class="codeph">jul14</code>, and to validate that the information is retrieved.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  cap_id         NUMBER;
BEGIN
  cap_id := DBMS_WORKLOAD_REPLAY.GET_REPLAY_INFO(replay_dir =&gt; 'jul14');
  SELECT capture_id
    FROM dba_workload_replays
   WHERE capture_id = cap_id;
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4260"></a><a id="RATUG4259"></a><div class="props_rev_3"><a id="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" name="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E"></a><h4 id="RATUG-GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E" class="sect4"><span class="enumeration_section">12.6.12 </span>Loading Divergence Data for Workload Replay
                  </h4>
                  <div>
                     <div><span>Loading divergence data for workload replay imports rows for every replay attempt retrieved from the replay directory into the <code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code> view, which displays information about diverged calls and errors during replay attempts.</span> You can choose to load divergence data for either a single workload replay or all workload replays in a given directory object.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E__GUID-17F224FE-14A4-4459-A18E-18AD25CFD88D">To load divergence data for workload replay:</p>
                        <ol>
                           <li>
                              <p>Call the <code class="codeph">WORKLOAD_REPLAY</code>.<a id="d22870e5668" class="indexterm-anchor"></a><code class="codeph">LOAD_DIVERGENCE</code> procedure using one of the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">replay_id</code> parameter specifies the ID of the workload replay for which you want to load divergence data. Use this parameter if you only want to load divergence data for a single workload replay.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">replay_dir</code> parameter specifies the name of the directory object (the value is case-sensitive). Use this parameter if you want to load divergence data for all workload replays in a given directory object.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>To check the loading status of divergence data, query the <code class="codeph">DIVERGENCE_LOAD_STATUS</code> column in the <code class="codeph">DBA_WORKLOAD_REPLAYS</code> view.
                              </p>
                              <p>A value of <code class="codeph">TRUE</code> indicates that the divergence data is loaded, and a value of <code class="codeph">FALSE</code> indicates that it has not been loaded.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9EF34950-7ABC-4AC1-BFCA-734DB4DCF44E__GUID-FAA768FB-7EA7-45AB-8D48-A8B0F2F04711">
                        <p class="titleinexample">Example 12-2 Loading divergence data for a single workload replay</p>
                        <p>The following example shows how to load divergence data for the workload replay with a <code class="codeph">replay_id</code> value of <code class="codeph">12</code>, and to validate that the divergence data is loaded.
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  rep_id         NUMBER;
BEGIN
  rep_id := DBMS_WORKLOAD_REPLAY.LOAD_DIVERGENCE (replay_id =&gt; 12);
  SELECT divergence_load_status
    FROM dba_workload_replays
   WHERE capture_id = rep_id;
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG4262"></a><a id="RATUG4261"></a><div class="props_rev_3"><a id="GUID-13B2F26C-2655-4900-94A2-60322707D248" name="GUID-13B2F26C-2655-4900-94A2-60322707D248"></a><h4 id="RATUG-GUID-13B2F26C-2655-4900-94A2-60322707D248" class="sect4"><span class="enumeration_section">12.6.13 </span>Deleting Information About Workload Replays
                  </h4>
                  <div>
                     <div><span>You can delete information retrieved for either a single workload replay or all workload replays in a given directory object.</span> Deleted information can be retrieved using the <code class="codeph">GET_REPLAY_INFO</code> function, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" title="You can retrieve all information about the workload captures in a replay directory object and the history of the workload replay attempts from the directory.">Retrieving Information About Workload Replays</a>"</span>.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-13B2F26C-2655-4900-94A2-60322707D248__GUID-6B423274-60F9-459E-AC52-EF37A37294D7">To delete information about workload replays:</p>
                        <ol>
                           <li>
                              <p>Call the <code class="codeph">DBMS_WORKLOAD_REPLAY</code>.<a id="d22870e5819" class="indexterm-anchor"></a><code class="codeph">DELETE_REPLAY_INFO</code> procedure using the <code class="codeph">replay_id</code> parameter.
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">replay_id</code> parameter specifies the ID of the workload replay for which you want to delete replay information. Use this parameter if you only want to delete information for a single workload replay.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>By default, deleting information about workload replays does not remove the data from disk.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-13B2F26C-2655-4900-94A2-60322707D248__GUID-E81F42C4-998A-49BC-B711-0C60FD5EFD76">
                        <p class="titleinexample">Example 12-3 Deleting information about workload replay</p>
                        <p>The following example deletes information retrieved about the workload captures and the history of the workload replay attempts for the workload replay with an ID of <code class="codeph">2</code>. The replay data is not deleted from disk, and thus can be retrieved by calling the <code class="codeph">GET_REPLAY_INFO</code> function, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-BE084EF0-D8EA-4BFF-A3A3-53A30E9C96FA" title="You can retrieve all information about the workload captures in a replay directory object and the history of the workload replay attempts from the directory.">Retrieving Information About Workload Replays</a>"</span>.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.DELETE_REPLAY_INFO (replay_id =&gt; 2);
END;
/
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="RATUG157"></a><div class="props_rev_3"><a id="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" name="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA"></a><h4 id="RATUG-GUID-03B5F50F-40C2-4183-8E07-2B64319356FA" class="sect4"><span class="enumeration_section">12.6.14 </span>Exporting AWR Data for Workload Replay
                  </h4>
                  <div>
                     <div><span>Exporting AWR data enables detailed analysis of the workload.</span> This data is also required if you plan to run the AWR Compare Period report on a pair of workload captures or replays.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA__GUID-5D331A3E-54BC-401F-9C46-9D7292F75ADA">To export AWR data:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e5955" class="indexterm-anchor"></a><code class="codeph">EXPORT_AWR</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_WORKLOAD_REPLAY.EXPORT_AWR (replay_id =&gt; 1);
END;
/
</pre><p>In this example, the AWR snapshots that correspond to the workload replay with a replay ID of 1 are exported, along with any SQL tuning set that may have been captured during workload replay.</p>
                              <p>The <code class="codeph">EXPORT_AWR</code> procedure uses the <code class="codeph">replay_id</code> required parameter, which specifies the ID of the replay whose AWR snapshots will be exported.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-03B5F50F-40C2-4183-8E07-2B64319356FA__GUID-2F592A6D-2651-4F8B-B9E1-144CB547A1ED">
                           <p class="notep1">Note:</p>
                           <p>This procedure works only if the corresponding workload replay was performed in the current database and the AWR snapshots that correspond to the original replay time period are still available.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG4195"></a><div class="props_rev_3"><a id="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" name="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07"></a><h4 id="RATUG-GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07" class="sect4"><span class="enumeration_section">12.6.15 </span>Importing AWR Data for Workload Replay
                  </h4>
                  <div>
                     <div><span>After AWR data is exported from the replay system, you can import the AWR data into another system. Importing AWR data enables detailed analysis of the workload.</span> This data is also required if you plan to run the AWR Compare Period report on a pair of workload captures or replays.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07__GUID-51A82109-537C-4E35-8C33-636A208DB1FF">To import AWR data:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the <a id="d22870e6073" class="indexterm-anchor"></a><code class="codeph">IMPORT_AWR</code> function:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE USER capture_awr
SELECT DBMS_WORKLOAD_REPLAY.IMPORT_AWR (replay_id =&gt; 1,
                                        staging_schema =&gt; 'capture_awr')
  FROM DUAL;
</pre><p>In this example, the AWR snapshots that correspond to the workload replay with a capture ID of 1 are imported using a staging schema named <code class="codeph">capture_awr</code>.
                              </p>
                              <p>The <code class="codeph">IMPORT_AWR</code> procedure in this example uses the following parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The <code class="codeph">replay_id</code> required parameter specifies the ID of the replay whose AWR snapshots will be import.
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">staging_schema</code> required parameter specifies the name of a valid schema in the current database which can be used as a staging area while importing the AWR snapshots from the replay directory to the <code class="codeph">SYS</code> <code class="codeph">AWR</code> schema.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-9A1ACF42-5AB1-4FBA-91C8-153181404F07__GUID-793B5548-43B2-48FB-A4D1-7734659C234D">
                           <p class="notep1">Note:</p>
                           <p>This function fails if the schema specified by the <code class="codeph">staging_schema</code> parameter contains any tables with the same name as any of the AWR tables.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="RATUG302"></a><div class="sect2"><a id="GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" name="GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2"></a><h3 id="RATUG-GUID-6AB48629-25B9-4E07-AD7C-DE830E1022A2" class="sect3"><span class="enumeration_section">12.7 </span>Monitoring Workload Replay Using APIs
               </h3>
               <div>
                  <div><span>This section describes how to monitor workload replay using APIs and views.</span> You can also use Oracle Enterprise Manager to monitor workload replay, as described in <span class="q">"<a href="replaying-a-database-workload.html#GUID-64593639-9102-4C30-8EB9-71F28ABED05A" title="This section describes how to monitor workload replay using Enterprise Manager. The primary tool for monitoring workload replay is Oracle Enterprise Manager.">Monitoring Workload Replay Using Enterprise Manager</a>"</span>.
                  </div>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79" title="During replay, any error and data discrepancies between the replay system and the capture system are recorded as diverged calls.">Retrieving Information About Diverged Calls</a></p>
                     </li>
                     <li>
                        <p><a href="replaying-a-database-workload.html#GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29" title="This section summarizes the views that you can display to monitor workload replay.">Monitoring Workload Replay Using Views</a></p>
                     </li>
                  </ul>
               </div><a id="RATUG303"></a><div class="props_rev_3"><a id="GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79" name="GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79"></a><h4 id="RATUG-GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79" class="sect4"><span class="enumeration_section">12.7.1 </span>Retrieving Information About Diverged Calls
                  </h4>
                  <div>
                     <p>During replay, any error and data discrepancies between the replay system and the capture system are recorded as diverged calls.</p>
                     <div class="section">
                        <p>To retrieve information about a diverged call—including its SQL identifier, SQL text, and bind values—call the <a id="d22870e6311" class="indexterm-anchor"></a><code class="codeph">GET_DIVERGING_STATEMENT</code> function using the following parameters:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Set the <code class="codeph">replay_id</code> parameter to the ID of the replay in which the call diverged
                              </p>
                           </li>
                           <li>
                              <p>Set the <code class="codeph">stream_id</code> parameter to the stream ID of the diverged call
                              </p>
                           </li>
                           <li>
                              <p>Set the <code class="codeph">call_counter</code> parameter to the call counter of the diverged call
                              </p>
                           </li>
                        </ul>
                        <p>To view these information about a diverged call, use the <code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code> view. The following example illustrates a function call:
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  r                   CLOB;
  ls_stream_id        NUMBER;
  ls_call_counter     NUMBER;
  ls_sql_cd           VARCHAR2(20);
  ls_sql_err          VARCHAR2(512);
  CURSOR c IS
  SELECT stream_id, call_counter
  FROM DBA_WORKLOAD_REPLAY_DIVERGENCE
  WHERE replay_id = 72;
BEGIN
  OPEN c;
  LOOP
  FETCH c INTO ls_stream_id, ls_call_counter;
  EXIT when c%notfound;
  DBMS_OUTPUT.PUT_LINE (ls_stream_id||''||ls_call_counter);
  r:=DBMS_WORKLOAD_REPLAY.GET_DIVERGING_STATEMENT(replay_id =&gt; 72,
  stream_id =&gt; ls_stream_id, call_counter =&gt; ls_call_counter);
  DBMS_OUTPUT.PUT_LINE (r);
  END LOOP;
END;
/
</pre><div class="infoboxnotealso" id="GUID-9E76AEB4-4B23-442D-8A10-2732EAA8FF79__GUID-B3EE3159-2C87-4886-B6DF-89FF48295F1F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_WORKLOAD_REPLAY.html#ARPLS208" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about the <code class="codeph">DBMS_WORKLOAD_REPLAY</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="RATUG158"></a><div class="props_rev_3"><a id="GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29" name="GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29"></a><h4 id="RATUG-GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29" class="sect4"><span class="enumeration_section">12.7.2 </span>Monitoring Workload Replay Using Views
                  </h4>
                  <div>
                     <div><span>This section summarizes the views that you can display to monitor workload replay.</span> You need DBA privileges to access these views.
                     </div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">DBA_WORKLOAD_CAPTURES</code> view lists all the workload captures that have been captured in the current database.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">DBA_WORKLOAD_FILTERS</code> view lists all workload filters for workload captures defined in the current database.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">DBA_WORKLOAD_REPLAYS</code> view lists all the workload replays that have been replayed in the current database.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code> view enables you to view information about diverged calls, such as the replay identifier, stream identifier, and call counter.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">DBA_WORKLOAD_DIV_SUMMARY</code> view displays a summary of the replay divergence information in the <code class="codeph">DBA_WORKLOAD_REPLAY_DIVERGENCE</code> view.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">DBA_WORKLOAD_REPLAY_FILTER_SET</code> view lists all workload filters for workload replays defined in the current database.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">DBA_WORKLOAD_CONNECTION_MAP</code> view lists the connection mapping information for workload replay.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">V$WORKLOAD_REPLAY_THREAD</code> view lists information about all sessions from the replay clients.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-BF5B4273-330A-461A-9C60-A4BB538ABB29__GUID-28820D51-017F-4104-92CA-6FAD1516A412">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/index.html" target="_blank"><span><cite>Oracle Database Reference</cite></span></a><span class="italic"> </span>for information about these views
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03378.oracle-database-vault-schemas-roles-and-accounts.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.">
      <meta name="description" content="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.">
      <title>Oracle Database Vault Schemas, Roles, and&nbsp;Accounts</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide ">
      <meta property="og:description" content="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96302-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="dba-operations-in-an-oracle-database-vault-environment.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-database-vault-realm-apis.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="DVADM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="dba-operations-in-an-oracle-database-vault-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-database-vault-realm-apis.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault Schemas, Roles, and&nbsp;Accounts</li>
            </ol>
            <a id="GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" name="GUID-AD6F5807-3927-466F-BCFF-E82FDA912493"></a><a id="DVADM013"></a>
            
            <h2 id="DVADM-GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" class="sect2"><span class="enumeration_chapter">13 </span>Oracle Database Vault Schemas, Roles, and&nbsp;Accounts
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='oracle-database-vault-schemas-roles-and-accounts'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF">Oracle Database Vault Schemas</a><br>The Oracle Database Vault schemas, <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code>, support the administration and run-time processing of Oracle Database Vault. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832">Oracle Database Vault Roles</a><br>Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F">Oracle Database Vault Accounts Created During Registration</a><br>You must create accounts for the Oracle Database Vault Owner and Oracle Database Vault Account Manager during the registration process. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC">Backup Oracle Database Vault Accounts</a><br>As a best practice, you should maintain backup accounts for the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles.
                  </li>
               </ul>
            </div>
            <a id="DVADM70325"></a><div class="props_rev_3"><a id="GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" name="GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF"></a><h3 id="DVADM-GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" class="sect3">Oracle Database Vault Schemas</h3>
               <div>
                  <p>The Oracle Database Vault schemas, <code class="codeph">DVSYS</code> and <code class="codeph">DVF</code>, support the administration and run-time processing of Oracle Database Vault. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4D275449-513A-4153-86EF-60620F2CD94D">DVSYS Schema</a><br>The <code class="codeph">DVSYS</code> schema contains Oracle Database Vault database objects. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5">DVF Schema</a><br>The <code class="codeph">DVF</code> schema is the owner of the Oracle Database Vault <code class="codeph">DBMS_MACSEC_FUNCTION</code> PL/SQL package. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.">Oracle Database Vault Schemas, Roles, and&nbsp;Accounts</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70326"></a><div class="props_rev_3"><a id="GUID-4D275449-513A-4153-86EF-60620F2CD94D" name="GUID-4D275449-513A-4153-86EF-60620F2CD94D"></a><h4 id="DVADM-GUID-4D275449-513A-4153-86EF-60620F2CD94D" class="sect4">DVSYS Schema</h4>
                  <div>
                     <p>The <code class="codeph">DVSYS</code> schema contains Oracle Database Vault database objects. 
                     </p>
                     <p>These objects store Oracle Database Vault configuration information and support the administration and run-time processing of Oracle Database Vault.</p>
                     <p>In a default installation, the <code class="codeph">DVSYS</code> schema is locked. The <code class="codeph">DVSYS</code> schema also owns the <code class="codeph">AUDIT_TRAIL$</code> table.
                     </p>
                     <p>In a multitenant environment, the <code class="codeph">DVSYS</code> schema is considered a common schema, which means that the objects within <code class="codeph">DVSYS</code> (tables, views, PL/SQL packages, and so on) are automatically available to any child pluggable databases (PDBs). In addition, the <code class="codeph">DVSYS</code> schema account cannot switch to other containers using the <code class="codeph">ALTER SESSION</code> statement. 
                     </p>
                     <p>Oracle Database Vault secures the <code class="codeph">DVSYS</code> schema by using a protected schema design. A protected schema design guards the schema against improper use of system privileges (for example, <code class="codeph">SELECT ANY TABLE</code>, <code class="codeph">CREATE ANY VIEW</code>, or <code class="codeph">DROP ANY</code>). 
                     </p>
                     <p>Oracle Database Vault protects and secures the <code class="codeph">DVSYS</code> schema in the following ways:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">DVSYS</code> protected schema and its administrative roles cannot be dropped. By default, the <code class="codeph">DVSYS</code> account is locked. 
                           </p>
                        </li>
                        <li>
                           <p>By default, users cannot directly log into the <code class="codeph">DVSYS</code> account. To control the ability of users to directly log into this account, you can run the <code class="codeph">DBMS_MACADM.DISABLE_DV_DICTIONARY_ACCTS</code> procedure to prevent users from logging in and the <code class="codeph">DBMS_MACADM.ENABLE_DV_DICTIONARY_ACCTS</code> procedure to allow users to log in.
                           </p>
                        </li>
                        <li>
                           <p>Statements such as <code class="codeph">CREATE USER</code>, <code class="codeph">ALTER USER</code>, <code class="codeph">DROP USER</code>, <code class="codeph">CREATE PROFILE</code>, <code class="codeph">ALTER PROFILE</code>, and <code class="codeph">DROP PROFILE</code> can only be issued by a user with the <code class="codeph">DV_ACCTMGR</code> role. A user logged in with the <code class="codeph">SYSDBA</code> administrative privilege can issue these statements only if it is allowed to do so by modifying the Can Maintain Accounts/Profiles rule set.
                           </p>
                        </li>
                        <li>
                           <p>The powerful <code class="codeph">ANY</code> system privileges for database definition language (DDL) and data manipulation language (DML) commands are blocked in the protected schema. This means that the objects in the <code class="codeph">DVSYS</code> schema must be created by the schema account itself. Also, access to the schema objects must be authorized through object privilege grants.
                           </p>
                        </li>
                        <li>
                           <p>Object privileges in the <code class="codeph">DVSYS</code> schema can only be granted to Database Vault administrative roles in the schema. This means that users can access the protected schema only through predefined administrative roles.
                           </p>
                        </li>
                        <li>
                           <p>Only the protected schema account <code class="codeph">DVSYS</code> can issue <code class="codeph">ALTER ROLE</code> statements on Database Vault predefined administrative roles of the schema. <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a> describes Oracle Database Vault predefined administrative roles in detail. 
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">SYS.DBMS_SYS_SQL.PARSE_AS_USER</code> procedure cannot be used to run SQL statements on behalf of the protected schema <code class="codeph">DVSYS</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-4D275449-513A-4153-86EF-60620F2CD94D__GUID-B6459163-57A2-432B-A45C-016CA56C9CD5">
                        <p class="notep1">Note:</p>
                        <p>Database users can grant additional object privileges and roles to the Oracle Database Vault administrative roles (<code class="codeph">DV_ADMIN</code> and <code class="codeph">DV_OWNER</code>, for example) provided they have sufficient privileges to do so. 
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" title="The Oracle Database Vault schemas, DVSYS and DVF, support the administration and run-time processing of Oracle Database Vault.">Oracle Database Vault Schemas</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70327"></a><div class="props_rev_3"><a id="GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5" name="GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5"></a><h4 id="DVADM-GUID-B19FC1C8-5798-407D-B18B-50F497CE92B5" class="sect4">DVF Schema</h4>
                  <div>
                     <p>The <code class="codeph">DVF</code> schema is the owner of the Oracle Database Vault <code class="codeph">DBMS_MACSEC_FUNCTION</code> PL/SQL package. 
                     </p>
                     <p>This package contains the functions that retrieve factor identities. After you install Oracle Database Vault, the installation process locks the <code class="codeph">DVF</code> account to better secure it. When you create a new factor, Oracle Database Vault creates a new retrieval function for the factor and saves it in this schema.
                     </p>
                     <p>In a multitenant environment, the <code class="codeph">DVF</code> user cannot switch to other containers using the <code class="codeph">ALTER SESSION</code> statement.
                     </p>
                     <p>By default, users cannot directly log into the <code class="codeph">DVF</code> account. To control the ability of users to directly log into this account, you can run the <code class="codeph">DBMS_MACADM.DISABLE_DV_DICTIONARY_ACCTS</code> procedure to prevent users from logging in and the <code class="codeph">DBMS_MACADM.ENABLE_DV_DICTIONARY_ACCTS</code> procedure to allow users to log in.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-42FBCF65-93FC-44D3-89C2-B4FB90A531BF" title="The Oracle Database Vault schemas, DVSYS and DVF, support the administration and run-time processing of Oracle Database Vault.">Oracle Database Vault Schemas</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70328"></a><div class="props_rev_3"><a id="GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" name="GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832"></a><h3 id="DVADM-GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" class="sect3">Oracle Database Vault Roles</h3>
               <div>
                  <p>Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3">About Oracle Database Vault Roles</a><br>Oracle Database Vault provides a set of roles that are required for managing Oracle Database Vault. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC">Privileges of Oracle Database Vault Roles</a><br>The Oracle Database Vault roles are designed to provide the maximum benefits of separation of duty. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-573E923C-4307-49FF-A70F-39B38F91BD86">Granting Oracle Database Vault Roles to Users</a><br>You can use Enterprise Manager Cloud Control to grant Oracle Database Vault roles to users.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E">DV_OWNER Database Vault Owner Role</a><br>The <code class="codeph">DV_OWNER</code> role enables you to manage the Oracle Database Vault roles and its configuration. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812">DV_ADMIN Database Vault Configuration Administrator Role</a><br>The <code class="codeph">DV_ADMIN</code> role controls the Oracle Database Vault PL/SQL packages. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4">DV_MONITOR Database Vault Monitoring Role</a><br>The <code class="codeph">DV_MONITOR</code> role is used for monitoring Oracle Database Vault.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5">DV_SECANALYST Database Vault Security Analyst Role</a><br>The <code class="codeph">DV_SECANALYST</code> role enables users to analyze activities. 
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2">DV_AUDIT_CLEANUP Audit Trail Cleanup Role</a><br>The <code class="codeph">DV_AUDIT_CLEANUP</code> role is used for purge operations.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5">DV_DATAPUMP_NETWORK_LINK Data Pump Network Link Role</a><br>The <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> role is used for Data Pump import operations.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B">DV_XSTREAM_ADMIN XStream Administrative Role</a><br>The <code class="codeph">DV_XSTREAM_ADMIN</code> role is used for Oracle XStream.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D">DV_GOLDENGATE_ADMIN GoldenGate Administrative Role</a><br>The <code class="codeph">DV_GOLDENGATE_ADMIN</code> role is used with Oracle GoldenGate.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039">DV_GOLDENGATE_REDO_ACCESS GoldenGate Redo Log Role</a><br>The <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role is used with Oracle GoldenGate.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C">DV_PATCH_ADMIN Database Vault Database Patch Role</a><br>The <code class="codeph">DV_PATCH_ADMIN</code> role is used for patching operations.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802">DV_ACCTMGR Database Vault Account Manager Role</a><br>The <code class="codeph">DV_ACCTMGR</code> role is a powerful role, used for accounts management.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A">DV_REALM_OWNER Database Vault Realm DBA Role</a><br>The <code class="codeph">DV_REALM_OWNER</code> role is used for realm management.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E">DV_REALM_RESOURCE Database Vault Application Resource Owner Role</a><br>The <code class="codeph">DV_REALM_RESOURCE</code> role is use for the management of realm resources.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1">DV_POLICY_OWNER Database Vault Owner Role</a><br>The <code class="codeph">DV_POLICY_OWNER</code> role enables database users to manage to a limited degree Oracle Database Vault policies.
                     </li>
                     <li class="ulchildlink"><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5">DV_PUBLIC Database Vault PUBLIC Role</a><br>The <code class="codeph">DV_PUBLIC</code> role is no longer used. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.">Oracle Database Vault Schemas, Roles, and&nbsp;Accounts</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70330"></a><a id="DVADM70329"></a><div class="props_rev_3"><a id="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3" name="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3"></a><h4 id="DVADM-GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3" class="sect4">About Oracle Database Vault Roles</h4>
                  <div>
                     <p>Oracle Database Vault provides a set of roles that are required for managing Oracle Database Vault. </p>
                     <p> illustrates how these roles are designed to implement the first level of separation of duties within the database. How you use these roles depends on the requirements that your company has in place. </p>
                     <div class="figure" id="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3__FIG_YDZ_MLQ_2FB">
                        <p class="titleinfigure">Figure 13-1 How Oracle Database Vault Roles Are Categorized</p><img src="img/dvadm_vm_001b.png" alt="Description of Figure 13-1 follows" title="Description of Figure 13-1 follows" longdesc="img_text/dvadm_vm_001b.html"><br><a href="img_text/dvadm_vm_001b.html">Description of "Figure 13-1 How Oracle Database Vault Roles Are Categorized"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnote" id="GUID-F9FF7E47-641E-45D3-8EF2-3EA6B9FFD6A3__GUID-2F9A933B-E929-4E6A-AADB-6C408F1C5542">
                        <p class="notep1">Note:</p>
                        <p>You can grant additional object privileges and roles to the Oracle Database Vault roles to extend their scope of privileges. For example, a user logged in with the <code class="codeph">SYSDBA</code> administrative privilege can grant object privileges to an Oracle Database Vault role as long as the object is not in the <code class="codeph">DVSYS</code> schema or realm.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-security-guidelines.html#GUID-128A1A30-3183-4D53-94AE-3F12707978D2" title="Oracle Database Vault is designed to easily implement separation of duty guidelines.">Separation of Duty Guidelines</a></li>
                           <li><a href="oracle-database-vault-security-guidelines.html#GUID-FDD3E113-B692-4BBD-9E78-B8BDB804348E" title="Oracle provides guidelines for managing security for administrative accounts such as SYSTEM or users who have the SYSDBA administrative privilege.">Managing Oracle Database Administrative Accounts</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70331"></a><a id="DVADM71451"></a><div class="props_rev_3"><a id="GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC" name="GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC"></a><h4 id="DVADM-GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC" class="sect4">Privileges of Oracle Database Vault Roles</h4>
                  <div>
                     <p>The Oracle Database Vault roles are designed to provide the maximum benefits of separation of duty. </p>
                     <p>The <code class="codeph">DV_PATCH_ADMIN</code>, <code class="codeph">DV_XSTREAM</code>, <code class="codeph">DV_GOLDENGATE_ADMIN</code>, and <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> roles are not included in the following table because they have no system privileges.
                     </p>
                     <p><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC__BABDIHJG" title="DV Roles and Privileges">Table 13-1</a> summarizes the privileges available with Oracle Database Vault roles. 
                     </p>
                     <div class="tblformalwide" id="GUID-A8CCEC01-912D-49FD-80E4-3D8667C677DC__BABDIHJG">
                        <p class="titleintable">Table 13-1 Privileges of Oracle Database Vault Roles</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Privileges of Oracle Database Vault Roles" summary="DV Roles and Privileges" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="10%" id="d53477e1205">Privilege</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1208">DV_OWNER</th>
                                 <th align="left" valign="bottom" width="7%" id="d53477e1211">DV_ADMIN</th>
                                 <th align="left" valign="bottom" width="9%" id="d53477e1214">DV_MONITOR</th>
                                 <th align="left" valign="bottom" width="12%" id="d53477e1217">DV_SECANALYST</th>
                                 <th align="left" valign="bottom" width="10%" id="d53477e1220">DV_ACCTMGR</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1223">DV_REALM_OWNER&nbsp;</th>
                                 <th align="left" valign="bottom" width="11%" id="d53477e1226">DV_REALM_RESOURCE</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1229">DV_PUBLIC</th>
                                 <th align="left" valign="bottom" width="8%" id="d53477e1232">DV_POLICY_OWNER</th>
                                 <th align="left" valign="bottom" width="9%" id="d53477e1235">DV_AUDIT_CLEANUP</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1240" headers="d53477e1205 ">
                                    <p><code class="codeph">DVSYS</code> schema, <code class="codeph">EXECUTE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1208 ">
                                    <p>Yes<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "Includes the EXECUTE privilege on all Oracle Database Vault PL/SQL packages.")"><sup>Foot&nbsp;1</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1240 d53477e1211 ">
                                    <p>Yes<a id="fn_2" name="fn_2" href="#fn_2" onclick="footdisplay(2, "Includes the EXECUTE privilege on all Oracle Database Vault PL/SQL packages.")"><sup>Foot&nbsp;2</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1240 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1240 d53477e1217 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1240 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1240 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1240 d53477e1232 ">
                                    <p>Yes, on some <code class="codeph">DBMS_MACADM</code> procedures
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1240 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1293" headers="d53477e1205 ">
                                    <p><code class="codeph">DVSYS</code> schema, <code class="codeph">SELECT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1208 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1293 d53477e1211 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1293 d53477e1214 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1293 d53477e1217 ">
                                    <p>Yes, on some Database Vault views<a id="fn_3" name="fn_3" href="#fn_3" onclick="footdisplay(3, "DV_SECANALYST can query DVSYS schema objects through Oracle Database Vault-supplied views only.")"><sup>Foot&nbsp;3</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1293 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1293 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1229 ">
                                    <p>No<a id="fn_4" name="fn_4" href="#fn_4" onclick="footdisplay(4, "DV_PUBLIC can query DVSYS schema objects through Oracle Database Vault-supplied views only.")"><sup>Foot&nbsp;4</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1293 d53477e1232 ">
                                    <p>Yes, on some Database Vault views<a id="fn_5" name="fn_5" href="#fn_5" onclick="footdisplay(5, "POLICY_OWNER* views only")"><sup>Foot&nbsp;5</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1293 d53477e1235 ">
                                    <p>Yes, on some Database Vault tables and views<a id="fn_6" name="fn_6" href="#fn_6" onclick="footdisplay(6, "DV_AUDIT_CLEANUP can perform SELECT statements on the AUDIT_TRAIL$ table and the DV$ENFORCEMENT_AUDIT, and DV$CONFIGURATION_AUDIT views.")"><sup>Foot&nbsp;6</sup></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1369" headers="d53477e1205 ">
                                    <p><code class="codeph">DVSYS</code> schema, <code class="codeph">DELETE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1208 ">
                                    <p>Yes, on some Database Vault tables and views <a id="fn_7" name="fn_7" href="#fn_7" onclick="footdisplay(7, "DV_AUDIT_CLEANUP can perform DELETE statements on the AUDIT_TRAIL$ table and the DV$ENFORCEMENT_AUDIT, and DV$CONFIGURATION_AUDIT views.")"><sup>Foot&nbsp;7</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1369 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1369 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1369 d53477e1217 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1369 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1369 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1369 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1369 d53477e1235 ">
                                    <p>Yes, on some Database Vault tables and views <a id="fn_8" name="fn_8" href="#fn_8" onclick="footdisplay(8, "DV_AUDIT_CLEANUP can perform DELETE statements on the AUDIT_TRAIL$ table and the DV$ENFORCEMENT_AUDIT, and DV$CONFIGURATION_AUDIT views.")"><sup>Foot&nbsp;8</sup></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1441" headers="d53477e1205 ">
                                    <p><code class="codeph">DVSYS</code> schema, grant privileges on objects
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1208 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1441 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1441 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1441 d53477e1217 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1441 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1441 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1441 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1441 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1477" headers="d53477e1205 ">
                                    <p><code class="codeph">DVF</code> schema, <code class="codeph">EXECUTE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1208 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1477 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1477 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1477 d53477e1217 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1477 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1477 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1477 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1477 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1515" headers="d53477e1205 ">
                                    <p><code class="codeph">DVF</code> schema, <code class="codeph">SELECT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1208 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1515 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1515 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1515 d53477e1217 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1515 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1515 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1515 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1515 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1553" headers="d53477e1205 ">
                                    <p>Monitor Database Vault</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1208 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1553 d53477e1211 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1553 d53477e1214 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1553 d53477e1217 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1553 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1553 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1553 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1553 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1587" headers="d53477e1205 ">
                                    <p>Run Database Vault reports</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1208 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1587 d53477e1211 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1587 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1587 d53477e1217 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1587 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1587 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1587 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1587 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1621" headers="d53477e1205 ">
                                    <p><code class="codeph">SYS</code> schema, <code class="codeph">SELECT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1208 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1621 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1621 d53477e1214 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1621 d53477e1217 ">
                                    <p>Yes, on the same system views as <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ADMIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1621 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1621 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1621 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1621 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1665" headers="d53477e1205 ">
                                    <p><code class="codeph">SYSMAN</code> schema, <code class="codeph">SELECT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1208 ">
                                    <p>Yes, portions of</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1665 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1665 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1665 d53477e1217 ">
                                    <p>Yes, portions of</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1665 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1665 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1665 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1665 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1703" headers="d53477e1205 ">
                                    <p><code class="codeph">CREATE</code>, <code class="codeph">ALTER</code>, <code class="codeph">DROP</code> user accounts and profiles<a id="fn_9" name="fn_9" href="#fn_9" onclick="footdisplay(9, "This privilege does not include the ability to drop or alter the DVSYS account, nor change the DVSYS password.")"><sup>Foot&nbsp;9</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1208 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1703 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1703 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1703 d53477e1217 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1703 d53477e1220 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1703 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1703 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1703 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1755" headers="d53477e1205 ">
                                    <p>Manage objects in schemas that define a realm<a id="fn_10" name="fn_10" href="#fn_10" onclick="footdisplay(10, "This privilege includes ANY privileges, such as CREATE ANY, ALTER ANY, and DROP ANY. ")"><sup>Foot&nbsp;10</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1208 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1755 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1755 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1755 d53477e1217 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1755 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1223 ">
                                    <p>Yes<a id="fn_11" name="fn_11" href="#fn_11" onclick="footdisplay(11, "The user with this role also must be the realm participant or owner to exercise his or her system privileges.")"><sup>Foot&nbsp;11</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1755 d53477e1226 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1755 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1755 d53477e1235 ">
                                    <p>No </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="10%" id="d53477e1807" headers="d53477e1205 ">
                                    <p><code class="codeph">RESOURCE</code> role privileges<a id="fn_12" name="fn_12" href="#fn_12" onclick="footdisplay(12, "The RESOURCE role provides the following system privileges: CREATE CLUSTER, CREATE INDEXTYPE, CREATE OPERATOR, CREATE PROCEDURE, CREATE SEQUENCE, CREATE TABLE, CREATE TRIGGER, CREATE TYPE.")"><sup>Foot&nbsp;12</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1208 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d53477e1807 d53477e1211 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1807 d53477e1214 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d53477e1807 d53477e1217 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d53477e1807 d53477e1220 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1223 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d53477e1807 d53477e1226 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1229 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d53477e1807 d53477e1232 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d53477e1807 d53477e1235 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>Includes the <code class="codeph">EXECUTE</code> privilege on all Oracle Database Vault PL/SQL packages.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;2 </sup></p><p>Includes the <code class="codeph">EXECUTE</code> privilege on all Oracle Database Vault PL/SQL packages.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;3 </sup></p><p><code class="codeph">DV_SECANALYST</code> can query <code class="codeph">DVSYS</code> schema objects through Oracle Database Vault-supplied views only.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;4 </sup></p><p><code class="codeph">DV_PUBLIC</code> can query <code class="codeph">DVSYS</code> schema objects through Oracle Database Vault-supplied views only.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;5 </sup></p><p><code class="codeph">POLICY_OWNER</code>* views only
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;6 </sup></p><p><code class="codeph">DV_AUDIT_CLEANUP</code> can perform <code class="codeph">SELECT</code> statements on the <code class="codeph">AUDIT_TRAIL$</code> table and the <code class="codeph">DV$ENFORCEMENT_AUDIT</code>, and <code class="codeph">DV$CONFIGURATION_AUDIT</code> views.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;7 </sup></p><p><code class="codeph">DV_AUDIT_CLEANUP</code> can perform <code class="codeph">DELETE</code> statements on the <code class="codeph">AUDIT_TRAIL$</code> table and the <code class="codeph">DV$ENFORCEMENT_AUDIT</code>, and <code class="codeph">DV$CONFIGURATION_AUDIT</code> views.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;8 </sup></p><p><code class="codeph">DV_AUDIT_CLEANUP</code> can perform <code class="codeph">DELETE</code> statements on the <code class="codeph">AUDIT_TRAIL$</code> table and the <code class="codeph">DV$ENFORCEMENT_AUDIT</code>, and <code class="codeph">DV$CONFIGURATION_AUDIT</code> views.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;9 </sup></p><p>This privilege does not include the ability to drop or alter the <code class="codeph">DVSYS</code> account, nor change the <code class="codeph">DVSYS</code> password.
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;10 </sup></p><p>This privilege includes <code class="codeph">ANY</code> privileges, such as <code class="codeph">CREATE ANY</code>, <code class="codeph">ALTER ANY</code>, and <code class="codeph">DROP ANY</code>. 
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;11 </sup></p><p>The user with this role also must be the realm participant or owner to exercise his or her system privileges.</p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;12 </sup></p><p>The <code class="codeph">RESOURCE</code> role provides the following system privileges: <code class="codeph">CREATE CLUSTER</code>, <code class="codeph">CREATE INDEXTYPE</code>, <code class="codeph">CREATE OPERATOR</code>, <code class="codeph">CREATE PROCEDURE</code>, <code class="codeph">CREATE SEQUENCE</code>, <code class="codeph">CREATE TABLE</code>, <code class="codeph">CREATE TRIGGER</code>, <code class="codeph">CREATE TYPE</code>.
                        </p>
                     <p></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-573E923C-4307-49FF-A70F-39B38F91BD86" name="GUID-573E923C-4307-49FF-A70F-39B38F91BD86"></a><h4 id="DVADM-GUID-573E923C-4307-49FF-A70F-39B38F91BD86" class="sect4">Granting Oracle Database Vault Roles to Users</h4>
                  <div>
                     <p>You can use Enterprise Manager Cloud Control to grant Oracle Database Vault roles to users.</p>
                     <ol>
                        <li class="stepexpand"><span>From Cloud Control, log into Oracle Database Vault Administrator as a user who has been granted the <code class="codeph">DV_OWNER</code> role and the <code class="codeph">SELECT ANY DICTIONARY</code> privilege..</span><div>
                              <p><a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager Cloud Control (Cloud Control) provides pages for managing Oracle Database Vault.">Logging in to Oracle Database Vault from Oracle Enterprise Cloud Control</a> explains how to log in. 
                              </p>
                              <p>Refer to the role descriptions to find the requirements for who can grant roles to other users. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the Administration page, under Database Vault Components, click <span class="bold">Database Vault Role Management</span>.</span><div>The Database Vault Role Management page appears. <br><img src="img/em_role_grant2.png" alt="Description of em_role_grant2.png follows" title="Description of em_role_grant2.png follows" longdesc="img_text/em_role_grant2.html"><br><a href="img_text/em_role_grant2.html">Description of the illustration em_role_grant2.png</a><br></div>
                        </li>
                        <li class="stepexpand"><span>Do one of the following: </span><ul>
                              <li>To add a new user or role for a grant, click the Add button to display the Add Authorization dialog box. Enter the grantee in the <span class="bold">Grantee</span> field, and then select the roles for the grant. Then click <span class="bold">OK</span>.<br><img src="img/em_role_grant1.png" alt="Description of em_role_grant1.png follows" title="Description of em_role_grant1.png follows" longdesc="img_text/em_role_grant1.html"><br><a href="img_text/em_role_grant1.html">Description of the illustration em_role_grant1.png</a><br></li>
                           </ul>
                           <ul>
                              <li>To grant different roles or modify role grants for a user or role listed in the Database Vault Role Management page, select the user or role, click <span class="bold">Edit</span>, and then modify the role grants as necessary. Then click <span class="bold">OK</span>.
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70333"></a><a id="DVADM71453"></a><a id="DVADM71454"></a><a id="DVADM71455"></a><a id="DVADM70332"></a><div class="props_rev_3"><a id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E" name="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E"></a><h4 id="DVADM-GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E" class="sect4">DV_OWNER Database Vault Owner Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_OWNER</code> role enables you to manage the Oracle Database Vault roles and its configuration. 
                     </p>
                     <p>In <span class="italic">Oracle Database Vault Administrator's Guide</span>, the example account that uses this role is <code class="codeph">leo_dvowner</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-109BF8D0-0F21-4554-85DB-9EE45202D06F">Privileges Associated with the DV_OWNER Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">DV_OWNER</code> role has the administrative capabilities that the <code class="codeph">DV_ADMIN</code> role provides, and the reporting capabilities the <code class="codeph">DV_SECANALYST</code> role provides. 
                        </p>
                        <p>This role also provides privileges for monitoring Oracle Database Vault. It is created when you install Oracle Database Vault, and has the most privileges on the <code class="codeph">DVSYS</code> schema. It also has the <code class="codeph">DV_ADMIN</code> role. 
                        </p>
                        <p>To find the full list of system and object privileges associated with the <code class="codeph">DV_OWNER</code> role, you can log into the database instance and enter the following queries:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, OWNER, PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE = 'DV_OWNER';
SELECT PRIVILEGE FROM DBA_SYS_PRIVS WHERE GRANTEE = 'DV_OWNER';
</pre><p>When you install and register Oracle Database Vault, the <code class="codeph">DV_OWNER</code> account is created. The user who is granted this role is also granted the <code class="codeph">ADMIN</code> option and can grant any Oracle Database Vault roles (except <code class="codeph">DV_ACCTMGR</code>) to any account. Users granted this role also can run Oracle Database Vault reports and monitor Oracle Database Vault. 
                        </p>
                        <div class="infobox-tip" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-5FA1A0BB-188C-40AC-9E2D-3F3827D7C68A">
                           <p class="notep1">Tip:</p>
                           <p>Oracle strongly recommends that you create separate, named account for the <code class="codeph">DV_OWNER</code> user. This way, if the user is no longer available (for example, he or she left the company), then you can easily recreate this user account and then grant this user the <code class="codeph">DV_OWNER</code> role.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-6CDF10DD-3E08-443C-B178-B34485CF8252">How Are GRANT and REVOKE Operations Affected by DV_OWNER?</p>
                        <p>Anyone with the <code class="codeph">DV_OWNER</code> role can grant the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ADMIN</code> roles to another user. 
                        </p>
                        <p>The account granted this role can revoke any granted Database Vault role from another account. Accounts such as <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code>, with the <code class="codeph">GRANT ANY ROLE</code> system privilege alone (directly granted or indirectly granted using a role) do not have the right to grant or revoke the <code class="codeph">DV_OWNER</code> role to or from any other database account. Note also that a user with the <code class="codeph">DV_OWNER</code> role cannot grant or revoke the <code class="codeph">DV_ACCTMGR</code> role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-11DCD486-6935-4F6A-B571-3D6AB09E956F">Managing Password Changes for Users Who Have the DV_OWNER Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Before you can change the password for another user who has been granted the <code class="codeph">DV_OWNER</code> role, you must revoke the <code class="codeph">DV_OWNER</code> role from that user account. 
                        </p>
                        <p>However, be cautious about revoking the <code class="codeph">DV_OWNER</code> role. At least one user on your site must have this role granted. If another <code class="codeph">DV_OWNER</code> user has been granted this role and needs to have his or her password changed, then you can temporarily revoke <code class="codeph">DV_OWNER</code> from that user. Note also that if you have been granted the <code class="codeph">DV_OWNER</code> role, then you can change your own password without having to revoke the role from yourself.
                        </p>
                        <p>To change the <code class="codeph">DV_OWNER</code> user password: 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>Log into the database instance using an account that has been granted the <code class="codeph">DV_OWNER</code> role. 
                              </p>
                           </li>
                           <li>
                              <p>Revoke the <code class="codeph">DV_OWNER</code> role from the user account whose password needs to change.
                              </p>
                           </li>
                           <li>
                              <p>Connect as a user who has been granted the <code class="codeph">DV_ACCTMGR</code> role and then change the password for this user.
                              </p>
                           </li>
                           <li>
                              <p>Connect as the <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_OWNER</code> role back to the user whose password you changed.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE2DF9A8-C96B-494E-B39B-4A5361D2D83E__GUID-FFA01419-9C63-4E70-B582-8B3872A2D9B7">DV_OWNER Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database Vault roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71457"></a><a id="DVADM71458"></a><a id="DVADM71459"></a><a id="DVADM71460"></a><a id="DVADM70337"></a><div class="props_rev_3"><a id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812" name="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812"></a><h4 id="DVADM-GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812" class="sect4">DV_ADMIN Database Vault Configuration Administrator Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_ADMIN</code> role controls the Oracle Database Vault PL/SQL packages. 
                     </p>
                     <p>These packages are the underlying interface for the Database Vault Administrator user interface in Oracle Enterprise Manager Cloud Control.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-0D7A76EE-C9F1-44EA-AE44-0DA5A323B984">Privileges Associated with the DV_ADMIN Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">DV_ADMIN</code> role has the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DVSYS</code> packages (<code class="codeph">DBMS_MACADM</code>, <code class="codeph">DBMS_MACSECROLES</code>, and <code class="codeph">DBMS_MACUTL</code>). 
                        </p>
                        <p><code class="codeph">DV_ADMIN</code> also has the capabilities provided by the <code class="codeph">DV_SECANALYST</code> role, which allow the user to run Oracle Database Vault reports and monitor Oracle Database Vault. During installation, the <code class="codeph">DV_ADMIN</code> role is granted to the <code class="codeph">DV_OWNER</code> role with the <code class="codeph">ADMIN OPTION</code>. 
                        </p>
                        <p>In addition, the <code class="codeph">DV_ADMIN</code> role provides the <code class="codeph">SELECT</code> privilege on the <code class="codeph">DBA_DV_POLICY</code>, <code class="codeph">DBA_DV_POLICY_OWNER</code>, and <code class="codeph">DBA_DV_POLICY_OBJECT</code> data dictionary views. The <code class="codeph">DV_ADMIN</code> role also has the <code class="codeph">REGISTER SESSION</code> system privilege.
                        </p>
                        <p>To find the full list of system and object privileges associated with the <code class="codeph">DV_ADMIN</code> role, log into the database instance with sufficient privileges and then enter the following queries:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, OWNER, PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE = 'DV_ADMIN';
SELECT PRIVILEGE FROM DBA_SYS_PRIVS WHERE GRANTEE = 'DV_ADMIN';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-96EEE001-ED69-492D-AC7A-DF47BBFDCA58">How Are GRANT and REVOKE Operations Affected by DV_ADMIN?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Accounts such as <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code>, with the <code class="codeph">GRANT ANY ROLE</code> system privilege alone do not have the rights to grant or revoke <code class="codeph">DV_ADMIN</code> from any other database account. 
                        </p>
                        <p>The user with the <code class="codeph">DV_OWNER</code> role can grant or revoke this role to and from any database account.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-B3E9A911-0AD2-4866-A16D-B0CA645D9B53">Managing Password Changes for Users Who Have the DV_ADMIN Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Before you can change the password for a user who has been granted the <code class="codeph">DV_ADMIN</code> role, you must revoke the <code class="codeph">DV_ADMIN</code> role from this account. 
                        </p>
                        <p>If you have been granted the <code class="codeph">DV_ADMIN</code> role, then you can change your own password without having to revoke the role from yourself.
                        </p>
                        <p>To change the <code class="codeph">DV_ADMIN</code> user password: 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>Log into the database instance using an account that has been granted the <code class="codeph">DV_OWNER</code> role. 
                              </p>
                           </li>
                           <li>
                              <p>Revoke the <code class="codeph">DV_ADMIN</code> role from the user account whose password needs to change.
                              </p>
                           </li>
                           <li>
                              <p>Connect as a user who has been granted the <code class="codeph">DV_ACCTMGR</code> role and then change the password for this user.
                              </p>
                           </li>
                           <li>
                              <p>Connect as the <code class="codeph">DV_OWNER</code> user and then grant the <code class="codeph">DV_ADMIN</code> role back to the user whose password you changed.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5085A0DB-C217-4508-A5D0-212CDAEE0812__GUID-DD74919B-989A-49D2-8DEB-304E5011ECF2">DV_ADMIN Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database Vault roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71462"></a><a id="DVADM71463"></a><a id="DVADM71464"></a><a id="DVADM70342"></a><div class="props_rev_3"><a id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4" name="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4"></a><h4 id="DVADM-GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4" class="sect4">DV_MONITOR Database Vault Monitoring Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_MONITOR</code> role is used for monitoring Oracle Database Vault.
                     </p>
                     <p>The <code class="codeph">DV_MONITOR</code> role enables the Oracle Enterprise Manager Cloud Control agent to monitor Oracle Database Vault for attempted violations and configuration issues with realm or command rule definitions. 
                     </p>
                     <p>This role enables Cloud Control to read and propagate realm definitions and command rule definitions between databases. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4__GUID-35C2A040-4F6F-4A44-9A4B-35D0FB54F14B">Privileges Associated with the DV_MONITOR Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>There are no system privileges associated with the <code class="codeph">DV_MONITOR</code> role, but it does have the <code class="codeph">SELECT</code> privilege on <code class="codeph">SYS</code> and <code class="codeph">DVSYS</code> objects. 
                        </p>
                        <p>In addition, the <code class="codeph">DV_MONITOR</code> role provides the <code class="codeph">SELECT</code> privilege on the <code class="codeph">DBA_DV_POLICY</code>, <code class="codeph">DBA_DV_POLICY_OWNER</code>, and <code class="codeph">DBA_DV_POLICY_OBJECT</code> data dictionary views.
                        </p>
                        <p>To find the full list of <code class="codeph">DV_MONITOR</code> object privileges, log into the database instance with sufficient (such as <code class="codeph">DV_OWNER</code>) privileges and then enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, OWNER, PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE = 'DV_MONITOR';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4__GUID-569687F5-C3BD-45F6-85C5-8FA61B1791C4">How Are GRANT and REVOKE Operations Affected by DV_MONITOR?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>By default, the <code class="codeph">DV_MONITOR</code> role is granted to the <code class="codeph">DV_OWNER</code> role and the <code class="codeph">DBSNMP</code> user. 
                        </p>
                        <p>Only a user who has been granted the <code class="codeph">DV_OWNER</code> role can grant or revoke the <code class="codeph">DV_MONITOR</code> role to another user. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E9E2DD03-9591-4BDC-B453-8E64E49623A4__GUID-8A6FEC75-FA0E-4F7F-8141-C61544BA2EE5">DV_MONITOR Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database Vault roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="monitoring-oracle-database-vault.html#GUID-EF26F67E-A410-4868-9B5C-5ABEA9B6BFAB" title="You can monitor Oracle Database Vault by checking for violations to the Database Vault configurations and by tracking changes to policies.">Monitoring Oracle Database Vault</a></li>
                           <li><a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="You can audit activities in Oracle Database Vault, such as changes to policy configurations.">Auditing Oracle Database Vault</a></li>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71466"></a><a id="DVADM71467"></a><a id="DVADM71468"></a><a id="DVADM70346"></a><div class="props_rev_3"><a id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5" name="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5"></a><h4 id="DVADM-GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5" class="sect4">DV_SECANALYST Database Vault Security Analyst Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_SECANALYST</code> role enables users to analyze activities. 
                     </p>
                     <p>Use the <code class="codeph">DV_SECANALYST</code> role to run Oracle Database Vault reports and monitor Oracle Database Vault. 
                     </p>
                     <p>This role is also used for database-related reports. In addition, this role enables you to check the <code class="codeph">DVSYS</code> configuration by querying the <code class="codeph">DVSYS</code> views described in <a href="oracle-database-vault-data-dictionary-views.html#GUID-C0CEF4FC-DB4C-4AD5-9671-C0861A647183" title="You can find information about the Oracle Database Vault configuration settings by querying the Database Vault-specific data dictionary views.">Oracle Database Vault Data Dictionary Views</a>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5__GUID-3372BD64-92EA-4B1B-93B7-70585CEE4B03">Privileges Associated with the DV_SECANALYST Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>There are no system privileges associated with the <code class="codeph">DV_SECANALYST</code> role, but it does have the <code class="codeph">SELECT</code> privilege for some <code class="codeph">DVSYS</code> schema objects and portions of the <code class="codeph">SYS</code> and <code class="codeph">SYSMAN</code> schema objects for reporting on <code class="codeph">DVSYS</code>- and <code class="codeph">DVF</code>-related entities. 
                        </p>
                        <p>In addition, the <code class="codeph">DV_SECANALYST</code> role provides the <code class="codeph">SELECT</code> privilege on the <code class="codeph">DBA_DV_POLICY</code>, <code class="codeph">DBA_DV_POLICY_OWNER</code>, and <code class="codeph">DBA_DV_POLICY_OBJECT</code> data dictionary views.
                        </p>
                        <p>To find the full list of <code class="codeph">DV_SECANALYST</code> object privileges, log into the database instance with sufficient privileges and then enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, OWNER, PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE = 'DV_SECANALYST';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5__GUID-502162E2-0FFD-4290-A86C-17B3C28B6189">How Are GRANT and REVOKE Operations Affected by DV_SECANALYST?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Any account, such as <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code>, with the <code class="codeph">GRANT ANY ROLE</code> system privilege alone does not have the rights to grant this role to or revoke this role from any other database account. 
                        </p>
                        <p>Only the user with the <code class="codeph">DV_OWNER</code> role can grant or revoke this role to and from another user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-202E1F06-86D0-4307-93AF-A60AFDD0A4A5__GUID-5589835D-3AFF-4907-9176-699FAE7A8DFD">DV_SECANALYST Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database Vault roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71470"></a><a id="DVADM71471"></a><a id="DVADM71472"></a><a id="DVADM71241"></a><div class="props_rev_3"><a id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2" name="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2"></a><h4 id="DVADM-GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2" class="sect4">DV_AUDIT_CLEANUP Audit Trail Cleanup Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_AUDIT_CLEANUP</code> role is used for purge operations.
                     </p>
                     <div class="infoboxnote" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-0281E040-939C-4ABF-8E34-9AAB92538707">
                        <p class="notep1">Note:</p>
                        <p>This feature has been updated in Oracle Database 12<span class="italic">c</span> release 1 (12.1.0.2).
                        </p>
                     </div>
                     <p>Grant the <code class="codeph">DV_AUDIT_CLEANUP</code> role to any user who is responsible for purging the Database Vault audit trail in a non-unified auditing environment. 
                     </p>
                     <p><a href="auditing-oracle-database-vault.html#GUID-2CE05A86-E814-4848-864D-2E1A74E2BD07" title="If you have not migrated to unified auditing, you should periodically archive and purge the Oracle Database Vault audit trail.">Archiving and Purging the Oracle Database Vault Audit Trail</a> explains how to use this role to complete a purge operation.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-83E3BEA5-E214-45F1-8486-42A14B6FF095">Privileges Associated with the DV_AUDIT_CLEANUP Role</p>
                        <p>The <code class="codeph">DV_AUDIT_CLEANUP</code> role has <code class="codeph">SELECT</code> and <code class="codeph">DELETE</code> privileges for three Database Vault-related auditing views. 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">SELECT</code> and <code class="codeph">DELETE</code> on the <code class="codeph">DVSYS.AUDIT_TRAIL$</code> table 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SELECT</code> and <code class="codeph">DELETE</code> on the <code class="codeph">DVSYS.DV$ENFORCEMENT_AUDIT</code> view 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SELECT</code> and <code class="codeph">DELETE</code> on the <code class="codeph">DVSYS.DV$CONFIGURATION_AUDIT</code> view   
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-1046487C-8C7C-4047-844D-9FF9224DB71F">How Are GRANT and REVOKE Operations Affected by DV_AUDIT_CLEANUP?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>By default, this role is granted to the <code class="codeph">DV_OWNER</code> role with the <code class="codeph">ADMIN OPTION</code>. 
                        </p>
                        <p>Only a user who has been granted the <code class="codeph">DV_OWNER</code> role can grant or revoke the <code class="codeph">DV_AUDIT_CLEANUP</code> role to another user. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CB8CE1CF-E572-4BBB-8BAB-204107E7DAC2__GUID-3EB24B56-DD65-44C9-BB7F-2E416020A2FB">DV_AUDIT_CLEANUP Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database Vault roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71474"></a><a id="DVADM71475"></a><a id="DVADM71476"></a><a id="DVADM71334"></a><div class="props_rev_3"><a id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5" name="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5"></a><h4 id="DVADM-GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5" class="sect4">DV_DATAPUMP_NETWORK_LINK Data Pump Network Link Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> role is used for Data Pump import operations.
                     </p>
                     <p>Grant the <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> role to any user who is responsible for conducting the <code class="codeph">NETWORK_LINK</code> transportable Data Pump import operation in an Oracle Database Vault environment. 
                     </p>
                     <p>This role enables the management of the Oracle Data Pump <code class="codeph">NETWORK_LINK</code> transportable import processes to be tightly controlled by Database Vault, but does not change or restrict the way you would normally conduct Oracle Data Pump operations.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5__GUID-CF461CBF-373B-4AB3-9570-CBE29AC8B380">Privileges Associated with the DV_DATAPUMP_NETWORK_LINK Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>There <a id="d53477e3441" class="indexterm-anchor"></a>are no system privileges associated with the <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> role, but it does have the <code class="codeph">EXECUTE</code> privilege on <code class="codeph">DVSYS</code> objects. 
                        </p>
                        <p>To find the full list of <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> object privileges, log into the database instance with sufficient privileges and then enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, OWNER, PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE = 'DV_DATAPUMP_NETWORK_LINK';
</pre><p>Be aware that the <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> role does not provide a sufficient set of database privileges to conduct <code class="codeph">NETWORK_LINK</code> transportable Data Pump import operation. Rather, the <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> role is an additional requirement (that is, in addition to the privileges that Oracle Data Pump currently requires) for database administrators to conduct <code class="codeph">NETWORK_LINK</code> transportable Data Pump import operations in an Oracle Database Vault environment.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5__GUID-533C23E9-6668-4B03-9D81-917782A71DC2">How Are GRANT and REVOKE Operations Affected by DV_DATAPUMP_NETWORK_LINK?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Only users who have been granted the <code class="codeph">DV_OWNER</code> role can grant or revoke the <code class="codeph">DV_DATAPUMP_NETWORK_LINK</code> role to or from other users.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2FBCA546-F12B-4AC7-B3C7-5DECC7740AD5__GUID-10106DAE-1475-45C2-9BAB-ABC83700EBAB">DV_DATAPUMP_NETWORK_LINK Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-F43AB786-056D-4875-A555-F036D75EE63B" title="Database administrators can authorize Oracle Data Pump users to work in a Database Vault environment.">Using Oracle Data Pump with Oracle Database Vault</a></li>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71482"></a><a id="DVADM71483"></a><a id="DVADM71484"></a><a id="DVADM71246"></a><div class="props_rev_3"><a id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B" name="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B"></a><h4 id="DVADM-GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B" class="sect4">DV_XSTREAM_ADMIN XStream Administrative Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_XSTREAM_ADMIN</code> role is used for Oracle XStream.
                     </p>
                     <p>Grant the <code class="codeph">DV_XSTREAM_ADMIN</code> role to any user who is responsible for configuring Oracle XStream in an Oracle Database Vault environment. 
                     </p>
                     <p>This enables the management of XStream processes to be tightly controlled by Database Vault, but does not change or restrict the way an administrator would normally configure XStream.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B__GUID-3A088635-A7DD-4CE3-B94C-24AF23A042B8">Privileges Associated with the DV_XSTREAM_ADMIN Role</p>
                        <p>There are no privileges associated with the <code class="codeph">DV_XSTREAM_ADMIN</code> role.
                        </p>
                        <p>Be aware that the <code class="codeph">DV_XSTREAM_ADMIN</code> role does not provide a sufficient set of database privileges for configuring XStream. Rather, the <code class="codeph">DV_XSTREAM_ADMIN</code> role is an additional requirement (that is, in addition to the privileges that XStream currently requires) for database administrators to configure XStream in an Oracle Database Vault environment. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B__GUID-F29EDA08-36C9-4432-95C6-6D9C31F29BD3">How Are GRANT and REVOKE Operations Affected by DV_XSTREAM_ADMIN?</p>
                        <p>Only users who have been granted the <code class="codeph">DV_OWNER</code> role can grant or revoke the <code class="codeph">DV_XSTREAM_ADMIN</code> role to or from other users. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2EC5160C-E4AF-4A2B-AB47-4ED7D463AB2B__GUID-B13BAACF-A1FE-4CE5-825E-5EF77240F239">DV_XSTREAM_ADMIN Status When Oracle Database Vault Security Is Disabled</p>
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-83F623CD-C0CC-47BB-8CF9-1F55DE44C7A3" title="If you want to use XStream in an Oracle Database Vault environment, then you must have the appropriate privileges.">Privileges for Using XStream with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71486"></a><a id="DVADM71487"></a><a id="DVADM71488"></a><a id="DVADM71250"></a><div class="props_rev_3"><a id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D" name="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D"></a><h4 id="DVADM-GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D" class="sect4">DV_GOLDENGATE_ADMIN GoldenGate Administrative Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_GOLDENGATE_ADMIN</code> role is used with Oracle GoldenGate.
                     </p>
                     <p>Grant theto any user who is responsible for configuring Oracle GoldenGate in an Oracle Database Vault environment. </p>
                     <p>This enables the management of Oracle GoldenGate processes to be tightly controlled by Database Vault, but does not change or restrict the way an administrator would normally configure Oracle GoldenGate.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D__GUID-7DD75008-D4A2-4E3F-B0F1-5D39D03FC536">Privileges Associated with the DV_GOLDENGATE_ADMIN Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>There are no privileges associated with the <code class="codeph">DV_GOLDENGATE_ADMIN</code> role.
                        </p>
                        <p>Be aware that the <code class="codeph">DV_GOLDENGATE_ADMIN</code> role does not provide a sufficient set of database privileges for configuring Oracle GoldenGate. Rather, the <code class="codeph">DV_GOLDENGATE_ADMIN</code> role is an additional requirement (that is, in addition to the privileges that Oracle GoldenGate currently requires) for database administrators to configure Oracle GoldenGate in an Oracle Database Vault environment. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D__GUID-7B963E3D-00CD-41BD-8797-971C9CE93DDE">How Are GRANT and REVOKE Operations Affected by DV_GOLDENGATE_ADMIN?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Only users who have been granted the <code class="codeph">DV_OWNER</code> role can grant or revoke the <code class="codeph">DV_GOLDENGATE_ADMIN</code> role to or from other users. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-37C616E2-F56B-4A69-A971-FE07FC352A4D__GUID-16BA4122-5765-41C7-97B9-508D5E9B4197">DV_GOLDENGATE_ADMIN Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-8BC01B07-01AE-4973-9E72-BD637D773D01" title="If you want to use Oracle GoldenGate in an Oracle Database Vault environment, then you must have the appropriate privileges.">Privileges for Using Oracle GoldenGate in with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71490"></a><a id="DVADM71491"></a><a id="DVADM71492"></a><a id="DVADM71254"></a><div class="props_rev_3"><a id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039" name="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039"></a><h4 id="DVADM-GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039" class="sect4">DV_GOLDENGATE_REDO_ACCESS GoldenGate Redo Log Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role is used with Oracle GoldenGate.
                     </p>
                     <p>Grant the <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role to any user who is responsible for using the Oracle GoldenGate <code class="codeph">TRANLOGOPTIONS DBLOGREADER</code> method to access redo logs in an Oracle Database Vault environment. 
                     </p>
                     <p>This enables the management of Oracle GoldenGate processes to be tightly controlled by Database Vault, but does not change or restrict the way an administrator would normally configure Oracle GoldenGate.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039__GUID-3233DF06-2AB3-436A-8742-09704BE01E11">Privileges Associated with the DV_GOLDENGATE_REDO_ACCESS Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>There are no privileges associated with the <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role. 
                        </p>
                        <p>Be aware that the <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role does not provide a sufficient set of database privileges for configuring Oracle GoldenGate. Rather, the <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role is an additional requirement (that is, in addition to the privileges that Oracle GoldenGate currently requires) for database administrators. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039__GUID-63608BE1-755A-40AD-AE73-95297F772052">How Are GRANT and REVOKE Operations Affected by DV_GOLDENGATE_REDO_ACCESS?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You cannot grant the <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role with <code class="codeph">ADMIN OPTION</code>. 
                        </p>
                        <p>Only users who have been granted the <code class="codeph">DV_OWNER</code> role can grant or revoke the <code class="codeph">DV_GOLDENGATE_REDO_ACCESS</code> role to or from other users. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C430465-D2AE-4FEF-AAF2-5D81A84E3039__GUID-2BBD7B26-81D3-4B5F-9863-713536861A29">DV_GOLDENGATE_REDO_ACCESS Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                           <li><a href="dba-operations-in-an-oracle-database-vault-environment.html#GUID-8BC01B07-01AE-4973-9E72-BD637D773D01" title="If you want to use Oracle GoldenGate in an Oracle Database Vault environment, then you must have the appropriate privileges.">Privileges for Using Oracle GoldenGate in with Oracle Database Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71494"></a><a id="DVADM71495"></a><a id="DVADM71496"></a><a id="DVADM70355"></a><div class="props_rev_3"><a id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" name="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C"></a><h4 id="DVADM-GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C" class="sect4">DV_PATCH_ADMIN Database Vault Database Patch Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_PATCH_ADMIN</code> role is used for patching operations.
                     </p>
                     <p>In order to generate all Database Vault-related audit records in accordance with the audit policies specified in the Database Vault metadata as well as Database Vault unified audit policies, execute the <code class="codeph">DBMS_MACADM.ENABLE_DV_PATCH_ADMIN_AUDIT</code> procedure as a user who has been granted the <code class="codeph">DV_ADMIN</code> role before using the <code class="codeph">DV_PATCH_ADMIN</code> role. 
                     </p>
                     <p>Temporarily grant the <code class="codeph">DV_PATCH_ADMIN</code> role to any database administrator who is responsible for performing database patching. Before this administrator performs the patch operation, run the <code class="codeph">DBMS_MACADM.ENABLE_DV_PATCH_ADMIN_AUDIT</code> procedure. This procedure enables realm, command rule, and rule set auditing of the actions by users who have been granted the <code class="codeph">DV_PATCH_ADMIN</code> role, in accordance with the existing audit configuration. If you have mixed-mode auditing, then this user's actions are written to the  <code class="codeph">AUDIT_TRAIL$</code> table. If you have pure unified auditing enabled, then you should create a unified audit policy to capture this user's actions. 
                     </p>
                     <p>After the patch operation is complete, do not immediately disable the auditing of users who are responsible for performing database patch operations. This way, you can track the actions of the <code class="codeph">DV_PATCH_ADMIN</code> role users. For backwards compatibility, this type of auditing is disabled by default.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__GUID-BCC56E31-DDC0-49A7-9E9B-2315120C88AB">Privileges Associated with the DV_PATCH_ADMIN Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">DV_PATCH_ADMIN</code> role does not provide access to any secured data. 
                        </p>
                        <p>The <code class="codeph">DV_PATCH_ADMIN</code> role a special Database Vault role that does not have any object or system privilege. It is designed to allow the database administrator or the user <code class="codeph">SYS</code> to patch Database Vault enabled databases (for example, applying a database patch without disabling Database Vault). It also enables the database administrator to create users, because some patches may require the need to create new schemas.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__GUID-F3C07A13-DEA3-44B9-A6C1-FEA9236DCA56">How Are GRANT and REVOKE Operations Affected by DV_PATCH_ADMIN?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Only a user who has the <code class="codeph">DV_OWNER</code> role can grant or revoke the <code class="codeph">DV_PATCH_ADMIN</code> role to and from another user. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__GUID-6394E382-A759-4E5D-8724-2EE0B90E92A0">DV_PATCH_ADMIN Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__SECTION_T5Z_PXK_R2B">
                        <p class="subhead3" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__TITLE_AZR_QXK_R2B">Guidance for Registering Database Vault When Patching in Multitenant Environments</p>
                        <p>In some multitenant environments, the <code class="codeph">DV_OWNER</code> user is configured locally, not in the CDB root. If the database must be patched, then the <code class="codeph">DV_OWNER</code> role must grant the <code class="codeph">DV_PATCH_ADMIN</code> role commonly to <code class="codeph">SYS</code> before <code class="codeph">SYS</code> can perform the patch. However, a locally-granted <code class="codeph">DV_OWNER</code> role cannot grant the <code class="codeph">DV_PATCH_ADMIN</code> role commonly. To remedy this problem, you can use one of the following approaches:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-0C1B6A4D-EB14-4C69-B569-2128BC66C24C__UL_APY_JXK_R2B">
                           <li>Before you enable Oracle Database Vault, grant the <code class="codeph">DV_PATCH_ADMIN</code> role commonly to the <code class="codeph">SYS</code> user, and then enable Database Vault is the CDB root. In this case, the <code class="codeph">DV_OWNER</code> user will not be able to commonly revoke or grant the <code class="codeph">DV_PATCH_ADMIN</code> role. 
                           </li>
                           <li>When the database patching must occur, disable Database Vault entirely and have the <code class="codeph">SYS</code> user grant itself the <code class="codeph">DV_PATCH_ADMIN</code> role commonly. Then enable Database Vault and allow <code class="codeph">SYS</code> to perform the patch operation. After patching, disable Database Vault, revoke the <code class="codeph">DV_PATCH_ADMIN</code> role from the <code class="codeph">SYS</code> user, and then re-enable Database Vault. 
                           </li>
                           <li>Before patching, have the CDB root <code class="codeph">DV_OWNER</code> grant the <code class="codeph">DV_PATCH_ADMIN</code> role locally to <code class="codeph">SYS</code>. All PDBs that are Database Vault enabled will also have their PDB local <code class="codeph">DV_OWNER</code> user grant <code class="codeph">DV_PATCH_ADMIN</code> locally to <code class="codeph">SYS</code>. <code class="codeph">SYS</code> then performs the database patch operation, and then all <code class="codeph">DV_OWNER</code> users can revoke the <code class="codeph">DV_PATCH_ADMIN</code> role from their own container <code class="codeph">SYS</code> user. 
                           </li>
                           <li>Grant the <code class="codeph">DV_OWNER</code> role commonly to the CDB root <code class="codeph">DV_OWNER</code> user when you run the <code class="codeph">DV_CONFIGURE</code> procedure. 
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dbseg/introduction-to-auditing.html#DBSEG-GUID-94381464-53A3-421B-8F13-BD171C867405" target="_blank">Introduction to Auditing</a></li>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71498"></a><a id="DVADM71499"></a><a id="DVADM71500"></a><a id="DVADM70359"></a><div class="props_rev_3"><a id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802" name="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802"></a><h4 id="DVADM-GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802" class="sect4">DV_ACCTMGR Database Vault Account Manager Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_ACCTMGR</code> role is a powerful role, used for accounts management.
                     </p>
                     <p>Use the <code class="codeph">DV_ACCTMGR</code> role to create and maintain database accounts and database profiles. In this manual, the example <code class="codeph">DV_ACCTMGR</code> role is assigned to a user named <code class="codeph">bea_dvacctmgr</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-2BC0FBEF-3976-4633-AF3F-4A87B21F11AE">Privileges Associated with the DV_ACCTMGR Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A user who has been granted this role can use the <code class="codeph">CREATE</code>, <code class="codeph">ALTER</code>, and <code class="codeph">DROP</code> statements for user accounts or profiles, including users who have been granted the <code class="codeph">DV_SECANALYST</code>, <code class="codeph">DV_AUDIT_CLEANUP</code>, and <code class="codeph">DV_MONITOR</code> roles. 
                        </p>
                        <p>This user also can grant the <code class="codeph">CREATE SESSION</code> privilege to other users. However, a person who has been granted the <code class="codeph">DV_ACCTMGR</code> role cannot perform the following operations:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALTER</code> or <code class="codeph">DROP</code> statements on the <code class="codeph">DVSYS</code> account 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> or <code class="codeph">DROP</code> statements on users who have been granted the <code class="codeph">DV_ADMIN</code> or <code class="codeph">DV_OWNER</code> role
                              </p>
                           </li>
                           <li>
                              <p>Change passwords for users who have been granted the <code class="codeph">DV_ADMIN</code> or <code class="codeph">DV_OWNER</code> role
                              </p>
                           </li>
                        </ul>
                        <p>A common user who has been granted the <code class="codeph">DV_ACCTMGR</code> role in the CDB root can alter a common user or a common profile in the CDB root even if the common <code class="codeph">DV_ACCTMGR</code> user does not have the <code class="codeph">SET CONTAINER</code> privilege or the <code class="codeph">DV_ACCTMGR</code> role in any PDB.
                        </p>
                        <p>To find the full list of system and object privileges associated with the <code class="codeph">DV_ACCTMGR</code> role, log into the database instance with sufficient privileges and then enter the following queries:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, OWNER, PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE = 'DV_ACCTMGR';
SELECT PRIVILEGE FROM DBA_SYS_PRIVS WHERE GRANTEE = 'DV_ACCTMGR';</pre><div class="infoboxnote" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-32EE6B3F-43B2-4CCF-9C97-9D0B80EA5792">
                           <p class="notep1">Tips:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you want the <code class="codeph">DV_ACCTMGR</code> user to be able to grant or revoke the  <code class="codeph">ANY</code> privileges for other users, then log in as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> privilege and grant this user the <code class="codeph">GRANT ANY PRIVILEGE</code> and <code class="codeph">REVOKE ANY PRIVILEGE</code> privileges. Then add this user to the Oracle System Privilege and Role Management Realm as an owner.
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle strongly recommends that you create a separate, named account for the <code class="codeph">DV_ACCTMGR</code> user. This way, if this user forgets his or her password, you can log in as the original <code class="codeph">DV_ACCTMGR</code> account and reset the user's password. Otherwise, you must disable Oracle Database Vault, log in as <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code> to recreate the password, and then re-enable Database Vault. 
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-D5D93D74-4A07-496C-BF3C-3A56AF56AC3B">How Are GRANT and REVOKE Operations Affected by DV_ACCTMGR?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Any account, such as <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code>, with the <code class="codeph">GRANT ANY ROLE</code> system privilege alone does not have the rights to grant this role to or revoke this role from any other database account. 
                        </p>
                        <p>The account with the <code class="codeph">DV_ACCTMGR</code> role and the <code class="codeph">ADMIN OPTION</code> can grant this role to any given database account and revoke this role from another account. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BE9F1454-3798-4B2E-A07D-98A3B6263802__GUID-0FEE2A22-D207-48CE-83AC-0AA3A12772DC">DV_ACCTMGR Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71502"></a><a id="DVADM71503"></a><a id="DVADM71504"></a><a id="DVADM70363"></a><div class="props_rev_3"><a id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A" name="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A"></a><h4 id="DVADM-GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A" class="sect4">DV_REALM_OWNER Database Vault Realm DBA Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_REALM_OWNER</code> role is used for realm management.
                     </p>
                     <p>Use the <code class="codeph">DV_REALM_OWNER</code> role to manage database objects in multiple schemas that define a realm. 
                     </p>
                     <p>Grant this role to the database account who is responsible for managing one or more schema database accounts within a realm and the roles associated with the realm. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A__GUID-BFC9D07B-79BF-49B4-B267-617699AD606D">Privileges Associated with the DV_REALM_OWNER Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>A user who has been granted this role can use powerful system privileges like <code class="codeph">CREATE ANY</code>, <code class="codeph">ALTER ANY</code>, and <code class="codeph">DROP ANY</code> within the realm. 
                        </p>
                        <p>However, before this user can exercise these privileges, you must make this user either a participant or an owner for the realm. See <a href="configuring-realms.html#GUID-18D6FFCB-42C2-49D1-9F53-BADE7B0754AB" title="Realm authorizations establish the set of database accounts and roles that manage or access objects protected in realms.">About Realm Authorization</a> for instructions.
                        </p>
                        <p>There are no object privileges granted to the <code class="codeph">DV_REALM_OWNER</code> role, but it does have some system privileges. To find the full list of <code class="codeph">DV_REALM_OWNER</code> system privileges, log into the database instance with sufficient privileges and enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT PRIVILEGE FROM DBA_SYS_PRIVS WHERE GRANTEE = 'DV_REALM_OWNER';</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A__GUID-2A56ED17-BFAA-46FD-9B2E-1B12A148AEE0">How Are GRANT and REVOKE Operations Affected by DV_REALM_OWNER?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The realm owner of the Oracle System Privilege and Role Management realm, such as <code class="codeph">SYS</code>, can grant this role to any given database account or role. 
                        </p>
                        <p>Note that though this role has powerful system privileges, it does not have any Oracle Database Vault roles such as the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> roles.
                        </p>
                        <p>If you want to attach this role to a specific realm, then you must assign it to an account or business-related role, then authorize that account or role in the realm. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1C133762-2C77-49A4-BE6F-7C81B0EE508A__GUID-F0EA0A87-AFCD-43EA-8370-7FD946EA67ED">DV_REALM_OWNER Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71506"></a><a id="DVADM71507"></a><a id="DVADM71508"></a><a id="DVADM70367"></a><div class="props_rev_3"><a id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E" name="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E"></a><h4 id="DVADM-GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E" class="sect4">DV_REALM_RESOURCE Database Vault Application Resource Owner Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_REALM_RESOURCE</code> role is use for the management of realm resources.
                     </p>
                     <p>Use the <code class="codeph">DV_REALM_RESOURCE</code> role for operations such as creating tables, views, triggers, synonyms, and other objects that a realm would typically use.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E__GUID-927B7F6E-371E-4273-B6E7-ACF8C376A183">Privileges Associated with the DV_REALM_RESOURCE Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">DV_REALM_RESOURCE</code> role provides the same system privileges as the Oracle <code class="codeph">RESOURCE</code> role. In addition, both <code class="codeph">CREATE SYNONYM</code> and <code class="codeph">CREATE VIEW</code> are granted to this role.
                        </p>
                        <p>There are no object privileges granted to the <code class="codeph">DV_REALM_RESOURCE</code> role, but it does have some system privileges. To find the full list of <code class="codeph">DV_REALM_RESOURCE</code> system privileges, log into the database instance with sufficient privileges and enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT PRIVILEGE FROM DBA_SYS_PRIVS WHERE GRANTEE = 'DV_REALM_RESOURCE';
</pre><p>Though this role has powerful system privileges, it does not have any Oracle Database Vault roles such as the <code class="codeph">DV_OWNER</code> or <code class="codeph">DV_ADMIN</code> roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E__GUID-F8C68805-2BF0-415B-8E81-4FBF9A04E0AA">How Are GRANT and REVOKE Operations Affected by DV_REALM_RESOURCE?</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You can grant the <code class="codeph">DV_REALM_RESOURCE</code> role to a database account that owns database tables, objects, triggers, views, procedures, and so on that are used to support any database application. 
                        </p>
                        <p>This is a role designed for a schema type database account. The realm owner of the Oracle System Privilege and Role Management realm, such as <code class="codeph">SYS</code>, can grant this role to any database account or role.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC3C7AEE-FE5C-4662-A9DF-55A7CB03A37E__GUID-F02EE6C3-2A07-4EEE-81FE-DF3CBE2D80A8">DV_REALM_RESOURCE Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1" name="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1"></a><h4 id="DVADM-GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1" class="sect4">DV_POLICY_OWNER Database Vault Owner Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_POLICY_OWNER</code> role enables database users to manage to a limited degree Oracle Database Vault policies.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1__GUID-109BF8D0-0F21-4554-85DB-9EE45202D06F">Privileges Associated with the DV_POLICY_OWNER Role</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">DV_POLICY_OWNER</code> role provides non-Database Vault administrative users the sufficient privileges to enable or disable a Database Vault policy, add or remove authorization to or from a realm, and use the <code class="codeph">SELECT</code> privilege for the following database views: 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_COMMAND_RULE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_POLICY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_REALM</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_REALM_AUTH</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_REALM_OBJECT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_RULE_SET</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_RULE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DVSYS.POLICY_OWNER_RULE_SET_RULE</code></p>
                           </li>
                        </ul>
                        <p>Only the <code class="codeph">DV_POLICY_OWNER</code> can query these views. Even users who have the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ADMIN</code> roles cannot query these views.
                        </p>
                        <p>The <code class="codeph">DV_POLICY_OWNER</code> role does not have any system privileges. To find the full list of object privileges that are associated with the <code class="codeph">DV_POLICY_OWNER</code> role, you can log into the database instance enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, OWNER, PRIVILEGE FROM DBA_TAB_PRIVS WHERE GRANTEE = 'DV_POLICY_OWNER';
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1__GUID-6CDF10DD-3E08-443C-B178-B34485CF8252">How Are GRANT and REVOKE Operations Affected by DV_POLICY_OWNER?</p>
                        <p>Users who have been granted <code class="codeph">DV_POLICY_OWNER</code> role cannot grant or revoke this role to or from other users. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BC49B11-2BFC-4869-AB1D-95A088B6CCE1__DV_POLICY_OWNERSTATUSWHENORACLEDATA-B1F50DCC">DV_POLICY_OWNER Status When Oracle Database Vault Security Is Disabled</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The protection of all Oracle Database Vault roles is enforced only if Oracle Database Vault is enabled. </p>
                        <p>If Oracle Database Vault is disabled, then any account with the <code class="codeph">GRANT ANY ROLE</code> system privilege can perform <code class="codeph">GRANT</code> and <code class="codeph">REVOKE</code> operations on protected Database Vault roles.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="disabling-and-enabling-oracle-database-vault.html#GUID-89689CF6-63E9-45BC-AF12-10CD42A2DFC6" title="Periodically you must disable and then re-enable Oracle Database Vault, for activities such as installing Oracle Database optional products or features.">Disabling and Enabling Oracle&nbsp;Database&nbsp;Vault</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70371"></a><div class="props_rev_3"><a id="GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5" name="GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5"></a><h4 id="DVADM-GUID-E675C13D-8F06-49F2-AE31-2944CE8C37F5" class="sect4">DV_PUBLIC Database Vault PUBLIC Role</h4>
                  <div>
                     <p>The <code class="codeph">DV_PUBLIC</code> role is no longer used. 
                     </p>
                     <p>The <code class="codeph">DV_PUBLIC</code> role is still created during installation, but it is not granted any roles or privileges. All privileges that were granted to <code class="codeph">DV_PUBLIC</code> in previous releases are now granted directly to the <code class="codeph">PUBLIC</code> role. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-4E1707B4-F9BB-4131-9D3E-90BB273F2832" title="Oracle Database Vault provides default roles that are based on specific user tasks and adhere to separation of duty concepts.">Oracle Database Vault Roles</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70376"></a><a id="DVADM70377"></a><a id="DVADM70375"></a><div class="props_rev_3"><a id="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F" name="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F"></a><h3 id="DVADM-GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F" class="sect3">Oracle Database Vault Accounts Created During Registration</h3>
               <div>
                  <p>You must create accounts for the Oracle Database Vault Owner and Oracle Database Vault Account Manager during the registration process. </p>
                  <p>You must supply an account name and password for the Oracle Database Vault Owner accounts during installation. Creating an Oracle Database Vault Account Manager is optional but strongly recommended for better separation of duty.</p>
                  <p>The Oracle Database Vault Owner account is granted the <code class="codeph">DV_OWNER</code> role. This account can manage Oracle Database Vault roles and configuration. 
                  </p>
                  <p>The Oracle Database Vault Account Manager account is granted the <code class="codeph">DV_ACCTMGR</code> role. This account is used to manage database user accounts to facilitate separation of duties. 
                  </p>
                  <p>If you choose not to create the Oracle Database Vault Account Manager account during installation, then both the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles are granted to the Oracle Database Vault Owner user account.
                  </p>
                  <p><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABJBIAG" title="lists the default Data Vault database accounts">Table 13-2</a> lists the Oracle Database Vault database accounts that are needed in addition to the accounts that you create during installation. 
                  </p>
                  <div class="tblformal" id="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABJBIAG">
                     <p class="titleintable">Table 13-2 Database Accounts Used by Oracle Database Vault</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Database Accounts Used by Oracle Database Vault" summary="lists the default Data Vault database accounts" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d53477e5569">Database Account</th>
                              <th align="left" valign="bottom" width="50%" id="d53477e5572">Roles and Privileges</th>
                              <th align="left" valign="bottom" width="27%" id="d53477e5575">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53477e5580" headers="d53477e5569 ">
                                 <p><code class="codeph">DVSYS</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d53477e5580 d53477e5572 ">
                                 <p>Several system and object privileges are provided to support Oracle Database Vault. The ability to create a session with this account is revoked at the end of the installation, and the account is locked.</p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d53477e5580 d53477e5575 ">
                                 <p>Owner of Oracle Database Vault schema and related objects</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53477e5591" headers="d53477e5569 ">
                                 <p><code class="codeph">DVF</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d53477e5591 d53477e5572 ">
                                 <p>A limited set of system privileges are provided to support Oracle Database Vault. The ability to create a session with this account is revoked at the end of the installation, and the account is locked.</p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d53477e5591 d53477e5575 ">
                                 <p>Owner of the Oracle Database Vault functions that are created to retrieve factor identities</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d53477e5602" headers="d53477e5569 ">
                                 <p><code class="codeph">LBACSYS</code></p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d53477e5602 d53477e5572 ">
                                 <p>This account is created when you install Oracle Label Security by using the Oracle Universal Installer custom installation option. (It is not created when you install Oracle Database Vault.) Do not drop or re-create this account. </p>
                                 <p>If you plan to integrate a factor with an Oracle Label Security policy, you must assign this user as the owner of the realm that uses this factor. See <a href="integrating-database-vault-with-other-oracle-products.html#GUID-8B571D38-9687-45F3-9BE2-A774CB485505" title="To enhance security, you can integrate Oracle Database Vault factors with Oracle Label Security policies.">Using Oracle Database Vault Factors with Oracle Label Security Policies</a> for more information. 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="27%" headers="d53477e5602 d53477e5575 ">
                                 <p>Owner of the Oracle Label Security schema</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>You can create different database accounts to implement the separation of duties requirements for Oracle Database Vault. <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABGGGIE" title="Database accounts with thier respective descriptions and roles and privileges">Table 13-3</a> lists some model database accounts that can act as a guide. (The accounts listed in <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABGGGIE" title="Database accounts with thier respective descriptions and roles and privileges">Table 13-3</a> serve as a guide to implementing Oracle Database Vault roles. These are not actual accounts that are created during installation.)
                  </p>
                  <div class="tblformal" id="GUID-F6CA47BC-B122-4FBD-B914-E5487FEF4F9F__BABGGGIE">
                     <p class="titleintable">Table 13-3 Model Oracle Database Vault Database Accounts</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Model Oracle Database Vault Database Accounts" summary="Database accounts with thier respective descriptions and roles and privileges" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d53477e5643">Database Account</th>
                              <th align="left" valign="bottom" width="29%" id="d53477e5646">Roles and Privileges</th>
                              <th align="left" valign="bottom" width="54%" id="d53477e5649">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5654" headers="d53477e5643 ">
                                 <p><code class="codeph">EBROWN</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5654 d53477e5646 ">
                                 <p><code class="codeph">DV_OWNER</code> (with <code class="codeph">DV_ADMIN</code> and <code class="codeph">DV_SECANALYST</code>)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5654 d53477e5649 ">
                                 <p>Account that is the realm owner for the Oracle Database Vault realm. This account can: </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Execute <code class="codeph">DVSYS</code> packages
                                       </p>
                                    </li>
                                    <li>
                                       <p>Grant privileges on the <code class="codeph">DVSYS</code> schema objects
                                       </p>
                                    </li>
                                    <li>
                                       <p>Select objects in the <code class="codeph">DVSYS</code> schema
                                       </p>
                                    </li>
                                    <li>
                                       <p>Monitor Oracle Database Vault activity</p>
                                    </li>
                                    <li>
                                       <p>Run reports on the Oracle Database Vault configuration</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5698" headers="d53477e5643 ">
                                 <p><code class="codeph">JGODFREY</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5698 d53477e5646 ">
                                 <p><code class="codeph">DV_ACCTMGR</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5698 d53477e5649 ">
                                 <p>Account for administration of database accounts and profiles. This account can:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Create, alter, and drop users</p>
                                    </li>
                                    <li>
                                       <p>Create, alter, and drop profiles</p>
                                    </li>
                                    <li>
                                       <p>Grant and revoke the <code class="codeph">CREATE SESSION</code> privilege
                                       </p>
                                    </li>
                                    <li>
                                       <p>Grant and revoke the <code class="codeph">DV_ACCTMGR</code> role, but only if this account was created during the Database Vault installation (this account is created with the <code class="codeph">ADMIN</code> option)
                                       </p>
                                    </li>
                                    <li>
                                       <p>Grant and revoke the <code class="codeph">CONNECT</code> role
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> This account cannot create roles, or grant the <code class="codeph">RESOURCE</code> or <code class="codeph">DBA</code> roles.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5748" headers="d53477e5643 ">
                                 <p><code class="codeph">RLAYTON</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5748 d53477e5646 ">
                                 <p><code class="codeph">DV_ADMIN</code> (with <code class="codeph">DV_SECANALYST</code>)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5748 d53477e5649 ">
                                 <p>Account to serve as the access control administrator. This account can:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Execute <code class="codeph">DVSYS</code> packages
                                       </p>
                                    </li>
                                    <li>
                                       <p>Monitor Oracle Database Vault activity</p>
                                    </li>
                                    <li>
                                       <p>Run reports on the Oracle Database Vault configuration</p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> This account cannot directly update the <code class="codeph">DVSYS</code> tables. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d53477e5784" headers="d53477e5643 ">
                                 <p><code class="codeph">PSMYTHE</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d53477e5784 d53477e5646 ">
                                 <p><code class="codeph">DV_SECANALYST</code></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d53477e5784 d53477e5649 ">
                                 <p>Account for running Oracle Database Vault reports</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="integrating-database-vault-with-other-oracle-products.html#GUID-9322A3F3-F45B-42B3-8A00-56FABE7680DE" title="You can configure existing Oracle Database Vault user accounts as enterprise user accounts.">Configuring Oracle Database Vault Accounts as Enterprise User Accounts</a></li>
                        <li><a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" title="As a best practice, you should maintain backup accounts for the DV_OWNER and DV_ACCTMGR roles.">Backup Oracle Database Vault Accounts</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.">Oracle Database Vault Schemas, Roles, and&nbsp;Accounts</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" name="GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC"></a><h3 id="DVADM-GUID-85DCF2C7-BC01-425E-AEDB-1326274713AC" class="sect3">Backup Oracle Database Vault Accounts</h3>
               <div>
                  <p>As a best practice, you should maintain backup accounts for the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles.
                  </p>
                  <p>The Oracle Database Vault registration process entails creating both day-to-day and backup accounts for the&nbsp;<code class="codeph">DV_OWNER</code>&nbsp;and&nbsp;<code class="codeph">DV_ACCTMGR</code>&nbsp;roles. You should keep and maintain these accounts as a safety measure in case a user who has been granted one of these roles forgets his or her password or leaves the organization. Then you can log in to the backup account to recover the password or grant the role to a new account.&nbsp;These should be only used as a backup account kept safe in a privileged account management system or an organization break-glass (or emergency password recovery) system. When you grant a user one of these roles, include the <code class="codeph">WITH ADMIN OPTION</code> clause in the <code class="codeph">GRANT</code> statement. 
                  </p>
                  <p>Because of the strong separation of duty that Oracle Database Vault implements, loss of access to the <code class="codeph">DV_OWNER</code> account will force you to rebuild the database. The <code class="codeph">SYS</code> account cannot override the <code class="codeph">DV_OWNER</code> account
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="troubleshooting-oracle-database-vault.html#GUID-6A419E95-F2E4-4F37-8B84-EFB78989BBDB" title="Backup accounts can help you reset lost passwords for users who have been granted the DV_OWNER and DV_ACCTMGR roles.">Resetting Oracle Database Vault Account Passwords</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-schemas-roles-and-accounts.html#GUID-AD6F5807-3927-466F-BCFF-E82FDA912493" title="Oracle Database Vault provides schemas that contain Database Vault objects, roles that provide separation of duty for specific tasks, and default user accounts.">Oracle Database Vault Schemas, Roles, and&nbsp;Accounts</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00652.how-to-use-XML-DB.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">
      <meta name="description" content="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">
      <title>Overview of How To Use Oracle XML&nbsp;DB</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="getting-started-with-XML-DB.html" title="Previous" type="text/html">
      <link rel="next" href="manipulation-of-XML-in-XML-DB.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="getting-started-with-XML-DB.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="manipulation-of-XML-in-XML-DB.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-basics.html" property="item" typeof="WebPage"><span property="name"> Oracle XML&nbsp;DB Basics</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Overview of How To Use Oracle XML&nbsp;DB</li>
            </ol>
            <a id="GUID-757B4470-851B-47B7-AB78-81F47ECE5398" name="GUID-757B4470-851B-47B7-AB78-81F47ECE5398"></a><a id="ADXDB0300"></a>
            
            <h2 id="ADXDB-GUID-757B4470-851B-47B7-AB78-81F47ECE5398" class="sect2"><span class="enumeration_chapter">3 </span> Overview of How To Use Oracle XML&nbsp;DB
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='how-to-use-XML-DB'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>An overview of the various ways of using Oracle XML&nbsp;DB is presented.</p>
               <p>This overview illustrates how to do the following: create and partition <code class="codeph">XMLType</code> tables and columns; enforce data integrity, load, query, and update database XML content; and generate XML data from relational data. It also explains how Oracle XML&nbsp;DB determines which character sets are used for XML documents. 
               </p>
               <div class="section">
                  <p class="subhead1" id="GUID-757B4470-851B-47B7-AB78-81F47ECE5398__GUID-3110B980-4BC0-4DA8-B5FE-4CE8010C1B95">Purchase Order Documents Illustrate Key XML Schema Features</p>
                  <p>Many of the examples presented in this chapter illustrate techniques for accessing and managing XML content in purchase-order documents. Purchase orders are highly structured documents, but you can also use the techniques shown here to work with XML documents that have little structure. </p>
                  <p>The purchase-order documents used for the examples here conform to a purchase-order XML schema that demonstrates some key features of a typical XML document:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Global element <code class="codeph">PurchaseOrder</code> is an instance of the <code class="codeph">complexType</code> <code class="codeph">PurchaseOrderType</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">PurchaseOrderType</code> defines the set of nodes that make up a <code class="codeph">PurchaseOrder</code> element
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">LineItems</code> element consists of a collection of <code class="codeph">LineItem</code> elements
                        </p>
                     </li>
                     <li>
                        <p>Each <code class="codeph">LineItem</code> element consists of two elements: <code class="codeph">Description</code> and <code class="codeph">Part</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">Part</code> element has attributes <code class="codeph">Id</code>, <code class="codeph">Quantity</code>, and <code class="codeph">UnitPrice</code></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B">Creating XMLType Tables and Columns</a><br>Creating a table or column of <code class="codeph">XMLType</code> is straightforward because it is an abstract data type.
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242">Creating Virtual Columns on XMLType Data Stored as Binary XML</a><br>You can create virtual columns only for <code class="codeph">XMLType</code> data that is stored as binary XML. Such columns are useful for partitioning or constraining the data.
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5">Partitioning Tables That Contain XMLType Data Stored as Binary XML</a><br>You can partition a table that contains <code class="codeph">XMLType</code> data stored as binary XML. 
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-8320CE79-5536-4252-BAF4-746692EBA596">Enforcing XML Data Integrity Using the Database</a><br>You can combine the power of SQL and XML with the ability of the database to enforce rules.
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B">Loading XML Content into Oracle XML&nbsp;DB</a><br>There are several ways to load XML content into Oracle XML&nbsp;DB.
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75">Querying XML Content Stored in Oracle XML&nbsp;DB</a><br>There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it. 
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8">Updating XML Content Stored in Oracle XML&nbsp;DB</a><br>You can update XML content, replacing either the entire contents of a     document or only particular parts of a document. 
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B">Generating XML Data from Relational Data</a><br>You can use Oracle XML&nbsp;DB to generate XML data from relational data.
                  </li>
                  <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D">Character Sets of XML Documents</a><br>There are a few ways in which Oracle XML&nbsp;DB determines which character sets are used for XML documents
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-757B4470-851B-47B7-AB78-81F47ECE5398__GUID-6E7C00BE-B33D-4314-BB86-CE698C0D0877">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="getting-started-with-XML-DB.html#GUID-39A9B429-EFD9-4FC0-AB93-35324AF6D6AE" title="When planning an Oracle XML&nbsp;DB application it can be worthwhile to consider some preliminary design criteria.">Application Design Considerations for Oracle XML&nbsp;DB</a> for recommended Oracle XML&nbsp;DB features for most uses
                        </p>
                     </li>
                     <li>
                        <p><a href="XMLType-APIs.html#GUID-6209297F-DBE4-4F31-85F1-4083BF5BDE01" title="You can use Oracle XML&nbsp;DB XMLType PL/SQL, Java, C APIs, and Oracle Data Provider for .NET (ODP.NET) to access and manipulate XML data.">XMLType APIs</a>, <a href="XML-Schema-and-object-relational-XMLType.html#GUID-817F95DE-D604-41DC-BCDE-76CDE30F9176" title="The use of XML Schema and object-relational storage of XMLType data is covered.">XML Schema and Object-Relational XMLType</a>, and <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML&nbsp;DB Repository lets you version your data, implement and manage security, and use APIs to access and manipulate repository resources.">Oracle XML&nbsp;DB Repository</a> for information about more advanced Oracle XML&nbsp;DB features
                        </p>
                     </li>
                     <li>
                        <p><a href="oracle-supplied-XML-schemas-and-examples.html#GUID-1CB2213C-C6E8-4BC4-86A3-EFDE51AEBEFD" title="The full listings of purchase-order XML schemas that are used in various examples are presented.">Purchase-Order XML Schemas</a> for the purchase-order XML schemas used for examples in this chapter 
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="XML-DB-basics.html#GUID-8611495B-A091-4B11-9E65-E8AD20D50D97" title="The basics of Oracle XML&nbsp;DB are introduced.">Oracle XML&nbsp;DB Basics</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5801"></a><a id="ADXDB5802"></a><a id="ADXDB4044"></a><div class="props_rev_3"><a id="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B" name="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B"></a><h3 id="ADXDB-GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B" class="sect3"><span class="enumeration_section">3.1 </span>Creating XMLType Tables and Columns
               </h3>
               <div>
                  <p>Creating a table or column of <code class="codeph">XMLType</code> is straightforward because it is an abstract data type.
                  </p>
                  <div class="section">
                     <p>The basic <code class="codeph">CREATE TABLE</code> statement, specifying no storage options and no XML schema, stores <code class="codeph">XMLType</code> data as binary XML.<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "The XMLType storage model for XML schema-based data is whatever was specified during registration of the referenced XML schema. If no storage model was specified during registration, then object-relational storage is used.")"><sup>Foot&nbsp;1</sup></a></p>
                     <p><a href="how-to-use-XML-DB.html#GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFCFCDG">Example 3-1</a> creates an <code class="codeph">XMLType</code> column, and <a href="how-to-use-XML-DB.html#GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFJACCB">Example 3-2</a> creates an <code class="codeph">XMLType</code> table. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFCFCDG">
                     <p class="titleinexample">Example 3-1 Creating a Table with an XMLType Column</p><pre class="pre codeblock"><code>CREATE TABLE mytable1 (key_column VARCHAR2(10) PRIMARY KEY, xml_column <span class="bold">XMLType</span>);</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5FDB0DB8-EE99-4DC4-9F73-49143026FD1B__BJFJACCB">
                     <p class="titleinexample">Example 3-2 Creating a Table of XMLType</p><pre class="pre codeblock"><code>CREATE TABLE mytable2 OF <span class="bold">XMLType</span>;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="XML-Schema-and-query-basic.html#GUID-A7862EBA-F10A-43BA-A540-933529E514E5" title="You can create XMLType tables and columns that are constrained to a global element defined by an XML schema. After an XMLType column has been constrained to a particular element and a particular schema, it can only contain documents that are compliant with the schema definition of that element.">Creation of XMLType Tables and Columns Based on XML Schemas</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6339"></a><a id="ADXDB6340"></a><a id="ADXDB6338"></a><div class="props_rev_3"><a id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" name="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242"></a><h3 id="ADXDB-GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" class="sect3"><span class="enumeration_section">3.2 </span>Creating Virtual Columns on XMLType Data Stored as Binary XML
               </h3>
               <div>
                  <p>You can create virtual columns only for <code class="codeph">XMLType</code> data that is stored as binary XML. Such columns are useful for partitioning or constraining the data.
                  </p>
                  <div class="section">
                     <p>You create virtual columns for XML data the same way you create them for other data types, but you use a slightly different syntax. (In particular, you cannot specify constraints in association with the column definition.)</p>
                     <p>You create a virtual column based on an XML element or attribute by defining it in terms of a SQL expression that involves that element or attribute. The column is thus function-based. </p>
                     <p>You use SQL/XML functions <code class="codeph">XMLCast</code> and <code class="codeph">XMLQuery</code> to do this, as shown in <a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGJAJCH">Example 3-3</a> and <a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGDDHBD">Example 3-4</a>. The XQuery expression argument to function <code class="codeph">XMLQuery</code> must be a simple XPath expression that uses only the child and attribute axes.
                     </p>
                     <p><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGJAJCH">Example 3-3</a> creates <code class="codeph">XMLType</code> table <code class="codeph">po_binaryxml</code>, stored as binary XML. It creates virtual column <code class="codeph">date_col</code>, which represents the XML data in attribute <code class="codeph">/PurchaseOrder/@orderDate</code>.
                     </p>
                     <p><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGDDHBD">Example 3-4</a> creates relational table <code class="codeph">rel_tab</code>, which has two columns: <code class="codeph">VARCHAR2</code> column <code class="codeph">key_col</code> for the primary key, and <code class="codeph">XMLType</code> column <code class="codeph">xml_col</code> for the XML data.
                     </p>
                     <p>Because <code class="codeph">XMLType</code> is an abstract data type, if you create virtual columns on an <code class="codeph">XMLType</code> table or column then those columns are <span class="italic">hidden</span>. They do not show up in <code class="codeph">DESCRIBE</code> statements, for example. This hiding enables tools that use operations such as <code class="codeph">DESCRIBE</code> to function normally and not be misled by the virtual columns.
                     </p>
                     <div class="infoboxnote" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__GUID-A0DFADB0-98D4-4242-BEFA-11783DCB7600">
                        <p class="notep1">Note:</p>
                        <p>If you use a virtual column for interval partitioning then it <span class="italic">must</span> have data type <code class="codeph">NUMBER</code> or <code class="codeph">DATE</code>, otherwise an error is raised. Use SQL/XML functions <code class="codeph">XMLCast</code> and <code class="codeph">XMLQuery</code> to cast to the proper data type.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__GUID-B28290E4-574E-45AB-A7E4-712A0D37729F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about creating tables with virtual columns
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGJAJCH">
                     <p class="titleinexample">Example 3-3 Creating a Virtual Column for an XML Attribute in an XMLType Table</p><pre class="pre codeblock"><code>CREATE TABLE po_binaryxml OF XMLType
  XMLTYPE STORE AS BINARY XML
  <span class="bold">VIRTUAL COLUMNS</span>
    (date_col AS (XMLCast(XMLQuery('/PurchaseOrder/@orderDate'
                                   PASSING OBJECT_VALUE RETURNING CONTENT)
                          AS DATE)));
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-C516A75D-519D-4599-ACFF-2837EB4F3242__CEGDDHBD">
                     <p class="titleinexample">Example 3-4 Creating a Virtual Column for an XML Attribute in an XMLType Column</p><pre class="pre codeblock"><code>CREATE TABLE reltab (key_col VARCHAR2(10) PRIMARY KEY,
                     xml_col XMLType)
  XMLTYPE xml_col STORE AS BINARY XML
  <span class="bold">VIRTUAL COLUMNS</span>
    (date_col AS (XMLCast(XMLQuery('/PurchaseOrder/@orderDate'
                                   PASSING xml_col RETURNING CONTENT)
                          AS DATE)));
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5" title="You can partition a table that contains XMLType data stored as binary XML.">Partitioning Tables That Contain XMLType Data Stored as Binary XML</a></li>
                        <li><a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1" title="You can use SQL constraints and database triggers to ensure data-integrity properties such as uniqueness and foreign-key relations.">Enforcing Referential Integrity Using SQL Constraints</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6342"></a><a id="ADXDB6343"></a><a id="ADXDB6341"></a><div class="props_rev_3"><a id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5" name="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5"></a><h3 id="ADXDB-GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5" class="sect3"><span class="enumeration_section">3.3 </span>Partitioning Tables That Contain XMLType Data Stored as Binary XML
               </h3>
               <div>
                  <p>You can partition a table that contains <code class="codeph">XMLType</code> data stored as binary XML. 
                  </p>
                  <div class="section">
                     <p>There are two possibilities:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The table is relational, with an <code class="codeph">XMLType</code> column and a non-<code class="codeph">XMLType</code> column.
                           </p>
                        </li>
                        <li>
                           <p>The table is of data type <code class="codeph">XMLType</code>. 
                           </p>
                        </li>
                     </ul>
                     <p>In the case of an <code class="codeph">XMLType</code> column, you use the non-<code class="codeph">XMLType</code> column as the partitioning key. This is illustrated in <a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCHHDE">Example 3-5</a>.
                     </p>
                     <p>This case presents nothing new or specific with respect to XML data. The fact that one of the columns contains <code class="codeph">XMLType</code> data is irrelevant. Things are different for the other case: partitioning an <code class="codeph">XMLType</code> table.
                     </p>
                     <p>XML data has its own structure, which (except for object-relational storage of <code class="codeph">XMLType</code>) is not reflected directly in database data structure. For <code class="codeph">XMLType</code> data stored as binary XML, individual XML elements and attributes are not mapped to individual database columns or tables.
                     </p>
                     <p>Therefore, to partition binary XML data according to the values of individual elements or attributes, the standard approach for relational data does not apply. Instead, you must create <span class="italic">virtual columns</span> that represent the XML data of interest, and then use those virtual columns to define the constraints or partitions that you need.
                     </p>
                     <p>The technique is as follows: </p>
                     <ol>
                        <li>
                           <p>Define virtual columns that correspond to the XML elements or attributes that you are interested in.</p>
                        </li>
                        <li>
                           <p>Use those columns to partition the <code class="codeph">XMLType</code> data as a whole.
                           </p>
                        </li>
                     </ol>
                     <p>This is illustrated in <a href="how-to-use-XML-DB.html#GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCIJEF">Example 3-6</a>: virtual column <code class="codeph">date_col</code> targets the <code class="codeph">orderDate</code> attribute of element <code class="codeph">PurchaseOrder</code> in a purchase-order document. This column is used as the partitioning key.
                     </p>
                     <p>For best performance using a partitioned table containing XML data, Oracle recommends that you use an <code class="codeph">XMLType</code> column rather than an <code class="codeph">XMLType</code> table, and you therefore partition using a non-<code class="codeph">XMLType</code> column.
                     </p>
                     <div class="infoboxnote" id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__GUID-4D49DA2D-CDB6-4130-8B35-13F90D076A20">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can partition an <code class="codeph">XMLType</code> table using a virtual column only if the storage model is binary XML. Range, hash, and list partitioning are supported.
                              </p>
                           </li>
                           <li>
                              <p>Partitioning of <code class="codeph">XMLType</code> tables stored as XML is supported starting with 11g Release 2 (11.2). It is supported only if the database compatibility (parameter <code class="codeph">compatible</code> in file <code class="codeph">init.ora</code>) is 11.2 or higher.
                              </p>
                           </li>
                           <li>
                              <p>If a relational table has an <code class="codeph">XMLType</code> <span class="italic">column</span>, you cannot partition the table using that column to define virtual columns of XML data.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCHHDE">
                     <p class="titleinexample">Example 3-5 Partitioning a Relational Table That Has an XMLType Column </p><pre class="pre codeblock"><code>CREATE TABLE reltab (key_col VARCHAR2(10) PRIMARY KEY,
                     xml_col XMLType)
  XMLTYPE xml_col STORE AS BINARY XML
  <span class="bold">PARTITION BY RANGE (key_col)</span>
    <span class="bold">(PARTITION P1 VALUES LESS THAN ('abc'),</span>
     <span class="bold">PARTITION P2 VALUES LESS THAN (MAXVALUE))</span>;
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-DC3679D1-9963-4F1A-88B0-79A92032C9D5__CEGCIJEF">
                     <p class="titleinexample">Example 3-6 Partitioning an XMLType Table</p><pre class="pre codeblock"><code>CREATE TABLE po_binaryxml OF XMLType
  XMLTYPE STORE AS BINARY XML
  <span class="bold">VIRTUAL COLUMNS</span>
    (date_col AS (XMLCast(XMLQuery('/PurchaseOrder/@orderDate'
                                   PASSING OBJECT_VALUE RETURNING CONTENT)
                          AS DATE)))
  <span class="bold">PARTITION BY RANGE (date_col)</span>
    <span class="bold">(PARTITION orders2001 VALUES LESS THAN (to_date('01-JAN-2002')),</span>
     <span class="bold">PARTITION orders2002 VALUES LESS THAN (MAXVALUE))</span>;
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="indexes-for-XMLType-data.html#GUID-7F44BE51-8F1A-487F-84CD-054E08F7A652" title="If you partition an XMLType table, or a table with an XMLType column, using range, list, or hash partitioning, you can also create an XMLIndex index on the table. You can optionally ensure that index creation and maintenance are carried out in parallel.">XMLIndex Partitioning and Parallelism</a></li>
                        <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-8713E2AD-0D5F-4076-A2DE-BB0ECEFBFEA8" title="When you partition an object-relational XMLType table or a table with an XMLType column that is stored object-relationally and you use list, range, or hash partitioning, any ordered collection tables (OCTs) or out-of-line tables within the data are automatically partitioned accordingly, by default.">Overview of Partitioning XMLType Tables and Columns Stored Object-Relationally</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4101"></a><a id="ADXDB0345"></a><div class="props_rev_3"><a id="GUID-8320CE79-5536-4252-BAF4-746692EBA596" name="GUID-8320CE79-5536-4252-BAF4-746692EBA596"></a><h3 id="ADXDB-GUID-8320CE79-5536-4252-BAF4-746692EBA596" class="sect3"><span class="enumeration_section">3.4 </span>Enforcing XML Data Integrity Using the Database
               </h3>
               <div>
                  <p>You can combine the power of SQL and XML with the ability of the database to enforce rules.</p>
                  <div class="section">
                     <p>You can use SQL to supplement the functionality provided by XML schema. Only well-formed XML documents can be stored in <code class="codeph">XMLType</code> tables or columns. A <strong class="term">well-formed</strong> XML document is one that conforms to the syntax of the XML version declared in its XML declaration. This includes having a single root element, properly nested tags, and so forth. Additionally, if the <code class="codeph">XMLType</code> table or column is constrained to an XML schema then only documents that conform to that XML schema can be stored in that table or column. Any attempt to store or insert any other kind of XML document in an XML schema-based <code class="codeph">XMLType</code> raises an error. <a href="how-to-use-XML-DB.html#GUID-8320CE79-5536-4252-BAF4-746692EBA596__BABCBCJJ">Example 3-7</a> illustrates this.
                     </p>
                     <p>Such an error occurs only when content is inserted directly into an <code class="codeph">XMLType</code> table. It indicates that Oracle XML&nbsp;DB did not recognize the document as a member of the class defined by the XML schema. For a document to be recognized as a member of the class defined by the schema, the following conditions must be true:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The name of the XML document root element must match the name of global element used to define the <code class="codeph">XMLType</code> table or column.
                           </p>
                        </li>
                        <li>
                           <p>The XML document must include the appropriate attributes from the <code class="codeph">XMLSchema-instance</code> namespace, or the XML document must be explicitly associated with the XML schema using the <code class="codeph">XMLType</code> constructor or <code class="codeph">XMLType</code> method <code class="codeph">createSchemaBasedXML()</code>.
                           </p>
                        </li>
                     </ul>
                     <p>If the constraining XML schema declares a <code class="codeph">targetNamespace</code>, then the instance documents must contain the appropriate namespace declarations to place the root element of the document in the <code class="codeph">targetNamespace</code> defined by the XML schema.
                     </p>
                     <div class="infoboxnote" id="GUID-8320CE79-5536-4252-BAF4-746692EBA596__GUID-9A41BA8D-9224-4712-BB73-3D695C950734">
                        <p class="notep1">Note:</p>
                        <p>XML constraints are enforced only within individual XML documents. Database (SQL) constraints are enforced across sets of XML documents.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-8320CE79-5536-4252-BAF4-746692EBA596__BABCBCJJ">
                     <p class="titleinexample">Example 3-7 Error From Attempting to Insert an Incorrect XML Document</p><pre class="pre codeblock"><code>INSERT INTO purchaseorder
  VALUES (XMLType(bfilename('XMLDIR', 'Invoice.xml'), nls_charset_id('AL32UTF8')))
  VALUES (XMLType(bfilename('XMLDIR', 'Invoice.xml'), nls_charset_id('AL32UTF8')))
          *
ERROR at line 2:
ORA-19007: Schema - does not match expected
http://localhost:8080/source/schemas/poSource/xsd/purchaseOrder.xsd.
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1">Enforcing Referential Integrity Using SQL Constraints</a><br>You can use SQL constraints and database triggers to ensure data-integrity properties such as uniqueness and foreign-key relations.
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="transformation-and-validation-of-XMLType-data.html#GUID-BEF51F7F-33A8-4FED-AA21-FE8849821BEC" title="When you insert XML Schema-based documents into the database they can be validated partially or fully.">Partial and Full XML Schema Validation</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4110"></a><a id="ADXDB6344"></a><a id="ADXDB6345"></a><a id="ADXDB4112"></a><a id="ADXDB4109"></a><div class="props_rev_3"><a id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1" name="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1"></a><h4 id="ADXDB-GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1" class="sect4"><span class="enumeration_section">3.4.1 </span>Enforcing Referential Integrity Using SQL Constraints
                  </h4>
                  <div>
                     <p>You can use SQL constraints and database triggers to ensure data-integrity properties such as uniqueness and foreign-key relations.</p>
                     <div class="section">
                        <p>The W3C XML Schema Recommendation defines a powerful language for defining the contents of an XML document. However, there are some simple data management concepts that are not currently addressed by the W3C XML Schema Recommendation. These include the ability to ensure that the value of an element or attribute has either of these properties:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It is unique across a set of XML documents (a <code class="codeph">UNIQUE</code> constraint).
                              </p>
                           </li>
                           <li>
                              <p>It exists in a particular data source that is outside of the current document (<code class="codeph">FOREIGN KEY</code> constraint).
                              </p>
                           </li>
                        </ul>
                        <p>With Oracle XML DB, however, you can enforce such constraints. The mechanisms that you use to enforce integrity on XML data are the same as those you use to enforce integrity on relational data. Simple rules, such as uniqueness and foreign-key relationships, can be enforced by specifying SQL constraints. More complex rules can be enforced by specifying database triggers. </p>
                        <p>Oracle XML DB lets you use the database to enforce business rules on XML content, in addition to enforcing rules that can be specified using XML Schema constructs. The database enforces these business rules regardless of whether XML is inserted directly into a table or uploaded using one of the protocols supported by Oracle XML DB Repository.</p>
                        <p>XML data has its own structure, which (except for object-relational storage of <code class="codeph">XMLType</code>) is not reflected directly in database data structure. For <code class="codeph">XMLType</code> data stored as binary XML, individual XML elements and attributes are not mapped to individual database columns or tables.
                        </p>
                        <p>Therefore, to constrain binary XML data according to the values of individual elements or attributes, the standard approach for relational data does not apply. Instead, you must create <span class="italic">virtual columns</span> that represent the XML data of interest, and then use those virtual columns to define the constraints that you need.
                        </p>
                        <p>The technique is as follows: </p>
                        <ol>
                           <li>
                              <p>Define virtual columns that correspond to the XML elements or attributes that you are interested in.</p>
                           </li>
                           <li>
                              <p>Use those columns to constrain the <code class="codeph">XMLType</code> data as a whole.
                              </p>
                           </li>
                        </ol>
                        <p>The binary XML data can be in an <code class="codeph">XMLType</code> table or an <code class="codeph">XMLType</code> column of a relational table. In the former case, you can include creation of the constraint as part of the <code class="codeph">CREATE TABLE</code> statement, if you like. For the latter case, you must create the constraint using an <code class="codeph">ALTER TABLE</code> statement, after the relational table has been created.
                        </p>
                        <div class="infoboxnote" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__GUID-86132A6B-687F-46B6-981D-3A338085F5CD">
                           <p class="notep1">See also:</p>
                           <p><a href="../errmg/index.html" target="_blank"><span><cite>Oracle Database Error Messages Reference</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">
                        <p class="titleinexample">Example 3-8 Constraining a Binary XML Table Using a Virtual Column</p>
                        <p>This example illustrates the technique for an <code class="codeph">XMLType</code> table. It defines virtual column <code class="codeph">c_xtabref</code> using the <code class="codeph">Reference</code> element in a purchase-order document. It defines uniqueness constraint <code class="codeph">reference_is_unique</code> on that column, which ensures that the value of node <code class="codeph">/PurchaseOrder/Reference/text()</code> is unique across all documents that are stored in the table. It fills the table with the data from <code class="codeph">OE.purchaseorder</code>. It then tries to insert a duplicate document, <code class="codeph">DuplicateReference.xml</code>, which violates the uniqueness constraint, raising an error.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE po_binaryxml OF XMLType
  (<span class="bold">CONSTRAINT</span> reference_is_unique <span class="bold">UNIQUE</span> (<span class="bold">c_xtabref</span>))
  XMLTYPE STORE AS BINARY XML
  <span class="bold">VIRTUAL COLUMNS</span>
    (<span class="bold">c_xtabref</span> AS (XMLCast(XMLQuery('/PurchaseOrder/Reference'
                                      PASSING OBJECT_VALUE RETURNING CONTENT)
                             AS VARCHAR2(32))));
 
INSERT INTO po_binaryxml SELECT OBJECT_VALUE FROM OE.purchaseorder;

132 rows created.
 
INSERT INTO po_binaryxml
  VALUES (XMLType(bfilename('XMLDIR', 'DuplicateReference.xml'),
                  nls_charset_id('AL32UTF8')));
INSERT INTO po_binaryxml
*
ERROR at line 1:
<span class="bold">ORA-00001: unique constraint (OE.REFERENCE_IS_UNIQUE) violated</span>
 </pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CEGHCEDI">
                        <p class="titleinexample">Example 3-9 Constraining a Binary XML Column Using a Virtual Column: Uniqueness</p>
                        <p>This example illustrates the technique for an <code class="codeph">XMLType</code> column of a relational table. It defines virtual column <code class="codeph">c_xcolref</code> and uniqueness constraint <code class="codeph">fk_ref</code>, which references the uniqueness constraint defined in <a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">Example 3-8</a>. As in <a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">Example 3-8</a>, this ensures that the value of node <code class="codeph">/PurchaseOrder/Reference/text()</code> is unique across all documents that are stored in <code class="codeph">XMLType</code> column <code class="codeph">po_binxml_col</code>. 
                        </p>
                        <p>The example fills the <code class="codeph">XMLType</code> column with the same data from <code class="codeph">OE.purchaseorder</code>. It then tries to insert duplicate document, <code class="codeph">DuplicateReference.xml</code>, which violates the uniqueness constraint, raising an error.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE po_reltab (po_binxml_col XMLType)
  XMLTYPE po_binxml_col STORE AS BINARY XML
  VIRTUAL COLUMNS
    (<span class="bold">c_xcolref</span> AS (XMLCast (XMLQuery('/PurchaseOrder/Reference'
                                    PASSING po_binxml_col RETURNING CONTENT)
                           AS VARCHAR2(32))));

ALTER TABLE po_reltab <span class="bold">ADD CONSTRAINT</span> reference_is_unique <span class="bold">UNIQUE</span> (<span class="bold">c_xcolref</span>));

INSERT INTO po_reltab SELECT OBJECT_VALUE FROM OE.purchaseorder;
INSERT INTO po_reltab
  VALUES (XMLType(bfilename('XMLDIR', 'DuplicateReference.xml'),
                  nls_charset_id('AL32UTF8')));
INSERT INTO po_reltab
*
ERROR at line 1:
<span class="bold">ORA-00001: unique constraint (OE.REFERENCE_IS_UNIQUE) violated</span>
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CEGDJJFJ">
                        <p class="titleinexample">Example 3-10 Constraining a Binary XML Column Using a Virtual Column: Foreign Key</p>
                        <p>This example is similar to <a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CEGHCEDI">Example 3-9</a>, but it uses a foreign-key constraint, <code class="codeph">fk_ref</code>,  which references the column with the uniqueness constraint defined in <a href="how-to-use-XML-DB.html#GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__CHDGIABF">Example 3-8</a>. Insertion of the document in file <code class="codeph">DuplicateReference.xml</code> succeeds here, since that document is in (virtual) column <code class="codeph">c_tabref</code> of table <code class="codeph">po_binaryxml</code>. Insertion of a document that does not match any document in table <code class="codeph">po_binaryxml</code>.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE po_reltab (po_binxml_col XMLType)
  XMLTYPE po_binxml_col STORE AS BINARY XML
  VIRTUAL COLUMNS
    (<span class="bold">c_xcolref</span> AS (XMLCast (XMLQuery('/PurchaseOrder/Reference'
                                    PASSING po_binxml_col RETURNING CONTENT)
                           AS VARCHAR2(32))));

ALTER TABLE po_reltab <span class="bold">ADD CONSTRAINT fk_ref FOREIGN KEY (c_xcolref)</span>
                                            <span class="bold">REFERENCES po_binaryxml(c_xtabref);</span>

INSERT INTO po_reltab
  VALUES (XMLType(bfilename('XMLDIR', 'DuplicateReference.xml'),
                  nls_charset_id('AL32UTF8')));

INSERT INTO po_reltab
  VALUES ('<span class="bold">&lt;PurchaseOrder&gt;&lt;Reference&gt;Not Compliant&lt;/Reference&gt;&lt;/PurchaseOrder&gt;</span>');
INSERT INTO po_reltab VALUES ('&lt;PurchaseOrder&gt;&lt;Reference&gt;Not Compliant
&lt;/Reference&gt;&lt;/PurchaseOrder&gt;')
*
ERROR at line 1:
<span class="bold">ORA-02291: integrity constraint (OE.FK_REF) violated - parent key not found</span>
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B08A78A0-351B-431E-8F81-E02FFF0357D1__BABHEHEG">
                        <p class="titleinexample">Example 3-11 Enforcing Database Integrity When Loading XML Using FTP</p>
                        <p>Integrity rules defined using constraints and triggers are also enforced when XML schema-based XML content is loaded into Oracle XML DB Repository. This example shows that database integrity is also enforced when a protocol, such as FTP, is used to upload XML schema-based XML content into Oracle XML DB Repository. In this case, additional constraints, besides uniqueness, were also violated.</p><pre class="oac_no_warn" dir="ltr">$ ftp localhost 2100
Connected to localhost.
220 mdrake-sun FTP Server (Oracle XML DB/Oracle Database 10g Enterprise Edition
Release 10.1.0.0.0 - Beta) ready.
Name (localhost:oracle10): QUINE
331 Password required for QUINE
Password: <span class="italic">password</span>
230 QUINE logged in
ftp&gt; cd /source/schemas
250 CWD Command successful
ftp&gt; put InvalidReference.xml
200 PORT Command successful
150 ASCII Data Connection
550- Error Response
ORA-00604: error occurred at recursive SQL level 1
ORA-31154: invalid XML document
ORA-19202: Error occurred in XML processing
LSX-00221: "SBELL-20021009" is too short (minimum length is 18)
ORA-06512: at "SYS.XMLTYPE", line 333
ORA-06512: at "QUINE.VALIDATE_PURCHASEORDER", line 3
ORA-04088: error during execution of trigger 'QUINE.VALIDATE_PURCHASEORDER'
550 End Error Response
ftp&gt; put InvalidElement.xml
200 PORT Command successful
150 ASCII Data Connection
550- Error Response
ORA-30937: No schema definition for 'UserName' (namespace '##local') in parent
'PurchaseOrder'
550 End Error Response
ftp&gt; put DuplicateReference.xml
200 PORT Command successful
150 ASCII Data Connection
550- Error Response
ORA-00604: error occurred at recursive SQL level 1
ORA-00001: unique constraint (QUINE.REFERENCE_IS_UNIQUE) violated
550 End Error Response
ftp&gt; put InvalidUser.xml
200 PORT Command successful
150 ASCII Data Connection
550- Error Response
ORA-00604: error occurred at recursive SQL level 1
ORA-02291: integrity constraint (QUINE.USER_IS_VALID) violated - parent key not
 found
550 End Error Response
</pre><p>When an error occurs while a document is being uploaded using a protocol, Oracle XML DB provides the client with the full SQL error trace. How the error is interpreted and reported to you is determined by the error-handling built into the client application. Some clients, such as a command line FTP tool, report the error returned by Oracle XML DB, while others, such as Microsoft Windows Explorer, report a generic error message.</p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-EEF1789B-F8B0-4371-96FB-40D0547060BA" title="For XMLType data stored object-relationally, you can specify typical relational constraints for elements and attributes that occur only once in an XML document.">Specification of Relational Constraints on XMLType Tables and Columns</a></li>
                           <li><a href="how-to-use-XML-DB.html#GUID-C516A75D-519D-4599-ACFF-2837EB4F3242" title="You can create virtual columns only for XMLType data that is stored as binary XML. Such columns are useful for partitioning or constraining the data.">Creating Virtual Columns on XMLType Data Stored as Binary XML</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-8320CE79-5536-4252-BAF4-746692EBA596" title="You can combine the power of SQL and XML with the ability of the database to enforce rules.">Enforcing XML Data Integrity Using the Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4048"></a><div class="props_rev_3"><a id="GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" name="GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B"></a><h3 id="ADXDB-GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" class="sect3"><span class="enumeration_section">3.5 </span>Loading XML Content into Oracle XML&nbsp;DB
               </h3>
               <div>
                  <p>There are several ways to load XML content into Oracle XML&nbsp;DB.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-23956CE8-C61D-4178-968E-5686CAD80C08">Loading XML Content Using SQL or PL/SQL</a><br></li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE">Loading XML Content Using Java</a><br>With a DOM you can use Java to load a <code class="codeph">SQLXML</code> instance.
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-23802182-8EF2-46C5-966B-03D9F11A258D">Loading XML Content Using C</a><br>With a DOM you can use C code to load an <code class="codeph">XMLType</code> instance.
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-B271C430-A1FB-4818-A3F4-056C59CC5553">Loading Large XML Files that Contain Small XML Documents</a><br>When loading large XML files consisting of a collection of smaller XML documents, it is often more efficient to use Simple API for XML (SAX) parsing to break the file into a set of smaller documents, and then insert those documents. 
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-157EE50B-6004-4B30-BC85-AC60581C930E">Loading Large XML Files Using SQL*Loader</a><br>You can use  SQL*Loader to load large amounts of XML data into Oracle Database.
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B">Loading XML Documents into the Repository Using DBMS_XDB_REPOS</a><br>You can use PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code> to load XML documents into Oracle XML&nbsp;DB Repository. You can access repository documents (resources) using path-based rather than table-based techniques. 
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-C4D83D80-7B69-4C57-B817-2699722D28A3">Loading Documents into the Repository Using Protocols</a><br>You can load documents, including XML documents, from a local file system into Oracle XML&nbsp;DB Repository using popular protocols.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5988"></a><a id="ADXDB4051"></a><a id="ADXDB4049"></a><div class="props_rev_3"><a id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08" name="GUID-23956CE8-C61D-4178-968E-5686CAD80C08"></a><h4 id="ADXDB-GUID-23956CE8-C61D-4178-968E-5686CAD80C08" class="sect4"><span class="enumeration_section">3.5.1 </span>Loading XML Content Using SQL or PL/SQL
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use a simple <code class="codeph">INSERT</code> operation in SQL or PL/SQL to load an XML document into the database. 
                        </p>
                        <p>Before the document can be stored as an <code class="codeph">XMLType</code> column or table, you must convert it into an <code class="codeph">XMLType</code> instance using one of the <code class="codeph">XMLType</code> constructors.
                        </p>
                        <p><code class="codeph">XMLType</code> <strong class="term">constructors</strong> allow an <code class="codeph">XMLType</code> instance to be created from different sources, including <code class="codeph">VARCHAR</code>, <code class="codeph">CLOB</code>, and <code class="codeph">BFILE</code> values. The constructors accept additional arguments that reduce the amount of processing associated with <code class="codeph">XMLType</code> creation. For example, if you are sure that a given source XML document is valid, you can provide an argument to the constructor that disables the type-checking that is otherwise performed. 
                        </p>
                        <p>In addition, if the source data is not encoded in the database character set, an <code class="codeph">XMLType</code> instance can be constructed using a <code class="codeph">BFILE</code> or <code class="codeph">BLOB</code> value. The encoding of the source data is specified through the character set id (<code class="codeph">csid</code>) argument of the constructor.
                        </p>
                        <p>When you use SQL <code class="codeph">INSERT</code> to insert a large document containing collections into <code class="codeph">XMLType</code> tables (but not into <code class="codeph">XMLType</code> columns), Oracle XML&nbsp;DB optimizes load time and memory usage.
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-23956CE8-C61D-4178-968E-5686CAD80C08__BABBBGBB">Example 3-13</a> shows how to insert XML content into an <code class="codeph">XMLType</code> table. Before making this insertion, you must create a database directory object that points to the directory containing the file to be processed. To do this, you must have the <code class="codeph">CREATE ANY DIRECTORY</code> privilege.
                        </p>
                        <div class="infoboxnotealso" id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08__GUID-D6EE23F5-FEB6-4D98-B918-7C02B67091E3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/XMLTYPE.html#ARPLS369" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for a description of the <code class="codeph">XMLType</code> constructors
                                 </p>
                              </li>
                              <li>
                                 <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=SQLRF01603" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>, under <code class="codeph">GRANT</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08__GUID-76473048-4E3F-4B67-9223-3F92341984AE">
                        <p class="titleinexample">Example 3-12 Creating a Database Directory</p><pre class="oac_no_warn" dir="ltr">CREATE DIRECTORY xmldir AS <span class="italic">path_to_folder_containing_XML_file</span>;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-23956CE8-C61D-4178-968E-5686CAD80C08__BABBBGBB">
                        <p class="titleinexample">Example 3-13 Inserting XML Content into an XMLType Table</p><pre class="oac_no_warn" dir="ltr">INSERT INTO mytable2 VALUES (XMLType(bfilename('XMLDIR', 'purchaseOrder.xml'),
                                     nls_charset_id('AL32UTF8')));
</pre><p>The value passed to <code class="codeph">nls_charset_id</code> indicates that the encoding for the file to be read is UTF-8.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="query-and-update-XML.html#GUID-01C75289-804F-4BAA-AE7C-DFA73198581E" title="There are many ways for applications to query and update XML data that is in Oracle Database, both XML schema-based and non-schema-based.">Query and Update of XML Data</a></li>
                           <li><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" title="The PL/SQL Application Programming Interfaces (APIs) for XMLType are described.">PL/SQL APIs for XMLType: References</a></li>
                           <li><a href="XML-Schema-and-query-object-relational-storage.html#GUID-32930A3C-AFD4-4950-94B6-B26ACAFBC70D" title="Oracle XML&nbsp;DB configuration file xdbconfig.xml has parameters that control the amount of memory used by the loading operation: xdbcore-loadableunit-size and xdbcore-xobmem-bound.">Considerations for Loading and Retrieving Large Documents with Collections</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="There are several ways to load XML content into Oracle XML&nbsp;DB.">Loading XML Content into Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4053"></a><a id="ADXDB4052"></a><div class="props_rev_3"><a id="GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE" name="GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE"></a><h4 id="ADXDB-GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE" class="sect4"><span class="enumeration_section">3.5.2 </span>Loading XML Content Using Java
                  </h4>
                  <div>
                     <p>With a DOM you can use Java to load a <code class="codeph">SQLXML</code> instance.
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE__BABIEIAD">Example 3-14</a> shows how to load XML content into Oracle XML&nbsp;DB by first creating a <code class="codeph">SQLXML</code> instance in Java, given a Document Object Model (<a href="../adxdk/glossary.html#ADXDK9548" target="_blank">DOM</a>).
                        </p>
                        <p>A simple bulk loader application is available at <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=otn_db_xmldb_overview" target="_blank">Oracle XML DB on OTN</a>. It shows how to load a directory of XML files into Oracle XML&nbsp;DB using Java Database Connectivity (JDBC). JDBC is a set of Java interfaces to Oracle Database. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D6D8A756-DA60-4E5F-8E62-C582959273BE__BABIEIAD">
                        <p class="titleinexample">Example 3-14 Inserting Content into an XMLType Table Using Java</p><pre class="pre codeblock"><code>public void doInsert(Connection conn, Document doc)
throws Exception
{
  String query = "<span class="bold">INSERT INTO purchaseorder VALUES (?)</span>";
  SQLXML sx = conn.<span class="bold">createSQLXML</span>();
  DOMResult dom = sx.setResult(DOMResult.class);
  dom.setNode(doc);
  PreparedStatement statement = conn.prepareStatement(query);
  statement.<span class="bold">setSQLXML</span>(1, sx);
  statement.execute();
}</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="There are several ways to load XML content into Oracle XML&nbsp;DB.">Loading XML Content into Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4055"></a><a id="ADXDB4054"></a><div class="props_rev_3"><a id="GUID-23802182-8EF2-46C5-966B-03D9F11A258D" name="GUID-23802182-8EF2-46C5-966B-03D9F11A258D"></a><h4 id="ADXDB-GUID-23802182-8EF2-46C5-966B-03D9F11A258D" class="sect4"><span class="enumeration_section">3.5.3 </span>Loading XML Content Using C
                  </h4>
                  <div>
                     <p>With a DOM you can use C code to load an <code class="codeph">XMLType</code> instance.
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-23802182-8EF2-46C5-966B-03D9F11A258D__BJFGHJDC">Example 3-15</a> shows how to insert XML content into an <code class="codeph">XMLType</code> table using C code, by creating an <code class="codeph">XMLType</code> instance given a DOM (see <a href="../adxdk/glossary.html#ADXDK9548" target="_blank"><span><cite>Oracle XML Developer's Kit Programmer's Guide</cite></span></a>). See <a href="oracle-supplied-XML-schemas-and-examples.html#GUID-E357126F-BFCE-4A51-A559-520FE64DA756" title="A full listing of a C program that inserts XML data into an XMLType table is presented.">Loading XML Data Using C (OCI)</a> for a complete listing of this example.
                        </p>
                        <div class="infoboxnote" id="GUID-23802182-8EF2-46C5-966B-03D9F11A258D__GUID-594E0B44-DB29-4055-B4D4-4A241248D56B">
                           <p class="notep1">Note:</p>
                           <p>For simplicity in demonstrating this feature, this example does not perform the password management techniques that a deployed system normally uses. In a production environment, follow the Oracle Database password management guidelines, and disable any sample accounts. See <a href="../dbseg/managing-security-for-application-developers.html#DBSEG50053" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for password management guidelines and other security recommendations.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23802182-8EF2-46C5-966B-03D9F11A258D__BJFGHJDC">
                        <p class="titleinexample">Example 3-15 Inserting Content into an XMLType Table Using C</p><pre class="pre codeblock"><code><span class="bold">. . .</span>
void main()
{
  OCIType *xmltdo;
  xmldocnode  *doc;
  ocixmldbparam params[1];
  xmlerr       err;
  xmlctx  *xctx;
  oratext *ins_stmt;
  sword    status;
  xmlnode *root;
  oratext buf[10000];
 
  /* Initialize envhp, svchp, errhp, dur, stmthp */
  init_oci_connect();
 
  /* Get an XML context */
  params[0].name_ocixmldbparam = XCTXINIT_OCIDUR;
  params[0].value_ocixmldbparam = &amp;dur;
  xctx = <span class="bold">OCIXmlDbInitXmlCtx</span>(envhp, svchp, errhp, params, 1);
  if (!(doc = XmlLoadDom(xctx, &amp;err, "file", filename,
                         "schema_location", schemaloc, NULL)))
    {
      printf("Parse failed.\n");
      return;
    }
  else
    printf("Parse succeeded.\n");
  root = <span class="bold">XmlDomGetDocElem</span>(xctx, doc);
  printf("The xml document is :\n");
  XmlSaveDom(xctx, &amp;err, (xmlnode *)doc, "buffer", buf, "buffer_length", 10000, NULL);
  printf("%s\n", buf);
 
  /* Insert the document into my_table */
  ins_stmt = (oratext *)"insert into purchaseorder values (:1)";
  status = OCITypeByName(envhp, errhp, svchp, (const text *) "SYS",
                         (ub4) strlen((const char *)"SYS"), (const text *) "XMLTYPE",
                         (ub4) strlen((const char *)"XMLTYPE"), (CONST text *) 0,
                         (ub4) 0, OCI_DURATION_SESSION, OCI_TYPEGET_HEADER,
                         (OCIType **) &amp;xmltdo);
  if (status == OCI_SUCCESS)
    {
      status = exec_bind_xml(svchp, errhp, stmthp, (void *)doc,
                             xmltdo, ins_stmt);
    }
  if (status == OCI_SUCCESS)
    printf ("Insert successful\n");
  else
    printf ("Insert failed\n");
 
  /* Free XML instances */
  if (doc)
    XmlFreeDocument((xmlctx *)xctx, (xmldocnode *)doc);
  /* Free XML CTX */
  <span class="bold">OCIXmlDbFreeXmlCtx</span>(xctx);
  free_oci();
}</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="There are several ways to load XML content into Oracle XML&nbsp;DB.">Loading XML Content into Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4056"></a><div class="props_rev_3"><a id="GUID-B271C430-A1FB-4818-A3F4-056C59CC5553" name="GUID-B271C430-A1FB-4818-A3F4-056C59CC5553"></a><h4 id="ADXDB-GUID-B271C430-A1FB-4818-A3F4-056C59CC5553" class="sect4"><span class="enumeration_section">3.5.4 </span>Loading Large XML Files that Contain Small XML Documents
                  </h4>
                  <div>
                     <p>When loading large XML files consisting of a collection of smaller XML documents, it is often more efficient to use Simple API for XML (SAX) parsing to break the file into a set of smaller documents, and then insert those documents. </p>
                     <div class="section">
                        <p>SAX is an XML standard interface provided by XML parsers for event-based applications. You can use SAX to load a database table from very large XML files in the order of 30 MB or larger, by creating individual documents from a collection of nodes. You can also bulk load XML files.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B271C430-A1FB-4818-A3F4-056C59CC5553__GUID-9F5AF3AE-1805-4D38-9F83-B6B3F8803B42">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=sax_project_org" target="_blank">SAX Project</a> for information about SAX
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=otn_db_xmldb_overview" target="_blank">Oracle XML DB on OTN</a>, for an application example that loads large files using SAX
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="There are several ways to load XML content into Oracle XML&nbsp;DB.">Loading XML Content into Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4058"></a><a id="ADXDB4057"></a><div class="props_rev_3"><a id="GUID-157EE50B-6004-4B30-BC85-AC60581C930E" name="GUID-157EE50B-6004-4B30-BC85-AC60581C930E"></a><h4 id="ADXDB-GUID-157EE50B-6004-4B30-BC85-AC60581C930E" class="sect4"><span class="enumeration_section">3.5.5 </span>Loading Large XML Files Using SQL*Loader
                  </h4>
                  <div>
                     <p>You can use  SQL*Loader to load large amounts of XML data into Oracle Database.</p>
                     <div class="section">
                        <p>SQL*Loader loads in one of two modes, conventional or direct path. <a href="how-to-use-XML-DB.html#GUID-157EE50B-6004-4B30-BC85-AC60581C930E__BJFJFHIF" title="This tables compares SQL*Loader Conventional and Direct Load Modes.">Table 3-1</a> compares these modes.
                        </p>
                        <div class="tblformal" id="GUID-157EE50B-6004-4B30-BC85-AC60581C930E__BJFJFHIF">
                           <p class="titleintable">Table 3-1 SQL*Loader &#x2013; Conventional and Direct-Path Load Modes</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL*Loader &#x2013; Conventional and Direct-Path Load Modes" summary="This tables compares SQL*Loader Conventional and Direct Load Modes." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="53%" id="d14886e1654">Conventional Load Mode</th>
                                    <th align="left" valign="bottom" width="47%" id="d14886e1657">Direct-Path Load Mode</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="53%" id="d14886e1662" headers="d14886e1654 ">
                                       <p>Uses SQL to load data into Oracle Database. This is the <span class="italic">default</span> mode.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="47%" headers="d14886e1662 d14886e1657 ">
                                       <p>Bypasses SQL and streams the data directly into Oracle Database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="53%" id="d14886e1672" headers="d14886e1654 ">
                                       <p><span class="italic">Advantage:</span> Follows SQL semantics. For example triggers are fired and constraints are checked.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="47%" headers="d14886e1672 d14886e1657 ">
                                       <p><span class="italic">Advantage:</span> This loads data much faster than the conventional load mode.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="53%" id="d14886e1683" headers="d14886e1654 ">
                                       <p><span class="italic">Disadvantage:</span> This loads data slower than with the direct load mode.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="47%" headers="d14886e1683 d14886e1657 ">
                                       <p><span class="italic">Disadvantage:</span> SQL semantics is not obeyed. For example triggers are not fired and constraints are not checked.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>When loading LOBs with SQL*Loader direct-path load, much memory can be used. If the message <code class="codeph">SQL*Loader 700 (out of memory)</code> appears, then it is likely that more rows are being included in each load call than can be handled by your operating system and process memory. <span class="italic">Workaround:</span> use the <code class="codeph">ROWS</code> option to read a smaller number of rows in each data save.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="how-to-load-XML-data.html#GUID-B94D42C1-A20A-457A-8427-C01E39788EA1" title="The main way to load XML data into Oracle XML&nbsp;DB is to use SQL*Loader.">How to Load XML Data</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="There are several ways to load XML content into Oracle XML&nbsp;DB.">Loading XML Content into Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4060"></a><a id="ADXDB4059"></a><div class="props_rev_3"><a id="GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B" name="GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B"></a><h4 id="ADXDB-GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B" class="sect4"><span class="enumeration_section">3.5.6 </span>Loading XML Documents into the Repository Using DBMS_XDB_REPOS
                  </h4>
                  <div>
                     <p>You can use PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code> to load XML documents into Oracle XML&nbsp;DB Repository. You can access repository documents (resources) using path-based rather than table-based techniques. 
                     </p>
                     <div class="section">
                        <p>To load an XML document into the repository under a given path, use PL/SQL function <code class="codeph">DBMS_XDB_REPOS.createResource</code>. <a href="how-to-use-XML-DB.html#GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B__BJFICDCH">Example 3-16</a> illustrates this.
                        </p>
                        <p>Many operations for configuring and using Oracle XML&nbsp;DB are based on processing one or more XML documents. Examples include registering an XML schema and performing an XSL transformation. The easiest way to make these XML documents available to Oracle Database is to load them into Oracle XML&nbsp;DB Repository.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C4F1105F-BB2F-4700-9EC1-5075EB0ED38B__BJFICDCH">
                        <p class="titleinexample">Example 3-16 Inserting XML Content into the Repository Using CREATERESOURCE</p><pre class="pre codeblock"><code>DECLARE
  res BOOLEAN;
BEGIN
  res := DBMS_XDB_REPOS.createResource('/home/QUINE/purchaseOrder.xml',
                                       bfilename('XMLDIR', 'purchaseOrder.xml'),
                                       nls_charset_id('AL32UTF8'));
END;/
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="There are several ways to load XML content into Oracle XML&nbsp;DB.">Loading XML Content into Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4062"></a><a id="ADXDB4061"></a><div class="props_rev_3"><a id="GUID-C4D83D80-7B69-4C57-B817-2699722D28A3" name="GUID-C4D83D80-7B69-4C57-B817-2699722D28A3"></a><h4 id="ADXDB-GUID-C4D83D80-7B69-4C57-B817-2699722D28A3" class="sect4"><span class="enumeration_section">3.5.7 </span>Loading Documents into the Repository Using Protocols
                  </h4>
                  <div>
                     <p>You can load documents, including XML documents, from a local file system into Oracle XML&nbsp;DB Repository using popular protocols.</p>
                     <div class="section">
                        <p>Oracle XML&nbsp;DB Repository can store XML documents that are either XML schema-based or non-schema-based. It can also store content that is not XML data, such as HTML files, image files, and Microsoft Word documents.</p>
                        <p>You can load XML documents from a local file system into Oracle XML&nbsp;DB Repository using protocols such as WebDAV, from Windows Explorer or other tools that support WebDAV. <a href="how-to-use-XML-DB.html#GUID-C4D83D80-7B69-4C57-B817-2699722D28A3__CHDHJDAE">Figure 3-1</a> shows a simple drag and drop operation for copying the contents of the <code class="codeph">SCOTT</code> folder from the local hard drive to folder <code class="codeph">poSource</code> in Oracle XML&nbsp;DB Repository.
                        </p>
                        <div class="figure" id="GUID-C4D83D80-7B69-4C57-B817-2699722D28A3__CHDHJDAE">
                           <p class="titleinfigure">Figure 3-1 Loading Content into the Repository Using Windows Explorer</p><img src="img/repo_load.gif" width="478" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" longdesc="img_text/repo_load.html"><br><a href="img_text/repo_load.html">Description of "Figure 3-1 Loading Content into the Repository Using Windows Explorer"</a></div>
                        <!-- class="figure" -->
                        <p>The copied folder might contain, for example, an XML schema document, an HTML page, and some XSLT stylesheets.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-0FD6B1AD-DEB6-4493-859A-163F0711455B" title="There are several ways to load XML content into Oracle XML&nbsp;DB.">Loading XML Content into Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4116"></a><div class="props_rev_3"><a id="GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" name="GUID-D937B3D1-BA54-41D0-9428-4739DA805D75"></a><h3 id="ADXDB-GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" class="sect3"><span class="enumeration_section">3.6 </span>Querying XML Content Stored in Oracle XML&nbsp;DB
               </h3>
               <div>
                  <p>There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it. </p>
                  <div class="infoboxnote" id="GUID-D937B3D1-BA54-41D0-9428-4739DA805D75__GUID-EBDA1BAC-73E1-44E9-AE6B-5DBC5D5855FD">
                     <p class="notep1">Note:</p>
                     <p>For efficient query performance you typically need to create indexes. For information about indexing XML data, see <a href="indexes-for-XMLType-data.html#GUID-FE16BE28-035C-49EE-9683-6ED37876C3FC" title="You can create indexes on your XML data, to focus on particular parts of it that you query often and thus improve performance. There are various ways that you can index XMLType data, whether it is XML schema-based or non-schema-based, and regardless of the XMLType storage model you use.">Indexes for XMLType Data</a>.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C">PurchaseOrder XML Document Used in Examples</a><br>An XML schema defines the purchase-order documents used in examples.
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-42EDC657-C53B-441F-96E3-31E755A7A30E">Retrieving the Content of an XML Document Using Pseudocolumn OBJECT_VALUE</a><br>Pseudocolumn <code class="codeph">OBJECT_VALUE</code> can be used as an alias for the value of an object table. 
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C">Accessing Fragments or Nodes of an XML Document Using XMLQUERY</a><br>You can use SQL/XML function <code class="codeph">XMLQuery</code> to extract the nodes that match an XQuery expression. The result is returned as an instance of <code class="codeph">XMLType</code>. 
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3">Accessing Text Nodes and Attribute Values Using XMLCAST and XMLQUERY</a><br>You can access text node and attribute values using SQL/XML standard functions <code class="codeph">XMLQuery</code> and <code class="codeph">XMLCast</code>. 
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F">Searching an XML Document Using XMLEXISTS, XMLCAST, and XMLQUERY</a><br>You can use SQL/XML standard functions <code class="codeph">XMLExists</code>, <code class="codeph">XMLCast</code>, and <code class="codeph">XMLQuery</code> in a SQL <code class="codeph">WHERE</code> clause to limit query results.
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532">Performing SQL Operations on XMLType Fragments Using XMLTABLE</a><br>You can use SQL/XML function <code class="codeph">XMLTable</code> to perform SQL operations on a set of nodes that match an XQuery expression.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4118"></a><a id="ADXDB4117"></a><div class="props_rev_3"><a id="GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C" name="GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C"></a><h4 id="ADXDB-GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C" class="sect4"><span class="enumeration_section">3.6.1 </span>PurchaseOrder XML Document Used in Examples
                  </h4>
                  <div>
                     <p>An XML schema defines the purchase-order documents used in examples.</p>
                     <div class="section">
                        <p>Examples presented here are based on the <code class="codeph">PurchaseOrder</code> XML document shown in <a href="how-to-use-XML-DB.html#GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C__BJFDAFHE">Example 3-17</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-606F790D-41F5-4EF5-A9D6-2FC4587CE28C__BJFDAFHE">
                        <p class="titleinexample">Example 3-17 PurchaseOrder XML Instance Document</p><pre class="pre codeblock"><code>&lt;PurchaseOrder 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation=
    "http://localhost:8080/source/schemas/poSource/xsd/purchaseOrder.xsd"&gt;
  &lt;Reference&gt;SBELL-2002100912333601PDT&lt;/Reference&gt;
  &lt;Actions&gt;
    &lt;Action&gt;
      &lt;User&gt;SVOLLMAN&lt;/User&gt;
    &lt;/Action&gt;
  &lt;/Actions&gt;
  &lt;Reject/&gt;
  &lt;Requestor&gt;Sarah J. Bell&lt;/Requestor&gt;
  &lt;User&gt;SBELL&lt;/User&gt;
  &lt;CostCenter&gt;S30&lt;/CostCenter&gt;
  &lt;ShippingInstructions&gt;
    &lt;name&gt;Sarah J. Bell&lt;/name&gt;
    &lt;address&gt;400 Oracle Parkway
      Redwood Shores
      CA
      94065
      USA&lt;/address&gt;
    &lt;telephone&gt;650 506 7400&lt;/telephone&gt;
  &lt;/ShippingInstructions&gt;
  &lt;SpecialInstructions&gt;Air Mail&lt;/SpecialInstructions&gt;
  &lt;LineItems&gt;
    &lt;LineItem ItemNumber="1"&gt;
      &lt;Description&gt;A Night to Remember&lt;/Description&gt;
      &lt;Part Id="715515009058" UnitPrice="39.95" Quantity="2"/&gt;
    &lt;/LineItem&gt;
    &lt;LineItem ItemNumber="2"&gt;
      &lt;Description&gt;The Unbearable Lightness Of Being&lt;/Description&gt;
      &lt;Part Id="37429140222" UnitPrice="29.95" Quantity="2"/&gt;
    &lt;/LineItem&gt;
    &lt;LineItem ItemNumber="3"&gt;
      &lt;Description&gt;Sisters&lt;/Description&gt;
      &lt;Part Id="715515011020" UnitPrice="29.95" Quantity="4"/&gt;
    &lt;/LineItem&gt;
  &lt;/LineItems&gt;
&lt;/PurchaseOrder&gt;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it.">Querying XML Content Stored in Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4120"></a><a id="ADXDB4119"></a><div class="props_rev_3"><a id="GUID-42EDC657-C53B-441F-96E3-31E755A7A30E" name="GUID-42EDC657-C53B-441F-96E3-31E755A7A30E"></a><h4 id="ADXDB-GUID-42EDC657-C53B-441F-96E3-31E755A7A30E" class="sect4"><span class="enumeration_section">3.6.2 </span>Retrieving the Content of an XML Document Using Pseudocolumn OBJECT_VALUE
                  </h4>
                  <div>
                     <p>Pseudocolumn <code class="codeph">OBJECT_VALUE</code> can be used as an alias for the value of an object table. 
                     </p>
                     <div class="section">
                        <p>For an <code class="codeph">XMLType</code> table that consists of a single column of <code class="codeph">XMLType</code>, the entire XML document is retrieved. (<code class="codeph">OBJECT_VALUE</code> replaces the <code class="codeph">value(x)</code> and <code class="codeph">SYS_NC_ROWINFO$</code> aliases used in releases prior to Oracle Database 10g Release 1.) 
                        </p>
                        <p>In <a href="how-to-use-XML-DB.html#GUID-42EDC657-C53B-441F-96E3-31E755A7A30E__BJFCECGJ">Example 3-18</a>, the SQL*Plus settings <code class="codeph">PAGESIZE</code> and <code class="codeph">LONG</code> are used to ensure that the entire document is printed correctly, without line breaks. (The output has been formatted for readability.)
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-42EDC657-C53B-441F-96E3-31E755A7A30E__BJFCECGJ">
                        <p class="titleinexample">Example 3-18 Retrieving an Entire XML Document Using OBJECT_VALUE</p><pre class="pre codeblock"><code>SELECT OBJECT_VALUE FROM purchaseorder;
 
OBJECT_VALUE
-----------------------------------------------------------------------
&lt;PurchaseOrder xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="http://localhost:8080/source/schemas
/poSource/xsd/purchaseOrder.xsd"&gt;
  &lt;Reference&gt;SBELL-2002100912333601PDT&lt;/Reference&gt;
  &lt;Actions&gt;
    &lt;Action&gt;
      &lt;User&gt;SVOLLMAN&lt;/User&gt;
    &lt;/Action&gt;
  &lt;/Actions&gt;
  &lt;Reject/&gt;
  &lt;Requestor&gt;Sarah J. Bell&lt;/Requestor&gt;
  &lt;User&gt;SBELL&lt;/User&gt;
  &lt;CostCenter&gt;S30&lt;/CostCenter&gt;
  &lt;ShippingInstructions&gt;
    &lt;name&gt;Sarah J. Bell&lt;/name&gt;
    &lt;address&gt;400 Oracle Parkway
Redwood Shores
CA
94065
USA&lt;/address&gt;
    &lt;telephone&gt;650 506 7400&lt;/telephone&gt;
  &lt;/ShippingInstructions&gt;
  &lt;SpecialInstructions&gt;Air Mail&lt;/SpecialInstructions&gt;
  &lt;LineItems&gt;
    &lt;LineItem ItemNumber="1"&gt;
      &lt;Description&gt;A Night to Remember&lt;/Description&gt;
      &lt;Part Id="715515009058" UnitPrice="39.95" Quantity="2"/&gt;
    &lt;/LineItem&gt;
    &lt;LineItem ItemNumber="2"&gt;
      &lt;Description&gt;The Unbearable Lightness Of Being&lt;/Description&gt;
      &lt;Part Id="37429140222" UnitPrice="29.95" Quantity="2"/&gt;
    &lt;/LineItem&gt;
    &lt;LineItem ItemNumber="3"&gt;
      &lt;Description&gt;Sisters&lt;/Description&gt;
      &lt;Part Id="715515011020" UnitPrice="29.95" Quantity="4"/&gt;
    &lt;/LineItem&gt;
  &lt;/LineItems&gt;
&lt;/PurchaseOrder&gt;
 
1 row selected.</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it.">Querying XML Content Stored in Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4122"></a><a id="ADXDB4121"></a><div class="props_rev_3"><a id="GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C" name="GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C"></a><h4 id="ADXDB-GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C" class="sect4"><span class="enumeration_section">3.6.3 </span>Accessing Fragments or Nodes of an XML Document Using XMLQUERY
                  </h4>
                  <div>
                     <p>You can use SQL/XML function <code class="codeph">XMLQuery</code> to extract the nodes that match an XQuery expression. The result is returned as an instance of <code class="codeph">XMLType</code>. 
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">Example 3-19</a> illustrates this with several queries.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">
                        <p class="titleinexample">Example 3-19 Accessing XML Fragments Using XMLQUERY</p>
                        <p>The following query returns an <code class="codeph">XMLType</code> instance containing the <code class="codeph">Reference</code> element that matches the XPath expression. 
                        </p><pre class="pre codeblock"><code>SELECT XMLQuery('/PurchaseOrder/Reference' PASSING OBJECT_VALUE RETURNING CONTENT)
  FROM purchaseorder;

XMLQUERY('/PURCHASEORDER/REFERENCE'PASSINGOBJECT_
-------------------------------------------------
&lt;Reference&gt;SBELL-2002100912333601PDT&lt;/Reference&gt;
 
1 row selected.
</code></pre><p>The following query returns an <code class="codeph">XMLType</code> instance containing the first <code class="codeph">LineItem</code> element in the <code class="codeph">LineItems</code> collection:
                        </p><pre class="pre codeblock"><code>SELECT XMLQuery('/PurchaseOrder/LineItems/LineItem[1]'
                PASSING OBJECT_VALUE RETURNING CONTENT)
  FROM purchaseorder;

XMLQUERY('/PURCHASEORDER/LINEITEMS/LINEITEM[1]'PASSINGOBJECT_
-------------------------------------------------------------
&lt;LineItem ItemNumber="1"&gt;
  &lt;Description&gt;A Night to Remember&lt;/Description&gt;
  &lt;Part Id="715515009058" UnitPrice="39.95" Quantity="2"/&gt;
&lt;/LineItem&gt;
 
1 row selected.
</code></pre><p>The following query returns an <code class="codeph">XMLType</code> instance that contains the three <code class="codeph">Description</code> elements that match the XPath expression. These elements are returned as nodes in a single <code class="codeph">XMLType</code> instance. The <code class="codeph">XMLType</code> instance does not have a single root node; it is an XML <span class="italic">fragment</span>.
                        </p><pre class="pre codeblock"><code>SELECT XMLQuery('/PurchaseOrder/LineItems/LineItem/Description'
                PASSING OBJECT_VALUE RETURNING CONTENT)
  FROM purchaseorder;

XMLQUERY('/PURCHASEORDER/LINEITEMS/LINEITEM/DESCRIPTION'PASSINGOBJECT_
----------------------------------------------------------------------
&lt;Description&gt;A Night to Remember&lt;/Description&gt;
&lt;Description&gt;The Unbearable Lightness Of Being&lt;/Description&gt;
&lt;Description&gt;Sisters&lt;/Description&gt;
 
1 row selected.</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532" title="You can use SQL/XML function XMLTable to perform SQL operations on a set of nodes that match an XQuery expression.">Performing SQL Operations on XMLType Fragments Using XMLTABLE</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it.">Querying XML Content Stored in Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4124"></a><a id="ADXDB4123"></a><div class="props_rev_3"><a id="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3" name="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3"></a><h4 id="ADXDB-GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3" class="sect4"><span class="enumeration_section">3.6.4 </span>Accessing Text Nodes and Attribute Values Using XMLCAST and XMLQUERY
                  </h4>
                  <div>
                     <p>You can access text node and attribute values using SQL/XML standard functions <code class="codeph">XMLQuery</code> and <code class="codeph">XMLCast</code>. 
                     </p>
                     <div class="section">
                        <p>To do this, the XQuery expression passed to <code class="codeph">XMLQuery</code> must uniquely identify a <span class="italic">single</span> text node or attribute value within the document &#x2013; that is, a <span class="italic">leaf</span> node. <a href="how-to-use-XML-DB.html#GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3__BJFCGHGB">Example 3-20</a> illustrates this using several queries.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3__GUID-B49CF969-0A4E-4FF3-8DA9-7E3E36261A03">
                           <p class="notep1">See Also:</p>
                           <p><a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="The XQuery language is one of the main ways that you interact with XML data in Oracle XML&nbsp;DB. Support for the language includes SQL*Plus commandXQUERY and SQL/XML functions XMLQuery, XMLTable, XMLExists, and XMLCast.">XQuery and Oracle XML&nbsp;DB</a> for information on SQL/XML functions <code class="codeph">XMLQuery</code> and <code class="codeph">XMLCast</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E004C597-551E-4790-AEC5-4E27B27EEBA3__BJFCGHGB">
                        <p class="titleinexample">Example 3-20 Accessing a Text Node Value Using XMLCAST and XMLQuery</p>
                        <p>The following query returns the value of the text node associated with the <code class="codeph">Reference</code> element that matches the target XPath expression. The value is returned as a <code class="codeph">VARCHAR2</code> value.
                        </p><pre class="pre codeblock"><code>SELECT  XMLCast(XMLQuery('$p/PurchaseOrder/Reference/text()'
                         PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
                AS VARCHAR2(30))
  FROM purchaseorder;
 
XMLCAST(XMLQUERY('$P/PURCHASEO
------------------------------
SBELL-2002100912333601PDT
 
1 row selected.
</code></pre><p>The following query returns the value of the text node associated with a <code class="codeph">Description</code> element contained in a <code class="codeph">LineItem</code> element. The particular <code class="codeph">LineItem</code> element is specified by its <code class="codeph">Id</code> attribute value. The predicate that identifies the <code class="codeph">LineItem</code> element is <code class="codeph">[Part/@Id="715515011020"]</code>. The at-sign character (<code class="codeph">@</code>) specifies that <code class="codeph">Id</code> is an attribute rather than an element. The value is returned as a <code class="codeph">VARCHAR2</code> value.
                        </p><pre class="pre codeblock"><code>SELECT XMLCast(
         XMLQuery('$p/PurchaseOrder/LineItems/LineItem[Part/@Id="715515011020"]/Description/text()'
                  PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
               AS VARCHAR2(30))
  FROM purchaseorder;
 
XMLCAST(XMLQUERY('$P/PURCHASEO
------------------------------
Sisters
 
1 row selected.
</code></pre><p>The following query returns the value of the text node associated with the <code class="codeph">Description</code> element contained in the first <code class="codeph">LineItem</code> element. The first <code class="codeph">LineItem</code> element is indicated by the position predicate<code class="codeph">[1]</code>.
                        </p><pre class="pre codeblock"><code>SELECT XMLCast(XMLQuery('$p/PurchaseOrder/LineItems/LineItem[1]/Description'
                        PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
               AS VARCHAR2(4000))
  FROM purchaseorder;
 
XMLCAST(XMLQUERY('$P/PURCHASEORDER/LINEITEMS/LINEITEM[1]/DESCRIPTION'PASSINGOBJECT_VALUEAS"P"
---------------------------------------------------------------------------------------------
A Night to Remember
 
1 row selected.</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it.">Querying XML Content Stored in Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4126"></a><a id="ADXDB6413"></a><a id="ADXDB4125"></a><div class="props_rev_3"><a id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F" name="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F"></a><h4 id="ADXDB-GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F" class="sect4"><span class="enumeration_section">3.6.5 </span>Searching an XML Document Using XMLEXISTS, XMLCAST, and XMLQUERY
                  </h4>
                  <div>
                     <p>You can use SQL/XML standard functions <code class="codeph">XMLExists</code>, <code class="codeph">XMLCast</code>, and <code class="codeph">XMLQuery</code> in a SQL <code class="codeph">WHERE</code> clause to limit query results.
                     </p>
                     <div class="section">
                        <p>SQL/XML standard function <code class="codeph">XMLExists</code> evaluates whether or not a given document contains a node that matches a W3C XPath expression. It returns a Boolean value of <code class="codeph">true</code> if the document contains the node specified by the XPath expression supplied to the function and a value of <code class="codeph">false</code> if it does not. Since XPath expressions can contain predicates, <code class="codeph">XMLExists</code> can determine whether or not a given node exists in the document, and whether or not a node with the specified value exists in the document.
                        </p>
                        <p>Similarly, functions <code class="codeph">XMLCast</code> and <code class="codeph">XMLQuery</code> let you limit query results to documents that satisfy some property. <a href="how-to-use-XML-DB.html#GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__BJFJHBAE">Example 3-21</a> illustrates the use of <code class="codeph">XMLExists</code>, <code class="codeph">XMLCast</code>, and <code class="codeph">XMLQuery</code> to search for documents.
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__CEGIICDB">Example 3-22</a> performs a join based on the values of a node in an XML document and data in another, relational table. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__GUID-B7C2D0CC-D99A-49E4-8981-86FBDBC54410">
                           <p class="notep1">See Also:</p>
                           <p><a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="The XQuery language is one of the main ways that you interact with XML data in Oracle XML&nbsp;DB. Support for the language includes SQL*Plus commandXQUERY and SQL/XML functions XMLQuery, XMLTable, XMLExists, and XMLCast.">XQuery and Oracle XML&nbsp;DB</a> for information about SQL/XML functions <code class="codeph">XMLQuery</code>, <code class="codeph">XMLExists</code>, and <code class="codeph">XMLCast</code></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__BJFJHBAE">
                        <p class="titleinexample">Example 3-21 Searching XML Content Using XMLExists, XMLCast, and XMLQuery</p>
                        <p>The following query uses <code class="codeph">XMLExists</code> to check if the XML document contains an element named <code class="codeph">Reference</code> that is a child of the root element <code class="codeph">PurchaseOrder</code>:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count(*) FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder/Reference' PASSING OBJECT_VALUE AS "p");

  COUNT(*)
----------
       132

1 row selected.
</pre><p>The following query checks if the value of the text node associated with the <code class="codeph">Reference</code> element is <code class="codeph">SBELL-2002100912333601PDT</code>:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count(*) FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder<span class="bold">[Reference="SBELL-2002100912333601PDT"]</span>'
                  PASSING OBJECT_VALUE AS "p");

  COUNT(*)
----------
         1
1 row selected.
</pre><p>This query checks whether the XML document contains a root element <code class="codeph">PurchaseOrder</code> that contains a <code class="codeph">LineItems</code> element that contains a <code class="codeph">LineItem</code> element that contains a <code class="codeph">Part</code> element with an <code class="codeph">Id</code> attribute.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count(*) FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder/LineItems/LineItem/Part/<span class="bold">@Id</span>'
                  PASSING OBJECT_VALUE AS "p");
 
  COUNT(*)
----------
       132
 
1 row selected.
</pre><p>The following query checks whether the XML document contains a root element <code class="codeph">PurchaseOrder</code> that contains a <code class="codeph">LineItems</code> element that contains a <code class="codeph">LineItem</code> element that contains a <code class="codeph">Part</code> element with <code class="codeph">Id</code> attribute value <code class="codeph">715515009058</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count(*) FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder/LineItems/<span class="bold">LineItem/Part[@Id="715515009058"]</span>'
                  PASSING OBJECT_VALUE AS "p");
 
  COUNT(*)
----------
        21
</pre><p>The following query checks whether the XML document contains a root element <code class="codeph">PurchaseOrder</code> that contains a <code class="codeph">LineItems</code> element whose <span class="italic">third</span> <code class="codeph">LineItem</code> element contains a <code class="codeph">Part</code> element with <code class="codeph">Id</code> attribute value <code class="codeph">715515009058</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT count(*) FROM purchaseorder
  WHERE XMLExists(
          '$p/PurchaseOrder/LineItems/LineItem<span class="bold">[3]</span>/Part[@Id="715515009058"]'
          PASSING OBJECT_VALUE AS "p");

  COUNT(*)
----------
         1
1 row selected.
</pre><p>The following query limits the results of the <code class="codeph">SELECT</code> statement to rows where the text node associated with element <code class="codeph">User</code> starts with the letter <code class="codeph">S</code>. XQuery does not include support for <code class="codeph">LIKE</code>-based queries.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT XMLCast(XMLQuery('$p/PurchaseOrder/Reference' PASSING OBJECT_VALUE AS "p"
                        RETURNING CONTENT)
               AS VARCHAR2(30))
  FROM purchaseorder
  WHERE XMLCast(XMLQuery('$p/PurchaseOrder/<span class="bold">User</span>' PASSING OBJECT_VALUE AS "p"
                         RETURNING CONTENT)
                AS VARCHAR2(30))
        <span class="bold">LIKE 'S%'</span>;
 
XMLCAST(XMLQUERY('$P/PURCHASEORDER
----------------------------------
SBELL-20021009123336231PDT
SBELL-20021009123336331PDT
SKING-20021009123336321PDT
...
36 rows selected.
</pre><p>The following query uses <code class="codeph">XMLExists</code> to limit the results of a <code class="codeph">SELECT</code> statement to rows where the text node of element <code class="codeph">User</code> contains the value <code class="codeph">SBELL</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT XMLCast(XMLQuery('$p/PurchaseOrder/Reference' PASSING OBJECT_VALUE AS "p"
                        RETURNING CONTENT)
               AS VARCHAR2(30)) "Reference"
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[User="<span class="bold">SBELL</span>"]' PASSING OBJECT_VALUE AS "p");

Reference
------------------------------
SBELL-20021009123336231PDT
SBELL-20021009123336331PDT
SBELL-20021009123337353PDT
SBELL-20021009123338304PDT
SBELL-20021009123338505PDT
SBELL-20021009123335771PDT
SBELL-20021009123335280PDT
SBELL-2002100912333763PDT
SBELL-2002100912333601PDT
SBELL-20021009123336362PDT
SBELL-20021009123336532PDT
SBELL-20021009123338204PDT
SBELL-20021009123337673PDT
 
13 rows selected.
</pre><p>The following query uses SQL/XML functions <code class="codeph">XMLQuery</code> and <code class="codeph">XMLExists</code> to find the <code class="codeph">Reference</code> element for any <code class="codeph">PurchaseOrder</code> element whose first <code class="codeph">LineItem</code> element contains an order for the item with <code class="codeph">Id</code> <code class="codeph">715515009058</code>. Function <code class="codeph">XMLExists</code> is used in the <code class="codeph">WHERE</code> clause to determine which rows are selected, and <code class="codeph">XMLQuery</code> is used in the <code class="codeph">SELECT</code> list to control which part of the selected documents appears in the result.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT XMLCast(XMLQuery('$p/PurchaseOrder/Reference' PASSING OBJECT_VALUE AS "p"
                        RETURNING CONTENT)
               AS VARCHAR2(30)) "Reference"
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder/LineItems/LineItem[1]/Part[@Id="715515009058"]'
                  PASSING OBJECT_VALUE AS "p");

Reference
-------------------------
SBELL-2002100912333601PDT
 
1 row selected.
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-47898567-D968-4AFC-B7A7-18727D4C3C3F__CEGIICDB">
                        <p class="titleinexample">Example 3-22 Joining Data from an XMLType Table and a Relational Table</p><pre class="oac_no_warn" dir="ltr">SELECT XMLCast(XMLQuery('$p/PurchaseOrder/Reference' PASSING OBJECT_VALUE AS "p"
                        RETURNING CONTENT)
               AS VARCHAR2(30))
  FROM purchaseorder p, hr.employees e
  WHERE XMLCast(XMLQuery('$p/PurchaseOrder/<span class="bold">User</span>' PASSING OBJECT_VALUE AS "p"
                         RETURNING CONTENT)
                AS VARCHAR2(30)) = <span class="bold">e.email</span>
    AND e.employee_id = 100;
 
XMLCAST(XMLQUERY('$P/PURCHASEOREDER
-----------------------------------
SKING-20021009123336321PDT
SKING-20021009123337153PDT
SKING-20021009123335560PDT
SKING-20021009123336952PDT
SKING-20021009123336622PDT
SKING-20021009123336822PDT
SKING-20021009123336131PDT
SKING-20021009123336392PDT
SKING-20021009123337974PDT
SKING-20021009123338294PDT
SKING-20021009123337703PDT
SKING-20021009123337383PDT
SKING-20021009123337503PDT
 
13 rows selected.
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it.">Querying XML Content Stored in Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4131"></a><a id="ADXDB4132"></a><a id="ADXDB4133"></a><a id="ADXDB4130"></a><div class="props_rev_3"><a id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532" name="GUID-1F02303F-041C-42BF-9AE5-CE978496A532"></a><h4 id="ADXDB-GUID-1F02303F-041C-42BF-9AE5-CE978496A532" class="sect4"><span class="enumeration_section">3.6.6 </span>Performing SQL Operations on XMLType Fragments Using XMLTABLE
                  </h4>
                  <div>
                     <p>You can use SQL/XML function <code class="codeph">XMLTable</code> to perform SQL operations on a set of nodes that match an XQuery expression.
                     </p>
                     <div class="section">
                        <p><a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">Example 3-19</a> demonstrates how to extract an <code class="codeph">XMLType</code> instance that contains the node or nodes that match an XPath expression. When the document contains <span class="italic">multiple</span> nodes that match the supplied XPath expression, such a query returns an XML <span class="italic">fragment</span> that contains all of the matching nodes. Unlike an XML document, an XML <strong class="term">fragment</strong> has no single element that is the <span class="italic">root</span> element.
                        </p>
                        <p>This kind of result is common in these cases:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When you retrieve the set of elements contained in a <span class="italic">collection</span>, in which case all nodes in the fragment are of the same type &#x2013; see <a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDCFJAH">Example 3-23</a></p>
                           </li>
                           <li>
                              <p>When the target XPath expression ends in a <span class="italic">wildcard</span>, in which case the nodes in the fragment can be of different types &#x2013; see <a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDDCCFA">Example 3-25</a></p>
                           </li>
                        </ul>
                        <p>You can use SQL/XML function <code class="codeph">XMLTable</code> to break up an XML fragment contained in an <code class="codeph">XMLType</code> instance, inserting the collection-element data into a new, virtual table, which you can then query using SQL — in a join expression, for example. In particular, converting an XML fragment into a virtual table makes it easier to process the result of evaluating an <code class="codeph">XMLQuery</code> expression that returns multiple nodes.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__GUID-AB568350-31DF-484C-BA1B-23BAC08E1BBE">
                           <p class="notep1">See Also:</p>
                           <p><a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="The XQuery language is one of the main ways that you interact with XML data in Oracle XML&nbsp;DB. Support for the language includes SQL*Plus commandXQUERY and SQL/XML functions XMLQuery, XMLTable, XMLExists, and XMLCast.">XQuery and Oracle XML&nbsp;DB</a> for more information about SQL/XML function <code class="codeph">XMLTable</code></p>
                        </div>
                        <p><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDCFJAH">Example 3-23</a> shows how to access the text nodes for each <code class="codeph">Description</code> element in the <code class="codeph">PurchaseOrder</code> document. It breaks up the single XML Fragment output from <a href="how-to-use-XML-DB.html#GUID-4F9F6597-9B1F-4833-836B-DEC7674D264C__BABBGCHJ">Example 3-19</a> into multiple text nodes.
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__BJFIDFFJ">Example 3-24</a> counts the number of elements in a collection. It also shows how SQL keywords such as <code class="codeph">ORDER BY</code> and <code class="codeph">GROUP BY</code> can be applied to the virtual table data created by SQL/XML function <code class="codeph">XMLTable</code>.
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDDCCFA">Example 3-25</a> shows how to use SQL/XML function <code class="codeph">XMLTable</code> to count the number of <span class="italic">child</span> elements of a given element. The XPath expression passed to <code class="codeph">XMLTable</code> contains a wildcard (<code class="codeph">*</code>) that matches all elements that are direct descendants of a <code class="codeph">PurchaseOrder</code> element. Each row of the virtual table created by <code class="codeph">XMLTable</code> contains a node that matches the XPath expression. Counting the number of rows in the virtual table provides the number of element children of element <code class="codeph">PurchaseOrder</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDCFJAH">
                        <p class="titleinexample">Example 3-23 Accessing Description Nodes Using XMLTABLE</p><pre class="oac_no_warn" dir="ltr">SELECT des.COLUMN_VALUE
  FROM purchaseorder p,
       XMLTable('/PurchaseOrder/LineItems/LineItem/Description'
                PASSING p.OBJECT_VALUE) des
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");
 
COLUMN_VALUE
------------
&lt;Description&gt;A Night to Remember&lt;/Description&gt;
&lt;Description&gt;The Unbearable Lightness Of Being&lt;/Description&gt;
&lt;Description&gt;Sisters&lt;/Description&gt;

<span class="bold">3 rows selected.</span>
</pre><p>To use SQL to process the contents of the text nodes, the example converts the collection of <code class="codeph">Description</code> nodes into a <span class="italic">virtual table</span>, using SQL/XML function <code class="codeph">XMLTable</code>. The virtual table has three rows, each of which contains a single <code class="codeph">XMLType</code> instance with a single <code class="codeph">Description</code> element.
                        </p>
                        <p>The XPath expression targets the <code class="codeph">Description</code> elements. The <code class="codeph">PASSING</code> clause says to use the contents (<code class="codeph">OBJECT_VALUE</code>) of <code class="codeph">XMLType</code> table <code class="codeph">purchaseorder</code> as the context for evaluating the XPath expression.
                        </p>
                        <p>The <code class="codeph">XMLTable</code> expression thus <span class="italic">depends</span> on the <code class="codeph">purchaseorder</code> table. This is a <span class="italic">left lateral join</span>. This correlated join ensures a one-to-many (1:N) relationship between the <code class="codeph">purchaseorder</code> row accessed and the rows generated from it by <code class="codeph">XMLTable</code>. Because of this correlated join, the <code class="codeph">purchaseorder</code> table <span class="italic">must appear before</span> the <code class="codeph">XMLTable</code> expression in the <code class="codeph">FROM</code> list. This is a general requirement in any situation where the <code class="codeph">PASSING</code> clause refers to a column of the table.
                        </p>
                        <p>Each <code class="codeph">XMLType</code> instance in the virtual table contains a single <code class="codeph">Description</code> element. You can use the <code class="codeph">COLUMNS</code> clause of <code class="codeph">XMLTable</code> to break up the data targeted by the XPath expression <code class="codeph">'Description'</code> into a column named <code class="codeph">description</code> of SQL data type <code class="codeph">VARCHAR2(256)</code>. The <code class="codeph">'Description'</code> expression that defines this column is <span class="italic">relative</span> to the <span class="italic">context</span> XPath expression, <code class="codeph">'/PurchaseOrder/LineItems/LineItem'</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT des.<span class="bold">description</span>
  FROM purchaseorder p,
       XMLTable('/PurchaseOrder/LineItems/LineItem' PASSING p.OBJECT_VALUE
                <span class="bold">COLUMNS description VARCHAR2(256) PATH 'Description'</span>) des
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");

DESCRIPTION
---------------------------------
A Night to Remember
The Unbearable Lightness Of Being
Sisters
 
3 rows selected.
</pre><p>The <code class="codeph">COLUMNS</code> clause lets you specify precise SQL data types, which can make static type-checking more helpful. This example uses only a single column (<code class="codeph">description</code>). To expose data that is contained at multiple levels in an <code class="codeph">XMLType</code> table as individual rows in a relational view, apply <code class="codeph">XMLTable</code> to each document level to be broken up and stored in relational columns. See <a href="relational-views-over-XML-data.html#GUID-E550E7D4-0D19-47CA-B86F-76825EE54CE1__CHDEEIFD">Example 9-2</a> for an example.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__BJFIDFFJ">
                        <p class="titleinexample">Example 3-24 Counting the Number of Elements in a Collection Using XMLTABLE</p><pre class="oac_no_warn" dir="ltr">SELECT reference, count(*)
  FROM purchaseorder,
       XMLTable('/PurchaseOrder' PASSING OBJECT_VALUE
                COLUMNS <span class="bold">reference</span> VARCHAR2(32) PATH 'Reference',
                        <span class="bold">lineitem</span>  XMLType      PATH 'LineItems/LineItem'),
       XMLTable('LineItem' PASSING lineitem)
  WHERE XMLExists('$p/PurchaseOrder[User="SBELL"]'
                  PASSING OBJECT_VALUE AS "p")
  <span class="bold">GROUP BY</span> reference
  <span class="bold">ORDER BY</span> reference;

REFERENCE                    COUNT(*)
--------------------------   --------
SBELL-20021009123335280PDT         20
SBELL-20021009123335771PDT         21
SBELL-2002100912333601PDT           3
SBELL-20021009123336231PDT         25
SBELL-20021009123336331PDT         10
SBELL-20021009123336362PDT         15
SBELL-20021009123336532PDT         14
SBELL-20021009123337353PDT         10
SBELL-2002100912333763PDT          21
SBELL-20021009123337673PDT         10
SBELL-20021009123338204PDT         14
SBELL-20021009123338304PDT         24
SBELL-20021009123338505PDT         20

13 rows selected.
</pre><p>The query in this example locates the set of XML documents that match the XPath expression to SQL/XML function <code class="codeph">XMLExists</code>. It generates a virtual table with two columns:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">reference</code>, containing the <code class="codeph">Reference</code> node for each document selected
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">lineitem</code>, containing the set of <code class="codeph">LineItem</code> nodes for each document selected
                              </p>
                           </li>
                        </ul>
                        <p>It counts the number of <code class="codeph">LineItem</code> nodes for each document. A correlated join ensures that the <code class="codeph">GROUP BY</code> correctly determines which <code class="codeph">LineItem</code> elements belong to which <code class="codeph">PurchaseOrder</code> element.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-1F02303F-041C-42BF-9AE5-CE978496A532__CHDDCCFA">
                        <p class="titleinexample">Example 3-25 Counting the Number of Child Elements in an Element Using XMLTABLE</p><pre class="oac_no_warn" dir="ltr">SELECT count(*)
  FROM purchaseorder p, XMLTable('/PurchaseOrder/<span class="bold">*</span>' PASSING p.OBJECT_VALUE)
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");
 
  COUNT(*)
----------
         9

1 row selected.</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-D937B3D1-BA54-41D0-9428-4739DA805D75" title="There are many ways to query XML content in Oracle XML&nbsp;DB and retrieve it.">Querying XML Content Stored in Oracle XML&nbsp;DB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4143"></a><a id="ADXDB4144"></a><a id="ADXDB4147"></a><a id="ADXDB4142"></a><div class="props_rev_3"><a id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8" name="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8"></a><h3 id="ADXDB-GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8" class="sect3"><span class="enumeration_section">3.7 </span>Updating XML Content Stored in Oracle
    XML&nbsp;DB
               </h3>
               <div>
                  <p>You can update XML content, replacing either the entire contents of a
    document or only particular parts of a document. </p>
                  <div class="section">
                     <p>The ability to perform partial updates on XML documents is very powerful,
        particularly when you make small changes to large documents, as it can significantly reduce
        the amount of network traffic and disk input-output required to perform the update.</p>
                     <p>You can make multiple changes to a document in a single operation. Each change
        uses an XQuery expression to identify a node to be updated, and specifies the new value for
        that node. </p>
                     <p><a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__CHDBGCBG">Example 3-26</a> updates the text node associated with element
          <code class="codeph">User</code>.
                     </p>
                     <p><a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFGFDGD">Example 3-27</a> replaces an entire element within an XML document. The
        XQuery expression references the element, and the replacement value is passed as an
          <code class="codeph">XMLType</code> object.
        
                     </p>
                     <p>You can make multiple changes to a document in one statement. <a href="how-to-use-XML-DB.html#GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFJGJAB">Example 3-28</a> changes the values of text nodes belonging to elements
          <code class="codeph">CostCenter</code> and <code class="codeph">SpecialInstructions</code> in a single SQL
          <code class="codeph">UPDATE</code>
        statement.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__CHDBGCBG">
                     <p class="titleinexample">Example 3-26 Updating a Text
        Node</p><pre class="pre codeblock"><code>SELECT XMLCast(XMLQuery('$p/PurchaseOrder/User' PASSING OBJECT_VALUE AS "p"
                                                RETURNING CONTENT)
               AS VARCHAR2(60))
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");
 
XMLCAST(XMLQUERY('$P/PURCHAS
----------------------------
SBELL
 
1 row selected.

UPDATE purchaseorder
SET OBJECT_VALUE =
    XMLQuery('copy $i := $p1 modify
                (for $j in $i/PurchaseOrder/User
                 return replace value of node $j with $p2)
              return $i'
             PASSING OBJECT_VALUE AS "p1", '<span class="bold">SKING</span>' AS "p2" RETURNING CONTENT)
    WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                    PASSING OBJECT_VALUE AS "p");
 
1 row updated.

SELECT XMLCast(XMLQuery('$p/PurchaseOrder/User' PASSING OBJECT_VALUE AS "p"
                                                RETURNING CONTENT)
               AS VARCHAR2(60))
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");
 
XMLCAST(XMLQUERY('$P/PURCHAS
----------------------------
<span class="bold">SKING</span>

1 row selected.
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFGFDGD">
                     <p class="titleinexample">Example 3-27 Replacing an Entire
        Element Using XQuery
        Update</p><pre class="pre codeblock"><code>SELECT XMLQuery('$p/PurchaseOrder/LineItems/LineItem[1]'
                PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");
 
XMLQUERY('$P/PURCHAS
--------------------
&lt;LineItem ItemNumber="1"&gt;
  &lt;Description&gt;A Night to Remember&lt;/Description&gt;
  &lt;Part Id="715515009058" UnitPrice="39.95" Quantity="2"/&gt;
&lt;/LineItem&gt;
 
1 row selected.

UPDATE purchaseorder
  SET OBJECT_VALUE =
        XMLQuery('copy $i := $p1 modify
                    (for $j in $i/PurchaseOrder/LineItems/LineItem[1]
                     return replace node $j with $p2)
                  return $i'
                 PASSING OBJECT_VALUE AS "p1",
                         <span class="bold">XMLType('&lt;LineItem ItemNumber="1"&gt;</span>
                                    <span class="bold">&lt;Description&gt;The Lady Vanishes&lt;/Description&gt;</span>
                                    <span class="bold">&lt;Part Id="37429122129" UnitPrice="39.95"</span>
                                          <span class="bold">Quantity="1"/&gt;</span>
                                  <span class="bold">&lt;/LineItem&gt;')</span> AS "p2"
                 RETURNING CONTENT)
        WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                        PASSING OBJECT_VALUE AS "p");
 
1 row updated.

SELECT XMLQuery('$p/PurchaseOrder/LineItems/LineItem[1]'
                PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");

XMLQUERY('$P/PURCHAS
--------------------
<span class="bold">&lt;LineItem ItemNumber="1"&gt;</span>
  <span class="bold">&lt;Description&gt;The Lady Vanishes&lt;/Description&gt;</span>
  <span class="bold">&lt;Part Id="37429122129" UnitPrice="39.95" Quantity="1"/&gt;</span>
<span class="bold">&lt;/LineItem&gt;</span>
 
1 row selected.
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-96D5EAC3-463F-48C0-BF3C-D051E0B174E8__BJFJGJAB">
                     <p class="titleinexample">Example 3-28 Changing Text Node
        Values Using XQuery
      Update</p><pre class="pre codeblock"><code>SELECT XMLCast(XMLQuery('$p/PurchaseOrder/CostCenter'
                        PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
               AS VARCHAR2(4)) "Cost Center",
       XMLCast(XMLQuery('$p/PurchaseOrder/SpecialInstructions'
                        PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
               AS VARCHAR2(2048)) "Instructions"
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");

Cost Center  Instructions
------------ ------------
S30          Air Mail
 
1 row selected.

UPDATE purchaseorder
  SET OBJECT_VALUE =
        XMLQuery('copy $i := $p1 modify
                    ((for $j in $i/PurchaseOrder/<span class="bold">CostCenter</span>
                      return <span class="bold">replace value of node</span> $j <span class="bold">with</span> $p2),
                     (for $j in $i/PurchaseOrder/<span class="bold">SpecialInstructions</span>
                      return <span class="bold">replace value of node</span> $j <span class="bold">with</span> $p3))
                 return $i'
                 PASSING OBJECT_VALUE AS "p1",
                         <span class="bold">'B40'</span> AS "p2",
                         <span class="bold">'Priority Overnight Service'</span> AS "p3"
                 RETURNING CONTENT)
        WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                        PASSING OBJECT_VALUE AS "p");
 
1 row updated.

SELECT XMLCast(XMLQuery('$p/PurchaseOrder/CostCenter'
                        PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
               AS VARCHAR2(4)) "Cost Center",
       XMLCast(XMLQuery('$p/PurchaseOrder/SpecialInstructions'
                        PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)
               AS VARCHAR2(2048)) "Instructions"
  FROM purchaseorder
  WHERE XMLExists('$p/PurchaseOrder[Reference="SBELL-2002100912333601PDT"]'
                  PASSING OBJECT_VALUE AS "p");
 
Cost Center  Instructions
------------ --------------------------
<span class="bold">B40</span>          <span class="bold">Priority Overnight Service</span>
 
1 row selected.</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB4163"></a><div class="props_rev_3"><a id="GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" name="GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B"></a><h3 id="ADXDB-GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" class="sect3"><span class="enumeration_section">3.8 </span>Generating XML Data from Relational Data
               </h3>
               <div>
                  <p>You can use Oracle XML&nbsp;DB to generate XML data from relational data.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7">Generating XML Data from Relational Data Using SQL/XML Functions</a><br>You can use standard SQL/XML functions to generate one or more XML documents. 
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3">Generating XML Data from Relational Data Using DBURITYPE</a><br>You can generate XML data from relational data using SQL function <code class="codeph">DBURIType</code>. 
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="xquery-and-XML-DB.html#GUID-4F83A835-C94B-4D62-999B-111AB5E8A8F1" title="The XQuery language is one of the main ways that you interact with XML data in Oracle XML&nbsp;DB. Support for the language includes SQL*Plus commandXQUERY and SQL/XML functions XMLQuery, XMLTable, XMLExists, and XMLCast.">XQuery and Oracle XML&nbsp;DB</a></li>
                        <li><a href="generation-of-XML-data-from-relational-data.html#GUID-3BEB9A88-8B44-4AA3-89F4-8CBF6F8FA686" title="Oracle XML&nbsp;DB provides features for generating (constructing) XML data from relational data in the database. There are both SQL/XML standard functions and Oracle-specific functions and packages for generating XML data from relational content.">Generation of XML Data from Relational Data</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4164"></a><a id="ADXDB4166"></a><a id="ADXDB4167"></a><a id="ADXDB5803"></a><div class="props_rev_3"><a id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7" name="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7"></a><h4 id="ADXDB-GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7" class="sect4"><span class="enumeration_section">3.8.1 </span>Generating XML Data from Relational Data Using SQL/XML Functions
                  </h4>
                  <div>
                     <p>You can use standard SQL/XML functions to generate one or more XML documents. </p>
                     <div class="section">
                        <p>SQL/XML function <code class="codeph">XMLQuery</code> is the most general way to do this. Other SQL/XML functions that you can use for this are the following:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">XMLElement</code> creates a element 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLAttributes</code> adds attributes to an element
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLForest</code> creates forest of elements
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XMLAgg</code> creates a single element from a collection of elements
                              </p>
                           </li>
                        </ul>
                        <p>The query in <a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BJFJCFHF">Example 3-29</a> uses these functions to generate an XML document that contains information from the tables <code class="codeph">departments</code>, <code class="codeph">locations</code>, <code class="codeph">countries</code>, <code class="codeph">employees</code>, and <code class="codeph">jobs</code>.
                        </p>
                        <p>This query generates element <code class="codeph">Department</code> for each row in the <code class="codeph">departments</code> table. 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Each <code class="codeph">Department</code> element contains attribute <code class="codeph">DepartmentID</code>. The value of <code class="codeph">DepartmentID</code> comes from the <code class="codeph">department_id</code> column. The <code class="codeph">Department</code> element contains sub-elements <code class="codeph">Name</code>, <code class="codeph">Location</code>, and <code class="codeph">EmployeeList</code>.
                              </p>
                           </li>
                           <li>
                              <p>The text node associated with the <code class="codeph">Name</code> element comes from the <code class="codeph">name</code> column in the <code class="codeph">departments</code> table.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">Location</code> element has child elements <code class="codeph">Address</code>, <code class="codeph">City</code>, <code class="codeph">State</code>, <code class="codeph">Zip</code>, and <code class="codeph">Country</code>. These elements are constructed by creating a forest of named elements from columns in the <code class="codeph">locations</code> and <code class="codeph">countries</code> tables. The values in the columns become the text node for the named element.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">EmployeeList</code> element contains an aggregation of <code class="codeph">Employee</code> Elements. The content of the <code class="codeph">EmployeeList</code> element is created by a subquery that returns the set of rows in the <code class="codeph">employees</code> table that correspond to the current department. Each <code class="codeph">Employee</code> element contains information about the employee. The contents of the elements and attributes for each <code class="codeph">Employee</code> element is taken from tables <code class="codeph">employees</code> and <code class="codeph">jobs</code>.
                              </p>
                           </li>
                        </ul>
                        <p>The output generated by SQL/XML functions is generally <span class="italic">not</span> pretty-printed. The only exception is function <code class="codeph">XMLSerialize</code> — use <code class="codeph">XMLSerialize</code> to pretty-print. This lets the other SQL/XML functions (1) avoid creating a full DOM when generating the required output, and (2) reduce the size of the generated document. This lack of pretty-printing by most SQL/XML functions does not matter to most applications. However, it makes verifying the generated output manually more difficult. 
                        </p>
                        <p>You can also create and query an <code class="codeph">XMLType</code> view that is built using the SQL/XML generation functions. <a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABGGAIA">Example 3-30</a> and <a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABJGAEG">Example 3-31</a> illustrate this. Such an <code class="codeph">XMLType</code> view has the effect of persisting relational data as XML content. Rows in <code class="codeph">XMLType</code> views can also be persisted as documents in Oracle XML&nbsp;DB Repository. 
                        </p>
                        <p>In <a href="how-to-use-XML-DB.html#GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABJGAEG">Example 3-31</a>, the XPath expression passed to SQL/XML function <code class="codeph">XMLExists</code> restricts the query result set to the node that contains the <code class="codeph">Executive</code> department information. The result is shown pretty-printed here for clarity.
                        </p>
                        <div class="infoboxnote" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__GUID-C34EF579-9CFB-4ECC-AC17-C88A41DCA1AD">
                           <p class="notep1">Note:</p>
                           <p>XPath rewrite on XML expressions that operate on <code class="codeph">XMLType</code> views is only supported when nodes referenced in the XPath expression are <span class="italic">not</span> descendants of an element created using SQL function <code class="codeph">XMLAgg</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BJFJCFHF">
                        <p class="titleinexample">Example 3-29 Generating XML Data Using SQL/XML Functions</p><pre class="pre codeblock"><code>SELECT XMLElement(
         "Department",
         XMLAttributes(d.Department_id AS "DepartmentId"),
         XMLForest(d.department_name AS "Name"),
         XMLElement(
           "Location",
           XMLForest(street_address AS "Address",
                     city AS "City",
                     state_province AS "State",
                     postal_code AS "Zip",
                     country_name AS "Country")),
           XMLElement(
             "EmployeeList",
             (SELECT XMLAgg(
                       XMLElement(
                         "Employee",
                         XMLAttributes(e.employee_id AS "employeeNumber"),
                         XMLForest(
                           e.first_name AS "FirstName", 
                           e.last_name AS "LastName",
                           e.email AS "EmailAddress",
                           e.phone_number AS "PHONE_NUMBER",
                           e.hire_date AS "StartDate",
                           j.job_title AS "JobTitle",
                           e.salary AS "Salary",
                           m.first_name || ' ' || m.last_name AS "Manager"),
                         XMLElement("Commission", e.commission_pct)))
                FROM hr.employees e, hr.employees m, hr.jobs j
                WHERE e.department_id = d.department_id
                  AND j.job_id = e.job_id
                  AND m.employee_id = e.manager_id)))
  AS XML
  FROM hr.departments d, hr.countries c, hr.locations l
  WHERE department_name = 'Executive'
    AND d.location_id = l.location_id
    AND l.country_id  = c.country_id;
</code></pre><p>The query returns the following XML:</p><pre class="pre codeblock"><code>XML
--------------------------------------------------------------------------------
&lt;Department DepartmentId="90"&gt;&lt;Name&gt;Executive&lt;/Name&gt;&lt;Location&gt;&lt;Address&gt;2004
 Charade Rd&lt;/Address&gt;&lt;City&gt;Seattle&lt;/City&gt;&lt;State&gt;Washingto
n&lt;/State&gt;&lt;Zip&gt;98199&lt;/Zip&gt;&lt;Country&gt;United States of
 America&lt;/Country&gt;&lt;/Location&gt;&lt;EmployeeList&gt;&lt;Employee
 employeeNumber="101"&gt;&lt;FirstNa
me&gt;Neena&lt;/FirstName&gt;&lt;LastName&gt;Kochhar&lt;/LastName&gt;&lt;EmailAddress&gt;NKOCHHAR&lt;/EmailAdd
ess&gt;&lt;PHONE_NUMBER&gt;515.123.4568&lt;/PHONE_NUMBER&gt;&lt;Start
Date&gt;2005-09-21&lt;/StartDate&gt;&lt;JobTitle&gt;Administration Vice
 President&lt;/JobTitle&gt;&lt;Salary&gt;17000&lt;/Salary&gt;&lt;Manager&gt;Steven King&lt;/Manager&gt;&lt;Com
mission&gt;&lt;/Commission&gt;&lt;/Employee&gt;&lt;Employee
 employeeNumber="102"&gt;&lt;FirstName&gt;Lex&lt;/FirstName&gt;&lt;LastName&gt;De
 Haan&lt;/LastName&gt;&lt;EmailAddress&gt;L
DEHAAN&lt;/EmailAddress&gt;&lt;PHONE_NUMBER&gt;515.123.4569&lt;/PHONE
NUMBER&gt;&lt;StartDate&gt;2001-01-13&lt;/StartDate&gt;&lt;JobTitle&gt;Administration Vice Presiden
t&lt;/JobTitle&gt;&lt;Salary&gt;17000&lt;/Salary&gt;&lt;Manager&gt;Steven
 King&lt;/Manager&gt;&lt;Commission&gt;&lt;/Commission&gt;&lt;/Employee&gt;&lt;/EmployeeList&gt;&lt;/Department&gt;
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABGGAIA">
                        <p class="titleinexample">Example 3-30 Creating XMLType Views Over Conventional Relational Tables</p><pre class="pre codeblock"><code>CREATE OR REPLACE VIEW department_xml OF XMLType
  <span class="bold">WITH OBJECT ID (substr(</span>
                    <span class="bold">XMLCast(</span>
                      <span class="bold">XMLQuery('$p/Department/Name'</span>
                               <span class="bold">PASSING OBJECT_VALUE AS "p" RETURNING CONTENT)</span>
                      <span class="bold">AS VARCHAR2(30)),</span>
                    <span class="bold">1,</span>
                    <span class="bold">128))</span>
  AS
  SELECT XMLElement(
           "Department",
           XMLAttributes(d.department_id AS "DepartmentId"),
           XMLForest(d.department_name AS "Name"),
           XMLElement("Location", XMLForest(street_address AS "Address",
                                            city AS "City",
                                            state_province AS "State",
                                            postal_code AS "Zip",
                                            country_name AS "Country")),
           XMLElement(
             "EmployeeList",
             (SELECT XMLAgg(
                       XMLElement(
                          "Employee",
                          XMLAttributes(e.employee_id AS "employeeNumber"),
                          XMLForest(e.first_name AS "FirstName",
                                    e.last_name AS "LastName",
                                    e.email AS "EmailAddress",
                                    e.phone_number AS "PHONE_NUMBER",
                                    e.hire_date AS "StartDate",
                                    j.job_title AS "JobTitle",
                                    e.salary AS "Salary",
                                    m.first_name || ' ' ||
                                    m.last_name AS "Manager"),
                          XMLElement("Commission", e.commission_pct)))
                FROM hr.employees e, hr.employees m, hr.jobs j
                WHERE e.department_id = d.department_id
                  AND j.job_id = e.job_id
                  AND m.employee_id = e.manager_id))).extract('/*')
    AS XML
    FROM hr.departments d, hr.countries c, hr.locations l
    WHERE d.location_id = l.location_id
      AND l.country_id  = c.country_id;
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D02157A1-7A55-4A11-BD29-10D041BD1FC7__BABJGAEG">
                        <p class="titleinexample">Example 3-31 Querying XMLType Views</p><pre class="pre codeblock"><code>SELECT OBJECT_VALUE FROM department_xml
  WHERE XMLExists('$p/Department[Name="Executive"]' PASSING OBJECT_VALUE AS "p");
 
OBJECT_VALUE
------------------------------------------------
&lt;Department DepartmentId="90"&gt;
  &lt;Name&gt;Executive&lt;/Name&gt;
  &lt;Location&gt;
    &lt;Address&gt;2004 Charade Rd&lt;/Address&gt;
    &lt;City&gt;Seattle&lt;/City&gt;
    &lt;State&gt;Washington&lt;/State&gt;
    &lt;Zip&gt;98199&lt;/Zip&gt;
    &lt;Country&gt;United States of America&lt;/Country&gt;
  &lt;/Location&gt;
  &lt;EmployeeList&gt;
    &lt;Employee employeeNumber="101"&gt;
      &lt;FirstName&gt;Neena&lt;/FirstName&gt;
      &lt;LastName&gt;Kochhar&lt;/LastName&gt;
      &lt;EmailAddress&gt;NKOCHHAR&lt;/EmailAddress&gt;
      &lt;PHONE_NUMBER&gt;515.123.4568&lt;/PHONE_NUMBER&gt;
      &lt;StartDate&gt;2005-09-21&lt;/StartDate&gt;
      &lt;JobTitle&gt;Administration Vice President&lt;/JobTitle&gt;
      &lt;Salary&gt;17000&lt;/Salary&gt;
      &lt;Manager&gt;Steven King&lt;/Manager&gt;
      &lt;Commission/&gt;
    &lt;/Employee&gt;
    &lt;Employee employeeNumber="102"&gt;
      &lt;FirstName&gt;Lex&lt;/FirstName&gt;
      &lt;LastName&gt;De Haan&lt;/LastName&gt;
      &lt;EmailAddress&gt;LDEHAAN&lt;/EmailAddress&gt;
      &lt;PHONE_NUMBER&gt;515.123.4569&lt;/PHONE_NUMBER&gt;
      &lt;StartDate&gt;2001-01-13&lt;/StartDate&gt;
      &lt;JobTitle&gt;Administration Vice President&lt;/JobTitle&gt;
      &lt;Salary&gt;17000&lt;/Salary&gt;
      &lt;Manager&gt;Steven King&lt;/Manager&gt;
      &lt;Commission/&gt;
    &lt;/Employee&gt;
  &lt;/EmployeeList&gt;
&lt;/Department&gt;
 
1 row selected.
</code></pre><p>As can be seen from the following execution plan output, Oracle XML&nbsp;DB is able to correctly rewrite the XPath-expression argument in the <code class="codeph">XMLExists</code> expression into a <code class="codeph">SELECT</code> statement on the underlying relational tables.
                        </p><pre class="pre codeblock"><code>SELECT OBJECT_VALUE FROM department_xml
  WHERE XMLExists('$p/Department[Name="Executive"]' PASSING OBJECT_VALUE AS "p");

PLAN_TABLE_OUTPUT
------------------------------------------------------------------------------------------------------------
Plan hash value: 2414180351

------------------------------------------------------------------------------------------------------------
| Id  | Operation                              | Name              | Rows  | Bytes | Cost (%CPU)| Time     |
------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                       |                   |     1 |    80 |     3   (0)| 00:00:01 |
|   1 |  SORT AGGREGATE                        |                   |     1 |   115 |            |          |
|*  2 |   HASH JOIN                            |                   |    10 |  1150 |     7  (15)| 00:00:01 |
|*  3 |    HASH JOIN                           |                   |    10 |   960 |     5  (20)| 00:00:01 |
|   4 |     TABLE ACCESS BY INDEX ROWID BATCHED| EMPLOYEES         |    10 |   690 |     2   (0)| 00:00:01 |
|*  5 |      INDEX RANGE SCAN                  | EMP_DEPARTMENT_IX |    10 |       |     1   (0)| 00:00:01 |
|   6 |     TABLE ACCESS FULL                  | JOBS              |    19 |   513 |     2   (0)| 00:00:01 |
|   7 |    TABLE ACCESS FULL                   | EMPLOYEES         |   107 |  2033 |     2   (0)| 00:00:01 |
|   8 |  NESTED LOOPS                          |                   |     1 |    80 |     3   (0)| 00:00:01 |
|   9 |   NESTED LOOPS                         |                   |     1 |    68 |     3   (0)| 00:00:01 |
|* 10 |    TABLE ACCESS FULL                   | DEPARTMENTS       |     1 |    19 |     2   (0)| 00:00:01 |
|  11 |    TABLE ACCESS BY INDEX ROWID         | LOCATIONS         |     1 |    49 |     1   (0)| 00:00:01 |
|* 12 |     INDEX UNIQUE SCAN                  | LOC_ID_PK         |     1 |       |     0   (0)| 00:00:01 |
|* 13 |   INDEX UNIQUE SCAN                    | COUNTRY_C_ID_PK   |     1 |    12 |     0   (0)| 00:00:01 |
------------------------------------------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 
   2 - access("M"."EMPLOYEE_ID"="E"."MANAGER_ID")
   3 - access("J"."JOB_ID"="E"."JOB_ID")
   5 - access("E"."DEPARTMENT_ID"=:B1)
  10 - filter("D"."DEPARTMENT_NAME"='Executive')
  12 - access("D"."LOCATION_ID"="L"."LOCATION_ID")
  13 - access("L"."COUNTRY_ID"="C"."COUNTRY_ID")
 
30 rows selected.</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" title="You can use Oracle XML&nbsp;DB to generate XML data from relational data.">Generating XML Data from Relational Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4169"></a><a id="ADXDB4170"></a><a id="ADXDB5804"></a><a id="ADXDB4168"></a><div class="props_rev_3"><a id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3" name="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3"></a><h4 id="ADXDB-GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3" class="sect4"><span class="enumeration_section">3.8.2 </span>Generating XML Data from Relational Data Using DBURITYPE
                  </h4>
                  <div>
                     <p>You can generate XML data from relational data using SQL function <code class="codeph">DBURIType</code>. 
                     </p>
                     <div class="section">
                        <p>Function <code class="codeph">DBURIType</code> exposes one or more rows in a given table or view as a single XML document. The name of the root element is derived from the name of the table or view. The root element contains a set of <code class="codeph">ROW</code> elements. There is one <code class="codeph">ROW</code> element for each row in the table or view. The children of each <code class="codeph">ROW</code> element are derived from the columns in the table or view. Each child element contains a text node with the value of the column for the given row.
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BABCGFBC">Example 3-32</a> shows how to use SQL function <code class="codeph">DBURIType</code> to access the contents of table <code class="codeph">departments</code> in database schema <code class="codeph">HR</code>. It uses method <code class="codeph">getXML()</code> to return the resulting document as an <code class="codeph">XMLType</code> instance.
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFIFCCF">Example 3-33</a> shows how to use an XPath predicate to restrict the rows that are included in an XML document generated using <code class="codeph">DBURIType</code>. The XPath expression in the example restricts the XML document to <code class="codeph">DEPARTMENT_ID</code> columns with value <code class="codeph">10</code>.
                        </p>
                        <p>SQL function <code class="codeph">DBURIType</code> provides a simple way to expose some or all rows in a relational table as one or more XML documents. The URL passed to function <code class="codeph">DBURIType</code> can be extended to return a single column from the view or table, but in that case the URL must also include predicates that identify a single row in the target table or view. 
                        </p>
                        <p><a href="how-to-use-XML-DB.html#GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFDCFGG">Example 3-34</a> illustrates this. The predicate <code class="codeph">[DEPARTMENT_ID="10"]</code> causes the query to return the value of column <code class="codeph">department_name</code> for the <code class="codeph">departments</code> row where column <code class="codeph">department_id</code> has the value <code class="codeph">10</code>.
                        </p>
                        <p>SQL function <code class="codeph">DBURIType</code> is less flexible than the SQL/XML functions:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It provides no way to control the shape of the generated document.</p>
                           </li>
                           <li>
                              <p>The data can come only from a single table or view.</p>
                           </li>
                           <li>
                              <p>The generated document consists of one or more <code class="codeph">ROW</code> elements. Each <code class="codeph">ROW</code> element contains a child for each column in the target table.
                              </p>
                           </li>
                           <li>
                              <p>The names of the child elements are derived from the column names.</p>
                           </li>
                        </ul>
                        <p>To control the names of the XML elements, to include columns from more than one table, or to control which columns from a table appear in the generated document, create a relational view that exposes the desired set of columns as a single row, and then use function <code class="codeph">DBURIType</code> to generate an XML document from the contents of that view. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BABCGFBC">
                        <p class="titleinexample">Example 3-32 Generating XML Data from a Relational Table Using DBURIType and getXML()</p><pre class="pre codeblock"><code>SELECT DBURIType('/HR/DEPARTMENTS').getXML() FROM DUAL;
 
DBURITYPE('/HR/DEPARTMENTS').GETXML()
------------------------------------------------------
&lt;?xml version="1.0"?&gt;
&lt;DEPARTMENTS&gt;
 &lt;ROW&gt;
  &lt;DEPARTMENT_ID&gt;10&lt;/DEPARTMENT_ID&gt;
  &lt;DEPARTMENT_NAME&gt;Administration&lt;/DEPARTMENT_NAME&gt;
  &lt;MANAGER_ID&gt;200&lt;/MANAGER_ID&gt;
  &lt;LOCATION_ID&gt;1700&lt;/LOCATION_ID&gt;
 &lt;/ROW&gt;
<span class="bold">...</span>
 &lt;ROW&gt;
  &lt;DEPARTMENT_ID&gt;20&lt;/DEPARTMENT_ID&gt;
  &lt;DEPARTMENT_NAME&gt;Marketing&lt;/DEPARTMENT_NAME&gt;
  &lt;MANAGER_ID&gt;201&lt;/MANAGER_ID&gt;
  &lt;LOCATION_ID&gt;1800&lt;/LOCATION_ID&gt;
 &lt;/ROW&gt;
&lt;/DEPARTMENTS&gt;
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFIFCCF">
                        <p class="titleinexample">Example 3-33 Restricting Rows Using an XPath Predicate</p><pre class="pre codeblock"><code>SELECT DBURIType('/HR/DEPARTMENTS/ROW[DEPARTMENT_ID="10"]').getXML()
  FROM DUAL;
 
DBURITYPE('/HR/DEPARTMENTS/ROW[DEPARTMENT_ID="10"]').GETXML()
------------------------------------------------------------------
&lt;?xml version="1.0"?&gt;
 &lt;ROW&gt;
  &lt;DEPARTMENT_ID&gt;10&lt;/DEPARTMENT_ID&gt;
  &lt;DEPARTMENT_NAME&gt;Administration&lt;/DEPARTMENT_NAME&gt;
  &lt;MANAGER_ID&gt;200&lt;/MANAGER_ID&gt;
  &lt;LOCATION_ID&gt;1700&lt;/LOCATION_ID&gt;
 &lt;/ROW&gt;

1 row selected.
</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-35D94A1F-4646-4208-9CCB-6C1F66E59FA3__BJFDCFGG">
                        <p class="titleinexample">Example 3-34 Restricting Rows and Columns Using an XPath Predicate</p><pre class="pre codeblock"><code>SELECT DBURIType(
         '/HR/DEPARTMENTS/ROW[DEPARTMENT_ID="10"]/<span class="bold">DEPARTMENT_NAME</span>').getXML()
  FROM DUAL;
 
DBURITYPE('/HR/DEPARTMENTS/ROW[DEPARTMENT_ID="10"]/DEPARTMENT_NAME').GETXML()
-----------------------------------------------------------------------------
&lt;?xml version="1.0"?&gt;
 &lt;DEPARTMENT_NAME&gt;Administration&lt;/DEPARTMENT_NAME&gt;
 
1 row selected.
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-FF2D5AD9-0784-457B-8C06-D3E07F00C40B" title="You can use Oracle XML&nbsp;DB to generate XML data from relational data.">Generating XML Data from Relational Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB4063"></a><div class="props_rev_3"><a id="GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" name="GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D"></a><h3 id="ADXDB-GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" class="sect3"><span class="enumeration_section">3.9 </span>Character Sets of XML Documents
               </h3>
               <div>
                  <p>There are a few ways in which Oracle XML&nbsp;DB determines which character sets are used for XML documents</p>
                  <div class="infoboxnote" id="GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D__GUID-B9D7A6D2-33CB-459A-88D1-96CE08DEC78C">
                     <p class="notep1">Caution:</p>
                     <p> <span class="italic">AL32UTF8</span> is the Oracle Database character set that is appropriate for <code class="codeph">XMLType</code> data. It is equivalent to the IANA registered standard UTF-8 encoding, which supports all valid XML characters.
                     </p>
                     <p>Do not confuse Oracle Database database character set UTF8 (no hyphen) with database character set AL32UTF8 or with character <span class="italic">encoding</span> UTF-8. Database character set UTF8 has been <span class="italic">superseded</span> by AL32UTF8. Do <span class="italic">not</span> use UTF8 for XML data. Character set UTF8 supports only Unicode version 3.1 and earlier. It does not support all valid XML characters. AL32UTF8 has no such limitation.
                     </p>
                     <p>Using database character set UTF8 for XML data could potentially <span class="italic">stop a system or affect security negatively</span>. If a character that is not supported by the database character set appears in an input-document element name, a replacement character (usually "<code class="codeph">?</code>") is substituted for it. This terminates parsing and raises an exception. It can cause an irrecoverable error.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-0AC0E511-7648-4B6B-A340-319D04EFD973">XML Encoding Declaration</a><br>You can use an XML encoding declaration to explicitly specify the character encoding to use for a given XML entity.
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1">Character-Set Determination When Loading XML Documents into the Database</a><br>Except for XML data obtained from a <code class="codeph">CLOB</code> or <code class="codeph">VARCHAR</code> value, character encoding is determined by an encoding declaration when a document is loaded into the database. 
                     </li>
                     <li class="ulchildlink"><a href="how-to-use-XML-DB.html#GUID-EED59501-929C-495A-B00F-6A9794ABF840">Character-Set Determination When Retrieving XML Documents from the Database</a><br>Except for XML data stored in a <code class="codeph">CLOB</code> or <code class="codeph">VARCHAR</code> value, you can specify the encoding to be used when it is retrieved from Oracle XML&nbsp;DB using a SQL client, programmatic APIs, or transfer protocols. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-757B4470-851B-47B7-AB78-81F47ECE5398" title="An overview of the various ways of using Oracle XML&nbsp;DB is presented.">Overview of How To Use Oracle XML&nbsp;DB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB4064"></a><div class="props_rev_3"><a id="GUID-0AC0E511-7648-4B6B-A340-319D04EFD973" name="GUID-0AC0E511-7648-4B6B-A340-319D04EFD973"></a><h4 id="ADXDB-GUID-0AC0E511-7648-4B6B-A340-319D04EFD973" class="sect4"><span class="enumeration_section">3.9.1 </span>XML Encoding Declaration
                  </h4>
                  <div>
                     <p>You can use an XML encoding declaration to explicitly specify the character encoding to use for a given XML entity.</p>
                     <p>Each XML document is composed of units called entities. Each entity in an XML document can use a different encoding for its characters. Entities that are stored in an encoding other than UTF-8 or UTF-16 must begin with an XML declaration containing an encoding specification indicating the character encoding in use. For example: </p><pre class="pre codeblock"><code>&lt;?xml version='1.0' encoding='EUC-JP' ?&gt;
</code></pre><p>Entities encoded in UTF-16 must begin with the Byte Order Mark (BOM), as described in Appendix F of the XML 1.0 Reference. For example, on big-endian platforms, the BOM required of a UTF-16 data stream is <code class="codeph">#xFEFF</code>.
                     </p>
                     <p>In the absence of both the encoding declaration and the BOM, the XML entity is assumed to be encoded in UTF-8. Because ASCII is a subset of UTF-8, ASCII entities do not require an encoding declaration.</p>
                     <p>In many cases, external sources of information are available, besides the XML data, to provide the character encoding in use. For example, the encoding of the data can be obtained from the <code class="codeph">charset</code> parameter of the <code class="codeph">Content-Type</code> field in an HTTP(S) request as follows:
                     </p><pre class="pre codeblock"><code>Content-Type: text/xml; charset=ISO-8859-4</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" title="There are a few ways in which Oracle XML&nbsp;DB determines which character sets are used for XML documents">Character Sets of XML Documents</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4065"></a><div class="props_rev_3"><a id="GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1" name="GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1"></a><h4 id="ADXDB-GUID-8C49B304-2E88-4B18-BC7E-A5E11316E5D1" class="sect4"><span class="enumeration_section">3.9.2 </span>Character-Set Determination When Loading XML Documents into the Database
                  </h4>
                  <div>
                     <p>Except for XML data obtained from a <code class="codeph">CLOB</code> or <code class="codeph">VARCHAR</code> value, character encoding is determined by an encoding declaration when a document is loaded into the database. 
                     </p>
                     <p>For XML data obtained from a <code class="codeph">CLOB</code> or <code class="codeph">VARCHAR</code> value, any encoding declaration present is <span class="italic">ignored,</span>, because these two data types are <span class="italic">always encoded in the database character set</span>. 
                     </p>
                     <p>In addition, when loading data into Oracle XML&nbsp;DB, either through programmatic APIs or transfer protocols, you can provide external encoding to override the document encoding declaration. An error is raised if you try to load a schema-based XML document that contains characters that are not legal in the determined encoding.</p>
                     <p>The following examples show different ways to specify external encoding: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using PL/SQL function <code class="codeph">DBMS_XDB_REPOS.createResource</code> to create a file resource from a <code class="codeph">BFILE</code>, you can specify the file encoding with the <span class="italic"><code class="codeph">CSID</code></span> argument. If a zero <span class="italic"><code class="codeph">CSID</code></span> is specified then the file encoding is auto-detected from the document encoding declaration. 
                           </p><pre class="pre codeblock"><code>CREATE DIRECTORY xmldir AS '/private/xmldir';
CREATE OR REPLACE PROCEDURE loadXML(filename VARCHAR2, file_csid NUMBER) IS
  xbfile  BFILE;
  RET     BOOLEAN;
BEGIN
  xbfile := bfilename('XMLDIR', filename);
  ret := DBMS_XDB_REPOS.createResource('/public/mypurchaseorder.xml', 
                                       xbfile,
                                       file_csid);
END;/
</code></pre></li>
                        <li>
                           <p>Use the FTP protocol to load documents into Oracle XML&nbsp;DB. Use the <code class="codeph">quote set_charset</code> FTP command to indicate the encoding of the files to be loaded. 
                           </p><pre class="pre codeblock"><code>ftp&gt; quote set_charset Shift_JIS  
ftp&gt; put mypurchaseorder.xml
</code></pre></li>
                        <li>
                           <p>Use the HTTP(S) protocol to load documents into Oracle XML&nbsp;DB. Specify the encoding of the data to be transmitted to Oracle XML&nbsp;DB in the request header.</p><pre class="pre codeblock"><code>Content-Type: text/xml; charset= EUC-JP
</code></pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" title="There are a few ways in which Oracle XML&nbsp;DB determines which character sets are used for XML documents">Character Sets of XML Documents</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB4066"></a><div class="props_rev_3"><a id="GUID-EED59501-929C-495A-B00F-6A9794ABF840" name="GUID-EED59501-929C-495A-B00F-6A9794ABF840"></a><h4 id="ADXDB-GUID-EED59501-929C-495A-B00F-6A9794ABF840" class="sect4"><span class="enumeration_section">3.9.3 </span>Character-Set Determination When Retrieving XML Documents from the Database
                  </h4>
                  <div>
                     <p>Except for XML data stored in a <code class="codeph">CLOB</code> or <code class="codeph">VARCHAR</code> value, you can specify the encoding to be used when it is retrieved from Oracle XML&nbsp;DB using a SQL client, programmatic APIs, or transfer protocols. 
                     </p>
                     <p>When XML data is stored as a <code class="codeph">CLOB</code> or <code class="codeph">VARCHAR2</code> value, the encoding declaration, if present, is always <span class="italic">ignored</span> for retrieval, just as for storage. The encoding of a retrieved document can thus be different from the encoding explicitly declared in that document.
                     </p>
                     <p>The character set for an XML document retrieved from the database is determined in the following ways: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SQL client &#x2013; If a SQL client (such as SQL*Plus) is used to retrieve XML data, then the character set is determined by the client-side environment variable <code class="codeph">NLS_LANG</code>. In particular, this setting overrides any explicit character-set declarations in the XML data itself. 
                           </p>
                           <p>For example, if you set the client side <code class="codeph">NLS_LANG</code> variable to <code class="codeph">AMERICAN_AMERICA.AL32UTF8</code> and then retrieve an XML document with encoding <code class="codeph">EUC_JP</code> provided by declaration <code class="codeph">&lt;?xml version="1.0" encoding="EUC-JP"?&gt;</code>, the character set of the retrieved document is <code class="codeph">AL32UTF8</code>, <span class="italic">not</span> <code class="codeph">EUC_JP</code>.
                           </p>
                        </li>
                        <li>
                           <p>PL/SQL and APIs &#x2013; Using PL/SQL or programmatic APIs, you can retrieve XML data into <code class="codeph">VARCHAR</code>, <code class="codeph">CLOB</code>, or <code class="codeph">XMLType</code> data types. As for SQL clients, you can control the encoding of the retrieved data by setting <code class="codeph">NLS_LANG</code>.
                           </p>
                           <p>You can also retrieve XML data into a <code class="codeph">BLOB</code> value using <code class="codeph">XMLType</code> and <code class="codeph">URIType</code> methods. These let you specify the character set of the returned <code class="codeph">BLOB</code> value. Here is an example:
                           </p><pre class="pre codeblock"><code>CREATE OR REPLACE FUNCTION getXML(pathname VARCHAR2, charset VARCHAR2) 
  RETURN BLOB IS
  xblob BLOB;
BEGIN
  SELECT XMLSERIALIZE(DOCUMENT e.RES AS BLOB ENCODING charset) INTO xblob
    FROM RESOURCE_VIEW e WHERE equals_path(e.RES, pathname) = 1;
  RETURN xblob;
END;
/
</code></pre></li>
                        <li>
                           <p>FTP &#x2013; You can use the FTP <code class="codeph">quote set_nls_locale</code> command to set the character set:
                           </p><pre class="pre codeblock"><code>ftp&gt; quote set_nls_locale EUC-JP
ftp&gt; get mypurchaseorder.xml
</code></pre></li>
                        <li>
                           <p>HTTP(S) &#x2013; You can use the <code class="codeph">Accept-Charset</code> parameter in an HTTP(S) request:
                           </p><pre class="pre codeblock"><code>/httptest/mypurchaseorder.xml  1.1 HTTP/Host: localhost:2345
Accept: text/*
Accept-Charset:  iso-8859-1, utf-8
</code></pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="repository-access-using-protocols.html#GUID-79D2A8C3-3AD4-4479-847B-0F3771B322AE" title="Oracle Database supports several FTP quote methods, which provide information directly to Oracle XML&nbsp;DB.">FTP Quote Methods</a></li>
                           <li><a href="repository-access-using-protocols.html#GUID-3855422B-2846-40CB-9E49-298193DC333F" title="You can control the character sets used for data that is transferred using HTTP(S).">Character Sets for HTTP(S)</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-EED59501-929C-495A-B00F-6A9794ABF840__GUID-0F0FC6BB-FDEB-49D9-80ED-17CECF2ABEE7">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=NLSPG-GUID-D5C74C82-8622-46F4-8760-0F8ABA28A816" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a> for information about <code class="codeph">NLS_LANG</code></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="how-to-use-XML-DB.html#GUID-C3894902-B4FF-4191-AE22-BCCFADD7FE1D" title="There are a few ways in which Oracle XML&nbsp;DB determines which character sets are used for XML documents">Character Sets of XML Documents</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: 
            <p>The <code class="codeph">XMLType</code> storage model for XML schema-based data is whatever was specified during registration of the referenced XML schema. If no storage model was specified during registration, then object-relational storage is used.
            </p><br></div>
      </article>
   </body>
</html>