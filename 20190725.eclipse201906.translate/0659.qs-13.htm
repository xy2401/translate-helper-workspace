<html lang="zh-Hans" >
<head>
<meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2017. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page.">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" href="../book.css" type="text/css" charset="ISO-8859-1">
<title>调试程序</title>
</head>
<body >
<h1>调试程序</h1>
<p>在本节中，您将调试Java程序。</p>
<ol>
  <li>在Java透视图的Package Explorer视图中，双击<em>junit.samples / VectorTest.java</em>以在编辑器中打开它。</li>
  <li>将光标放在setUp（）方法中以下行的编辑器区域左边缘的垂直标尺上：<p> <code>fFull.addElement (new Integer(1));</code> </p>
    <p>并双击标尺以设置断点。</p>
    <p> <img src="images/editor_vectortest_debug.png" alt="VectorTest.java编辑器显示添加的断点"> 
    </p>断点图标指示断点的状态。普通蓝色断点图标表示断点已设置但尚未安装。
    <p>
    <em>注意：Java VM加载类后，将安装断点并在断点图标上显示复选标记覆盖。</em> </p></li>
  <li>在Package Explorer视图中，选择<em>junit.samples</em>包并选择<strong>Debug As</strong> ，然后选择<strong>Java Application</strong> 。从程序包运行程序时，系统将提示您从程序包中定义<code>main
    </code>方法的所有类中选择一种类型。</li>
  <li>在对话框中选择<em>VectorTest</em>项，然后单击“ <strong>确定”</strong> 。<p> <img src="images/select_java_app_dialog.png" alt="类型选择对话框"> </p>
    <p><em>注意：您也可以点击调试按钮<img src="images/debug_button.png" alt="调试按钮">这将启动当前选定的资源或活动编辑器。当系统提示您选择调试VectorTest的方法时，请选择“ <strong>Java应用程序”</strong> 。</em></p>
	  <p><img src="images/select_how.png" alt="选择调试VectorTest的方法"></p>
  </li>
  <li>程序将一直运行，直到达到断点。当命中断点时，将暂停执行，并询问您是否打开Debug透视图。单击<strong>是</strong> 。请注意，该过程在“调试”视图中仍处于活动状态（未终止）。其他线程可能仍在运行。
    <p> <img src="images/workbench_debug_vectortest.png" alt="调试透视图"> </p>
    <em>注意：断点现在有一个复选标记覆盖<img src="images/active_break_point.png" alt="带覆盖的断点">因为VectorTest类已加载到Java VM中。</em> </li>
  <li>在Debug透视图的编辑器中，从上面设置断点的行中选择<code>new Vector()</code> ，然后从其上下文菜单中选择<strong>Inspect</strong> 。
    <p> <img src="images/editor_vectortest_inspect.png" alt="VectorTest.java编辑器，选择断点线显示上下文菜单"> 
    </p>
  </li>
  <li>在当前堆栈帧的上下文中计算表达式，并出现一个显示结果的弹出窗口。您可以通过按弹出窗口中显示的键绑定将结果发送到“表达式”视图。
  </li>
  <li>您在调试程序时评估的表达式将在此视图中列出。要在使用后删除表达式，请选择表达式并从其上下文菜单中选择“ <strong>删除”</strong> 。
  </li>
  <li>“变量”视图（在选项卡上以及“表达式”视图中可用）显示所选堆栈框架中变量的值。在“变量”视图中展开this.fFull树，直到可以看到值。
  </li>
  <li>当您在Debug视图中单步执行VectorTest时，Variables视图中的变量（例如，no元素）将会更改。要单步执行代码，请单击<strong>Step Over</strong> （ <img src="../images/org.eclipse.debug.ui/elcl16/stepover_co.png" alt="跳过"> ）按钮。执行将在同一方法的下一行继续执行（或者，如果您在方法结束时，它将继续在调用当前方法的方法中）。
      <p> <img src="images/view_variables_logical_structures.png" alt="fFf显示为逻辑结构"> </p>
  </li>
  <li>变量视图将某些类型显示为逻辑结构。您可以在首选项页面<strong>Java&gt; Debug&gt; Logical Structures中</strong>自己定义逻辑<strong>结构</strong> 。

   </li>
   <li><p>您可以选择禁用“ <strong>显示逻辑结构”</strong> <img src="images/view_variables_logical_structure_action.png" alt="逻辑结构动作">显示这些类型的实现细节。</p>
       <p> <img src="images/view_variables_1.png" alt="fFull显示为详细信息"> </p>
  </li>
  <li>尝试其他一些步骤按钮（ <strong>Step Into <img src="../images/org.eclipse.debug.ui/elcl16/stepinto_co.png" alt="踏入"> ，步骤返回<img src="../images/org.eclipse.debug.ui/elcl16/stepreturn_co.png" alt="退一步"> ）</strong>逐步完成代码。注意步进技术的不同之处。
  </li>
  <li>您可以通过允许程序运行完成或终止程序来结束调试会话。
    <ul>
      <li>您可以使用“ <strong>步骤”</strong>按钮继续跳过代码，直到程序完成。</li>
      <li>你可以点击<strong>简历</strong> （ <img src="../images/org.eclipse.debug.ui/elcl16/resume_co.png" alt="恢复"> ）按钮允许程序运行，直到遇到下一个断点或程序完成。</li>
      <li>您可以从Debug视图中的程序进程的上下文菜单中选择<strong>Terminate</strong>来终止程序。</li>
    </ul>
  </li>
</ol>
<p class="nav_footer" id="nav_footer">下一节： <a href="qs-14.htm">评估表达式</a>
</p>
    <h3 class="related">相关概念</h3>
     <a href="../concepts/cbrkpnts.htm">断点</a><br>
     <a href="../concepts/cremdbug.htm">远程调试</a><br>
     <a href="../concepts/clocdbug.htm">本地调试</a>

    <h3 class="related">相关任务</h3>
     <a href="../tasks/task-add_line_breakpoints.htm">添加断点</a><br>
     <a href="../tasks/task-resuming_threads.htm">恢复挂起线程的执行</a><br>
     <a href="../tasks/task-running_and_debugging.htm">运行和调试</a><br>
     <a href="../tasks/task-suspending_threads.htm">暂停线程</a>

    <h3 class="related">相关参考</h3>
     <a href="../reference/preferences/java/debug/ref-debug.htm">调试首选项</a><br>
     <a href="../reference/views/debug/ref-debug_view.htm">调试视图</a><br>
     <a href="../reference/menus/run/ref-menu-run.htm">运行菜单操作</a><br>
     <a href="../reference/ref-toolbar-run.htm">运行和调试工具栏操作</a><br>
     <a href="../reference/views/breakpoints/ref-breakpoints_view.htm">断点视图</a><br>
     <a href="../reference/views/console/ref-console_view.htm">控制台视图</a><br>
     <a href="../reference/views/display/ref-debug_shell_view.htm">调试shell视图</a><br>
     <a href="../reference/views/expressions/ref-expressions_view.htm">表达式视图</a><br>
     <a href="../reference/views/variables/ref-variables_view.htm">变量视图</a>

</body>
</html>