<html lang="zh-Hans" dir="ltr">
<head>
<meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2011. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<meta http-equiv="Content-Style-Type" content="text/css"></meta>
<link rel="STYLESHEET" href="../book.css" type="text/css" charset="ISO-8859-1"></link>
<script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" type="text/javascript" language="JavaScript"></script>
<title>编写命令链接</title>
</head>
<body dir="ltr">

<h2>编写命令链接</h2>

<p>要在文档中包含命令链接，必须首先声明支持JavaScript代码的使用。实时帮助JavaScript位于<b>org.eclipse.help</b>插件中。您可以使用帮助系统的<a href="ua_help_content_files.htm#help_plugin_files_xref">交叉插件参考</a>技术<a href="ua_help_content_files.htm#help_plugin_files_xref">来引用它</a> 。此脚本引用应放在HTML的<b>HEAD</b>部分中：</p>

<pre>&lt;script type =“text / javascript”src =“PLUGINS_ROOT / org.eclipse.help / livehelp.js”&gt; &lt;/ script&gt;</pre>

<p>现在，在文档正文中，您可以调用<b>executeCommand</b>函数。这是一个例子：</p>

<pre>&lt;a href='javascript:executeCommand("org.eclipse.ui.help.aboutAction")'&gt;打开“关于”对话框&lt;/a&gt;</pre>

<p><b>executeCommand</b>函数的<a href="../reference/api/org/eclipse/core/commands/ParameterizedCommand.html"><b>参数</b></a>是序列化的<a href="../reference/api/org/eclipse/core/commands/ParameterizedCommand.html"><b>ParameterizedCommand</b></a> 。有关此格式的完整详细信息，请参阅<a href="../reference/api/org/eclipse/core/commands/ParameterizedCommand.html#serialize()"><b>ParameterizedCommand.serialize（）</b></a>方法。
</p>

<p>上面的示例显示了在HTML链接中嵌入命令所需的最低限度。Eclipse文档补充了两个额外的信息。首先指定一个<tt>类</tt>属性，以允许通过CSS调整链接的外观。其次，在链接文本之前包含图像标记。该图像用于区分命令链接与普通链接到其他HTML页面。使用这两个额外功能补充我们的初始示例将如下所示：</p>

<pre>&lt;a class="command-link" href='javascript:executeCommand("org.eclipse.ui.help.aboutAction")'&gt; &lt;img src =“PLUGINS_ROOT / org.eclipse.help / command_link.png”&gt;打开关于对话框&lt;/a&gt;</pre>

<p>在上面的示例中，About对话框命令不需要任何参数，因此序列化仅仅是其命令id： <tt>org.eclipse.ui.help.aboutAction</tt> 。下面是另一个显示带参数的命令的示例。注意命令id后跟参数id和括号中的值：</p>

<pre>&lt;a href ='javascript：executeCommand（“org.eclipse.ui.window.preferences（preferencePageId = org.eclipse.ui.preferencePages。视图）“）'&gt;显示首选项页面&lt;/a&gt;</pre>

<p>另一个例子表明多个参数是可能的。它们以逗号分隔，参数的顺序并不重要。
</p>

<pre>&lt;a href ='javascript：executeCommand（“org.eclipse.ui.dialogs.openMessageDialog（imageType = 3，buttonLabel2 = Maybe，title =民意调查，消息=你喜欢命令链接吗？，buttonLabel0 =是，defaultIndex = 0， buttonLabel1 = No）“）'&gt;打开一个消息对话框&lt;/a&gt;</pre>

</body>
</html>