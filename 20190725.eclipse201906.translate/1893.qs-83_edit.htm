<html lang="zh-Hans" dir="ltr">
<head>

<meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2011. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
<meta http-equiv="Content-Style-Type" content="text/css"></meta>

<link rel="STYLESHEET" href="../book.css" type="text/css" charset="ISO-8859-1"></link>
<title>编辑Ant构建文件</title>

</head>
<body dir="ltr">
<h1>编辑Ant构建文件</h1>
<p class="Para">因为Ant构建文件是简单的文本文件，所以可以使用任何文本编辑器来编辑它们。但是使用Eclipse Ant编辑器有几个优点，包括语法着色，内容辅助，导航，出现标记和大纲视图。要熟悉Eclipse <b><a href="../reference/ref-anteditor.htm">Ant编辑器</a></b> ，请使用此编辑器创建一个简单的Ant构建文件。</p>
<ol>
  <li>创建一个名为<code>HelloWorld.xml</code>的Ant构建文件。</li>
  <li>打开<b><a href="../reference/ref-anteditor.htm">Ant编辑</a></b>从文件的上下文菜单中选择<b>打开方式&gt; Ant编辑器</b>上的文件。<br>
    <strong>注意：</strong> <code>.xml</code>文件的默认编辑器是一个简单的文本编辑器，直到它具有构建文件内容 - 可以在其上更改<a class="command-link" href="javascript:void(0);"><img src="PLUGINS_ROOT/org.eclipse.help/command_link.svg" alt="打开“文件关联”首选项页面"> <b>常规&gt;编辑器&gt;文件关联</b></a>首选项页面。</li>
  <li>在编辑器中输入以下内容：<pre>&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;project name =“Hello World”default =“Hello”basedir =“。”&gt; &lt;property name =“HelloText”value =“Hello”/&gt; &lt;target name =“Hello”&gt; &lt;echo&gt; $ {HelloText} &lt; / echo&gt; &lt;/ target&gt; &lt;/ project&gt;</pre>
    <p><img src="../images/first_anteditor.png" alt="HelloWorld.xml文件内容" border="0"></p>
  </li>
  <li>请注意属性值的语法着色。</li>
  <li>通过键入<code>&lt;tar</code>开始输入第二个目标，然后<strong>按Ctrl-Space</strong>激活内容辅助。提供了有效完成列表。选择<code>&lt;target&gt;</code>完成并注意编辑器插入开始和结束标记，并使光标定位以输入此标记的属性。</li>
  <li>将此目标命名为<code>World</code> 。</li>
  <li>为此目标输入类似于Hello目标的<code>echo</code>任务，但将文本更改为<code>${WorldText}</code> 。</li> 
    <li>从<code>Hello</code>目标添加对<code>World</code>目标的依赖关系。将光标放在name属性的定义之后， <strong>按Ctrl-Space</strong>并选择<code>depends</code>属性完成。再次<strong>按Ctrl-Space</strong>可在构建文件中完成其他目标<code>World</code> 。</li>
    <li>保存构建文件内容。</li>
    <li>完整内容现在将是：<pre>&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;project name =“Hello World”default =“Hello”basedir =“。”&gt; &lt;property name =“HelloText”value =“Hello”/&gt; &lt;property name =“WorldText”value =“World”/&gt; &lt;target name =“Hello”&gt; &lt;echo&gt; $ {HelloText} &lt;/ echo&gt; &lt;/ target&gt; &lt;target name =“World”&gt; &lt;echo&gt; $ {WorldText} &lt;/ echo&gt; &lt;/ target&gt; &lt;/ project&gt;</pre>

</li>
  <li>将更改保存到<code>HelloWorld.xml</code> 。</li>
  <li>使“ <b><a href="PLUGINS_ROOT/org.eclipse.jdt.doc.user/reference/views/ref-view-outline.htm">大纲”视图</a></b>可见，并注意每个属性和每个目标都有条目。此外，目标下的每个任务都有一个条目。<br><br>
    <img src="../images/outline_hello.png" alt="概述Ant构建文件的视图" border="0">
    <br><br></li>
  <li>单击“ <b><a href="PLUGINS_ROOT/org.eclipse.jdt.doc.user/reference/views/ref-view-outline.htm">大纲”视图中</a></b>的条目将滚动编辑器到该条目。此外，当“ <b><a href="PLUGINS_ROOT/org.eclipse.jdt.doc.user/reference/views/ref-view-outline.htm">大纲”视图</a></b>具有焦点时，键入一个字符会将视图中的选择移动到以该字符开头的下一个可见条目。</li>
  <li>将光标定位在其中一个<code>&lt;target&gt;</code>标记的末尾，键入<code>&lt;tar</code> ，然后<b>按Ctrl-Space</b>激活内容辅助。请注意，现在唯一有效的完成是<code>&lt;/target&gt;</code>和<code>tar</code>标记。这是因为Ant编辑器知道不允许嵌套目标。<br><br>
    <img src="../images/ant_tar_assist.png" alt="Ant编辑器中的代码辅助" border="0"> 
    <br></li>
  <li>关闭编辑器，不保存更改。</li>
</ol>

<h3 class="related">相关任务</h3>
	<a href="qs-82_create.htm">创建Ant构建文件</a><br>
	<a href="qs-84_run_ant.htm">运行Ant构建文件</a><br>
	<a href="qs-85_ant_configs.htm">保存和重用Ant选项</a><br>
	<a href="qs-84_run_ant.htm">运行Ant构建文件</a><br>
	<a href="qs-93_project_builder.htm">创建项目构建器Ant构建文件</a><br>
	<a href="qs-92_project_builders.htm">Ant buildfiles作为项目构建者</a><br>
	<a href="qs-94_run_pj.htm">执行项目构建器</a><br>
	<a href="qs-95_external_tools.htm">外部工具</a><br>
	<a href="qs-96_non_ant_pjs.htm">非Ant项目构建者</a><br>
	<a href="qs-97_standalone_ets.htm">独立的外部工具</a>
</body>
</html>