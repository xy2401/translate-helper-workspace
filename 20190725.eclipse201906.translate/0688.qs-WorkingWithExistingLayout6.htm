<html lang="zh-Hans" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2011. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
    <link rel="stylesheet" href="../book.css" type="text/css" charset="ISO-8859-1"></link>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Style-Type" content="text/css"></meta>
    <title>项目使用具有受限访问权限的源框架</title>
    <script type="text/javascript" src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" language="JavaScript">

</script>
  </head>
  <body dir="ltr">
    <h1>项目使用具有受限访问权限的源框架</h1>
    <h3>文件系统上的布局</h3>
    <ul>

      <li>产品的Java源文件需要源框架。
      </li>
      <li>“产品”和“框架”位于不同的目录中，这些目录具有自己的源和输出文件夹。
        <p>
          <img src="images/qs-WorkingWithExistingLayout60.png" alt="文件系统上的布局">
        </p>
      </li>
    </ul>
    <h3>定义相应项目的步骤</h3>

    <ol>
      <li>
        <p>点击<a class="command-link" href="javascript:void(0);"><img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="打开Java透视图"> <strong>Window&gt; Open Perspective&gt; Other ...&gt; Java</strong></a>改为Java透视图。
        </p>

      </li>
      <li>
        <p>点击<a class="command-link" href="javascript:void(0);"><img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="打开“新建Java项目”向导"> <strong>File&gt; New&gt; Other ...&gt; Java Project</strong></a>打开<strong>New Java Project</strong>向导。
        </p>

      </li>
      <li>
        <p>在<strong>项目名称</strong>字段中键入“框架”。
        </p>
      </li>
      <li>
        <p>取消选择<strong>使用默认位置</strong> 。
        </p>
        <p>单击<strong>Browse ...</strong>并选择<i><code>D:\Framework</code></i>目录。
        </p>

        <p>
          <img src="images/qs-WorkingWithExistingLayout61.png" alt="新Java项目向导">
        </p>
        <p>单击<strong>下一步</strong> 。
        </p>
      </li>
      <li>

        <p>在下一页上，验证目录<i><code>JavaSourceFiles</code></i>是否已自动添加为源文件夹。
        </p>
        <p>展开它以预览项目源文件夹内容：</p>
        <p>
          <img src="images/qs-WorkingWithExistingLayout62.png" alt="Java项目源设置">

        </p>
      </li>
      <li>单击<strong>完成</strong> 。
      </li>
      <li>
        <p>在Java透视图中，键入<strong>Ctrl + N</strong>以打开“ <strong>新建</strong>向导”对话框。
        </p>

        <p>在向导列表中选择<strong>Java project</strong> ，然后单击<strong>Next</strong> 。
        </p>
      </li>
      <li>
        <p>在下一页上，在“ <strong>项目名称”</strong>字段中键入“产品”。
        </p>
      </li>
      <li>
        <p>取消选择<strong>使用默认位置</strong> 。
        </p>

        <p>单击<strong>Browse ...</strong>并选择<i><code>D:\Product</code></i>目录。
        </p>
        <p>
          <img src="images/qs-WorkingWithExistingLayout63.png" alt="新Java项目向导">
        </p>

      </li>
      <li>
        <p>单击<strong>下一步</strong> 。
        </p>
      </li>
      <li>
        <p>在下一页上，验证目录<i><code>JavaSourceFiles</code></i>是否已自动添加为源文件夹。
        </p>
        <p>展开它以预览项目源文件夹内容：</p>
        <p>
          <img src="images/qs-WorkingWithExistingLayout64.png" alt="Java项目源设置">
        </p>

      </li>
      <li>
        <p>选择<strong>Projects</strong>选项卡。
        </p>
        <p>单击<strong>添加...</strong>以向源框架项目添加依赖项...
        </p>

        <p>
          <img src="images/qs-WorkingWithExistingLayout65.png" alt="Java Project必需的项目设置">
        </p>
      </li>
      <li>
        <p>在“ <strong>所需项目选择”中</strong> ，选中“框架”。
        </p>

        <p>
          <img src="images/qs-WorkingWithExistingLayout66.png" alt="所需项目选择对话框">
        </p>
      </li>
      <li>
        <p>单击“ <strong>确定”</strong>以验证并关闭对话框。
        </p>

      </li>
      <li>
        <p>现在，让我们对源框架内容进行访问规则，以授权，阻止或禁止访问“Framework”源文件夹，包和类......
        </p>
        <p>在“ <strong>项目”</strong>选项卡中，根据项目选择“框架”的“访问规则”。
        </p>

        <p>单击<strong>编辑....</strong>
        </p>
        <p>
          <img src="images/qs-WorkingWithExistingLayout67.png" alt="编辑所需的项目访问规则">
        </p>
      </li>
      <li>

        <p>在<strong>类型访问规则中</strong> ，单击<strong>添加....</strong>
        </p>
        <p>
          <img src="images/qs-WorkingWithExistingLayout68.png" alt="键入Access Rules对话框">
        </p>
      </li>

      <li>
        <p>在“ <strong>添加访问规则</strong> ”中，为“ <strong>解决方案</strong> ”选择“禁止<strong>访问</strong> ”。
        </p>
        <p>在<strong>Rule Pattern</strong>字段中输入“** / forbidden / **”。
        </p>

        <p>
          <img src="images/qs-WorkingWithExistingLayout69.png" alt="添加访问规则对话框">
        </p>
      </li>
      <li>
        <p>单击“ <strong>确定”</strong>以验证访问规则并关闭对话框。
        </p>

      </li>
      <li>
        <p>添加其他访问规则：</p>
        <p>
          <strong>决议</strong> ：“气馁”和<strong>规则模式</strong> ：“** / internal / **”。
        </p>

      </li>
      <li>
        <p>您的访问规则现在如下所示：</p>
        <p>
          <img src="images/qs-WorkingWithExistingLayout6a.png" alt="输入访问规则最终结果">
        </p>
      </li>

      <li>
        <p>单击“ <strong>确定”</strong>以验证这些新规则并关闭对话框。
        </p>
      </li>
      <li>
        <p>依赖项目现在有2个访问规则集。
        </p>

        <p>
          <img src="images/qs-WorkingWithExistingLayout6b.png" alt="Java Project必需项目最终设置">
        </p>
      </li>
      <li>
        <p>单击<strong>完成</strong> 。
        </p>

      </li>
      <li>
        <p>您现在有一个Java项目，其中包含“Product”的源代码，并使用“Framework”的源代码。
        </p>
        <p>项目“框架”的某些软件包受到限制，如果您尝试导入它们，编译器会根据您的限制级别显示警告或错误：</p>
        <p>
          <img src="images/qs-WorkingWithExistingLayout6c.png" alt="在Workspace中创建Java项目">

        </p>
      </li>
    </ol>
    <p class="nav_footer" id="nav_footer">下一节： <a href="qs-with-j2se50.htm">Eclipse和J2SE 5.0</a>
    </p>

    <h3 class="related">相关概念</h3>
      <a href="../concepts/concept-java-project.htm">Java项目</a>

    <h3 class="related">相关参考</h3>
      <a href="../reference/ref-wizard-java-project.htm">新的Java项目向导</a><br>
      <a href="../reference/views/ref-view-package-explorer.htm">Package Explorer视图</a>
  </body>
</html>