<html lang="zh-Hans" dir="ltr">
<head>
  <meta name="copyright" content="Copyright (c) IBM Corporation and others 2010, 2013. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
  <meta http-equiv="Content-Style-Type" content="text/css"></meta>
  <link rel="STYLESHEET" href="../../../book.css" type="text/css" charset="ISO-8859-1"></link>
  <title>API使用报告</title>
  <script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" type="text/javascript" language="JavaScript"> </script>
</head>
<body dir="ltr">
<h1>API使用报告</h1>
<p><b>API使用报告</b>描述了从一组包到另一组包的一组引用。可以使用<a href="../ant-tasks/apiuse-ant-task.htm">API Use Ant Task</a>生成报告。提供了一个用户界面，用于在“ <b>外部工具”</b>对话框中配置和生成报告。要创建新的使用扫描配置，只需双击<em>API Use Report</em>配置类型即可。</p>

<h3>API使用报告选项卡</h3>
<p><b>API Use Report</b>选项卡允许您配置分析。</p>
<p>以下示例显示了在3.4安装中提取对Eclipse包的所有引用的配置。</p>

<p><img src="../images/use-ui.png" alt="API使用报告选项卡" border="0"></p><br>

<table border="1" cellspacing="0" cellpadding="5" width="100%">
  <thead>
    <tr>
      <th rowspan="1" colspan="1" width="15%"> <p>选项</p></th>
      <th rowspan="1" colspan="1"> <p>描述</p></th>
      <th rowspan="1" colspan="1" width="5%"> <p>默认</p></th>
    </tr>
  </thead>
  <tbody>
  	<tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析</td>
      <td rowspan="1" colspan="1" valign="top" align="left">您可以选择要分析的内容，可以是API基准，目标定义或捆绑目录。您还可以选择仅为现有报告生成HTML。您只能选择一个选项，每个选项都允许您配置它。也就是说，如果选择分析API基线，则可以转到API基线首选项页面来编辑现有基线。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">API基线</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析&gt; API基准</td>
      <td rowspan="1" colspan="1" valign="top" align="left">您可以从组合框中选择任何API基线进行分析</td>
      <td rowspan="1" colspan="1" valign="top" align="center">默认基线或空</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析&gt;基线......</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许访问<b><a href="../preferences/ref-baselines.htm">API Baselines</a></b>首选项页面以配置要分析的基准。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析&gt;目标定义</td>
      <td rowspan="1" colspan="1" valign="top" align="left">您可以从组合框中选择任何目标定义进行分析</td>
      <td rowspan="1" colspan="1" valign="top" align="center">活动目标定义或为空</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析&gt;目标</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许访问<b><a href="../../../guide/tools/preference_pages/target_platform.htm">Target Platform</a></b>首选项页面以配置要分析的目标定义。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析&gt;目录</td>
      <td rowspan="1" colspan="1" valign="top" align="left">您可以输入包含包的目录的绝对路径。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">空</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析&gt;浏览...</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您浏览要分析的包的文件夹。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">分析&gt;为现有使用扫描生成HTML报告</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您为现有扫描创建报告，而不必再次执行分析。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">搜索&gt;参考</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您指定要查看引用的包的名称（或匹配的RegEx）。请考虑以下示例： <code>org\.eclipse.*</code> 。在这个例子中，我们说我们希望看到对任何以名称<code>org.eclipse.</code>开头的bundle的所有引用<code>org.eclipse.</code> 。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">空</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">搜索&gt; API参考</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您扫描API引用。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">未选中</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">搜索&gt;内部参考</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您扫描内部参考。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">检查</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">搜索&gt;非法API使用</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您扫描非法的API使用情况，即使用受限制的API成员。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">未选中</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">搜索&gt;捆绑包匹配</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您指定要扫描引用的包（即搜索范围）的名称（或匹配的RegEx）。考虑以下示例： <code>.*</code> 。在这个例子中，我们说我们想要搜索名称与任何字符序列匹配的所有包。可以实现相同的效果，将该字段留空。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">空</td>
    </tr>
       <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">过滤器&gt;附加过滤器</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您指定扫描期间要使用的API问题筛选器的目录。
        <p>该设置是.api_filters文件的根目录，应该用于过滤使用扫描找到的潜在引用。<br>使用绝对路径指定根。<br>根需要包含以下结构：</p><pre>根| +  - 组件名称（即org.eclipse.jface）| + --- .api_filters</pre>
        </td>
      <td rowspan="1" colspan="1" valign="top" align="center">空</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">过滤器&gt;浏览...</td>
      <td rowspan="1" colspan="1" valign="top" align="left">打开一个对话框，您可以在其中选择根过滤器目录。
        </td>
      <td rowspan="1" colspan="1" valign="top" align="center">空</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">报告&gt;报告类型</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您在两种HTML报告格式之间进行选择。如果选择了<em>引用捆绑报告（生产者），</em>则报告将列出包含在搜索的捆绑中引用的类型的所有捆绑包。如果选择“ <em>引用捆绑包”报告（使用者）</em> ，则将组织报告以显示搜索范围中包含引用的所有捆绑包。
      <p>切换报告类型时，请检查<em>与</em>正则表达式<em>匹配</em>的<em>References</em>和<em>Bundles</em>是否具有正确的值。在一个设置中使用通配符表达式（如。*）时，切换到另一种报表类型通常需要将wilcard移动到其他设置以获取最有用的报表。
      </p> 
      </td>
      <td rowspan="1" colspan="1" valign="top" align="center">参考捆绑报告（生产者）</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">报告&gt;报告输出位置</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您指定应放置任何生成的报告的绝对路径。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">空</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">报告&gt;浏览...</td>
      <td rowspan="1" colspan="1" valign="top" align="left">打开一个对话框，您可以在其中选择输出任何报告的位置。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">在报告新结果之前报告&gt;清除报告目录</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您在扫描报告任何结果之前清除现有的XML报告位置。应该注意的是，如果存在指定的报告目录，该选项将完全删除指定的报告目录，同时也会递归删除所有子目录。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">未选中</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">报告&gt;创建HTML报告</td>
      <td rowspan="1" colspan="1" valign="top" align="left">将所有XML输出转换为格式化HTML并将其放在<code>&lt;report location&gt;\html</code></td>
      <td rowspan="1" colspan="1" valign="top" align="center">未选中</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">报告&gt;清除HTML报告位置</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您在创建新报告之前清除现有HTML位置。应该注意的是，该选项将完全删除指定的HTML目录（如果存在），并且还递归删除所有子目录。仅当您选择上面提到的“ <b>创建HTML报告”</b>选项时，此选项才会启用。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">未选中</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">报告&gt;搜索完成时打开报告</td>
      <td rowspan="1" colspan="1" valign="top" align="left">分析完成后打开HTML报告。仅当您选择上面提到的“ <b>创建HTML报告”</b>选项时，此选项才会启用。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">未选中</td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">报告&gt;说明</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您输入人类可读的报告说明。</td>
      <td rowspan="1" colspan="1" valign="top" align="center">空</td>
    </tr>
  </tbody>
</table>

<h3>模式选项卡</h3>
<p>“ <b>图案”</b>选项卡允许您创建各种正则表达式模式以控制使用分析。目前有三种受支持的模式：</p> 
	<ol>
		<li>存档模式 - 允许您指定在分析期间应忽略的嵌套存档。</li>
		<li>包模式 - 允许您指定应该是API或内部的包，而无需更新包清单。</li>
		<li>报告转换模式 - 允许您创建包名称正则表达式以过滤报告的引用。所有报告的引用都使用其完全限定的包名称进行过滤。</li>
	</ol>

<p><img src="../images/use-ui-patterns.png" alt="Patterns选项卡" border="0"></p><br>

<table border="1" cellspacing="0" cellpadding="5" width="100%">
  <thead>
    <tr>
      <th rowspan="1" colspan="1" width="15%"> <p>选项</p></th>
      <th rowspan="1" colspan="1"> <p>描述</p></th>
      <th rowspan="1" colspan="1" width="5%"> <p>默认</p></th>
    </tr>
  </thead>
  <tbody>
	<tr>
      <td rowspan="1" colspan="1" valign="top" align="left">加...</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您添加新模式。此按钮将启动<a href="ref-apiuse-patterns-wizard.htm"><strong>Pattern向导</strong></a> 。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">编辑</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您编辑当前选定的图案。一次只能编辑一种模式。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
    <tr>
      <td rowspan="1" colspan="1" valign="top" align="left">去掉</td>
      <td rowspan="1" colspan="1" valign="top" align="left">允许您删除所选的模式。您可以一次删除多个模式。</td>
      <td rowspan="1" colspan="1" valign="top" align="center"> </td>
    </tr>
  </tbody>
</table>

<h3 class="related">相关任务</h3>
<a href="../../../tasks/api_tooling_compare_to_baseline.htm">与API基准相比</a><br>
<a href="../../../tasks/api_tooling_baseline.htm">设置基线</a>

<h3 class="related">相关参考</h3>
<a href="../preferences/ref-baselines.htm">API基线首选项</a><br>
<a href="ref-apiuse-patterns-wizard.htm">API使用模式向导</a>
</body>
</html>