<html lang="zh-Hans"  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta name="copyright" content="Copyright (c) IBM Corporation and others 2010, 2011. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page.">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <title>格式化</title>
    <link rel="stylesheet" href="../book.css" type="text/css" charset="ISO-8859-1">
  </head>

  <body >
    <h1>格式化</h1>
    <p>在Java编辑器中，按代码上的<b>Ctrl + Shift + F</b>进行格式化。如果未设置选择，则整个源格式化，否则仅选择。有关使用格式化程序的一些提示，请参阅本章的段落。
    </p>
    <p>请注意，可以访问Java Formatter首选项<a class="command-link" href="javascript:void(0);"><img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="打开Java Formatter首选项页面"> <b>Java Formatter</b></a>首选项页面。
    </p>
    <h2>禁用部分内的格式化程序</h2>
    <p>您可以在代码中的一个或多个部分中禁用/启用格式化程序，如下面的示例所示：</p><img src="images/formatter-disabling-enabling-tags.png" alt="Java格式化程序示例。一些代码使用禁用和启用标记。">
    <p>上面的代码段使用默认标记名称，但可以在Java Formatter首选项页面的<b>Off / On标记</b>选项卡上更改它们。
    </p>
    <h2>包装最外层的方法调用</h2>
    <p>从版本3.6开始，Java格式化程序现在尝试首先包装最外层的方法调用，以便在包装嵌套方法调用时获得更好的输出。
    </p>
    <p>下面是格式化代码的示例，其中格式化程序在最外层消息调用的参数之间包装了行，以便将每个嵌套方法调用保持在一行上：</p><img src="images/formatter-prefer-wrapping-outer-expressions.png" alt="Java格式化程序示例。带有格式化嵌套方法的简单代码段调用。">
    <p>新的首选项允许您禁用此策略，通常是您希望像以前一样格式化代码，然后取消选中在Java Formatter首选项页面的“ <b>换行”</b>选项卡上可访问的“ <b>首选包装外部表达式”</b>首选项。
    </p>
    <p>
      <b>注意：</b>目前新策略仅适用于嵌套方法调用，但在未来版本中可能会扩展到其他嵌套表达式。
    </p>
    <h2>Condense Javadoc并阻止评论</h2>
    <p>用户可以减少格式化多行注释的行数，如下例所示：</p><img src="images/formatter-condense-multi-lines-comments.png" alt="Java格式化程序示例。带有块和Javadoc注释的简单片段使用比默认配置文件更少的行进行格式化。">
    <p>要激活此行为，请取消选中Java Formatter首选项页面的“ <b>注释”</b>选项卡上可访问的<b>单独行</b>首选项上的<b>/ *和* /</b> 。
    </p>
    <p>Javadoc评论也有同样的偏好。
    </p>
    <h2>保留用户换行符</h2>
    <p>用户可以通过不加入代码或注释中的行来保留换行符。
    </p>
    <p>例如，以下测试用例中<code>return</code>语句的已包装行：</p><img src="images/formatter-join-lines-before.png" alt="要格式化的代码示例">
    <p>当使用<b>Never join lines</b>首选项时，格式化程序将保留它，因此在格式化时会产生以下输出：</p><img src="images/formatter-join-lines-after.png" alt="编码格式化从不加入线">
    <p>要激活此行为，请选中“ <b>线路环绕”</b>和“Java Formatter”首选项页面的“ <b>注释”</b>选项卡上可访问的“ <b>从不连接线”</b>首选项。</p>

    <h3 class="related">相关概念</h3>
      <a href="../concepts/concept-java-editor.htm">Java编辑器</a><br>
      <a href="../concepts/concept-jdt.htm">Java开发工具（JDT）</a>

    <h3 class="related">相关参考</h3>
      <a href="../reference/ref-menu-edit.htm">编辑菜单</a><br>
      <a href="../reference/preferences/java/ref-preferences-editor.htm">Java编辑器首选项</a><br>
      <a href="../reference/preferences/java/codestyle/ref-preferences-formatter.htm">Formatter首选项</a>
  </body>
</html>