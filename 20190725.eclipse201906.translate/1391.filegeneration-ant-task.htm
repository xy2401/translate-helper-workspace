<html lang="zh-Hans" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta name="copyright" content="Copyright (c) IBM Corporation and others 2008, 2013. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Style-Type" content="text/css"></meta>
    <link rel="stylesheet" href="../../../apache_style.css" type="text/css"></link>
    <title>API工具文件生成Ant任务</title>
    <script src="PLUGINS_ROOT/org.eclipse.help/livehelp.js" type="text/javascript" language="JavaScript">

</script>
  </head>
  <body dir="ltr">
    <h1>API工具文件生成Ant任务</h1>
    <h2>目的</h2>

    <p>此任务运行以生成二进制包内的API Tools所需的所有文件。此任务在Eclipse构建期间或在捆绑导出期间运行，以用于具有API工具性质的所有项目。
    </p>
    <p>现在，只创建名为<code>.api_description</code>的文件。
    </p>
    <h2>用法</h2>

    <h3>描述</h3>
    <p>Ant任务的名称是： <code>apitooling.apigeneration</code> 。要使用，jar文件<code>apitooling-ant.jar</code>必须位于Ant类路径上。
    </p>
    <div class="c4">
      <pre class="c3">
<b><span class="c2">&lt;apitooling.apigeneration projectname = <span class="c1">“...”</span> project = <span class="c1">“...”</span> binary = <span class="c1">“...”</span> target = <span class="c1">“...”</span> encoding = <span class="c1">“...”</span> debug = <span class="c1">“...”</span> /&gt;</span></b>
</pre>
    </div>
    <h3>参数</h3>
    <table border="1" cellpadding="2" cellspacing="0">
      <tr>

        <td valign="top">
          <b>属性</b>
        </td>
        <td valign="top">
          <b>描述</b>
        </td>
        <td align="center" valign="top">
          <b>需要</b>

        </td>
      </tr>
      <tr>
        <td valign="top">项目名</td>
        <td valign="top">设置项目名称</td>
        <td align="center" valign="top">是</td>
      </tr>
      <tr>
        <td valign="top">项目</td>
        <td valign="top">设置项目位置。<br>

          <br>这是包含给定项目的所有源文件的文件夹。<br>
          <br>使用绝对路径设置位置。
        </td>
        <td align="center" valign="top">是</td>
      </tr>

      <tr>
        <td valign="top">二进制</td>
        <td valign="top">设置二进制位置。<br>
          <br>这是包含给定项目的所有.class文件的文件夹或jar文件的列表。它们由平台路径分隔符分隔。每个条目必须存在。<br>

          <br>应使用绝对路径指定它们。
        </td>
        <td align="center" valign="top">是</td>
      </tr>
      <tr>
        <td valign="top">目标</td>

        <td valign="top">设置目标位置。<br>
          <br>这是生成生成文件的文件夹。<br>
          <br>使用绝对路径设置位置。
        </td>
        <td align="center" valign="top">是</td>
      </tr>
      <tr>
        <td valign="top">编码</td>

        <td valign="top">设置文件编码。<br>
          <br>这是在生成期间读取源文件时要使用的文件编码。如果未指定编码，则将使用系统属性<code>file.encoding</code> 。<br>
          <br>不检查指定的编码以确保它以任何方式有效，并且无效的编码将导致从Ant任务抛出<code>UnsupportedEncodingException</code> 。
        </td>
        <td align="center" valign="top">没有</td>
      </tr>
      <tr>
        <td valign="top">调试</td>
        <td valign="top">设置调试值。<br>

          <br>可能的值为： <code>true</code> ， <code>false</code><br>默认值为<code>false</code> 。
        </td>
        <td align="center" valign="top">没有</td>

      </tr>
      <tr>
        <td valign="top">extramanifests</td>
        <td valign="top">设置额外的清单文件的位置。<br>
          <br>这是一个额外的MANIFEST.MF文件位置列表，可以设置这些位置以提供更多的api软件包进行扫描。它们由平台路径分隔符分隔。每个条目必须存在。<br>

          <br>如果路径不是绝对路径，则将相对于当前工作目录解析。<br>
          <br>可以指定Jar文件而不是MANIFEST.MF文件。如果指定了jar文件，则将读取其MANIFEST.MF文件（如果存在）。
        </td>
        <td align="center" valign="top">没有</td>
      </tr>

      <tr>
        <td valign="top">extrasourcelocations</td>
        <td valign="top">设置额外的源位置。<br>
          <br>这是将要扫描的源文件的位置列表。它们由平台路径分隔符分隔。每个条目必须存在。<br>

          <br>应使用绝对路径指定它们。
        </td>
        <td align="center" valign="top">没有</td>
      </tr>
      <tr>
        <td valign="top">allownonapiproject</td>

        <td valign="top">允许任务在启用非API Tools的项目上运行。<br>
          <br>如果此任务在没有API Tools性质的项目上运行，则不会生成api_description文件，因为假定项目不支持API Tools。在某些情况下，需要在没有性质的项目上生成描述文件。将此参数设置为true将导致任务不检查性质。
        </td>
        <td align="center" valign="top">没有</td>
      </tr>

    </table>
    <h3>例子</h3>
    <pre>
 <b><span class="c2">&lt;apitooling.apigeneration projectname = <span class="c1">“org.eclipse.jdt.core_3.5.0.v_927”</span> project = <span class="c1">“d：\ eclipse \ org.eclipse.jdt.core”</span> binary = <span class="c1">“d：\ eclipse \ org.eclipse.jdt.core \ bin; d：\ eclipse \ org.eclipse.jdt.core \ antbin“</span> target = <span class="c1">”d：\ plugins \ org.eclipse.jdt.core“</span> encoding = <span class="c1">”UTF-8“</span> allownonapiproject = <span class="c1">”true“</span> debug = <span class="c1">”true “</span> /&gt;</span></b>
</pre>
    <p>这将根据<code>d:\eclipse\org.eclipse.jdt.core</code>包含的源和<code>d:\eclipse\org.eclipse.jdt.core\bin</code>包含的.class文件在文件夹<code>d:\plugins\org.eclipse.jdt.core</code>创建一个名为<code>.api_description</code>的文件。 <code>d:\eclipse\org.eclipse.jdt.core\bin</code> 。
    </p>
    <h3 class="related">相关参考</h3>
      <a href="analysis-ant-task.htm">分析Ant任务</a><br>
      <a href="apifreeze-ant-task.htm">API冻结Ant任务</a><br>
      <a href="apiuse-ant-task.htm">API使用Ant任务</a><br>
      <a href="analysis-reportconversion-ant-task.htm">分析报告转换Ant任务</a><br>
      <a href="apifreeze-reportconversion-ant-task.htm">API冻结报告转换Ant任务</a><br>
      <a href="deprecation-ant-task.htm">API弃用Ant任务</a><br>
      <a href="deprecation-reportconversion-ant-task.htm">API弃用报告转换Ant任务</a><br>
      <a href="apiuse-reportconversion-ant-task.htm">API使用报告转换Ant任务</a>
  </body>
</html>