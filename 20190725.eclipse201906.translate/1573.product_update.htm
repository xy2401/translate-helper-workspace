<html lang="zh-Hans" >
<head>

<meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2008. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page.">

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="STYLESHEET" href="../book.css" type="text/css" charset="ISO-8859-1">
<title>更新产品或扩展程序</title>

<link rel="stylesheet" type="text/css" href="../book.css">
</head>
<body bgcolor="#ffffff" >
<h2>更新产品或扩展程序</h2>
<p>通过遵循规定的包装和安装产品的程序，我们可以利用<b>平台配置支持，</b>以统一的方式处理产品和扩展，并允许用户发现和安装产品和扩展的更新版本。</p>
<p>在查看此类服务器的实现之前，重新审视一些重要概念非常重要：</p>
<ul>
  <li>该平台提供了用于定义<b>功能</b>和软件<b>站点</b>的框架。平台本身定义了功能和站点的具体实现。此具体实现允许平台升级和安装其他功能。</li>
  <li>平台<b>软件站点</b>可用于通过安装新版本的功能来<b>更新</b>产品。它还可用于通过添加或升级功能来<b>安装</b>或<b>更新</b>扩展。这仅适用于符合平台功能和站点的具体实现并符合相应安装准则的产品和扩展。</li>
  <li>开发人员可以自由使用本机安装程序和卸载程序来升级自己的产品和扩展，而无需考虑站点和平台更新支持。</li>
</ul>
<p>也就是说，如果我们想要完全参与产品更新的平台实施并使用其更新服务器，我们该怎么办？</p>
<h3>功能和插件包装</h3>
<p>前面的示例产品和扩展目录结构显示了功能和插件安装后的布局方式。要使用软件站点安装功能，必须将功能打包在功能存档文件中。这在<a href="../reference/misc/feature_archive.html">功能存档文件中</a>有所描述。</p>
<p>必须根据<a href="../reference/misc/plugin_archive.html">插件存档文件中</a>描述的格式打包插件和片段。</p>
<h3>软件站点布局</h3>
<p>软件站点必须是具有固定布局的URL可访问服务器。服务器提供的可用功能和插件列表在站点地图文件<b>content.xml</b>中进行了描述。可以将服务器URL指定为站点地图文件的完整URL，或指定包含站点地图的目录路径的URL。首选使用目录路径，因为这将允许将来更改软件站点格式。站点地图文件包含服务器上所有可用功能和功能存档位置的列表。它还描述了功能清单中引用的插件存档的位置。</p>
<p>我们的示例Web产品和扩展的简单站点布局可能如下所示：</p>
<pre>&lt;site root&gt;/
	artifacts.jar <i>(compressed p2 artifact repository - present in p2 optimized site)</i>
	content.jar <i>(compressed p2 metadata repository - present in p2 optimized site)</i>
	features/	<i>(contains feature archive files)</i>
		com.example.acme.acmefeature_1.0.1.jar
		com.example.betterwebs.betterfeature_1.0.1.jar
		...
	plugins/	<i>(contains plug-in archive files)</i>
		com.example.acme.acmefeature_1.0.1.jar
		com.example.acme.acmewebsupport_1.0.3.jar
		com.example.betterwebs.betterfeature_1.0.1.jar
		com.example.betterwebs.betterwebsupport_1.0.1.jar
		...</pre>
<h3>更新服务器</h3>
<p>提供了一个Eclipse项目软件站点来更新平台本身。此外，平台更新UI允许用户维护可以搜索新功能的软件站点列表。可以将符合指定更新服务器布局的任何站点添加到列表中。用户可以选择手动或自动搜索其已安装功能的其他功能或升级。</p>
<p>可以通过在PDE中创建“更新站点”项目，或使用<a href="p2_publisher.html">发布</a>和<a href="p2_repositorytasks.htm">存储库操作</a>命令行工具和Ant任务来创建和操作软件站点。
</p>
</body>
</html>