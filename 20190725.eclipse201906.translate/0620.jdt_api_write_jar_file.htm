<html lang="zh-Hans" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2011. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<meta http-equiv="Content-Style-Type" content="text/css"></meta>
<link rel="STYLESHEET" href="../book.css" type="text/css" charset="ISO-8859-1"></link>
<title>以编程方式编写Jar文件</title>
<link rel="stylesheet" type="text/css" href="../book.css"></link>

</head>
<body dir="ltr">
<h2>以编程方式编写Jar文件</h2>
<p><a href="../reference/api/org/eclipse/jdt/ui/jarpackager/package-summary.html"><b>org.eclipse.ui.jarpackager</b></a>包提供了以编程方式将文件导出到Jar文件的实用程序类。下面是一个代码片段，概述了<a href="../reference/api/org/eclipse/jdt/ui/jarpackager/JarPackageData.html"><b>JarPackageData</b></a>类的<a href="../reference/api/org/eclipse/jdt/ui/jarpackager/JarPackageData.html"><b>用法</b></a> ：</p>
<pre class="color1">void createJar（IType mainType，IFile [] filestoExport）{Shell parentShell = ...; JarPackageData description = new JarPackageData（）; IPath location = new Path（“C：/tmp/myjar.jar”）; description.setJarLocation（位置）; description.setSaveManifest（真）; description.setManifestMainClass（mainType）; description.setElements（filestoExport）; IJarExportRunnable runnable = description.createJarExportRunnable（parentShell）;尝试{new ProgressMonitorDialog（parentShell）.run（true，true，runnable）; } catch（InvocationTargetException e）{//执行操作时发生错误} catch（InterruptedException e）{//操作已被取消。}}</pre>
<p>提供了额外的API来创建<a href="../reference/api/org/eclipse/jdt/ui/jarpackager/JarPackageData.html"><b>JarPackageData</b></a>的插件特定子类。这允许其他插件实现自己的Jar导出/导入向导，并将<a href="../reference/api/org/eclipse/jdt/ui/jarpackager/JarPackageData.html"><b>JarPackageData</b></a>对象的内容保存到相应的Jar描述文件中。</p>
<p>一旦JAR由<a href="../reference/api/org/eclipse/jdt/ui/jarpackager/JarPackageData.html"><b>JarPackageData</b></a>描述，就可以使用<a href="../reference/api/org/eclipse/jdt/ui/jarpackager/JarWriter3.html"><b>JarWriter3</b></a>以编程方式编写它。</p>

</body>
</html>