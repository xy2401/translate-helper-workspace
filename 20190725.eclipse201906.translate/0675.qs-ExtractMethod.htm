<html lang="zh-Hans" dir="ltr">
  <head>
<meta name="copyright" content="Copyright (c) IBM Corporation and others 2000, 2014. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page."></meta>
    <link rel="stylesheet" href="../book.css" type="text/css" charset="ISO-8859-1"></link>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
    <meta http-equiv="Content-Style-Type" content="text/css"></meta>
    <title>提取新方法</title>
  </head>
  <body dir="ltr">
    <h1>提取新方法</h1>
    <p>在本节中，您将改进<em>junit.framework的构造函数的代码<em>。TestSuite</em> 。为了使代码的意图更加清晰，您将从基类中收集测试用例的代码提取到名为<em>collectInheritedTests</em>的新方法中。
    </p>
    <ol>
      <li>在<em>junit.framework / TestSuite.java</em>文件中，在<em>TestSuite（Class）</em>构造函数中选择以下代码范围：<br>
        <p><code>类superClass = theClass;<br>Vector names = new Vector（）;<br>while（Test.class.isAssignableFrom（superClass））{<br>Method [] methods = superClass.getDeclaredMethods（）;<br>for（int i = 0; i &lt;methods.length; i ++）{<br>addTestMethod（methods [i]，names，theClass）;<br>}<br>superClass = superClass.getSuperclass（）;<br>}</code></p>
      </li>
      <li>从编辑器中的选择上下文菜单中，选择<strong>Refactor&gt; Extract Method ....</strong>
		<p>
		<img src="images/editor_testsuite_extract_method.png" alt="上下文菜单提取方法">
		</p>
      </li>
      <li>在“ <strong>方法名称”</strong>字段中，键入<em>collectInheritedTests</em> 。
		<p>
		<img src="images/extract_method_dialog.png" alt="提取方法向导数据输入页面">
		</p>
      </li>
      <li>要预览更改，请按<strong>预览&gt;</strong> 。预览页面显示将要进行的更改。按<strong>确定</strong>以提取方法。
		<p>
		<img src="images/extract_method_preview_dialog.png" alt="提取方法预览页面">
		</p>
      </li>
      <li>通过在“大纲”视图中选择它来转到提取的方法。
		<p>
		<img src="images/editor_testsuite_outline_collectinheritedmethod.png" alt="提取方法">
		</p>
      </li>
    </ol>
    <p class="nav_footer" id="nav_footer">下一节： <a href="qs-9.htm">创建Java类</a>
</p>
    <h3 class="related">相关概念</h3>
       <a href="../concepts/concept-java-editor.htm">Java编辑器</a><br>
       <a href="../concepts/concept-refactoring.htm">重构支持</a>

    <h3 class="related">相关参考</h3>
       <a href="../reference/preferences/ref-preferences-java.htm">Java首选项</a>

  </body>
</html>