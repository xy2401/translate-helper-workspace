<html lang="zh-Hans" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii"></meta>
<meta http-equiv="Content-Style-Type" content="text/css"></meta>
<meta http-equiv="Content-Script-Type" content="text/javascript"></meta>
<title>高速缓存</title>
<meta name="copyright" content="Copyright (c) 2000, 2009 oracle . All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License 2.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-2.0/. Contributors: Oracle - initial API and implementation"></meta>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = ohj/ohw) - Version 1.0.11"></meta>
<meta name="date" content="2013-04-05T12:21:41Z"></meta>
<meta name="robots" content="noarchive"></meta>
<meta name="doctitle" content="Caching"></meta>
<meta name="relnum" content="Release 3.3"></meta>
<meta name="partnum" content="Release 3.3"></meta>
<link rel="copyright" href="dcommon/html/cpyr.htm" title="Copyright" type="text/html"></link>
<link rel="stylesheet" href="dcommon/css/blafdoc.css" title="Oracle BLAFDoc" type="text/css"></link>
</head>
<body dir="ltr">
<p><a id="CIABEDCH" name="CIABEDCH"></a><a id="ref_persistence_caching" name="ref_persistence_caching"></a></p>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h1><a id="sthref636" name="sthref636"></a><a id="sthref637" name="sthref637"></a>高速缓存</h1>
<p>此表列出了<a href="ref_persistence_xmll_editor.htm#CIACCHID">persistence.xml编辑器</a>的“缓存”页面的属性。</p>
<div class="inftblhruleinformal">
<table class="HRuleInformal" dir="ltr" border="1" width="100%" cellpadding="3" cellspacing="0" summary="This table lists the properties of the Caching page of the persistence.xml Editor." frame="hsides" rules="rows">
<col width="24%">
<col width="*">
<col width="24%">
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t56">属性</th>
<th align="left" valign="bottom" id="r1c2-t56">描述</th>
<th align="left" valign="bottom" id="r1c3-t56">默认</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t56" headers="r1c1-t56">
<p>共享缓存模式</p>
</td>
<td align="left" headers="r2c1-t56 r1c2-t56">
<p>选择以下之一作为共享缓存模式：</p>
<ul>
<li>
<p><span class="bold">全部</span> - 。</p>
</li>
<li>
<p><span class="bold">没有</span> -</p>
</li>
<li>
<p><span class="bold">启用选择性</span> -</p>
</li>
<li>
<p><span class="bold">禁用选择性</span> -</p>
</li>
<li>
<p><span class="bold">未指明</span> -</p>
</li>
</ul>
</td>
<td align="left" headers="r2c1-t56 r1c3-t56">
<p>禁用选择性</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t56" headers="r1c1-t56">
<p>默认缓存类型</p>
</td>
<td align="left" headers="r3c1-t56 r1c2-t56">
<p>选择以下之一作为默认缓存类型：</p>
<ul>
<li>
<p><span class="bold">软Subcache弱</span> - 此选项类似于<span class="bold">Weak with Hard Subcache，</span>除了它维护一个最常用的使用软引用的子<span class="bold">进程</span> 。子缓存的大小与身份映射的大小成比例。子进程使用软引用来确保仅在系统内存不足时才对这些对象进行垃圾回收。</p>
<p>在大多数情况下使用此身份映射作为控制缓存使用的内存的方法。</p>
</li>
<li>
<p><span class="bold">使用Hard Subcache弱</span> - 此选项类似于<span class="bold">Soft with Weak</span>子类，除了它维护一个最常用的使用硬引用的子类。如果软参考不适合您的平台，请使用此身份映射。</p>
</li>
<li>
<p><span class="bold">弱</span> - 这个选项类似于<span class="bold">Full</span> ，除了使用弱引用引用对象。此选项使用的内存少于<span class="bold">Full</span> ，允许完整的垃圾收集并提供完整的缓存和保证的身份。</p>
<p>将此身份映射用于一旦启动，保留在服务器端的事务。</p>
</li>
<li>
<p><span class="bold">Soft</span> -This选项类似于<span class="bold">Weak，</span>只是地图使用软引用保存对象。此标识映射在内存不足时启用完全垃圾回收。它提供完整的缓存和保证身份。</p>
</li>
<li>
<p><span class="bold">完整</span> - 此选项提供完全缓存和保证身份：所有对象都被缓存而不是被删除。</p>
<p>注意：读取许多对象时，此过程可能会占用大量内存。</p>
</li>
<li>
<p><span class="bold">无</span> - 此选项不保留对象标识，也不缓存对象。不建议使用此选项。</p>
</li>
</ul>
</td>
<td align="left" headers="r3c1-t56 r1c3-t56">
<p>弱软弱的子耳</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t56" headers="r1c1-t56">
<p>默认缓存大小</p>
</td>
<td align="left" headers="r4c1-t56 r1c2-t56">
<p>设置缓存的大小（最大对象数）。</p>
</td>
<td align="left" headers="r4c1-t56 r1c3-t56">
<p>100</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t56" headers="r1c1-t56">
<p>刷新清除缓存</p>
</td>
<td align="left" headers="r5c1-t56 r1c2-t56">
<p>选择以下之一作为默认缓存类型：</p>
<ul>
<li>
<p><span class="bold">丢弃</span> - 此模式速度最快，使用的内存最少。但是，提交后，共享缓存可能包含过时数据。</p>
</li>
<li>
<p><span class="bold">Drop Invalidate</span> - 在提交时在共享缓存中使至少有一个对象更新或删除的类无效。此模式比<span class="bold">Drop</span>慢，但是作为高效的内存使用方式，并防止过时的数据。</p>
</li>
<li>
<p><span class="bold">合并</span> - 从EntityManager的尚未刷新的对象缓存中删除类。此模式在提交后使共享缓存处于完美状态。但是，它是内存效率最低的模式;内存甚至可能在一个非常大的事务中耗尽。</p>
</li>
</ul>
</td>
<td align="left" headers="r5c1-t56 r1c3-t56">
<p>丢弃无效</p>
</td>
</tr>
</tbody>
</table>
<br></div>
<!-- class="inftblhruleinformal" -->
<div align="center">
<div class="inftblnote"><br>
<table class="Note oac_no_warn" cellpadding="3" cellspacing="0" summary="">
<tbody>
<tr>
<td align="left">
<p class="notep1">注意：</p>
<p>此页面不适用于使用<span class="bold">Generic</span>平台的项目。</p>
</td>
</tr>
</tbody>
</table>
<br></div>
<!-- class="inftblnote" --></div>
<a id="sthref638" name="sthref638"></a>
<p class="subhead2">相关参考</p>
<ul>
<li>
<p><span class="italic">EclipseLink的Java Persistence API（JPA）扩展参考</span><br>
<code><a href="http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/toc.htm">http://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/toc.htm</a></code></p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<!-- Start Footer -->
<div class="footer">
<table class="simple oac_no_warn" cellspacing="0" cellpadding="0" width="100%" summary="">
<col width="86%">
<col width="*">
<tr>
<td align="left"><span class="copyrightlogo">版权所有©2011,2013，Oracle和/或其附属公司。版权所有。</span><br>
<a href="dcommon/html/cpyr.htm"><span class="copyrightlogo">法律声明</span></a></td>
</tr>
</table>
</div>
<!-- class="footer" -->
</body>
</html>