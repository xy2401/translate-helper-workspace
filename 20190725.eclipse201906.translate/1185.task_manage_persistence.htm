<html lang="zh-Hans" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii"></meta>
<meta http-equiv="Content-Style-Type" content="text/css"></meta>
<meta http-equiv="Content-Script-Type" content="text/javascript"></meta>
<title>管理persistence.xml文件</title>
<meta name="copyright" content="Copyright (c) 2000, 2009 oracle . All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License 2.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-2.0/. Contributors: Oracle - initial API and implementation"></meta>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = ohj/ohw) - Version 1.0.11"></meta>
<meta name="date" content="2013-04-05T12:21:28Z"></meta>
<meta name="robots" content="noarchive"></meta>
<meta name="doctitle" content="Managing the persistence.xml file"></meta>
<meta name="relnum" content="Release 3.3"></meta>
<meta name="partnum" content="Release 3.3"></meta>
<link rel="copyright" href="dcommon/html/cpyr.htm" title="Copyright" type="text/html"></link>
<link rel="stylesheet" href="dcommon/css/blafdoc.css" title="Oracle BLAFDoc" type="text/css"></link>
</head>
<body dir="ltr">
<p><a id="CIHDAJID" name="CIHDAJID"></a></p>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h1><a id="ABC4949575" name="ABC4949575"></a><a id="ABC4949575SRI1" name="ABC4949575SRI1"></a>管理persistence.xml文件</h1>
<p><a id="sthref127" name="sthref127"></a>创建项目时，Eclipse会在项目目录中创建<code>META-INF\persistence.xml</code>文件。</p>
<div class="example"><a id="sthref128" name="sthref128"></a>
<p class="titleinexample">示例persistence.xml文件</p>
<pre class="oac_no_warn" xml:space="preserve">&lt;？xml version =“1.0”encoding =“UTF-8”？&gt; &lt;persistence version =“2.0”xmlns =“http://java.sun.com/xml/ns/persistence”xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”xsi： schemaLocation =“http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd”&gt; &lt;persistence-unit name =“QuickStart”&gt; &lt;类&gt; quickstart.demo.model。地址&lt;/ class&gt; &lt;class&gt; quickstart.demo.model。Item &lt;/ class&gt; &lt;/ persistence-unit&gt; &lt;/ persistence&gt;</pre></div>
<!-- class="example" -->
<p>您可以通过XML编辑器或<a href="ref_persistence_xmll_editor.htm#CIACCHID">persistence.xml编辑器</a>管理此文件。</p>
<div class="figure"><a id="sthref129" name="sthref129"></a>
<p class="titleinfigure">persistence.xml编辑器</p>
<img src="img/persistence_editor_general.png" alt="persistence.xml编辑器的常规选项卡" title="persistence.xml编辑器的常规选项卡"><br></div>
<!-- class="figure" -->
<div align="center">
<div class="inftblnote"><br>
<table class="Note oac_no_warn" cellpadding="3" cellspacing="0" summary="">
<tbody>
<tr>
<td align="left">
<p class="notep1">注意：</p>
<p>根据您的JPA实现（例如，EclipseLink），persistence.xml编辑器中可能会提供以下页面：</p>
<ul>
<li>
<p><a href="ref_persistence_general.htm#CIACIFGJ">常规</a> - 使用此页面为持久性单元定义类，映射文件和JAR文件。</p>
</li>
<li>
<p><a href="reference054.htm#CIAFFJIE">连接</a> - 使用此页面定义项目的数据源（JTA和非JTA元素）。</p>
</li>
<li>
<p><a href="reference055.htm#CIAJAFEG">自定义</a> - 使用此页面可以定义更改跟踪和会话自定义程序相关的属性。</p>
</li>
<li>
<p><a href="reference056.htm#CIABEDCH">缓存</a> - 使用此页面定义缓存属性。</p>
</li>
<li>
<p><a href="reference057.htm#CIABGHHI">记录</a> - 使用此页面定义记录属性。</p>
</li>
<li>
<p><a href="reference058.htm#CIAFJCHE">选项</a> - 使用此页面定义会话和目标数据库属性。</p>
</li>
<li>
<p><a href="reference059.htm#CIACCFCB">模式生成</a> - 使用此页面定义与DDL相关的属性。</p>
</li>
<li>
<p><a href="reference060.htm#CIAHJDFF">属性</a> - 用于添加或删除特定于供应商的属性。</p>
</li>
<li>
<p><a href="reference061.htm#CIAHCJAH">源</a> - 用于查看或修改<code>persistence.xml</code>文件的XML源。</p>
</li>
</ul>
<p>对于使用EclipseLink JPA实现的项目，Connections页面还包括JDBC连接池属性。</p>
<p>如果项目使用Generic平台，则只有<a href="ref_persistence_general.htm#CIACIFGJ">General</a> ， <a href="reference054.htm#CIAFFJIE">Connection</a> ， <a href="reference060.htm#CIAHJDFF">Properties</a>和<a href="reference061.htm#CIAHCJAH">Source</a>页面可用。</p>
</td>
</tr>
</tbody>
</table>
<br></div>
<!-- class="inftblnote" --></div>
<p>要使用persistence.xml编辑器：</p>
<ol>
<li>
<p>打开<code>peristence.xml</code>文件。将出现编辑器的“ <a href="ref_persistence_general.htm#CIACIFGJ">常规”</a>页面。</p>
</li>
<li>
<p>使用“ <span class="bold">常规”</span>页面定义<code>persistence.xml</code>文件<code>&lt;persistent-unit&gt;</code>相关属性以及<code>&lt;provider&gt;</code>和<code>&lt;class&gt;</code>元素（如下表所述）。</p>
<div align="center">
<div class="inftblnotealso"><br>
<table class="NoteAlso oac_no_warn" cellpadding="3" cellspacing="0" summary="">
<tbody>
<tr>
<td align="left">
<p class="notep1">小费：</p>
<p>persistence.xml Editor的Source页面使您可以查看和编辑原始XML文件。</p>
</td>
</tr>
</tbody>
</table>
<br></div>
<!-- class="inftblnotealso" --></div>
<div class="figure"><a id="sthref130" name="sthref130"></a>
<p class="titleinfigure">persistence.xml编辑器的常规选项卡</p>
<img src="img/persistence_editor_general.png" alt="persistence.xml编辑器的常规选项卡" title="persistence.xml编辑器的常规选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p>完成“ <a href="ref_persistence_general.htm#CIACIFGJ">常规”</a>页面上的每个字段。</p>
</li>
<li>
<p>使用<a href="reference054.htm#CIAFFJIE">Connection</a>页面定义<code>&lt;jta-data-source&gt;</code>和<code>&lt;non-jta-data-source&gt;</code>元素，如下所示：</p>
<p>配置持久性提供程序使用的JTA（Java Transaction API）源：</p>
<ol>
<li>
<p>从“事务类型”列表中选择“ <span class="bold">JTA</span> ”。</p>
</li>
<li>
<p>输入数据源的全局JNDI名称。</p>
</li>
</ol>
<p>要配置非JTA数据源：</p>
<ol>
<li>
<p>从“事务类型”列表中选择“ <span class="bold">资源本地</span> ”</p>
</li>
<li>
<p>输入数据源的全局JNDI名称。</p>
<div align="center">
<div class="inftblnote"><br>
<table class="Note oac_no_warn" cellpadding="3" cellspacing="0" summary="">
<tbody>
<tr>
<td align="left">
<p class="notep1">注意：</p>
<p>选择<span class="bold">Default（）</span>以使用容器提供的数据源。</p>
</td>
</tr>
</tbody>
</table>
<br></div>
<!-- class="inftblnote" --></div>
</li>
</ol>
<p><a id="sthref131" name="sthref131"></a>对于使用Generic平台的项目，您还可以定义EclipseLink连接池驱动程序，连接池驱动程序，URL，用户名和密码。</p>
<div class="figure"><a id="sthref132" name="sthref132"></a>
<p class="titleinfigure">persistence.xml编辑器的Connection选项卡</p>
<img src="img/persistence_editor_connection.png" alt="persistence.xml编辑器的Connection选项卡" title="persistence.xml编辑器的Connection选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p>完成“ <a href="reference054.htm#CIAFFJIE">连接”</a>页面上的每个字段。</p>
</li>
<li>
<p>使用“属性”页面中的表设置特定于供应商的<code>&lt;properties&gt;</code>元素。</p>
<p>要添加<code>&lt;property&gt;</code>元素：</p>
<ol>
<li>
<p>单击<span class="bold">添加</span> 。</p>
</li>
<li>
<p>使用表的Name和Value字段输入<code>&lt;property&gt;</code>元素的<code>&lt;name&gt;</code>和<code>&lt;value&gt;</code>属性。</p>
</li>
</ol>
<p>要删除<code>&lt;property&gt;</code>元素，请在表中选择已定义的属性，然后单击“ <span class="bold">删除”</span> 。</p>
<div align="center">
<div class="inftblnote"><br>
<table class="Note oac_no_warn" cellpadding="3" cellspacing="0" summary="">
<tbody>
<tr>
<td align="left">
<p class="notep1">注意：</p>
<p>如果项目使用EclipseLink平台，则连接页面还包含JDBC连接池的参数。</p>
</td>
</tr>
</tbody>
</table>
<br></div>
<!-- class="inftblnote" --></div>
<div class="figure"><a id="sthref133" name="sthref133"></a>
<p class="titleinfigure">persistence.xml编辑器的自定义选项卡</p>
<img src="img/persistence_editor_customization.png" alt="persistence.xml编辑器的自定义选项卡" title="persistence.xml编辑器的自定义选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p>完成“ <a href="reference055.htm#CIAJAFEG">自定义”</a>页面上的每个字段。</p>
</li>
</ol>
<p>persistence.xml编辑器可能有其他页面，具体取决于您的JPA提供程序。有关更多信息，请参见<a href="ref_persistence_xmll_editor.htm#CIACCHID">“persistence.xml Editor”</a> 。</p>
<ul>
<li>
<p><a href="reference056.htm#CIABEDCH">缓存</a>页面</p>
<div class="figure"><a id="sthref134" name="sthref134"></a>
<p class="titleinfigure">persistence.xml编辑器的缓存选项卡</p>
<img src="img/persistence_editor_caching.png" alt="persistence.xml编辑器 - 缓存选项卡" title="persistence.xml编辑器 - 缓存选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p><a href="reference057.htm#CIABGHHI">记录</a>页面</p>
<div class="figure"><a id="sthref135" name="sthref135"></a>
<p class="titleinfigure">persistence.xml编辑器的日志选项卡</p>
<img src="img/persistence_editor_logging.png" alt="persistence.xml编辑器 - 日志选项卡" title="persistence.xml编辑器 - 日志选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p><a href="reference058.htm#CIAFJCHE">选项</a>页面</p>
<div class="figure"><a id="sthref136" name="sthref136"></a>
<p class="titleinfigure">persistence.xml编辑器的选项选项卡</p>
<img src="img/persistence_editor_options.png" alt="persistence.xml编辑器 - 选项选项卡" title="persistence.xml编辑器 - 选项选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p><a href="reference059.htm#CIACCFCB">架构生成</a>页面</p>
<div class="figure"><a id="sthref137" name="sthref137"></a>
<p class="titleinfigure">persistence.xml编辑器的Schema Generation选项卡</p>
<img src="img/persistence_editor_schemageneration.png" alt="persistence.xml编辑器 - 模式生成选项卡" title="persistence.xml编辑器 - 模式生成选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p><a href="reference060.htm#CIAHJDFF">属性</a>页面</p>
<div class="figure"><a id="sthref138" name="sthref138"></a>
<p class="titleinfigure">persistence.xml编辑器的Properties选项卡</p>
<img src="img/persistence_editor_properties.png" alt="persistence.xml编辑器 - “属性”选项卡" title="persistence.xml编辑器 - “属性”选项卡"><br></div>
<!-- class="figure" --></li>
<li>
<p><a id="sthref139" name="sthref139"></a><a id="sthref140" name="sthref140"></a> <a href="reference061.htm#CIAHCJAH">来源</a>页面</p>
<div class="figure"><a id="sthref141" name="sthref141"></a>
<p class="titleinfigure">persistence.xml编辑器的Source选项卡</p>
<img src="img/persistence_editor_source.png" alt="persistence.xml编辑器 - 源选项卡" title="persistence.xml编辑器 - 源选项卡"><br></div>
<!-- class="figure" --></li>
</ul>
<a id="sthref142" name="sthref142"></a>
<p class="subhead2">相关参考</p>
<ul>
<li>
<p><a href="ref_persistence_xmll_editor.htm#CIACCHID">persistence.xml编辑器</a></p>
</li>
</ul>
<a id="sthref143" name="sthref143"></a>
<p class="subhead2">相关任务</p>
<ul>
<li>
<p><a href="task_manage_persistence001.htm#CIHHEFAI">同步类</a></p>
</li>
</ul>
<a id="sthref144" name="sthref144"></a>
<p class="subhead2">相关概念</p>
<ul>
<li>
<p><a href="concepts002.htm#CHDHAGIH">persistence.xml文件</a></p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<!-- Start Footer -->
<div class="footer">
<table class="simple oac_no_warn" cellspacing="0" cellpadding="0" width="100%" summary="">
<col width="86%">
<col width="*">
<tr>
<td align="left"><span class="copyrightlogo">版权所有©2011,2013，Oracle和/或其附属公司。版权所有。</span><br>
<a href="dcommon/html/cpyr.htm"><span class="copyrightlogo">法律声明</span></a></td>
</tr>
</table>
</div>
<!-- class="footer" -->
</body>
</html>